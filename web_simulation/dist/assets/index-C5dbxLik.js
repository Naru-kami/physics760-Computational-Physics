var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function D(e,t){return E(e.type,t,e.props)}function O(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function k(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var A=/\/+/g;function j(e,t){return typeof e==`object`&&e&&e.key!=null?k(``+e.key):t.toString(36)}function M(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function N(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,N(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+j(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(A,`$&/`)+`/`),N(o,r,i,``,function(e){return e})):o!=null&&(O(o)&&(o=D(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(A,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+j(a,u),c+=N(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+j(a,u++),c+=N(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return N(M(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function P(e,t,n){if(e==null)return e;var r=[],i=0;return N(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function F(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var I=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},L={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=L,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return E(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=O,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:F}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,I)}catch(e){I(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.3`})),u=o(((e,t)=>{t.exports=l()})),d=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,O());else{var t=n(l);t!==null&&j(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function E(){return g?!0:!(e.unstable_now()-T<w)}function D(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&E());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&j(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?O():S=!1}}}var O;if(typeof y==`function`)O=function(){y(D)};else if(typeof MessageChannel<`u`){var k=new MessageChannel,A=k.port2;k.port1.onmessage=D,O=function(){A.postMessage(null)}}else O=function(){_(D,0)};function j(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,j(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,O()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),f=o(((e,t)=>{t.exports=d()})),p=o((e=>{var t=u();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.3`})),m=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((e=>{var t=f(),n=u(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),E=Symbol.for(`react.suspense_list`),D=Symbol.for(`react.memo`),O=Symbol.for(`react.lazy`),k=Symbol.for(`react.activity`),A=Symbol.for(`react.memo_cache_sentinel`),j=Symbol.iterator;function M(e){return typeof e!=`object`||!e?null:(e=j&&e[j]||e[`@@iterator`],typeof e==`function`?e:null)}var N=Symbol.for(`react.client.reference`);function P(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case E:return`SuspenseList`;case k:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case D:return t=e.displayName||null,t===null?P(e.type)||`Memo`:t;case O:t=e._payload,e=e._init;try{return P(e(t))}catch{}}return null}var F=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},z=[],B=-1;function V(e){return{current:e}}function H(e){0>B||(e.current=z[B],z[B]=null,B--)}function U(e,t){B++,z[B]=e.current,e.current=t}var W=V(null),G=V(null),K=V(null),ee=V(null);function q(e,t){switch(U(K,t),U(G,e),U(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Hd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Hd(t),e=Ud(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}H(W),U(W,e)}function J(){H(W),H(G),H(K)}function Y(e){e.memoizedState!==null&&U(ee,e);var t=W.current,n=Ud(t,e.type);t!==n&&(U(G,e),U(W,n))}function te(e){G.current===e&&(H(W),H(G)),ee.current===e&&(H(ee),$f._currentValue=R)}var ne,re;function ie(e){if(ne===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ne=t&&t[1]||``,re=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+ne+e+re}var ae=!1;function oe(e,t){if(!e||ae)return``;ae=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{ae=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?ie(n):``}function se(e,t){switch(e.tag){case 26:case 27:case 5:return ie(e.type);case 16:return ie(`Lazy`);case 13:return e.child!==t&&t!==null?ie(`Suspense Fallback`):ie(`Suspense`);case 19:return ie(`SuspenseList`);case 0:case 15:return oe(e.type,!1);case 11:return oe(e.type.render,!1);case 1:return oe(e.type,!0);case 31:return ie(`Activity`);default:return``}}function ce(e){try{var t=``,n=null;do t+=se(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var le=Object.prototype.hasOwnProperty,ue=t.unstable_scheduleCallback,de=t.unstable_cancelCallback,fe=t.unstable_shouldYield,pe=t.unstable_requestPaint,me=t.unstable_now,he=t.unstable_getCurrentPriorityLevel,ge=t.unstable_ImmediatePriority,_e=t.unstable_UserBlockingPriority,ve=t.unstable_NormalPriority,ye=t.unstable_LowPriority,be=t.unstable_IdlePriority,xe=t.log,Se=t.unstable_setDisableYieldValue,Ce=null,we=null;function Te(e){if(typeof xe==`function`&&Se(e),we&&typeof we.setStrictMode==`function`)try{we.setStrictMode(Ce,e)}catch{}}var Ee=Math.clz32?Math.clz32:De,X=Math.log,Z=Math.LN2;function De(e){return e>>>=0,e===0?32:31-(X(e)/Z|0)|0}var Q=256,Oe=262144,ke=4194304;function Ae(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function je(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=Ae(n))):i=Ae(o):i=Ae(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=Ae(n))):i=Ae(o)):i=Ae(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function Me(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pe(){var e=ke;return ke<<=1,!(ke&62914560)&&(ke=4194304),e}function Fe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ie(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Le(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-Ee(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&Re(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Ee(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function ze(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ee(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Be(e,t){var n=t&-t;return n=n&42?1:Ve(n),(n&(e.suspendedLanes|t))===0?n:0}function Ve(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function He(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Ue(){var e=L.p;return e===0?(e=window.event,e===void 0?32:hp(e.type)):e}function We(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var Ge=Math.random().toString(36).slice(2),Ke=`__reactFiber$`+Ge,qe=`__reactProps$`+Ge,Je=`__reactContainer$`+Ge,Ye=`__reactEvents$`+Ge,Xe=`__reactListeners$`+Ge,Ze=`__reactHandles$`+Ge,Qe=`__reactResources$`+Ge,$e=`__reactMarker$`+Ge;function et(e){delete e[Ke],delete e[qe],delete e[Ye],delete e[Xe],delete e[Ze]}function tt(e){var t=e[Ke];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Je]||n[Ke]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ff(e);e!==null;){if(n=e[Ke])return n;e=ff(e)}return t}e=n,n=e.parentNode}return null}function nt(e){if(e=e[Ke]||e[Je]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function rt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function it(e){var t=e[Qe];return t||=e[Qe]={hoistableStyles:new Map,hoistableScripts:new Map},t}function at(e){e[$e]=!0}var ot=new Set,st={};function ct(e,t){lt(e,t),lt(e+`Capture`,t)}function lt(e,t){for(st[e]=t,e=0;e<t.length;e++)ot.add(t[e])}var ut=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),dt={},ft={};function pt(e){return le.call(ft,e)?!0:le.call(dt,e)?!1:ut.test(e)?ft[e]=!0:(dt[e]=!0,!1)}function mt(e,t,n){if(pt(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function ht(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function gt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function _t(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function vt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function yt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bt(e){if(!e._valueTracker){var t=vt(e)?`checked`:`value`;e._valueTracker=yt(e,t,``+e[t])}}function xt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=vt(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function St(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Ct=/[\n"\\]/g;function wt(e){return e.replace(Ct,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Tt(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+_t(t)):e.value!==``+_t(t)&&(e.value=``+_t(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Dt(e,o,_t(n)):Dt(e,o,_t(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+_t(s):e.removeAttribute(`name`)}function Et(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){bt(e);return}n=n==null?``:``+_t(n),t=t==null?n:``+_t(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),bt(e)}function Dt(e,t,n){t===`number`&&St(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function Ot(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+_t(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function kt(e,t,n){if(t!=null&&(t=``+_t(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+_t(n)}function At(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(F(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=_t(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),bt(e)}function jt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mt=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function Nt(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Mt.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function Pt(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Nt(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Nt(e,o,t[o])}function Ft(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var It=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),Lt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Lt.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function zt(){}var Bt=null;function Vt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ht=null,Ut=null;function Wt(e){var t=nt(e);if(t&&(e=t.stateNode)){var n=e[qe]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Tt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+wt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[qe]||null;if(!a)throw Error(i(90));Tt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&xt(r)}break a;case`textarea`:kt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&Ot(e,!!n.multiple,t,!1)}}}var Gt=!1;function Kt(e,t,n){if(Gt)return e(t,n);Gt=!0;try{return e(t)}finally{if(Gt=!1,(Ht!==null||Ut!==null)&&(vu(),Ht&&(t=Ht,e=Ut,Ut=Ht=null,Wt(t),e)))for(t=0;t<e.length;t++)Wt(e[t])}}function qt(e,t){var n=e.stateNode;if(n===null)return null;var r=n[qe]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var Jt=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),Yt=!1;if(Jt)try{var Xt={};Object.defineProperty(Xt,`passive`,{get:function(){Yt=!0}}),window.addEventListener(`test`,Xt,Xt),window.removeEventListener(`test`,Xt,Xt)}catch{Yt=!1}var Zt=null,Qt=null,$t=null;function en(){if($t)return $t;var e,t=Qt,n=t.length,r,i=`value`in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return $t=i.slice(e,1<r?1-r:void 0)}function tn(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?nn:rn,this.isPropagationStopped=rn,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=an(on),cn=h({},on,{view:0,detail:0}),ln=an(cn),un,dn,fn,pn=h({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==fn&&(fn&&e.type===`mousemove`?(un=e.screenX-fn.screenX,dn=e.screenY-fn.screenY):dn=un=0,fn=e),un)},movementY:function(e){return`movementY`in e?e.movementY:dn}}),mn=an(pn),hn=an(h({},pn,{dataTransfer:0})),gn=an(h({},cn,{relatedTarget:0})),_n=an(h({},on,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=an(h({},on,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),yn=an(h({},on,{data:0})),bn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},xn={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Sn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sn[e])?!!t[e]:!1}function wn(){return Cn}var Tn=an(h({},cn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=tn(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?xn[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(e){return e.type===`keypress`?tn(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?tn(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),En=an(h({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=an(h({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn})),On=an(h({},on,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=an(h({},pn,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=an(h({},on,{newState:0,oldState:0})),jn=[9,13,27,32],Mn=Jt&&`CompositionEvent`in window,Nn=null;Jt&&`documentMode`in document&&(Nn=document.documentMode);var Pn=Jt&&`TextEvent`in window&&!Nn,Fn=Jt&&(!Mn||Nn&&8<Nn&&11>=Nn),In=` `,Ln=!1;function Rn(e,t){switch(e){case`keyup`:return jn.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function zn(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var Bn=!1;function Vn(e,t){switch(e){case`compositionend`:return zn(t);case`keypress`:return t.which===32?(Ln=!0,In):null;case`textInput`:return e=t.data,e===In&&Ln?null:e;default:return null}}function Hn(e,t){if(Bn)return e===`compositionend`||!Mn&&Rn(e,t)?(e=en(),$t=Qt=Zt=null,Bn=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return Fn&&t.locale!==`ko`?null:t.data;default:return null}}var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!Un[e.type]:t===`textarea`}function Gn(e,t,n,r){Ht?Ut?Ut.push(r):Ut=[r]:Ht=r,t=Ed(t,`onChange`),0<t.length&&(n=new sn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var Kn=null,qn=null;function Jn(e){vd(e,0)}function Yn(e){if(xt(rt(e)))return e}function Xn(e,t){if(e===`change`)return t}var Zn=!1;if(Jt){var Qn;if(Jt){var $n=`oninput`in document;if(!$n){var er=document.createElement(`div`);er.setAttribute(`oninput`,`return;`),$n=typeof er.oninput==`function`}Qn=$n}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent(`onpropertychange`,nr),qn=Kn=null)}function nr(e){if(e.propertyName===`value`&&Yn(qn)){var t=[];Gn(t,qn,e,Vt(e)),Kt(Jn,t)}}function rr(e,t,n){e===`focusin`?(tr(),Kn=t,qn=n,Kn.attachEvent(`onpropertychange`,nr)):e===`focusout`&&tr()}function ir(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return Yn(qn)}function ar(e,t){if(e===`click`)return Yn(t)}function or(e,t){if(e===`input`||e===`change`)return Yn(t)}function sr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var cr=typeof Object.is==`function`?Object.is:sr;function lr(e,t){if(cr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!le.call(t,i)||!cr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n=ur(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=ur(n)}}function fr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=St(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=St(e.document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var mr=Jt&&`documentMode`in document&&11>=document.documentMode,hr=null,gr=null,_r=null,vr=!1;function yr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vr||hr==null||hr!==St(r)||(r=hr,`selectionStart`in r&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_r&&lr(_r,r)||(_r=r,r=Ed(gr,`onSelect`),0<r.length&&(t=new sn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var xr={animationend:br(`Animation`,`AnimationEnd`),animationiteration:br(`Animation`,`AnimationIteration`),animationstart:br(`Animation`,`AnimationStart`),transitionrun:br(`Transition`,`TransitionRun`),transitionstart:br(`Transition`,`TransitionStart`),transitioncancel:br(`Transition`,`TransitionCancel`),transitionend:br(`Transition`,`TransitionEnd`)},Sr={},Cr={};Jt&&(Cr=document.createElement(`div`).style,`AnimationEvent`in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),`TransitionEvent`in window||delete xr.transitionend.transition);function wr(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t=xr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Cr)return Sr[e]=t[n];return e}var Tr=wr(`animationend`),Er=wr(`animationiteration`),Dr=wr(`animationstart`),Or=wr(`transitionrun`),kr=wr(`transitionstart`),Ar=wr(`transitioncancel`),jr=wr(`transitionend`),Mr=new Map,Nr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Nr.push(`scrollEnd`);function Pr(e,t){Mr.set(e,t),ct(t,[e])}var Fr=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},Ir=[],Lr=0,Rr=0;function zr(){for(var e=Lr,t=Rr=Lr=0;t<e;){var n=Ir[t];Ir[t++]=null;var r=Ir[t];Ir[t++]=null;var i=Ir[t];Ir[t++]=null;var a=Ir[t];if(Ir[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&Ur(n,i,a)}}function Br(e,t,n,r){Ir[Lr++]=e,Ir[Lr++]=t,Ir[Lr++]=n,Ir[Lr++]=r,Rr|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Vr(e,t,n,r){return Br(e,t,n,r),Wr(e)}function Hr(e,t){return Br(e,null,null,t),Wr(e)}function Ur(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-Ee(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function Wr(e){if(50<lu)throw lu=0,uu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Gr={};function Kr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(e,t,n,r){return new Kr(e,t,n,r)}function Jr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yr(e,t){var n=e.alternate;return n===null?(n=qr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Xr(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Zr(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)Jr(e)&&(s=1);else if(typeof e==`string`)s=Wf(e,n,W.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case k:return e=qr(31,n,t,a),e.elementType=k,e.lanes=o,e;case y:return Qr(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=qr(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=qr(13,n,t,a),e.elementType=T,e.lanes=o,e;case E:return e=qr(19,n,t,a),e.elementType=E,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case D:s=14;break a;case O:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=qr(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Qr(e,t,n,r){return e=qr(7,e,r,t),e.lanes=n,e}function $r(e,t,n){return e=qr(6,e,null,t),e.lanes=n,e}function ei(e){var t=qr(18,null,null,0);return t.stateNode=e,t}function ti(e,t,n){return t=qr(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ni=new WeakMap;function ri(e,t){if(typeof e==`object`&&e){var n=ni.get(e);return n===void 0?(t={value:e,source:t,stack:ce(t)},ni.set(e,t),t):n}return{value:e,source:t,stack:ce(t)}}var ii=[],ai=0,oi=null,si=0,ci=[],li=0,ui=null,di=1,fi=``;function pi(e,t){ii[ai++]=si,ii[ai++]=oi,oi=e,si=t}function mi(e,t,n){ci[li++]=di,ci[li++]=fi,ci[li++]=ui,ui=e;var r=di;e=fi;var i=32-Ee(r)-1;r&=~(1<<i),n+=1;var a=32-Ee(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,di=1<<32-Ee(t)+i|n<<i|r,fi=a+e}else di=1<<a|n<<i|r,fi=e}function hi(e){e.return!==null&&(pi(e,1),mi(e,1,0))}function gi(e){for(;e===oi;)oi=ii[--ai],ii[ai]=null,si=ii[--ai],ii[ai]=null;for(;e===ui;)ui=ci[--li],ci[li]=null,fi=ci[--li],ci[li]=null,di=ci[--li],ci[li]=null}function _i(e,t){ci[li++]=di,ci[li++]=fi,ci[li++]=ui,di=t.id,fi=t.overflow,ui=e}var vi=null,yi=null,bi=!1,xi=null,Si=!1,Ci=Error(i(519));function wi(e){throw Ai(ri(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Ci}function Ti(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ke]=e,t[qe]=r,n){case`dialog`:yd(`cancel`,t),yd(`close`,t);break;case`iframe`:case`object`:case`embed`:yd(`load`,t);break;case`video`:case`audio`:for(n=0;n<gd.length;n++)yd(gd[n],t);break;case`source`:yd(`error`,t);break;case`img`:case`image`:case`link`:yd(`error`,t),yd(`load`,t);break;case`details`:yd(`toggle`,t);break;case`input`:yd(`invalid`,t),Et(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:yd(`invalid`,t);break;case`textarea`:yd(`invalid`,t),At(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Md(t.textContent,n)?(r.popover!=null&&(yd(`beforetoggle`,t),yd(`toggle`,t)),r.onScroll!=null&&yd(`scroll`,t),r.onScrollEnd!=null&&yd(`scrollend`,t),r.onClick!=null&&(t.onclick=zt),t=!0):t=!1,t||wi(e,!0)}function Ei(e){for(vi=e.return;vi;)switch(vi.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:vi=vi.return}}function Di(e){if(e!==vi)return!1;if(!bi)return Ei(e),bi=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Wd(e.type,e.memoizedProps)),n=!n),n&&yi&&wi(e),Ei(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));yi=df(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));yi=df(e)}else t===27?(t=yi,Qd(e.type)?(e=uf,uf=null,yi=e):yi=t):yi=vi?lf(e.stateNode.nextSibling):null;return!0}function Oi(){yi=vi=null,bi=!1}function ki(){var e=xi;return e!==null&&(Yl===null?Yl=e:Yl.push.apply(Yl,e),xi=null),e}function Ai(e){xi===null?xi=[e]:xi.push(e)}var ji=V(null),Mi=null,Ni=null;function Pi(e,t,n){U(ji,t._currentValue),t._currentValue=n}function Fi(e){e._currentValue=ji.current,H(ji)}function Ii(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function Li(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Ii(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Ii(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Ri(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;cr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===ee.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[$f]:e.push($f))}a=a.return}e!==null&&Li(t,e,n,r),t.flags|=262144}function zi(e){for(e=e.firstContext;e!==null;){if(!cr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bi(e){Mi=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Vi(e){return Ui(Mi,e)}function Hi(e,t){return Mi===null&&Bi(e),Ui(e,t)}function Ui(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ni===null){if(e===null)throw Error(i(308));Ni=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ni=Ni.next=t;return n}var Wi=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Gi=t.unstable_scheduleCallback,Ki=t.unstable_NormalPriority,qi={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ji(){return{controller:new Wi,data:new Map,refCount:0}}function Yi(e){e.refCount--,e.refCount===0&&Gi(Ki,function(){e.controller.abort()})}var Xi=null,Zi=0,Qi=0,$i=null;function ea(e,t){if(Xi===null){var n=Xi=[];Zi=0,Qi=ud(),$i={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return Zi++,t.then(ta,ta),t}function ta(){if(--Zi===0&&Xi!==null){$i!==null&&($i.status=`fulfilled`);var e=Xi;Xi=null,Qi=0,$i=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function na(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var ra=I.S;I.S=function(e,t){Ql=me(),typeof t==`object`&&t&&typeof t.then==`function`&&ea(e,t),ra!==null&&ra(e,t)};var ia=V(null);function aa(){var e=ia.current;return e===null?Nl.pooledCache:e}function oa(e,t){t===null?U(ia,ia.current):U(ia,t.pool)}function sa(){var e=aa();return e===null?null:{parent:qi._currentValue,pool:e}}var ca=Error(i(460)),la=Error(i(474)),ua=Error(i(542)),da={then:function(){}};function fa(e){return e=e.status,e===`fulfilled`||e===`rejected`}function pa(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(zt,zt),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,_a(e),e;default:if(typeof t.status==`string`)t.then(zt,zt);else{if(e=Nl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,_a(e),e}throw ha=t,ca}}function ma(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(ha=e,ca):e}}var ha=null;function ga(){if(ha===null)throw Error(i(459));var e=ha;return ha=null,e}function _a(e){if(e===ca||e===ua)throw Error(i(483))}var va=null,ya=0;function ba(e){var t=ya;return ya+=1,va===null&&(va=[]),pa(va,e,t)}function xa(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Sa(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Ca(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=Yr(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=$r(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===O&&ma(i)===t.type)?(t=a(t,n.props),xa(t,n),t.return=e,t):(t=Zr(n.type,n.key,n.props,null,e.mode,r),xa(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=ti(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=Qr(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=$r(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=Zr(t.type,t.key,t.props,null,e.mode,n),xa(n,t),n.return=e,n;case v:return t=ti(t,e.mode,n),t.return=e,t;case O:return t=ma(t),f(e,t,n)}if(F(t)||M(t))return t=Qr(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,ba(t),n);if(t.$$typeof===C)return f(e,Hi(e,t),n);Sa(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case O:return n=ma(n),p(e,t,n,r)}if(F(n)||M(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,ba(n),r);if(n.$$typeof===C)return p(e,t,Hi(e,n),r);Sa(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case O:return r=ma(r),m(e,t,n,r,i)}if(F(r)||M(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,ba(r),i);if(r.$$typeof===C)return m(e,t,n,Hi(t,r),i);Sa(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),bi&&pi(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return bi&&pi(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),bi&&pi(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),bi&&pi(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return bi&&pi(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),bi&&pi(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===O&&ma(l)===r.type){n(e,r.sibling),c=a(r,o.props),xa(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=Qr(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=Zr(o.type,o.key,o.props,null,e.mode,c),xa(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=ti(o,e.mode,c),c.return=e,e=c}return s(e);case O:return o=ma(o),b(e,r,o,c)}if(F(o))return h(e,r,o,c);if(M(o)){if(l=M(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,ba(o),c);if(o.$$typeof===C)return b(e,r,Hi(e,o),c);Sa(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=$r(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{ya=0;var i=b(e,t,n,r);return va=null,i}catch(t){if(t===ca||t===ua)throw t;var a=qr(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var wa=Ca(!0),Ta=Ca(!1),Ea=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ka(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Aa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ml&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Wr(e),Ur(e,null,n),t}return Br(e,r,t,n),Wr(e)}function ja(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ze(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Na=!1;function Pa(){if(Na){var e=$i;if(e!==null)throw e}}function Fa(e,t,n,r){Na=!1;var i=e.updateQueue;Ea=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(Fl&f)===f:(r&f)===f){f!==0&&f===Qi&&(Na=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var m=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m==`function`){d=m.call(_,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m==`function`?m.call(_,d,f):m,f==null)break a;d=h({},d,f);break a;case 2:Ea=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Ul|=o,e.lanes=o,e.memoizedState=d}}function Ia(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function La(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Ia(n[e],t)}var Ra=V(null),za=V(0);function Ba(e,t){e=Vl,U(za,e),U(Ra,t),Vl=e|t.baseLanes}function Va(){U(za,Vl),U(Ra,Ra.current)}function Ha(){Vl=za.current,H(Ra),H(za)}var Ua=V(null),Wa=null;function Ga(e){var t=e.alternate;U(Xa,Xa.current&1),U(Ua,e),Wa===null&&(t===null||Ra.current!==null||t.memoizedState!==null)&&(Wa=e)}function Ka(e){U(Xa,Xa.current),U(Ua,e),Wa===null&&(Wa=e)}function qa(e){e.tag===22?(U(Xa,Xa.current),U(Ua,e),Wa===null&&(Wa=e)):Ja(e)}function Ja(){U(Xa,Xa.current),U(Ua,Ua.current)}function Ya(e){H(Ua),Wa===e&&(Wa=null),H(Xa)}var Xa=V(0);function Za(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||of(n)||sf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qa=0,$a=null,eo=null,to=null,no=!1,ro=!1,io=!1,ao=0,oo=0,so=null,co=0;function lo(){throw Error(i(321))}function uo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function fo(e,t,n,r,i,a){return Qa=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?ks:As,io=!1,a=n(r,i),io=!1,ro&&(a=mo(t,n,r,i)),po(e),a}function po(e){I.H=Os;var t=eo!==null&&eo.next!==null;if(Qa=0,to=eo=$a=null,no=!1,oo=0,so=null,t)throw Error(i(300));e===null||qs||(e=e.dependencies,e!==null&&zi(e)&&(qs=!0))}function mo(e,t,n,r){$a=e;var a=0;do{if(ro&&(so=null),oo=0,ro=!1,25<=a)throw Error(i(301));if(a+=1,to=eo=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}I.H=js,o=t(n,r)}while(ro);return o}function ho(){var e=I.H,t=e.useState()[0];return t=typeof t.then==`function`?So(t):t,e=e.useState()[0],(eo===null?null:eo.memoizedState)!==e&&($a.flags|=1024),t}function go(){var e=ao!==0;return ao=0,e}function _o(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function vo(e){if(no){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}no=!1}Qa=0,to=eo=$a=null,ro=!1,oo=ao=0,so=null}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return to===null?$a.memoizedState=to=e:to=to.next=e,to}function bo(){if(eo===null){var e=$a.alternate;e=e===null?null:e.memoizedState}else e=eo.next;var t=to===null?$a.memoizedState:to.next;if(t!==null)to=t,eo=e;else{if(e===null)throw $a.alternate===null?Error(i(467)):Error(i(310));eo=e,e={memoizedState:eo.memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},to===null?$a.memoizedState=to=e:to=to.next=e}return to}function xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function So(e){var t=oo;return oo+=1,so===null&&(so=[]),e=pa(so,e,t),t=$a,(to===null?t.memoizedState:to.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?ks:As),e}function Co(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return So(e);if(e.$$typeof===C)return Vi(e)}throw Error(i(438,String(e)))}function wo(e){var t=null,n=$a.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=$a.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=xo(),$a.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function To(e,t){return typeof t==`function`?t(e):t}function Eo(e){return Do(bo(),eo,e)}function Do(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(Qa&f)===f:(Fl&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Qi&&(d=!0);else if((Qa&p)===p){u=u.next,p===Qi&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,$a.lanes|=p,Ul|=p;f=u.action,io&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,$a.lanes|=f,Ul|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!cr(o,e.memoizedState)&&(qs=!0,d&&(n=$i,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Oo(e){var t=bo(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);cr(o,t.memoizedState)||(qs=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(e,t,n){var r=$a,a=bo(),o=bi;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!cr((eo||a).memoizedState,n);if(s&&(a.memoizedState=n,qs=!0),a=a.queue,es(Mo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||to!==null&&to.memoizedState.tag&1){if(r.flags|=2048,Yo(9,{destroy:void 0},jo.bind(null,r,a,n,t),null),Nl===null)throw Error(i(349));o||Qa&127||Ao(r,t,n)}return n}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$a.updateQueue,t===null?(t=xo(),$a.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jo(e,t,n,r){t.value=n,t.getSnapshot=r,No(t)&&Po(e)}function Mo(e,t,n){return n(function(){No(t)&&Po(e)})}function No(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!cr(e,n)}catch{return!0}}function Po(e){var t=Hr(e,2);t!==null&&pu(t,e,2)}function Fo(e){var t=yo();if(typeof e==`function`){var n=e;if(e=n(),io){Te(!0);try{n()}finally{Te(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t}function Io(e,t,n,r){return e.baseState=n,Do(e,eo,typeof r==`function`?r:To)}function Lo(e,t,n,r,a){if(Ts(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};I.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Ro(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Ro(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=I.T,o={};I.T=o;try{var s=n(i,r),c=I.S;c!==null&&c(o,s),zo(e,t,s)}catch(n){Vo(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),I.T=a}}else try{a=n(i,r),zo(e,t,a)}catch(n){Vo(e,t,n)}}function zo(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Bo(e,t,n)},function(n){return Vo(e,t,n)}):Bo(e,t,n)}function Bo(e,t,n){t.status=`fulfilled`,t.value=n,Ho(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ro(e,n)))}function Vo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,Ho(t),t=t.next;while(t!==r)}e.action=null}function Ho(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Uo(e,t){return t}function Wo(e,t){if(bi){var n=Nl.formState;if(n!==null){a:{var r=$a;if(bi){if(yi){b:{for(var i=yi,a=Si;i.nodeType!==8;){if(!a){i=null;break b}if(i=lf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){yi=lf(i.nextSibling),r=i.data===`F!`;break a}}wi(r)}r=!1}r&&(t=n[0])}}return n=yo(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:t},n.queue=r,n=Ss.bind(null,$a,r),r.dispatch=n,r=Fo(!1),a=ws.bind(null,$a,!1,r.queue),r=yo(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Lo.bind(null,$a,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Go(e){return Ko(bo(),eo,e)}function Ko(e,t,n){if(t=Do(e,t,Uo)[0],e=Eo(To)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=So(t)}catch(e){throw e===ca?ua:e}else r=t;t=bo();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&($a.flags|=2048,Yo(9,{destroy:void 0},qo.bind(null,i,n),null)),[r,a,e]}function qo(e,t){e.action=t}function Jo(e){var t=bo(),n=eo;if(n!==null)return Ko(t,n,e);bo(),t=t.memoizedState,n=bo();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Yo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=$a.updateQueue,t===null&&(t=xo(),$a.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Xo(){return bo().memoizedState}function Zo(e,t,n,r){var i=yo();$a.flags|=e,i.memoizedState=Yo(1|t,{destroy:void 0},n,r===void 0?null:r)}function Qo(e,t,n,r){var i=bo();r=r===void 0?null:r;var a=i.memoizedState.inst;eo!==null&&r!==null&&uo(r,eo.memoizedState.deps)?i.memoizedState=Yo(t,a,n,r):($a.flags|=e,i.memoizedState=Yo(1|t,a,n,r))}function $o(e,t){Zo(8390656,8,e,t)}function es(e,t){Qo(2048,8,e,t)}function ts(e){$a.flags|=4;var t=$a.updateQueue;if(t===null)t=xo(),$a.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function ns(e){var t=bo().memoizedState;return ts({ref:t,nextImpl:e}),function(){if(Ml&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function rs(e,t){return Qo(4,2,e,t)}function is(e,t){return Qo(4,4,e,t)}function as(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function os(e,t,n){n=n==null?null:n.concat([e]),Qo(4,4,as.bind(null,t,e),n)}function ss(){}function cs(e,t){var n=bo();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&uo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ls(e,t){var n=bo();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&uo(t,r[1]))return r[0];if(r=e(),io){Te(!0);try{e()}finally{Te(!1)}}return n.memoizedState=[r,t],r}function us(e,t,n){return n===void 0||Qa&1073741824&&!(Fl&261930)?e.memoizedState=t:(e.memoizedState=n,e=fu(),$a.lanes|=e,Ul|=e,n)}function ds(e,t,n,r){return cr(n,t)?n:Ra.current===null?!(Qa&42)||Qa&1073741824&&!(Fl&261930)?(qs=!0,e.memoizedState=n):(e=fu(),$a.lanes|=e,Ul|=e,t):(e=us(e,n,r),cr(e,t)||(qs=!0),e)}function fs(e,t,n,r,i){var a=L.p;L.p=a!==0&&8>a?a:8;var o=I.T,s={};I.T=s,ws(e,!1,t,n);try{var c=i(),l=I.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Cs(e,t,na(c,r),du(e)):Cs(e,t,r,du(e))}catch(n){Cs(e,t,{then:function(){},status:`rejected`,reason:n},du())}finally{L.p=a,o!==null&&s.types!==null&&(o.types=s.types),I.T=o}}function ps(){}function ms(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=hs(e).queue;fs(e,a,t,R,n===null?ps:function(){return gs(e),n(r)})}function hs(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:R},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function gs(e){var t=hs(e);t.next===null&&(t=e.alternate.memoizedState),Cs(e,t.next.queue,{},du())}function _s(){return Vi($f)}function vs(){return bo().memoizedState}function ys(){return bo().memoizedState}function bs(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=du();e=ka(n);var r=Aa(t,e,n);r!==null&&(pu(r,t,n),ja(r,t,n)),t={cache:Ji()},e.payload=t;return}t=t.return}}function xs(e,t,n){var r=du();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ts(e)?Es(t,n):(n=Vr(e,t,n,r),n!==null&&(pu(n,e,r),Ds(n,t,r)))}function Ss(e,t,n){Cs(e,t,n,du())}function Cs(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ts(e))Es(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,cr(s,o))return Br(e,t,i,0),Nl===null&&zr(),!1}catch{}if(n=Vr(e,t,i,r),n!==null)return pu(n,e,r),Ds(n,t,r),!0}return!1}function ws(e,t,n,r){if(r={lane:2,revertLane:ud(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ts(e)){if(t)throw Error(i(479))}else t=Vr(e,n,r,2),t!==null&&pu(t,e,2)}function Ts(e){var t=e.alternate;return e===$a||t!==null&&t===$a}function Es(e,t){ro=no=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ds(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ze(e,n)}}var Os={readContext:Vi,use:Co,useCallback:lo,useContext:lo,useEffect:lo,useImperativeHandle:lo,useLayoutEffect:lo,useInsertionEffect:lo,useMemo:lo,useReducer:lo,useRef:lo,useState:lo,useDebugValue:lo,useDeferredValue:lo,useTransition:lo,useSyncExternalStore:lo,useId:lo,useHostTransitionStatus:lo,useFormState:lo,useActionState:lo,useOptimistic:lo,useMemoCache:lo,useCacheRefresh:lo};Os.useEffectEvent=lo;var ks={readContext:Vi,use:Co,useCallback:function(e,t){return yo().memoizedState=[e,t===void 0?null:t],e},useContext:Vi,useEffect:$o,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),Zo(4194308,4,as.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zo(4194308,4,e,t)},useInsertionEffect:function(e,t){Zo(4,2,e,t)},useMemo:function(e,t){var n=yo();t=t===void 0?null:t;var r=e();if(io){Te(!0);try{e()}finally{Te(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=yo();if(n!==void 0){var i=n(t);if(io){Te(!0);try{n(t)}finally{Te(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=xs.bind(null,$a,e),[r.memoizedState,e]},useRef:function(e){var t=yo();return e={current:e},t.memoizedState=e},useState:function(e){e=Fo(e);var t=e.queue,n=Ss.bind(null,$a,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ss,useDeferredValue:function(e,t){return us(yo(),e,t)},useTransition:function(){var e=Fo(!1);return e=fs.bind(null,$a,e.queue,!0,!1),yo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=$a,a=yo();if(bi){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Nl===null)throw Error(i(349));Fl&127||Ao(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,$o(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Yo(9,{destroy:void 0},jo.bind(null,r,o,n,t),null),n},useId:function(){var e=yo(),t=Nl.identifierPrefix;if(bi){var n=fi,r=di;n=(r&~(1<<32-Ee(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=ao++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=co++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:_s,useFormState:Wo,useActionState:Wo,useOptimistic:function(e){var t=yo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ws.bind(null,$a,!0,n),n.dispatch=t,[e,t]},useMemoCache:wo,useCacheRefresh:function(){return yo().memoizedState=bs.bind(null,$a)},useEffectEvent:function(e){var t=yo(),n={impl:e};return t.memoizedState=n,function(){if(Ml&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},As={readContext:Vi,use:Co,useCallback:cs,useContext:Vi,useEffect:es,useImperativeHandle:os,useInsertionEffect:rs,useLayoutEffect:is,useMemo:ls,useReducer:Eo,useRef:Xo,useState:function(){return Eo(To)},useDebugValue:ss,useDeferredValue:function(e,t){return ds(bo(),eo.memoizedState,e,t)},useTransition:function(){var e=Eo(To)[0],t=bo().memoizedState;return[typeof e==`boolean`?e:So(e),t]},useSyncExternalStore:ko,useId:vs,useHostTransitionStatus:_s,useFormState:Go,useActionState:Go,useOptimistic:function(e,t){return Io(bo(),eo,e,t)},useMemoCache:wo,useCacheRefresh:ys};As.useEffectEvent=ns;var js={readContext:Vi,use:Co,useCallback:cs,useContext:Vi,useEffect:es,useImperativeHandle:os,useInsertionEffect:rs,useLayoutEffect:is,useMemo:ls,useReducer:Oo,useRef:Xo,useState:function(){return Oo(To)},useDebugValue:ss,useDeferredValue:function(e,t){var n=bo();return eo===null?us(n,e,t):ds(n,eo.memoizedState,e,t)},useTransition:function(){var e=Oo(To)[0],t=bo().memoizedState;return[typeof e==`boolean`?e:So(e),t]},useSyncExternalStore:ko,useId:vs,useHostTransitionStatus:_s,useFormState:Jo,useActionState:Jo,useOptimistic:function(e,t){var n=bo();return eo===null?(n.baseState=e,[e,n.queue.dispatch]):Io(n,eo,e,t)},useMemoCache:wo,useCacheRefresh:ys};js.useEffectEvent=ns;function Ms(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ns={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=du(),i=ka(r);i.payload=t,n!=null&&(i.callback=n),t=Aa(e,i,r),t!==null&&(pu(t,e,r),ja(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=du(),i=ka(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Aa(e,i,r),t!==null&&(pu(t,e,r),ja(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=du(),r=ka(n);r.tag=2,t!=null&&(r.callback=t),t=Aa(e,r,n),t!==null&&(pu(t,e,n),ja(t,e,n))}};function Ps(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!lr(n,r)||!lr(i,a):!0}function Fs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ns.enqueueReplaceState(t,t.state,null)}function Is(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function Ls(e){Fr(e)}function Rs(e){console.error(e)}function zs(e){Fr(e)}function Bs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Vs(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Hs(e,t,n){return n=ka(n),n.tag=3,n.payload={element:null},n.callback=function(){Bs(e,t)},n}function Us(e){return e=ka(e),e.tag=3,e}function Ws(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Vs(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){Vs(t,n,r),typeof i!=`function`&&(tu===null?tu=new Set([this]):tu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function Gs(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&Ri(t,n,a,!0),n=Ua.current,n!==null){switch(n.tag){case 31:case 13:return Wa===null?Tu():n.alternate===null&&Hl===0&&(Hl=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===da?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Wu(e,r,a)),!1;case 22:return n.flags|=65536,r===da?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Wu(e,r,a)),!1}throw Error(i(435,n.tag))}return Wu(e,r,a),Tu(),!1}if(bi)return t=Ua.current,t===null?(r!==Ci&&(t=Error(i(423),{cause:r}),Ai(ri(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=ri(r,n),a=Hs(e.stateNode,r,a),Ma(e,a),Hl!==4&&(Hl=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Ci&&(e=Error(i(422),{cause:r}),Ai(ri(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=ri(o,n),Jl===null?Jl=[o]:Jl.push(o),Hl!==4&&(Hl=2),t===null)return!0;r=ri(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Hs(n.stateNode,r,e),Ma(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(tu===null||!tu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Us(a),Ws(a,e,n,r),Ma(n,a),!1}n=n.return}while(n!==null);return!1}var Ks=Error(i(461)),qs=!1;function Js(e,t,n,r){t.child=e===null?Ta(t,null,n,r):wa(t,e.child,n,r)}function Ys(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return Bi(t),r=fo(e,t,n,o,a,i),s=go(),e!==null&&!qs?(_o(e,t,i),yc(e,t,i)):(bi&&s&&hi(t),t.flags|=1,Js(e,t,r,i),t.child)}function Xs(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!Jr(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,Zs(e,t,a,r,i)):(e=Zr(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!bc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?lr:n,n(o,r)&&e.ref===t.ref)return yc(e,t,i)}return t.flags|=1,e=Yr(a,r),e.ref=t.ref,e.return=t,t.child=e}function Zs(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref)if(qs=!1,t.pendingProps=r=a,bc(e,i))e.flags&131072&&(qs=!0);else return t.lanes=e.lanes,yc(e,t,i)}return ac(e,t,n,r,i)}function Qs(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return ec(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&oa(t,a===null?null:a.cachePool),a===null?Va():Ba(t,a),qa(t);else return r=t.lanes=536870912,ec(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&oa(t,null),Va(),Ja(t)):(oa(t,a.cachePool),Ba(t,a),Ja(t),t.memoizedState=null);return Js(e,t,i,n),t.child}function $s(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ec(e,t,n,r,i){var a=aa();return a=a===null?null:{parent:qi._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&oa(t,null),Va(),qa(t),e!==null&&Ri(e,t,r,!0),t.childLanes=i,null}function tc(e,t){return t=mc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function nc(e,t,n){return wa(t,e.child,null,n),e=tc(t,t.pendingProps),e.flags|=2,Ya(t),t.memoizedState=null,e}function rc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(bi){if(r.mode===`hidden`)return e=tc(t,r),t.lanes=536870912,$s(null,e);if(Ka(t),(e=yi)?(e=af(e,Si),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui===null?null:{id:di,overflow:fi},retryLane:536870912,hydrationErrors:null},n=ei(e),n.return=t,t.child=n,vi=t,yi=null)):e=null,e===null)throw wi(t);return t.lanes=536870912,null}return tc(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(Ka(t),a)if(t.flags&256)t.flags&=-257,t=nc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(qs||Ri(e,t,n,!1),a=(n&e.childLanes)!==0,qs||a){if(r=Nl,r!==null&&(s=Be(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,Hr(e,s),pu(r,e,s),Ks;Tu(),t=nc(e,t,n)}else e=o.treeContext,yi=lf(s.nextSibling),vi=t,bi=!0,xi=null,Si=!1,e!==null&&_i(t,e),t=tc(t,r),t.flags|=4096;return t}return e=Yr(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ic(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function ac(e,t,n,r,i){return Bi(t),n=fo(e,t,n,r,void 0,i),r=go(),e!==null&&!qs?(_o(e,t,i),yc(e,t,i)):(bi&&r&&hi(t),t.flags|=1,Js(e,t,n,i),t.child)}function oc(e,t,n,r,i,a){return Bi(t),t.updateQueue=null,n=mo(t,r,n,i),po(e),r=go(),e!==null&&!qs?(_o(e,t,a),yc(e,t,a)):(bi&&r&&hi(t),t.flags|=1,Js(e,t,n,a),t.child)}function sc(e,t,n,r,i){if(Bi(t),t.stateNode===null){var a=Gr,o=n.contextType;typeof o==`object`&&o&&(a=Vi(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ns,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Da(t),o=n.contextType,a.context=typeof o==`object`&&o?Vi(o):Gr,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Ms(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Ns.enqueueReplaceState(a,a.state,null),Fa(t,r,a,i),Pa(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=Is(n,s);a.props=c;var l=a.context,u=n.contextType;o=Gr,typeof u==`object`&&u&&(o=Vi(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Fs(t,a,r,o),Ea=!1;var f=t.memoizedState;a.state=f,Fa(t,r,a,i),Pa(),l=t.memoizedState,s||f!==l||Ea?(typeof d==`function`&&(Ms(t,n,d,r),l=t.memoizedState),(c=Ea||Ps(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Oa(e,t),o=t.memoizedProps,u=Is(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=Gr,typeof l==`object`&&l&&(c=Vi(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Fs(t,a,r,c),Ea=!1,f=t.memoizedState,a.state=f,Fa(t,r,a,i),Pa();var p=t.memoizedState;o!==d||f!==p||Ea||e!==null&&e.dependencies!==null&&zi(e.dependencies)?(typeof s==`function`&&(Ms(t,n,s,r),p=t.memoizedState),(u=Ea||Ps(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&zi(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,ic(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=wa(t,e.child,null,i),t.child=wa(t,null,n,i)):Js(e,t,n,i),t.memoizedState=a.state,e=t.child):e=yc(e,t,i),e}function cc(e,t,n,r){return Oi(),t.flags|=256,Js(e,t,n,r),t.child}var lc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uc(e){return{baseLanes:e,cachePool:sa()}}function dc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=Kl),e}function fc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(Xa.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(bi){if(a?Ga(t):Ja(t),(e=yi)?(e=af(e,Si),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui===null?null:{id:di,overflow:fi},retryLane:536870912,hydrationErrors:null},n=ei(e),n.return=t,t.child=n,vi=t,yi=null)):e=null,e===null)throw wi(t);return sf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?(Ja(t),a=t.mode,c=mc({mode:`hidden`,children:c},a),r=Qr(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=uc(n),r.childLanes=dc(e,s,n),t.memoizedState=lc,$s(null,r)):(Ga(t),pc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(Ga(t),t.flags&=-257,t=hc(e,t,n)):t.memoizedState===null?(Ja(t),c=r.fallback,a=t.mode,r=mc({mode:`visible`,children:r.children},a),c=Qr(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,wa(t,e.child,null,n),r=t.child,r.memoizedState=uc(n),r.childLanes=dc(e,s,n),t.memoizedState=lc,t=$s(null,r)):(Ja(t),t.child=e.child,t.flags|=128,t=null);else if(Ga(t),sf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Ai({value:r,source:null,stack:null}),t=hc(e,t,n)}else if(qs||Ri(e,t,n,!1),s=(n&e.childLanes)!==0,qs||s){if(s=Nl,s!==null&&(r=Be(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Hr(e,r),pu(s,e,r),Ks;of(c)||Tu(),t=hc(e,t,n)}else of(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,yi=lf(c.nextSibling),vi=t,bi=!0,xi=null,Si=!1,e!==null&&_i(t,e),t=pc(t,r.children),t.flags|=4096);return t}return a?(Ja(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=Yr(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=Qr(c,a,n,null),c.flags|=2):c=Yr(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,$s(null,r),r=t.child,c=e.child.memoizedState,c===null?c=uc(n):(a=c.cachePool,a===null?a=sa():(l=qi._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=dc(e,s,n),t.memoizedState=lc,$s(e.child,r)):(Ga(t),n=e.child,e=n.sibling,n=Yr(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function pc(e,t){return t=mc({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function mc(e,t){return e=qr(22,e,null,t),e.lanes=0,e}function hc(e,t,n){return wa(t,e.child,null,n),e=pc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ii(e.return,t,n)}function _c(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function vc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=Xa.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,U(Xa,o),Js(e,t,r,n),r=bi?si:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gc(e,n,t);else if(e.tag===19)gc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Za(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),_c(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Za(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}_c(t,!0,n,null,a,r);break;case`together`:_c(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function yc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ul|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ri(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=Yr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function bc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&zi(e))):!0}function xc(e,t,n){switch(t.tag){case 3:q(t,t.stateNode.containerInfo),Pi(t,qi,e.memoizedState.cache),Oi();break;case 27:case 5:Y(t);break;case 4:q(t,t.stateNode.containerInfo);break;case 10:Pi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ka(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(Ga(t),e=yc(e,t,n),e===null?null:e.sibling):fc(e,t,n):(Ga(t),t.flags|=128,null);Ga(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(Ri(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return vc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),U(Xa,Xa.current),r)break;return null;case 22:return t.lanes=0,Qs(e,t,n,t.pendingProps);case 24:Pi(t,qi,e.memoizedState.cache)}return yc(e,t,n)}function Sc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)qs=!0;else{if(!bc(e,n)&&!(t.flags&128))return qs=!1,xc(e,t,n);qs=!!(e.flags&131072)}else qs=!1,bi&&t.flags&1048576&&mi(t,si,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=ma(t.elementType),t.type=e,typeof e==`function`)Jr(e)?(r=Is(e,r),t.tag=1,t=sc(null,t,e,r,n)):(t.tag=0,t=ac(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=Ys(null,t,e,r,n);break a}else if(a===D){t.tag=14,t=Xs(null,t,e,r,n);break a}}throw t=P(e)||e,Error(i(306,t,``))}}return t;case 0:return ac(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=Is(r,t.pendingProps),sc(e,t,r,a,n);case 3:a:{if(q(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Oa(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Pi(t,qi,r),r!==o.cache&&Li(t,[qi],n,!0),Pa(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=cc(e,t,r,n);break a}else if(r!==a){a=ri(Error(i(424)),t),Ai(a),t=cc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(yi=lf(e.firstChild),vi=t,bi=!0,xi=null,Si=!0,n=Ta(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Oi(),r===a){t=yc(e,t,n);break a}Js(e,t,r,n)}t=t.child}return t;case 26:return ic(e,t),e===null?(n=Af(t.type,null,t.pendingProps,null))?t.memoizedState=n:bi||(n=t.type,e=t.pendingProps,r=Vd(K.current).createElement(n),r[Ke]=t,r[qe]=e,Fd(r,n,e),at(r),t.stateNode=r):t.memoizedState=Af(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),e===null&&bi&&(r=t.stateNode=pf(t.type,t.pendingProps,K.current),vi=t,Si=!0,a=yi,Qd(t.type)?(uf=a,yi=lf(r.firstChild)):yi=a),Js(e,t,t.pendingProps.children,n),ic(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&bi&&((a=r=yi)&&(r=nf(r,t.type,t.pendingProps,Si),r===null?a=!1:(t.stateNode=r,vi=t,yi=lf(r.firstChild),Si=!1,a=!0)),a||wi(t)),Y(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Wd(a,o)?r=null:s!==null&&Wd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=fo(e,t,ho,null,null,n),$f._currentValue=a),ic(e,t),Js(e,t,r,n),t.child;case 6:return e===null&&bi&&((e=n=yi)&&(n=rf(n,t.pendingProps,Si),n===null?e=!1:(t.stateNode=n,vi=t,yi=null,e=!0)),e||wi(t)),null;case 13:return fc(e,t,n);case 4:return q(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=wa(t,null,r,n):Js(e,t,r,n),t.child;case 11:return Ys(e,t,t.type,t.pendingProps,n);case 7:return Js(e,t,t.pendingProps,n),t.child;case 8:return Js(e,t,t.pendingProps.children,n),t.child;case 12:return Js(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Pi(t,t.type,r.value),Js(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Bi(t),a=Vi(a),r=r(a),t.flags|=1,Js(e,t,r,n),t.child;case 14:return Xs(e,t,t.type,t.pendingProps,n);case 15:return Zs(e,t,t.type,t.pendingProps,n);case 19:return vc(e,t,n);case 31:return rc(e,t,n);case 22:return Qs(e,t,n,t.pendingProps);case 24:return Bi(t),r=Vi(qi),e===null?(a=aa(),a===null&&(a=Nl,o=Ji(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Da(t),Pi(t,qi,a)):((e.lanes&n)!==0&&(Oa(e,t),Fa(t,null,null,n),Pa()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,Pi(t,qi,r),r!==a.cache&&Li(t,[qi],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Pi(t,qi,r))),Js(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Cc(e){e.flags|=4}function wc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Su())e.flags|=8192;else throw ha=da,la}else e.flags&=-16777217}function Tc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Gf(t))if(Su())e.flags|=8192;else throw ha=da,la}function Ec(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:Pe(),e.lanes|=t,ql|=t)}function Dc(e,t){if(!bi)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kc(e,t,n){var r=t.pendingProps;switch(gi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oc(t),null;case 1:return Oc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Fi(qi),J(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Di(t)?Cc(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ki())),Oc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Cc(t),o===null?(Oc(t),wc(t,a,null,r,n)):(Oc(t),Tc(t,o))):o?o===e.memoizedState?(Oc(t),t.flags&=-16777217):(Cc(t),Oc(t),Tc(t,o)):(e=e.memoizedProps,e!==r&&Cc(t),Oc(t),wc(t,a,e,r,n)),null;case 27:if(te(t),n=K.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Cc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Oc(t),null}e=W.current,Di(t)?Ti(t,e):(e=pf(a,r,n),t.stateNode=e,Cc(t))}return Oc(t),null;case 5:if(te(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Cc(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return Oc(t),null}if(o=W.current,Di(t))Ti(t,o);else{var s=Vd(K.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[Ke]=t,o[qe]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Fd(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Cc(t)}}return Oc(t),wc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Cc(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=K.current,Di(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=vi,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Ke]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Md(e.nodeValue,n)),e||wi(t,!0)}else e=Vd(e).createTextNode(r),e[Ke]=t,t.stateNode=e}return Oc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Di(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[Ke]=t}else Oi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oc(t),e=!1}else n=ki(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ya(t),t):(Ya(t),null);if(t.flags&128)throw Error(i(558))}return Oc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Di(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[Ke]=t}else Oi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Oc(t),a=!1}else a=ki(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(Ya(t),t):(Ya(t),null)}return Ya(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ec(t,t.updateQueue),Oc(t),null);case 4:return J(),e===null&&Sd(t.stateNode.containerInfo),Oc(t),null;case 10:return Fi(t.type),Oc(t),null;case 19:if(H(Xa),r=t.memoizedState,r===null)return Oc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Dc(r,!1);else{if(Hl!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Za(e),o!==null){for(t.flags|=128,Dc(r,!1),e=o.updateQueue,t.updateQueue=e,Ec(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Xr(n,e),n=n.sibling;return U(Xa,Xa.current&1|2),bi&&pi(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&me()>$l&&(t.flags|=128,a=!0,Dc(r,!1),t.lanes=4194304)}else{if(!a)if(e=Za(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Ec(t,e),Dc(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!bi)return Oc(t),null}else 2*me()-r.renderingStartTime>$l&&n!==536870912&&(t.flags|=128,a=!0,Dc(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(Oc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=me(),e.sibling=null,n=Xa.current,U(Xa,a?n&1|2:n&1),bi&&pi(t,r.treeForkCount),e);case 22:case 23:return Ya(t),Ha(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(Oc(t),t.subtreeFlags&6&&(t.flags|=8192)):Oc(t),n=t.updateQueue,n!==null&&Ec(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&H(ia),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Fi(qi),Oc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Ac(e,t){switch(gi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fi(qi),J(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return te(t),null;case 31:if(t.memoizedState!==null){if(Ya(t),t.alternate===null)throw Error(i(340));Oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ya(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(Xa),null;case 4:return J(),null;case 10:return Fi(t.type),null;case 22:case 23:return Ya(t),Ha(),e!==null&&H(ia),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Fi(qi),null;case 25:return null;default:return null}}function jc(e,t){switch(gi(t),t.tag){case 3:Fi(qi),J();break;case 26:case 27:case 5:te(t);break;case 4:J();break;case 31:t.memoizedState!==null&&Ya(t);break;case 13:Ya(t);break;case 19:H(Xa);break;case 10:Fi(t.type);break;case 22:case 23:Ya(t),Ha(),e!==null&&H(ia);break;case 24:Fi(qi)}}function Mc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Uu(t,t.return,e)}}function Nc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Uu(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Uu(t,t.return,e)}}function Pc(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{La(t,n)}catch(t){Uu(e,e.return,t)}}}function Fc(e,t,n){n.props=Is(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Uu(e,t,n)}}function Ic(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Uu(e,t,n)}}function Lc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Uu(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Uu(e,t,n)}else n.current=null}function Rc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Uu(e,e.return,t)}}function zc(e,t,n){try{var r=e.stateNode;Id(r,e.type,n,t),r[qe]=t}catch(t){Uu(e,e.return,t)}}function Bc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qd(e.type)||e.tag===4}function Vc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Bc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qd(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zt));else if(r!==4&&(r===27&&Qd(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Hc(e,t,n),e=e.sibling;e!==null;)Hc(e,t,n),e=e.sibling}function Uc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Qd(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Uc(e,t,n),e=e.sibling;e!==null;)Uc(e,t,n),e=e.sibling}function Wc(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Fd(t,r,n),t[Ke]=e,t[qe]=n}catch(t){Uu(e,e.return,t)}}var Gc=!1,Kc=!1,qc=!1,Jc=typeof WeakSet==`function`?WeakSet:Set,Yc=null;function Xc(e,t){if(e=e.containerInfo,zd=cp,e=$(e),pr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Bd={focusedElem:e,selectionRange:n},cp=!1,Yc=t;Yc!==null;)if(t=Yc,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,Yc=e;else for(;Yc!==null;){switch(t=Yc,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=Is(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Uu(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)tf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:tf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Yc=e;break}Yc=t.return}}function Zc(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:fl(e,n),r&4&&Mc(5,n);break;case 1:if(fl(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Uu(n,n.return,e)}else{var i=Is(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Uu(n,n.return,e)}}r&64&&Pc(n),r&512&&Ic(n,n.return);break;case 3:if(fl(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{La(e,t)}catch(e){Uu(n,n.return,e)}}break;case 27:t===null&&r&4&&Wc(n);case 26:case 5:fl(e,n),t===null&&r&4&&Rc(n),r&512&&Ic(n,n.return);break;case 12:fl(e,n);break;case 31:fl(e,n),r&4&&rl(e,n);break;case 13:fl(e,n),r&4&&il(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=qu.bind(null,n),cf(e,n))));break;case 22:if(r=n.memoizedState!==null||Gc,!r){t=t!==null&&t.memoizedState!==null||Kc,i=Gc;var a=Kc;Gc=r,(Kc=t)&&!a?ml(e,n,(n.subtreeFlags&8772)!=0):fl(e,n),Gc=i,Kc=a}break;case 30:break;default:fl(e,n)}}function Qc(e){var t=e.alternate;t!==null&&(e.alternate=null,Qc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&et(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $c=null,el=!1;function tl(e,t,n){for(n=n.child;n!==null;)nl(e,t,n),n=n.sibling}function nl(e,t,n){if(we&&typeof we.onCommitFiberUnmount==`function`)try{we.onCommitFiberUnmount(Ce,n)}catch{}switch(n.tag){case 26:Kc||Lc(n,t),tl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Kc||Lc(n,t);var r=$c,i=el;Qd(n.type)&&($c=n.stateNode,el=!1),tl(e,t,n),mf(n.stateNode),$c=r,el=i;break;case 5:Kc||Lc(n,t);case 6:if(r=$c,i=el,$c=null,tl(e,t,n),$c=r,el=i,$c!==null)if(el)try{($c.nodeType===9?$c.body:$c.nodeName===`HTML`?$c.ownerDocument.body:$c).removeChild(n.stateNode)}catch(e){Uu(n,t,e)}else try{$c.removeChild(n.stateNode)}catch(e){Uu(n,t,e)}break;case 18:$c!==null&&(el?(e=$c,$d(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Pp(e)):$d($c,n.stateNode));break;case 4:r=$c,i=el,$c=n.stateNode.containerInfo,el=!0,tl(e,t,n),$c=r,el=i;break;case 0:case 11:case 14:case 15:Nc(2,n,t),Kc||Nc(4,n,t),tl(e,t,n);break;case 1:Kc||(Lc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Fc(n,t,r)),tl(e,t,n);break;case 21:tl(e,t,n);break;case 22:Kc=(r=Kc)||n.memoizedState!==null,tl(e,t,n),Kc=r;break;default:tl(e,t,n)}}function rl(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pp(e)}catch(e){Uu(t,t.return,e)}}}function il(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pp(e)}catch(e){Uu(t,t.return,e)}}function al(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jc),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jc),t;default:throw Error(i(435,e.tag))}}function ol(e,t){var n=al(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Ju.bind(null,e,t);t.then(r,r)}})}function sl(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(Qd(c.type)){$c=c.stateNode,el=!1;break a}break;case 5:$c=c.stateNode,el=!1;break a;case 3:case 4:$c=c.stateNode.containerInfo,el=!0;break a}c=c.return}if($c===null)throw Error(i(160));nl(o,s,a),$c=null,el=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ll(t,e),t=t.sibling}var cl=null;function ll(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sl(t,e),ul(e),r&4&&(Nc(3,e,e.return),Mc(3,e),Nc(5,e,e.return));break;case 1:sl(t,e),ul(e),r&512&&(Kc||n===null||Lc(n,n.return)),r&64&&Gc&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=cl;if(sl(t,e),ul(e),r&512&&(Kc||n===null||Lc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[$e]||o[Ke]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Fd(o,r,n),o[Ke]=e,at(o),r=o;break a;case`link`:var s=Hf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Fd(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Hf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Fd(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[Ke]=e,at(o),r=o}e.stateNode=r}else Uf(a,e.type,e.stateNode);else e.stateNode=Lf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&zc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Uf(a,e.type,e.stateNode):Lf(a,r,e.memoizedProps))}break;case 27:sl(t,e),ul(e),r&512&&(Kc||n===null||Lc(n,n.return)),n!==null&&r&4&&zc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(sl(t,e),ul(e),r&512&&(Kc||n===null||Lc(n,n.return)),e.flags&32){a=e.stateNode;try{jt(a,``)}catch(t){Uu(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,zc(e,a,n===null?a:n.memoizedProps)),r&1024&&(qc=!0);break;case 6:if(sl(t,e),ul(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Uu(e,e.return,t)}}break;case 3:if(Vf=null,a=cl,cl=_f(t.containerInfo),sl(t,e),cl=a,ul(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pp(t.containerInfo)}catch(t){Uu(e,e.return,t)}qc&&(qc=!1,dl(e));break;case 4:r=cl,cl=_f(e.stateNode.containerInfo),sl(t,e),ul(e),cl=r;break;case 12:sl(t,e),ul(e);break;case 31:sl(t,e),ul(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ol(e,r)));break;case 13:sl(t,e),ul(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Zl=me()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ol(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Gc,d=Kc;if(Gc=u||a,Kc=d||l,sl(t,e),Kc=d,Gc=u,ul(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||Gc||Kc||pl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Uu(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Uu(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?ef(m,!0):ef(l.stateNode,!1)}catch(e){Uu(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ol(e,n))));break;case 19:sl(t,e),ul(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ol(e,r)));break;case 30:break;case 21:break;default:sl(t,e),ul(e)}}function ul(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Bc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;Uc(e,Vc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(jt(o,``),n.flags&=-33),Uc(e,Vc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Hc(e,Vc(e),s);break;default:throw Error(i(161))}}catch(t){Uu(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;dl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Zc(e,t.alternate,t),t=t.sibling}function pl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Nc(4,t,t.return),pl(t);break;case 1:Lc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Fc(t,t.return,n),pl(t);break;case 27:mf(t.stateNode);case 26:case 5:Lc(t,t.return),pl(t);break;case 22:t.memoizedState===null&&pl(t);break;case 30:pl(t);break;default:pl(t)}e=e.sibling}}function ml(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:ml(i,a,n),Mc(4,a);break;case 1:if(ml(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Uu(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Ia(c[i],s)}catch(e){Uu(r,r.return,e)}}n&&o&64&&Pc(a),Ic(a,a.return);break;case 27:Wc(a);case 26:case 5:ml(i,a,n),n&&r===null&&o&4&&Rc(a),Ic(a,a.return);break;case 12:ml(i,a,n);break;case 31:ml(i,a,n),n&&o&4&&rl(i,a);break;case 13:ml(i,a,n),n&&o&4&&il(i,a);break;case 22:a.memoizedState===null&&ml(i,a,n),Ic(a,a.return);break;case 30:break;default:ml(i,a,n)}t=t.sibling}}function hl(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Yi(n))}function _l(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yi(e))}function vl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yl(e,t,n,r),t=t.sibling}function yl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:vl(e,t,n,r),i&2048&&Mc(9,t);break;case 1:vl(e,t,n,r);break;case 3:vl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yi(e)));break;case 12:if(i&2048){vl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Uu(t,t.return,e)}}else vl(e,t,n,r);break;case 31:vl(e,t,n,r);break;case 13:vl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?vl(e,t,n,r):(a._visibility|=2,bl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?vl(e,t,n,r):xl(e,t),i&2048&&hl(o,t);break;case 24:vl(e,t,n,r),i&2048&&_l(t.alternate,t);break;default:vl(e,t,n,r)}}function bl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:bl(a,o,s,c,i),Mc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,bl(a,o,s,c,i)):u._visibility&2?bl(a,o,s,c,i):xl(a,o),i&&l&2048&&hl(o.alternate,o);break;case 24:bl(a,o,s,c,i),i&&l&2048&&_l(o.alternate,o);break;default:bl(a,o,s,c,i)}t=t.sibling}}function xl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:xl(n,r),i&2048&&hl(r.alternate,r);break;case 24:xl(n,r),i&2048&&_l(r.alternate,r);break;default:xl(n,r)}t=t.sibling}}var Sl=8192;function Cl(e,t,n){if(e.subtreeFlags&Sl)for(e=e.child;e!==null;)wl(e,t,n),e=e.sibling}function wl(e,t,n){switch(e.tag){case 26:Cl(e,t,n),e.flags&Sl&&e.memoizedState!==null&&Kf(n,cl,e.memoizedState,e.memoizedProps);break;case 5:Cl(e,t,n);break;case 3:case 4:var r=cl;cl=_f(e.stateNode.containerInfo),Cl(e,t,n),cl=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Sl,Sl=16777216,Cl(e,t,n),Sl=r):Cl(e,t,n));break;default:Cl(e,t,n)}}function Tl(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function El(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Yc=r,kl(r,e)}Tl(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dl(e),e=e.sibling}function Dl(e){switch(e.tag){case 0:case 11:case 15:El(e),e.flags&2048&&Nc(9,e,e.return);break;case 3:El(e);break;case 12:El(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ol(e)):El(e);break;default:El(e)}}function Ol(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Yc=r,kl(r,e)}Tl(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Nc(8,t,t.return),Ol(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ol(t));break;default:Ol(t)}e=e.sibling}}function kl(e,t){for(;Yc!==null;){var n=Yc;switch(n.tag){case 0:case 11:case 15:Nc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Yi(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Yc=r;else a:for(n=e;Yc!==null;){r=Yc;var i=r.sibling,a=r.return;if(Qc(r),r===n){Yc=null;break a}if(i!==null){i.return=a,Yc=i;break a}Yc=a}}}var Al={getCacheForType:function(e){var t=Vi(qi),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Vi(qi).controller.signal}},jl=typeof WeakMap==`function`?WeakMap:Map,Ml=0,Nl=null,Pl=null,Fl=0,Il=0,Ll=null,Rl=!1,zl=!1,Bl=!1,Vl=0,Hl=0,Ul=0,Wl=0,Gl=0,Kl=0,ql=0,Jl=null,Yl=null,Xl=!1,Zl=0,Ql=0,$l=1/0,eu=null,tu=null,nu=0,ru=null,iu=null,au=0,ou=0,su=null,cu=null,lu=0,uu=null;function du(){return Ml&2&&Fl!==0?Fl&-Fl:I.T===null?Ue():ud()}function fu(){if(Kl===0)if(!(Fl&536870912)||bi){var e=Oe;Oe<<=1,!(Oe&3932160)&&(Oe=262144),Kl=e}else Kl=536870912;return e=Ua.current,e!==null&&(e.flags|=32),Kl}function pu(e,t,n){(e===Nl&&(Il===2||Il===9)||e.cancelPendingCommit!==null)&&(bu(e,0),_u(e,Fl,Kl,!1)),Ie(e,n),(!(Ml&2)||e!==Nl)&&(e===Nl&&(!(Ml&2)&&(Wl|=n),Hl===4&&_u(e,Fl,Kl,!1)),nd(e))}function mu(e,t,n){if(Ml&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||Me(e,t),a=r?Ou(e,t):Eu(e,t,!0),o=r;do{if(a===0){zl&&!r&&_u(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!gu(n)){a=Eu(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=Jl;var l=c.current.memoizedState.isDehydrated;if(l&&(bu(c,s).flags|=256),s=Eu(c,s,!1),s!==2){if(Bl&&!l){c.errorRecoveryDisabledLanes|=o,Wl|=o,a=4;break a}o=Yl,Yl=a,o!==null&&(Yl===null?Yl=o:Yl.push.apply(Yl,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){bu(e,0),_u(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:_u(r,t,Kl,!Rl);break a;case 2:Yl=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=Zl+300-me(),10<a)){if(_u(r,t,Kl,!Rl),je(r,0,!0)!==0)break a;au=t,r.timeoutHandle=qd(hu.bind(null,r,n,Yl,eu,Xl,t,Kl,Wl,ql,Rl,o,`Throttled`,-0,0),a);break a}hu(r,n,Yl,eu,Xl,t,Kl,Wl,ql,Rl,o,null,-0,0)}}break}while(1);nd(e)}function hu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zt},wl(t,a,d);var m=(a&62914560)===a?Zl-me():(a&4194048)===a?Ql-me():0;if(m=Jf(d,m),m!==null){au=a,e.cancelPendingCommit=m(Fu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),_u(e,a,o,!l);return}}Fu(e,t,a,n,r,i,o,s,c)}function gu(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!cr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _u(e,t,n,r){t&=~Gl,t&=~Wl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-Ee(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&Re(e,n,t)}function vu(){return Ml&6?!0:(rd(0,!1),!1)}function yu(){if(Pl!==null){if(Il===0)var e=Pl.return;else e=Pl,Ni=Mi=null,vo(e),va=null,ya=0,e=Pl;for(;e!==null;)jc(e.alternate,e),e=e.return;Pl=null}}function bu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Jd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),au=0,yu(),Nl=e,Pl=n=Yr(e.current,null),Fl=t,Il=0,Ll=null,Rl=!1,zl=Me(e,t),Bl=!1,ql=Kl=Gl=Wl=Ul=Hl=0,Yl=Jl=null,Xl=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-Ee(r),a=1<<i;t|=e[i],r&=~a}return Vl=t,zr(),n}function xu(e,t){$a=null,I.H=Os,t===ca||t===ua?(t=ga(),Il=3):t===la?(t=ga(),Il=4):Il=t===Ks?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Ll=t,Pl===null&&(Hl=1,Bs(e,ri(t,e.current)))}function Su(){var e=Ua.current;return e===null?!0:(Fl&4194048)===Fl?Wa===null:(Fl&62914560)===Fl||Fl&536870912?e===Wa:!1}function Cu(){var e=I.H;return I.H=Os,e===null?Os:e}function wu(){var e=I.A;return I.A=Al,e}function Tu(){Hl=4,Rl||(Fl&4194048)!==Fl&&Ua.current!==null||(zl=!0),!(Ul&134217727)&&!(Wl&134217727)||Nl===null||_u(Nl,Fl,Kl,!1)}function Eu(e,t,n){var r=Ml;Ml|=2;var i=Cu(),a=wu();(Nl!==e||Fl!==t)&&(eu=null,bu(e,t)),t=!1;var o=Hl;a:do try{if(Il!==0&&Pl!==null){var s=Pl,c=Ll;switch(Il){case 8:yu(),o=6;break a;case 3:case 2:case 9:case 6:Ua.current===null&&(t=!0);var l=Il;if(Il=0,Ll=null,Mu(e,s,c,l),n&&zl){o=0;break a}break;default:l=Il,Il=0,Ll=null,Mu(e,s,c,l)}}Du(),o=Hl;break}catch(t){xu(e,t)}while(1);return t&&e.shellSuspendCounter++,Ni=Mi=null,Ml=r,I.H=i,I.A=a,Pl===null&&(Nl=null,Fl=0,zr()),o}function Du(){for(;Pl!==null;)Au(Pl)}function Ou(e,t){var n=Ml;Ml|=2;var r=Cu(),a=wu();Nl!==e||Fl!==t?(eu=null,$l=me()+500,bu(e,t)):zl=Me(e,t);a:do try{if(Il!==0&&Pl!==null){t=Pl;var o=Ll;b:switch(Il){case 1:Il=0,Ll=null,Mu(e,t,o,1);break;case 2:case 9:if(fa(o)){Il=0,Ll=null,ju(t);break}t=function(){Il!==2&&Il!==9||Nl!==e||(Il=7),nd(e)},o.then(t,t);break a;case 3:Il=7;break a;case 4:Il=5;break a;case 7:fa(o)?(Il=0,Ll=null,ju(t)):(Il=0,Ll=null,Mu(e,t,o,7));break;case 5:var s=null;switch(Pl.tag){case 26:s=Pl.memoizedState;case 5:case 27:var c=Pl;if(s?Gf(s):c.stateNode.complete){Il=0,Ll=null;var l=c.sibling;if(l!==null)Pl=l;else{var u=c.return;u===null?Pl=null:(Pl=u,Nu(u))}break b}}Il=0,Ll=null,Mu(e,t,o,5);break;case 6:Il=0,Ll=null,Mu(e,t,o,6);break;case 8:yu(),Hl=6;break a;default:throw Error(i(462))}}ku();break}catch(t){xu(e,t)}while(1);return Ni=Mi=null,I.H=r,I.A=a,Ml=n,Pl===null?(Nl=null,Fl=0,zr(),Hl):0}function ku(){for(;Pl!==null&&!fe();)Au(Pl)}function Au(e){var t=Sc(e.alternate,e,Vl);e.memoizedProps=e.pendingProps,t===null?Nu(e):Pl=t}function ju(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=oc(n,t,t.pendingProps,t.type,void 0,Fl);break;case 11:t=oc(n,t,t.pendingProps,t.type.render,t.ref,Fl);break;case 5:vo(t);default:jc(n,t),t=Pl=Xr(t,Vl),t=Sc(n,t,Vl)}e.memoizedProps=e.pendingProps,t===null?Nu(e):Pl=t}function Mu(e,t,n,r){Ni=Mi=null,vo(t),va=null,ya=0;var i=t.return;try{if(Gs(e,i,t,n,Fl)){Hl=1,Bs(e,ri(n,e.current)),Pl=null;return}}catch(t){if(i!==null)throw Pl=i,t;Hl=1,Bs(e,ri(n,e.current)),Pl=null;return}t.flags&32768?(bi||r===1?e=!0:zl||Fl&536870912?e=!1:(Rl=e=!0,(r===2||r===9||r===3||r===6)&&(r=Ua.current,r!==null&&r.tag===13&&(r.flags|=16384))),Pu(t,e)):Nu(t)}function Nu(e){var t=e;do{if(t.flags&32768){Pu(t,Rl);return}e=t.return;var n=kc(t.alternate,t,Vl);if(n!==null){Pl=n;return}if(t=t.sibling,t!==null){Pl=t;return}Pl=t=e}while(t!==null);Hl===0&&(Hl=5)}function Pu(e,t){do{var n=Ac(e.alternate,e);if(n!==null){n.flags&=32767,Pl=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Pl=e;return}Pl=e=n}while(e!==null);Hl=6,Pl=null}function Fu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Bu();while(nu!==0);if(Ml&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=Rr,Le(e,n,o,s,c,l),e===Nl&&(Pl=Nl=null,Fl=0),iu=t,ru=e,au=n,ou=o,su=a,cu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Yu(ve,function(){return Vu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=I.T,I.T=null,a=L.p,L.p=2,s=Ml,Ml|=4;try{Xc(e,t,n)}finally{Ml=s,L.p=a,I.T=r}}nu=1,Iu(),Lu(),Ru()}}function Iu(){if(nu===1){nu=0;var e=ru,t=iu,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=I.T,I.T=null;var r=L.p;L.p=2;var i=Ml;Ml|=4;try{ll(t,e);var a=Bd,o=$(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&fr(s.ownerDocument.documentElement,s)){if(c!==null&&pr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=dr(s,h),v=dr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}cp=!!zd,Bd=zd=null}finally{Ml=i,L.p=r,I.T=n}}e.current=t,nu=2}}function Lu(){if(nu===2){nu=0;var e=ru,t=iu,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=I.T,I.T=null;var r=L.p;L.p=2;var i=Ml;Ml|=4;try{Zc(e,t.alternate,t)}finally{Ml=i,L.p=r,I.T=n}}nu=3}}function Ru(){if(nu===4||nu===3){nu=0,pe();var e=ru,t=iu,n=au,r=cu;t.subtreeFlags&10256||t.flags&10256?nu=5:(nu=0,iu=ru=null,zu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(tu=null),He(n),t=t.stateNode,we&&typeof we.onCommitFiberRoot==`function`)try{we.onCommitFiberRoot(Ce,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=I.T,i=L.p,L.p=2,I.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{I.T=t,L.p=i}}au&3&&Bu(),nd(e),i=e.pendingLanes,n&261930&&i&42?e===uu?lu++:(lu=0,uu=e):lu=0,rd(0,!1)}}function zu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Yi(t)))}function Bu(){return Iu(),Lu(),Ru(),Vu()}function Vu(){if(nu!==5)return!1;var e=ru,t=ou;ou=0;var n=He(au),r=I.T,a=L.p;try{L.p=32>n?32:n,I.T=null,n=su,su=null;var o=ru,s=au;if(nu=0,iu=ru=null,au=0,Ml&6)throw Error(i(331));var c=Ml;if(Ml|=4,Dl(o.current),yl(o,o.current,s,n),Ml=c,rd(0,!1),we&&typeof we.onPostCommitFiberRoot==`function`)try{we.onPostCommitFiberRoot(Ce,o)}catch{}return!0}finally{L.p=a,I.T=r,zu(e,t)}}function Hu(e,t,n){t=ri(n,t),t=Hs(e.stateNode,t,2),e=Aa(e,t,2),e!==null&&(Ie(e,2),nd(e))}function Uu(e,t,n){if(e.tag===3)Hu(e,e,n);else for(;t!==null;){if(t.tag===3){Hu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(tu===null||!tu.has(r))){e=ri(n,e),n=Us(2),r=Aa(t,n,2),r!==null&&(Ws(n,r,t,e),Ie(r,2),nd(r));break}}t=t.return}}function Wu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new jl;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Bl=!0,i.add(n),e=Gu.bind(null,e,t,n),t.then(e,e))}function Gu(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Nl===e&&(Fl&n)===n&&(Hl===4||Hl===3&&(Fl&62914560)===Fl&&300>me()-Zl?!(Ml&2)&&bu(e,0):Gl|=n,ql===Fl&&(ql=0)),nd(e)}function Ku(e,t){t===0&&(t=Pe()),e=Hr(e,t),e!==null&&(Ie(e,t),nd(e))}function qu(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ku(e,n)}function Ju(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),Ku(e,n)}function Yu(e,t){return ue(e,t)}var Xu=null,Zu=null,Qu=!1,$u=!1,ed=!1,td=0;function nd(e){e!==Zu&&e.next===null&&(Zu===null?Xu=Zu=e:Zu=Zu.next=e),$u=!0,Qu||(Qu=!0,ld())}function rd(e,t){if(!ed&&$u){ed=!0;do for(var n=!1,r=Xu;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-Ee(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,cd(r,a))}else a=Fl,a=je(r,r===Nl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Me(r,a)||(n=!0,cd(r,a));r=r.next}while(n);ed=!1}}function id(){ad()}function ad(){$u=Qu=!1;var e=0;td!==0&&Kd()&&(e=td);for(var t=me(),n=null,r=Xu;r!==null;){var i=r.next,a=od(r,t);a===0?(r.next=null,n===null?Xu=i:n.next=i,i===null&&(Zu=n)):(n=r,(e!==0||a&3)&&($u=!0)),r=i}nu!==0&&nu!==5||rd(e,!1),td!==0&&(td=0)}function od(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-Ee(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=Ne(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Nl,n=Fl,n=je(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Il===2||Il===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&de(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Me(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&de(r),He(n)){case 2:case 8:n=_e;break;case 32:n=ve;break;case 268435456:n=be;break;default:n=ve}return r=sd.bind(null,e),n=ue(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&de(r),e.callbackPriority=2,e.callbackNode=null,2}function sd(e,t){if(nu!==0&&nu!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Bu()&&e.callbackNode!==n)return null;var r=Fl;return r=je(e,e===Nl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(mu(e,r,t),od(e,me()),e.callbackNode!=null&&e.callbackNode===n?sd.bind(null,e):null)}function cd(e,t){if(Bu())return null;mu(e,t,!0)}function ld(){Xd(function(){Ml&6?ue(ge,id):ad()})}function ud(){if(td===0){var e=Qi;e===0&&(e=Q,Q<<=1,!(Q&261888)&&(Q=256)),td=e}return td}function dd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:Rt(``+e)}function fd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function pd(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=dd((i[qe]||null).action),o=r.submitter;o&&(t=(t=o[qe]||null)?dd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new sn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(td!==0){var e=o?fd(i,o):new FormData(i);ms(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?fd(i,o):new FormData(i),ms(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var md=0;md<Nr.length;md++){var hd=Nr[md];Pr(hd.toLowerCase(),`on`+(hd[0].toUpperCase()+hd.slice(1)))}Pr(Tr,`onAnimationEnd`),Pr(Er,`onAnimationIteration`),Pr(Dr,`onAnimationStart`),Pr(`dblclick`,`onDoubleClick`),Pr(`focusin`,`onFocus`),Pr(`focusout`,`onBlur`),Pr(Or,`onTransitionRun`),Pr(kr,`onTransitionStart`),Pr(Ar,`onTransitionCancel`),Pr(jr,`onTransitionEnd`),lt(`onMouseEnter`,[`mouseout`,`mouseover`]),lt(`onMouseLeave`,[`mouseout`,`mouseover`]),lt(`onPointerEnter`,[`pointerout`,`pointerover`]),lt(`onPointerLeave`,[`pointerout`,`pointerover`]),ct(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),ct(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),ct(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),ct(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),ct(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),ct(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var gd=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),_d=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(gd));function vd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Fr(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Fr(e)}i.currentTarget=null,a=c}}}}function yd(e,t){var n=t[Ye];n===void 0&&(n=t[Ye]=new Set);var r=e+`__bubble`;n.has(r)||(Cd(t,e,2,!1),n.add(r))}function bd(e,t,n){var r=0;t&&(r|=4),Cd(n,e,r,t)}var xd=`_reactListening`+Math.random().toString(36).slice(2);function Sd(e){if(!e[xd]){e[xd]=!0,ot.forEach(function(t){t!==`selectionchange`&&(_d.has(t)||bd(t,!1,e),bd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xd]||(t[xd]=!0,bd(`selectionchange`,!1,t))}}function Cd(e,t,n,r){switch(hp(t)){case 2:var i=lp;break;case 8:i=up;break;default:i=dp}n=i.bind(null,t,n,e),i=void 0,!Yt||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function wd(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=tt(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}Kt(function(){var r=a,i=Vt(n),s=[];a:{var c=Mr.get(e);if(c!==void 0){var l=sn,u=e;switch(e){case`keypress`:if(tn(n)===0)break a;case`keydown`:case`keyup`:l=Tn;break;case`focusin`:u=`focus`,l=gn;break;case`focusout`:u=`blur`,l=gn;break;case`beforeblur`:case`afterblur`:l=gn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=mn;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=hn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Dn;break;case Tr:case Er:case Dr:l=_n;break;case jr:l=On;break;case`scroll`:case`scrollend`:l=ln;break;case`wheel`:l=kn;break;case`copy`:case`cut`:case`paste`:l=vn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=En;break;case`toggle`:case`beforetoggle`:l=An}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=qt(m,p),g!=null&&d.push(Td(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==Bt&&(u=n.relatedTarget||n.fromElement)&&(tt(u)||u[Je]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?tt(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=mn,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=En,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:rt(l),h=u==null?c:rt(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,tt(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Dd,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&Od(s,c,l,d,!1),u!==null&&f!==null&&Od(s,f,u,d,!0)}}a:{if(c=r?rt(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=Xn;else if(Wn(c))if(Zn)v=or;else{v=ir;var y=rr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&Ft(r.elementType)&&(v=Xn):v=ar;if(v&&=v(e,r)){Gn(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Dt(c,`number`,c.value)}switch(y=r?rt(r):window,e){case`focusin`:(Wn(y)||y.contentEditable===`true`)&&(hr=y,gr=r,_r=null);break;case`focusout`:_r=gr=hr=null;break;case`mousedown`:vr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:vr=!1,yr(s,n,i);break;case`selectionchange`:if(mr)break;case`keydown`:case`keyup`:yr(s,n,i)}var b;if(Mn)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else Bn?Rn(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(Fn&&n.locale!==`ko`&&(Bn||x!==`onCompositionStart`?x===`onCompositionEnd`&&Bn&&(b=en()):(Zt=i,Qt=`value`in Zt?Zt.value:Zt.textContent,Bn=!0)),y=Ed(r,x),0<y.length&&(x=new yn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=zn(n),b!==null&&(x.data=b)))),(b=Pn?Vn(e,n):Hn(e,n))&&(x=Ed(r,`onBeforeInput`),0<x.length&&(y=new yn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),pd(s,e,r,n,i)}vd(s,t)})}function Td(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ed(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=qt(e,n),i!=null&&r.unshift(Td(e,i,a)),i=qt(e,t),i!=null&&r.push(Td(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Dd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Od(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=qt(n,a),l!=null&&o.unshift(Td(n,l,c))):i||(l=qt(n,a),l!=null&&o.push(Td(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var kd=/\r\n?/g,Ad=/\u0000|\uFFFD/g;function jd(e){return(typeof e==`string`?e:``+e).replace(kd,`
`).replace(Ad,``)}function Md(e,t){return t=jd(t),jd(e)===t}function Nd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||jt(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&jt(e,``+r);break;case`className`:ht(e,`class`,r);break;case`tabIndex`:ht(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:ht(e,n,r);break;case`style`:Pt(e,r,o);break;case`data`:if(t!==`object`){ht(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Rt(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Nd(e,t,`name`,a.name,a,null),Nd(e,t,`formEncType`,a.formEncType,a,null),Nd(e,t,`formMethod`,a.formMethod,a,null),Nd(e,t,`formTarget`,a.formTarget,a,null)):(Nd(e,t,`encType`,a.encType,a,null),Nd(e,t,`method`,a.method,a,null),Nd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=Rt(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=zt);break;case`onScroll`:r!=null&&yd(`scroll`,e);break;case`onScrollEnd`:r!=null&&yd(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=Rt(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:yd(`beforetoggle`,e),yd(`toggle`,e),mt(e,`popover`,r);break;case`xlinkActuate`:gt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:gt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:gt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:gt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:gt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:gt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:gt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:gt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:gt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:mt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=It.get(n)||n,mt(e,n,r))}}function Pd(e,t,n,r,a,o){switch(n){case`style`:Pt(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?jt(e,r):(typeof r==`number`||typeof r==`bigint`)&&jt(e,``+r);break;case`onScroll`:r!=null&&yd(`scroll`,e);break;case`onScrollEnd`:r!=null&&yd(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=zt);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!st.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[qe]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):mt(e,n,r)}}}function Fd(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:yd(`error`,e),yd(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Nd(e,t,o,s,n,null)}}a&&Nd(e,t,`srcSet`,n.srcSet,n,null),r&&Nd(e,t,`src`,n.src,n,null);return;case`input`:yd(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Nd(e,t,r,d,n,null)}}Et(e,o,c,l,u,s,a,!1);return;case`select`:for(a in yd(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Nd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&Ot(e,!!r,n,!0):Ot(e,!!r,t,!1);return;case`textarea`:for(s in yd(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Nd(e,t,s,c,n,null)}At(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Nd(e,t,l,r,n,null)}return;case`dialog`:yd(`beforetoggle`,e),yd(`toggle`,e),yd(`cancel`,e),yd(`close`,e);break;case`iframe`:case`object`:yd(`load`,e);break;case`video`:case`audio`:for(r=0;r<gd.length;r++)yd(gd[r],e);break;case`image`:yd(`error`,e),yd(`load`,e);break;case`details`:yd(`toggle`,e);break;case`embed`:case`source`:case`link`:yd(`error`,e),yd(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Nd(e,t,u,r,n,null)}return;default:if(Ft(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Pd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Nd(e,t,c,r,n,null))}function Id(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Nd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Nd(e,t,p,m,r,f)}}Tt(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Nd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Nd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?Ot(e,!!n,n?[]:``,!1):Ot(e,!!n,t,!0)):Ot(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Nd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Nd(e,t,s,a,r,o)}kt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Nd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Nd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Nd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Nd(e,t,u,p,r,m)}return;default:if(Ft(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Pd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Pd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Nd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Nd(e,t,f,p,r,m)}function Ld(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function Rd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Ld(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Ld(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var zd=null,Bd=null;function Vd(e){return e.nodeType===9?e:e.ownerDocument}function Hd(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Ud(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Wd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Gd=null;function Kd(){var e=window.event;return e&&e.type===`popstate`?e===Gd?!1:(Gd=e,!0):(Gd=null,!1)}var qd=typeof setTimeout==`function`?setTimeout:void 0,Jd=typeof clearTimeout==`function`?clearTimeout:void 0,Yd=typeof Promise==`function`?Promise:void 0,Xd=typeof queueMicrotask==`function`?queueMicrotask:Yd===void 0?qd:function(e){return Yd.resolve(null).then(e).catch(Zd)};function Zd(e){setTimeout(function(){throw e})}function Qd(e){return e===`head`}function $d(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Pp(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)mf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,mf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[$e]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&mf(e.ownerDocument.body);n=i}while(n);Pp(t)}function ef(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function tf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:tf(n),et(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function nf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[$e])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=lf(e.nextSibling),e===null)break}return null}function rf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=lf(e.nextSibling),e===null))return null;return e}function af(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=lf(e.nextSibling),e===null))return null;return e}function of(e){return e.data===`$?`||e.data===`$~`}function sf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function cf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function lf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var uf=null;function df(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return lf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function ff(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function pf(e,t,n){switch(t=Vd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function mf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);et(e)}var hf=new Map,gf=new Set;function _f(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vf=L.d;L.d={f:yf,r:bf,D:Cf,C:wf,L:Tf,m:Ef,X:Of,S:Df,M:kf};function yf(){var e=vf.f(),t=vu();return e||t}function bf(e){var t=nt(e);t!==null&&t.tag===5&&t.type===`form`?gs(t):vf.r(e)}var xf=typeof document>`u`?null:document;function Sf(e,t,n){var r=xf;if(r&&typeof t==`string`&&t){var i=wt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),gf.has(i)||(gf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Fd(t,`link`,e),at(t),r.head.appendChild(t)))}}function Cf(e){vf.D(e),Sf(`dns-prefetch`,e,null)}function wf(e,t){vf.C(e,t),Sf(`preconnect`,e,t)}function Tf(e,t,n){vf.L(e,t,n);var r=xf;if(r&&e&&t){var i=`link[rel="preload"][as="`+wt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+wt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+wt(n.imageSizes)+`"]`)):i+=`[href="`+wt(e)+`"]`;var a=i;switch(t){case`style`:a=jf(e);break;case`script`:a=Ff(e)}hf.has(a)||(e=h({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),hf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Mf(a))||t===`script`&&r.querySelector(If(a))||(t=r.createElement(`link`),Fd(t,`link`,e),at(t),r.head.appendChild(t)))}}function Ef(e,t){vf.m(e,t);var n=xf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+wt(r)+`"][href="`+wt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Ff(e)}if(!hf.has(a)&&(e=h({rel:`modulepreload`,href:e},t),hf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(If(a)))return}r=n.createElement(`link`),Fd(r,`link`,e),at(r),n.head.appendChild(r)}}}function Df(e,t,n){vf.S(e,t,n);var r=xf;if(r&&e){var i=it(r).hoistableStyles,a=jf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Mf(a)))s.loading=5;else{e=h({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=hf.get(a))&&zf(e,n);var c=o=r.createElement(`link`);at(c),Fd(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Rf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Of(e,t){vf.X(e,t);var n=xf;if(n&&e){var r=it(n).hoistableScripts,i=Ff(e),a=r.get(i);a||(a=n.querySelector(If(i)),a||(e=h({src:e,async:!0},t),(t=hf.get(i))&&Bf(e,t),a=n.createElement(`script`),at(a),Fd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function kf(e,t){vf.M(e,t);var n=xf;if(n&&e){var r=it(n).hoistableScripts,i=Ff(e),a=r.get(i);a||(a=n.querySelector(If(i)),a||(e=h({src:e,async:!0,type:`module`},t),(t=hf.get(i))&&Bf(e,t),a=n.createElement(`script`),at(a),Fd(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Af(e,t,n,r){var a=(a=K.current)?_f(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=jf(n.href),n=it(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=jf(n.href);var o=it(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Mf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),hf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},hf.set(e,n),o||Pf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Ff(n),n=it(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function jf(e){return`href="`+wt(e)+`"`}function Mf(e){return`link[rel="stylesheet"][`+e+`]`}function Nf(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Fd(t,`link`,n),at(t),e.head.appendChild(t))}function Ff(e){return`[src="`+wt(e)+`"]`}function If(e){return`script[async]`+e}function Lf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+wt(n.href)+`"]`);if(r)return t.instance=r,at(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),at(r),Fd(r,`style`,a),Rf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=jf(n.href);var o=e.querySelector(Mf(a));if(o)return t.state.loading|=4,t.instance=o,at(o),o;r=Nf(n),(a=hf.get(a))&&zf(r,a),o=(e.ownerDocument||e).createElement(`link`),at(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Fd(o,`link`,r),t.state.loading|=4,Rf(o,n.precedence,e),t.instance=o;case`script`:return o=Ff(n.src),(a=e.querySelector(If(o)))?(t.instance=a,at(a),a):(r=n,(a=hf.get(o))&&(r=h({},n),Bf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),at(a),Fd(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Rf(r,n.precedence,e));return t.instance}function Rf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function zf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Bf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Vf=null;function Hf(e,t,n){if(Vf===null){var r=new Map,i=Vf=new Map;i.set(n,r)}else i=Vf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[$e]||a[Ke]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Uf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Wf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Gf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Kf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=jf(r.href),a=t.querySelector(Mf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Yf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,at(a);return}a=t.ownerDocument||t,r=Nf(r),(i=hf.get(i))&&zf(r,i),a=a.createElement(`link`),at(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Fd(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Yf.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var qf=0;function Jf(e,t){return e.stylesheets&&e.count===0&&Zf(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Zf(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&qf===0&&(qf=62500*Rd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zf(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>qf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Yf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xf=null;function Zf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xf=new Map,t.forEach(Qf,e),Xf=null,Yf.call(e))}function Qf(e,t){if(!(t.state.loading&4)){var n=Xf.get(e);if(n)var r=n.get(null);else{n=new Map,Xf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Yf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var $f={$$typeof:C,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function ep(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fe(0),this.hiddenUpdates=Fe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function tp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new ep(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=qr(3,null,null,t),e.current=a,a.stateNode=e,t=Ji(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Da(a),e}function np(e){return e?(e=Gr,e):Gr}function rp(e,t,n,r,i,a){i=np(i),r.context===null?r.context=i:r.pendingContext=i,r=ka(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Aa(e,r,t),n!==null&&(pu(n,e,t),ja(n,e,t))}function ip(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ap(e,t){ip(e,t),(e=e.alternate)&&ip(e,t)}function op(e){if(e.tag===13||e.tag===31){var t=Hr(e,67108864);t!==null&&pu(t,e,67108864),ap(e,67108864)}}function sp(e){if(e.tag===13||e.tag===31){var t=du();t=Ve(t);var n=Hr(e,t);n!==null&&pu(n,e,t),ap(e,t)}}var cp=!0;function lp(e,t,n,r){var i=I.T;I.T=null;var a=L.p;try{L.p=2,dp(e,t,n,r)}finally{L.p=a,I.T=i}}function up(e,t,n,r){var i=I.T;I.T=null;var a=L.p;try{L.p=8,dp(e,t,n,r)}finally{L.p=a,I.T=i}}function dp(e,t,n,r){if(cp){var i=fp(r);if(i===null)wd(e,t,r,pp,n),wp(e,r);else if(Ep(i,e,t,n,r))r.stopPropagation();else if(wp(e,r),t&4&&-1<Cp.indexOf(e)){for(;i!==null;){var a=nt(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Ae(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-Ee(o);s.entanglements[1]|=c,o&=~c}nd(a),!(Ml&6)&&($l=me()+500,rd(0,!1))}}break;case 31:case 13:s=Hr(a,2),s!==null&&pu(s,a,2),vu(),ap(a,2)}if(a=fp(r),a===null&&wd(e,t,r,pp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else wd(e,t,r,null,n)}}function fp(e){return e=Vt(e),mp(e)}var pp=null;function mp(e){if(pp=null,e=tt(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return pp=e,null}function hp(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(he()){case ge:return 2;case _e:return 8;case ve:case ye:return 32;case be:return 268435456;default:return 32}default:return 32}}var gp=!1,_p=null,vp=null,yp=null,bp=new Map,xp=new Map,Sp=[],Cp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function wp(e,t){switch(e){case`focusin`:case`focusout`:_p=null;break;case`dragenter`:case`dragleave`:vp=null;break;case`mouseover`:case`mouseout`:yp=null;break;case`pointerover`:case`pointerout`:bp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:xp.delete(t.pointerId)}}function Tp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=nt(t),t!==null&&op(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ep(e,t,n,r,i){switch(t){case`focusin`:return _p=Tp(_p,e,t,n,r,i),!0;case`dragenter`:return vp=Tp(vp,e,t,n,r,i),!0;case`mouseover`:return yp=Tp(yp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return bp.set(a,Tp(bp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,xp.set(a,Tp(xp.get(a)||null,e,t,n,r,i)),!0}return!1}function Dp(e){var t=tt(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,We(e.priority,function(){sp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,We(e.priority,function(){sp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Op(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Bt=r,n.target.dispatchEvent(r),Bt=null}else return t=nt(n),t!==null&&op(t),e.blockedOn=n,!1;t.shift()}return!0}function kp(e,t,n){Op(e)&&n.delete(t)}function Ap(){gp=!1,_p!==null&&Op(_p)&&(_p=null),vp!==null&&Op(vp)&&(vp=null),yp!==null&&Op(yp)&&(yp=null),bp.forEach(kp),xp.forEach(kp)}function jp(e,n){e.blockedOn===n&&(e.blockedOn=null,gp||(gp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ap)))}var Mp=null;function Np(e){Mp!==e&&(Mp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mp===e&&(Mp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(mp(r||n)===null)continue;break}var a=nt(n);a!==null&&(e.splice(t,3),t-=3,ms(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Pp(e){function t(t){return jp(t,e)}_p!==null&&jp(_p,e),vp!==null&&jp(vp,e),yp!==null&&jp(yp,e),bp.forEach(t),xp.forEach(t);for(var n=0;n<Sp.length;n++){var r=Sp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Sp.length&&(n=Sp[0],n.blockedOn===null);)Dp(n),n.blockedOn===null&&Sp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[qe]||null;if(typeof a==`function`)o||Np(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[qe]||null)s=o.formAction;else if(mp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Np(n)}}}function Fp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Ip(e){this._internalRoot=e}Lp.prototype.render=Ip.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;rp(n,du(),e,t,null,null)},Lp.prototype.unmount=Ip.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rp(e.current,2,null,e,null,null),vu(),t[Je]=null}};function Lp(e){this._internalRoot=e}Lp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ue();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Sp.length&&t!==0&&t<Sp[n].priority;n++);Sp.splice(n,0,e),n===0&&Dp(e)}};var Rp=n.version;if(Rp!==`19.2.3`)throw Error(i(527,Rp,`19.2.3`));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=d(t),e=e===null?null:p(e),e=e===null?null:e.stateNode,e};var zp={bundleType:0,version:`19.2.3`,rendererPackageName:`react-dom`,currentDispatcherRef:I,reconcilerVersion:`19.2.3`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var Bp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bp.isDisabled&&Bp.supportsFiber)try{Ce=Bp.inject(zp),we=Bp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=Ls,s=Rs,c=zs;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=tp(e,1,!1,null,null,n,r,null,o,s,c,Fp),e[Je]=t.current,Sd(e),new Ip(t)}})),g=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()}))(),_=c(u(),1),v=o((e=>{var t=u().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;e.c=function(e){return t.H.useMemoCache(e)}})),y=o(((e,t)=>{t.exports=v()})),b=y(),x=o((e=>{var t=Symbol.for(`react.transitional.element`);function n(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.jsx=n,e.jsxs=n})),S=o(((e,t)=>{t.exports=x()}))();function C(e){function t(){let t=(0,b.c)(5),r=(0,_.useRef)(e),i;t[0]===Symbol.for(`react.memo_cache_sentinel`)?(i=()=>r.current,t[0]=i):i=t[0];let a=i,o;t[1]===Symbol.for(`react.memo_cache_sentinel`)?(o=new Set,t[1]=o):o=t[1];let s=(0,_.useRef)(o),c;t[2]===Symbol.for(`react.memo_cache_sentinel`)?(c=e=>{let t=typeof e==`function`?e(r.current):e;r.current={...r.current,...t},s.current.forEach(n)},t[2]=c):c=t[2];let l=c,u;t[3]===Symbol.for(`react.memo_cache_sentinel`)?(u=e=>(s.current.add(e),()=>s.current.delete(e)),t[3]=u):u=t[3];let d=u,f;return t[4]===Symbol.for(`react.memo_cache_sentinel`)?(f={get:a,set:l,subscribe:d},t[4]=f):f=t[4],f}function n(e){return e()}let r=(0,_.createContext)(null);function i(e){let n=(0,b.c)(3),{children:i}=e,a=t(),o;return n[0]!==i||n[1]!==a?(o=(0,S.jsx)(r.Provider,{value:a,children:i}),n[0]=i,n[1]=a,n[2]=o):o=n[2],o}function a(t){let n=(0,b.c)(8),i=(0,_.useContext)(r);if(!i)throw Error(`Store not found`);let a;n[0]!==t||n[1]!==i?(a=()=>t(i.get()),n[0]=t,n[1]=i,n[2]=a):a=n[2];let o;n[3]===t?o=n[4]:(o=()=>t(e),n[3]=t,n[4]=o);let s=(0,_.useSyncExternalStore)(i.subscribe,a,o),c;return n[5]!==s||n[6]!==i.set?(c=[s,i.set],n[5]=s,n[6]=i.set,n[7]=c):c=n[7],c}return{Provider:i,useStore:a}}var{Provider:w,useStore:T}=C({obs_label:`Magnetization`,isPlaying:!1,isDark:window.matchMedia(`(prefers-color-scheme: dark)`).matches,T:1,N:32,observable:{x:Array.from({length:201},(e,t)=>t*.01),y:Array(201).fill(null)},variance:{x:Array.from({length:201},(e,t)=>t*.01),y:Array(201).fill(null)}}),E=w,D=o(((e,t)=>{t.exports=`SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED`})),O=o(((e,t)=>{var n=D();function r(){}function i(){}i.resetWarningCache=r,t.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name=`Invariant Violation`,s}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return a.PropTypes=a,a}})),k=o(((e,t)=>{t.exports=O()()})),A=o(((e,t)=>{(function(n,r){typeof e==`object`&&typeof t==`object`?t.exports=r():typeof define==`function`&&define.amd?define([],r):typeof e==`object`?e.katex=r():n.katex=r()})(typeof self<`u`?self:e,function(){return(function(){var e={};(function(){e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})}})(),(function(){e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}})();var t={};e.d(t,{default:function(){return Di}});class n{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let r=`KaTeX parse error: `+e,i,a,o=t&&t.loc;if(o&&o.start<=o.end){let e=o.lexer.input;i=o.start,a=o.end,i===e.length?r+=` at end of input: `:r+=` at position `+(i+1)+`: `;let t=e.slice(i,a).replace(/[^]/g,`$&`),n;n=i>15?``+e.slice(i-15,i):e.slice(0,i);let s;s=a+15<e.length?e.slice(a,a+15)+``:e.slice(a),r+=n+t+s}let s=Error(r);return s.name=`ParseError`,s.__proto__=n.prototype,s.position=i,i!=null&&a!=null&&(s.length=a-i),s.rawMessage=e,s}}n.prototype.__proto__=Error.prototype;var r=n;let i=function(e,t){return e===void 0?t:e},a=/([A-Z])/g,o=function(e){return e.replace(a,`-$1`).toLowerCase()},s={"&":`&amp;`,">":`&gt;`,"<":`&lt;`,'"':`&quot;`,"'":`&#x27;`},c=/[&><"']/g;function l(e){return String(e).replace(c,e=>s[e])}let u=function(e){return e.type===`ordgroup`||e.type===`color`?e.body.length===1?u(e.body[0]):e:e.type===`font`?u(e.body):e},d=function(e){let t=u(e);return t.type===`mathord`||t.type===`textord`||t.type===`atom`},f=function(e){if(!e)throw Error(`Expected non-null, but got `+String(e));return e};var p={deflt:i,escape:l,hyphenate:o,getBaseElem:u,isCharacterBox:d,protocolFromUrl:function(e){let t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==`:`||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():`_relative`}};let m={displayMode:{type:`boolean`,description:`Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.`,cli:`-d, --display-mode`},output:{type:{enum:[`htmlAndMathml`,`html`,`mathml`]},description:`Determines the markup language of the output.`,cli:`-F, --format <type>`},leqno:{type:`boolean`,description:`Render display math in leqno style (left-justified tags).`},fleqn:{type:`boolean`,description:`Render display math flush left.`},throwOnError:{type:`boolean`,default:!0,cli:`-t, --no-throw-on-error`,cliDescription:`Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error.`},errorColor:{type:`string`,default:`#cc0000`,cli:`-c, --error-color <color>`,cliDescription:`A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.`,cliProcessor:e=>`#`+e},macros:{type:`object`,cli:`-m, --macro <def>`,cliDescription:`Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).`,cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:`number`,description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:`--min-rule-thickness <size>`,cliProcessor:parseFloat},colorIsTextColor:{type:`boolean`,description:`Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.`,cli:`-b, --color-is-text-color`},strict:{type:[{enum:[`warn`,`ignore`,`error`]},`boolean`,`function`],description:`Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.`,cli:`-S, --strict`,cliDefault:!1},trust:{type:[`boolean`,`function`],description:`Trust the input, enabling all HTML features such as \\url.`,cli:`-T, --trust`},maxSize:{type:`number`,default:1/0,description:`If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large`,processor:e=>Math.max(0,e),cli:`-s, --max-size <n>`,cliProcessor:parseInt},maxExpand:{type:`number`,default:1e3,description:`Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.`,processor:e=>Math.max(0,e),cli:`-e, --max-expand <n>`,cliProcessor:e=>e===`Infinity`?1/0:parseInt(e)},globalGroup:{type:`boolean`,cli:!1}};function h(e){if(e.default)return e.default;let t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!=`string`)return n.enum[0];switch(n){case`boolean`:return!1;case`string`:return``;case`number`:return 0;case`object`:return{}}}class g{constructor(e){for(let t in this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e||={},m)if(m.hasOwnProperty(t)){let n=m[t];this[t]=e[t]===void 0?h(n):n.processor?n.processor(e[t]):e[t]}}reportNonstrict(e,t,n){let i=this.strict;if(typeof i==`function`&&(i=i(e,t,n)),!(!i||i===`ignore`)){if(i===!0||i===`error`)throw new r(`LaTeX-incompatible input and strict mode is set to 'error': `+(t+` [`+e+`]`),n);i===`warn`?typeof console<`u`&&console.warn(`LaTeX-incompatible input and strict mode is set to 'warn': `+(t+` [`+e+`]`)):typeof console<`u`&&console.warn(`LaTeX-incompatible input and strict mode is set to `+(`unrecognized '`+i+`': `+t+` [`+e+`]`))}}useStrictBehavior(e,t,n){let r=this.strict;if(typeof r==`function`)try{r=r(e,t,n)}catch{r=`error`}return!r||r===`ignore`?!1:r===!0||r===`error`?!0:r===`warn`?(typeof console<`u`&&console.warn(`LaTeX-incompatible input and strict mode is set to 'warn': `+(t+` [`+e+`]`)),!1):(typeof console<`u`&&console.warn(`LaTeX-incompatible input and strict mode is set to `+(`unrecognized '`+r+`': `+t+` [`+e+`]`)),!1)}isTrusted(e){if(e.url&&!e.protocol){let t=p.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}return!!(typeof this.trust==`function`?this.trust(e):this.trust)}}class _{constructor(e,t,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=n}sup(){return v[y[this.id]]}sub(){return v[b[this.id]]}fracNum(){return v[x[this.id]]}fracDen(){return v[S[this.id]]}cramp(){return v[C[this.id]]}text(){return v[w[this.id]]}isTight(){return this.size>=2}}let v=[new _(0,0,!1),new _(1,0,!0),new _(2,1,!1),new _(3,1,!0),new _(4,2,!1),new _(5,2,!0),new _(6,3,!1),new _(7,3,!0)],y=[4,5,4,5,6,7,6,7],b=[5,5,5,5,7,7,7,7],x=[2,3,4,5,6,7,6,7],S=[3,3,5,5,7,7,7,7],C=[1,1,3,3,5,5,7,7],w=[0,1,2,3,2,3,2,3];var T={DISPLAY:v[0],TEXT:v[2],SCRIPT:v[4],SCRIPTSCRIPT:v[6]};let E=[{name:`latin`,blocks:[[256,591],[768,879]]},{name:`cyrillic`,blocks:[[1024,1279]]},{name:`armenian`,blocks:[[1328,1423]]},{name:`brahmic`,blocks:[[2304,4255]]},{name:`georgian`,blocks:[[4256,4351]]},{name:`cjk`,blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:`hangul`,blocks:[[44032,55215]]}];function D(e){for(let t=0;t<E.length;t++){let n=E[t];for(let t=0;t<n.blocks.length;t++){let r=n.blocks[t];if(e>=r[0]&&e<=r[1])return n.name}}return null}let O=[];E.forEach(e=>e.blocks.forEach(e=>O.push(...e)));function k(e){for(let t=0;t<O.length;t+=2)if(e>=O[t]&&e<=O[t+1])return!0;return!1}let A=function(e,t){return`M95,`+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+` -`+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+` `+t+`h400000v`+(40+e)+`h-400000z`},j=function(e,t){return`M263,`+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+` -`+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+` `+t+`h400000v`+(40+e)+`h-400000z`},M=function(e,t){return`M983 `+(10+e+t)+`
l`+e/3.13+` -`+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+` `+t+`h400000v`+(40+e)+`h-400000z`},N=function(e,t){return`M424,`+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+` -`+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+` `+t+`
h400000v`+(40+e)+`h-400000z`},P=function(e,t){return`M473,`+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+` -`+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+` `+t+`h400000v`+(40+e)+`H1017.7z`},F=function(e){let t=e/2;return`M400000 `+e+` H0 L`+t+` 0 l65 45 L145 `+(e-80)+` H400000z`},I=function(e,t,n){let r=n-54-t-e;return`M702 `+(e+t)+`H400000`+(40+e)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+`H400000v`+(40+e)+`H742z`},L=function(e,t,n){t=1e3*t;let r=``;switch(e){case`sqrtMain`:r=A(t,80);break;case`sqrtSize1`:r=j(t,80);break;case`sqrtSize2`:r=M(t,80);break;case`sqrtSize3`:r=N(t,80);break;case`sqrtSize4`:r=P(t,80);break;case`sqrtTall`:r=I(t,80,n)}return r},R=function(e,t){switch(e){case``:return`M291 0 H417 V`+t+` H291z M291 0 H417 V`+t+` H291z`;case``:return`M145 0 H188 V`+t+` H145z M145 0 H188 V`+t+` H145z`;case``:return`M145 0 H188 V`+t+` H145z M145 0 H188 V`+t+` H145z`+(`M367 0 H410 V`+t+` H367z M367 0 H410 V`+t+` H367z`);case``:return`M457 0 H583 V`+t+` H457z M457 0 H583 V`+t+` H457z`;case``:return`M319 0 H403 V`+t+` H319z M319 0 H403 V`+t+` H319z`;case``:return`M263 0 H347 V`+t+` H263z M263 0 H347 V`+t+` H263z`;case``:return`M384 0 H504 V`+t+` H384z M384 0 H504 V`+t+` H384z`;case``:return`M312 0 H355 V`+t+` H312z M312 0 H355 V`+t+` H312z`;case``:return`M257 0 H300 V`+t+` H257z M257 0 H300 V`+t+` H257z`+(`M478 0 H521 V`+t+` H478z M478 0 H521 V`+t+` H478z`);default:return``}},z={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},B=function(e,t){switch(e){case`lbrack`:return`M403 1759 V84 H666 V0 H319 V1759 v`+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+` v1759 h84z`;case`rbrack`:return`M347 1759 V0 H0 V84 H263 V1759 v`+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+` v1759 h84z`;case`vert`:return`M145 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z`;case`doublevert`:return`M145 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+` v585 h43z`;case`lfloor`:return`M319 602 V0 H403 V602 v`+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+` v1715 H319z`;case`rfloor`:return`M319 602 V0 H403 V602 v`+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+` v1715 H319z`;case`lceil`:return`M403 1759 V84 H666 V0 H319 V1759 v`+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+` v602 h84z`;case`rceil`:return`M347 1759 V0 H0 V84 H263 V1759 v`+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+` v602 h84z`;case`lparen`:return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case`rparen`:return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw Error(`Unknown stretchy delimiter.`)}};var V={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};let H={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},U={:`A`,:`D`,:`o`,:`a`,:`d`,:`o`,:`A`,:`B`,:`B`,:`F`,:`A`,:`E`,:`K`,:`3`,:`N`,:`N`,:`K`,:`N`,:`M`,:`H`,:`O`,:`N`,:`P`,:`C`,:`T`,:`y`,:`O`,:`X`,:`U`,:`h`,:`W`,:`W`,:`B`,:`X`,:`B`,:`3`,:`X`,:`R`,:`a`,:`b`,:`a`,:`r`,:`y`,:`e`,:`m`,:`e`,:`n`,:`n`,:`n`,:`n`,:`m`,:`n`,:`o`,:`n`,:`p`,:`c`,:`o`,:`y`,:`b`,:`x`,:`n`,:`n`,:`w`,:`w`,:`a`,:`m`,:`a`,:`e`,:`m`,:`r`};function W(e,t){V[e]=t}function G(e,t,n){if(!V[t])throw Error(`Font metrics not found for font: `+t+`.`);let r=e.charCodeAt(0),i=V[t][r];if(!i&&e[0]in U&&(r=U[e[0]].charCodeAt(0),i=V[t][r]),!i&&n===`text`&&k(r)&&(i=V[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}let K={};function ee(e){let t;if(t=e>=5?0:e>=3?1:2,!K[t]){let e=K[t]={cssEmPerMu:H.quad[t]/18};for(let n in H)H.hasOwnProperty(n)&&(e[n]=H[n][t])}return K[t]}let q=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],J=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Y=function(e,t){return t.size<2?e:q[e-1][t.size-1]};class te{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||te.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||``,this.fontFamily=e.fontFamily||``,this.fontWeight=e.fontWeight||``,this.fontShape=e.fontShape||``,this.sizeMultiplier=J[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){let t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return new te(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:Y(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:J[e-1]})}havingBaseStyle(e){e||=this.style.text();let t=Y(te.BASESIZE,e);return this.size===t&&this.textSize===te.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){let e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:``})}withTextFontWeight(e){return this.extend({fontWeight:e,font:``})}withTextFontShape(e){return this.extend({fontShape:e,font:``})}sizingClasses(e){return e.size===this.size?[]:[`sizing`,`reset-size`+e.size,`size`+this.size]}baseSizingClasses(){return this.size===te.BASESIZE?[]:[`sizing`,`reset-size`+this.size,`size`+te.BASESIZE]}fontMetrics(){return this._fontMetrics||=ee(this.size),this._fontMetrics}getColor(){return this.phantom?`transparent`:this.color}}te.BASESIZE=6;var ne=te;let re={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},ie={ex:!0,em:!0,mu:!0},ae=function(e){return typeof e!=`string`&&(e=e.unit),e in re||e in ie||e===`ex`},oe=function(e,t){let n;if(e.unit in re)n=re[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit===`mu`)n=t.fontMetrics().cssEmPerMu;else{let i;if(i=t.style.isTight()?t.havingStyle(t.style.text()):t,e.unit===`ex`)n=i.fontMetrics().xHeight;else if(e.unit===`em`)n=i.fontMetrics().quad;else throw new r(`Invalid unit: '`+e.unit+`'`);i!==t&&(n*=i.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*n,t.maxSize)},se=function(e){return+e.toFixed(4)+`em`},ce=function(e){return e.filter(e=>e).join(` `)},le=function(e,t,n){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},t){t.style.isTight()&&this.classes.push(`mtight`);let e=t.getColor();e&&(this.style.color=e)}},ue=function(e){let t=document.createElement(e);for(let e in t.className=ce(this.classes),this.style)this.style.hasOwnProperty(e)&&(t.style[e]=this.style[e]);for(let e in this.attributes)this.attributes.hasOwnProperty(e)&&t.setAttribute(e,this.attributes[e]);for(let e=0;e<this.children.length;e++)t.appendChild(this.children[e].toNode());return t},de=/[\s"'>/=\x00-\x1f]/,fe=function(e){let t=`<`+e;this.classes.length&&(t+=` class="`+p.escape(ce(this.classes))+`"`);let n=``;for(let e in this.style)this.style.hasOwnProperty(e)&&(n+=p.hyphenate(e)+`:`+this.style[e]+`;`);for(let e in n&&(t+=` style="`+p.escape(n)+`"`),this.attributes)if(this.attributes.hasOwnProperty(e)){if(de.test(e))throw new r(`Invalid attribute name '`+e+`'`);t+=` `+e+`="`+p.escape(this.attributes[e])+`"`}t+=`>`;for(let e=0;e<this.children.length;e++)t+=this.children[e].toMarkup();return t+=`</`+e+`>`,t};class pe{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,le.call(this,e,n,r),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return ue.call(this,`span`)}toMarkup(){return fe.call(this,`span`)}}class me{constructor(e,t,n,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,le.call(this,t,r),this.children=n||[],this.setAttribute(`href`,e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return this.classes.includes(e)}toNode(){return ue.call(this,`a`)}toMarkup(){return fe.call(this,`a`)}}class he{constructor(e,t,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=[`mord`],this.style=n}hasClass(e){return this.classes.includes(e)}toNode(){let e=document.createElement(`img`);for(let t in e.src=this.src,e.alt=this.alt,e.className=`mord`,this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){let e=`<img src="`+p.escape(this.src)+`"`+(` alt="`+p.escape(this.alt)+`"`),t=``;for(let e in this.style)this.style.hasOwnProperty(e)&&(t+=p.hyphenate(e)+`:`+this.style[e]+`;`);return t&&(e+=` style="`+p.escape(t)+`"`),e+=`'/>`,e}}let ge={:``,:``,:``,:``};class _e{constructor(e,t,n,r,i,a,o,s){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=n||0,this.italic=r||0,this.skew=i||0,this.width=a||0,this.classes=o||[],this.style=s||{},this.maxFontSize=0;let c=D(this.text.charCodeAt(0));c&&this.classes.push(c+`_fallback`),/[]/.test(this.text)&&(this.text=ge[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){let e=document.createTextNode(this.text),t=null;for(let e in this.italic>0&&(t=document.createElement(`span`),t.style.marginRight=se(this.italic)),this.classes.length>0&&(t||=document.createElement(`span`),t.className=ce(this.classes)),this.style)this.style.hasOwnProperty(e)&&(t||=document.createElement(`span`),t.style[e]=this.style[e]);return t?(t.appendChild(e),t):e}toMarkup(){let e=!1,t=`<span`;this.classes.length&&(e=!0,t+=` class="`,t+=p.escape(ce(this.classes)),t+=`"`);let n=``;for(let e in this.italic>0&&(n+=`margin-right:`+this.italic+`em;`),this.style)this.style.hasOwnProperty(e)&&(n+=p.hyphenate(e)+`:`+this.style[e]+`;`);n&&(e=!0,t+=` style="`+p.escape(n)+`"`);let r=p.escape(this.text);return e?(t+=`>`,t+=r,t+=`</span>`,t):r}}class ve{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){let e=document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);for(let t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);for(let t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){let e=`<svg xmlns="http://www.w3.org/2000/svg"`;for(let t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=` `+t+`="`+p.escape(this.attributes[t])+`"`);e+=`>`;for(let t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e+=`</svg>`,e}}class ye{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){let e=document.createElementNS(`http://www.w3.org/2000/svg`,`path`);return this.alternate?e.setAttribute(`d`,this.alternate):e.setAttribute(`d`,z[this.pathName]),e}toMarkup(){return this.alternate?`<path d="`+p.escape(this.alternate)+`"/>`:`<path d="`+p.escape(z[this.pathName])+`"/>`}}class be{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){let e=document.createElementNS(`http://www.w3.org/2000/svg`,`line`);for(let t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);return e}toMarkup(){let e=`<line`;for(let t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=` `+t+`="`+p.escape(this.attributes[t])+`"`);return e+=`/>`,e}}function xe(e){if(e instanceof _e)return e;throw Error(`Expected symbolNode but got `+String(e)+`.`)}function Se(e){if(e instanceof pe)return e;throw Error(`Expected span<HtmlDomNode> but got `+String(e)+`.`)}let Ce={bin:1,close:1,inner:1,open:1,punct:1,rel:1},we={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Te={math:{},text:{}};var Ee=Te;function X(e,t,n,r,i,a){Te[e][i]={font:t,group:n,replace:r},a&&r&&(Te[e][r]=Te[e][i])}let Z=`math`,De=`text`,Q=`main`,Oe=`accent-token`,ke=`close`,Ae=`inner`,je=`mathord`,Me=`op-token`,Ne=`open`,Pe=`punct`,Fe=`spacing`,Ie=`textord`;X(Z,Q,`rel`,``,`\\equiv`,!0),X(Z,Q,`rel`,``,`\\prec`,!0),X(Z,Q,`rel`,``,`\\succ`,!0),X(Z,Q,`rel`,``,`\\sim`,!0),X(Z,Q,`rel`,``,`\\perp`),X(Z,Q,`rel`,``,`\\preceq`,!0),X(Z,Q,`rel`,``,`\\succeq`,!0),X(Z,Q,`rel`,``,`\\simeq`,!0),X(Z,Q,`rel`,``,`\\mid`,!0),X(Z,Q,`rel`,``,`\\ll`,!0),X(Z,Q,`rel`,``,`\\gg`,!0),X(Z,Q,`rel`,``,`\\asymp`,!0),X(Z,Q,`rel`,``,`\\parallel`),X(Z,Q,`rel`,``,`\\bowtie`,!0),X(Z,Q,`rel`,``,`\\smile`,!0),X(Z,Q,`rel`,``,`\\sqsubseteq`,!0),X(Z,Q,`rel`,``,`\\sqsupseteq`,!0),X(Z,Q,`rel`,``,`\\doteq`,!0),X(Z,Q,`rel`,``,`\\frown`,!0),X(Z,Q,`rel`,``,`\\ni`,!0),X(Z,Q,`rel`,``,`\\propto`,!0),X(Z,Q,`rel`,``,`\\vdash`,!0),X(Z,Q,`rel`,``,`\\dashv`,!0),X(Z,Q,`rel`,``,`\\owns`),X(Z,Q,Pe,`.`,`\\ldotp`),X(Z,Q,Pe,``,`\\cdotp`),X(Z,Q,Ie,`#`,`\\#`),X(De,Q,Ie,`#`,`\\#`),X(Z,Q,Ie,`&`,`\\&`),X(De,Q,Ie,`&`,`\\&`),X(Z,Q,Ie,``,`\\aleph`,!0),X(Z,Q,Ie,``,`\\forall`,!0),X(Z,Q,Ie,``,`\\hbar`,!0),X(Z,Q,Ie,``,`\\exists`,!0),X(Z,Q,Ie,``,`\\nabla`,!0),X(Z,Q,Ie,``,`\\flat`,!0),X(Z,Q,Ie,``,`\\ell`,!0),X(Z,Q,Ie,``,`\\natural`,!0),X(Z,Q,Ie,``,`\\clubsuit`,!0),X(Z,Q,Ie,``,`\\wp`,!0),X(Z,Q,Ie,``,`\\sharp`,!0),X(Z,Q,Ie,``,`\\diamondsuit`,!0),X(Z,Q,Ie,``,`\\Re`,!0),X(Z,Q,Ie,``,`\\heartsuit`,!0),X(Z,Q,Ie,``,`\\Im`,!0),X(Z,Q,Ie,``,`\\spadesuit`,!0),X(Z,Q,Ie,``,`\\S`,!0),X(De,Q,Ie,``,`\\S`),X(Z,Q,Ie,``,`\\P`,!0),X(De,Q,Ie,``,`\\P`),X(Z,Q,Ie,``,`\\dag`),X(De,Q,Ie,``,`\\dag`),X(De,Q,Ie,``,`\\textdagger`),X(Z,Q,Ie,``,`\\ddag`),X(De,Q,Ie,``,`\\ddag`),X(De,Q,Ie,``,`\\textdaggerdbl`),X(Z,Q,ke,``,`\\rmoustache`,!0),X(Z,Q,Ne,``,`\\lmoustache`,!0),X(Z,Q,ke,``,`\\rgroup`,!0),X(Z,Q,Ne,``,`\\lgroup`,!0),X(Z,Q,`bin`,``,`\\mp`,!0),X(Z,Q,`bin`,``,`\\ominus`,!0),X(Z,Q,`bin`,``,`\\uplus`,!0),X(Z,Q,`bin`,``,`\\sqcap`,!0),X(Z,Q,`bin`,``,`\\ast`),X(Z,Q,`bin`,``,`\\sqcup`,!0),X(Z,Q,`bin`,``,`\\bigcirc`,!0),X(Z,Q,`bin`,``,`\\bullet`,!0),X(Z,Q,`bin`,``,`\\ddagger`),X(Z,Q,`bin`,``,`\\wr`,!0),X(Z,Q,`bin`,``,`\\amalg`),X(Z,Q,`bin`,`&`,`\\And`),X(Z,Q,`rel`,``,`\\longleftarrow`,!0),X(Z,Q,`rel`,``,`\\Leftarrow`,!0),X(Z,Q,`rel`,``,`\\Longleftarrow`,!0),X(Z,Q,`rel`,``,`\\longrightarrow`,!0),X(Z,Q,`rel`,``,`\\Rightarrow`,!0),X(Z,Q,`rel`,``,`\\Longrightarrow`,!0),X(Z,Q,`rel`,``,`\\leftrightarrow`,!0),X(Z,Q,`rel`,``,`\\longleftrightarrow`,!0),X(Z,Q,`rel`,``,`\\Leftrightarrow`,!0),X(Z,Q,`rel`,``,`\\Longleftrightarrow`,!0),X(Z,Q,`rel`,``,`\\mapsto`,!0),X(Z,Q,`rel`,``,`\\longmapsto`,!0),X(Z,Q,`rel`,``,`\\nearrow`,!0),X(Z,Q,`rel`,``,`\\hookleftarrow`,!0),X(Z,Q,`rel`,``,`\\hookrightarrow`,!0),X(Z,Q,`rel`,``,`\\searrow`,!0),X(Z,Q,`rel`,``,`\\leftharpoonup`,!0),X(Z,Q,`rel`,``,`\\rightharpoonup`,!0),X(Z,Q,`rel`,``,`\\swarrow`,!0),X(Z,Q,`rel`,``,`\\leftharpoondown`,!0),X(Z,Q,`rel`,``,`\\rightharpoondown`,!0),X(Z,Q,`rel`,``,`\\nwarrow`,!0),X(Z,Q,`rel`,``,`\\rightleftharpoons`,!0),X(Z,`ams`,`rel`,``,`\\nless`,!0),X(Z,`ams`,`rel`,``,`\\@nleqslant`),X(Z,`ams`,`rel`,``,`\\@nleqq`),X(Z,`ams`,`rel`,``,`\\lneq`,!0),X(Z,`ams`,`rel`,``,`\\lneqq`,!0),X(Z,`ams`,`rel`,``,`\\@lvertneqq`),X(Z,`ams`,`rel`,``,`\\lnsim`,!0),X(Z,`ams`,`rel`,``,`\\lnapprox`,!0),X(Z,`ams`,`rel`,``,`\\nprec`,!0),X(Z,`ams`,`rel`,``,`\\npreceq`,!0),X(Z,`ams`,`rel`,``,`\\precnsim`,!0),X(Z,`ams`,`rel`,``,`\\precnapprox`,!0),X(Z,`ams`,`rel`,``,`\\nsim`,!0),X(Z,`ams`,`rel`,``,`\\@nshortmid`),X(Z,`ams`,`rel`,``,`\\nmid`,!0),X(Z,`ams`,`rel`,``,`\\nvdash`,!0),X(Z,`ams`,`rel`,``,`\\nvDash`,!0),X(Z,`ams`,`rel`,``,`\\ntriangleleft`),X(Z,`ams`,`rel`,``,`\\ntrianglelefteq`,!0),X(Z,`ams`,`rel`,``,`\\subsetneq`,!0),X(Z,`ams`,`rel`,``,`\\@varsubsetneq`),X(Z,`ams`,`rel`,``,`\\subsetneqq`,!0),X(Z,`ams`,`rel`,``,`\\@varsubsetneqq`),X(Z,`ams`,`rel`,``,`\\ngtr`,!0),X(Z,`ams`,`rel`,``,`\\@ngeqslant`),X(Z,`ams`,`rel`,``,`\\@ngeqq`),X(Z,`ams`,`rel`,``,`\\gneq`,!0),X(Z,`ams`,`rel`,``,`\\gneqq`,!0),X(Z,`ams`,`rel`,``,`\\@gvertneqq`),X(Z,`ams`,`rel`,``,`\\gnsim`,!0),X(Z,`ams`,`rel`,``,`\\gnapprox`,!0),X(Z,`ams`,`rel`,``,`\\nsucc`,!0),X(Z,`ams`,`rel`,``,`\\nsucceq`,!0),X(Z,`ams`,`rel`,``,`\\succnsim`,!0),X(Z,`ams`,`rel`,``,`\\succnapprox`,!0),X(Z,`ams`,`rel`,``,`\\ncong`,!0),X(Z,`ams`,`rel`,``,`\\@nshortparallel`),X(Z,`ams`,`rel`,``,`\\nparallel`,!0),X(Z,`ams`,`rel`,``,`\\nVDash`,!0),X(Z,`ams`,`rel`,``,`\\ntriangleright`),X(Z,`ams`,`rel`,``,`\\ntrianglerighteq`,!0),X(Z,`ams`,`rel`,``,`\\@nsupseteqq`),X(Z,`ams`,`rel`,``,`\\supsetneq`,!0),X(Z,`ams`,`rel`,``,`\\@varsupsetneq`),X(Z,`ams`,`rel`,``,`\\supsetneqq`,!0),X(Z,`ams`,`rel`,``,`\\@varsupsetneqq`),X(Z,`ams`,`rel`,``,`\\nVdash`,!0),X(Z,`ams`,`rel`,``,`\\precneqq`,!0),X(Z,`ams`,`rel`,``,`\\succneqq`,!0),X(Z,`ams`,`rel`,``,`\\@nsubseteqq`),X(Z,`ams`,`bin`,``,`\\unlhd`),X(Z,`ams`,`bin`,``,`\\unrhd`),X(Z,`ams`,`rel`,``,`\\nleftarrow`,!0),X(Z,`ams`,`rel`,``,`\\nrightarrow`,!0),X(Z,`ams`,`rel`,``,`\\nLeftarrow`,!0),X(Z,`ams`,`rel`,``,`\\nRightarrow`,!0),X(Z,`ams`,`rel`,``,`\\nleftrightarrow`,!0),X(Z,`ams`,`rel`,``,`\\nLeftrightarrow`,!0),X(Z,`ams`,`rel`,``,`\\vartriangle`),X(Z,`ams`,Ie,``,`\\hslash`),X(Z,`ams`,Ie,``,`\\triangledown`),X(Z,`ams`,Ie,``,`\\lozenge`),X(Z,`ams`,Ie,``,`\\circledS`),X(Z,`ams`,Ie,``,`\\circledR`),X(De,`ams`,Ie,``,`\\circledR`),X(Z,`ams`,Ie,``,`\\measuredangle`,!0),X(Z,`ams`,Ie,``,`\\nexists`),X(Z,`ams`,Ie,``,`\\mho`),X(Z,`ams`,Ie,``,`\\Finv`,!0),X(Z,`ams`,Ie,``,`\\Game`,!0),X(Z,`ams`,Ie,``,`\\backprime`),X(Z,`ams`,Ie,``,`\\blacktriangle`),X(Z,`ams`,Ie,``,`\\blacktriangledown`),X(Z,`ams`,Ie,``,`\\blacksquare`),X(Z,`ams`,Ie,``,`\\blacklozenge`),X(Z,`ams`,Ie,``,`\\bigstar`),X(Z,`ams`,Ie,``,`\\sphericalangle`,!0),X(Z,`ams`,Ie,``,`\\complement`,!0),X(Z,`ams`,Ie,``,`\\eth`,!0),X(De,Q,Ie,``,``),X(Z,`ams`,Ie,``,`\\diagup`),X(Z,`ams`,Ie,``,`\\diagdown`),X(Z,`ams`,Ie,``,`\\square`),X(Z,`ams`,Ie,``,`\\Box`),X(Z,`ams`,Ie,``,`\\Diamond`),X(Z,`ams`,Ie,``,`\\yen`,!0),X(De,`ams`,Ie,``,`\\yen`,!0),X(Z,`ams`,Ie,``,`\\checkmark`,!0),X(De,`ams`,Ie,``,`\\checkmark`),X(Z,`ams`,Ie,``,`\\beth`,!0),X(Z,`ams`,Ie,``,`\\daleth`,!0),X(Z,`ams`,Ie,``,`\\gimel`,!0),X(Z,`ams`,Ie,``,`\\digamma`,!0),X(Z,`ams`,Ie,``,`\\varkappa`),X(Z,`ams`,Ne,``,`\\@ulcorner`,!0),X(Z,`ams`,ke,``,`\\@urcorner`,!0),X(Z,`ams`,Ne,``,`\\@llcorner`,!0),X(Z,`ams`,ke,``,`\\@lrcorner`,!0),X(Z,`ams`,`rel`,``,`\\leqq`,!0),X(Z,`ams`,`rel`,``,`\\leqslant`,!0),X(Z,`ams`,`rel`,``,`\\eqslantless`,!0),X(Z,`ams`,`rel`,``,`\\lesssim`,!0),X(Z,`ams`,`rel`,``,`\\lessapprox`,!0),X(Z,`ams`,`rel`,``,`\\approxeq`,!0),X(Z,`ams`,`bin`,``,`\\lessdot`),X(Z,`ams`,`rel`,``,`\\lll`,!0),X(Z,`ams`,`rel`,``,`\\lessgtr`,!0),X(Z,`ams`,`rel`,``,`\\lesseqgtr`,!0),X(Z,`ams`,`rel`,``,`\\lesseqqgtr`,!0),X(Z,`ams`,`rel`,``,`\\doteqdot`),X(Z,`ams`,`rel`,``,`\\risingdotseq`,!0),X(Z,`ams`,`rel`,``,`\\fallingdotseq`,!0),X(Z,`ams`,`rel`,``,`\\backsim`,!0),X(Z,`ams`,`rel`,``,`\\backsimeq`,!0),X(Z,`ams`,`rel`,``,`\\subseteqq`,!0),X(Z,`ams`,`rel`,``,`\\Subset`,!0),X(Z,`ams`,`rel`,``,`\\sqsubset`,!0),X(Z,`ams`,`rel`,``,`\\preccurlyeq`,!0),X(Z,`ams`,`rel`,``,`\\curlyeqprec`,!0),X(Z,`ams`,`rel`,``,`\\precsim`,!0),X(Z,`ams`,`rel`,``,`\\precapprox`,!0),X(Z,`ams`,`rel`,``,`\\vartriangleleft`),X(Z,`ams`,`rel`,``,`\\trianglelefteq`),X(Z,`ams`,`rel`,``,`\\vDash`,!0),X(Z,`ams`,`rel`,``,`\\Vvdash`,!0),X(Z,`ams`,`rel`,``,`\\smallsmile`),X(Z,`ams`,`rel`,``,`\\smallfrown`),X(Z,`ams`,`rel`,``,`\\bumpeq`,!0),X(Z,`ams`,`rel`,``,`\\Bumpeq`,!0),X(Z,`ams`,`rel`,``,`\\geqq`,!0),X(Z,`ams`,`rel`,``,`\\geqslant`,!0),X(Z,`ams`,`rel`,``,`\\eqslantgtr`,!0),X(Z,`ams`,`rel`,``,`\\gtrsim`,!0),X(Z,`ams`,`rel`,``,`\\gtrapprox`,!0),X(Z,`ams`,`bin`,``,`\\gtrdot`),X(Z,`ams`,`rel`,``,`\\ggg`,!0),X(Z,`ams`,`rel`,``,`\\gtrless`,!0),X(Z,`ams`,`rel`,``,`\\gtreqless`,!0),X(Z,`ams`,`rel`,``,`\\gtreqqless`,!0),X(Z,`ams`,`rel`,``,`\\eqcirc`,!0),X(Z,`ams`,`rel`,``,`\\circeq`,!0),X(Z,`ams`,`rel`,``,`\\triangleq`,!0),X(Z,`ams`,`rel`,``,`\\thicksim`),X(Z,`ams`,`rel`,``,`\\thickapprox`),X(Z,`ams`,`rel`,``,`\\supseteqq`,!0),X(Z,`ams`,`rel`,``,`\\Supset`,!0),X(Z,`ams`,`rel`,``,`\\sqsupset`,!0),X(Z,`ams`,`rel`,``,`\\succcurlyeq`,!0),X(Z,`ams`,`rel`,``,`\\curlyeqsucc`,!0),X(Z,`ams`,`rel`,``,`\\succsim`,!0),X(Z,`ams`,`rel`,``,`\\succapprox`,!0),X(Z,`ams`,`rel`,``,`\\vartriangleright`),X(Z,`ams`,`rel`,``,`\\trianglerighteq`),X(Z,`ams`,`rel`,``,`\\Vdash`,!0),X(Z,`ams`,`rel`,``,`\\shortmid`),X(Z,`ams`,`rel`,``,`\\shortparallel`),X(Z,`ams`,`rel`,``,`\\between`,!0),X(Z,`ams`,`rel`,``,`\\pitchfork`,!0),X(Z,`ams`,`rel`,``,`\\varpropto`),X(Z,`ams`,`rel`,``,`\\blacktriangleleft`),X(Z,`ams`,`rel`,``,`\\therefore`,!0),X(Z,`ams`,`rel`,``,`\\backepsilon`),X(Z,`ams`,`rel`,``,`\\blacktriangleright`),X(Z,`ams`,`rel`,``,`\\because`,!0),X(Z,`ams`,`rel`,``,`\\llless`),X(Z,`ams`,`rel`,``,`\\gggtr`),X(Z,`ams`,`bin`,``,`\\lhd`),X(Z,`ams`,`bin`,``,`\\rhd`),X(Z,`ams`,`rel`,``,`\\eqsim`,!0),X(Z,Q,`rel`,``,`\\Join`),X(Z,`ams`,`rel`,``,`\\Doteq`,!0),X(Z,`ams`,`bin`,``,`\\dotplus`,!0),X(Z,`ams`,`bin`,``,`\\smallsetminus`),X(Z,`ams`,`bin`,``,`\\Cap`,!0),X(Z,`ams`,`bin`,``,`\\Cup`,!0),X(Z,`ams`,`bin`,``,`\\doublebarwedge`,!0),X(Z,`ams`,`bin`,``,`\\boxminus`,!0),X(Z,`ams`,`bin`,``,`\\boxplus`,!0),X(Z,`ams`,`bin`,``,`\\divideontimes`,!0),X(Z,`ams`,`bin`,``,`\\ltimes`,!0),X(Z,`ams`,`bin`,``,`\\rtimes`,!0),X(Z,`ams`,`bin`,``,`\\leftthreetimes`,!0),X(Z,`ams`,`bin`,``,`\\rightthreetimes`,!0),X(Z,`ams`,`bin`,``,`\\curlywedge`,!0),X(Z,`ams`,`bin`,``,`\\curlyvee`,!0),X(Z,`ams`,`bin`,``,`\\circleddash`,!0),X(Z,`ams`,`bin`,``,`\\circledast`,!0),X(Z,`ams`,`bin`,``,`\\centerdot`),X(Z,`ams`,`bin`,``,`\\intercal`,!0),X(Z,`ams`,`bin`,``,`\\doublecap`),X(Z,`ams`,`bin`,``,`\\doublecup`),X(Z,`ams`,`bin`,``,`\\boxtimes`,!0),X(Z,`ams`,`rel`,``,`\\dashrightarrow`,!0),X(Z,`ams`,`rel`,``,`\\dashleftarrow`,!0),X(Z,`ams`,`rel`,``,`\\leftleftarrows`,!0),X(Z,`ams`,`rel`,``,`\\leftrightarrows`,!0),X(Z,`ams`,`rel`,``,`\\Lleftarrow`,!0),X(Z,`ams`,`rel`,``,`\\twoheadleftarrow`,!0),X(Z,`ams`,`rel`,``,`\\leftarrowtail`,!0),X(Z,`ams`,`rel`,``,`\\looparrowleft`,!0),X(Z,`ams`,`rel`,``,`\\leftrightharpoons`,!0),X(Z,`ams`,`rel`,``,`\\curvearrowleft`,!0),X(Z,`ams`,`rel`,``,`\\circlearrowleft`,!0),X(Z,`ams`,`rel`,``,`\\Lsh`,!0),X(Z,`ams`,`rel`,``,`\\upuparrows`,!0),X(Z,`ams`,`rel`,``,`\\upharpoonleft`,!0),X(Z,`ams`,`rel`,``,`\\downharpoonleft`,!0),X(Z,Q,`rel`,``,`\\origof`,!0),X(Z,Q,`rel`,``,`\\imageof`,!0),X(Z,`ams`,`rel`,``,`\\multimap`,!0),X(Z,`ams`,`rel`,``,`\\leftrightsquigarrow`,!0),X(Z,`ams`,`rel`,``,`\\rightrightarrows`,!0),X(Z,`ams`,`rel`,``,`\\rightleftarrows`,!0),X(Z,`ams`,`rel`,``,`\\twoheadrightarrow`,!0),X(Z,`ams`,`rel`,``,`\\rightarrowtail`,!0),X(Z,`ams`,`rel`,``,`\\looparrowright`,!0),X(Z,`ams`,`rel`,``,`\\curvearrowright`,!0),X(Z,`ams`,`rel`,``,`\\circlearrowright`,!0),X(Z,`ams`,`rel`,``,`\\Rsh`,!0),X(Z,`ams`,`rel`,``,`\\downdownarrows`,!0),X(Z,`ams`,`rel`,``,`\\upharpoonright`,!0),X(Z,`ams`,`rel`,``,`\\downharpoonright`,!0),X(Z,`ams`,`rel`,``,`\\rightsquigarrow`,!0),X(Z,`ams`,`rel`,``,`\\leadsto`),X(Z,`ams`,`rel`,``,`\\Rrightarrow`,!0),X(Z,`ams`,`rel`,``,`\\restriction`),X(Z,Q,Ie,``,"`"),X(Z,Q,Ie,`$`,`\\$`),X(De,Q,Ie,`$`,`\\$`),X(De,Q,Ie,`$`,`\\textdollar`),X(Z,Q,Ie,`%`,`\\%`),X(De,Q,Ie,`%`,`\\%`),X(Z,Q,Ie,`_`,`\\_`),X(De,Q,Ie,`_`,`\\_`),X(De,Q,Ie,`_`,`\\textunderscore`),X(Z,Q,Ie,``,`\\angle`,!0),X(Z,Q,Ie,``,`\\infty`,!0),X(Z,Q,Ie,``,`\\prime`),X(Z,Q,Ie,``,`\\triangle`),X(Z,Q,Ie,``,`\\Gamma`,!0),X(Z,Q,Ie,``,`\\Delta`,!0),X(Z,Q,Ie,``,`\\Theta`,!0),X(Z,Q,Ie,``,`\\Lambda`,!0),X(Z,Q,Ie,``,`\\Xi`,!0),X(Z,Q,Ie,``,`\\Pi`,!0),X(Z,Q,Ie,``,`\\Sigma`,!0),X(Z,Q,Ie,``,`\\Upsilon`,!0),X(Z,Q,Ie,``,`\\Phi`,!0),X(Z,Q,Ie,``,`\\Psi`,!0),X(Z,Q,Ie,``,`\\Omega`,!0),X(Z,Q,Ie,`A`,``),X(Z,Q,Ie,`B`,``),X(Z,Q,Ie,`E`,``),X(Z,Q,Ie,`Z`,``),X(Z,Q,Ie,`H`,``),X(Z,Q,Ie,`I`,``),X(Z,Q,Ie,`K`,``),X(Z,Q,Ie,`M`,``),X(Z,Q,Ie,`N`,``),X(Z,Q,Ie,`O`,``),X(Z,Q,Ie,`P`,``),X(Z,Q,Ie,`T`,``),X(Z,Q,Ie,`X`,``),X(Z,Q,Ie,``,`\\neg`,!0),X(Z,Q,Ie,``,`\\lnot`),X(Z,Q,Ie,``,`\\top`),X(Z,Q,Ie,``,`\\bot`),X(Z,Q,Ie,``,`\\emptyset`),X(Z,`ams`,Ie,``,`\\varnothing`),X(Z,Q,je,``,`\\alpha`,!0),X(Z,Q,je,``,`\\beta`,!0),X(Z,Q,je,``,`\\gamma`,!0),X(Z,Q,je,``,`\\delta`,!0),X(Z,Q,je,``,`\\epsilon`,!0),X(Z,Q,je,``,`\\zeta`,!0),X(Z,Q,je,``,`\\eta`,!0),X(Z,Q,je,``,`\\theta`,!0),X(Z,Q,je,``,`\\iota`,!0),X(Z,Q,je,``,`\\kappa`,!0),X(Z,Q,je,``,`\\lambda`,!0),X(Z,Q,je,``,`\\mu`,!0),X(Z,Q,je,``,`\\nu`,!0),X(Z,Q,je,``,`\\xi`,!0),X(Z,Q,je,``,`\\omicron`,!0),X(Z,Q,je,``,`\\pi`,!0),X(Z,Q,je,``,`\\rho`,!0),X(Z,Q,je,``,`\\sigma`,!0),X(Z,Q,je,``,`\\tau`,!0),X(Z,Q,je,``,`\\upsilon`,!0),X(Z,Q,je,``,`\\phi`,!0),X(Z,Q,je,``,`\\chi`,!0),X(Z,Q,je,``,`\\psi`,!0),X(Z,Q,je,``,`\\omega`,!0),X(Z,Q,je,``,`\\varepsilon`,!0),X(Z,Q,je,``,`\\vartheta`,!0),X(Z,Q,je,``,`\\varpi`,!0),X(Z,Q,je,``,`\\varrho`,!0),X(Z,Q,je,``,`\\varsigma`,!0),X(Z,Q,je,``,`\\varphi`,!0),X(Z,Q,`bin`,``,`*`,!0),X(Z,Q,`bin`,`+`,`+`),X(Z,Q,`bin`,``,`-`,!0),X(Z,Q,`bin`,``,`\\cdot`,!0),X(Z,Q,`bin`,``,`\\circ`,!0),X(Z,Q,`bin`,``,`\\div`,!0),X(Z,Q,`bin`,``,`\\pm`,!0),X(Z,Q,`bin`,``,`\\times`,!0),X(Z,Q,`bin`,``,`\\cap`,!0),X(Z,Q,`bin`,``,`\\cup`,!0),X(Z,Q,`bin`,``,`\\setminus`,!0),X(Z,Q,`bin`,``,`\\land`),X(Z,Q,`bin`,``,`\\lor`),X(Z,Q,`bin`,``,`\\wedge`,!0),X(Z,Q,`bin`,``,`\\vee`,!0),X(Z,Q,Ie,``,`\\surd`),X(Z,Q,Ne,``,`\\langle`,!0),X(Z,Q,Ne,``,`\\lvert`),X(Z,Q,Ne,``,`\\lVert`),X(Z,Q,ke,`?`,`?`),X(Z,Q,ke,`!`,`!`),X(Z,Q,ke,``,`\\rangle`,!0),X(Z,Q,ke,``,`\\rvert`),X(Z,Q,ke,``,`\\rVert`),X(Z,Q,`rel`,`=`,`=`),X(Z,Q,`rel`,`:`,`:`),X(Z,Q,`rel`,``,`\\approx`,!0),X(Z,Q,`rel`,``,`\\cong`,!0),X(Z,Q,`rel`,``,`\\ge`),X(Z,Q,`rel`,``,`\\geq`,!0),X(Z,Q,`rel`,``,`\\gets`),X(Z,Q,`rel`,`>`,`\\gt`,!0),X(Z,Q,`rel`,``,`\\in`,!0),X(Z,Q,`rel`,``,`\\@not`),X(Z,Q,`rel`,``,`\\subset`,!0),X(Z,Q,`rel`,``,`\\supset`,!0),X(Z,Q,`rel`,``,`\\subseteq`,!0),X(Z,Q,`rel`,``,`\\supseteq`,!0),X(Z,`ams`,`rel`,``,`\\nsubseteq`,!0),X(Z,`ams`,`rel`,``,`\\nsupseteq`,!0),X(Z,Q,`rel`,``,`\\models`),X(Z,Q,`rel`,``,`\\leftarrow`,!0),X(Z,Q,`rel`,``,`\\le`),X(Z,Q,`rel`,``,`\\leq`,!0),X(Z,Q,`rel`,`<`,`\\lt`,!0),X(Z,Q,`rel`,``,`\\rightarrow`,!0),X(Z,Q,`rel`,``,`\\to`),X(Z,`ams`,`rel`,``,`\\ngeq`,!0),X(Z,`ams`,`rel`,``,`\\nleq`,!0),X(Z,Q,Fe,`\xA0`,`\\ `),X(Z,Q,Fe,`\xA0`,`\\space`),X(Z,Q,Fe,`\xA0`,`\\nobreakspace`),X(De,Q,Fe,`\xA0`,`\\ `),X(De,Q,Fe,`\xA0`,` `),X(De,Q,Fe,`\xA0`,`\\space`),X(De,Q,Fe,`\xA0`,`\\nobreakspace`),X(Z,Q,Fe,null,`\\nobreak`),X(Z,Q,Fe,null,`\\allowbreak`),X(Z,Q,Pe,`,`,`,`),X(Z,Q,Pe,`;`,`;`),X(Z,`ams`,`bin`,``,`\\barwedge`,!0),X(Z,`ams`,`bin`,``,`\\veebar`,!0),X(Z,Q,`bin`,``,`\\odot`,!0),X(Z,Q,`bin`,``,`\\oplus`,!0),X(Z,Q,`bin`,``,`\\otimes`,!0),X(Z,Q,Ie,``,`\\partial`,!0),X(Z,Q,`bin`,``,`\\oslash`,!0),X(Z,`ams`,`bin`,``,`\\circledcirc`,!0),X(Z,`ams`,`bin`,``,`\\boxdot`,!0),X(Z,Q,`bin`,``,`\\bigtriangleup`),X(Z,Q,`bin`,``,`\\bigtriangledown`),X(Z,Q,`bin`,``,`\\dagger`),X(Z,Q,`bin`,``,`\\diamond`),X(Z,Q,`bin`,``,`\\star`),X(Z,Q,`bin`,``,`\\triangleleft`),X(Z,Q,`bin`,``,`\\triangleright`),X(Z,Q,Ne,`{`,`\\{`),X(De,Q,Ie,`{`,`\\{`),X(De,Q,Ie,`{`,`\\textbraceleft`),X(Z,Q,ke,`}`,`\\}`),X(De,Q,Ie,`}`,`\\}`),X(De,Q,Ie,`}`,`\\textbraceright`),X(Z,Q,Ne,`{`,`\\lbrace`),X(Z,Q,ke,`}`,`\\rbrace`),X(Z,Q,Ne,`[`,`\\lbrack`,!0),X(De,Q,Ie,`[`,`\\lbrack`,!0),X(Z,Q,ke,`]`,`\\rbrack`,!0),X(De,Q,Ie,`]`,`\\rbrack`,!0),X(Z,Q,Ne,`(`,`\\lparen`,!0),X(Z,Q,ke,`)`,`\\rparen`,!0),X(De,Q,Ie,`<`,`\\textless`,!0),X(De,Q,Ie,`>`,`\\textgreater`,!0),X(Z,Q,Ne,``,`\\lfloor`,!0),X(Z,Q,ke,``,`\\rfloor`,!0),X(Z,Q,Ne,``,`\\lceil`,!0),X(Z,Q,ke,``,`\\rceil`,!0),X(Z,Q,Ie,`\\`,`\\backslash`),X(Z,Q,Ie,``,`|`),X(Z,Q,Ie,``,`\\vert`),X(De,Q,Ie,`|`,`\\textbar`,!0),X(Z,Q,Ie,``,`\\|`),X(Z,Q,Ie,``,`\\Vert`),X(De,Q,Ie,``,`\\textbardbl`),X(De,Q,Ie,`~`,`\\textasciitilde`),X(De,Q,Ie,`\\`,`\\textbackslash`),X(De,Q,Ie,`^`,`\\textasciicircum`),X(Z,Q,`rel`,``,`\\uparrow`,!0),X(Z,Q,`rel`,``,`\\Uparrow`,!0),X(Z,Q,`rel`,``,`\\downarrow`,!0),X(Z,Q,`rel`,``,`\\Downarrow`,!0),X(Z,Q,`rel`,``,`\\updownarrow`,!0),X(Z,Q,`rel`,``,`\\Updownarrow`,!0),X(Z,Q,Me,``,`\\coprod`),X(Z,Q,Me,``,`\\bigvee`),X(Z,Q,Me,``,`\\bigwedge`),X(Z,Q,Me,``,`\\biguplus`),X(Z,Q,Me,``,`\\bigcap`),X(Z,Q,Me,``,`\\bigcup`),X(Z,Q,Me,``,`\\int`),X(Z,Q,Me,``,`\\intop`),X(Z,Q,Me,``,`\\iint`),X(Z,Q,Me,``,`\\iiint`),X(Z,Q,Me,``,`\\prod`),X(Z,Q,Me,``,`\\sum`),X(Z,Q,Me,``,`\\bigotimes`),X(Z,Q,Me,``,`\\bigoplus`),X(Z,Q,Me,``,`\\bigodot`),X(Z,Q,Me,``,`\\oint`),X(Z,Q,Me,``,`\\oiint`),X(Z,Q,Me,``,`\\oiiint`),X(Z,Q,Me,``,`\\bigsqcup`),X(Z,Q,Me,``,`\\smallint`),X(De,Q,Ae,``,`\\textellipsis`),X(Z,Q,Ae,``,`\\mathellipsis`),X(De,Q,Ae,``,`\\ldots`,!0),X(Z,Q,Ae,``,`\\ldots`,!0),X(Z,Q,Ae,``,`\\@cdots`,!0),X(Z,Q,Ae,``,`\\ddots`,!0),X(Z,Q,Ie,``,`\\varvdots`),X(De,Q,Ie,``,`\\varvdots`),X(Z,Q,Oe,``,`\\acute`),X(Z,Q,Oe,``,`\\grave`),X(Z,Q,Oe,``,`\\ddot`),X(Z,Q,Oe,`~`,`\\tilde`),X(Z,Q,Oe,``,`\\bar`),X(Z,Q,Oe,``,`\\breve`),X(Z,Q,Oe,``,`\\check`),X(Z,Q,Oe,`^`,`\\hat`),X(Z,Q,Oe,``,`\\vec`),X(Z,Q,Oe,``,`\\dot`),X(Z,Q,Oe,``,`\\mathring`),X(Z,Q,je,``,`\\@imath`),X(Z,Q,je,``,`\\@jmath`),X(Z,Q,Ie,``,``),X(Z,Q,Ie,``,``),X(De,Q,Ie,``,`\\i`,!0),X(De,Q,Ie,``,`\\j`,!0),X(De,Q,Ie,``,`\\ss`,!0),X(De,Q,Ie,``,`\\ae`,!0),X(De,Q,Ie,``,`\\oe`,!0),X(De,Q,Ie,``,`\\o`,!0),X(De,Q,Ie,``,`\\AE`,!0),X(De,Q,Ie,``,`\\OE`,!0),X(De,Q,Ie,``,`\\O`,!0),X(De,Q,Oe,``,`\\'`),X(De,Q,Oe,``,"\\`"),X(De,Q,Oe,``,`\\^`),X(De,Q,Oe,``,`\\~`),X(De,Q,Oe,``,`\\=`),X(De,Q,Oe,``,`\\u`),X(De,Q,Oe,``,`\\.`),X(De,Q,Oe,``,`\\c`),X(De,Q,Oe,``,`\\r`),X(De,Q,Oe,``,`\\v`),X(De,Q,Oe,``,`\\"`),X(De,Q,Oe,``,`\\H`),X(De,Q,Oe,``,`\\textcircled`);let Le={"--":!0,"---":!0,"``":!0,"''":!0};X(De,Q,Ie,``,`--`,!0),X(De,Q,Ie,``,`\\textendash`),X(De,Q,Ie,``,`---`,!0),X(De,Q,Ie,``,`\\textemdash`),X(De,Q,Ie,``,"`",!0),X(De,Q,Ie,``,`\\textquoteleft`),X(De,Q,Ie,``,`'`,!0),X(De,Q,Ie,``,`\\textquoteright`),X(De,Q,Ie,``,"``",!0),X(De,Q,Ie,``,`\\textquotedblleft`),X(De,Q,Ie,``,`''`,!0),X(De,Q,Ie,``,`\\textquotedblright`),X(Z,Q,Ie,``,`\\degree`,!0),X(De,Q,Ie,``,`\\degree`),X(De,Q,Ie,``,`\\textdegree`,!0),X(Z,Q,Ie,``,`\\pounds`),X(Z,Q,Ie,``,`\\mathsterling`,!0),X(De,Q,Ie,``,`\\pounds`),X(De,Q,Ie,``,`\\textsterling`,!0),X(Z,`ams`,Ie,``,`\\maltese`),X(De,`ams`,Ie,``,`\\maltese`);for(let e=0;e<14;e++){let t=`0123456789/@."`.charAt(e);X(Z,Q,Ie,t,t)}for(let e=0;e<25;e++){let t=`0123456789!@*()-=+";:?/.,`.charAt(e);X(De,Q,Ie,t,t)}let Re=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz`;for(let e=0;e<52;e++){let t=Re.charAt(e);X(Z,Q,je,t,t),X(De,Q,Ie,t,t)}X(Z,`ams`,Ie,`C`,``),X(De,`ams`,Ie,`C`,``),X(Z,`ams`,Ie,`H`,``),X(De,`ams`,Ie,`H`,``),X(Z,`ams`,Ie,`N`,``),X(De,`ams`,Ie,`N`,``),X(Z,`ams`,Ie,`P`,``),X(De,`ams`,Ie,`P`,``),X(Z,`ams`,Ie,`Q`,``),X(De,`ams`,Ie,`Q`,``),X(Z,`ams`,Ie,`R`,``),X(De,`ams`,Ie,`R`,``),X(Z,`ams`,Ie,`Z`,``),X(De,`ams`,Ie,`Z`,``),X(Z,Q,je,`h`,``),X(De,Q,je,`h`,``);let ze=``;for(let e=0;e<52;e++){let t=Re.charAt(e);ze=String.fromCharCode(55349,56320+e),X(Z,Q,je,t,ze),X(De,Q,Ie,t,ze),ze=String.fromCharCode(55349,56372+e),X(Z,Q,je,t,ze),X(De,Q,Ie,t,ze),ze=String.fromCharCode(55349,56424+e),X(Z,Q,je,t,ze),X(De,Q,Ie,t,ze),ze=String.fromCharCode(55349,56580+e),X(Z,Q,je,t,ze),X(De,Q,Ie,t,ze),ze=String.fromCharCode(55349,56684+e),X(Z,Q,je,t,ze),X(De,Q,Ie,t,ze),ze=String.fromCharCode(55349,56736+e),X(Z,Q,je,t,ze),X(De,Q,Ie,t,ze),ze=String.fromCharCode(55349,56788+e),X(Z,Q,je,t,ze),X(De,Q,Ie,t,ze),ze=String.fromCharCode(55349,56840+e),X(Z,Q,je,t,ze),X(De,Q,Ie,t,ze),ze=String.fromCharCode(55349,56944+e),X(Z,Q,je,t,ze),X(De,Q,Ie,t,ze),e<26&&(ze=String.fromCharCode(55349,56632+e),X(Z,Q,je,t,ze),X(De,Q,Ie,t,ze),ze=String.fromCharCode(55349,56476+e),X(Z,Q,je,t,ze),X(De,Q,Ie,t,ze))}ze=String.fromCharCode(55349,56668),X(Z,Q,je,`k`,ze),X(De,Q,Ie,`k`,ze);for(let e=0;e<10;e++){let t=e.toString();ze=String.fromCharCode(55349,57294+e),X(Z,Q,je,t,ze),X(De,Q,Ie,t,ze),ze=String.fromCharCode(55349,57314+e),X(Z,Q,je,t,ze),X(De,Q,Ie,t,ze),ze=String.fromCharCode(55349,57324+e),X(Z,Q,je,t,ze),X(De,Q,Ie,t,ze),ze=String.fromCharCode(55349,57334+e),X(Z,Q,je,t,ze),X(De,Q,Ie,t,ze)}let Be=``;for(let e=0;e<3;e++){let t=Be.charAt(e);X(Z,Q,je,t,t),X(De,Q,Ie,t,t)}let Ve=[[`mathbf`,`textbf`,`Main-Bold`],[`mathbf`,`textbf`,`Main-Bold`],[`mathnormal`,`textit`,`Math-Italic`],[`mathnormal`,`textit`,`Math-Italic`],[`boldsymbol`,`boldsymbol`,`Main-BoldItalic`],[`boldsymbol`,`boldsymbol`,`Main-BoldItalic`],[`mathscr`,`textscr`,`Script-Regular`],[``,``,``],[``,``,``],[``,``,``],[`mathfrak`,`textfrak`,`Fraktur-Regular`],[`mathfrak`,`textfrak`,`Fraktur-Regular`],[`mathbb`,`textbb`,`AMS-Regular`],[`mathbb`,`textbb`,`AMS-Regular`],[`mathboldfrak`,`textboldfrak`,`Fraktur-Regular`],[`mathboldfrak`,`textboldfrak`,`Fraktur-Regular`],[`mathsf`,`textsf`,`SansSerif-Regular`],[`mathsf`,`textsf`,`SansSerif-Regular`],[`mathboldsf`,`textboldsf`,`SansSerif-Bold`],[`mathboldsf`,`textboldsf`,`SansSerif-Bold`],[`mathitsf`,`textitsf`,`SansSerif-Italic`],[`mathitsf`,`textitsf`,`SansSerif-Italic`],[``,``,``],[``,``,``],[`mathtt`,`texttt`,`Typewriter-Regular`],[`mathtt`,`texttt`,`Typewriter-Regular`]],He=[[`mathbf`,`textbf`,`Main-Bold`],[``,``,``],[`mathsf`,`textsf`,`SansSerif-Regular`],[`mathboldsf`,`textboldsf`,`SansSerif-Bold`],[`mathtt`,`texttt`,`Typewriter-Regular`]],Ue=function(e,t){let n=e.charCodeAt(0),i=e.charCodeAt(1),a=(n-55296)*1024+(i-56320)+65536,o=t===`math`?0:1;if(119808<=a&&a<120484){let e=Math.floor((a-119808)/26);return[Ve[e][2],Ve[e][o]]}else if(120782<=a&&a<=120831){let e=Math.floor((a-120782)/10);return[He[e][2],He[e][o]]}else if(a===120485||a===120486)return[Ve[0][2],Ve[0][o]];else if(120486<a&&a<120782)return[``,``];else throw new r(`Unsupported character: `+e)};class We{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){let e=document.createDocumentFragment();for(let t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){let e=``;for(let t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){return this.children.map(e=>e.toText()).join(``)}}let Ge=function(e,t,n){return Ee[n][e]&&Ee[n][e].replace&&(e=Ee[n][e].replace),{value:e,metrics:G(e,t,n)}},Ke=function(e,t,n,r,i){let a=Ge(e,t,n),o=a.metrics;e=a.value;let s;if(o){let t=o.italic;(n===`text`||r&&r.font===`mathit`)&&(t=0),s=new _e(e,o.height,o.depth,t,o.skew,o.width,i)}else typeof console<`u`&&console.warn(`No character metrics `+(`for '`+e+`' in style '`+t+`' and mode '`+n+`'`)),s=new _e(e,0,0,0,0,0,i);if(r){s.maxFontSize=r.sizeMultiplier,r.style.isTight()&&s.classes.push(`mtight`);let e=r.getColor();e&&(s.style.color=e)}return s},qe=function(e,t,n,r){return r===void 0&&(r=[]),n.font===`boldsymbol`&&Ge(e,`Main-Bold`,t).metrics?Ke(e,`Main-Bold`,t,n,r.concat([`mathbf`])):e===`\\`||Ee[t][e].font===`main`?Ke(e,`Main-Regular`,t,n,r):Ke(e,`AMS-Regular`,t,n,r.concat([`amsrm`]))},Je=function(e,t,n,r,i){return i!==`textord`&&Ge(e,`Math-BoldItalic`,t).metrics?{fontName:`Math-BoldItalic`,fontClass:`boldsymbol`}:{fontName:`Main-Bold`,fontClass:`mathbf`}},Ye=function(e,t,n){let r=e.mode,i=e.text,a=[`mord`],o=r===`math`||r===`text`&&t.font,s=o?t.font:t.fontFamily,c=``,l=``;if(i.charCodeAt(0)===55349&&([c,l]=Ue(i,r)),c.length>0)return Ke(i,c,r,t,a.concat(l));if(s){let e,c;if(s===`boldsymbol`){let o=Je(i,r,t,a,n);e=o.fontName,c=[o.fontClass]}else o?(e=lt[s].fontName,c=[s]):(e=ct(s,t.fontWeight,t.fontShape),c=[s,t.fontWeight,t.fontShape]);if(Ge(i,e,r).metrics)return Ke(i,e,r,t,a.concat(c));if(Le.hasOwnProperty(i)&&e.slice(0,10)===`Typewriter`){let n=[];for(let o=0;o<i.length;o++)n.push(Ke(i[o],e,r,t,a.concat(c)));return rt(n)}}if(n===`mathord`)return Ke(i,`Math-Italic`,r,t,a.concat([`mathnormal`]));if(n===`textord`){let e=Ee[r][i]&&Ee[r][i].font;if(e===`ams`)return Ke(i,ct(`amsrm`,t.fontWeight,t.fontShape),r,t,a.concat(`amsrm`,t.fontWeight,t.fontShape));if(e===`main`||!e)return Ke(i,ct(`textrm`,t.fontWeight,t.fontShape),r,t,a.concat(t.fontWeight,t.fontShape));{let n=ct(e,t.fontWeight,t.fontShape);return Ke(i,n,r,t,a.concat(n,t.fontWeight,t.fontShape))}}else throw Error(`unexpected type: `+n+` in makeOrd`)},Xe=(e,t)=>{if(ce(e.classes)!==ce(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){let t=e.classes[0];if(t===`mbin`||t===`mord`)return!1}for(let n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(let n in t.style)if(t.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;return!0},Ze=e=>{for(let t=0;t<e.length-1;t++){let n=e[t],r=e[t+1];n instanceof _e&&r instanceof _e&&Xe(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,e.splice(t+1,1),t--)}return e},Qe=function(e){let t=0,n=0,r=0;for(let i=0;i<e.children.length;i++){let a=e.children[i];a.height>t&&(t=a.height),a.depth>n&&(n=a.depth),a.maxFontSize>r&&(r=a.maxFontSize)}e.height=t,e.depth=n,e.maxFontSize=r},$e=function(e,t,n,r){let i=new pe(e,t,n,r);return Qe(i),i},et=(e,t,n,r)=>new pe(e,t,n,r),tt=function(e,t,n){let r=$e([e],[],t);return r.height=Math.max(n||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),r.style.borderBottomWidth=se(r.height),r.maxFontSize=1,r},nt=function(e,t,n,r){let i=new me(e,t,n,r);return Qe(i),i},rt=function(e){let t=new We(e);return Qe(t),t},it=function(e,t){return e instanceof We?$e([],[e],t):e},at=function(e){if(e.positionType===`individualShift`){let t=e.children,n=[t[0]],r=-t[0].shift-t[0].elem.depth,i=r;for(let e=1;e<t.length;e++){let r=-t[e].shift-i-t[e].elem.depth,a=r-(t[e-1].elem.height+t[e-1].elem.depth);i+=r,n.push({type:`kern`,size:a}),n.push(t[e])}return{children:n,depth:r}}let t;if(e.positionType===`top`){let n=e.positionData;for(let t=0;t<e.children.length;t++){let r=e.children[t];n-=r.type===`kern`?r.size:r.elem.height+r.elem.depth}t=n}else if(e.positionType===`bottom`)t=-e.positionData;else{let n=e.children[0];if(n.type!==`elem`)throw Error(`First child must have type "elem".`);if(e.positionType===`shift`)t=-n.elem.depth-e.positionData;else if(e.positionType===`firstBaseline`)t=-n.elem.depth;else throw Error(`Invalid positionType `+e.positionType+`.`)}return{children:e.children,depth:t}},ot=function(e,t){let{children:n,depth:r}=at(e),i=0;for(let e=0;e<n.length;e++){let t=n[e];if(t.type===`elem`){let e=t.elem;i=Math.max(i,e.maxFontSize,e.height)}}i+=2;let a=$e([`pstrut`],[]);a.style.height=se(i);let o=[],s=r,c=r,l=r;for(let e=0;e<n.length;e++){let t=n[e];if(t.type===`kern`)l+=t.size;else{let e=t.elem,n=t.wrapperClasses||[],r=t.wrapperStyle||{},s=$e(n,[a,e],void 0,r);s.style.top=se(-i-l-e.depth),t.marginLeft&&(s.style.marginLeft=t.marginLeft),t.marginRight&&(s.style.marginRight=t.marginRight),o.push(s),l+=e.height+e.depth}s=Math.min(s,l),c=Math.max(c,l)}let u=$e([`vlist`],o);u.style.height=se(c);let d;if(s<0){let e=$e([`vlist`],[$e([],[])]);e.style.height=se(-s),d=[$e([`vlist-r`],[u,$e([`vlist-s`],[new _e(``)])]),$e([`vlist-r`],[e])]}else d=[$e([`vlist-r`],[u])];let f=$e([`vlist-t`],d);return d.length===2&&f.classes.push(`vlist-t2`),f.height=c,f.depth=-s,f},st=(e,t)=>{let n=$e([`mspace`],[],t),r=oe(e,t);return n.style.marginRight=se(r),n},ct=function(e,t,n){let r=``;switch(e){case`amsrm`:r=`AMS`;break;case`textrm`:r=`Main`;break;case`textsf`:r=`SansSerif`;break;case`texttt`:r=`Typewriter`;break;default:r=e}let i;return i=t===`textbf`&&n===`textit`?`BoldItalic`:t===`textbf`?`Bold`:t===`textit`?`Italic`:`Regular`,r+`-`+i},lt={mathbf:{variant:`bold`,fontName:`Main-Bold`},mathrm:{variant:`normal`,fontName:`Main-Regular`},textit:{variant:`italic`,fontName:`Main-Italic`},mathit:{variant:`italic`,fontName:`Main-Italic`},mathnormal:{variant:`italic`,fontName:`Math-Italic`},mathsfit:{variant:`sans-serif-italic`,fontName:`SansSerif-Italic`},mathbb:{variant:`double-struck`,fontName:`AMS-Regular`},mathcal:{variant:`script`,fontName:`Caligraphic-Regular`},mathfrak:{variant:`fraktur`,fontName:`Fraktur-Regular`},mathscr:{variant:`script`,fontName:`Script-Regular`},mathsf:{variant:`sans-serif`,fontName:`SansSerif-Regular`},mathtt:{variant:`monospace`,fontName:`Typewriter-Regular`}},ut={vec:[`vec`,.471,.714],oiintSize1:[`oiintSize1`,.957,.499],oiintSize2:[`oiintSize2`,1.472,.659],oiiintSize1:[`oiiintSize1`,1.304,.499],oiiintSize2:[`oiiintSize2`,1.98,.659]};var dt={fontMap:lt,makeSymbol:Ke,mathsym:qe,makeSpan:$e,makeSvgSpan:et,makeLineSpan:tt,makeAnchor:nt,makeFragment:rt,wrapFragment:it,makeVList:ot,makeOrd:Ye,makeGlue:st,staticSvg:function(e,t){let[n,r,i]=ut[e],a=et([`overlay`],[new ve([new ye(n)],{width:se(r),height:se(i),style:`width:`+se(r),viewBox:`0 0 `+1e3*r+` `+1e3*i,preserveAspectRatio:`xMinYMin`})],t);return a.height=i,a.style.height=se(i),a.style.width=se(r),a},svgData:ut,tryCombineChars:Ze};let ft={number:3,unit:`mu`},pt={number:4,unit:`mu`},mt={number:5,unit:`mu`},ht={mord:{mop:ft,mbin:pt,mrel:mt,minner:ft},mop:{mord:ft,mop:ft,mrel:mt,minner:ft},mbin:{mord:pt,mop:pt,mopen:pt,minner:pt},mrel:{mord:mt,mop:mt,mopen:mt,minner:mt},mopen:{},mclose:{mop:ft,mbin:pt,mrel:mt,minner:ft},mpunct:{mord:ft,mop:ft,mrel:mt,mopen:ft,mclose:ft,mpunct:ft,minner:ft},minner:{mord:ft,mop:ft,mbin:pt,mrel:mt,mopen:ft,mpunct:ft,minner:ft}},gt={mord:{mop:ft},mop:{mord:ft,mop:ft},mbin:{},mrel:{},mopen:{},mclose:{mop:ft},mpunct:{},minner:{mop:ft}},_t={},vt={},yt={};function bt(e){let{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:o}=e,s={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i};for(let e=0;e<n.length;++e)_t[n[e]]=s;t&&(a&&(vt[t]=a),o&&(yt[t]=o))}function xt(e){let{type:t,htmlBuilder:n,mathmlBuilder:r}=e;bt({type:t,names:[],props:{numArgs:0},handler(){throw Error(`Should never be called.`)},htmlBuilder:n,mathmlBuilder:r})}let St=function(e){return e.type===`ordgroup`&&e.body.length===1?e.body[0]:e},Ct=function(e){return e.type===`ordgroup`?e.body:[e]},wt=dt.makeSpan,Tt=[`leftmost`,`mbin`,`mopen`,`mrel`,`mop`,`mpunct`],Et=[`rightmost`,`mrel`,`mclose`,`mpunct`],Dt={display:T.DISPLAY,text:T.TEXT,script:T.SCRIPT,scriptscript:T.SCRIPTSCRIPT},Ot={mord:`mord`,mop:`mop`,mbin:`mbin`,mrel:`mrel`,mopen:`mopen`,mclose:`mclose`,mpunct:`mpunct`,minner:`minner`},kt=function(e,t,n,r){r===void 0&&(r=[null,null]);let i=[];for(let n=0;n<e.length;n++){let r=Ft(e[n],t);if(r instanceof We){let e=r.children;i.push(...e)}else i.push(r)}if(dt.tryCombineChars(i),!n)return i;let a=t;if(e.length===1){let n=e[0];n.type===`sizing`?a=t.havingSize(n.size):n.type===`styling`&&(a=t.havingStyle(Dt[n.style]))}let o=wt([r[0]||`leftmost`],[],t),s=wt([r[1]||`rightmost`],[],t),c=n===`root`;return At(i,(e,t)=>{let n=t.classes[0],r=e.classes[0];n===`mbin`&&Et.includes(r)?t.classes[0]=`mord`:r===`mbin`&&Tt.includes(n)&&(e.classes[0]=`mord`)},{node:o},s,c),At(i,(e,t)=>{let n=Nt(t),r=Nt(e),i=n&&r?e.hasClass(`mtight`)?gt[n][r]:ht[n][r]:null;if(i)return dt.makeGlue(i,a)},{node:o},s,c),i},At=function(e,t,n,r,i){r&&e.push(r);let a=0;for(;a<e.length;a++){let r=e[a],o=jt(r);if(o){At(o.children,t,n,null,i);continue}let s=!r.hasClass(`mspace`);if(s){let i=t(r,n.node);i&&(n.insertAfter?n.insertAfter(i):(e.unshift(i),a++))}s?n.node=r:i&&r.hasClass(`newline`)&&(n.node=wt([`leftmost`])),n.insertAfter=(t=>n=>{e.splice(t+1,0,n),a++})(a)}r&&e.pop()},jt=function(e){return e instanceof We||e instanceof me||e instanceof pe&&e.hasClass(`enclosing`)?e:null},Mt=function(e,t){let n=jt(e);if(n){let e=n.children;if(e.length){if(t===`right`)return Mt(e[e.length-1],`right`);if(t===`left`)return Mt(e[0],`left`)}}return e},Nt=function(e,t){return e?(t&&(e=Mt(e,t)),Ot[e.classes[0]]||null):null},Pt=function(e,t){let n=[`nulldelimiter`].concat(e.baseSizingClasses());return wt(t.concat(n))},Ft=function(e,t,n){if(!e)return wt();if(vt[e.type]){let r=vt[e.type](e,t);if(n&&t.size!==n.size){r=wt(t.sizingClasses(n),[r],t);let e=t.sizeMultiplier/n.sizeMultiplier;r.height*=e,r.depth*=e}return r}else throw new r(`Got group of unknown type: '`+e.type+`'`)};function It(e,t){let n=wt([`base`],e,t),r=wt([`strut`]);return r.style.height=se(n.height+n.depth),n.depth&&(r.style.verticalAlign=se(-n.depth)),n.children.unshift(r),n}function Lt(e,t){let n=null;e.length===1&&e[0].type===`tag`&&(n=e[0].tag,e=e[0].body);let r=kt(e,t,`root`),i;r.length===2&&r[1].hasClass(`tag`)&&(i=r.pop());let a=[],o=[];for(let e=0;e<r.length;e++)if(o.push(r[e]),r[e].hasClass(`mbin`)||r[e].hasClass(`mrel`)||r[e].hasClass(`allowbreak`)){let n=!1;for(;e<r.length-1&&r[e+1].hasClass(`mspace`)&&!r[e+1].hasClass(`newline`);)e++,o.push(r[e]),r[e].hasClass(`nobreak`)&&(n=!0);n||(a.push(It(o,t)),o=[])}else r[e].hasClass(`newline`)&&(o.pop(),o.length>0&&(a.push(It(o,t)),o=[]),a.push(r[e]));o.length>0&&a.push(It(o,t));let s;n?(s=It(kt(n,t,!0)),s.classes=[`tag`],a.push(s)):i&&a.push(i);let c=wt([`katex-html`],a);if(c.setAttribute(`aria-hidden`,`true`),s){let e=s.children[0];e.style.height=se(c.height+c.depth),c.depth&&(e.style.verticalAlign=se(-c.depth))}return c}function Rt(e){return new We(e)}class zt{constructor(e,t,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=n||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){let e=document.createElementNS(`http://www.w3.org/1998/Math/MathML`,this.type);for(let t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=ce(this.classes));for(let t=0;t<this.children.length;t++)if(this.children[t]instanceof Bt&&this.children[t+1]instanceof Bt){let n=this.children[t].toText()+this.children[++t].toText();for(;this.children[t+1]instanceof Bt;)n+=this.children[++t].toText();e.appendChild(new Bt(n).toNode())}else e.appendChild(this.children[t].toNode());return e}toMarkup(){let e=`<`+this.type;for(let t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=` `+t+`="`,e+=p.escape(this.attributes[t]),e+=`"`);this.classes.length>0&&(e+=` class ="`+p.escape(ce(this.classes))+`"`),e+=`>`;for(let t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e+=`</`+this.type+`>`,e}toText(){return this.children.map(e=>e.toText()).join(``)}}class Bt{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return p.escape(this.toText())}toText(){return this.text}}class Vt{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=``:e>=.1666&&e<=.1667?this.character=``:e>=.2222&&e<=.2223?this.character=``:e>=.2777&&e<=.2778?this.character=``:e>=-.05556&&e<=-.05555?this.character=``:e>=-.1667&&e<=-.1666?this.character=``:e>=-.2223&&e<=-.2222?this.character=``:e>=-.2778&&e<=-.2777?this.character=``:this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{let e=document.createElementNS(`http://www.w3.org/1998/Math/MathML`,`mspace`);return e.setAttribute(`width`,se(this.width)),e}}toMarkup(){return this.character?`<mtext>`+this.character+`</mtext>`:`<mspace width="`+se(this.width)+`"/>`}toText(){return this.character?this.character:` `}}var Ht={MathNode:zt,TextNode:Bt,SpaceNode:Vt,newDocumentFragment:Rt};let Ut=function(e,t,n){return Ee[t][e]&&Ee[t][e].replace&&e.charCodeAt(0)!==55349&&!(Le.hasOwnProperty(e)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)===`tt`||n.font&&n.font.slice(4,6)===`tt`))&&(e=Ee[t][e].replace),new Ht.TextNode(e)},Wt=function(e){return e.length===1?e[0]:new Ht.MathNode(`mrow`,e)},Gt=function(e,t){if(t.fontFamily===`texttt`)return`monospace`;if(t.fontFamily===`textsf`)return t.fontShape===`textit`&&t.fontWeight===`textbf`?`sans-serif-bold-italic`:t.fontShape===`textit`?`sans-serif-italic`:t.fontWeight===`textbf`?`bold-sans-serif`:`sans-serif`;if(t.fontShape===`textit`&&t.fontWeight===`textbf`)return`bold-italic`;if(t.fontShape===`textit`)return`italic`;if(t.fontWeight===`textbf`)return`bold`;let n=t.font;if(!n||n===`mathnormal`)return null;let r=e.mode;if(n===`mathit`)return`italic`;if(n===`boldsymbol`)return e.type===`textord`?`bold`:`bold-italic`;if(n===`mathbf`)return`bold`;if(n===`mathbb`)return`double-struck`;if(n===`mathsfit`)return`sans-serif-italic`;if(n===`mathfrak`)return`fraktur`;if(n===`mathscr`||n===`mathcal`)return`script`;if(n===`mathsf`)return`sans-serif`;if(n===`mathtt`)return`monospace`;let i=e.text;if([`\\imath`,`\\jmath`].includes(i))return null;Ee[r][i]&&Ee[r][i].replace&&(i=Ee[r][i].replace);let a=dt.fontMap[n].fontName;return G(i,a,r)?dt.fontMap[n].variant:null};function Kt(e){if(!e)return!1;if(e.type===`mi`&&e.children.length===1){let t=e.children[0];return t instanceof Bt&&t.text===`.`}else if(e.type===`mo`&&e.children.length===1&&e.getAttribute(`separator`)===`true`&&e.getAttribute(`lspace`)===`0em`&&e.getAttribute(`rspace`)===`0em`){let t=e.children[0];return t instanceof Bt&&t.text===`,`}else return!1}let qt=function(e,t,n){if(e.length===1){let r=Yt(e[0],t);return n&&r instanceof zt&&r.type===`mo`&&(r.setAttribute(`lspace`,`0em`),r.setAttribute(`rspace`,`0em`)),[r]}let r=[],i;for(let n=0;n<e.length;n++){let a=Yt(e[n],t);if(a instanceof zt&&i instanceof zt){if(a.type===`mtext`&&i.type===`mtext`&&a.getAttribute(`mathvariant`)===i.getAttribute(`mathvariant`)){i.children.push(...a.children);continue}else if(a.type===`mn`&&i.type===`mn`){i.children.push(...a.children);continue}else if(Kt(a)&&i.type===`mn`){i.children.push(...a.children);continue}else if(a.type===`mn`&&Kt(i))a.children=[...i.children,...a.children],r.pop();else if((a.type===`msup`||a.type===`msub`)&&a.children.length>=1&&(i.type===`mn`||Kt(i))){let e=a.children[0];e instanceof zt&&e.type===`mn`&&(e.children=[...i.children,...e.children],r.pop())}else if(i.type===`mi`&&i.children.length===1){let e=i.children[0];if(e instanceof Bt&&e.text===``&&(a.type===`mo`||a.type===`mi`||a.type===`mn`)){let e=a.children[0];e instanceof Bt&&e.text.length>0&&(e.text=e.text.slice(0,1)+``+e.text.slice(1),r.pop())}}}r.push(a),i=a}return r},Jt=function(e,t,n){return Wt(qt(e,t,n))},Yt=function(e,t){if(!e)return new Ht.MathNode(`mrow`);if(yt[e.type])return yt[e.type](e,t);throw new r(`Got group of unknown type: '`+e.type+`'`)};function Xt(e,t,n,r,i){let a=qt(e,n),o;o=a.length===1&&a[0]instanceof zt&&[`mrow`,`mtable`].includes(a[0].type)?a[0]:new Ht.MathNode(`mrow`,a);let s=new Ht.MathNode(`annotation`,[new Ht.TextNode(t)]);s.setAttribute(`encoding`,`application/x-tex`);let c=new Ht.MathNode(`semantics`,[o,s]),l=new Ht.MathNode(`math`,[c]);l.setAttribute(`xmlns`,`http://www.w3.org/1998/Math/MathML`),r&&l.setAttribute(`display`,`block`);let u=i?`katex`:`katex-mathml`;return dt.makeSpan([u],[l])}let Zt=function(e){return new ne({style:e.displayMode?T.DISPLAY:T.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Qt=function(e,t){if(t.displayMode){let n=[`katex-display`];t.leqno&&n.push(`leqno`),t.fleqn&&n.push(`fleqn`),e=dt.makeSpan(n,[e])}return e},$t=function(e,t,n){let r=Zt(n),i;if(n.output===`mathml`)return Xt(e,t,r,n.displayMode,!0);if(n.output===`html`){let t=Lt(e,r);i=dt.makeSpan([`katex`],[t])}else{let a=Xt(e,t,r,n.displayMode,!1),o=Lt(e,r);i=dt.makeSpan([`katex`],[a,o])}return Qt(i,n)},en=function(e,t,n){let r=Lt(e,Zt(n));return Qt(dt.makeSpan([`katex`],[r]),n)},tn={widehat:`^`,widecheck:``,widetilde:`~`,utilde:`~`,overleftarrow:``,underleftarrow:``,xleftarrow:``,overrightarrow:``,underrightarrow:``,xrightarrow:``,underbrace:``,overbrace:``,overgroup:``,undergroup:``,overleftrightarrow:``,underleftrightarrow:``,xleftrightarrow:``,Overrightarrow:``,xRightarrow:``,overleftharpoon:``,xleftharpoonup:``,overrightharpoon:``,xrightharpoonup:``,xLeftarrow:``,xLeftrightarrow:``,xhookleftarrow:``,xhookrightarrow:``,xmapsto:``,xrightharpoondown:``,xleftharpoondown:``,xrightleftharpoons:``,xleftrightharpoons:``,xtwoheadleftarrow:``,xtwoheadrightarrow:``,xlongequal:`=`,xtofrom:``,xrightleftarrows:``,xrightequilibrium:``,xleftequilibrium:``,"\\cdrightarrow":``,"\\cdleftarrow":``,"\\cdlongequal":`=`},nn=function(e){let t=new Ht.MathNode(`mo`,[new Ht.TextNode(tn[e.replace(/^\\/,``)])]);return t.setAttribute(`stretchy`,`true`),t},rn={overrightarrow:[[`rightarrow`],.888,522,`xMaxYMin`],overleftarrow:[[`leftarrow`],.888,522,`xMinYMin`],underrightarrow:[[`rightarrow`],.888,522,`xMaxYMin`],underleftarrow:[[`leftarrow`],.888,522,`xMinYMin`],xrightarrow:[[`rightarrow`],1.469,522,`xMaxYMin`],"\\cdrightarrow":[[`rightarrow`],3,522,`xMaxYMin`],xleftarrow:[[`leftarrow`],1.469,522,`xMinYMin`],"\\cdleftarrow":[[`leftarrow`],3,522,`xMinYMin`],Overrightarrow:[[`doublerightarrow`],.888,560,`xMaxYMin`],xRightarrow:[[`doublerightarrow`],1.526,560,`xMaxYMin`],xLeftarrow:[[`doubleleftarrow`],1.526,560,`xMinYMin`],overleftharpoon:[[`leftharpoon`],.888,522,`xMinYMin`],xleftharpoonup:[[`leftharpoon`],.888,522,`xMinYMin`],xleftharpoondown:[[`leftharpoondown`],.888,522,`xMinYMin`],overrightharpoon:[[`rightharpoon`],.888,522,`xMaxYMin`],xrightharpoonup:[[`rightharpoon`],.888,522,`xMaxYMin`],xrightharpoondown:[[`rightharpoondown`],.888,522,`xMaxYMin`],xlongequal:[[`longequal`],.888,334,`xMinYMin`],"\\cdlongequal":[[`longequal`],3,334,`xMinYMin`],xtwoheadleftarrow:[[`twoheadleftarrow`],.888,334,`xMinYMin`],xtwoheadrightarrow:[[`twoheadrightarrow`],.888,334,`xMaxYMin`],overleftrightarrow:[[`leftarrow`,`rightarrow`],.888,522],overbrace:[[`leftbrace`,`midbrace`,`rightbrace`],1.6,548],underbrace:[[`leftbraceunder`,`midbraceunder`,`rightbraceunder`],1.6,548],underleftrightarrow:[[`leftarrow`,`rightarrow`],.888,522],xleftrightarrow:[[`leftarrow`,`rightarrow`],1.75,522],xLeftrightarrow:[[`doubleleftarrow`,`doublerightarrow`],1.75,560],xrightleftharpoons:[[`leftharpoondownplus`,`rightharpoonplus`],1.75,716],xleftrightharpoons:[[`leftharpoonplus`,`rightharpoondownplus`],1.75,716],xhookleftarrow:[[`leftarrow`,`righthook`],1.08,522],xhookrightarrow:[[`lefthook`,`rightarrow`],1.08,522],overlinesegment:[[`leftlinesegment`,`rightlinesegment`],.888,522],underlinesegment:[[`leftlinesegment`,`rightlinesegment`],.888,522],overgroup:[[`leftgroup`,`rightgroup`],.888,342],undergroup:[[`leftgroupunder`,`rightgroupunder`],.888,342],xmapsto:[[`leftmapsto`,`rightarrow`],1.5,522],xtofrom:[[`leftToFrom`,`rightToFrom`],1.75,528],xrightleftarrows:[[`baraboveleftarrow`,`rightarrowabovebar`],1.75,901],xrightequilibrium:[[`baraboveshortleftharpoon`,`rightharpoonaboveshortbar`],1.75,716],xleftequilibrium:[[`shortbaraboveleftharpoon`,`shortrightharpoonabovebar`],1.75,716]},an=function(e){return e.type===`ordgroup`?e.body.length:1};var on={encloseSpan:function(e,t,n,r,i){let a,o=e.height+e.depth+n+r;if(/fbox|color|angl/.test(t)){if(a=dt.makeSpan([`stretchy`,t],[],i),t===`fbox`){let e=i.color&&i.getColor();e&&(a.style.borderColor=e)}}else{let e=[];/^[bx]cancel$/.test(t)&&e.push(new be({x1:`0`,y1:`0`,x2:`100%`,y2:`100%`,"stroke-width":`0.046em`})),/^x?cancel$/.test(t)&&e.push(new be({x1:`0`,y1:`100%`,x2:`100%`,y2:`0`,"stroke-width":`0.046em`}));let n=new ve(e,{width:`100%`,height:se(o)});a=dt.makeSvgSpan([],[n],i)}return a.height=o,a.style.height=se(o),a},mathMLnode:nn,svgSpan:function(e,t){function n(){let n=4e5,r=e.label.slice(1);if([`widehat`,`widecheck`,`widetilde`,`utilde`].includes(r)){let i=an(e.base),a,o,s;if(i>5)r===`widehat`||r===`widecheck`?(a=420,n=2364,s=.42,o=r+`4`):(a=312,n=2340,s=.34,o=`tilde4`);else{let e=[1,1,2,2,3,3][i];r===`widehat`||r===`widecheck`?(n=[0,1062,2364,2364,2364][e],a=[0,239,300,360,420][e],s=[0,.24,.3,.3,.36,.42][e],o=r+e):(n=[0,600,1033,2339,2340][e],a=[0,260,286,306,312][e],s=[0,.26,.286,.3,.306,.34][e],o=`tilde`+e)}let c=new ve([new ye(o)],{width:`100%`,height:se(s),viewBox:`0 0 `+n+` `+a,preserveAspectRatio:`none`});return{span:dt.makeSvgSpan([],[c],t),minWidth:0,height:s}}else{let e=[],i=rn[r],[a,o,s]=i,c=s/1e3,l=a.length,u,d;if(l===1){let e=i[3];u=[`hide-tail`],d=[e]}else if(l===2)u=[`halfarrow-left`,`halfarrow-right`],d=[`xMinYMin`,`xMaxYMin`];else if(l===3)u=[`brace-left`,`brace-center`,`brace-right`],d=[`xMinYMin`,`xMidYMin`,`xMaxYMin`];else throw Error(`Correct katexImagesData or update code here to support
                    `+l+` children.`);for(let r=0;r<l;r++){let i=new ve([new ye(a[r])],{width:`400em`,height:se(c),viewBox:`0 0 `+n+` `+s,preserveAspectRatio:d[r]+` slice`}),f=dt.makeSvgSpan([u[r]],[i],t);if(l===1)return{span:f,minWidth:o,height:c};f.style.height=se(c),e.push(f)}return{span:dt.makeSpan([`stretchy`],e,t),minWidth:o,height:c}}}let{span:r,minWidth:i,height:a}=n();return r.height=a,r.style.height=se(a),i>0&&(r.style.minWidth=se(i)),r}};function sn(e,t){if(!e||e.type!==t)throw Error(`Expected node of type `+t+`, but got `+(e?`node of type `+e.type:String(e)));return e}function cn(e){let t=ln(e);if(!t)throw Error(`Expected node of symbol group type, but got `+(e?`node of type `+e.type:String(e)));return t}function ln(e){return e&&(e.type===`atom`||we.hasOwnProperty(e.type))?e:null}let un=(e,t)=>{let n,r,i;e&&e.type===`supsub`?(r=sn(e.base,`accent`),n=r.base,e.base=n,i=Se(Ft(e,t)),e.base=r):(r=sn(e,`accent`),n=r.base);let a=Ft(n,t.havingCrampedStyle()),o=r.isShifty&&p.isCharacterBox(n),s=0;o&&(s=xe(Ft(p.getBaseElem(n),t.havingCrampedStyle())).skew);let c=r.label===`\\c`,l=c?a.height+a.depth:Math.min(a.height,t.fontMetrics().xHeight),u;if(r.isStretchy)u=on.svgSpan(r,t),u=dt.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:a},{type:`elem`,elem:u,wrapperClasses:[`svg-align`],wrapperStyle:s>0?{width:`calc(100% - `+se(2*s)+`)`,marginLeft:se(2*s)}:void 0}]},t);else{let e,n;r.label===`\\vec`?(e=dt.staticSvg(`vec`,t),n=dt.svgData.vec[1]):(e=dt.makeOrd({mode:r.mode,text:r.label},t,`textord`),e=xe(e),e.italic=0,n=e.width,c&&(l+=e.depth)),u=dt.makeSpan([`accent-body`],[e]);let i=r.label===`\\textcircled`;i&&(u.classes.push(`accent-full`),l=a.height);let o=s;i||(o-=n/2),u.style.left=se(o),r.label===`\\textcircled`&&(u.style.top=`.2em`),u=dt.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:a},{type:`kern`,size:-l},{type:`elem`,elem:u}]},t)}let d=dt.makeSpan([`mord`,`accent`],[u],t);return i?(i.children[0]=d,i.height=Math.max(d.height,i.height),i.classes[0]=`mord`,i):d},dn=(e,t)=>{let n=e.isStretchy?on.mathMLnode(e.label):new Ht.MathNode(`mo`,[Ut(e.label,e.mode)]),r=new Ht.MathNode(`mover`,[Yt(e.base,t),n]);return r.setAttribute(`accent`,`true`),r},fn=new RegExp([`\\acute`,`\\grave`,`\\ddot`,`\\tilde`,`\\bar`,`\\breve`,`\\check`,`\\hat`,`\\vec`,`\\dot`,`\\mathring`].map(e=>`\\`+e).join(`|`));bt({type:`accent`,names:[`\\acute`,`\\grave`,`\\ddot`,`\\tilde`,`\\bar`,`\\breve`,`\\check`,`\\hat`,`\\vec`,`\\dot`,`\\mathring`,`\\widecheck`,`\\widehat`,`\\widetilde`,`\\overrightarrow`,`\\overleftarrow`,`\\Overrightarrow`,`\\overleftrightarrow`,`\\overgroup`,`\\overlinesegment`,`\\overleftharpoon`,`\\overrightharpoon`],props:{numArgs:1},handler:(e,t)=>{let n=St(t[0]),r=!fn.test(e.funcName),i=!r||e.funcName===`\\widehat`||e.funcName===`\\widetilde`||e.funcName===`\\widecheck`;return{type:`accent`,mode:e.parser.mode,label:e.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:un,mathmlBuilder:dn}),bt({type:`accent`,names:[`\\'`,"\\`",`\\^`,`\\~`,`\\=`,`\\u`,`\\.`,`\\"`,`\\c`,`\\r`,`\\H`,`\\v`,`\\textcircled`],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:[`primitive`]},handler:(e,t)=>{let n=t[0],r=e.parser.mode;return r===`math`&&(e.parser.settings.reportNonstrict(`mathVsTextAccents`,`LaTeX's accent `+e.funcName+` works only in text mode`),r=`text`),{type:`accent`,mode:r,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:un,mathmlBuilder:dn}),bt({type:`accentUnder`,names:[`\\underleftarrow`,`\\underrightarrow`,`\\underleftrightarrow`,`\\undergroup`,`\\underlinesegment`,`\\utilde`],props:{numArgs:1},handler:(e,t)=>{let{parser:n,funcName:r}=e,i=t[0];return{type:`accentUnder`,mode:n.mode,label:r,base:i}},htmlBuilder:(e,t)=>{let n=Ft(e.base,t),r=on.svgSpan(e,t),i=e.label===`\\utilde`?.12:0,a=dt.makeVList({positionType:`top`,positionData:n.height,children:[{type:`elem`,elem:r,wrapperClasses:[`svg-align`]},{type:`kern`,size:i},{type:`elem`,elem:n}]},t);return dt.makeSpan([`mord`,`accentunder`],[a],t)},mathmlBuilder:(e,t)=>{let n=on.mathMLnode(e.label),r=new Ht.MathNode(`munder`,[Yt(e.base,t),n]);return r.setAttribute(`accentunder`,`true`),r}});let pn=e=>{let t=new Ht.MathNode(`mpadded`,e?[e]:[]);return t.setAttribute(`width`,`+0.6em`),t.setAttribute(`lspace`,`0.3em`),t};bt({type:`xArrow`,names:[`\\xleftarrow`,`\\xrightarrow`,`\\xLeftarrow`,`\\xRightarrow`,`\\xleftrightarrow`,`\\xLeftrightarrow`,`\\xhookleftarrow`,`\\xhookrightarrow`,`\\xmapsto`,`\\xrightharpoondown`,`\\xrightharpoonup`,`\\xleftharpoondown`,`\\xleftharpoonup`,`\\xrightleftharpoons`,`\\xleftrightharpoons`,`\\xlongequal`,`\\xtwoheadrightarrow`,`\\xtwoheadleftarrow`,`\\xtofrom`,`\\xrightleftarrows`,`\\xrightequilibrium`,`\\xleftequilibrium`,`\\\\cdrightarrow`,`\\\\cdleftarrow`,`\\\\cdlongequal`],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){let{parser:r,funcName:i}=e;return{type:`xArrow`,mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(e,t){let n=t.style,r=t.havingStyle(n.sup()),i=dt.wrapFragment(Ft(e.body,r,t),t),a=e.label.slice(0,2)===`\\x`?`x`:`cd`;i.classes.push(a+`-arrow-pad`);let o;e.below&&(r=t.havingStyle(n.sub()),o=dt.wrapFragment(Ft(e.below,r,t),t),o.classes.push(a+`-arrow-pad`));let s=on.svgSpan(e,t),c=-t.fontMetrics().axisHeight+.5*s.height,l=-t.fontMetrics().axisHeight-.5*s.height-.111;(i.depth>.25||e.label===`\\xleftequilibrium`)&&(l-=i.depth);let u;if(o){let e=-t.fontMetrics().axisHeight+o.height+.5*s.height+.111;u=dt.makeVList({positionType:`individualShift`,children:[{type:`elem`,elem:i,shift:l},{type:`elem`,elem:s,shift:c},{type:`elem`,elem:o,shift:e}]},t)}else u=dt.makeVList({positionType:`individualShift`,children:[{type:`elem`,elem:i,shift:l},{type:`elem`,elem:s,shift:c}]},t);return u.children[0].children[0].children[1].classes.push(`svg-align`),dt.makeSpan([`mrel`,`x-arrow`],[u],t)},mathmlBuilder(e,t){let n=on.mathMLnode(e.label);n.setAttribute(`minsize`,e.label.charAt(0)===`x`?`1.75em`:`3.0em`);let r;if(e.body){let i=pn(Yt(e.body,t));if(e.below){let a=pn(Yt(e.below,t));r=new Ht.MathNode(`munderover`,[n,a,i])}else r=new Ht.MathNode(`mover`,[n,i])}else if(e.below){let i=pn(Yt(e.below,t));r=new Ht.MathNode(`munder`,[n,i])}else r=pn(),r=new Ht.MathNode(`mover`,[n,r]);return r}});let mn=dt.makeSpan;function hn(e,t){let n=kt(e.body,t,!0);return mn([e.mclass],n,t)}function gn(e,t){let n,r=qt(e.body,t);return e.mclass===`minner`?n=new Ht.MathNode(`mpadded`,r):e.mclass===`mord`?e.isCharacterBox?(n=r[0],n.type=`mi`):n=new Ht.MathNode(`mi`,r):(e.isCharacterBox?(n=r[0],n.type=`mo`):n=new Ht.MathNode(`mo`,r),e.mclass===`mbin`?(n.attributes.lspace=`0.22em`,n.attributes.rspace=`0.22em`):e.mclass===`mpunct`?(n.attributes.lspace=`0em`,n.attributes.rspace=`0.17em`):e.mclass===`mopen`||e.mclass===`mclose`?(n.attributes.lspace=`0em`,n.attributes.rspace=`0em`):e.mclass===`minner`&&(n.attributes.lspace=`0.0556em`,n.attributes.width=`+0.1111em`)),n}bt({type:`mclass`,names:[`\\mathord`,`\\mathbin`,`\\mathrel`,`\\mathopen`,`\\mathclose`,`\\mathpunct`,`\\mathinner`],props:{numArgs:1,primitive:!0},handler(e,t){let{parser:n,funcName:r}=e,i=t[0];return{type:`mclass`,mode:n.mode,mclass:`m`+r.slice(5),body:Ct(i),isCharacterBox:p.isCharacterBox(i)}},htmlBuilder:hn,mathmlBuilder:gn});let _n=e=>{let t=e.type===`ordgroup`&&e.body.length?e.body[0]:e;return t.type===`atom`&&(t.family===`bin`||t.family===`rel`)?`m`+t.family:`mord`};bt({type:`mclass`,names:[`\\@binrel`],props:{numArgs:2},handler(e,t){let{parser:n}=e;return{type:`mclass`,mode:n.mode,mclass:_n(t[0]),body:Ct(t[1]),isCharacterBox:p.isCharacterBox(t[1])}}}),bt({type:`mclass`,names:[`\\stackrel`,`\\overset`,`\\underset`],props:{numArgs:2},handler(e,t){let{parser:n,funcName:r}=e,i=t[1],a=t[0],o;o=r===`\\stackrel`?`mrel`:_n(i);let s={type:`op`,mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!==`\\stackrel`,body:Ct(i)},c={type:`supsub`,mode:a.mode,base:s,sup:r===`\\underset`?null:a,sub:r===`\\underset`?a:null};return{type:`mclass`,mode:n.mode,mclass:o,body:[c],isCharacterBox:p.isCharacterBox(c)}},htmlBuilder:hn,mathmlBuilder:gn}),bt({type:`pmb`,names:[`\\pmb`],props:{numArgs:1,allowedInText:!0},handler(e,t){let{parser:n}=e;return{type:`pmb`,mode:n.mode,mclass:_n(t[0]),body:Ct(t[0])}},htmlBuilder(e,t){let n=kt(e.body,t,!0),r=dt.makeSpan([e.mclass],n,t);return r.style.textShadow=`0.02em 0.01em 0.04px`,r},mathmlBuilder(e,t){let n=qt(e.body,t),r=new Ht.MathNode(`mstyle`,n);return r.setAttribute(`style`,`text-shadow: 0.02em 0.01em 0.04px`),r}});let vn={">":`\\\\cdrightarrow`,"<":`\\\\cdleftarrow`,"=":`\\\\cdlongequal`,A:`\\uparrow`,V:`\\downarrow`,"|":`\\Vert`,".":`no arrow`},yn=()=>({type:`styling`,body:[],mode:`math`,style:`display`}),bn=e=>e.type===`textord`&&e.text===`@`,xn=(e,t)=>(e.type===`mathord`||e.type===`atom`)&&e.text===t;function Sn(e,t,n){let r=vn[e];switch(r){case`\\\\cdrightarrow`:case`\\\\cdleftarrow`:return n.callFunction(r,[t[0]],[t[1]]);case`\\uparrow`:case`\\downarrow`:{let e=n.callFunction(`\\\\cdleft`,[t[0]],[]),i={type:`atom`,text:r,mode:`math`,family:`rel`},a={type:`ordgroup`,mode:`math`,body:[e,n.callFunction(`\\Big`,[i],[]),n.callFunction(`\\\\cdright`,[t[1]],[])]};return n.callFunction(`\\\\cdparent`,[a],[])}case`\\\\cdlongequal`:return n.callFunction(`\\\\cdlongequal`,[],[]);case`\\Vert`:return n.callFunction(`\\Big`,[{type:`textord`,text:`\\Vert`,mode:`math`}],[]);default:return{type:`textord`,text:` `,mode:`math`}}}function Cn(e){let t=[];for(e.gullet.beginGroup(),e.gullet.macros.set(`\\cr`,`\\\\\\relax`),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,`\\\\`)),e.gullet.endGroup(),e.gullet.beginGroup();let n=e.fetch().text;if(n===`&`||n===`\\\\`)e.consume();else if(n===`\\end`){t[t.length-1].length===0&&t.pop();break}else throw new r(`Expected \\\\ or \\cr or \\end`,e.nextToken)}let n=[],i=[n];for(let a=0;a<t.length;a++){let o=t[a],s=yn();for(let t=0;t<o.length;t++)if(!bn(o[t]))s.body.push(o[t]);else{n.push(s),t+=1;let i=cn(o[t]).text,a=[,,];if(a[0]={type:`ordgroup`,mode:`math`,body:[]},a[1]={type:`ordgroup`,mode:`math`,body:[]},!(`=|.`.indexOf(i)>-1))if(`<>AV`.indexOf(i)>-1)for(let e=0;e<2;e++){let n=!0;for(let s=t+1;s<o.length;s++){if(xn(o[s],i)){n=!1,t=s;break}if(bn(o[s]))throw new r(`Missing a `+i+` character to complete a CD arrow.`,o[s]);a[e].body.push(o[s])}if(n)throw new r(`Missing a `+i+` character to complete a CD arrow.`,o[t])}else throw new r(`Expected one of "<>AV=|." after @`,o[t]);let c={type:`styling`,body:[Sn(i,a,e)],mode:`math`,style:`display`};n.push(c),s=yn()}a%2==0?n.push(s):n.shift(),n=[],i.push(n)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:`array`,mode:`math`,body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:Array(i[0].length).fill({type:`align`,align:`c`,pregap:.25,postgap:.25}),colSeparationType:`CD`,hLinesBeforeRow:Array(i.length+1).fill([])}}bt({type:`cdlabel`,names:[`\\\\cdleft`,`\\\\cdright`],props:{numArgs:1},handler(e,t){let{parser:n,funcName:r}=e;return{type:`cdlabel`,mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(e,t){let n=t.havingStyle(t.style.sup()),r=dt.wrapFragment(Ft(e.label,n,t),t);return r.classes.push(`cd-label-`+e.side),r.style.bottom=se(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(e,t){let n=new Ht.MathNode(`mrow`,[Yt(e.label,t)]);return n=new Ht.MathNode(`mpadded`,[n]),n.setAttribute(`width`,`0`),e.side===`left`&&n.setAttribute(`lspace`,`-1width`),n.setAttribute(`voffset`,`0.7em`),n=new Ht.MathNode(`mstyle`,[n]),n.setAttribute(`displaystyle`,`false`),n.setAttribute(`scriptlevel`,`1`),n}}),bt({type:`cdlabelparent`,names:[`\\\\cdparent`],props:{numArgs:1},handler(e,t){let{parser:n}=e;return{type:`cdlabelparent`,mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){let n=dt.wrapFragment(Ft(e.fragment,t),t);return n.classes.push(`cd-vert-arrow`),n},mathmlBuilder(e,t){return new Ht.MathNode(`mrow`,[Yt(e.fragment,t)])}}),bt({type:`textord`,names:[`\\@char`],props:{numArgs:1,allowedInText:!0},handler(e,t){let{parser:n}=e,i=sn(t[0],`ordgroup`).body,a=``;for(let e=0;e<i.length;e++){let t=sn(i[e],`textord`);a+=t.text}let o=parseInt(a),s;if(isNaN(o))throw new r(`\\@char has non-numeric argument `+a);if(o<0||o>=1114111)throw new r(`\\@char with invalid code point `+a);return o<=65535?s=String.fromCharCode(o):(o-=65536,s=String.fromCharCode((o>>10)+55296,(o&1023)+56320)),{type:`textord`,mode:n.mode,text:s}}});let wn=(e,t)=>{let n=kt(e.body,t.withColor(e.color),!1);return dt.makeFragment(n)},Tn=(e,t)=>{let n=qt(e.body,t.withColor(e.color)),r=new Ht.MathNode(`mstyle`,n);return r.setAttribute(`mathcolor`,e.color),r};bt({type:`color`,names:[`\\textcolor`],props:{numArgs:2,allowedInText:!0,argTypes:[`color`,`original`]},handler(e,t){let{parser:n}=e,r=sn(t[0],`color-token`).color,i=t[1];return{type:`color`,mode:n.mode,color:r,body:Ct(i)}},htmlBuilder:wn,mathmlBuilder:Tn}),bt({type:`color`,names:[`\\color`],props:{numArgs:1,allowedInText:!0,argTypes:[`color`]},handler(e,t){let{parser:n,breakOnTokenText:r}=e,i=sn(t[0],`color-token`).color;n.gullet.macros.set(`\\current@color`,i);let a=n.parseExpression(!0,r);return{type:`color`,mode:n.mode,color:i,body:a}},htmlBuilder:wn,mathmlBuilder:Tn}),bt({type:`cr`,names:[`\\\\`],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){let{parser:r}=e,i=r.gullet.future().text===`[`?r.parseSizeGroup(!0):null,a=!r.settings.displayMode||!r.settings.useStrictBehavior(`newLineInDisplayMode`,`In LaTeX, \\\\ or \\newline does nothing in display mode`);return{type:`cr`,mode:r.mode,newLine:a,size:i&&sn(i,`size`).value}},htmlBuilder(e,t){let n=dt.makeSpan([`mspace`],[],t);return e.newLine&&(n.classes.push(`newline`),e.size&&(n.style.marginTop=se(oe(e.size,t)))),n},mathmlBuilder(e,t){let n=new Ht.MathNode(`mspace`);return e.newLine&&(n.setAttribute(`linebreak`,`newline`),e.size&&n.setAttribute(`height`,se(oe(e.size,t)))),n}});let En={"\\global":`\\global`,"\\long":`\\\\globallong`,"\\\\globallong":`\\\\globallong`,"\\def":`\\gdef`,"\\gdef":`\\gdef`,"\\edef":`\\xdef`,"\\xdef":`\\xdef`,"\\let":`\\\\globallet`,"\\futurelet":`\\\\globalfuture`},Dn=e=>{let t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new r(`Expected a control sequence`,e);return t},On=e=>{let t=e.gullet.popToken();return t.text===`=`&&(t=e.gullet.popToken(),t.text===` `&&(t=e.gullet.popToken())),t},kn=(e,t,n,r)=>{let i=e.gullet.macros.get(n.text);i??=(n.noexpand=!0,{tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,i,r)};bt({type:`internal`,names:[`\\global`,`\\long`,`\\\\globallong`],props:{numArgs:0,allowedInText:!0},handler(e){let{parser:t,funcName:n}=e;t.consumeSpaces();let i=t.fetch();if(En[i.text])return(n===`\\global`||n===`\\\\globallong`)&&(i.text=En[i.text]),sn(t.parseFunction(),`internal`);throw new r(`Invalid token after macro prefix`,i)}}),bt({type:`internal`,names:[`\\def`,`\\gdef`,`\\edef`,`\\xdef`],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){let{parser:t,funcName:n}=e,i=t.gullet.popToken(),a=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(a))throw new r(`Expected a control sequence`,i);let o=0,s,c=[[]];for(;t.gullet.future().text!==`{`;)if(i=t.gullet.popToken(),i.text===`#`){if(t.gullet.future().text===`{`){s=t.gullet.future(),c[o].push(`{`);break}if(i=t.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new r(`Invalid argument number "`+i.text+`"`);if(parseInt(i.text)!==o+1)throw new r(`Argument number "`+i.text+`" out of order`);o++,c.push([])}else if(i.text===`EOF`)throw new r(`Expected a macro definition`);else c[o].push(i.text);let{tokens:l}=t.gullet.consumeArg();return s&&l.unshift(s),(n===`\\edef`||n===`\\xdef`)&&(l=t.gullet.expandTokens(l),l.reverse()),t.gullet.macros.set(a,{tokens:l,numArgs:o,delimiters:c},n===En[n]),{type:`internal`,mode:t.mode}}}),bt({type:`internal`,names:[`\\let`,`\\\\globallet`],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){let{parser:t,funcName:n}=e,r=Dn(t.gullet.popToken());return t.gullet.consumeSpaces(),kn(t,r,On(t),n===`\\\\globallet`),{type:`internal`,mode:t.mode}}}),bt({type:`internal`,names:[`\\futurelet`,`\\\\globalfuture`],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){let{parser:t,funcName:n}=e,r=Dn(t.gullet.popToken()),i=t.gullet.popToken(),a=t.gullet.popToken();return kn(t,r,a,n===`\\\\globalfuture`),t.gullet.pushToken(a),t.gullet.pushToken(i),{type:`internal`,mode:t.mode}}});let An=function(e,t,n){let r=G(Ee.math[e]&&Ee.math[e].replace||e,t,n);if(!r)throw Error(`Unsupported symbol `+e+` and font size `+t+`.`);return r},jn=function(e,t,n,r){let i=n.havingBaseStyle(t),a=dt.makeSpan(r.concat(i.sizingClasses(n)),[e],n),o=i.sizeMultiplier/n.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=i.sizeMultiplier,a},Mn=function(e,t,n){let r=t.havingBaseStyle(n),i=(1-t.sizeMultiplier/r.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push(`delimcenter`),e.style.top=se(i),e.height-=i,e.depth+=i},Nn=function(e,t,n,r,i,a){let o=jn(dt.makeSymbol(e,`Main-Regular`,i,r),t,r,a);return n&&Mn(o,r,t),o},Pn=function(e,t,n,r){return dt.makeSymbol(e,`Size`+t+`-Regular`,n,r)},Fn=function(e,t,n,r,i,a){let o=Pn(e,t,i,r),s=jn(dt.makeSpan([`delimsizing`,`size`+t],[o],r),T.TEXT,r,a);return n&&Mn(s,r,T.TEXT),s},In=function(e,t,n){let r;return r=t===`Size1-Regular`?`delim-size1`:`delim-size4`,{type:`elem`,elem:dt.makeSpan([`delimsizinginner`,r],[dt.makeSpan([],[dt.makeSymbol(e,t,n)])])}},Ln=function(e,t,n){let r=V[`Size4-Regular`][e.charCodeAt(0)]?V[`Size4-Regular`][e.charCodeAt(0)][4]:V[`Size1-Regular`][e.charCodeAt(0)][4],i=new ve([new ye(`inner`,R(e,Math.round(1e3*t)))],{width:se(r),height:se(t),style:`width:`+se(r),viewBox:`0 0 `+1e3*r+` `+Math.round(1e3*t),preserveAspectRatio:`xMinYMin`}),a=dt.makeSvgSpan([],[i],n);return a.height=t,a.style.height=se(t),a.style.width=se(r),{type:`elem`,elem:a}},Rn=.008,zn={type:`kern`,size:-1*Rn},Bn=[`|`,`\\lvert`,`\\rvert`,`\\vert`],Vn=[`\\|`,`\\lVert`,`\\rVert`,`\\Vert`],Hn=function(e,t,n,r,i,a){let o,s,c,l,u=``,d=0;o=c=l=e,s=null;let f=`Size1-Regular`;e===`\\uparrow`?c=l=``:e===`\\Uparrow`?c=l=``:e===`\\downarrow`?o=c=``:e===`\\Downarrow`?o=c=``:e===`\\updownarrow`?(o=`\\uparrow`,c=``,l=`\\downarrow`):e===`\\Updownarrow`?(o=`\\Uparrow`,c=``,l=`\\Downarrow`):Bn.includes(e)?(c=``,u=`vert`,d=333):Vn.includes(e)?(c=``,u=`doublevert`,d=556):e===`[`||e===`\\lbrack`?(o=``,c=``,l=``,f=`Size4-Regular`,u=`lbrack`,d=667):e===`]`||e===`\\rbrack`?(o=``,c=``,l=``,f=`Size4-Regular`,u=`rbrack`,d=667):e===`\\lfloor`||e===``?(c=o=``,l=``,f=`Size4-Regular`,u=`lfloor`,d=667):e===`\\lceil`||e===``?(o=``,c=l=``,f=`Size4-Regular`,u=`lceil`,d=667):e===`\\rfloor`||e===``?(c=o=``,l=``,f=`Size4-Regular`,u=`rfloor`,d=667):e===`\\rceil`||e===``?(o=``,c=l=``,f=`Size4-Regular`,u=`rceil`,d=667):e===`(`||e===`\\lparen`?(o=``,c=``,l=``,f=`Size4-Regular`,u=`lparen`,d=875):e===`)`||e===`\\rparen`?(o=``,c=``,l=``,f=`Size4-Regular`,u=`rparen`,d=875):e===`\\{`||e===`\\lbrace`?(o=``,s=``,l=``,c=``,f=`Size4-Regular`):e===`\\}`||e===`\\rbrace`?(o=``,s=``,l=``,c=``,f=`Size4-Regular`):e===`\\lgroup`||e===``?(o=``,l=``,c=``,f=`Size4-Regular`):e===`\\rgroup`||e===``?(o=``,l=``,c=``,f=`Size4-Regular`):e===`\\lmoustache`||e===``?(o=``,l=``,c=``,f=`Size4-Regular`):(e===`\\rmoustache`||e===``)&&(o=``,l=``,c=``,f=`Size4-Regular`);let p=An(o,f,i),m=p.height+p.depth,h=An(c,f,i),g=h.height+h.depth,_=An(l,f,i),v=_.height+_.depth,y=0,b=1;if(s!==null){let e=An(s,f,i);y=e.height+e.depth,b=2}let x=m+v+y,S=x+Math.max(0,Math.ceil((t-x)/(b*g)))*b*g,C=r.fontMetrics().axisHeight;n&&(C*=r.sizeMultiplier);let w=S/2-C,E=[];if(u.length>0){let e=S-m-v,t=Math.round(S*1e3),n=B(u,Math.round(e*1e3)),i=new ye(u,n),a=(d/1e3).toFixed(3)+`em`,o=(t/1e3).toFixed(3)+`em`,s=new ve([i],{width:a,height:o,viewBox:`0 0 `+d+` `+t}),c=dt.makeSvgSpan([],[s],r);c.height=t/1e3,c.style.width=a,c.style.height=o,E.push({type:`elem`,elem:c})}else{if(E.push(In(l,f,i)),E.push(zn),s===null){let e=S-m-v+2*Rn;E.push(Ln(c,e,r))}else{let e=(S-m-v-y)/2+2*Rn;E.push(Ln(c,e,r)),E.push(zn),E.push(In(s,f,i)),E.push(zn),E.push(Ln(c,e,r))}E.push(zn),E.push(In(o,f,i))}let D=r.havingBaseStyle(T.TEXT),O=dt.makeVList({positionType:`bottom`,positionData:w,children:E},D);return jn(dt.makeSpan([`delimsizing`,`mult`],[O],D),T.TEXT,r,a)},Un=.08,Wn=function(e,t,n,r,i){let a=new ve([new ye(e,L(e,r,n))],{width:`400em`,height:se(t),viewBox:`0 0 400000 `+n,preserveAspectRatio:`xMinYMin slice`});return dt.makeSvgSpan([`hide-tail`],[a],i)},Gn=function(e,t){let n=t.havingBaseSizing(),r=tr(`\\surd`,e*n.sizeMultiplier,$n,n),i=n.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),o,s=0,c=0,l=0,u;return r.type===`small`?(l=1e3+1e3*a+80,e<1?i=1:e<1.4&&(i=.7),s=(1+a+Un)/i,c=(1+a)/i,o=Wn(`sqrtMain`,s,l,a,t),o.style.minWidth=`0.853em`,u=.833/i):r.type===`large`?(l=1080*Yn[r.size],c=(Yn[r.size]+a)/i,s=(Yn[r.size]+a+Un)/i,o=Wn(`sqrtSize`+r.size,s,l,a,t),o.style.minWidth=`1.02em`,u=1/i):(s=e+a+Un,c=e+a,l=Math.floor(1e3*e+a)+80,o=Wn(`sqrtTall`,s,l,a,t),o.style.minWidth=`0.742em`,u=1.056),o.height=c,o.style.height=se(s),{span:o,advanceWidth:u,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*i}},Kn=[`(`,`\\lparen`,`)`,`\\rparen`,`[`,`\\lbrack`,`]`,`\\rbrack`,`\\{`,`\\lbrace`,`\\}`,`\\rbrace`,`\\lfloor`,`\\rfloor`,``,``,`\\lceil`,`\\rceil`,``,``,`\\surd`],qn=[`\\uparrow`,`\\downarrow`,`\\updownarrow`,`\\Uparrow`,`\\Downarrow`,`\\Updownarrow`,`|`,`\\|`,`\\vert`,`\\Vert`,`\\lvert`,`\\rvert`,`\\lVert`,`\\rVert`,`\\lgroup`,`\\rgroup`,``,``,`\\lmoustache`,`\\rmoustache`,``,``],Jn=[`<`,`>`,`\\langle`,`\\rangle`,`/`,`\\backslash`,`\\lt`,`\\gt`],Yn=[0,1.2,1.8,2.4,3],Xn=function(e,t,n,i,a){if(e===`<`||e===`\\lt`||e===``?e=`\\langle`:(e===`>`||e===`\\gt`||e===``)&&(e=`\\rangle`),Kn.includes(e)||Jn.includes(e))return Fn(e,t,!1,n,i,a);if(qn.includes(e))return Hn(e,Yn[t],!1,n,i,a);throw new r(`Illegal delimiter: '`+e+`'`)},Zn=[{type:`small`,style:T.SCRIPTSCRIPT},{type:`small`,style:T.SCRIPT},{type:`small`,style:T.TEXT},{type:`large`,size:1},{type:`large`,size:2},{type:`large`,size:3},{type:`large`,size:4}],Qn=[{type:`small`,style:T.SCRIPTSCRIPT},{type:`small`,style:T.SCRIPT},{type:`small`,style:T.TEXT},{type:`stack`}],$n=[{type:`small`,style:T.SCRIPTSCRIPT},{type:`small`,style:T.SCRIPT},{type:`small`,style:T.TEXT},{type:`large`,size:1},{type:`large`,size:2},{type:`large`,size:3},{type:`large`,size:4},{type:`stack`}],er=function(e){if(e.type===`small`)return`Main-Regular`;if(e.type===`large`)return`Size`+e.size+`-Regular`;if(e.type===`stack`)return`Size4-Regular`;throw Error(`Add support for delim type '`+e.type+`' here.`)},tr=function(e,t,n,r){let i=Math.min(2,3-r.style.size);for(let a=i;a<n.length&&n[a].type!==`stack`;a++){let i=An(e,er(n[a]),`math`),o=i.height+i.depth;if(n[a].type===`small`){let e=r.havingBaseStyle(n[a].style);o*=e.sizeMultiplier}if(o>t)return n[a]}return n[n.length-1]},nr=function(e,t,n,r,i,a){e===`<`||e===`\\lt`||e===``?e=`\\langle`:(e===`>`||e===`\\gt`||e===``)&&(e=`\\rangle`);let o;o=Jn.includes(e)?Zn:Kn.includes(e)?$n:Qn;let s=tr(e,t,o,r);return s.type===`small`?Nn(e,s.style,n,r,i,a):s.type===`large`?Fn(e,s.size,n,r,i,a):Hn(e,t,n,r,i,a)};var rr={sqrtImage:Gn,sizedDelim:Xn,sizeToMaxHeight:Yn,customSizedDelim:nr,leftRightDelim:function(e,t,n,r,i,a){let o=r.fontMetrics().axisHeight*r.sizeMultiplier,s=5/r.fontMetrics().ptPerEm,c=Math.max(t-o,n+o);return nr(e,Math.max(c/500*901,2*c-s),!0,r,i,a)}};let ir={"\\bigl":{mclass:`mopen`,size:1},"\\Bigl":{mclass:`mopen`,size:2},"\\biggl":{mclass:`mopen`,size:3},"\\Biggl":{mclass:`mopen`,size:4},"\\bigr":{mclass:`mclose`,size:1},"\\Bigr":{mclass:`mclose`,size:2},"\\biggr":{mclass:`mclose`,size:3},"\\Biggr":{mclass:`mclose`,size:4},"\\bigm":{mclass:`mrel`,size:1},"\\Bigm":{mclass:`mrel`,size:2},"\\biggm":{mclass:`mrel`,size:3},"\\Biggm":{mclass:`mrel`,size:4},"\\big":{mclass:`mord`,size:1},"\\Big":{mclass:`mord`,size:2},"\\bigg":{mclass:`mord`,size:3},"\\Bigg":{mclass:`mord`,size:4}},ar=`(,\\lparen,),\\rparen,[,\\lbrack,],\\rbrack,\\{,\\lbrace,\\},\\rbrace,\\lfloor,\\rfloor,,,\\lceil,\\rceil,,,<,>,\\langle,,\\rangle,,\\lt,\\gt,\\lvert,\\rvert,\\lVert,\\rVert,\\lgroup,\\rgroup,,,\\lmoustache,\\rmoustache,,,/,\\backslash,|,\\vert,\\|,\\Vert,\\uparrow,\\Uparrow,\\downarrow,\\Downarrow,\\updownarrow,\\Updownarrow,.`.split(`,`);function or(e,t){let n=ln(e);if(n&&ar.includes(n.text))return n;throw n?new r(`Invalid delimiter '`+n.text+`' after '`+t.funcName+`'`,e):new r(`Invalid delimiter type '`+e.type+`'`,e)}bt({type:`delimsizing`,names:[`\\bigl`,`\\Bigl`,`\\biggl`,`\\Biggl`,`\\bigr`,`\\Bigr`,`\\biggr`,`\\Biggr`,`\\bigm`,`\\Bigm`,`\\biggm`,`\\Biggm`,`\\big`,`\\Big`,`\\bigg`,`\\Bigg`],props:{numArgs:1,argTypes:[`primitive`]},handler:(e,t)=>{let n=or(t[0],e);return{type:`delimsizing`,mode:e.parser.mode,size:ir[e.funcName].size,mclass:ir[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim===`.`?dt.makeSpan([e.mclass]):rr.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{let t=[];e.delim!==`.`&&t.push(Ut(e.delim,e.mode));let n=new Ht.MathNode(`mo`,t);e.mclass===`mopen`||e.mclass===`mclose`?n.setAttribute(`fence`,`true`):n.setAttribute(`fence`,`false`),n.setAttribute(`stretchy`,`true`);let r=se(rr.sizeToMaxHeight[e.size]);return n.setAttribute(`minsize`,r),n.setAttribute(`maxsize`,r),n}});function sr(e){if(!e.body)throw Error(`Bug: The leftright ParseNode wasn't fully parsed.`)}bt({type:`leftright-right`,names:[`\\right`],props:{numArgs:1,primitive:!0},handler:(e,t)=>{let n=e.parser.gullet.macros.get(`\\current@color`);if(n&&typeof n!=`string`)throw new r(`\\current@color set to non-string in \\right`);return{type:`leftright-right`,mode:e.parser.mode,delim:or(t[0],e).text,color:n}}}),bt({type:`leftright`,names:[`\\left`],props:{numArgs:1,primitive:!0},handler:(e,t)=>{let n=or(t[0],e),r=e.parser;++r.leftrightDepth;let i=r.parseExpression(!1);--r.leftrightDepth,r.expect(`\\right`,!1);let a=sn(r.parseFunction(),`leftright-right`);return{type:`leftright`,mode:r.mode,body:i,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(e,t)=>{sr(e);let n=kt(e.body,t,!0,[`mopen`,`mclose`]),r=0,i=0,a=!1;for(let e=0;e<n.length;e++)n[e].isMiddle?a=!0:(r=Math.max(n[e].height,r),i=Math.max(n[e].depth,i));r*=t.sizeMultiplier,i*=t.sizeMultiplier;let o;if(o=e.left===`.`?Pt(t,[`mopen`]):rr.leftRightDelim(e.left,r,i,t,e.mode,[`mopen`]),n.unshift(o),a)for(let t=1;t<n.length;t++){let a=n[t].isMiddle;a&&(n[t]=rr.leftRightDelim(a.delim,r,i,a.options,e.mode,[]))}let s;if(e.right===`.`)s=Pt(t,[`mclose`]);else{let n=e.rightColor?t.withColor(e.rightColor):t;s=rr.leftRightDelim(e.right,r,i,n,e.mode,[`mclose`])}return n.push(s),dt.makeSpan([`minner`],n,t)},mathmlBuilder:(e,t)=>{sr(e);let n=qt(e.body,t);if(e.left!==`.`){let t=new Ht.MathNode(`mo`,[Ut(e.left,e.mode)]);t.setAttribute(`fence`,`true`),n.unshift(t)}if(e.right!==`.`){let t=new Ht.MathNode(`mo`,[Ut(e.right,e.mode)]);t.setAttribute(`fence`,`true`),e.rightColor&&t.setAttribute(`mathcolor`,e.rightColor),n.push(t)}return Wt(n)}}),bt({type:`middle`,names:[`\\middle`],props:{numArgs:1,primitive:!0},handler:(e,t)=>{let n=or(t[0],e);if(!e.parser.leftrightDepth)throw new r(`\\middle without preceding \\left`,n);return{type:`middle`,mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{let n;return e.delim===`.`?n=Pt(t,[]):(n=rr.sizedDelim(e.delim,1,t,e.mode,[]),n.isMiddle={delim:e.delim,options:t}),n},mathmlBuilder:(e,t)=>{let n=e.delim===`\\vert`||e.delim===`|`?Ut(`|`,`text`):Ut(e.delim,e.mode),r=new Ht.MathNode(`mo`,[n]);return r.setAttribute(`fence`,`true`),r.setAttribute(`lspace`,`0.05em`),r.setAttribute(`rspace`,`0.05em`),r}});let cr=(e,t)=>{let n=dt.wrapFragment(Ft(e.body,t),t),r=e.label.slice(1),i=t.sizeMultiplier,a,o=0,s=p.isCharacterBox(e.body);if(r===`sout`)a=dt.makeSpan([`stretchy`,`sout`]),a.height=t.fontMetrics().defaultRuleThickness/i,o=-.5*t.fontMetrics().xHeight;else if(r===`phase`){let e=oe({number:.6,unit:`pt`},t),r=oe({number:.35,unit:`ex`},t),s=t.havingBaseSizing();i/=s.sizeMultiplier;let c=n.height+n.depth+e+r;n.style.paddingLeft=se(c/2+e);let l=Math.floor(1e3*c*i),u=new ve([new ye(`phase`,F(l))],{width:`400em`,height:se(l/1e3),viewBox:`0 0 400000 `+l,preserveAspectRatio:`xMinYMin slice`});a=dt.makeSvgSpan([`hide-tail`],[u],t),a.style.height=se(c),o=n.depth+e+r}else{/cancel/.test(r)?s||n.classes.push(`cancel-pad`):r===`angl`?n.classes.push(`anglpad`):n.classes.push(`boxpad`);let i=0,c=0,l=0;/box/.test(r)?(l=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),i=t.fontMetrics().fboxsep+(r===`colorbox`?0:l),c=i):r===`angl`?(l=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),i=4*l,c=Math.max(0,.25-n.depth)):(i=s?.2:0,c=i),a=on.encloseSpan(n,r,i,c,t),/fbox|boxed|fcolorbox/.test(r)?(a.style.borderStyle=`solid`,a.style.borderWidth=se(l)):r===`angl`&&l!==.049&&(a.style.borderTopWidth=se(l),a.style.borderRightWidth=se(l)),o=n.depth+c,e.backgroundColor&&(a.style.backgroundColor=e.backgroundColor,e.borderColor&&(a.style.borderColor=e.borderColor))}let c;if(e.backgroundColor)c=dt.makeVList({positionType:`individualShift`,children:[{type:`elem`,elem:a,shift:o},{type:`elem`,elem:n,shift:0}]},t);else{let e=/cancel|phase/.test(r)?[`svg-align`]:[];c=dt.makeVList({positionType:`individualShift`,children:[{type:`elem`,elem:n,shift:0},{type:`elem`,elem:a,shift:o,wrapperClasses:e}]},t)}return/cancel/.test(r)&&(c.height=n.height,c.depth=n.depth),/cancel/.test(r)&&!s?dt.makeSpan([`mord`,`cancel-lap`],[c],t):dt.makeSpan([`mord`],[c],t)},lr=(e,t)=>{let n=0,r=new Ht.MathNode(e.label.indexOf(`colorbox`)>-1?`mpadded`:`menclose`,[Yt(e.body,t)]);switch(e.label){case`\\cancel`:r.setAttribute(`notation`,`updiagonalstrike`);break;case`\\bcancel`:r.setAttribute(`notation`,`downdiagonalstrike`);break;case`\\phase`:r.setAttribute(`notation`,`phasorangle`);break;case`\\sout`:r.setAttribute(`notation`,`horizontalstrike`);break;case`\\fbox`:r.setAttribute(`notation`,`box`);break;case`\\angl`:r.setAttribute(`notation`,`actuarial`);break;case`\\fcolorbox`:case`\\colorbox`:if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute(`width`,`+`+2*n+`pt`),r.setAttribute(`height`,`+`+2*n+`pt`),r.setAttribute(`lspace`,n+`pt`),r.setAttribute(`voffset`,n+`pt`),e.label===`\\fcolorbox`){let n=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute(`style`,`border: `+n+`em solid `+String(e.borderColor))}break;case`\\xcancel`:r.setAttribute(`notation`,`updiagonalstrike downdiagonalstrike`);break}return e.backgroundColor&&r.setAttribute(`mathbackground`,e.backgroundColor),r};bt({type:`enclose`,names:[`\\colorbox`],props:{numArgs:2,allowedInText:!0,argTypes:[`color`,`text`]},handler(e,t,n){let{parser:r,funcName:i}=e,a=sn(t[0],`color-token`).color,o=t[1];return{type:`enclose`,mode:r.mode,label:i,backgroundColor:a,body:o}},htmlBuilder:cr,mathmlBuilder:lr}),bt({type:`enclose`,names:[`\\fcolorbox`],props:{numArgs:3,allowedInText:!0,argTypes:[`color`,`color`,`text`]},handler(e,t,n){let{parser:r,funcName:i}=e,a=sn(t[0],`color-token`).color,o=sn(t[1],`color-token`).color,s=t[2];return{type:`enclose`,mode:r.mode,label:i,backgroundColor:o,borderColor:a,body:s}},htmlBuilder:cr,mathmlBuilder:lr}),bt({type:`enclose`,names:[`\\fbox`],props:{numArgs:1,argTypes:[`hbox`],allowedInText:!0},handler(e,t){let{parser:n}=e;return{type:`enclose`,mode:n.mode,label:`\\fbox`,body:t[0]}}}),bt({type:`enclose`,names:[`\\cancel`,`\\bcancel`,`\\xcancel`,`\\sout`,`\\phase`],props:{numArgs:1},handler(e,t){let{parser:n,funcName:r}=e,i=t[0];return{type:`enclose`,mode:n.mode,label:r,body:i}},htmlBuilder:cr,mathmlBuilder:lr}),bt({type:`enclose`,names:[`\\angl`],props:{numArgs:1,argTypes:[`hbox`],allowedInText:!1},handler(e,t){let{parser:n}=e;return{type:`enclose`,mode:n.mode,label:`\\angl`,body:t[0]}}});let ur={};function dr(e){let{type:t,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:o}=e,s={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i};for(let e=0;e<n.length;++e)ur[n[e]]=s;a&&(vt[t]=a),o&&(yt[t]=o)}let fr={};function $(e,t){fr[e]=t}class pr{constructor(e,t,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=n}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new pr(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class mr{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new mr(t,pr.range(this,e))}}function hr(e){let t=[];e.consumeSpaces();let n=e.fetch().text;for(n===`\\relax`&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n===`\\hline`||n===`\\hdashline`;)e.consume(),t.push(n===`\\hdashline`),e.consumeSpaces(),n=e.fetch().text;return t}let gr=e=>{if(!e.parser.settings.displayMode)throw new r(`{`+e.envName+`} can be used only in display mode.`)};function _r(e){if(e.indexOf(`ed`)===-1)return e.indexOf(`*`)===-1}function vr(e,t,n){let{hskipBeforeAndAfter:i,addJot:a,cols:o,arraystretch:s,colSeparationType:c,autoTag:l,singleRow:u,emptySingleRow:d,maxNumCols:f,leqno:p}=t;if(e.gullet.beginGroup(),u||e.gullet.macros.set(`\\cr`,`\\\\\\relax`),!s){let t=e.gullet.expandMacroAsText(`\\arraystretch`);if(t==null)s=1;else if(s=parseFloat(t),!s||s<0)throw new r(`Invalid \\arraystretch: `+t)}e.gullet.beginGroup();let m=[],h=[m],g=[],_=[],v=l==null?void 0:[];function y(){l&&e.gullet.macros.set(`\\@eqnsw`,`1`,!0)}function b(){v&&(e.gullet.macros.get(`\\df@tag`)?(v.push(e.subparse([new mr(`\\df@tag`)])),e.gullet.macros.set(`\\df@tag`,void 0,!0)):v.push(!!l&&e.gullet.macros.get(`\\@eqnsw`)===`1`))}for(y(),_.push(hr(e));;){let t=e.parseExpression(!1,u?`\\end`:`\\\\`);e.gullet.endGroup(),e.gullet.beginGroup(),t={type:`ordgroup`,mode:e.mode,body:t},n&&(t={type:`styling`,mode:e.mode,style:n,body:[t]}),m.push(t);let i=e.fetch().text;if(i===`&`){if(f&&m.length===f){if(u||c)throw new r(`Too many tab characters: &`,e.nextToken);e.settings.reportNonstrict(`textEnv`,`Too few columns specified in the {array} column argument.`)}e.consume()}else if(i===`\\end`){b(),m.length===1&&t.type===`styling`&&t.body[0].body.length===0&&(h.length>1||!d)&&h.pop(),_.length<h.length+1&&_.push([]);break}else if(i===`\\\\`){e.consume();let t;e.gullet.future().text!==` `&&(t=e.parseSizeGroup(!0)),g.push(t?t.value:null),b(),_.push(hr(e)),m=[],h.push(m),y()}else throw new r(`Expected & or \\\\ or \\cr or \\end`,e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:`array`,mode:e.mode,addJot:a,arraystretch:s,body:h,cols:o,rowGaps:g,hskipBeforeAndAfter:i,hLinesBeforeRow:_,colSeparationType:c,tags:v,leqno:p}}function yr(e){return e.slice(0,1)===`d`?`display`:`text`}let br=function(e,t){let n,i,a=e.body.length,o=e.hLinesBeforeRow,s=0,c=Array(a),l=[],u=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),d=1/t.fontMetrics().ptPerEm,f=5*d;e.colSeparationType&&e.colSeparationType===`small`&&(f=.2778*(t.havingStyle(T.SCRIPT).sizeMultiplier/t.sizeMultiplier));let m=e.colSeparationType===`CD`?oe({number:3,unit:`ex`},t):12*d,h=3*d,g=e.arraystretch*m,_=.7*g,v=.3*g,y=0;function b(e){for(let t=0;t<e.length;++t)t>0&&(y+=.25),l.push({pos:y,isDashed:e[t]})}for(b(o[0]),n=0;n<e.body.length;++n){let r=e.body[n],a=_,l=v;s<r.length&&(s=r.length);let u=Array(r.length);for(i=0;i<r.length;++i){let e=Ft(r[i],t);l<e.depth&&(l=e.depth),a<e.height&&(a=e.height),u[i]=e}let d=e.rowGaps[n],f=0;d&&(f=oe(d,t),f>0&&(f+=v,l<f&&(l=f),f=0)),e.addJot&&(l+=h),u.height=a,u.depth=l,y+=a,u.pos=y,y+=l+f,c[n]=u,b(o[n+1])}let x=y/2+t.fontMetrics().axisHeight,S=e.cols||[],C=[],w,E,D=[];if(e.tags&&e.tags.some(e=>e))for(n=0;n<a;++n){let r=c[n],i=r.pos-x,a=e.tags[n],o;o=a===!0?dt.makeSpan([`eqn-num`],[],t):a===!1?dt.makeSpan([],[],t):dt.makeSpan([],kt(a,t,!0),t),o.depth=r.depth,o.height=r.height,D.push({type:`elem`,elem:o,shift:i})}for(i=0,E=0;i<s||E<S.length;++i,++E){let o=S[E]||{},l=!0;for(;o.type===`separator`;){if(l||(w=dt.makeSpan([`arraycolsep`],[]),w.style.width=se(t.fontMetrics().doubleRuleSep),C.push(w)),o.separator===`|`||o.separator===`:`){let e=o.separator===`|`?`solid`:`dashed`,n=dt.makeSpan([`vertical-separator`],[],t);n.style.height=se(y),n.style.borderRightWidth=se(u),n.style.borderRightStyle=e,n.style.margin=`0 `+se(-u/2);let r=y-x;r&&(n.style.verticalAlign=se(-r)),C.push(n)}else throw new r(`Invalid separator type: `+o.separator);E++,o=S[E]||{},l=!1}if(i>=s)continue;let d;(i>0||e.hskipBeforeAndAfter)&&(d=p.deflt(o.pregap,f),d!==0&&(w=dt.makeSpan([`arraycolsep`],[]),w.style.width=se(d),C.push(w)));let m=[];for(n=0;n<a;++n){let e=c[n],t=e[i];if(!t)continue;let r=e.pos-x;t.depth=e.depth,t.height=e.height,m.push({type:`elem`,elem:t,shift:r})}m=dt.makeVList({positionType:`individualShift`,children:m},t),m=dt.makeSpan([`col-align-`+(o.align||`c`)],[m]),C.push(m),(i<s-1||e.hskipBeforeAndAfter)&&(d=p.deflt(o.postgap,f),d!==0&&(w=dt.makeSpan([`arraycolsep`],[]),w.style.width=se(d),C.push(w)))}if(c=dt.makeSpan([`mtable`],C),l.length>0){let e=dt.makeLineSpan(`hline`,t,u),n=dt.makeLineSpan(`hdashline`,t,u),r=[{type:`elem`,elem:c,shift:0}];for(;l.length>0;){let t=l.pop(),i=t.pos-x;t.isDashed?r.push({type:`elem`,elem:n,shift:i}):r.push({type:`elem`,elem:e,shift:i})}c=dt.makeVList({positionType:`individualShift`,children:r},t)}if(D.length===0)return dt.makeSpan([`mord`],[c],t);{let e=dt.makeVList({positionType:`individualShift`,children:D},t);return e=dt.makeSpan([`tag`],[e],t),dt.makeFragment([c,e])}},xr={c:`center `,l:`left `,r:`right `},Sr=function(e,t){let n=[],r=new Ht.MathNode(`mtd`,[],[`mtr-glue`]),i=new Ht.MathNode(`mtd`,[],[`mml-eqn-num`]);for(let a=0;a<e.body.length;a++){let o=e.body[a],s=[];for(let e=0;e<o.length;e++)s.push(new Ht.MathNode(`mtd`,[Yt(o[e],t)]));e.tags&&e.tags[a]&&(s.unshift(r),s.push(r),e.leqno?s.unshift(i):s.push(i)),n.push(new Ht.MathNode(`mtr`,s))}let a=new Ht.MathNode(`mtable`,n),o=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);a.setAttribute(`rowspacing`,se(o));let s=``,c=``;if(e.cols&&e.cols.length>0){let t=e.cols,n=``,r=!1,i=0,o=t.length;t[0].type===`separator`&&(s+=`top `,i=1),t[t.length-1].type===`separator`&&(s+=`bottom `,--o);for(let e=i;e<o;e++)t[e].type===`align`?(c+=xr[t[e].align],r&&(n+=`none `),r=!0):t[e].type===`separator`&&(r&&=(n+=t[e].separator===`|`?`solid `:`dashed `,!1));a.setAttribute(`columnalign`,c.trim()),/[sd]/.test(n)&&a.setAttribute(`columnlines`,n.trim())}if(e.colSeparationType===`align`){let t=e.cols||[],n=``;for(let e=1;e<t.length;e++)n+=e%2?`0em `:`1em `;a.setAttribute(`columnspacing`,n.trim())}else e.colSeparationType===`alignat`||e.colSeparationType===`gather`?a.setAttribute(`columnspacing`,`0em`):e.colSeparationType===`small`?a.setAttribute(`columnspacing`,`0.2778em`):e.colSeparationType===`CD`?a.setAttribute(`columnspacing`,`0.5em`):a.setAttribute(`columnspacing`,`1em`);let l=``,u=e.hLinesBeforeRow;s+=u[0].length>0?`left `:``,s+=u[u.length-1].length>0?`right `:``;for(let e=1;e<u.length-1;e++)l+=u[e].length===0?`none `:u[e][0]?`dashed `:`solid `;return/[sd]/.test(l)&&a.setAttribute(`rowlines`,l.trim()),s!==``&&(a=new Ht.MathNode(`menclose`,[a]),a.setAttribute(`notation`,s.trim())),e.arraystretch&&e.arraystretch<1&&(a=new Ht.MathNode(`mstyle`,[a]),a.setAttribute(`scriptlevel`,`1`)),a},Cr=function(e,t){e.envName.indexOf(`ed`)===-1&&gr(e);let n=[],i=e.envName.indexOf(`at`)>-1?`alignat`:`align`,a=e.envName===`split`,o=vr(e.parser,{cols:n,addJot:!0,autoTag:a?void 0:_r(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},`display`),s,c=0,l={type:`ordgroup`,mode:e.mode,body:[]};if(t[0]&&t[0].type===`ordgroup`){let e=``;for(let n=0;n<t[0].body.length;n++){let r=sn(t[0].body[n],`textord`);e+=r.text}s=Number(e),c=s*2}let u=!c;o.body.forEach(function(e){for(let t=1;t<e.length;t+=2)sn(sn(e[t],`styling`).body[0],`ordgroup`).body.unshift(l);if(u)c<e.length&&(c=e.length);else{let t=e.length/2;if(s<t)throw new r(`Too many math in a row: `+(`expected `+s+`, but got `+t),e[0])}});for(let e=0;e<c;++e){let t=`r`,r=0;e%2==1?t=`l`:e>0&&u&&(r=1),n[e]={type:`align`,align:t,pregap:r,postgap:0}}return o.colSeparationType=u?`align`:`alignat`,o};dr({type:`array`,names:[`array`,`darray`],props:{numArgs:1},handler(e,t){let n=(ln(t[0])?[t[0]]:sn(t[0],`ordgroup`).body).map(function(e){let t=cn(e).text;if(`lcr`.indexOf(t)!==-1)return{type:`align`,align:t};if(t===`|`)return{type:`separator`,separator:`|`};if(t===`:`)return{type:`separator`,separator:`:`};throw new r(`Unknown column alignment: `+t,e)}),i={cols:n,hskipBeforeAndAfter:!0,maxNumCols:n.length};return vr(e.parser,i,yr(e.envName))},htmlBuilder:br,mathmlBuilder:Sr}),dr({type:`array`,names:[`matrix`,`pmatrix`,`bmatrix`,`Bmatrix`,`vmatrix`,`Vmatrix`,`matrix*`,`pmatrix*`,`bmatrix*`,`Bmatrix*`,`vmatrix*`,`Vmatrix*`],props:{numArgs:0},handler(e){let t={matrix:null,pmatrix:[`(`,`)`],bmatrix:[`[`,`]`],Bmatrix:[`\\{`,`\\}`],vmatrix:[`|`,`|`],Vmatrix:[`\\Vert`,`\\Vert`]}[e.envName.replace(`*`,``)],n=`c`,i={hskipBeforeAndAfter:!1,cols:[{type:`align`,align:n}]};if(e.envName.charAt(e.envName.length-1)===`*`){let t=e.parser;if(t.consumeSpaces(),t.fetch().text===`[`){if(t.consume(),t.consumeSpaces(),n=t.fetch().text,`lcr`.indexOf(n)===-1)throw new r(`Expected l or c or r`,t.nextToken);t.consume(),t.consumeSpaces(),t.expect(`]`),t.consume(),i.cols=[{type:`align`,align:n}]}}let a=vr(e.parser,i,yr(e.envName)),o=Math.max(0,...a.body.map(e=>e.length));return a.cols=Array(o).fill({type:`align`,align:n}),t?{type:`leftright`,mode:e.mode,body:[a],left:t[0],right:t[1],rightColor:void 0}:a},htmlBuilder:br,mathmlBuilder:Sr}),dr({type:`array`,names:[`smallmatrix`],props:{numArgs:0},handler(e){let t=vr(e.parser,{arraystretch:.5},`script`);return t.colSeparationType=`small`,t},htmlBuilder:br,mathmlBuilder:Sr}),dr({type:`array`,names:[`subarray`],props:{numArgs:1},handler(e,t){let n=(ln(t[0])?[t[0]]:sn(t[0],`ordgroup`).body).map(function(e){let t=cn(e).text;if(`lc`.indexOf(t)!==-1)return{type:`align`,align:t};throw new r(`Unknown column alignment: `+t,e)});if(n.length>1)throw new r(`{subarray} can contain only one column`);let i={cols:n,hskipBeforeAndAfter:!1,arraystretch:.5};if(i=vr(e.parser,i,`script`),i.body.length>0&&i.body[0].length>1)throw new r(`{subarray} can contain only one column`);return i},htmlBuilder:br,mathmlBuilder:Sr}),dr({type:`array`,names:[`cases`,`dcases`,`rcases`,`drcases`],props:{numArgs:0},handler(e){let t=vr(e.parser,{arraystretch:1.2,cols:[{type:`align`,align:`l`,pregap:0,postgap:1},{type:`align`,align:`l`,pregap:0,postgap:0}]},yr(e.envName));return{type:`leftright`,mode:e.mode,body:[t],left:e.envName.indexOf(`r`)>-1?`.`:`\\{`,right:e.envName.indexOf(`r`)>-1?`\\}`:`.`,rightColor:void 0}},htmlBuilder:br,mathmlBuilder:Sr}),dr({type:`array`,names:[`align`,`align*`,`aligned`,`split`],props:{numArgs:0},handler:Cr,htmlBuilder:br,mathmlBuilder:Sr}),dr({type:`array`,names:[`gathered`,`gather`,`gather*`],props:{numArgs:0},handler(e){[`gather`,`gather*`].includes(e.envName)&&gr(e);let t={cols:[{type:`align`,align:`c`}],addJot:!0,colSeparationType:`gather`,autoTag:_r(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return vr(e.parser,t,`display`)},htmlBuilder:br,mathmlBuilder:Sr}),dr({type:`array`,names:[`alignat`,`alignat*`,`alignedat`],props:{numArgs:1},handler:Cr,htmlBuilder:br,mathmlBuilder:Sr}),dr({type:`array`,names:[`equation`,`equation*`],props:{numArgs:0},handler(e){gr(e);let t={autoTag:_r(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return vr(e.parser,t,`display`)},htmlBuilder:br,mathmlBuilder:Sr}),dr({type:`array`,names:[`CD`],props:{numArgs:0},handler(e){return gr(e),Cn(e.parser)},htmlBuilder:br,mathmlBuilder:Sr}),$(`\\nonumber`,`\\gdef\\@eqnsw{0}`),$(`\\notag`,`\\nonumber`),bt({type:`text`,names:[`\\hline`,`\\hdashline`],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new r(e.funcName+` valid only within array environment`)}});var wr=ur;bt({type:`environment`,names:[`\\begin`,`\\end`],props:{numArgs:1,argTypes:[`text`]},handler(e,t){let{parser:n,funcName:i}=e,a=t[0];if(a.type!==`ordgroup`)throw new r(`Invalid environment name`,a);let o=``;for(let e=0;e<a.body.length;++e)o+=sn(a.body[e],`textord`).text;if(i===`\\begin`){if(!wr.hasOwnProperty(o))throw new r(`No such environment: `+o,a);let e=wr[o],{args:t,optArgs:i}=n.parseArguments(`\\begin{`+o+`}`,e),s={mode:n.mode,envName:o,parser:n},c=e.handler(s,t,i);n.expect(`\\end`,!1);let l=n.nextToken,u=sn(n.parseFunction(),`environment`);if(u.name!==o)throw new r(`Mismatch: \\begin{`+o+`} matched by \\end{`+u.name+`}`,l);return c}return{type:`environment`,mode:n.mode,name:o,nameGroup:a}}});let Tr=(e,t)=>{let n=e.font,r=t.withFont(n);return Ft(e.body,r)},Er=(e,t)=>{let n=e.font,r=t.withFont(n);return Yt(e.body,r)},Dr={"\\Bbb":`\\mathbb`,"\\bold":`\\mathbf`,"\\frak":`\\mathfrak`,"\\bm":`\\boldsymbol`};bt({type:`font`,names:[`\\mathrm`,`\\mathit`,`\\mathbf`,`\\mathnormal`,`\\mathsfit`,`\\mathbb`,`\\mathcal`,`\\mathfrak`,`\\mathscr`,`\\mathsf`,`\\mathtt`,`\\Bbb`,`\\bold`,`\\frak`],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{let{parser:n,funcName:r}=e,i=St(t[0]),a=r;return a in Dr&&(a=Dr[a]),{type:`font`,mode:n.mode,font:a.slice(1),body:i}},htmlBuilder:Tr,mathmlBuilder:Er}),bt({type:`mclass`,names:[`\\boldsymbol`,`\\bm`],props:{numArgs:1},handler:(e,t)=>{let{parser:n}=e,r=t[0],i=p.isCharacterBox(r);return{type:`mclass`,mode:n.mode,mclass:_n(r),body:[{type:`font`,mode:n.mode,font:`boldsymbol`,body:r}],isCharacterBox:i}}}),bt({type:`font`,names:[`\\rm`,`\\sf`,`\\tt`,`\\bf`,`\\it`,`\\cal`],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{let{parser:n,funcName:r,breakOnTokenText:i}=e,{mode:a}=n,o=n.parseExpression(!0,i);return{type:`font`,mode:a,font:`math`+r.slice(1),body:{type:`ordgroup`,mode:n.mode,body:o}}},htmlBuilder:Tr,mathmlBuilder:Er});let Or=(e,t)=>{let n=t;return e===`display`?n=n.id>=T.SCRIPT.id?n.text():T.DISPLAY:e===`text`&&n.size===T.DISPLAY.size?n=T.TEXT:e===`script`?n=T.SCRIPT:e===`scriptscript`&&(n=T.SCRIPTSCRIPT),n},kr=(e,t)=>{let n=Or(e.size,t.style),r=n.fracNum(),i=n.fracDen(),a;a=t.havingStyle(r);let o=Ft(e.numer,a,t);if(e.continued){let e=8.5/t.fontMetrics().ptPerEm,n=3.5/t.fontMetrics().ptPerEm;o.height=o.height<e?e:o.height,o.depth=o.depth<n?n:o.depth}a=t.havingStyle(i);let s=Ft(e.denom,a,t),c,l,u;e.hasBarLine?(e.barSize?(l=oe(e.barSize,t),c=dt.makeLineSpan(`frac-line`,t,l)):c=dt.makeLineSpan(`frac-line`,t),l=c.height,u=c.height):(c=null,l=0,u=t.fontMetrics().defaultRuleThickness);let d,f,p;n.size===T.DISPLAY.size||e.size===`display`?(d=t.fontMetrics().num1,f=l>0?3*u:7*u,p=t.fontMetrics().denom1):(l>0?(d=t.fontMetrics().num2,f=u):(d=t.fontMetrics().num3,f=3*u),p=t.fontMetrics().denom2);let m;if(c){let e=t.fontMetrics().axisHeight;d-o.depth-(e+.5*l)<f&&(d+=f-(d-o.depth-(e+.5*l))),e-.5*l-(s.height-p)<f&&(p+=f-(e-.5*l-(s.height-p)));let n=-(e-.5*l);m=dt.makeVList({positionType:`individualShift`,children:[{type:`elem`,elem:s,shift:p},{type:`elem`,elem:c,shift:n},{type:`elem`,elem:o,shift:-d}]},t)}else{let e=d-o.depth-(s.height-p);e<f&&(d+=.5*(f-e),p+=.5*(f-e)),m=dt.makeVList({positionType:`individualShift`,children:[{type:`elem`,elem:s,shift:p},{type:`elem`,elem:o,shift:-d}]},t)}a=t.havingStyle(n),m.height*=a.sizeMultiplier/t.sizeMultiplier,m.depth*=a.sizeMultiplier/t.sizeMultiplier;let h;h=n.size===T.DISPLAY.size?t.fontMetrics().delim1:n.size===T.SCRIPTSCRIPT.size?t.havingStyle(T.SCRIPT).fontMetrics().delim2:t.fontMetrics().delim2;let g,_;return g=e.leftDelim==null?Pt(t,[`mopen`]):rr.customSizedDelim(e.leftDelim,h,!0,t.havingStyle(n),e.mode,[`mopen`]),_=e.continued?dt.makeSpan([]):e.rightDelim==null?Pt(t,[`mclose`]):rr.customSizedDelim(e.rightDelim,h,!0,t.havingStyle(n),e.mode,[`mclose`]),dt.makeSpan([`mord`].concat(a.sizingClasses(t)),[g,dt.makeSpan([`mfrac`],[m]),_],t)},Ar=(e,t)=>{let n=new Ht.MathNode(`mfrac`,[Yt(e.numer,t),Yt(e.denom,t)]);if(!e.hasBarLine)n.setAttribute(`linethickness`,`0px`);else if(e.barSize){let r=oe(e.barSize,t);n.setAttribute(`linethickness`,se(r))}let r=Or(e.size,t.style);if(r.size!==t.style.size){n=new Ht.MathNode(`mstyle`,[n]);let e=r.size===T.DISPLAY.size?`true`:`false`;n.setAttribute(`displaystyle`,e),n.setAttribute(`scriptlevel`,`0`)}if(e.leftDelim!=null||e.rightDelim!=null){let t=[];if(e.leftDelim!=null){let n=new Ht.MathNode(`mo`,[new Ht.TextNode(e.leftDelim.replace(`\\`,``))]);n.setAttribute(`fence`,`true`),t.push(n)}if(t.push(n),e.rightDelim!=null){let n=new Ht.MathNode(`mo`,[new Ht.TextNode(e.rightDelim.replace(`\\`,``))]);n.setAttribute(`fence`,`true`),t.push(n)}return Wt(t)}return n};bt({type:`genfrac`,names:[`\\dfrac`,`\\frac`,`\\tfrac`,`\\dbinom`,`\\binom`,`\\tbinom`,`\\\\atopfrac`,`\\\\bracefrac`,`\\\\brackfrac`],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{let{parser:n,funcName:r}=e,i=t[0],a=t[1],o,s=null,c=null,l=`auto`;switch(r){case`\\dfrac`:case`\\frac`:case`\\tfrac`:o=!0;break;case`\\\\atopfrac`:o=!1;break;case`\\dbinom`:case`\\binom`:case`\\tbinom`:o=!1,s=`(`,c=`)`;break;case`\\\\bracefrac`:o=!1,s=`\\{`,c=`\\}`;break;case`\\\\brackfrac`:o=!1,s=`[`,c=`]`;break;default:throw Error(`Unrecognized genfrac command`)}switch(r){case`\\dfrac`:case`\\dbinom`:l=`display`;break;case`\\tfrac`:case`\\tbinom`:l=`text`;break}return{type:`genfrac`,mode:n.mode,continued:!1,numer:i,denom:a,hasBarLine:o,leftDelim:s,rightDelim:c,size:l,barSize:null}},htmlBuilder:kr,mathmlBuilder:Ar}),bt({type:`genfrac`,names:[`\\cfrac`],props:{numArgs:2},handler:(e,t)=>{let{parser:n,funcName:r}=e,i=t[0],a=t[1];return{type:`genfrac`,mode:n.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:`display`,barSize:null}}}),bt({type:`infix`,names:[`\\over`,`\\choose`,`\\atop`,`\\brace`,`\\brack`],props:{numArgs:0,infix:!0},handler(e){let{parser:t,funcName:n,token:r}=e,i;switch(n){case`\\over`:i=`\\frac`;break;case`\\choose`:i=`\\binom`;break;case`\\atop`:i=`\\\\atopfrac`;break;case`\\brace`:i=`\\\\bracefrac`;break;case`\\brack`:i=`\\\\brackfrac`;break;default:throw Error(`Unrecognized infix genfrac command`)}return{type:`infix`,mode:t.mode,replaceWith:i,token:r}}});let jr=[`display`,`text`,`script`,`scriptscript`],Mr=function(e){let t=null;return e.length>0&&(t=e,t=t===`.`?null:t),t};bt({type:`genfrac`,names:[`\\genfrac`],props:{numArgs:6,allowedInArgument:!0,argTypes:[`math`,`math`,`size`,`text`,`math`,`math`]},handler(e,t){let{parser:n}=e,r=t[4],i=t[5],a=St(t[0]),o=a.type===`atom`&&a.family===`open`?Mr(a.text):null,s=St(t[1]),c=s.type===`atom`&&s.family===`close`?Mr(s.text):null,l=sn(t[2],`size`),u,d=null;l.isBlank?u=!0:(d=l.value,u=d.number>0);let f=`auto`,p=t[3];if(p.type===`ordgroup`){if(p.body.length>0){let e=sn(p.body[0],`textord`);f=jr[Number(e.text)]}}else p=sn(p,`textord`),f=jr[Number(p.text)];return{type:`genfrac`,mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:u,barSize:d,leftDelim:o,rightDelim:c,size:f}},htmlBuilder:kr,mathmlBuilder:Ar}),bt({type:`infix`,names:[`\\above`],props:{numArgs:1,argTypes:[`size`],infix:!0},handler(e,t){let{parser:n,funcName:r,token:i}=e;return{type:`infix`,mode:n.mode,replaceWith:`\\\\abovefrac`,size:sn(t[0],`size`).value,token:i}}}),bt({type:`genfrac`,names:[`\\\\abovefrac`],props:{numArgs:3,argTypes:[`math`,`size`,`math`]},handler:(e,t)=>{let{parser:n,funcName:r}=e,i=t[0],a=f(sn(t[1],`infix`).size),o=t[2],s=a.number>0;return{type:`genfrac`,mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:s,barSize:a,leftDelim:null,rightDelim:null,size:`auto`}},htmlBuilder:kr,mathmlBuilder:Ar});let Nr=(e,t)=>{let n=t.style,r,i;e.type===`supsub`?(r=e.sup?Ft(e.sup,t.havingStyle(n.sup()),t):Ft(e.sub,t.havingStyle(n.sub()),t),i=sn(e.base,`horizBrace`)):i=sn(e,`horizBrace`);let a=Ft(i.base,t.havingBaseStyle(T.DISPLAY)),o=on.svgSpan(i,t),s;if(i.isOver?(s=dt.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:a},{type:`kern`,size:.1},{type:`elem`,elem:o}]},t),s.children[0].children[0].children[1].classes.push(`svg-align`)):(s=dt.makeVList({positionType:`bottom`,positionData:a.depth+.1+o.height,children:[{type:`elem`,elem:o},{type:`kern`,size:.1},{type:`elem`,elem:a}]},t),s.children[0].children[0].children[0].classes.push(`svg-align`)),r){let e=dt.makeSpan([`mord`,i.isOver?`mover`:`munder`],[s],t);s=i.isOver?dt.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:e},{type:`kern`,size:.2},{type:`elem`,elem:r}]},t):dt.makeVList({positionType:`bottom`,positionData:e.depth+.2+r.height+r.depth,children:[{type:`elem`,elem:r},{type:`kern`,size:.2},{type:`elem`,elem:e}]},t)}return dt.makeSpan([`mord`,i.isOver?`mover`:`munder`],[s],t)};bt({type:`horizBrace`,names:[`\\overbrace`,`\\underbrace`],props:{numArgs:1},handler(e,t){let{parser:n,funcName:r}=e;return{type:`horizBrace`,mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:Nr,mathmlBuilder:(e,t)=>{let n=on.mathMLnode(e.label);return new Ht.MathNode(e.isOver?`mover`:`munder`,[Yt(e.base,t),n])}}),bt({type:`href`,names:[`\\href`],props:{numArgs:2,argTypes:[`url`,`original`],allowedInText:!0},handler:(e,t)=>{let{parser:n}=e,r=t[1],i=sn(t[0],`url`).url;return n.settings.isTrusted({command:`\\href`,url:i})?{type:`href`,mode:n.mode,href:i,body:Ct(r)}:n.formatUnsupportedCmd(`\\href`)},htmlBuilder:(e,t)=>{let n=kt(e.body,t,!1);return dt.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{let n=Jt(e.body,t);return n instanceof zt||(n=new zt(`mrow`,[n])),n.setAttribute(`href`,e.href),n}}),bt({type:`href`,names:[`\\url`],props:{numArgs:1,argTypes:[`url`],allowedInText:!0},handler:(e,t)=>{let{parser:n}=e,r=sn(t[0],`url`).url;if(!n.settings.isTrusted({command:`\\url`,url:r}))return n.formatUnsupportedCmd(`\\url`);let i=[];for(let e=0;e<r.length;e++){let t=r[e];t===`~`&&(t=`\\textasciitilde`),i.push({type:`textord`,mode:`text`,text:t})}let a={type:`text`,mode:n.mode,font:`\\texttt`,body:i};return{type:`href`,mode:n.mode,href:r,body:Ct(a)}}}),bt({type:`hbox`,names:[`\\hbox`],props:{numArgs:1,argTypes:[`text`],allowedInText:!0,primitive:!0},handler(e,t){let{parser:n}=e;return{type:`hbox`,mode:n.mode,body:Ct(t[0])}},htmlBuilder(e,t){let n=kt(e.body,t,!1);return dt.makeFragment(n)},mathmlBuilder(e,t){return new Ht.MathNode(`mrow`,qt(e.body,t))}}),bt({type:`html`,names:[`\\htmlClass`,`\\htmlId`,`\\htmlStyle`,`\\htmlData`],props:{numArgs:2,argTypes:[`raw`,`original`],allowedInText:!0},handler:(e,t)=>{let{parser:n,funcName:i,token:a}=e,o=sn(t[0],`raw`).string,s=t[1];n.settings.strict&&n.settings.reportNonstrict(`htmlExtension`,`HTML extension is disabled on strict mode`);let c,l={};switch(i){case`\\htmlClass`:l.class=o,c={command:`\\htmlClass`,class:o};break;case`\\htmlId`:l.id=o,c={command:`\\htmlId`,id:o};break;case`\\htmlStyle`:l.style=o,c={command:`\\htmlStyle`,style:o};break;case`\\htmlData`:{let e=o.split(`,`);for(let t=0;t<e.length;t++){let n=e[t],i=n.indexOf(`=`);if(i<0)throw new r(`\\htmlData key/value '`+n+`' missing equals sign`);let a=n.slice(0,i),o=n.slice(i+1);l[`data-`+a.trim()]=o}c={command:`\\htmlData`,attributes:l};break}default:throw Error(`Unrecognized html command`)}return n.settings.isTrusted(c)?{type:`html`,mode:n.mode,attributes:l,body:Ct(s)}:n.formatUnsupportedCmd(i)},htmlBuilder:(e,t)=>{let n=kt(e.body,t,!1),r=[`enclosing`];e.attributes.class&&r.push(...e.attributes.class.trim().split(/\s+/));let i=dt.makeSpan(r,n,t);for(let t in e.attributes)t!==`class`&&e.attributes.hasOwnProperty(t)&&i.setAttribute(t,e.attributes[t]);return i},mathmlBuilder:(e,t)=>Jt(e.body,t)}),bt({type:`htmlmathml`,names:[`\\html@mathml`],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{let{parser:n}=e;return{type:`htmlmathml`,mode:n.mode,html:Ct(t[0]),mathml:Ct(t[1])}},htmlBuilder:(e,t)=>{let n=kt(e.html,t,!1);return dt.makeFragment(n)},mathmlBuilder:(e,t)=>Jt(e.mathml,t)});let Pr=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:`bp`};{let t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new r(`Invalid size: '`+e+`' in \\includegraphics`);let n={number:+(t[1]+t[2]),unit:t[3]};if(!ae(n))throw new r(`Invalid unit: '`+n.unit+`' in \\includegraphics.`);return n}};bt({type:`includegraphics`,names:[`\\includegraphics`],props:{numArgs:1,numOptionalArgs:1,argTypes:[`raw`,`url`],allowedInText:!1},handler:(e,t,n)=>{let{parser:i}=e,a={number:0,unit:`em`},o={number:.9,unit:`em`},s={number:0,unit:`em`},c=``;if(n[0]){let e=sn(n[0],`raw`).string.split(`,`);for(let t=0;t<e.length;t++){let n=e[t].split(`=`);if(n.length===2){let e=n[1].trim();switch(n[0].trim()){case`alt`:c=e;break;case`width`:a=Pr(e);break;case`height`:o=Pr(e);break;case`totalheight`:s=Pr(e);break;default:throw new r(`Invalid key: '`+n[0]+`' in \\includegraphics.`)}}}}let l=sn(t[0],`url`).url;return c===``&&(c=l,c=c.replace(/^.*[\\/]/,``),c=c.substring(0,c.lastIndexOf(`.`))),i.settings.isTrusted({command:`\\includegraphics`,url:l})?{type:`includegraphics`,mode:i.mode,alt:c,width:a,height:o,totalheight:s,src:l}:i.formatUnsupportedCmd(`\\includegraphics`)},htmlBuilder:(e,t)=>{let n=oe(e.height,t),r=0;e.totalheight.number>0&&(r=oe(e.totalheight,t)-n);let i=0;e.width.number>0&&(i=oe(e.width,t));let a={height:se(n+r)};i>0&&(a.width=se(i)),r>0&&(a.verticalAlign=se(-r));let o=new he(e.src,e.alt,a);return o.height=n,o.depth=r,o},mathmlBuilder:(e,t)=>{let n=new Ht.MathNode(`mglyph`,[]);n.setAttribute(`alt`,e.alt);let r=oe(e.height,t),i=0;if(e.totalheight.number>0&&(i=oe(e.totalheight,t)-r,n.setAttribute(`valign`,se(-i))),n.setAttribute(`height`,se(r+i)),e.width.number>0){let r=oe(e.width,t);n.setAttribute(`width`,se(r))}return n.setAttribute(`src`,e.src),n}}),bt({type:`kern`,names:[`\\kern`,`\\mkern`,`\\hskip`,`\\mskip`],props:{numArgs:1,argTypes:[`size`],primitive:!0,allowedInText:!0},handler(e,t){let{parser:n,funcName:r}=e,i=sn(t[0],`size`);if(n.settings.strict){let e=r[1]===`m`,t=i.value.unit===`mu`;e?(t||n.settings.reportNonstrict(`mathVsTextUnits`,`LaTeX's `+r+` supports only mu units, `+(`not `+i.value.unit+` units`)),n.mode!==`math`&&n.settings.reportNonstrict(`mathVsTextUnits`,`LaTeX's `+r+` works only in math mode`)):t&&n.settings.reportNonstrict(`mathVsTextUnits`,`LaTeX's `+r+` doesn't support mu units`)}return{type:`kern`,mode:n.mode,dimension:i.value}},htmlBuilder(e,t){return dt.makeGlue(e.dimension,t)},mathmlBuilder(e,t){let n=oe(e.dimension,t);return new Ht.SpaceNode(n)}}),bt({type:`lap`,names:[`\\mathllap`,`\\mathrlap`,`\\mathclap`],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{let{parser:n,funcName:r}=e,i=t[0];return{type:`lap`,mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(e,t)=>{let n;e.alignment===`clap`?(n=dt.makeSpan([],[Ft(e.body,t)]),n=dt.makeSpan([`inner`],[n],t)):n=dt.makeSpan([`inner`],[Ft(e.body,t)]);let r=dt.makeSpan([`fix`],[]),i=dt.makeSpan([e.alignment],[n,r],t),a=dt.makeSpan([`strut`]);return a.style.height=se(i.height+i.depth),i.depth&&(a.style.verticalAlign=se(-i.depth)),i.children.unshift(a),i=dt.makeSpan([`thinbox`],[i],t),dt.makeSpan([`mord`,`vbox`],[i],t)},mathmlBuilder:(e,t)=>{let n=new Ht.MathNode(`mpadded`,[Yt(e.body,t)]);if(e.alignment!==`rlap`){let t=e.alignment===`llap`?`-1`:`-0.5`;n.setAttribute(`lspace`,t+`width`)}return n.setAttribute(`width`,`0px`),n}}),bt({type:`styling`,names:[`\\(`,`$`],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){let{funcName:n,parser:r}=e,i=r.mode;r.switchMode(`math`);let a=n===`\\(`?`\\)`:`$`,o=r.parseExpression(!1,a);return r.expect(a),r.switchMode(i),{type:`styling`,mode:r.mode,style:`text`,body:o}}}),bt({type:`text`,names:[`\\)`,`\\]`],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new r(`Mismatched `+e.funcName)}});let Fr=(e,t)=>{switch(t.style.size){case T.DISPLAY.size:return e.display;case T.TEXT.size:return e.text;case T.SCRIPT.size:return e.script;case T.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};bt({type:`mathchoice`,names:[`\\mathchoice`],props:{numArgs:4,primitive:!0},handler:(e,t)=>{let{parser:n}=e;return{type:`mathchoice`,mode:n.mode,display:Ct(t[0]),text:Ct(t[1]),script:Ct(t[2]),scriptscript:Ct(t[3])}},htmlBuilder:(e,t)=>{let n=kt(Fr(e,t),t,!1);return dt.makeFragment(n)},mathmlBuilder:(e,t)=>Jt(Fr(e,t),t)});let Ir=(e,t,n,r,i,a,o)=>{e=dt.makeSpan([],[e]);let s=n&&p.isCharacterBox(n),c,l;if(t){let e=Ft(t,r.havingStyle(i.sup()),r);l={elem:e,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-e.depth)}}if(n){let e=Ft(n,r.havingStyle(i.sub()),r);c={elem:e,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-e.height)}}let u;if(l&&c){let t=r.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+e.depth+o;u=dt.makeVList({positionType:`bottom`,positionData:t,children:[{type:`kern`,size:r.fontMetrics().bigOpSpacing5},{type:`elem`,elem:c.elem,marginLeft:se(-a)},{type:`kern`,size:c.kern},{type:`elem`,elem:e},{type:`kern`,size:l.kern},{type:`elem`,elem:l.elem,marginLeft:se(a)},{type:`kern`,size:r.fontMetrics().bigOpSpacing5}]},r)}else if(c){let t=e.height-o;u=dt.makeVList({positionType:`top`,positionData:t,children:[{type:`kern`,size:r.fontMetrics().bigOpSpacing5},{type:`elem`,elem:c.elem,marginLeft:se(-a)},{type:`kern`,size:c.kern},{type:`elem`,elem:e}]},r)}else if(l){let t=e.depth+o;u=dt.makeVList({positionType:`bottom`,positionData:t,children:[{type:`elem`,elem:e},{type:`kern`,size:l.kern},{type:`elem`,elem:l.elem,marginLeft:se(a)},{type:`kern`,size:r.fontMetrics().bigOpSpacing5}]},r)}else return e;let d=[u];if(c&&a!==0&&!s){let e=dt.makeSpan([`mspace`],[],r);e.style.marginRight=se(a),d.unshift(e)}return dt.makeSpan([`mop`,`op-limits`],d,r)},Lr=[`\\smallint`],Rr=(e,t)=>{let n,r,i=!1,a;e.type===`supsub`?(n=e.sup,r=e.sub,a=sn(e.base,`op`),i=!0):a=sn(e,`op`);let o=t.style,s=!1;o.size===T.DISPLAY.size&&a.symbol&&!Lr.includes(a.name)&&(s=!0);let c;if(a.symbol){let e=s?`Size2-Regular`:`Size1-Regular`,n=``;if((a.name===`\\oiint`||a.name===`\\oiiint`)&&(n=a.name.slice(1),a.name=n===`oiint`?`\\iint`:`\\iiint`),c=dt.makeSymbol(a.name,e,`math`,t,[`mop`,`op-symbol`,s?`large-op`:`small-op`]),n.length>0){let e=c.italic,r=dt.staticSvg(n+`Size`+(s?`2`:`1`),t);c=dt.makeVList({positionType:`individualShift`,children:[{type:`elem`,elem:c,shift:0},{type:`elem`,elem:r,shift:s?.08:0}]},t),a.name=`\\`+n,c.classes.unshift(`mop`),c.italic=e}}else if(a.body){let e=kt(a.body,t,!0);e.length===1&&e[0]instanceof _e?(c=e[0],c.classes[0]=`mop`):c=dt.makeSpan([`mop`],e,t)}else{let e=[];for(let n=1;n<a.name.length;n++)e.push(dt.mathsym(a.name[n],a.mode,t));c=dt.makeSpan([`mop`],e,t)}let l=0,u=0;return(c instanceof _e||a.name===`\\oiint`||a.name===`\\oiiint`)&&!a.suppressBaseShift&&(l=(c.height-c.depth)/2-t.fontMetrics().axisHeight,u=c.italic),i?Ir(c,n,r,t,o,u,l):(l&&(c.style.position=`relative`,c.style.top=se(l)),c)},zr=(e,t)=>{let n;if(e.symbol)n=new zt(`mo`,[Ut(e.name,e.mode)]),Lr.includes(e.name)&&n.setAttribute(`largeop`,`false`);else if(e.body)n=new zt(`mo`,qt(e.body,t));else{n=new zt(`mi`,[new Bt(e.name.slice(1))]);let t=new zt(`mo`,[Ut(``,`text`)]);n=e.parentIsSupSub?new zt(`mrow`,[n,t]):Rt([n,t])}return n},Br={"":`\\prod`,"":`\\coprod`,"":`\\sum`,"":`\\bigwedge`,"":`\\bigvee`,"":`\\bigcap`,"":`\\bigcup`,"":`\\bigodot`,"":`\\bigoplus`,"":`\\bigotimes`,"":`\\biguplus`,"":`\\bigsqcup`};bt({type:`op`,names:`\\coprod.\\bigvee.\\bigwedge.\\biguplus.\\bigcap.\\bigcup.\\intop.\\prod.\\sum.\\bigotimes.\\bigoplus.\\bigodot.\\bigsqcup.\\smallint............`.split(`.`),props:{numArgs:0},handler:(e,t)=>{let{parser:n,funcName:r}=e,i=r;return i.length===1&&(i=Br[i]),{type:`op`,mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Rr,mathmlBuilder:zr}),bt({type:`op`,names:[`\\mathop`],props:{numArgs:1,primitive:!0},handler:(e,t)=>{let{parser:n}=e,r=t[0];return{type:`op`,mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ct(r)}},htmlBuilder:Rr,mathmlBuilder:zr});let Vr={"":`\\int`,"":`\\iint`,"":`\\iiint`,"":`\\oint`,"":`\\oiint`,"":`\\oiiint`};bt({type:`op`,names:`\\arcsin.\\arccos.\\arctan.\\arctg.\\arcctg.\\arg.\\ch.\\cos.\\cosec.\\cosh.\\cot.\\cotg.\\coth.\\csc.\\ctg.\\cth.\\deg.\\dim.\\exp.\\hom.\\ker.\\lg.\\ln.\\log.\\sec.\\sin.\\sinh.\\sh.\\tan.\\tanh.\\tg.\\th`.split(`.`),props:{numArgs:0},handler(e){let{parser:t,funcName:n}=e;return{type:`op`,mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Rr,mathmlBuilder:zr}),bt({type:`op`,names:[`\\det`,`\\gcd`,`\\inf`,`\\lim`,`\\max`,`\\min`,`\\Pr`,`\\sup`],props:{numArgs:0},handler(e){let{parser:t,funcName:n}=e;return{type:`op`,mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Rr,mathmlBuilder:zr}),bt({type:`op`,names:[`\\int`,`\\iint`,`\\iiint`,`\\oint`,`\\oiint`,`\\oiiint`,``,``,``,``,``,``],props:{numArgs:0,allowedInArgument:!0},handler(e){let{parser:t,funcName:n}=e,r=n;return r.length===1&&(r=Vr[r]),{type:`op`,mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Rr,mathmlBuilder:zr});let Hr=(e,t)=>{let n,r,i=!1,a;e.type===`supsub`?(n=e.sup,r=e.sub,a=sn(e.base,`operatorname`),i=!0):a=sn(e,`operatorname`);let o;if(a.body.length>0){let e=kt(a.body.map(e=>{let t=e.text;return typeof t==`string`?{type:`textord`,mode:e.mode,text:t}:e}),t.withFont(`mathrm`),!0);for(let t=0;t<e.length;t++){let n=e[t];n instanceof _e&&(n.text=n.text.replace(/\u2212/,`-`).replace(/\u2217/,`*`))}o=dt.makeSpan([`mop`],e,t)}else o=dt.makeSpan([`mop`],[],t);return i?Ir(o,n,r,t,t.style,0,0):o};bt({type:`operatorname`,names:[`\\operatorname@`,`\\operatornamewithlimits`],props:{numArgs:1},handler:(e,t)=>{let{parser:n,funcName:r}=e,i=t[0];return{type:`operatorname`,mode:n.mode,body:Ct(i),alwaysHandleSupSub:r===`\\operatornamewithlimits`,limits:!1,parentIsSupSub:!1}},htmlBuilder:Hr,mathmlBuilder:(e,t)=>{let n=qt(e.body,t.withFont(`mathrm`)),r=!0;for(let e=0;e<n.length;e++){let t=n[e];if(!(t instanceof Ht.SpaceNode))if(t instanceof Ht.MathNode)switch(t.type){case`mi`:case`mn`:case`ms`:case`mspace`:case`mtext`:break;case`mo`:{let e=t.children[0];t.children.length===1&&e instanceof Ht.TextNode?e.text=e.text.replace(/\u2212/,`-`).replace(/\u2217/,`*`):r=!1;break}default:r=!1}else r=!1}if(r){let e=n.map(e=>e.toText()).join(``);n=[new Ht.TextNode(e)]}let i=new Ht.MathNode(`mi`,n);i.setAttribute(`mathvariant`,`normal`);let a=new Ht.MathNode(`mo`,[Ut(``,`text`)]);return e.parentIsSupSub?new Ht.MathNode(`mrow`,[i,a]):Ht.newDocumentFragment([i,a])}}),$(`\\operatorname`,`\\@ifstar\\operatornamewithlimits\\operatorname@`),xt({type:`ordgroup`,htmlBuilder(e,t){return e.semisimple?dt.makeFragment(kt(e.body,t,!1)):dt.makeSpan([`mord`],kt(e.body,t,!0),t)},mathmlBuilder(e,t){return Jt(e.body,t,!0)}}),bt({type:`overline`,names:[`\\overline`],props:{numArgs:1},handler(e,t){let{parser:n}=e,r=t[0];return{type:`overline`,mode:n.mode,body:r}},htmlBuilder(e,t){let n=Ft(e.body,t.havingCrampedStyle()),r=dt.makeLineSpan(`overline-line`,t),i=t.fontMetrics().defaultRuleThickness,a=dt.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:n},{type:`kern`,size:3*i},{type:`elem`,elem:r},{type:`kern`,size:i}]},t);return dt.makeSpan([`mord`,`overline`],[a],t)},mathmlBuilder(e,t){let n=new Ht.MathNode(`mo`,[new Ht.TextNode(``)]);n.setAttribute(`stretchy`,`true`);let r=new Ht.MathNode(`mover`,[Yt(e.body,t),n]);return r.setAttribute(`accent`,`true`),r}}),bt({type:`phantom`,names:[`\\phantom`],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{let{parser:n}=e,r=t[0];return{type:`phantom`,mode:n.mode,body:Ct(r)}},htmlBuilder:(e,t)=>{let n=kt(e.body,t.withPhantom(),!1);return dt.makeFragment(n)},mathmlBuilder:(e,t)=>{let n=qt(e.body,t);return new Ht.MathNode(`mphantom`,n)}}),bt({type:`hphantom`,names:[`\\hphantom`],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{let{parser:n}=e,r=t[0];return{type:`hphantom`,mode:n.mode,body:r}},htmlBuilder:(e,t)=>{let n=dt.makeSpan([],[Ft(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(let e=0;e<n.children.length;e++)n.children[e].height=0,n.children[e].depth=0;return n=dt.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:n}]},t),dt.makeSpan([`mord`],[n],t)},mathmlBuilder:(e,t)=>{let n=qt(Ct(e.body),t),r=new Ht.MathNode(`mphantom`,n),i=new Ht.MathNode(`mpadded`,[r]);return i.setAttribute(`height`,`0px`),i.setAttribute(`depth`,`0px`),i}}),bt({type:`vphantom`,names:[`\\vphantom`],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{let{parser:n}=e,r=t[0];return{type:`vphantom`,mode:n.mode,body:r}},htmlBuilder:(e,t)=>{let n=dt.makeSpan([`inner`],[Ft(e.body,t.withPhantom())]),r=dt.makeSpan([`fix`],[]);return dt.makeSpan([`mord`,`rlap`],[n,r],t)},mathmlBuilder:(e,t)=>{let n=qt(Ct(e.body),t),r=new Ht.MathNode(`mphantom`,n),i=new Ht.MathNode(`mpadded`,[r]);return i.setAttribute(`width`,`0px`),i}}),bt({type:`raisebox`,names:[`\\raisebox`],props:{numArgs:2,argTypes:[`size`,`hbox`],allowedInText:!0},handler(e,t){let{parser:n}=e,r=sn(t[0],`size`).value,i=t[1];return{type:`raisebox`,mode:n.mode,dy:r,body:i}},htmlBuilder(e,t){let n=Ft(e.body,t),r=oe(e.dy,t);return dt.makeVList({positionType:`shift`,positionData:-r,children:[{type:`elem`,elem:n}]},t)},mathmlBuilder(e,t){let n=new Ht.MathNode(`mpadded`,[Yt(e.body,t)]),r=e.dy.number+e.dy.unit;return n.setAttribute(`voffset`,r),n}}),bt({type:`internal`,names:[`\\relax`],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){let{parser:t}=e;return{type:`internal`,mode:t.mode}}}),bt({type:`rule`,names:[`\\rule`],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:[`size`,`size`,`size`]},handler(e,t,n){let{parser:r}=e,i=n[0],a=sn(t[0],`size`),o=sn(t[1],`size`);return{type:`rule`,mode:r.mode,shift:i&&sn(i,`size`).value,width:a.value,height:o.value}},htmlBuilder(e,t){let n=dt.makeSpan([`mord`,`rule`],[],t),r=oe(e.width,t),i=oe(e.height,t),a=e.shift?oe(e.shift,t):0;return n.style.borderRightWidth=se(r),n.style.borderTopWidth=se(i),n.style.bottom=se(a),n.width=r,n.height=i+a,n.depth=-a,n.maxFontSize=i*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){let n=oe(e.width,t),r=oe(e.height,t),i=e.shift?oe(e.shift,t):0,a=t.color&&t.getColor()||`black`,o=new Ht.MathNode(`mspace`);o.setAttribute(`mathbackground`,a),o.setAttribute(`width`,se(n)),o.setAttribute(`height`,se(r));let s=new Ht.MathNode(`mpadded`,[o]);return i>=0?s.setAttribute(`height`,se(i)):(s.setAttribute(`height`,se(i)),s.setAttribute(`depth`,se(-i))),s.setAttribute(`voffset`,se(i)),s}});function Ur(e,t,n){let r=kt(e,t,!1),i=t.sizeMultiplier/n.sizeMultiplier;for(let e=0;e<r.length;e++){let a=r[e].classes.indexOf(`sizing`);a<0?Array.prototype.push.apply(r[e].classes,t.sizingClasses(n)):r[e].classes[a+1]===`reset-size`+t.size&&(r[e].classes[a+1]=`reset-size`+n.size),r[e].height*=i,r[e].depth*=i}return dt.makeFragment(r)}let Wr=[`\\tiny`,`\\sixptsize`,`\\scriptsize`,`\\footnotesize`,`\\small`,`\\normalsize`,`\\large`,`\\Large`,`\\LARGE`,`\\huge`,`\\Huge`];bt({type:`sizing`,names:Wr,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{let{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!1,n);return{type:`sizing`,mode:i.mode,size:Wr.indexOf(r)+1,body:a}},htmlBuilder:(e,t)=>{let n=t.havingSize(e.size);return Ur(e.body,n,t)},mathmlBuilder:(e,t)=>{let n=t.havingSize(e.size),r=qt(e.body,n),i=new Ht.MathNode(`mstyle`,r);return i.setAttribute(`mathsize`,se(n.sizeMultiplier)),i}}),bt({type:`smash`,names:[`\\smash`],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{let{parser:r}=e,i=!1,a=!1,o=n[0]&&sn(n[0],`ordgroup`);if(o){let e=``;for(let t=0;t<o.body.length;++t)if(e=o.body[t].text,e===`t`)i=!0;else if(e===`b`)a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;let s=t[0];return{type:`smash`,mode:r.mode,body:s,smashHeight:i,smashDepth:a}},htmlBuilder:(e,t)=>{let n=dt.makeSpan([],[Ft(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(let e=0;e<n.children.length;e++)n.children[e].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(let e=0;e<n.children.length;e++)n.children[e].depth=0;let r=dt.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:n}]},t);return dt.makeSpan([`mord`],[r],t)},mathmlBuilder:(e,t)=>{let n=new Ht.MathNode(`mpadded`,[Yt(e.body,t)]);return e.smashHeight&&n.setAttribute(`height`,`0px`),e.smashDepth&&n.setAttribute(`depth`,`0px`),n}}),bt({type:`sqrt`,names:[`\\sqrt`],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){let{parser:r}=e,i=n[0],a=t[0];return{type:`sqrt`,mode:r.mode,body:a,index:i}},htmlBuilder(e,t){let n=Ft(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=dt.wrapFragment(n,t);let r=t.fontMetrics().defaultRuleThickness,i=r;t.style.id<T.TEXT.id&&(i=t.fontMetrics().xHeight);let a=r+i/4,o=n.height+n.depth+a+r,{span:s,ruleWidth:c,advanceWidth:l}=rr.sqrtImage(o,t),u=s.height-c;u>n.height+n.depth+a&&(a=(a+u-n.height-n.depth)/2);let d=s.height-n.height-a-c;n.style.paddingLeft=se(l);let f=dt.makeVList({positionType:`firstBaseline`,children:[{type:`elem`,elem:n,wrapperClasses:[`svg-align`]},{type:`kern`,size:-(n.height+d)},{type:`elem`,elem:s},{type:`kern`,size:c}]},t);if(e.index){let n=t.havingStyle(T.SCRIPTSCRIPT),r=Ft(e.index,n,t),i=.6*(f.height-f.depth),a=dt.makeVList({positionType:`shift`,positionData:-i,children:[{type:`elem`,elem:r}]},t),o=dt.makeSpan([`root`],[a]);return dt.makeSpan([`mord`,`sqrt`],[o,f],t)}else return dt.makeSpan([`mord`,`sqrt`],[f],t)},mathmlBuilder(e,t){let{body:n,index:r}=e;return r?new Ht.MathNode(`mroot`,[Yt(n,t),Yt(r,t)]):new Ht.MathNode(`msqrt`,[Yt(n,t)])}});let Gr={display:T.DISPLAY,text:T.TEXT,script:T.SCRIPT,scriptscript:T.SCRIPTSCRIPT};bt({type:`styling`,names:[`\\displaystyle`,`\\textstyle`,`\\scriptstyle`,`\\scriptscriptstyle`],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){let{breakOnTokenText:n,funcName:r,parser:i}=e,a=i.parseExpression(!0,n),o=r.slice(1,r.length-5);return{type:`styling`,mode:i.mode,style:o,body:a}},htmlBuilder(e,t){let n=Gr[e.style],r=t.havingStyle(n).withFont(``);return Ur(e.body,r,t)},mathmlBuilder(e,t){let n=Gr[e.style],r=t.havingStyle(n),i=qt(e.body,r),a=new Ht.MathNode(`mstyle`,i),o={display:[`0`,`true`],text:[`0`,`false`],script:[`1`,`false`],scriptscript:[`2`,`false`]}[e.style];return a.setAttribute(`scriptlevel`,o[0]),a.setAttribute(`displaystyle`,o[1]),a}});let Kr=function(e,t){let n=e.base;return n?n.type===`op`?n.limits&&(t.style.size===T.DISPLAY.size||n.alwaysHandleSupSub)?Rr:null:n.type===`operatorname`?n.alwaysHandleSupSub&&(t.style.size===T.DISPLAY.size||n.limits)?Hr:null:n.type===`accent`?p.isCharacterBox(n.base)?un:null:n.type===`horizBrace`&&!e.sub===n.isOver?Nr:null:null};xt({type:`supsub`,htmlBuilder(e,t){let n=Kr(e,t);if(n)return n(e,t);let{base:r,sup:i,sub:a}=e,o=Ft(r,t),s,c,l=t.fontMetrics(),u=0,d=0,f=r&&p.isCharacterBox(r);if(i){let e=t.havingStyle(t.style.sup());s=Ft(i,e,t),f||(u=o.height-e.fontMetrics().supDrop*e.sizeMultiplier/t.sizeMultiplier)}if(a){let e=t.havingStyle(t.style.sub());c=Ft(a,e,t),f||(d=o.depth+e.fontMetrics().subDrop*e.sizeMultiplier/t.sizeMultiplier)}let m;m=t.style===T.DISPLAY?l.sup1:t.style.cramped?l.sup3:l.sup2;let h=t.sizeMultiplier,g=se(.5/l.ptPerEm/h),_=null;if(c){let t=e.base&&e.base.type===`op`&&e.base.name&&(e.base.name===`\\oiint`||e.base.name===`\\oiiint`);(o instanceof _e||t)&&(_=se(-o.italic))}let v;if(s&&c){u=Math.max(u,m,s.depth+.25*l.xHeight),d=Math.max(d,l.sub2);let e=4*l.defaultRuleThickness;if(u-s.depth-(c.height-d)<e){d=e-(u-s.depth)+c.height;let t=.8*l.xHeight-(u-s.depth);t>0&&(u+=t,d-=t)}let n=[{type:`elem`,elem:c,shift:d,marginRight:g,marginLeft:_},{type:`elem`,elem:s,shift:-u,marginRight:g}];v=dt.makeVList({positionType:`individualShift`,children:n},t)}else if(c){d=Math.max(d,l.sub1,c.height-.8*l.xHeight);let e=[{type:`elem`,elem:c,marginLeft:_,marginRight:g}];v=dt.makeVList({positionType:`shift`,positionData:d,children:e},t)}else if(s)u=Math.max(u,m,s.depth+.25*l.xHeight),v=dt.makeVList({positionType:`shift`,positionData:-u,children:[{type:`elem`,elem:s,marginRight:g}]},t);else throw Error(`supsub must have either sup or sub.`);let y=Nt(o,`right`)||`mord`;return dt.makeSpan([y],[o,dt.makeSpan([`msupsub`],[v])],t)},mathmlBuilder(e,t){let n=!1,r,i;e.base&&e.base.type===`horizBrace`&&(i=!!e.sup,i===e.base.isOver&&(n=!0,r=e.base.isOver)),e.base&&(e.base.type===`op`||e.base.type===`operatorname`)&&(e.base.parentIsSupSub=!0);let a=[Yt(e.base,t)];e.sub&&a.push(Yt(e.sub,t)),e.sup&&a.push(Yt(e.sup,t));let o;if(n)o=r?`mover`:`munder`;else if(e.sub)if(e.sup){let n=e.base;o=n&&n.type===`op`&&n.limits&&t.style===T.DISPLAY||n&&n.type===`operatorname`&&n.alwaysHandleSupSub&&(t.style===T.DISPLAY||n.limits)?`munderover`:`msubsup`}else{let n=e.base;o=n&&n.type===`op`&&n.limits&&(t.style===T.DISPLAY||n.alwaysHandleSupSub)||n&&n.type===`operatorname`&&n.alwaysHandleSupSub&&(n.limits||t.style===T.DISPLAY)?`munder`:`msub`}else{let n=e.base;o=n&&n.type===`op`&&n.limits&&(t.style===T.DISPLAY||n.alwaysHandleSupSub)||n&&n.type===`operatorname`&&n.alwaysHandleSupSub&&(n.limits||t.style===T.DISPLAY)?`mover`:`msup`}return new Ht.MathNode(o,a)}}),xt({type:`atom`,htmlBuilder(e,t){return dt.mathsym(e.text,e.mode,t,[`m`+e.family])},mathmlBuilder(e,t){let n=new Ht.MathNode(`mo`,[Ut(e.text,e.mode)]);if(e.family===`bin`){let r=Gt(e,t);r===`bold-italic`&&n.setAttribute(`mathvariant`,r)}else e.family===`punct`?n.setAttribute(`separator`,`true`):(e.family===`open`||e.family===`close`)&&n.setAttribute(`stretchy`,`false`);return n}});let qr={mi:`italic`,mn:`normal`,mtext:`normal`};xt({type:`mathord`,htmlBuilder(e,t){return dt.makeOrd(e,t,`mathord`)},mathmlBuilder(e,t){let n=new Ht.MathNode(`mi`,[Ut(e.text,e.mode,t)]),r=Gt(e,t)||`italic`;return r!==qr[n.type]&&n.setAttribute(`mathvariant`,r),n}}),xt({type:`textord`,htmlBuilder(e,t){return dt.makeOrd(e,t,`textord`)},mathmlBuilder(e,t){let n=Ut(e.text,e.mode,t),r=Gt(e,t)||`normal`,i;return i=e.mode===`text`?new Ht.MathNode(`mtext`,[n]):/[0-9]/.test(e.text)?new Ht.MathNode(`mn`,[n]):e.text===`\\prime`?new Ht.MathNode(`mo`,[n]):new Ht.MathNode(`mi`,[n]),r!==qr[i.type]&&i.setAttribute(`mathvariant`,r),i}});let Jr={"\\nobreak":`nobreak`,"\\allowbreak":`allowbreak`},Yr={" ":{},"\\ ":{},"~":{className:`nobreak`},"\\space":{},"\\nobreakspace":{className:`nobreak`}};xt({type:`spacing`,htmlBuilder(e,t){if(Yr.hasOwnProperty(e.text)){let n=Yr[e.text].className||``;if(e.mode===`text`){let r=dt.makeOrd(e,t,`textord`);return r.classes.push(n),r}else return dt.makeSpan([`mspace`,n],[dt.mathsym(e.text,e.mode,t)],t)}else if(Jr.hasOwnProperty(e.text))return dt.makeSpan([`mspace`,Jr[e.text]],[],t);else throw new r(`Unknown type of space "`+e.text+`"`)},mathmlBuilder(e,t){let n;if(Yr.hasOwnProperty(e.text))n=new Ht.MathNode(`mtext`,[new Ht.TextNode(`\xA0`)]);else if(Jr.hasOwnProperty(e.text))return new Ht.MathNode(`mspace`);else throw new r(`Unknown type of space "`+e.text+`"`);return n}});let Xr=()=>{let e=new Ht.MathNode(`mtd`,[]);return e.setAttribute(`width`,`50%`),e};xt({type:`tag`,mathmlBuilder(e,t){let n=new Ht.MathNode(`mtable`,[new Ht.MathNode(`mtr`,[Xr(),new Ht.MathNode(`mtd`,[Jt(e.body,t)]),Xr(),new Ht.MathNode(`mtd`,[Jt(e.tag,t)])])]);return n.setAttribute(`width`,`100%`),n}});let Zr={"\\text":void 0,"\\textrm":`textrm`,"\\textsf":`textsf`,"\\texttt":`texttt`,"\\textnormal":`textrm`},Qr={"\\textbf":`textbf`,"\\textmd":`textmd`},$r={"\\textit":`textit`,"\\textup":`textup`},ei=(e,t)=>{let n=e.font;if(n){if(Zr[n])return t.withTextFontFamily(Zr[n]);if(Qr[n])return t.withTextFontWeight(Qr[n]);if(n===`\\emph`)return t.fontShape===`textit`?t.withTextFontShape(`textup`):t.withTextFontShape(`textit`)}else return t;return t.withTextFontShape($r[n])};bt({type:`text`,names:[`\\text`,`\\textrm`,`\\textsf`,`\\texttt`,`\\textnormal`,`\\textbf`,`\\textmd`,`\\textit`,`\\textup`,`\\emph`],props:{numArgs:1,argTypes:[`text`],allowedInArgument:!0,allowedInText:!0},handler(e,t){let{parser:n,funcName:r}=e,i=t[0];return{type:`text`,mode:n.mode,body:Ct(i),font:r}},htmlBuilder(e,t){let n=ei(e,t),r=kt(e.body,n,!0);return dt.makeSpan([`mord`,`text`],r,n)},mathmlBuilder(e,t){let n=ei(e,t);return Jt(e.body,n)}}),bt({type:`underline`,names:[`\\underline`],props:{numArgs:1,allowedInText:!0},handler(e,t){let{parser:n}=e;return{type:`underline`,mode:n.mode,body:t[0]}},htmlBuilder(e,t){let n=Ft(e.body,t),r=dt.makeLineSpan(`underline-line`,t),i=t.fontMetrics().defaultRuleThickness,a=dt.makeVList({positionType:`top`,positionData:n.height,children:[{type:`kern`,size:i},{type:`elem`,elem:r},{type:`kern`,size:3*i},{type:`elem`,elem:n}]},t);return dt.makeSpan([`mord`,`underline`],[a],t)},mathmlBuilder(e,t){let n=new Ht.MathNode(`mo`,[new Ht.TextNode(``)]);n.setAttribute(`stretchy`,`true`);let r=new Ht.MathNode(`munder`,[Yt(e.body,t),n]);return r.setAttribute(`accentunder`,`true`),r}}),bt({type:`vcenter`,names:[`\\vcenter`],props:{numArgs:1,argTypes:[`original`],allowedInText:!1},handler(e,t){let{parser:n}=e;return{type:`vcenter`,mode:n.mode,body:t[0]}},htmlBuilder(e,t){let n=Ft(e.body,t),r=t.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return dt.makeVList({positionType:`shift`,positionData:i,children:[{type:`elem`,elem:n}]},t)},mathmlBuilder(e,t){return new Ht.MathNode(`mpadded`,[Yt(e.body,t)],[`vcenter`])}}),bt({type:`verb`,names:[`\\verb`],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new r(`\\verb ended by end of line instead of matching delimiter`)},htmlBuilder(e,t){let n=ti(e),r=[],i=t.havingStyle(t.style.text());for(let t=0;t<n.length;t++){let a=n[t];a===`~`&&(a=`\\textasciitilde`),r.push(dt.makeSymbol(a,`Typewriter-Regular`,e.mode,i,[`mord`,`texttt`]))}return dt.makeSpan([`mord`,`text`].concat(i.sizingClasses(t)),dt.tryCombineChars(r),i)},mathmlBuilder(e,t){let n=new Ht.TextNode(ti(e)),r=new Ht.MathNode(`mtext`,[n]);return r.setAttribute(`mathvariant`,`monospace`),r}});let ti=e=>e.body.replace(/ /g,e.star?``:`\xA0`);var ni=_t;let ri=`[-]`,ii=RegExp(ri+`+$`);ri+(ri+`*`);class ai{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=RegExp(`([ \r
	]+)|\\\\(
|[ \r	]+
?)[ \r	]*|([!-\\[\\]---][-]*|[d800-dbff][dc00-dfff][-]*|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5|(\\\\[a-zA-Z@]+)[ \r
	]*|\\\\[^d800-dfff])`,`g`),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){let e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new mr(`EOF`,new pr(this,t,t));let n=this.tokenRegex.exec(e);if(n===null||n.index!==t)throw new r(`Unexpected character: '`+e[t]+`'`,new mr(e[t],new pr(this,t,t+1)));let i=n[6]||n[3]||(n[2]?`\\ `:` `);if(this.catcodes[i]===14){let t=e.indexOf(`
`,this.tokenRegex.lastIndex);return t===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict(`commentAtEnd`,`% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)`)):this.tokenRegex.lastIndex=t+1,this.lex()}return new mr(i,new pr(this,t,this.tokenRegex.lastIndex))}}class oi{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new r(`Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug`);let e=this.undefStack.pop();for(let t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,n){if(n===void 0&&(n=!1),n){for(let t=0;t<this.undefStack.length;t++)delete this.undefStack[t][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{let t=this.undefStack[this.undefStack.length-1];t&&!t.hasOwnProperty(e)&&(t[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var si=fr;$(`\\noexpand`,function(e){let t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}}),$(`\\expandafter`,function(e){let t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}}),$(`\\@firstoftwo`,function(e){return{tokens:e.consumeArgs(2)[0],numArgs:0}}),$(`\\@secondoftwo`,function(e){return{tokens:e.consumeArgs(2)[1],numArgs:0}}),$(`\\@ifnextchar`,function(e){let t=e.consumeArgs(3);e.consumeSpaces();let n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}}),$(`\\@ifstar`,`\\@ifnextchar *{\\@firstoftwo{#1}}`),$(`\\TextOrMath`,function(e){let t=e.consumeArgs(2);return e.mode===`text`?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});let ci={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};$(`\\char`,function(e){let t=e.popToken(),n,i=``;if(t.text===`'`)n=8,t=e.popToken();else if(t.text===`"`)n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]===`\\`)i=t.text.charCodeAt(1);else if(t.text===`EOF`)throw new r("\\char` missing argument");else i=t.text.charCodeAt(0);else n=10;if(n){if(i=ci[t.text],i==null||i>=n)throw new r(`Invalid base-`+n+` digit `+t.text);let a;for(;(a=ci[e.future().text])!=null&&a<n;)i*=n,i+=a,e.popToken()}return`\\@char{`+i+`}`});let li=(e,t,n,i)=>{let a=e.consumeArg().tokens;if(a.length!==1)throw new r(`\\newcommand's first argument must be a macro name`);let o=a[0].text,s=e.isDefined(o);if(s&&!t)throw new r(`\\newcommand{`+o+`} attempting to redefine `+(o+`; use \\renewcommand`));if(!s&&!n)throw new r(`\\renewcommand{`+o+`} when command `+o+` does not yet exist; use \\newcommand`);let c=0;if(a=e.consumeArg().tokens,a.length===1&&a[0].text===`[`){let t=``,n=e.expandNextToken();for(;n.text!==`]`&&n.text!==`EOF`;)t+=n.text,n=e.expandNextToken();if(!t.match(/^\s*[0-9]+\s*$/))throw new r(`Invalid number of arguments: `+t);c=parseInt(t),a=e.consumeArg().tokens}return s&&i||e.macros.set(o,{tokens:a,numArgs:c}),``};$(`\\newcommand`,e=>li(e,!1,!0,!1)),$(`\\renewcommand`,e=>li(e,!0,!1,!1)),$(`\\providecommand`,e=>li(e,!0,!0,!0)),$(`\\message`,e=>{let t=e.consumeArgs(1)[0];return console.log(t.reverse().map(e=>e.text).join(``)),``}),$(`\\errmessage`,e=>{let t=e.consumeArgs(1)[0];return console.error(t.reverse().map(e=>e.text).join(``)),``}),$(`\\show`,e=>{let t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),ni[n],Ee.math[n],Ee.text[n]),``}),$(`\\bgroup`,`{`),$(`\\egroup`,`}`),$(`~`,`\\nobreakspace`),$(`\\lq`,"`"),$(`\\rq`,`'`),$(`\\aa`,`\\r a`),$(`\\AA`,`\\r A`),$(`\\textcopyright`,"\\html@mathml{\\textcircled{c}}{\\char`}"),$(`\\copyright`,`\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}`),$(`\\textregistered`,"\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}"),$(``,`\\mathscr{B}`),$(``,`\\mathscr{E}`),$(``,`\\mathscr{F}`),$(``,`\\mathscr{H}`),$(``,`\\mathscr{I}`),$(``,`\\mathscr{L}`),$(``,`\\mathscr{M}`),$(``,`\\mathscr{R}`),$(``,`\\mathfrak{C}`),$(``,`\\mathfrak{H}`),$(``,`\\mathfrak{Z}`),$(`\\Bbbk`,`\\Bbb{k}`),$(``,`\\cdotp`),$(`\\llap`,`\\mathllap{\\textrm{#1}}`),$(`\\rlap`,`\\mathrlap{\\textrm{#1}}`),$(`\\clap`,`\\mathclap{\\textrm{#1}}`),$(`\\mathstrut`,`\\vphantom{(}`),$(`\\underbar`,`\\underline{\\text{#1}}`),$(`\\not`,`\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}`),$(`\\neq`,"\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}"),$(`\\ne`,`\\neq`),$(``,`\\neq`),$(`\\notin`,"\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}"),$(``,`\\notin`),$(``,"\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}"),$(``,"\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}"),$(``,"\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}"),$(``,"\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}"),$(``,"\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}"),$(``,"\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}"),$(``,"\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}"),$(``,`\\perp`),$(``,`\\mathclose{!\\mkern-0.8mu!}`),$(``,`\\notni`),$(``,`\\ulcorner`),$(``,`\\urcorner`),$(``,`\\llcorner`),$(``,`\\lrcorner`),$(``,`\\copyright`),$(``,`\\textregistered`),$(``,`\\textregistered`),$(`\\ulcorner`,`\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}`),$(`\\urcorner`,`\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}`),$(`\\llcorner`,`\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}`),$(`\\lrcorner`,`\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}`),$(`\\vdots`,`{\\varvdots\\rule{0pt}{15pt}}`),$(``,`\\vdots`),$(`\\varGamma`,`\\mathit{\\Gamma}`),$(`\\varDelta`,`\\mathit{\\Delta}`),$(`\\varTheta`,`\\mathit{\\Theta}`),$(`\\varLambda`,`\\mathit{\\Lambda}`),$(`\\varXi`,`\\mathit{\\Xi}`),$(`\\varPi`,`\\mathit{\\Pi}`),$(`\\varSigma`,`\\mathit{\\Sigma}`),$(`\\varUpsilon`,`\\mathit{\\Upsilon}`),$(`\\varPhi`,`\\mathit{\\Phi}`),$(`\\varPsi`,`\\mathit{\\Psi}`),$(`\\varOmega`,`\\mathit{\\Omega}`),$(`\\substack`,`\\begin{subarray}{c}#1\\end{subarray}`),$(`\\colon`,`\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax`),$(`\\boxed`,`\\fbox{$\\displaystyle{#1}$}`),$(`\\iff`,`\\DOTSB\\;\\Longleftrightarrow\\;`),$(`\\implies`,`\\DOTSB\\;\\Longrightarrow\\;`),$(`\\impliedby`,`\\DOTSB\\;\\Longleftarrow\\;`),$(`\\dddot`,`{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}`),$(`\\ddddot`,`{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}`);let ui={",":`\\dotsc`,"\\not":`\\dotsb`,"+":`\\dotsb`,"=":`\\dotsb`,"<":`\\dotsb`,">":`\\dotsb`,"-":`\\dotsb`,"*":`\\dotsb`,":":`\\dotsb`,"\\DOTSB":`\\dotsb`,"\\coprod":`\\dotsb`,"\\bigvee":`\\dotsb`,"\\bigwedge":`\\dotsb`,"\\biguplus":`\\dotsb`,"\\bigcap":`\\dotsb`,"\\bigcup":`\\dotsb`,"\\prod":`\\dotsb`,"\\sum":`\\dotsb`,"\\bigotimes":`\\dotsb`,"\\bigoplus":`\\dotsb`,"\\bigodot":`\\dotsb`,"\\bigsqcup":`\\dotsb`,"\\And":`\\dotsb`,"\\longrightarrow":`\\dotsb`,"\\Longrightarrow":`\\dotsb`,"\\longleftarrow":`\\dotsb`,"\\Longleftarrow":`\\dotsb`,"\\longleftrightarrow":`\\dotsb`,"\\Longleftrightarrow":`\\dotsb`,"\\mapsto":`\\dotsb`,"\\longmapsto":`\\dotsb`,"\\hookrightarrow":`\\dotsb`,"\\doteq":`\\dotsb`,"\\mathbin":`\\dotsb`,"\\mathrel":`\\dotsb`,"\\relbar":`\\dotsb`,"\\Relbar":`\\dotsb`,"\\xrightarrow":`\\dotsb`,"\\xleftarrow":`\\dotsb`,"\\DOTSI":`\\dotsi`,"\\int":`\\dotsi`,"\\oint":`\\dotsi`,"\\iint":`\\dotsi`,"\\iiint":`\\dotsi`,"\\iiiint":`\\dotsi`,"\\idotsint":`\\dotsi`,"\\DOTSX":`\\dotsx`};$(`\\dots`,function(e){let t=`\\dotso`,n=e.expandAfterFuture().text;return n in ui?t=ui[n]:(n.slice(0,4)===`\\not`||n in Ee.math&&[`bin`,`rel`].includes(Ee.math[n].group))&&(t=`\\dotsb`),t});let di={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};$(`\\dotso`,function(e){return e.future().text in di?`\\ldots\\,`:`\\ldots`}),$(`\\dotsc`,function(e){let t=e.future().text;return t in di&&t!==`,`?`\\ldots\\,`:`\\ldots`}),$(`\\cdots`,function(e){return e.future().text in di?`\\@cdots\\,`:`\\@cdots`}),$(`\\dotsb`,`\\cdots`),$(`\\dotsm`,`\\cdots`),$(`\\dotsi`,`\\!\\cdots`),$(`\\dotsx`,`\\ldots\\,`),$(`\\DOTSI`,`\\relax`),$(`\\DOTSB`,`\\relax`),$(`\\DOTSX`,`\\relax`),$(`\\tmspace`,`\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax`),$(`\\,`,`\\tmspace+{3mu}{.1667em}`),$(`\\thinspace`,`\\,`),$(`\\>`,`\\mskip{4mu}`),$(`\\:`,`\\tmspace+{4mu}{.2222em}`),$(`\\medspace`,`\\:`),$(`\\;`,`\\tmspace+{5mu}{.2777em}`),$(`\\thickspace`,`\\;`),$(`\\!`,`\\tmspace-{3mu}{.1667em}`),$(`\\negthinspace`,`\\!`),$(`\\negmedspace`,`\\tmspace-{4mu}{.2222em}`),$(`\\negthickspace`,`\\tmspace-{5mu}{.277em}`),$(`\\enspace`,`\\kern.5em `),$(`\\enskip`,`\\hskip.5em\\relax`),$(`\\quad`,`\\hskip1em\\relax`),$(`\\qquad`,`\\hskip2em\\relax`),$(`\\tag`,`\\@ifstar\\tag@literal\\tag@paren`),$(`\\tag@paren`,`\\tag@literal{({#1})}`),$(`\\tag@literal`,e=>{if(e.macros.get(`\\df@tag`))throw new r(`Multiple \\tag`);return`\\gdef\\df@tag{\\text{#1}}`}),$(`\\bmod`,`\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}`),$(`\\pod`,`\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)`),$(`\\pmod`,`\\pod{{\\rm mod}\\mkern6mu#1}`),$(`\\mod`,`\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1`),$(`\\newline`,`\\\\\\relax`),$(`\\TeX`,`\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}`);let fi=se(V[`Main-Regular`][84][1]-.7*V[`Main-Regular`][65][1]);$(`\\LaTeX`,`\\textrm{\\html@mathml{`+(`L\\kern-.36em\\raisebox{`+fi+`}{\\scriptstyle A}`)+`\\kern-.15em\\TeX}{LaTeX}}`),$(`\\KaTeX`,`\\textrm{\\html@mathml{`+(`K\\kern-.17em\\raisebox{`+fi+`}{\\scriptstyle A}`)+`\\kern-.15em\\TeX}{KaTeX}}`),$(`\\hspace`,`\\@ifstar\\@hspacer\\@hspace`),$(`\\@hspace`,`\\hskip #1\\relax`),$(`\\@hspacer`,`\\rule{0pt}{0pt}\\hskip #1\\relax`),$(`\\ordinarycolon`,`:`),$(`\\vcentcolon`,`\\mathrel{\\mathop\\ordinarycolon}`),$(`\\dblcolon`,`\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}`),$(`\\coloneqq`,`\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}`),$(`\\Coloneqq`,`\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}`),$(`\\coloneq`,`\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}`),$(`\\Coloneq`,`\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}`),$(`\\eqqcolon`,`\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}`),$(`\\Eqqcolon`,`\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}`),$(`\\eqcolon`,`\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}`),$(`\\Eqcolon`,`\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}`),$(`\\colonapprox`,`\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}`),$(`\\Colonapprox`,`\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}`),$(`\\colonsim`,`\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}`),$(`\\Colonsim`,`\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}`),$(``,`\\dblcolon`),$(``,`\\eqcolon`),$(``,`\\coloneqq`),$(``,`\\eqqcolon`),$(``,`\\Coloneqq`),$(`\\ratio`,`\\vcentcolon`),$(`\\coloncolon`,`\\dblcolon`),$(`\\colonequals`,`\\coloneqq`),$(`\\coloncolonequals`,`\\Coloneqq`),$(`\\equalscolon`,`\\eqqcolon`),$(`\\equalscoloncolon`,`\\Eqqcolon`),$(`\\colonminus`,`\\coloneq`),$(`\\coloncolonminus`,`\\Coloneq`),$(`\\minuscolon`,`\\eqcolon`),$(`\\minuscoloncolon`,`\\Eqcolon`),$(`\\coloncolonapprox`,`\\Colonapprox`),$(`\\coloncolonsim`,`\\Colonsim`),$(`\\simcolon`,`\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}`),$(`\\simcoloncolon`,`\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}`),$(`\\approxcolon`,`\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}`),$(`\\approxcoloncolon`,`\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}`),$(`\\notni`,"\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}"),$(`\\limsup`,`\\DOTSB\\operatorname*{lim\\,sup}`),$(`\\liminf`,`\\DOTSB\\operatorname*{lim\\,inf}`),$(`\\injlim`,`\\DOTSB\\operatorname*{inj\\,lim}`),$(`\\projlim`,`\\DOTSB\\operatorname*{proj\\,lim}`),$(`\\varlimsup`,`\\DOTSB\\operatorname*{\\overline{lim}}`),$(`\\varliminf`,`\\DOTSB\\operatorname*{\\underline{lim}}`),$(`\\varinjlim`,`\\DOTSB\\operatorname*{\\underrightarrow{lim}}`),$(`\\varprojlim`,`\\DOTSB\\operatorname*{\\underleftarrow{lim}}`),$(`\\gvertneqq`,`\\html@mathml{\\@gvertneqq}{}`),$(`\\lvertneqq`,`\\html@mathml{\\@lvertneqq}{}`),$(`\\ngeqq`,`\\html@mathml{\\@ngeqq}{}`),$(`\\ngeqslant`,`\\html@mathml{\\@ngeqslant}{}`),$(`\\nleqq`,`\\html@mathml{\\@nleqq}{}`),$(`\\nleqslant`,`\\html@mathml{\\@nleqslant}{}`),$(`\\nshortmid`,`\\html@mathml{\\@nshortmid}{}`),$(`\\nshortparallel`,`\\html@mathml{\\@nshortparallel}{}`),$(`\\nsubseteqq`,`\\html@mathml{\\@nsubseteqq}{}`),$(`\\nsupseteqq`,`\\html@mathml{\\@nsupseteqq}{}`),$(`\\varsubsetneq`,`\\html@mathml{\\@varsubsetneq}{}`),$(`\\varsubsetneqq`,`\\html@mathml{\\@varsubsetneqq}{}`),$(`\\varsupsetneq`,`\\html@mathml{\\@varsupsetneq}{}`),$(`\\varsupsetneqq`,`\\html@mathml{\\@varsupsetneqq}{}`),$(`\\imath`,`\\html@mathml{\\@imath}{}`),$(`\\jmath`,`\\html@mathml{\\@jmath}{}`),$(`\\llbracket`,"\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),$(`\\rrbracket`,"\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}"),$(``,`\\llbracket`),$(``,`\\rrbracket`),$(`\\lBrace`,"\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}"),$(`\\rBrace`,"\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}"),$(``,`\\lBrace`),$(``,`\\rBrace`),$(`\\minuso`,"\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}"),$(``,`\\minuso`),$(`\\darr`,`\\downarrow`),$(`\\dArr`,`\\Downarrow`),$(`\\Darr`,`\\Downarrow`),$(`\\lang`,`\\langle`),$(`\\rang`,`\\rangle`),$(`\\uarr`,`\\uparrow`),$(`\\uArr`,`\\Uparrow`),$(`\\Uarr`,`\\Uparrow`),$(`\\N`,`\\mathbb{N}`),$(`\\R`,`\\mathbb{R}`),$(`\\Z`,`\\mathbb{Z}`),$(`\\alef`,`\\aleph`),$(`\\alefsym`,`\\aleph`),$(`\\Alpha`,`\\mathrm{A}`),$(`\\Beta`,`\\mathrm{B}`),$(`\\bull`,`\\bullet`),$(`\\Chi`,`\\mathrm{X}`),$(`\\clubs`,`\\clubsuit`),$(`\\cnums`,`\\mathbb{C}`),$(`\\Complex`,`\\mathbb{C}`),$(`\\Dagger`,`\\ddagger`),$(`\\diamonds`,`\\diamondsuit`),$(`\\empty`,`\\emptyset`),$(`\\Epsilon`,`\\mathrm{E}`),$(`\\Eta`,`\\mathrm{H}`),$(`\\exist`,`\\exists`),$(`\\harr`,`\\leftrightarrow`),$(`\\hArr`,`\\Leftrightarrow`),$(`\\Harr`,`\\Leftrightarrow`),$(`\\hearts`,`\\heartsuit`),$(`\\image`,`\\Im`),$(`\\infin`,`\\infty`),$(`\\Iota`,`\\mathrm{I}`),$(`\\isin`,`\\in`),$(`\\Kappa`,`\\mathrm{K}`),$(`\\larr`,`\\leftarrow`),$(`\\lArr`,`\\Leftarrow`),$(`\\Larr`,`\\Leftarrow`),$(`\\lrarr`,`\\leftrightarrow`),$(`\\lrArr`,`\\Leftrightarrow`),$(`\\Lrarr`,`\\Leftrightarrow`),$(`\\Mu`,`\\mathrm{M}`),$(`\\natnums`,`\\mathbb{N}`),$(`\\Nu`,`\\mathrm{N}`),$(`\\Omicron`,`\\mathrm{O}`),$(`\\plusmn`,`\\pm`),$(`\\rarr`,`\\rightarrow`),$(`\\rArr`,`\\Rightarrow`),$(`\\Rarr`,`\\Rightarrow`),$(`\\real`,`\\Re`),$(`\\reals`,`\\mathbb{R}`),$(`\\Reals`,`\\mathbb{R}`),$(`\\Rho`,`\\mathrm{P}`),$(`\\sdot`,`\\cdot`),$(`\\sect`,`\\S`),$(`\\spades`,`\\spadesuit`),$(`\\sub`,`\\subset`),$(`\\sube`,`\\subseteq`),$(`\\supe`,`\\supseteq`),$(`\\Tau`,`\\mathrm{T}`),$(`\\thetasym`,`\\vartheta`),$(`\\weierp`,`\\wp`),$(`\\Zeta`,`\\mathrm{Z}`),$(`\\argmin`,`\\DOTSB\\operatorname*{arg\\,min}`),$(`\\argmax`,`\\DOTSB\\operatorname*{arg\\,max}`),$(`\\plim`,`\\DOTSB\\mathop{\\operatorname{plim}}\\limits`),$(`\\bra`,`\\mathinner{\\langle{#1}|}`),$(`\\ket`,`\\mathinner{|{#1}\\rangle}`),$(`\\braket`,`\\mathinner{\\langle{#1}\\rangle}`),$(`\\Bra`,`\\left\\langle#1\\right|`),$(`\\Ket`,`\\left|#1\\right\\rangle`);let pi=e=>t=>{let n=t.consumeArg().tokens,r=t.consumeArg().tokens,i=t.consumeArg().tokens,a=t.consumeArg().tokens,o=t.macros.get(`|`),s=t.macros.get(`\\|`);t.macros.beginGroup();let c=t=>n=>{e&&(n.macros.set(`|`,o),i.length&&n.macros.set(`\\|`,s));let a=t;return!t&&i.length&&n.future().text===`|`&&(n.popToken(),a=!0),{tokens:a?i:r,numArgs:0}};t.macros.set(`|`,c(!1)),i.length&&t.macros.set(`\\|`,c(!0));let l=t.consumeArg().tokens,u=t.expandTokens([...a,...l,...n]);return t.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};$(`\\bra@ket`,pi(!1)),$(`\\bra@set`,pi(!0)),$(`\\Braket`,`\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}`),$(`\\Set`,`\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}`),$(`\\set`,`\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}`),$(`\\angln`,`{\\angl n}`),$(`\\blue`,`\\textcolor{##6495ed}{#1}`),$(`\\orange`,`\\textcolor{##ffa500}{#1}`),$(`\\pink`,`\\textcolor{##ff00af}{#1}`),$(`\\red`,`\\textcolor{##df0030}{#1}`),$(`\\green`,`\\textcolor{##28ae7b}{#1}`),$(`\\gray`,`\\textcolor{gray}{#1}`),$(`\\purple`,`\\textcolor{##9d38bd}{#1}`),$(`\\blueA`,`\\textcolor{##ccfaff}{#1}`),$(`\\blueB`,`\\textcolor{##80f6ff}{#1}`),$(`\\blueC`,`\\textcolor{##63d9ea}{#1}`),$(`\\blueD`,`\\textcolor{##11accd}{#1}`),$(`\\blueE`,`\\textcolor{##0c7f99}{#1}`),$(`\\tealA`,`\\textcolor{##94fff5}{#1}`),$(`\\tealB`,`\\textcolor{##26edd5}{#1}`),$(`\\tealC`,`\\textcolor{##01d1c1}{#1}`),$(`\\tealD`,`\\textcolor{##01a995}{#1}`),$(`\\tealE`,`\\textcolor{##208170}{#1}`),$(`\\greenA`,`\\textcolor{##b6ffb0}{#1}`),$(`\\greenB`,`\\textcolor{##8af281}{#1}`),$(`\\greenC`,`\\textcolor{##74cf70}{#1}`),$(`\\greenD`,`\\textcolor{##1fab54}{#1}`),$(`\\greenE`,`\\textcolor{##0d923f}{#1}`),$(`\\goldA`,`\\textcolor{##ffd0a9}{#1}`),$(`\\goldB`,`\\textcolor{##ffbb71}{#1}`),$(`\\goldC`,`\\textcolor{##ff9c39}{#1}`),$(`\\goldD`,`\\textcolor{##e07d10}{#1}`),$(`\\goldE`,`\\textcolor{##a75a05}{#1}`),$(`\\redA`,`\\textcolor{##fca9a9}{#1}`),$(`\\redB`,`\\textcolor{##ff8482}{#1}`),$(`\\redC`,`\\textcolor{##f9685d}{#1}`),$(`\\redD`,`\\textcolor{##e84d39}{#1}`),$(`\\redE`,`\\textcolor{##bc2612}{#1}`),$(`\\maroonA`,`\\textcolor{##ffbde0}{#1}`),$(`\\maroonB`,`\\textcolor{##ff92c6}{#1}`),$(`\\maroonC`,`\\textcolor{##ed5fa6}{#1}`),$(`\\maroonD`,`\\textcolor{##ca337c}{#1}`),$(`\\maroonE`,`\\textcolor{##9e034e}{#1}`),$(`\\purpleA`,`\\textcolor{##ddd7ff}{#1}`),$(`\\purpleB`,`\\textcolor{##c6b9fc}{#1}`),$(`\\purpleC`,`\\textcolor{##aa87ff}{#1}`),$(`\\purpleD`,`\\textcolor{##7854ab}{#1}`),$(`\\purpleE`,`\\textcolor{##543b78}{#1}`),$(`\\mintA`,`\\textcolor{##f5f9e8}{#1}`),$(`\\mintB`,`\\textcolor{##edf2df}{#1}`),$(`\\mintC`,`\\textcolor{##e0e5cc}{#1}`),$(`\\grayA`,`\\textcolor{##f6f7f7}{#1}`),$(`\\grayB`,`\\textcolor{##f0f1f2}{#1}`),$(`\\grayC`,`\\textcolor{##e3e5e6}{#1}`),$(`\\grayD`,`\\textcolor{##d6d8da}{#1}`),$(`\\grayE`,`\\textcolor{##babec2}{#1}`),$(`\\grayF`,`\\textcolor{##888d93}{#1}`),$(`\\grayG`,`\\textcolor{##626569}{#1}`),$(`\\grayH`,`\\textcolor{##3b3e40}{#1}`),$(`\\grayI`,`\\textcolor{##21242c}{#1}`),$(`\\kaBlue`,`\\textcolor{##314453}{#1}`),$(`\\kaGreen`,`\\textcolor{##71B307}{#1}`);let mi={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class hi{constructor(e,t,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new oi(si,t.macros),this.mode=n,this.stack=[]}feed(e){this.lexer=new ai(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){let t,n,r;if(e){if(this.consumeSpaces(),this.future().text!==`[`)return null;t=this.popToken(),{tokens:r,end:n}=this.consumeArg([`]`])}else ({tokens:r,start:t,end:n}=this.consumeArg());return this.pushToken(new mr(`EOF`,n.loc)),this.pushTokens(r),new mr(``,pr.range(t,n))}consumeSpaces(){for(;this.future().text===` `;)this.stack.pop()}consumeArg(e){let t=[],n=e&&e.length>0;n||this.consumeSpaces();let i=this.future(),a,o=0,s=0;do{if(a=this.popToken(),t.push(a),a.text===`{`)++o;else if(a.text===`}`){if(--o,o===-1)throw new r(`Extra }`,a)}else if(a.text===`EOF`)throw new r(`Unexpected end of input in a macro argument, expected '`+(e&&n?e[s]:`}`)+`'`,a);if(e&&n)if((o===0||o===1&&e[s]===`{`)&&a.text===e[s]){if(++s,s===e.length){t.splice(-s,s);break}}else s=0}while(o!==0||n);return i.text===`{`&&t[t.length-1].text===`}`&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:i,end:a}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new r(`The length of delimiters doesn't match the number of args!`);let n=t[0];for(let e=0;e<n.length;e++){let t=this.popToken();if(n[e]!==t.text)throw new r(`Use of the macro doesn't match its definition`,t)}}let n=[];for(let r=0;r<e;r++)n.push(this.consumeArg(t&&t[r+1]).tokens);return n}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new r(`Too many expansions: infinite loop or need to increase maxExpand setting`)}expandOnce(e){let t=this.popToken(),n=t.text,i=t.noexpand?null:this._getExpansion(n);if(i==null||e&&i.unexpandable){if(e&&i==null&&n[0]===`\\`&&!this.isDefined(n))throw new r(`Undefined control sequence: `+n);return this.pushToken(t),!1}this.countExpansion(1);let a=i.tokens,o=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(let e=a.length-1;e>=0;--e){let t=a[e];if(t.text===`#`){if(e===0)throw new r(`Incomplete placeholder at end of macro body`,t);if(t=a[--e],t.text===`#`)a.splice(e+1,1);else if(/^[1-9]$/.test(t.text))a.splice(e,2,...o[t.text-1]);else throw new r(`Not a valid argument number`,t)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){let e=this.stack.pop();return e.treatAsRelax&&(e.text=`\\relax`),e}throw Error()}expandMacro(e){return this.macros.has(e)?this.expandTokens([new mr(e)]):void 0}expandTokens(e){let t=[],n=this.stack.length;for(this.pushTokens(e);this.stack.length>n;)if(this.expandOnce(!0)===!1){let e=this.stack.pop();e.treatAsRelax&&=(e.noexpand=!1,!1),t.push(e)}return this.countExpansion(t.length),t}expandMacroAsText(e){let t=this.expandMacro(e);return t&&t.map(e=>e.text).join(``)}_getExpansion(e){let t=this.macros.get(e);if(t==null)return t;if(e.length===1){let t=this.lexer.catcodes[e];if(t!=null&&t!==13)return}let n=typeof t==`function`?t(this):t;if(typeof n==`string`){let e=0;if(n.indexOf(`#`)!==-1){let t=n.replace(/##/g,``);for(;t.indexOf(`#`+(e+1))!==-1;)++e}let t=new ai(n,this.settings),r=[],i=t.lex();for(;i.text!==`EOF`;)r.push(i),i=t.lex();return r.reverse(),{tokens:r,numArgs:e}}return n}isDefined(e){return this.macros.has(e)||ni.hasOwnProperty(e)||Ee.math.hasOwnProperty(e)||Ee.text.hasOwnProperty(e)||mi.hasOwnProperty(e)}isExpandable(e){let t=this.macros.get(e);return t==null?ni.hasOwnProperty(e)&&!ni[e].primitive:typeof t==`string`||typeof t==`function`||!t.unexpandable}}let gi=/^[]/,_i=Object.freeze({"":`+`,"":`-`,"":`=`,"":`(`,"":`)`,"":`0`,"":`1`,"":`2`,"":`3`,"":`4`,"":`5`,"":`6`,"":`7`,"":`8`,"":`9`,:`a`,:`e`,:`h`,:`i`,:`j`,:`k`,:`l`,:`m`,:`n`,:`o`,:`p`,:`r`,:`s`,:`t`,:`u`,:`v`,:`x`,:``,:``,:``,:``,:``,"":`+`,"":`-`,"":`=`,"":`(`,"":`)`,"":`0`,"":`1`,"":`2`,"":`3`,"":`4`,"":`5`,"":`6`,"":`7`,"":`8`,"":`9`,:`A`,:`B`,:`D`,:`E`,:`G`,:`H`,:`I`,:`J`,:`K`,:`L`,:`M`,:`N`,:`O`,:`P`,:`R`,:`T`,:`U`,:`V`,:`W`,:`a`,:`b`,:`c`,:`d`,:`e`,:`f`,:`g`,:`h`,:`i`,:`j`,:`k`,:`l`,:`m`,:`n`,:`o`,:`p`,:`r`,:`s`,:`t`,:`u`,:`v`,:`w`,:`x`,:`y`,:`z`,:``,:``,:``,:``,:``,:``}),vi={"":{text:`\\'`,math:`\\acute`},"":{text:"\\`",math:`\\grave`},"":{text:`\\"`,math:`\\ddot`},"":{text:`\\~`,math:`\\tilde`},"":{text:`\\=`,math:`\\bar`},"":{text:`\\u`,math:`\\breve`},"":{text:`\\v`,math:`\\check`},"":{text:`\\^`,math:`\\hat`},"":{text:`\\.`,math:`\\dot`},"":{text:`\\r`,math:`\\mathring`},"":{text:`\\H`},"":{text:`\\c`}},yi={:`a`,:`a`,:`a`,:`a`,:`a`,:`a`,:`a`,:`a`,:`a`,:`a`,:`a`,:`a`,:`a`,:`a`,:`a`,:`a`,:`a`,:`a`,:`a`,:`b`,:`c`,:`c`,:`c`,:`c`,:`c`,:`c`,:`d`,:`d`,:`d`,:`e`,:`e`,:`e`,:`e`,:`e`,:`e`,:`e`,:`e`,:`e`,:`e`,:`e`,:`e`,:`e`,:`e`,:`e`,:`e`,:`f`,:`g`,:`g`,:`g`,:`g`,:`g`,:`g`,:`g`,:`h`,:`h`,:`h`,:`h`,:`h`,:`i`,:`i`,:`i`,:`i`,:`i`,:`i`,:`i`,:`i`,:`i`,:`j`,:`j`,:`k`,:`k`,:`k`,:`l`,:`l`,:`l`,:`m`,:`m`,:`n`,:`n`,:`n`,:`n`,:`n`,:`n`,:`o`,:`o`,:`o`,:`o`,:`o`,:`o`,:`o`,:`o`,:`o`,:`o`,:`o`,:`o`,:`o`,:`o`,:`o`,:`o`,:`o`,:`o`,:`o`,:`o`,:`p`,:`p`,:`r`,:`r`,:`r`,:`r`,:`s`,:`s`,:`s`,:`s`,:`s`,:`s`,:`s`,:`t`,:`t`,:`t`,:`t`,:`u`,:`u`,:`u`,:`u`,:`u`,:`u`,:`u`,:`u`,:`u`,:`u`,:`u`,:`u`,:`u`,:`u`,:`u`,:`u`,:`v`,:`w`,:`w`,:`w`,:`w`,:`w`,:`w`,:`x`,:`x`,:`y`,:`y`,:`y`,:`y`,:`y`,:`y`,:`y`,:`y`,:`z`,:`z`,:`z`,:`z`,:`A`,:`A`,:`A`,:`A`,:`A`,:`A`,:`A`,:`A`,:`A`,:`A`,:`A`,:`A`,:`A`,:`A`,:`A`,:`A`,:`A`,:`A`,:`A`,:`B`,:`C`,:`C`,:`C`,:`C`,:`C`,:`C`,:`D`,:`D`,:`D`,:`E`,:`E`,:`E`,:`E`,:`E`,:`E`,:`E`,:`E`,:`E`,:`E`,:`E`,:`E`,:`E`,:`E`,:`E`,:`E`,:`F`,:`G`,:`G`,:`G`,:`G`,:`G`,:`G`,:`G`,:`H`,:`H`,:`H`,:`H`,:`H`,:`I`,:`I`,:`I`,:`I`,:`I`,:`I`,:`I`,:`I`,:`I`,:`I`,:`J`,:`K`,:`K`,:`K`,:`L`,:`L`,:`L`,:`M`,:`M`,:`N`,:`N`,:`N`,:`N`,:`N`,:`N`,:`O`,:`O`,:`O`,:`O`,:`O`,:`O`,:`O`,:`O`,:`O`,:`O`,:`O`,:`O`,:`O`,:`O`,:`O`,:`O`,:`O`,:`O`,:`O`,:`O`,:`P`,:`P`,:`R`,:`R`,:`R`,:`R`,:`S`,:`S`,:`S`,:`S`,:`S`,:`S`,:`S`,:`T`,:`T`,:`T`,:`U`,:`U`,:`U`,:`U`,:`U`,:`U`,:`U`,:`U`,:`U`,:`U`,:`U`,:`U`,:`U`,:`U`,:`U`,:`U`,:`V`,:`W`,:`W`,:`W`,:`W`,:`W`,:`X`,:`X`,:`Y`,:`Y`,:`Y`,:`Y`,:`Y`,:`Y`,:`Y`,:`Z`,:`Z`,:`Z`,:`Z`,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``,:``};class bi{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode=`math`,this.gullet=new hi(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new r(`Expected '`+e+`', got '`+this.fetch().text+`'`,this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken??=this.gullet.expandNextToken(),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set(`\\color`,`\\textcolor`);try{let e=this.parseExpression(!1);return this.expect(`EOF`),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){let t=this.nextToken;this.consume(),this.gullet.pushToken(new mr(`}`)),this.gullet.pushTokens(e);let n=this.parseExpression(!1);return this.expect(`}`),this.nextToken=t,n}parseExpression(e,t){let n=[];for(;;){this.mode===`math`&&this.consumeSpaces();let r=this.fetch();if(bi.endOfExpression.indexOf(r.text)!==-1||t&&r.text===t||e&&ni[r.text]&&ni[r.text].infix)break;let i=this.parseAtom(t);if(i){if(i.type===`internal`)continue}else break;n.push(i)}return this.mode===`text`&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(e){let t=-1,n;for(let i=0;i<e.length;i++)if(e[i].type===`infix`){if(t!==-1)throw new r(`only one infix operator per group`,e[i].token);t=i,n=e[i].replaceWith}if(t!==-1&&n){let r,i,a=e.slice(0,t),o=e.slice(t+1);r=a.length===1&&a[0].type===`ordgroup`?a[0]:{type:`ordgroup`,mode:this.mode,body:a},i=o.length===1&&o[0].type===`ordgroup`?o[0]:{type:`ordgroup`,mode:this.mode,body:o};let s;return s=n===`\\\\abovefrac`?this.callFunction(n,[r,e[t],i],[]):this.callFunction(n,[r,i],[]),[s]}else return e}handleSupSubscript(e){let t=this.fetch(),n=t.text;this.consume(),this.consumeSpaces();let i;do i=this.parseGroup(e);while(i?.type===`internal`);if(!i)throw new r(`Expected group after '`+n+`'`,t);return i}formatUnsupportedCmd(e){let t=[];for(let n=0;n<e.length;n++)t.push({type:`textord`,mode:`text`,text:e[n]});let n={type:`text`,mode:this.mode,body:t};return{type:`color`,mode:this.mode,color:this.settings.errorColor,body:[n]}}parseAtom(e){let t=this.parseGroup(`atom`,e);if(t?.type===`internal`||this.mode===`text`)return t;let n,i;for(;;){this.consumeSpaces();let e=this.fetch();if(e.text===`\\limits`||e.text===`\\nolimits`){if(t&&t.type===`op`)t.limits=e.text===`\\limits`,t.alwaysHandleSupSub=!0;else if(t&&t.type===`operatorname`)t.alwaysHandleSupSub&&(t.limits=e.text===`\\limits`);else throw new r(`Limit controls must follow a math operator`,e);this.consume()}else if(e.text===`^`){if(n)throw new r(`Double superscript`,e);n=this.handleSupSubscript(`superscript`)}else if(e.text===`_`){if(i)throw new r(`Double subscript`,e);i=this.handleSupSubscript(`subscript`)}else if(e.text===`'`){if(n)throw new r(`Double superscript`,e);let t={type:`textord`,mode:this.mode,text:`\\prime`},i=[t];for(this.consume();this.fetch().text===`'`;)i.push(t),this.consume();this.fetch().text===`^`&&i.push(this.handleSupSubscript(`superscript`)),n={type:`ordgroup`,mode:this.mode,body:i}}else if(_i[e.text]){let t=gi.test(e.text),r=[];for(r.push(new mr(_i[e.text])),this.consume();;){let e=this.fetch().text;if(!_i[e]||gi.test(e)!==t)break;r.unshift(new mr(_i[e])),this.consume()}let a=this.subparse(r);t?i={type:`ordgroup`,mode:`math`,body:a}:n={type:`ordgroup`,mode:`math`,body:a}}else break}return n||i?{type:`supsub`,mode:this.mode,base:t,sup:n,sub:i}:t}parseFunction(e,t){let n=this.fetch(),i=n.text,a=ni[i];if(!a)return null;if(this.consume(),t&&t!==`atom`&&!a.allowedInArgument)throw new r(`Got function '`+i+`' with no arguments`+(t?` as `+t:``),n);if(this.mode===`text`&&!a.allowedInText)throw new r(`Can't use function '`+i+`' in text mode`,n);if(this.mode===`math`&&a.allowedInMath===!1)throw new r(`Can't use function '`+i+`' in math mode`,n);let{args:o,optArgs:s}=this.parseArguments(i,a);return this.callFunction(i,o,s,n,e)}callFunction(e,t,n,i,a){let o={funcName:e,parser:this,token:i,breakOnTokenText:a},s=ni[e];if(s&&s.handler)return s.handler(o,t,n);throw new r(`No function handler for `+e)}parseArguments(e,t){let n=t.numArgs+t.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};let i=[],a=[];for(let o=0;o<n;o++){let n=t.argTypes&&t.argTypes[o],s=o<t.numOptionalArgs;(t.primitive&&n==null||t.type===`sqrt`&&o===1&&a[0]==null)&&(n=`primitive`);let c=this.parseGroupOfType(`argument to '`+e+`'`,n,s);if(s)a.push(c);else if(c!=null)i.push(c);else throw new r(`Null argument, please report this as a bug`)}return{args:i,optArgs:a}}parseGroupOfType(e,t,n){switch(t){case`color`:return this.parseColorGroup(n);case`size`:return this.parseSizeGroup(n);case`url`:return this.parseUrlGroup(n);case`math`:case`text`:return this.parseArgumentGroup(n,t);case`hbox`:{let e=this.parseArgumentGroup(n,`text`);return e==null?null:{type:`styling`,mode:e.mode,body:[e],style:`text`}}case`raw`:{let e=this.parseStringGroup(`raw`,n);return e==null?null:{type:`raw`,mode:`text`,string:e.text}}case`primitive`:{if(n)throw new r(`A primitive argument cannot be optional`);let t=this.parseGroup(e);if(t==null)throw new r(`Expected group as `+e,this.fetch());return t}case`original`:case null:case void 0:return this.parseArgumentGroup(n);default:throw new r(`Unknown group type as `+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===` `;)this.consume()}parseStringGroup(e,t){let n=this.gullet.scanArgument(t);if(n==null)return null;let r=``,i;for(;(i=this.fetch()).text!==`EOF`;)r+=i.text,this.consume();return this.consume(),n.text=r,n}parseRegexGroup(e,t){let n=this.fetch(),i=n,a=``,o;for(;(o=this.fetch()).text!==`EOF`&&e.test(a+o.text);)i=o,a+=i.text,this.consume();if(a===``)throw new r(`Invalid `+t+`: '`+n.text+`'`,n);return n.range(i,a)}parseColorGroup(e){let t=this.parseStringGroup(`color`,e);if(t==null)return null;let n=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!n)throw new r(`Invalid color: '`+t.text+`'`,t);let i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i=`#`+i),{type:`color-token`,mode:this.mode,color:i}}parseSizeGroup(e){let t,n=!1;if(this.gullet.consumeSpaces(),t=!e&&this.gullet.future().text!==`{`?this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,`size`):this.parseStringGroup(`size`,e),!t)return null;!e&&t.text.length===0&&(t.text=`0pt`,n=!0);let i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!i)throw new r(`Invalid size: '`+t.text+`'`,t);let a={number:+(i[1]+i[2]),unit:i[3]};if(!ae(a))throw new r(`Invalid unit: '`+a.unit+`'`,t);return{type:`size`,mode:this.mode,value:a,isBlank:n}}parseUrlGroup(e){this.gullet.lexer.setCatcode(`%`,13),this.gullet.lexer.setCatcode(`~`,12);let t=this.parseStringGroup(`url`,e);if(this.gullet.lexer.setCatcode(`%`,14),this.gullet.lexer.setCatcode(`~`,13),t==null)return null;let n=t.text.replace(/\\([#$%&~_^{}])/g,`$1`);return{type:`url`,mode:this.mode,url:n}}parseArgumentGroup(e,t){let n=this.gullet.scanArgument(e);if(n==null)return null;let r=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();let i=this.parseExpression(!1,`EOF`);this.expect(`EOF`),this.gullet.endGroup();let a={type:`ordgroup`,mode:this.mode,loc:n.loc,body:i};return t&&this.switchMode(r),a}parseGroup(e,t){let n=this.fetch(),i=n.text,a;if(i===`{`||i===`\\begingroup`){this.consume();let e=i===`{`?`}`:`\\endgroup`;this.gullet.beginGroup();let t=this.parseExpression(!1,e),r=this.fetch();this.expect(e),this.gullet.endGroup(),a={type:`ordgroup`,mode:this.mode,loc:pr.range(n,r),body:t,semisimple:i===`\\begingroup`||void 0}}else if(a=this.parseFunction(t,e)||this.parseSymbol(),a==null&&i[0]===`\\`&&!mi.hasOwnProperty(i)){if(this.settings.throwOnError)throw new r(`Undefined control sequence: `+i,n);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(e){let t=e.length-1;for(let n=0;n<t;++n){let r=e[n],i=r.text;i===`-`&&e[n+1].text===`-`&&(n+1<t&&e[n+2].text===`-`?(e.splice(n,3,{type:`textord`,mode:`text`,loc:pr.range(r,e[n+2]),text:`---`}),t-=2):(e.splice(n,2,{type:`textord`,mode:`text`,loc:pr.range(r,e[n+1]),text:`--`}),--t)),(i===`'`||i==="`")&&e[n+1].text===i&&(e.splice(n,2,{type:`textord`,mode:`text`,loc:pr.range(r,e[n+1]),text:i+i}),--t)}}parseSymbol(){let e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();let e=t.slice(5),n=e.charAt(0)===`*`;if(n&&(e=e.slice(1)),e.length<2||e.charAt(0)!==e.slice(-1))throw new r(`\\verb assertion failed --
                    please report what input caused this bug`);return e=e.slice(1,-1),{type:`verb`,mode:`text`,body:e,star:n}}yi.hasOwnProperty(t[0])&&!Ee[this.mode][t[0]]&&(this.settings.strict&&this.mode===`math`&&this.settings.reportNonstrict(`unicodeTextInMathMode`,`Accented Unicode text character "`+t[0]+`" used in math mode`,e),t=yi[t[0]]+t.slice(1));let n=ii.exec(t);n&&(t=t.substring(0,n.index),t===`i`?t=``:t===`j`&&(t=``));let i;if(Ee[this.mode][t]){this.settings.strict&&this.mode===`math`&&Be.indexOf(t)>=0&&this.settings.reportNonstrict(`unicodeTextInMathMode`,`Latin-1/Unicode text character "`+t[0]+`" used in math mode`,e);let n=Ee[this.mode][t].group,r=pr.range(e),a;if(Ce.hasOwnProperty(n)){let e=n;a={type:`atom`,mode:this.mode,family:e,loc:r,text:t}}else a={type:n,mode:this.mode,loc:r,text:t};i=a}else if(t.charCodeAt(0)>=128)this.settings.strict&&(k(t.charCodeAt(0))?this.mode===`math`&&this.settings.reportNonstrict(`unicodeTextInMathMode`,`Unicode text character "`+t[0]+`" used in math mode`,e):this.settings.reportNonstrict(`unknownSymbol`,`Unrecognized Unicode character "`+t[0]+`"`+(` (`+t.charCodeAt(0)+`)`),e)),i={type:`textord`,mode:`text`,loc:pr.range(e),text:t};else return null;if(this.consume(),n)for(let t=0;t<n[0].length;t++){let a=n[0][t];if(!vi[a])throw new r(`Unknown accent ' `+a+`'`,e);let o=vi[a][this.mode]||vi[a].text;if(!o)throw new r(`Accent `+a+` unsupported in `+this.mode+` mode`,e);i={type:`accent`,mode:this.mode,loc:pr.range(e),label:o,isStretchy:!1,isShifty:!0,base:i}}return i}}bi.endOfExpression=[`}`,`\\endgroup`,`\\end`,`\\right`,`&`];var xi=function(e,t){if(!(typeof e==`string`||e instanceof String))throw TypeError(`KaTeX can only parse string typed expression`);let n=new bi(e,t);delete n.gullet.macros.current[`\\df@tag`];let i=n.parse();if(delete n.gullet.macros.current[`\\current@color`],delete n.gullet.macros.current[`\\color`],n.gullet.macros.get(`\\df@tag`)){if(!t.displayMode)throw new r(`\\tag works only in display equations`);i=[{type:`tag`,mode:`text`,body:i,tag:n.subparse([new mr(`\\df@tag`)])}]}return i};let Si=function(e,t,n){t.textContent=``;let r=Ei(e,n).toNode();t.appendChild(r)};typeof document<`u`&&document.compatMode!==`CSS1Compat`&&(typeof console<`u`&&console.warn(`Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype.`),Si=function(){throw new r(`KaTeX doesn't work in quirks mode.`)});let Ci=function(e,t){return Ei(e,t).toMarkup()},wi=function(e,t){return xi(e,new g(t))},Ti=function(e,t,n){if(n.throwOnError||!(e instanceof r))throw e;let i=dt.makeSpan([`katex-error`],[new _e(t)]);return i.setAttribute(`title`,e.toString()),i.setAttribute(`style`,`color:`+n.errorColor),i},Ei=function(e,t){let n=new g(t);try{return $t(xi(e,n),e,n)}catch(t){return Ti(t,e,n)}};var Di={version:`0.16.27`,render:Si,renderToString:Ci,ParseError:r,SETTINGS_SCHEMA:m,__parse:wi,__renderToDomTree:Ei,__renderToHTMLTree:function(e,t){let n=new g(t);try{return en(xi(e,n),e,n)}catch(t){return Ti(t,e,n)}},__setFontMetrics:W,__defineSymbol:X,__defineFunction:bt,__defineMacro:$,__domTree:{Span:pe,Anchor:me,SymbolNode:_e,SvgNode:ve,PathNode:ye,LineNode:be}};return t=t.default,t})()})})),j=o(((e,t)=>{(function(n,r){typeof t==`object`&&typeof t.exports==`object`?r(e,u(),k(),A()):typeof define==`function`&&define.amd?define([`exports`,`react`,`prop-types`,`katex`],r):(n=typeof globalThis<`u`?globalThis:n||self)&&r(n.index={},n.react,n.propTypes,n.katex)})(e,function(e,t,n,r){Object.defineProperty(e,`__esModule`,{value:!0});function i(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}i(e,{BlockMath:()=>f,InlineMath:()=>p}),t=s(t),n=a(n),r=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(typeof WeakMap!=`function`)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}function s(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!=`object`&&typeof e!=`function`)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!==`default`&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}let c=(e,{displayMode:i})=>{let a=({children:n,errorColor:a,math:o,renderError:s})=>{let c=o??n,{html:l,error:u}=(0,t.useMemo)(()=>{try{return{html:r.default.renderToString(c,{displayMode:i,errorColor:a,throwOnError:!!s}),error:void 0}}catch(e){if(e instanceof r.default.ParseError||e instanceof TypeError)return{error:e};throw e}},[c,a,s]);return u?s?s(u):t.default.createElement(e,{html:`${u.message}`}):t.default.createElement(e,{html:l})};return a.propTypes={children:n.default.string,errorColor:n.default.string,math:n.default.string,renderError:n.default.func},a},l={html:n.default.string.isRequired},u=({html:e})=>t.default.createElement(`div`,{"data-testid":`react-katex`,dangerouslySetInnerHTML:{__html:e}});u.propTypes=l;let d=({html:e})=>t.default.createElement(`span`,{"data-testid":`react-katex`,dangerouslySetInnerHTML:{__html:e}});d.propTypes=l;let f=c(u,{displayMode:!0}),p=c(d,{displayMode:!1})})})),M=y(),N=j();function P(){let e=(0,M.c)(5),t;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,S.jsx)(`div`,{className:`gradient-wheel`}),e[0]=t):t=e[0];let n;e[1]===Symbol.for(`react.memo_cache_sentinel`)?(n=(0,S.jsx)(`span`,{className:`right`,children:(0,S.jsx)(N.InlineMath,{math:`0\\pi`})}),e[1]=n):n=e[1];let r;e[2]===Symbol.for(`react.memo_cache_sentinel`)?(r=(0,S.jsx)(`span`,{className:`top`,children:(0,S.jsx)(N.InlineMath,{math:`\\frac{\\pi}{2}`})}),e[2]=r):r=e[2];let i;e[3]===Symbol.for(`react.memo_cache_sentinel`)?(i=(0,S.jsx)(`span`,{className:`left`,children:(0,S.jsx)(N.InlineMath,{math:`\\pi`})}),e[3]=i):i=e[3];let a;return e[4]===Symbol.for(`react.memo_cache_sentinel`)?(a=(0,S.jsxs)(`div`,{className:`color-wheel`,children:[t,n,r,i,(0,S.jsx)(`span`,{className:`bottom`,children:(0,S.jsx)(N.InlineMath,{math:`\\frac{3\\pi}{2}`})})]}),e[4]=a):a=e[4],a}var F=y(),I=j(),L={1:32,2:64,3:128,4:256,5:512},R={32:1,64:2,128:3,256:4,512:5};function z(){let[e,t]=T(e=>e.T),[n]=T(e=>e.N),r=(0,_.useId)(),i=(0,_.useId)(),a=(0,_.useCallback)(e=>{t(t=>(t.worker?.postMessage([{property:`T`,value:Number(e.target.value)}]),{...t,T:Number(e.target.value)}))},[]),o=(0,_.useCallback)(e=>{t(t=>{let n=Number(e.target.value);return n in L?(t.worker?.postMessage([{method:`resize`,parameters:[L[n],L[n]]},{method:`initializeData`},{method:`render`}]),{...t,N:L[n]}):t})},[]);return(0,S.jsxs)(`div`,{className:`input-sliders`,children:[(0,S.jsxs)(`div`,{className:`input-wrapper`,children:[(0,S.jsxs)(`label`,{htmlFor:i,children:[(0,S.jsx)(I.InlineMath,{math:`N`}),`: `,n]}),(0,S.jsx)(`input`,{type:`range`,id:i,value:R[n],onChange:o,min:1,max:5,step:1,list:`steplist`}),(0,S.jsxs)(`datalist`,{id:`steplist`,children:[(0,S.jsx)(`option`,{children:`1`}),(0,S.jsx)(`option`,{children:`2`}),(0,S.jsx)(`option`,{children:`3`}),(0,S.jsx)(`option`,{children:`4`}),(0,S.jsx)(`option`,{children:`5`})]})]}),(0,S.jsxs)(`div`,{className:`input-wrapper`,children:[(0,S.jsxs)(`label`,{htmlFor:r,children:[(0,S.jsx)(I.InlineMath,{math:`T`}),`: `,e]}),(0,S.jsx)(`input`,{type:`range`,id:r,value:e,onChange:a,min:0,max:2,step:.01})]})]})}function B(){let[e,t]=T(e=>e.isPlaying),[n]=T(e=>e.worker),r=(0,_.useCallback)(()=>{e?n?.postMessage([{method:`pause`}]):n?.postMessage([{method:`play`}]),t(e=>({...e,isPlaying:!e.isPlaying}))},[n,e]),i=(0,_.useCallback)(()=>{t(e=>({...e,isPlaying:!1})),n?.postMessage([{method:`pause`},{method:`step`},{method:`render`}])},[n]),a=(0,_.useCallback)(()=>{t(e=>({...e,isPlaying:!1})),n?.postMessage([{method:`pause`},{method:`initializeData`},{method:`render`}])},[n]),o=(0,_.useCallback)(()=>{e?(n?.postMessage([{method:`pause`}]),t(e=>({...e,isPlaying:!1}))):(t(e=>({...e,isPlaying:!0})),t(e=>(e.worker?.postMessage([{method:`pause`},{method:`initializeDataAligned`},{property:`T`,value:0},{method:`sweep`}]),{...e,T:0})))},[n,e]);return(0,S.jsxs)(`div`,{className:`btn-group`,children:[(0,S.jsx)(`button`,{className:`btn ${e?`stop`:`start`}`,onClick:r,children:e?`Stop`:`Start`}),(0,S.jsx)(`button`,{className:`btn step`,onClick:o,children:`Sweep`}),(0,S.jsx)(`button`,{className:`btn step`,onClick:i,children:`Step`}),(0,S.jsx)(`button`,{className:`btn reset`,onClick:a,children:`Reset`})]})}function V(){let[e]=T(e=>e.worker),[t,n]=T(e=>e.obs_label),[r,i]=(0,_.useState)(`Metropolis`),a=(0,_.useCallback)(t=>{(t.target.value===`Metropolis`||t.target.value===`Wolff`)&&(i(t.target.value),e?.postMessage([{method:`setStep`,parameters:[t.target.value]}]))},[e]),o=(0,_.useCallback)(t=>{let r=t.target.value;(r===`Magnetization`||r===`Energy`)&&(n(e=>({...e,obs_label:r})),e?.postMessage([{method:`setObs`,parameters:[r]}]))},[e]);return(0,S.jsxs)(`div`,{className:`select-group`,children:[(0,S.jsxs)(`select`,{value:r,onChange:a,children:[(0,S.jsx)(`option`,{value:`Metropolis`,children:`Metropolis`}),(0,S.jsx)(`option`,{value:`Wolff`,children:`Wolff`})]}),(0,S.jsxs)(`select`,{value:t,onChange:o,children:[(0,S.jsx)(`option`,{value:`Magnetization`,children:`Magnetization`}),(0,S.jsx)(`option`,{value:`Energy`,children:`Energy`})]})]})}function H(){let e=(0,F.c)(1),t;return e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,S.jsxs)(`div`,{className:`controls`,children:[(0,S.jsx)(P,{}),(0,S.jsx)(z,{}),(0,S.jsx)(V,{}),(0,S.jsx)(B,{})]}),e[0]=t):t=e[0],t}var U=y();function W(){let e=(0,U.c)(4),[,t]=T(G),n=(0,_.useRef)(null),r;e[0]===t?r=e[1]:(r=()=>{t(e=>{if(!n.current||e.worker)return e;let r=n.current.transferControlToOffscreen();return e.worker=new Worker(new URL(`/xy-model/assets/Worker-qfL2YK34.js`,``+import.meta.url),{type:`module`}),e.worker.postMessage([{canvas:r,width:e.N,height:e.N}],[r]),e.worker.onmessage=e=>{let{data:n}=e;t(e=>({...e,...n,observable:{...e.observable,...n.observable},variance:{...e.variance,...n.variance}}))},{...e}})},e[0]=t,e[1]=r);let i;e[2]===Symbol.for(`react.memo_cache_sentinel`)?(i=[],e[2]=i):i=e[2],(0,_.useEffect)(r,i);let a;return e[3]===Symbol.for(`react.memo_cache_sentinel`)?(a=(0,S.jsx)(`canvas`,{ref:n,width:512,height:512}),e[3]=a):a=e[3],a}function G(e){return e.worker}var K=o((e=>{function t(e){"@babel/helpers - typeof";return t=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},t(e)}Object.defineProperty(e,`__esModule`,{value:!0}),e.default=x;var n=o(u()),r=i(k());function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(typeof WeakMap!=`function`)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function o(e,n){if(!n&&e&&e.__esModule)return e;if(e===null||t(e)!==`object`&&typeof e!=`function`)return{default:e};var r=a(n);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if(s!==`default`&&Object.prototype.hasOwnProperty.call(e,s)){var c=o?Object.getOwnPropertyDescriptor(e,s):null;c&&(c.get||c.set)?Object.defineProperty(i,s,c):i[s]=e[s]}return i.default=e,r&&r.set(e,i),i}function s(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,`prototype`,{writable:!1}),e}function d(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Super expression must either be null or a function`);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,`prototype`,{writable:!1}),t&&f(e,t)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=g();return function(){var n=_(e),r;if(t){var i=_(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function m(e,n){if(n&&(t(n)===`object`||typeof n==`function`))return n;if(n!==void 0)throw TypeError(`Derived constructors may only return object or undefined`);return h(e)}function h(e){if(e===void 0)throw ReferenceError(`this hasn't been initialised - super() hasn't been called`);return e}function g(){if(typeof Reflect>`u`||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==`function`)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}var v=`AfterExport.AfterPlot.Animated.AnimatingFrame.AnimationInterrupted.AutoSize.BeforeExport.BeforeHover.ButtonClicked.Click.ClickAnnotation.Deselect.DoubleClick.Framework.Hover.LegendClick.LegendDoubleClick.Relayout.Relayouting.Restyle.Redraw.Selected.Selecting.SliderChange.SliderEnd.SliderStart.SunburstClick.Transitioning.TransitionInterrupted.Unhover.WebGlContextLost`.split(`.`),y=[`plotly_restyle`,`plotly_redraw`,`plotly_relayout`,`plotly_relayouting`,`plotly_doubleclick`,`plotly_animated`,`plotly_sunburstclick`],b=typeof window<`u`;function x(e){var t=function(t){d(i,t);var r=p(i);function i(e){var t;return s(this,i),t=r.call(this,e),t.p=Promise.resolve(),t.resizeHandler=null,t.handlers={},t.syncWindowResize=t.syncWindowResize.bind(h(t)),t.syncEventHandlers=t.syncEventHandlers.bind(h(t)),t.attachUpdateEvents=t.attachUpdateEvents.bind(h(t)),t.getRef=t.getRef.bind(h(t)),t.handleUpdate=t.handleUpdate.bind(h(t)),t.figureCallback=t.figureCallback.bind(h(t)),t.updatePlotly=t.updatePlotly.bind(h(t)),t}return l(i,[{key:`updatePlotly`,value:function(t,n,r){var i=this;this.p=this.p.then(function(){if(!i.unmounting){if(!i.el)throw Error(`Missing element reference`);return e.react(i.el,{data:i.props.data,layout:i.props.layout,config:i.props.config,frames:i.props.frames})}}).then(function(){i.unmounting||(i.syncWindowResize(t),i.syncEventHandlers(),i.figureCallback(n),r&&i.attachUpdateEvents())}).catch(function(e){i.props.onError&&i.props.onError(e)})}},{key:`componentDidMount`,value:function(){this.unmounting=!1,this.updatePlotly(!0,this.props.onInitialized,!0)}},{key:`componentDidUpdate`,value:function(e){this.unmounting=!1;var t=e.frames&&e.frames.length?e.frames.length:0,n=this.props.frames&&this.props.frames.length?this.props.frames.length:0,r=!(e.layout===this.props.layout&&e.data===this.props.data&&e.config===this.props.config&&n===t),i=e.revision!==void 0,a=e.revision!==this.props.revision;!r&&(!i||i&&!a)||this.updatePlotly(!1,this.props.onUpdate,!1)}},{key:`componentWillUnmount`,value:function(){this.unmounting=!0,this.figureCallback(this.props.onPurge),this.resizeHandler&&b&&(window.removeEventListener(`resize`,this.resizeHandler),this.resizeHandler=null),this.removeUpdateEvents(),e.purge(this.el)}},{key:`attachUpdateEvents`,value:function(){var e=this;!this.el||!this.el.removeListener||y.forEach(function(t){e.el.on(t,e.handleUpdate)})}},{key:`removeUpdateEvents`,value:function(){var e=this;!this.el||!this.el.removeListener||y.forEach(function(t){e.el.removeListener(t,e.handleUpdate)})}},{key:`handleUpdate`,value:function(){this.figureCallback(this.props.onUpdate)}},{key:`figureCallback`,value:function(e){if(typeof e==`function`){var t=this.el;e({data:t.data,layout:t.layout,frames:this.el._transitionData?this.el._transitionData._frames:null},this.el)}}},{key:`syncWindowResize`,value:function(t){var n=this;b&&(this.props.useResizeHandler&&!this.resizeHandler?(this.resizeHandler=function(){return e.Plots.resize(n.el)},window.addEventListener(`resize`,this.resizeHandler),t&&this.resizeHandler()):!this.props.useResizeHandler&&this.resizeHandler&&(window.removeEventListener(`resize`,this.resizeHandler),this.resizeHandler=null))}},{key:`getRef`,value:function(e){this.el=e,this.props.debug&&b&&(window.gd=this.el)}},{key:`syncEventHandlers`,value:function(){var e=this;v.forEach(function(t){var n=e.props[`on`+t],r=e.handlers[t],i=!!r;n&&!i?e.addEventHandler(t,n):!n&&i?e.removeEventHandler(t):n&&i&&n!==r&&(e.removeEventHandler(t),e.addEventHandler(t,n))})}},{key:`addEventHandler`,value:function(e,t){this.handlers[e]=t,this.el.on(this.getPlotlyEventName(e),this.handlers[e])}},{key:`removeEventHandler`,value:function(e){this.el.removeListener(this.getPlotlyEventName(e),this.handlers[e]),delete this.handlers[e]}},{key:`getPlotlyEventName`,value:function(e){return`plotly_`+e.toLowerCase()}},{key:`render`,value:function(){return n.default.createElement(`div`,{id:this.props.divId,style:this.props.style,ref:this.getRef,className:this.props.className})}}]),i}(n.Component);return t.propTypes={data:r.default.arrayOf(r.default.object),config:r.default.object,layout:r.default.object,frames:r.default.arrayOf(r.default.object),revision:r.default.number,onInitialized:r.default.func,onPurge:r.default.func,onError:r.default.func,onUpdate:r.default.func,debug:r.default.bool,style:r.default.object,className:r.default.string,useResizeHandler:r.default.bool,divId:r.default.string},v.forEach(function(e){t.propTypes[`on`+e]=r.default.func}),t.defaultProps={debug:!1,useResizeHandler:!1,data:[],style:{position:`relative`,display:`inline-block`}},t}})),ee=o(((e,t)=>{(function(n,r){typeof e==`object`&&typeof t==`object`?t.exports=r():typeof define==`function`&&define.amd?define([],r):typeof e==`object`?e.Plotly=r():n.Plotly=r()})(self,function(){return(function(){var e={98847:(function(e,t,n){var r=n(71828),i={"X,X div":`direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;`,"X input,X button":`font-family:"Open Sans",verdana,arial,sans-serif;`,"X input:focus,X button:focus":`outline:none;`,"X a":`text-decoration:none;`,"X a:hover":`text-decoration:none;`,"X .crisp":`shape-rendering:crispEdges;`,"X .user-select-none":`-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;`,"X svg":`overflow:hidden;`,"X svg a":`fill:#447adb;`,"X svg a:hover":`fill:#3c6dc5;`,"X .main-svg":`position:absolute;top:0;left:0;pointer-events:none;`,"X .main-svg .draglayer":`pointer-events:all;`,"X .cursor-default":`cursor:default;`,"X .cursor-pointer":`cursor:pointer;`,"X .cursor-crosshair":`cursor:crosshair;`,"X .cursor-move":`cursor:move;`,"X .cursor-col-resize":`cursor:col-resize;`,"X .cursor-row-resize":`cursor:row-resize;`,"X .cursor-ns-resize":`cursor:ns-resize;`,"X .cursor-ew-resize":`cursor:ew-resize;`,"X .cursor-sw-resize":`cursor:sw-resize;`,"X .cursor-s-resize":`cursor:s-resize;`,"X .cursor-se-resize":`cursor:se-resize;`,"X .cursor-w-resize":`cursor:w-resize;`,"X .cursor-e-resize":`cursor:e-resize;`,"X .cursor-nw-resize":`cursor:nw-resize;`,"X .cursor-n-resize":`cursor:n-resize;`,"X .cursor-ne-resize":`cursor:ne-resize;`,"X .cursor-grab":`cursor:-webkit-grab;cursor:grab;`,"X .modebar":`position:absolute;top:2px;right:2px;`,"X .ease-bg":`-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;`,"X .modebar--hover>:not(.watermark)":`opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;`,"X:hover .modebar--hover .modebar-group":`opacity:1;`,"X .modebar-group":`float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;`,"X .modebar-btn":`position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;`,"X .modebar-btn svg":`position:relative;top:2px;`,"X .modebar.vertical":`display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;`,"X .modebar.vertical svg":`top:-1px;`,"X .modebar.vertical .modebar-group":`display:block;float:none;padding-left:0px;padding-bottom:8px;`,"X .modebar.vertical .modebar-group .modebar-btn":`display:block;text-align:center;`,"X [data-title]:before,X [data-title]:after":`position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;`,"X [data-title]:hover:before,X [data-title]:hover:after":`display:block;opacity:1;`,"X [data-title]:before":`content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;`,"X [data-title]:after":`content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;`,"X .vertical [data-title]:before,X .vertical [data-title]:after":`top:0%;right:200%;`,"X .vertical [data-title]:before":`border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;`,Y:`font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;`,"Y p":`margin:0;`,"Y .notifier-note":`min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;`,"Y .notifier-close":`color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;`,"Y .notifier-close:hover":`color:#444;text-decoration:none;cursor:pointer;`};for(var a in i){var o=a.replace(/^,/,` ,`).replace(/X/g,`.js-plotly-plot .plotly`).replace(/Y/g,`.plotly-notifier`);r.addStyleRule(o,i[a])}}),98222:(function(e,t,n){e.exports=n(82887)}),27206:(function(e,t,n){e.exports=n(60822)}),59893:(function(e,t,n){e.exports=n(23381)}),5224:(function(e,t,n){e.exports=n(83832)}),59509:(function(e,t,n){e.exports=n(72201)}),75557:(function(e,t,n){e.exports=n(91815)}),40338:(function(e,t,n){e.exports=n(21462)}),35080:(function(e,t,n){e.exports=n(51319)}),61396:(function(e,t,n){e.exports=n(57516)}),40549:(function(e,t,n){e.exports=n(98128)}),49866:(function(e,t,n){e.exports=n(99442)}),36089:(function(e,t,n){e.exports=n(93740)}),19548:(function(e,t,n){e.exports=n(8729)}),35831:(function(e,t,n){e.exports=n(93814)}),61039:(function(e,t,n){e.exports=n(14382)}),97040:(function(e,t,n){e.exports=n(51759)}),77986:(function(e,t,n){e.exports=n(10421)}),24296:(function(e,t,n){e.exports=n(43102)}),58872:(function(e,t,n){e.exports=n(92165)}),29626:(function(e,t,n){e.exports=n(3325)}),65591:(function(e,t,n){e.exports=n(36071)}),69738:(function(e,t,n){e.exports=n(43905)}),92650:(function(e,t,n){e.exports=n(35902)}),35630:(function(e,t,n){e.exports=n(69816)}),73434:(function(e,t,n){e.exports=n(94507)}),27909:(function(e,t,n){var r=n(19548);r.register([n(27206),n(5224),n(58872),n(65591),n(69738),n(92650),n(49866),n(25743),n(6197),n(97040),n(85461),n(73434),n(54201),n(81299),n(47645),n(35630),n(77986),n(83043),n(93005),n(96881),n(4534),n(50581),n(40549),n(77900),n(47582),n(35080),n(21641),n(17280),n(5861),n(29626),n(10021),n(65317),n(96268),n(61396),n(35831),n(16122),n(46163),n(40344),n(40338),n(48131),n(36089),n(55334),n(75557),n(19440),n(99488),n(59893),n(97393),n(98222),n(61039),n(24296),n(66398),n(59509)]),e.exports=r}),46163:(function(e,t,n){e.exports=n(15154)}),96881:(function(e,t,n){e.exports=n(64943)}),50581:(function(e,t,n){e.exports=n(21164)}),55334:(function(e,t,n){e.exports=n(54186)}),65317:(function(e,t,n){e.exports=n(94873)}),10021:(function(e,t,n){e.exports=n(67618)}),54201:(function(e,t,n){e.exports=n(58810)}),5861:(function(e,t,n){e.exports=n(20593)}),16122:(function(e,t,n){e.exports=n(29396)}),83043:(function(e,t,n){e.exports=n(13551)}),48131:(function(e,t,n){e.exports=n(46858)}),47582:(function(e,t,n){e.exports=n(17988)}),21641:(function(e,t,n){e.exports=n(68868)}),96268:(function(e,t,n){e.exports=n(20467)}),19440:(function(e,t,n){e.exports=n(91271)}),99488:(function(e,t,n){e.exports=n(21461)}),97393:(function(e,t,n){e.exports=n(85956)}),25743:(function(e,t,n){e.exports=n(52979)}),66398:(function(e,t,n){e.exports=n(32275)}),17280:(function(e,t,n){e.exports=n(6419)}),77900:(function(e,t,n){e.exports=n(61510)}),81299:(function(e,t,n){e.exports=n(87619)}),93005:(function(e,t,n){e.exports=n(93601)}),40344:(function(e,t,n){e.exports=n(96595)}),47645:(function(e,t,n){e.exports=n(70954)}),6197:(function(e,t,n){e.exports=n(47462)}),4534:(function(e,t,n){e.exports=n(17659)}),85461:(function(e,t,n){e.exports=n(19990)}),82884:(function(e){e.exports=[{path:``,backoff:0},{path:`M-2.4,-3V3L0.6,0Z`,backoff:.6},{path:`M-3.7,-2.5V2.5L1.3,0Z`,backoff:1.3},{path:`M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z`,backoff:1.55},{path:`M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z`,backoff:1.6},{path:`M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z`,backoff:2},{path:`M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z`,backoff:0,noRotate:!0},{path:`M2,2V-2H-2V2Z`,backoff:0,noRotate:!0}]}),50215:(function(e,t,n){var r=n(82884),i=n(41940),a=n(85555),o=n(44467).templatedArray;n(24695),e.exports=o(`annotation`,{visible:{valType:`boolean`,dflt:!0,editType:`calc+arraydraw`},text:{valType:`string`,editType:`calc+arraydraw`},textangle:{valType:`angle`,dflt:0,editType:`calc+arraydraw`},font:i({editType:`calc+arraydraw`,colorEditType:`arraydraw`}),width:{valType:`number`,min:1,dflt:null,editType:`calc+arraydraw`},height:{valType:`number`,min:1,dflt:null,editType:`calc+arraydraw`},opacity:{valType:`number`,min:0,max:1,dflt:1,editType:`arraydraw`},align:{valType:`enumerated`,values:[`left`,`center`,`right`],dflt:`center`,editType:`arraydraw`},valign:{valType:`enumerated`,values:[`top`,`middle`,`bottom`],dflt:`middle`,editType:`arraydraw`},bgcolor:{valType:`color`,dflt:`rgba(0,0,0,0)`,editType:`arraydraw`},bordercolor:{valType:`color`,dflt:`rgba(0,0,0,0)`,editType:`arraydraw`},borderpad:{valType:`number`,min:0,dflt:1,editType:`calc+arraydraw`},borderwidth:{valType:`number`,min:0,dflt:1,editType:`calc+arraydraw`},showarrow:{valType:`boolean`,dflt:!0,editType:`calc+arraydraw`},arrowcolor:{valType:`color`,editType:`arraydraw`},arrowhead:{valType:`integer`,min:0,max:r.length,dflt:1,editType:`arraydraw`},startarrowhead:{valType:`integer`,min:0,max:r.length,dflt:1,editType:`arraydraw`},arrowside:{valType:`flaglist`,flags:[`end`,`start`],extras:[`none`],dflt:`end`,editType:`arraydraw`},arrowsize:{valType:`number`,min:.3,dflt:1,editType:`calc+arraydraw`},startarrowsize:{valType:`number`,min:.3,dflt:1,editType:`calc+arraydraw`},arrowwidth:{valType:`number`,min:.1,editType:`calc+arraydraw`},standoff:{valType:`number`,min:0,dflt:0,editType:`calc+arraydraw`},startstandoff:{valType:`number`,min:0,dflt:0,editType:`calc+arraydraw`},ax:{valType:`any`,editType:`calc+arraydraw`},ay:{valType:`any`,editType:`calc+arraydraw`},axref:{valType:`enumerated`,dflt:`pixel`,values:[`pixel`,a.idRegex.x.toString()],editType:`calc`},ayref:{valType:`enumerated`,dflt:`pixel`,values:[`pixel`,a.idRegex.y.toString()],editType:`calc`},xref:{valType:`enumerated`,values:[`paper`,a.idRegex.x.toString()],editType:`calc`},x:{valType:`any`,editType:`calc+arraydraw`},xanchor:{valType:`enumerated`,values:[`auto`,`left`,`center`,`right`],dflt:`auto`,editType:`calc+arraydraw`},xshift:{valType:`number`,dflt:0,editType:`calc+arraydraw`},yref:{valType:`enumerated`,values:[`paper`,a.idRegex.y.toString()],editType:`calc`},y:{valType:`any`,editType:`calc+arraydraw`},yanchor:{valType:`enumerated`,values:[`auto`,`top`,`middle`,`bottom`],dflt:`auto`,editType:`calc+arraydraw`},yshift:{valType:`number`,dflt:0,editType:`calc+arraydraw`},clicktoshow:{valType:`enumerated`,values:[!1,`onoff`,`onout`],dflt:!1,editType:`arraydraw`},xclick:{valType:`any`,editType:`arraydraw`},yclick:{valType:`any`,editType:`arraydraw`},hovertext:{valType:`string`,editType:`arraydraw`},hoverlabel:{bgcolor:{valType:`color`,editType:`arraydraw`},bordercolor:{valType:`color`,editType:`arraydraw`},font:i({editType:`arraydraw`}),editType:`arraydraw`},captureevents:{valType:`boolean`,editType:`arraydraw`},editType:`calc`,_deprecated:{ref:{valType:`string`,editType:`calc`}}})}),3749:(function(e,t,n){var r=n(71828),i=n(89298),a=n(92605).draw;e.exports=function(e){var t=e._fullLayout;if(r.filterVisible(t.annotations).length&&e._fullData.length)return r.syncOrAsync([a,o],e)};function o(e){var t=e._fullLayout;r.filterVisible(t.annotations).forEach(function(t){var n=i.getFromId(e,t.xref),r=i.getFromId(e,t.yref),a=i.getRefType(t.xref),o=i.getRefType(t.yref);t._extremes={},a===`range`&&s(t,n),o===`range`&&s(t,r)})}function s(e,t){var n=t._id,r=n.charAt(0),a=e[r],o=e[`a`+r],s=e[r+`ref`],c=e[`a`+r+`ref`],l=e[`_`+r+`padplus`],u=e[`_`+r+`padminus`],d={x:1,y:-1}[r]*e[r+`shift`],f=3*e.arrowsize*e.arrowwidth||0,p=f+d,m=f-d,h=3*e.startarrowsize*e.arrowwidth||0,g=h+d,_=h-d,v;if(c===s){var y=i.findExtremes(t,[t.r2c(a)],{ppadplus:p,ppadminus:m}),b=i.findExtremes(t,[t.r2c(o)],{ppadplus:Math.max(l,g),ppadminus:Math.max(u,_)});v={min:[y.min[0],b.min[0]],max:[y.max[0],b.max[0]]}}else g=o?g+o:g,_=o?_-o:_,v=i.findExtremes(t,[t.r2c(a)],{ppadplus:Math.max(l,p,g),ppadminus:Math.max(u,m,_)});e._extremes[n]=v}}),44317:(function(e,t,n){var r=n(71828),i=n(73972),a=n(44467).arrayEditor;e.exports={hasClickToShow:o,onClick:s};function o(e,t){var n=c(e,t);return n.on.length>0||n.explicitOff.length>0}function s(e,t){var n=c(e,t),o=n.on,s=n.off.concat(n.explicitOff),l={},u=e._fullLayout.annotations,d,f;if(o.length||s.length){for(d=0;d<o.length;d++)f=a(e.layout,`annotations`,u[o[d]]),f.modifyItem(`visible`,!0),r.extendFlat(l,f.getUpdateObj());for(d=0;d<s.length;d++)f=a(e.layout,`annotations`,u[s[d]]),f.modifyItem(`visible`,!1),r.extendFlat(l,f.getUpdateObj());return i.call(`update`,e,{},l)}}function c(e,t){var n=e._fullLayout.annotations,r=[],i=[],a=[],o=(t||[]).length,s,c,u,d,f,p,m,h;for(s=0;s<n.length;s++)if(u=n[s],d=u.clicktoshow,d){for(c=0;c<o;c++)if(f=t[c],p=f.xaxis,m=f.yaxis,p._id===u.xref&&m._id===u.yref&&p.d2r(f.x)===l(u._xclick,p)&&m.d2r(f.y)===l(u._yclick,m)){h=u.visible?d===`onout`?i:a:r,h.push(s);break}c===o&&u.visible&&d===`onout`&&i.push(s)}return{on:r,off:i,explicitOff:a}}function l(e,t){return t.type===`log`?t.l2r(e):t.d2r(e)}}),25625:(function(e,t,n){var r=n(71828),i=n(7901);e.exports=function(e,t,n,a){a(`opacity`);var o=a(`bgcolor`),s=a(`bordercolor`),c=i.opacity(s);a(`borderpad`);var l=a(`borderwidth`),u=a(`showarrow`);if(a(`text`,u?` `:n._dfltTitle.annotation),a(`textangle`),r.coerceFont(a,`font`,n.font),a(`width`),a(`align`),a(`height`)&&a(`valign`),u){var d=a(`arrowside`),f,p;d.indexOf(`end`)!==-1&&(f=a(`arrowhead`),p=a(`arrowsize`)),d.indexOf(`start`)!==-1&&(a(`startarrowhead`,f),a(`startarrowsize`,p)),a(`arrowcolor`,c?t.bordercolor:i.defaultLine),a(`arrowwidth`,(c&&l||1)*2),a(`standoff`),a(`startstandoff`)}var m=a(`hovertext`),h=n.hoverlabel||{};if(m){var g=a(`hoverlabel.bgcolor`,h.bgcolor||(i.opacity(o)?i.rgb(o):i.defaultLine)),_=a(`hoverlabel.bordercolor`,h.bordercolor||i.contrast(g));r.coerceFont(a,`hoverlabel.font`,{family:h.font.family,size:h.font.size,color:h.font.color||_})}a(`captureevents`,!!m)}}),94128:(function(e,t,n){var r=n(92770),i=n(58163);e.exports=function(e,t,n,a){t||={};var o=n===`log`&&t.type===`linear`,s=n===`linear`&&t.type===`log`;if(!(o||s))return;var c=e._fullLayout.annotations,l=t._id.charAt(0),u,d;function f(e){var n=u[e],s=null;s=o?i(n,t.range):10**n,r(s)||(s=null),a(d+e,s)}for(var p=0;p<c.length;p++)u=c[p],d=`annotations[`+p+`].`,u[l+`ref`]===t._id&&f(l),u[`a`+l+`ref`]===t._id&&f(`a`+l)}}),84046:(function(e,t,n){var r=n(71828),i=n(89298),a=n(85501),o=n(25625),s=n(50215);e.exports=function(e,t){a(e,t,{name:`annotations`,handleItemDefaults:c})};function c(e,t,n){function a(n,i){return r.coerce(e,t,s,n,i)}var c=a(`visible`),l=a(`clicktoshow`);if(c||l){o(e,t,n,a);for(var u=t.showarrow,d=[`x`,`y`],f=[-10,-30],p={_fullLayout:n},m=0;m<2;m++){var h=d[m],g=i.coerceRef(e,t,p,h,``,`paper`);if(g!==`paper`&&i.getFromId(p,g)._annIndices.push(t._index),i.coercePosition(t,p,a,g,h,.5),u){var _=`a`+h,v=i.coerceRef(e,t,p,_,`pixel`,[`pixel`,`paper`]);v!==`pixel`&&v!==g&&(v=t[_]=`pixel`);var y=v===`pixel`?f[m]:.4;i.coercePosition(t,p,a,v,_,y)}a(h+`anchor`),a(h+`shift`)}if(r.noneOrAll(e,t,[`x`,`y`]),u&&r.noneOrAll(e,t,[`ax`,`ay`]),l){var b=a(`xclick`),x=a(`yclick`);t._xclick=b===void 0?t.x:i.cleanPosition(b,p,t.xref),t._yclick=x===void 0?t.y:i.cleanPosition(x,p,t.yref)}}}}),92605:(function(e,t,n){var r=n(39898),i=n(73972),a=n(74875),o=n(71828),s=o.strTranslate,c=n(89298),l=n(7901),u=n(91424),d=n(30211),f=n(63893),p=n(6964),m=n(28569),h=n(44467).arrayEditor,g=n(13011);e.exports={draw:_,drawOne:v,drawRaw:b};function _(e){var t=e._fullLayout;t._infolayer.selectAll(`.annotation`).remove();for(var n=0;n<t.annotations.length;n++)t.annotations[n].visible&&v(e,n);return a.previousPromises(e)}function v(e,t){var n=e._fullLayout.annotations[t]||{},r=c.getFromId(e,n.xref),i=c.getFromId(e,n.yref);r&&r.setScale(),i&&i.setScale(),b(e,n,t,!1,r,i)}function y(e,t,n,r,i){var a=i[n],o=i[n+`ref`],s=n.indexOf(`y`)!==-1,l=c.getRefType(o)===`domain`,u=s?r.h:r.w;return e?l?a+(s?-t:t)/e._length:e.p2r(e.r2p(a)+t):a+(s?-t:t)/u}function b(e,t,n,a,_,v){var b=e._fullLayout,x=e._fullLayout._size,S=e._context.edits,C,w;a?(C=`annotation-`+a,w=a+`.annotations`):(C=`annotation`,w=`annotations`);var T=h(e.layout,w,t),E=T.modifyBase,D=T.modifyItem,O=T.getUpdateObj;b._infolayer.selectAll(`.`+C+`[data-index="`+n+`"]`).remove();var k=`clip`+b._uid+`_ann`+n;if(!t._input||t.visible===!1){r.selectAll(`#`+k).remove();return}var A={x:{},y:{}},j=+t.textangle||0,M=b._infolayer.append(`g`).classed(C,!0).attr(`data-index`,String(n)).style(`opacity`,t.opacity),N=M.append(`g`).classed(`annotation-text-g`,!0),P=S[t.showarrow?`annotationTail`:`annotationPosition`],F=t.captureevents||S.annotationText||P;function I(e){var r={index:n,annotation:t._input,fullAnnotation:t,event:e};return a&&(r.subplotId=a),r}var L=N.append(`g`).style(`pointer-events`,F?`all`:null).call(p,`pointer`).on(`click`,function(){e._dragging=!1,e.emit(`plotly_clickannotation`,I(r.event))});t.hovertext&&L.on(`mouseover`,function(){var n=t.hoverlabel,r=n.font,i=this.getBoundingClientRect(),a=e.getBoundingClientRect();d.loneHover({x0:i.left-a.left,x1:i.right-a.left,y:(i.top+i.bottom)/2-a.top,text:t.hovertext,color:n.bgcolor,borderColor:n.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color},{container:b._hoverlayer.node(),outerContainer:b._paper.node(),gd:e})}).on(`mouseout`,function(){d.loneUnhover(b._hoverlayer.node())});var R=t.borderwidth,z=R+t.borderpad,B=L.append(`rect`).attr(`class`,`bg`).style(`stroke-width`,R+`px`).call(l.stroke,t.bordercolor).call(l.fill,t.bgcolor),V=t.width||t.height,H=b._topclips.selectAll(`#`+k).data(V?[0]:[]);H.enter().append(`clipPath`).classed(`annclip`,!0).attr(`id`,k).append(`rect`),H.exit().remove();var U=t.font,W=b._meta?o.templateString(t.text,b._meta):t.text,G=L.append(`text`).classed(`annotation-text`,!0).text(W);function K(n){return n.call(u.font,U).attr({"text-anchor":{left:`start`,right:`end`}[t.align]||`middle`}),f.convertToTspans(n,e,ee),n}function ee(){var n=G.selectAll(`a`);n.size()===1&&n.text()===G.text()&&L.insert(`a`,`:first-child`).attr({"xlink:xlink:href":n.attr(`xlink:href`),"xlink:xlink:show":n.attr(`xlink:show`)}).style({cursor:`pointer`}).node().appendChild(B.node());var r=L.select(`.annotation-text-math-group`),d=!r.empty(),h=u.bBox((d?r:G).node()),C=h.width,w=h.height,T=t.width||C,F=t.height||w,U=Math.round(T+2*z),W=Math.round(F+2*z);function K(e,t){return t===`auto`&&(t=e<1/3?`left`:e>2/3?`right`:`center`),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[t]}for(var ee=!1,q=[`x`,`y`],J=0;J<q.length;J++){var Y=q[J],te=t[Y+`ref`]||Y,ne=t[`a`+Y+`ref`],re={x:_,y:v}[Y],ie=(j+(Y===`x`?0:-90))*Math.PI/180,ae=U*Math.cos(ie),oe=W*Math.sin(ie),se=Math.abs(ae)+Math.abs(oe),ce=t[Y+`anchor`],le=t[Y+`shift`]*(Y===`x`?1:-1),ue=A[Y],de,fe,pe,me,he,ge=c.getRefType(te);if(re&&ge!==`domain`){var _e=re.r2fraction(t[Y]);(_e<0||_e>1)&&(ne===te?(_e=re.r2fraction(t[`a`+Y]),(_e<0||_e>1)&&(ee=!0)):ee=!0),de=re._offset+re.r2p(t[Y]),me=.5}else{var ve=ge===`domain`;Y===`x`?(pe=t[Y],de=ve?re._offset+re._length*pe:de=x.l+x.w*pe):(pe=1-t[Y],de=ve?re._offset+re._length*pe:de=x.t+x.h*pe),me=t.showarrow?.5:pe}if(t.showarrow){ue.head=de;var ye=t[`a`+Y];if(he=ae*K(.5,t.xanchor)-oe*K(.5,t.yanchor),ne===te){var be=c.getRefType(ne);be===`domain`?(Y===`y`&&(ye=1-ye),ue.tail=re._offset+re._length*ye):be===`paper`?Y===`y`?(ye=1-ye,ue.tail=x.t+x.h*ye):ue.tail=x.l+x.w*ye:ue.tail=re._offset+re.r2p(ye),fe=he}else ue.tail=de+ye,fe=he+ye;ue.text=ue.tail+he;var xe=b[Y===`x`?`width`:`height`];if(te===`paper`&&(ue.head=o.constrain(ue.head,1,xe-1)),ne===`pixel`){var Se=-Math.max(ue.tail-3,ue.text),Ce=Math.min(ue.tail+3,ue.text)-xe;Se>0?(ue.tail+=Se,ue.text+=Se):Ce>0&&(ue.tail-=Ce,ue.text-=Ce)}ue.tail+=le,ue.head+=le}else he=se*K(me,ce),fe=he,ue.text=de+he;ue.text+=le,he+=le,fe+=le,t[`_`+Y+`padplus`]=se/2+fe,t[`_`+Y+`padminus`]=se/2-fe,t[`_`+Y+`size`]=se,t[`_`+Y+`shift`]=he}if(ee){L.remove();return}var we=0,Te=0;if(t.align!==`left`&&(we=(T-C)*(t.align===`center`?.5:1)),t.valign!==`top`&&(Te=(F-w)*(t.valign===`middle`?.5:1)),d)r.select(`svg`).attr({x:z+we-1,y:z+Te}).call(u.setClipUrl,V?k:null,e);else{var Ee=z+Te-h.top,X=z+we-h.left;G.call(f.positionText,X,Ee).call(u.setClipUrl,V?k:null,e)}H.select(`rect`).call(u.setRect,z,z,T,F),B.call(u.setRect,R/2,R/2,U-R,W-R),L.call(u.setTranslate,Math.round(A.x.text-U/2),Math.round(A.y.text-W/2)),N.attr({transform:`rotate(`+j+`,`+A.x.text+`,`+A.y.text+`)`});var Z=function(n,r){M.selectAll(`.annotation-arrow-g`).remove();var c=A.x.head,d=A.y.head,f=A.x.tail+n,p=A.y.tail+r,h=A.x.text+n,b=A.y.text+r,C=o.rotationXYMatrix(j,h,b),w=o.apply2DTransform(C),T=o.apply2DTransform2(C),k=+B.attr(`width`),P=+B.attr(`height`),F=h-.5*k,I=F+k,R=b-.5*P,z=R+P,V=[[F,R,F,z],[F,z,I,z],[I,z,I,R],[I,R,F,R]].map(T);if(!V.reduce(function(e,t){return e^!!o.segmentsIntersect(c,d,c+1e6,d+1e6,t[0],t[1],t[2],t[3])},!1)){V.forEach(function(e){var t=o.segmentsIntersect(f,p,c,d,e[0],e[1],e[2],e[3]);t&&(f=t.x,p=t.y)});var H=t.arrowwidth,U=t.arrowcolor,W=t.arrowside,G=M.append(`g`).style({opacity:l.opacity(U)}).classed(`annotation-arrow-g`,!0),K=G.append(`path`).attr(`d`,`M`+f+`,`+p+`L`+c+`,`+d).style(`stroke-width`,H+`px`).call(l.stroke,l.rgb(U));if(g(K,W,t),S.annotationPosition&&K.node().parentNode&&!a){var ee=c,q=d;if(t.standoff){var J=Math.sqrt((c-f)**2+(d-p)**2);ee+=t.standoff*(f-c)/J,q+=t.standoff*(p-d)/J}var Y=G.append(`path`).classed(`annotation-arrow`,!0).classed(`anndrag`,!0).classed(`cursor-move`,!0).attr({d:`M3,3H-3V-3H3ZM0,0L`+(f-ee)+`,`+(p-q),transform:s(ee,q)}).style(`stroke-width`,H+6+`px`).call(l.stroke,`rgba(0,0,0,0)`).call(l.fill,`rgba(0,0,0,0)`),te,ne;m.init({element:Y.node(),gd:e,prepFn:function(){var e=u.getTranslate(L);te=e.x,ne=e.y,_&&_.autorange&&E(_._name+`.autorange`,!0),v&&v.autorange&&E(v._name+`.autorange`,!0)},moveFn:function(e,n){var r=w(te,ne),i=r[0]+e,a=r[1]+n;L.call(u.setTranslate,i,a),D(`x`,y(_,e,`x`,x,t)),D(`y`,y(v,n,`y`,x,t)),t.axref===t.xref&&D(`ax`,y(_,e,`ax`,x,t)),t.ayref===t.yref&&D(`ay`,y(v,n,`ay`,x,t)),G.attr(`transform`,s(e,n)),N.attr({transform:`rotate(`+j+`,`+i+`,`+a+`)`})},doneFn:function(){i.call(`_guiRelayout`,e,O());var t=document.querySelector(`.js-notes-box-panel`);t&&t.redraw(t.selectedObj)}})}}};if(t.showarrow&&Z(0,0),P){var De;m.init({element:L.node(),gd:e,prepFn:function(){De=N.attr(`transform`)},moveFn:function(e,n){var r=`pointer`;if(t.showarrow)t.axref===t.xref?D(`ax`,y(_,e,`ax`,x,t)):D(`ax`,t.ax+e),t.ayref===t.yref?D(`ay`,y(v,n,`ay`,x.w,t)):D(`ay`,t.ay+n),Z(e,n);else if(a)return;else{var i,o;if(_)i=y(_,e,`x`,x,t);else{var c=t._xsize/x.w,l=t.x+(t._xshift-t.xshift)/x.w-c/2;i=m.align(l+e/x.w,c,0,1,t.xanchor)}if(v)o=y(v,n,`y`,x,t);else{var u=t._ysize/x.h,d=t.y-(t._yshift+t.yshift)/x.h-u/2;o=m.align(d-n/x.h,u,0,1,t.yanchor)}D(`x`,i),D(`y`,o),(!_||!v)&&(r=m.getCursor(_?.5:i,v?.5:o,t.xanchor,t.yanchor))}N.attr({transform:s(e,n)+De}),p(L,r)},clickFn:function(n,r){t.captureevents&&e.emit(`plotly_clickannotation`,I(r))},doneFn:function(){p(L),i.call(`_guiRelayout`,e,O());var t=document.querySelector(`.js-notes-box-panel`);t&&t.redraw(t.selectedObj)}})}}S.annotationText?G.call(f.makeEditable,{delegate:L,gd:e}).call(K).on(`edit`,function(n){t.text=n,this.call(K),D(`text`,n),_&&_.autorange&&E(_._name+`.autorange`,!0),v&&v.autorange&&E(v._name+`.autorange`,!0),i.call(`_guiRelayout`,e,O())}):G.call(K)}}),13011:(function(e,t,n){var r=n(39898),i=n(7901),a=n(82884),o=n(71828),s=o.strScale,c=o.strRotate,l=o.strTranslate;e.exports=function(e,t,n){var o=e.node(),u=a[n.arrowhead||0],d=a[n.startarrowhead||0],f=(n.arrowwidth||1)*(n.arrowsize||1),p=(n.arrowwidth||1)*(n.startarrowsize||1),m=t.indexOf(`start`)>=0,h=t.indexOf(`end`)>=0,g=u.backoff*f+n.standoff,_=d.backoff*p+n.startstandoff,v,y,b,x;if(o.nodeName===`line`){v={x:+e.attr(`x1`),y:+e.attr(`y1`)},y={x:+e.attr(`x2`),y:+e.attr(`y2`)};var S=v.x-y.x,C=v.y-y.y;if(b=Math.atan2(C,S),x=b+Math.PI,g&&_&&g+_>Math.sqrt(S*S+C*C)){F();return}if(g){if(g*g>S*S+C*C){F();return}var w=g*Math.cos(b),T=g*Math.sin(b);y.x+=w,y.y+=T,e.attr({x2:y.x,y2:y.y})}if(_){if(_*_>S*S+C*C){F();return}var E=_*Math.cos(b),D=_*Math.sin(b);v.x-=E,v.y-=D,e.attr({x1:v.x,y1:v.y})}}else if(o.nodeName===`path`){var O=o.getTotalLength(),k=``;if(O<g+_){F();return}var A=o.getPointAtLength(0),j=o.getPointAtLength(.1);b=Math.atan2(A.y-j.y,A.x-j.x),v=o.getPointAtLength(Math.min(_,O)),k=`0px,`+_+`px,`;var M=o.getPointAtLength(O),N=o.getPointAtLength(O-.1);x=Math.atan2(M.y-N.y,M.x-N.x),y=o.getPointAtLength(Math.max(0,O-g));var P=k?_+g:g;k+=O-P+`px,`+O+`px`,e.style(`stroke-dasharray`,k)}function F(){e.style(`stroke-dasharray`,`0px,100px`)}function I(t,a,u,d){t.path&&(t.noRotate&&(u=0),r.select(o.parentNode).append(`path`).attr({class:e.attr(`class`),d:t.path,transform:l(a.x,a.y)+c(u*180/Math.PI)+s(d)}).style({fill:i.rgb(n.arrowcolor),"stroke-width":0}))}m&&I(d,v,b,p),h&&I(u,y,x,f)}}),32745:(function(e,t,n){var r=n(92605),i=n(44317);e.exports={moduleType:`component`,name:`annotations`,layoutAttributes:n(50215),supplyLayoutDefaults:n(84046),includeBasePlot:n(76325)(`annotations`),calcAutorange:n(3749),draw:r.draw,drawOne:r.drawOne,drawRaw:r.drawRaw,hasClickToShow:i.hasClickToShow,onClick:i.onClick,convertCoords:n(94128)}}),26997:(function(e,t,n){var r=n(50215),i=n(30962).overrideAll,a=n(44467).templatedArray;e.exports=i(a(`annotation`,{visible:r.visible,x:{valType:`any`},y:{valType:`any`},z:{valType:`any`},ax:{valType:`number`},ay:{valType:`number`},xanchor:r.xanchor,xshift:r.xshift,yanchor:r.yanchor,yshift:r.yshift,text:r.text,textangle:r.textangle,font:r.font,width:r.width,height:r.height,opacity:r.opacity,align:r.align,valign:r.valign,bgcolor:r.bgcolor,bordercolor:r.bordercolor,borderpad:r.borderpad,borderwidth:r.borderwidth,showarrow:r.showarrow,arrowcolor:r.arrowcolor,arrowhead:r.arrowhead,startarrowhead:r.startarrowhead,arrowside:r.arrowside,arrowsize:r.arrowsize,startarrowsize:r.startarrowsize,arrowwidth:r.arrowwidth,standoff:r.standoff,startstandoff:r.startstandoff,hovertext:r.hovertext,hoverlabel:r.hoverlabel,captureevents:r.captureevents}),`calc`,`from-root`)}),5485:(function(e,t,n){var r=n(71828),i=n(89298);e.exports=function(e){for(var t=e.fullSceneLayout.annotations,n=0;n<t.length;n++)a(t[n],e);e.fullLayout._infolayer.selectAll(`.annotation-`+e.id).remove()};function a(e,t){var n=t.fullSceneLayout.domain,a=t.fullLayout._size,o={pdata:null,type:`linear`,autorange:!1,range:[-1/0,1/0]};e._xa={},r.extendFlat(e._xa,o),i.setConvert(e._xa),e._xa._offset=a.l+n.x[0]*a.w,e._xa.l2p=function(){return .5*(1+e._pdata[0]/e._pdata[3])*a.w*(n.x[1]-n.x[0])},e._ya={},r.extendFlat(e._ya,o),i.setConvert(e._ya),e._ya._offset=a.t+(1-n.y[1])*a.h,e._ya.l2p=function(){return .5*(1-e._pdata[1]/e._pdata[3])*a.h*(n.y[1]-n.y[0])}}}),20226:(function(e,t,n){var r=n(71828),i=n(89298),a=n(85501),o=n(25625),s=n(26997);e.exports=function(e,t,n){a(e,t,{name:`annotations`,handleItemDefaults:c,fullLayout:n.fullLayout})};function c(e,t,n,a){function c(n,i){return r.coerce(e,t,s,n,i)}function l(e){var r=e+`axis`,a={_fullLayout:{}};return a._fullLayout[r]=n[r],i.coercePosition(t,a,c,e,e,.5)}c(`visible`)&&(o(e,t,a.fullLayout,c),l(`x`),l(`y`),l(`z`),r.noneOrAll(e,t,[`x`,`y`,`z`]),t.xref=`x`,t.yref=`y`,t.zref=`z`,c(`xanchor`),c(`yanchor`),c(`xshift`),c(`yshift`),t.showarrow&&(t.axref=`pixel`,t.ayref=`pixel`,c(`ax`,-10),c(`ay`,-30),r.noneOrAll(e,t,[`ax`,`ay`])))}}),82188:(function(e,t,n){var r=n(92605).drawRaw,i=n(63538),a=[`x`,`y`,`z`];e.exports=function(e){for(var t=e.fullSceneLayout,n=e.dataScale,o=t.annotations,s=0;s<o.length;s++){for(var c=o[s],l=!1,u=0;u<3;u++){var d=a[u],f=c[d],p=t[d+`axis`].r2fraction(f);if(p<0||p>1){l=!0;break}}l?e.fullLayout._infolayer.select(`.annotation-`+e.id+`[data-index="`+s+`"]`).remove():(c._pdata=i(e.glplot.cameraParams,[t.xaxis.r2l(c.x)*n[0],t.yaxis.r2l(c.y)*n[1],t.zaxis.r2l(c.z)*n[2]]),r(e.graphDiv,c,s,e.id,c._xa,c._ya))}}}),2468:(function(e,t,n){var r=n(73972),i=n(71828);e.exports={moduleType:`component`,name:`annotations3d`,schema:{subplots:{scene:{annotations:n(26997)}}},layoutAttributes:n(26997),handleDefaults:n(20226),includeBasePlot:a,convert:n(5485),draw:n(82188)};function a(e,t){var n=r.subplotsRegistry.gl3d;if(n)for(var a=n.attrRegex,o=Object.keys(e),s=0;s<o.length;s++){var c=o[s];a.test(c)&&(e[c].annotations||[]).length&&(i.pushUnique(t._basePlotModules,n),i.pushUnique(t._subplots.gl3d,c))}}}),7561:(function(e,t,n){e.exports=n(63489),n(94338),n(3961),n(38751),n(86825),n(37715),n(99384),n(43805),n(88874),n(83290),n(29108),n(55422),n(94320),n(31320),n(51367),n(21457)}),72201:(function(e,t,n){var r=n(7561),i=n(71828),a=n(50606),o=a.EPOCHJD,s=a.ONEDAY,c={valType:`enumerated`,values:i.sortObjectKeys(r.calendars),editType:`calc`,dflt:`gregorian`},l=function(e,t,n,r){var a={};return a[n]=c,i.coerce(e,t,a,n,r)},u=function(e,t,n,r){for(var i=0;i<n.length;i++)l(e,t,n[i]+`calendar`,r.calendar)},d={chinese:`2000-01-01`,coptic:`2000-01-01`,discworld:`2000-01-01`,ethiopian:`2000-01-01`,hebrew:`5000-01-01`,islamic:`1000-01-01`,julian:`2000-01-01`,mayan:`5000-01-01`,nanakshahi:`1000-01-01`,nepali:`2000-01-01`,persian:`1000-01-01`,jalali:`1000-01-01`,taiwan:`1000-01-01`,thai:`2000-01-01`,ummalqura:`1400-01-01`},f={chinese:`2000-01-02`,coptic:`2000-01-03`,discworld:`2000-01-03`,ethiopian:`2000-01-05`,hebrew:`5000-01-01`,islamic:`1000-01-02`,julian:`2000-01-03`,mayan:`5000-01-01`,nanakshahi:`1000-01-05`,nepali:`2000-01-05`,persian:`1000-01-01`,jalali:`1000-01-01`,taiwan:`1000-01-04`,thai:`2000-01-04`,ummalqura:`1400-01-06`},p={chinese:[`2000-01-01`,`2001-01-01`],coptic:[`1700-01-01`,`1701-01-01`],discworld:[`1800-01-01`,`1801-01-01`],ethiopian:[`2000-01-01`,`2001-01-01`],hebrew:[`5700-01-01`,`5701-01-01`],islamic:[`1400-01-01`,`1401-01-01`],julian:[`2000-01-01`,`2001-01-01`],mayan:[`5200-01-01`,`5201-01-01`],nanakshahi:[`0500-01-01`,`0501-01-01`],nepali:[`2000-01-01`,`2001-01-01`],persian:[`1400-01-01`,`1401-01-01`],jalali:[`1400-01-01`,`1401-01-01`],taiwan:[`0100-01-01`,`0101-01-01`],thai:[`2500-01-01`,`2501-01-01`],ummalqura:[`1400-01-01`,`1401-01-01`]},m=`##`,h={d:{0:`dd`,"-":`d`},e:{0:`d`,"-":`d`},a:{0:`D`,"-":`D`},A:{0:`DD`,"-":`DD`},j:{0:`oo`,"-":`o`},W:{0:`ww`,"-":`w`},m:{0:`mm`,"-":`m`},b:{0:`M`,"-":`M`},B:{0:`MM`,"-":`MM`},y:{0:`yy`,"-":`yy`},Y:{0:`yyyy`,"-":`yyyy`},U:m,w:m,c:{0:`D M d %X yyyy`,"-":`D M d %X yyyy`},x:{0:`mm/dd/yyyy`,"-":`mm/dd/yyyy`}};function g(e,t,n){for(var r=Math.floor((t+.05)/s)+o,i=v(n).fromJD(r),a=0,c,l,u,d,f;(a=e.indexOf(`%`,a))!==-1;)c=e.charAt(a+1),c===`0`||c===`-`||c===`_`?(u=3,l=e.charAt(a+2),c===`_`&&(c=`-`)):(l=c,c=`0`,u=2),d=h[l],d?(f=d===m?m:i.formatDate(d[c]),e=e.substr(0,a)+f+e.substr(a+u),a+=f.length):a+=u;return e}var _={};function v(e){var t=_[e];return t||(t=_[e]=r.instance(e),t)}function y(e){return i.extendFlat({},c,{description:e})}function b(e){return"Sets the calendar system to use with `"+e+"` date data."}var x={xcalendar:y(b(`x`))},S=i.extendFlat({},x,{ycalendar:y(b(`y`))}),C=i.extendFlat({},S,{zcalendar:y(b(`z`))}),w=y(["Sets the calendar system to use for `range` and `tick0`",`if this is a date axis. This does not set the calendar for`,`interpreting data on this axis, that's specified in the trace`,"or via the global `layout.calendar`"].join(` `));e.exports={moduleType:`component`,name:`calendars`,schema:{traces:{scatter:S,bar:S,box:S,heatmap:S,contour:S,histogram:S,histogram2d:S,histogram2dcontour:S,scatter3d:C,surface:C,mesh3d:C,scattergl:S,ohlc:x,candlestick:x},layout:{calendar:y([`Sets the default calendar system to use for interpreting and`,`displaying dates throughout the plot.`].join(` `))},subplots:{xaxis:{calendar:w},yaxis:{calendar:w},scene:{xaxis:{calendar:w},yaxis:{calendar:w},zaxis:{calendar:w}},polar:{radialaxis:{calendar:w}}},transforms:{filter:{valuecalendar:y([`WARNING: All transforms are deprecated and may be removed from the API in next major version.`,"Sets the calendar system to use for `value`, if it is a date."].join(` `)),targetcalendar:y([`WARNING: All transforms are deprecated and may be removed from the API in next major version.`,"Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(` `))}}},layoutAttributes:c,handleDefaults:l,handleTraceDefaults:u,CANONICAL_SUNDAY:f,CANONICAL_TICK:d,DFLTRANGE:p,getCal:v,worldCalFmt:g}}),22399:(function(e,t){t.defaults=[`#1f77b4`,`#ff7f0e`,`#2ca02c`,`#d62728`,`#9467bd`,`#8c564b`,`#e377c2`,`#7f7f7f`,`#bcbd22`,`#17becf`],t.defaultLine=`#444`,t.lightLine=`#eee`,t.background=`#fff`,t.borderLine=`#BEC8D9`,t.lightFraction=1e3/11}),7901:(function(e,t,n){var r=n(84267),i=n(92770),a=n(73627).isTypedArray,o=e.exports={},s=n(22399);o.defaults=s.defaults;var c=o.defaultLine=s.defaultLine;o.lightLine=s.lightLine;var l=o.background=s.background;o.tinyRGB=function(e){var t=e.toRgb();return`rgb(`+Math.round(t.r)+`, `+Math.round(t.g)+`, `+Math.round(t.b)+`)`},o.rgb=function(e){return o.tinyRGB(r(e))},o.opacity=function(e){return e?r(e).getAlpha():0},o.addOpacity=function(e,t){var n=r(e).toRgb();return`rgba(`+Math.round(n.r)+`, `+Math.round(n.g)+`, `+Math.round(n.b)+`, `+t+`)`},o.combine=function(e,t){var n=r(e).toRgb();if(n.a===1)return r(e).toRgbString();var i=r(t||l).toRgb(),a=i.a===1?i:{r:255*(1-i.a)+i.r*i.a,g:255*(1-i.a)+i.g*i.a,b:255*(1-i.a)+i.b*i.a};return r({r:a.r*(1-n.a)+n.r*n.a,g:a.g*(1-n.a)+n.g*n.a,b:a.b*(1-n.a)+n.b*n.a}).toRgbString()},o.contrast=function(e,t,n){var i=r(e);return i.getAlpha()!==1&&(i=r(o.combine(e,l))),(i.isDark()?t?i.lighten(t):l:n?i.darken(n):c).toString()},o.stroke=function(e,t){var n=r(t);e.style({stroke:o.tinyRGB(n),"stroke-opacity":n.getAlpha()})},o.fill=function(e,t){var n=r(t);e.style({fill:o.tinyRGB(n),"fill-opacity":n.getAlpha()})},o.clean=function(e){if(!(!e||typeof e!=`object`)){var t=Object.keys(e),n,r,i,s;for(n=0;n<t.length;n++)if(i=t[n],s=e[i],i.substr(i.length-5)===`color`)if(Array.isArray(s))for(r=0;r<s.length;r++)s[r]=u(s[r]);else e[i]=u(s);else if(i.substr(i.length-10)===`colorscale`&&Array.isArray(s))for(r=0;r<s.length;r++)Array.isArray(s[r])&&(s[r][1]=u(s[r][1]));else if(Array.isArray(s)){var c=s[0];if(!Array.isArray(c)&&c&&typeof c==`object`)for(r=0;r<s.length;r++)o.clean(s[r])}else s&&typeof s==`object`&&!a(s)&&o.clean(s)}};function u(e){if(i(e)||typeof e!=`string`)return e;var t=e.trim();if(t.substr(0,3)!==`rgb`)return e;var n=t.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return e;var r=n[1].trim().split(/\s*[\s,]\s*/),a=t.charAt(3)===`a`&&r.length===4;if(!a&&r.length!==3)return e;for(var o=0;o<r.length;o++){if(!r[o].length||(r[o]=Number(r[o]),!(r[o]>=0)))return e;if(o===3)r[o]>1&&(r[o]=1);else if(r[o]>=1)return e}var s=Math.round(r[0]*255)+`, `+Math.round(r[1]*255)+`, `+Math.round(r[2]*255);return a?`rgba(`+s+`, `+r[3]+`)`:`rgb(`+s+`)`}}),63583:(function(e,t,n){var r=n(13838),i=n(41940),a=n(1426).extendFlat,o=n(30962).overrideAll;e.exports=o({orientation:{valType:`enumerated`,values:[`h`,`v`],dflt:`v`},thicknessmode:{valType:`enumerated`,values:[`fraction`,`pixels`],dflt:`pixels`},thickness:{valType:`number`,min:0,dflt:30},lenmode:{valType:`enumerated`,values:[`fraction`,`pixels`],dflt:`fraction`},len:{valType:`number`,min:0,dflt:1},x:{valType:`number`,min:-2,max:3},xanchor:{valType:`enumerated`,values:[`left`,`center`,`right`]},xpad:{valType:`number`,min:0,dflt:10},y:{valType:`number`,min:-2,max:3},yanchor:{valType:`enumerated`,values:[`top`,`middle`,`bottom`]},ypad:{valType:`number`,min:0,dflt:10},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:`number`,min:0,dflt:0},bgcolor:{valType:`color`,dflt:`rgba(0,0,0,0)`},tickmode:r.minor.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:a({},r.ticks,{dflt:``}),ticklabeloverflow:a({},r.ticklabeloverflow,{}),ticklabelposition:{valType:`enumerated`,values:[`outside`,`inside`,`outside top`,`inside top`,`outside left`,`inside left`,`outside right`,`inside right`,`outside bottom`,`inside bottom`],dflt:`outside`},ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,ticklabelstep:r.ticklabelstep,showticklabels:r.showticklabels,labelalias:r.labelalias,tickfont:i({}),tickangle:r.tickangle,tickformat:r.tickformat,tickformatstops:r.tickformatstops,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,minexponent:r.minexponent,showexponent:r.showexponent,title:{text:{valType:`string`},font:i({}),side:{valType:`enumerated`,values:[`right`,`top`,`bottom`]}},_deprecated:{title:{valType:`string`},titlefont:i({}),titleside:{valType:`enumerated`,values:[`right`,`top`,`bottom`],dflt:`top`}}},`colorbars`,`from-root`)}),30939:(function(e){e.exports={cn:{colorbar:`colorbar`,cbbg:`cbbg`,cbfill:`cbfill`,cbfills:`cbfills`,cbline:`cbline`,cblines:`cblines`,cbaxis:`cbaxis`,cbtitleunshift:`cbtitleunshift`,cbtitle:`cbtitle`,cboutline:`cboutline`,crisp:`crisp`,jsPlaceholder:`js-placeholder`}}}),62499:(function(e,t,n){var r=n(71828),i=n(44467),a=n(26218),o=n(38701),s=n(96115),c=n(89426),l=n(63583);e.exports=function(e,t,n){var u=i.newContainer(t,`colorbar`),d=e.colorbar||{};function f(e,t){return r.coerce(d,u,l,e,t)}var p=n.margin||{t:0,b:0,l:0,r:0},m=n.width-p.l-p.r,h=n.height-p.t-p.b,g=f(`orientation`)===`v`;f(`thickness`,f(`thicknessmode`)===`fraction`?30/(g?m:h):30),f(`len`,f(`lenmode`)===`fraction`?1:g?h:m),f(`x`,g?1.02:.5),f(`xanchor`,g?`left`:`center`),f(`xpad`),f(`y`,g?.5:1.02),f(`yanchor`,g?`middle`:`bottom`),f(`ypad`),r.noneOrAll(d,u,[`x`,`y`]),f(`outlinecolor`),f(`outlinewidth`),f(`bordercolor`),f(`borderwidth`),f(`bgcolor`);var _=r.coerce(d,u,{ticklabelposition:{valType:`enumerated`,dflt:`outside`,values:g?[`outside`,`inside`,`outside top`,`inside top`,`outside bottom`,`inside bottom`]:[`outside`,`inside`,`outside left`,`inside left`,`outside right`,`inside right`]}},`ticklabelposition`);f(`ticklabeloverflow`,_.indexOf(`inside`)===-1?`hide past div`:`hide past domain`),a(d,u,f,`linear`);var v=n.font,y={outerTicks:!1,font:v};_.indexOf(`inside`)!==-1&&(y.bgColor=`black`),c(d,u,f,`linear`,y),s(d,u,f,`linear`,y),o(d,u,f,`linear`,y),f(`title.text`,n._dfltTitle.colorbar);var b=u.tickfont,x=r.extendFlat({},b,{color:v.color,size:r.bigFont(b.size)});r.coerceFont(f,`title.font`,x),f(`title.side`,g?`top`:`right`)}}),98981:(function(e,t,n){var r=n(39898),i=n(84267),a=n(74875),o=n(73972),s=n(89298),c=n(28569),l=n(71828),u=l.strTranslate,d=n(1426).extendFlat,f=n(6964),p=n(91424),m=n(7901),h=n(92998),g=n(63893),_=n(52075).flipScale,v=n(71453),y=n(52830),b=n(13838),x=n(18783),S=x.LINE_SPACING,C=x.FROM_TL,w=x.FROM_BR,T=n(30939).cn;function E(e){var t=e._fullLayout._infolayer.selectAll(`g.`+T.colorbar).data(D(e),function(e){return e._id});t.enter().append(`g`).attr(`class`,function(e){return e._id}).classed(T.colorbar,!0),t.each(function(t){var n=r.select(this);l.ensureSingle(n,`rect`,T.cbbg),l.ensureSingle(n,`g`,T.cbfills),l.ensureSingle(n,`g`,T.cblines),l.ensureSingle(n,`g`,T.cbaxis,function(e){e.classed(T.crisp,!0)}),l.ensureSingle(n,`g`,T.cbtitleunshift,function(e){e.append(`g`).classed(T.cbtitle,!0)}),l.ensureSingle(n,`rect`,T.cboutline);var i=O(n,t,e);i&&i.then&&(e._promises||[]).push(i),e._context.edits.colorbarPosition&&k(n,t,e)}),t.exit().each(function(t){a.autoMargin(e,t._id)}).remove(),t.order()}function D(e){var t=e._fullLayout,n=e.calcdata,r=[],i,a,o,s;function c(e){return d(e,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function l(){typeof s.calc==`function`?s.calc(e,o,i):(i._fillgradient=a.reversescale?_(a.colorscale):a.colorscale,i._zrange=[a[s.min],a[s.max]])}for(var u=0;u<n.length;u++){o=n[u][0].trace;var f=o._module.colorbar;if(o.visible===!0&&f)for(var p=Array.isArray(f),m=p?f:[f],h=0;h<m.length;h++){s=m[h];var g=s.container;a=g?o[g]:o,a&&a.showscale&&(i=c(a.colorbar),i._id=`cb`+o.uid+(p&&g?`-`+g:``),i._traceIndex=o.index,i._propPrefix=(g?g+`.`:``)+`colorbar.`,i._meta=o._meta,l(),r.push(i))}}for(var v in t._colorAxes)if(a=t[v],a.showscale){var y=t._colorAxes[v];i=c(a.colorbar),i._id=`cb`+v,i._propPrefix=v+`.colorbar.`,i._meta=t._meta,s={min:`cmin`,max:`cmax`},y[0]!==`heatmap`&&(o=y[1],s.calc=o._module.colorbar.calc),l(),r.push(i)}return r}function O(e,t,n){var o=t.orientation===`v`,c=t.len,f=t.lenmode,_=t.thickness,v=t.thicknessmode,y=t.outlinewidth,b=t.borderwidth,x=t.bgcolor,E=t.xanchor,D=t.yanchor,O=t.xpad,k=t.ypad,M=t.x,N=o?t.y:1-t.y,P=n._fullLayout,F=P._size,I=t._fillcolor,L=t._line,R=t.title,z=R.side,B=t._zrange||r.extent((typeof I==`function`?I:L.color).domain()),V=typeof L.color==`function`?L.color:function(){return L.color},H=typeof I==`function`?I:function(){return I},U=t._levels,W=A(n,t,B),G=W.fill,K=W.line,ee=Math.round(_*(v===`fraction`?o?F.w:F.h:1)),q=ee/(o?F.w:F.h),J=Math.round(c*(f===`fraction`?o?F.h:F.w:1)),Y=J/(o?F.h:F.w),te=Math.round(o?M*F.w+O:N*F.h+k),ne={center:.5,right:1}[E]||0,re={top:1,middle:.5}[D]||0,ie=o?M-ne*q:N-re*q,ae=o?N-re*Y:M-ne*Y,oe=Math.round(o?F.h*(1-ae):F.w*ae);t._lenFrac=Y,t._thickFrac=q,t._uFrac=ie,t._vFrac=ae;var se=t._axis=j(n,t,B);se.position=q+(o?M+O/F.w:N+k/F.h);var ce=[`top`,`bottom`].indexOf(z)!==-1;if(o&&ce&&(se.title.side=z,se.titlex=M+O/F.w,se.titley=ae+(R.side===`top`?Y-k/F.h:k/F.h)),!o&&!ce&&(se.title.side=z,se.titley=N+k/F.h,se.titlex=ae+O/F.w),L.color&&t.tickmode===`auto`){se.tickmode=`linear`,se.tick0=U.start;var le=U.size,ue=l.constrain(J/50,4,15)+1,de=(B[1]-B[0])/((t.nticks||ue)*le);if(de>1){var fe=10**Math.floor(Math.log(de)/Math.LN10);le*=fe*l.roundUp(de/fe,[2,5,10]),(Math.abs(U.start)/U.size+1e-6)%1<2e-6&&(se.tick0=0)}se.dtick=le}se.domain=o?[ae+k/F.h,ae+Y-k/F.h]:[ae+O/F.w,ae+Y-O/F.w],se.setScale(),e.attr(`transform`,u(Math.round(F.l),Math.round(F.t)));var pe=e.select(`.`+T.cbtitleunshift).attr(`transform`,u(-Math.round(F.l),-Math.round(F.t))),me=se.ticklabelposition,he=se.title.font.size,ge=e.select(`.`+T.cbaxis),_e,ve=0,ye=0;function be(r,i){var a={propContainer:se,propName:t._propPrefix+`title`,traceIndex:t._traceIndex,_meta:t._meta,placeholder:P._dfltTitle.colorbar,containerGroup:e.select(`.`+T.cbtitle)},o=r.charAt(0)===`h`?r.substr(1):`h`+r;e.selectAll(`.`+o+`,.`+o+`-math-group`).remove(),h.draw(n,r,d(a,i||{}))}function xe(){if(o&&ce||!o&&!ce){var e,t;z===`top`&&(e=O+F.l+F.w*M,t=k+F.t+F.h*(1-ae-Y)+3+he*.75),z===`bottom`&&(e=O+F.l+F.w*M,t=k+F.t+F.h*(1-ae)-3-he*.25),z===`right`&&(t=k+F.t+F.h*N+3+he*.75,e=O+F.l+F.w*ae),be(se._id+`title`,{attributes:{x:e,y:t,"text-anchor":o?`start`:`middle`}})}}function Se(){if(o&&!ce||!o&&ce){var e=se.position||0,i=se._offset+se._length/2,a,s;if(z===`right`)s=i,a=F.l+F.w*e+10+he*(se.showticklabels?1:.5);else if(a=i,z===`bottom`&&(s=F.t+F.h*e+10+(me.indexOf(`inside`)===-1?se.tickfont.size:0)+(se.ticks===`intside`?0:t.ticklen||0)),z===`top`){var c=R.text.split(`<br>`).length;s=F.t+F.h*e+10-ee-S*he*c}be((o?`h`:`v`)+se._id+`title`,{avoid:{selection:r.select(n).selectAll(`g.`+se._id+`tick`),side:z,offsetTop:o?0:F.t,offsetLeft:o?F.l:0,maxShift:o?P.width:P.height},attributes:{x:a,y:s,"text-anchor":`middle`},transform:{rotate:o?-90:0,offset:0}})}}function Ce(){if(!o&&!ce||o&&ce){var a=e.select(`.`+T.cbtitle),c=a.select(`text`),d=[-y/2,y/2],f=a.select(`.h`+se._id+`title-math-group`).node(),m=15.6;c.node()&&(m=parseInt(c.node().style.fontSize,10)*S);var h;if(f?(h=p.bBox(f),ye=h.width,ve=h.height,ve>m&&(d[1]-=(ve-m)/2)):c.node()&&!c.classed(T.jsPlaceholder)&&(h=p.bBox(c.node()),ye=h.width,ve=h.height),o){if(ve){if(ve+=5,z===`top`)se.domain[1]-=ve/F.h,d[1]*=-1;else{se.domain[0]+=ve/F.h;var _=g.lineCount(c);d[1]+=(1-_)*m}a.attr(`transform`,u(d[0],d[1])),se.setScale()}}else ye&&(z===`right`&&(se.domain[0]+=(ye+he/2)/F.w),a.attr(`transform`,u(d[0],d[1])),se.setScale())}e.selectAll(`.`+T.cbfills+`,.`+T.cblines).attr(`transform`,o?u(0,Math.round(F.h*(1-se.domain[1]))):u(Math.round(F.w*se.domain[0]),0)),ge.attr(`transform`,o?u(0,Math.round(-F.t)):u(Math.round(-F.l),0));var v=e.select(`.`+T.cbfills).selectAll(`rect.`+T.cbfill).attr(`style`,``).data(G);v.enter().append(`rect`).classed(T.cbfill,!0).style(`stroke`,`none`),v.exit().remove();var b=B.map(se.c2p).map(Math.round).sort(function(e,t){return e-t});v.each(function(e,a){var s=[a===0?B[0]:(G[a]+G[a-1])/2,a===G.length-1?B[1]:(G[a]+G[a+1])/2].map(se.c2p).map(Math.round);o&&(s[1]=l.constrain(s[1]+(s[1]>s[0])?1:-1,b[0],b[1]));var c=r.select(this).attr(o?`x`:`y`,te).attr(o?`y`:`x`,r.min(s)).attr(o?`width`:`height`,Math.max(ee,2)).attr(o?`height`:`width`,Math.max(r.max(s)-r.min(s),2));if(t._fillgradient)p.gradient(c,n,t._id,o?`vertical`:`horizontalreversed`,t._fillgradient,`fill`);else{var u=H(e).replace(`e-`,``);c.attr(`fill`,i(u).toHexString())}});var x=e.select(`.`+T.cblines).selectAll(`path.`+T.cbline).data(L.color&&L.width?K:[]);x.enter().append(`path`).classed(T.cbline,!0),x.exit().remove(),x.each(function(e){var t=te,n=Math.round(se.c2p(e))+L.width/2%1;r.select(this).attr(`d`,`M`+(o?t+`,`+n:n+`,`+t)+(o?`h`:`v`)+ee).call(p.lineGroupStyle,L.width,V(e),L.dash)}),ge.selectAll(`g.`+se._id+`tick,path`).remove();var C=te+ee+(y||0)/2-(t.ticks===`outside`?1:0),w=s.calcTicks(se),E=s.getTickSigns(se)[2];return s.drawTicks(n,se,{vals:se.ticks===`inside`?s.clipEnds(se,w):w,layer:ge,path:s.makeTickPath(se,C,E),transFn:s.makeTransTickFn(se)}),s.drawLabels(n,se,{vals:w,layer:ge,transFn:s.makeTransTickLabelFn(se),labelFns:s.makeLabelFns(se,C)})}function we(){var r,s=ee+y/2;me.indexOf(`inside`)===-1&&(r=p.bBox(ge.node()),s+=o?r.width:r.height),_e=pe.select(`text`);var l=0,d=o&&z===`top`,h=!o&&z===`right`,g=0;if(_e.node()&&!_e.classed(T.jsPlaceholder)){var S,A=pe.select(`.h`+se._id+`title-math-group`).node();A&&(o&&ce||!o&&!ce)?(r=p.bBox(A),l=r.width,S=r.height):(r=p.bBox(pe.node()),l=r.right-F.l-(o?te:oe),S=r.bottom-F.t-(o?oe:te),!o&&z===`top`&&(s+=r.height,g=r.height)),h&&(_e.attr(`transform`,u(l/2+he/2,0)),l*=2),s=Math.max(s,o?l:S)}var j=(o?O:k)*2+s+b+y/2,I=0;!o&&R.text&&D===`bottom`&&N<=0&&(I=j/2,j+=I,g+=I),P._hColorbarMoveTitle=I,P._hColorbarMoveCBTitle=g;var L=b+y;e.select(`.`+T.cbbg).attr(`x`,(o?te:oe)-L/2-(o?O:0)).attr(`y`,(o?oe:te)-(o?J:k+g-I)).attr(o?`width`:`height`,Math.max(j-I,2)).attr(o?`height`:`width`,Math.max(J+L,2)).call(m.fill,x).call(m.stroke,t.bordercolor).style(`stroke-width`,b);var B=h?Math.max(l-10,0):0;if(e.selectAll(`.`+T.cboutline).attr(`x`,(o?te:oe+O)+B).attr(`y`,(o?oe+k-J:te)+(d?ve:0)).attr(o?`width`:`height`,Math.max(ee,2)).attr(o?`height`:`width`,Math.max(J-(o?2*k+ve:2*O+B),2)).call(m.stroke,t.outlinecolor).style({fill:`none`,"stroke-width":y}),e.attr(`transform`,u(F.l-(o?ne*j:0),F.t-(o?0:(1-re)*j-g))),!o&&(b||i(x).getAlpha()&&!i.equals(P.paper_bgcolor,x))){var V=ge.selectAll(`text`),H=V[0].length,U=e.select(`.`+T.cbbg).node(),W=p.bBox(U),G=p.getTranslate(e),K=2;V.each(function(e,t){var n=0,r=H-1;if(t===n||t===r){var i=p.bBox(this),a=p.getTranslate(this),o;if(t===r){var s=i.right+a.x;o=W.right+G.x+oe-b-K+M-s,o>0&&(o=0)}else if(t===n){var c=i.left+a.x;o=W.left+G.x+oe+b+K-c,o<0&&(o=0)}o&&(H<3?this.setAttribute(`transform`,`translate(`+o+`,0) `+this.getAttribute(`transform`)):this.setAttribute(`visibility`,`hidden`))}})}var q={},Y=C[E],ie=w[E],ae=C[D],le=w[D],ue=j-ee;o?(f===`pixels`?(q.y=N,q.t=J*ae,q.b=J*le):(q.t=q.b=0,q.yt=N+c*ae,q.yb=N-c*le),v===`pixels`?(q.x=M,q.l=j*Y,q.r=j*ie):(q.l=ue*Y,q.r=ue*ie,q.xl=M-_*Y,q.xr=M+_*ie)):(f===`pixels`?(q.x=M,q.l=J*Y,q.r=J*ie):(q.l=q.r=0,q.xl=M+c*Y,q.xr=M-c*ie),v===`pixels`?(q.y=1-N,q.t=j*ae,q.b=j*le):(q.t=ue*ae,q.b=ue*le,q.yt=N-_*ae,q.yb=N+_*le)),a.autoMargin(n,t._id,q)}return l.syncOrAsync([a.previousPromises,xe,Ce,Se,a.previousPromises,we],n)}function k(e,t,n){var r=t.orientation===`v`,i=n._fullLayout._size,a,s,l;c.init({element:e.node(),gd:n,prepFn:function(){a=e.attr(`transform`),f(e)},moveFn:function(n,o){e.attr(`transform`,a+u(n,o)),s=c.align((r?t._uFrac:t._vFrac)+n/i.w,r?t._thickFrac:t._lenFrac,0,1,t.xanchor),l=c.align((r?t._vFrac:1-t._uFrac)-o/i.h,r?t._lenFrac:t._thickFrac,0,1,t.yanchor),f(e,c.getCursor(s,l,t.xanchor,t.yanchor))},doneFn:function(){if(f(e),s!==void 0&&l!==void 0){var r={};r[t._propPrefix+`x`]=s,r[t._propPrefix+`y`]=l,t._traceIndex===void 0?o.call(`_guiRelayout`,n,r):o.call(`_guiRestyle`,n,r,t._traceIndex)}}})}function A(e,t,n){var r=t._levels,i=[],a=[],o,s,c=r.end+r.size/100,l=r.size,u=1.001*n[0]-.001*n[1],d=1.001*n[1]-.001*n[0];for(s=0;s<1e5&&(o=r.start+s*l,!(l>0?o>=c:o<=c));s++)o>u&&o<d&&i.push(o);if(t._fillgradient)a=[0];else if(typeof t._fillcolor==`function`){var f=t._filllevels;if(f)for(c=f.end+f.size/100,l=f.size,s=0;s<1e5&&(o=f.start+s*l,!(l>0?o>=c:o<=c));s++)o>n[0]&&o<n[1]&&a.push(o);else a=i.map(function(e){return e-r.size/2}),a.push(a[a.length-1]+r.size)}else t._fillcolor&&typeof t._fillcolor==`string`&&(a=[0]);return r.size<0&&(i.reverse(),a.reverse()),{line:i,fill:a}}function j(e,t,n){var r=e._fullLayout,i=t.orientation===`v`,a={type:`linear`,range:n,tickmode:t.tickmode,nticks:t.nticks,tick0:t.tick0,dtick:t.dtick,tickvals:t.tickvals,ticktext:t.ticktext,ticks:t.ticks,ticklen:t.ticklen,tickwidth:t.tickwidth,tickcolor:t.tickcolor,showticklabels:t.showticklabels,labelalias:t.labelalias,ticklabelposition:t.ticklabelposition,ticklabeloverflow:t.ticklabeloverflow,ticklabelstep:t.ticklabelstep,tickfont:t.tickfont,tickangle:t.tickangle,tickformat:t.tickformat,exponentformat:t.exponentformat,minexponent:t.minexponent,separatethousands:t.separatethousands,showexponent:t.showexponent,showtickprefix:t.showtickprefix,tickprefix:t.tickprefix,showticksuffix:t.showticksuffix,ticksuffix:t.ticksuffix,title:t.title,showline:!0,anchor:`free`,side:i?`right`:`bottom`,position:1},o=i?`y`:`x`,s={type:`linear`,_id:o+t._id},c={letter:o,font:r.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:r.calendar};function u(e,t){return l.coerce(a,s,b,e,t)}return v(a,s,u,c,r),y(a,s,u,c),s}e.exports={draw:E}}),76228:(function(e,t,n){var r=n(71828);e.exports=function(e){return r.isPlainObject(e.colorbar)}}),12311:(function(e,t,n){e.exports={moduleType:`component`,name:`colorbar`,attributes:n(63583),supplyDefaults:n(62499),draw:n(98981).draw,hasColorbar:n(76228)}}),50693:(function(e,t,n){var r=n(63583),i=n(30587).counter,a=n(78607),o=n(63282).scales;a(o);function s(e){return"`"+e+"`"}e.exports=function(e,t){e||=``,t||={};var n=t.cLetter||`c`,a=`onlyIfNumerical`in t?t.onlyIfNumerical:!!e,c=`noScale`in t?t.noScale:e===`marker.line`,l=`showScaleDflt`in t?t.showScaleDflt:n===`z`,u=typeof t.colorscaleDflt==`string`?o[t.colorscaleDflt]:null,d=t.editTypeOverride||``,f=e?e+`.`:``,p,m;`colorAttr`in t?(p=t.colorAttr,m=t.colorAttr):(p={z:`z`,c:`color`}[n],m=`in `+s(f+p)),a&&``+m;var h=n+`auto`,g=n+`min`,_=n+`max`,v=n+`mid`;s(f+h);var y=s(f+g),b=s(f+_);y+``+b;var x={};x[g]=x[_]=void 0;var S={};S[h]=!1;var C={};return p===`color`&&(C.color={valType:`color`,arrayOk:!0,editType:d||`style`},t.anim&&(C.color.anim=!0)),C[h]={valType:`boolean`,dflt:!0,editType:`calc`,impliedEdits:x},C[g]={valType:`number`,dflt:null,editType:d||`plot`,impliedEdits:S},C[_]={valType:`number`,dflt:null,editType:d||`plot`,impliedEdits:S},C[v]={valType:`number`,dflt:null,editType:`calc`,impliedEdits:x},C.colorscale={valType:`colorscale`,editType:`calc`,dflt:u,impliedEdits:{autocolorscale:!1}},C.autocolorscale={valType:`boolean`,dflt:t.autoColorDflt!==!1,editType:`calc`,impliedEdits:{colorscale:void 0}},C.reversescale={valType:`boolean`,dflt:!1,editType:`plot`},c||(C.showscale={valType:`boolean`,dflt:l,editType:`calc`},C.colorbar=r),t.noColorAxis||(C.coloraxis={valType:`subplotid`,regex:i(`coloraxis`),dflt:null,editType:`calc`}),C}}),78803:(function(e,t,n){var r=n(92770),i=n(71828),a=n(52075).extractOpts;e.exports=function(e,t,n){var o=e._fullLayout,s=n.vals,c=n.containerStr,l=c?i.nestedProperty(t,c).get():t,u=a(l),d=u.auto!==!1,f=u.min,p=u.max,m=u.mid,h=function(){return i.aggNums(Math.min,null,s)},g=function(){return i.aggNums(Math.max,null,s)};if(f===void 0?f=h():d&&(f=l._colorAx&&r(f)?Math.min(f,h()):h()),p===void 0?p=g():d&&(p=l._colorAx&&r(p)?Math.max(p,g()):g()),d&&m!==void 0&&(p-m>m-f?f=m-(p-m):p-m<m-f&&(p=m+(m-f))),f===p&&(f-=.5,p+=.5),u._sync(`min`,f),u._sync(`max`,p),u.autocolorscale){var _=f*p<0?o.colorscale.diverging:f>=0?o.colorscale.sequential:o.colorscale.sequentialminus;u._sync(`colorscale`,_)}}}),33046:(function(e,t,n){var r=n(71828),i=n(52075).hasColorscale,a=n(52075).extractOpts;e.exports=function(e,t){function n(e,t){var n=e[`_`+t];n!==void 0&&(e[t]=n)}function o(e,i){var o=i.container?r.nestedProperty(e,i.container).get():e;if(o)if(o.coloraxis)o._colorAx=t[o.coloraxis];else{var s=a(o),c=s.auto;(c||s.min===void 0)&&n(o,i.min),(c||s.max===void 0)&&n(o,i.max),s.autocolorscale&&n(o,`colorscale`)}}for(var s=0;s<e.length;s++){var c=e[s],l=c._module.colorbar;if(l)if(Array.isArray(l))for(var u=0;u<l.length;u++)o(c,l[u]);else o(c,l);i(c,`marker.line`)&&o(c,{container:`marker.line`,min:`cmin`,max:`cmax`})}for(var d in t._colorAxes)o(t[d],{min:`cmin`,max:`cmax`})}}),1586:(function(e,t,n){var r=n(92770),i=n(71828),a=n(76228),o=n(62499),s=n(63282).isValid,c=n(73972).traceIs;function l(e,t){var n=t.slice(0,t.length-1);return t?i.nestedProperty(e,n).get()||{}:e}e.exports=function e(t,n,u,d,f){var p=f.prefix,m=f.cLetter,h=`_module`in n,g=l(t,p),_=l(n,p),v=l(n._template||{},p)||{},y=function(){return delete t.coloraxis,delete n.coloraxis,e(t,n,u,d,f)};if(h){var b=u._colorAxes||{},x=d(p+`coloraxis`);if(x){var S=c(n,`contour`)&&i.nestedProperty(n,`contours.coloring`).get()||`heatmap`,C=b[x];C?(C[2].push(y),C[0]!==S&&(C[0]=!1,i.warn([`Ignoring coloraxis:`,x,`setting`,`as it is linked to incompatible colorscales.`].join(` `)))):b[x]=[S,n,[y]];return}}var w=g[m+`min`],T=g[m+`max`],E=r(w)&&r(T)&&w<T;d(p+m+`auto`,!E)?d(p+m+`mid`):(d(p+m+`min`),d(p+m+`max`));var D=g.colorscale,O=v.colorscale,k;if(D!==void 0&&(k=!s(D)),O!==void 0&&(k=!s(O)),d(p+`autocolorscale`,k),d(p+`colorscale`),d(p+`reversescale`),p!==`marker.line.`){var A;p&&h&&(A=a(g)),d(p+`showscale`,A)&&(p&&v&&(_._template=v),o(g,_,u))}}}),52075:(function(e,t,n){var r=n(39898),i=n(84267),a=n(92770),o=n(71828),s=n(7901),c=n(63282).isValid;function l(e,t,n){var r=t?o.nestedProperty(e,t).get()||{}:e,i=r[n||`color`],s=!1;if(o.isArrayOrTypedArray(i)){for(var l=0;l<i.length;l++)if(a(i[l])){s=!0;break}}return o.isPlainObject(r)&&(s||r.showscale===!0||a(r.cmin)&&a(r.cmax)||c(r.colorscale)||o.isPlainObject(r.colorbar))}var u=[`showscale`,`autocolorscale`,`colorscale`,`reversescale`,`colorbar`],d=[`min`,`max`,`mid`,`auto`];function f(e){var t=e._colorAx,n=t||e,r={},i,a,o;for(a=0;a<u.length;a++)o=u[a],r[o]=n[o];if(t)for(i=`c`,a=0;a<d.length;a++)o=d[a],r[o]=n[`c`+o];else{var s;for(a=0;a<d.length;a++){if(o=d[a],s=`c`+o,s in n){r[o]=n[s];continue}s=`z`+o,s in n&&(r[o]=n[s])}i=s.charAt(0)}return r._sync=function(e,t){var r=d.indexOf(e)===-1?e:i+e;n[r]=n[`_`+r]=t},r}function p(e){for(var t=f(e),n=t.min,r=t.max,i=t.reversescale?m(t.colorscale):t.colorscale,a=i.length,o=Array(a),s=Array(a),c=0;c<a;c++){var l=i[c];o[c]=n+l[0]*(r-n),s[c]=l[1]}return{domain:o,range:s}}function m(e){for(var t=e.length,n=Array(t),r=t-1,i=0;r>=0;r--,i++){var a=e[r];n[i]=[1-a[0],a[1]]}return n}function h(e,t){t||={};for(var n=e.domain,o=e.range,c=o.length,l=Array(c),u=0;u<c;u++){var d=i(o[u]).toRgb();l[u]=[d.r,d.g,d.b,d.a]}var f=r.scale.linear().domain(n).range(l).clamp(!0),p=t.noNumericCheck,m=t.returnArray,h=p&&m?f:p?function(e){return _(f(e))}:m?function(e){return a(e)?f(e):i(e).isValid()?e:s.defaultLine}:function(e){return a(e)?_(f(e)):i(e).isValid()?e:s.defaultLine};return h.domain=f.domain,h.range=function(){return o},h}function g(e,t){return h(p(e),t)}function _(e){return i({r:e[0],g:e[1],b:e[2],a:e[3]}).toRgbString()}e.exports={hasColorscale:l,extractOpts:f,extractScale:p,flipScale:m,makeColorScaleFunc:h,makeColorScaleFuncFromTrace:g}}),21081:(function(e,t,n){var r=n(63282),i=n(52075);e.exports={moduleType:`component`,name:`colorscale`,attributes:n(50693),layoutAttributes:n(72673),supplyLayoutDefaults:n(30959),handleDefaults:n(1586),crossTraceDefaults:n(33046),calc:n(78803),scales:r.scales,defaultScale:r.defaultScale,getScale:r.get,isValidScale:r.isValid,hasColorscale:i.hasColorscale,extractOpts:i.extractOpts,extractScale:i.extractScale,flipScale:i.flipScale,makeColorScaleFunc:i.makeColorScaleFunc,makeColorScaleFuncFromTrace:i.makeColorScaleFuncFromTrace}}),72673:(function(e,t,n){var r=n(1426).extendFlat,i=n(50693),a=n(63282).scales;e.exports={editType:`calc`,colorscale:{editType:`calc`,sequential:{valType:`colorscale`,dflt:a.Reds,editType:`calc`},sequentialminus:{valType:`colorscale`,dflt:a.Blues,editType:`calc`},diverging:{valType:`colorscale`,dflt:a.RdBu,editType:`calc`}},coloraxis:r({_isSubplotObj:!0,editType:`calc`},i(``,{colorAttr:`corresponding trace color array(s)`,noColorAxis:!0,showScaleDflt:!0}))}}),30959:(function(e,t,n){var r=n(71828),i=n(44467),a=n(72673),o=n(1586);e.exports=function(e,t){function n(n,i){return r.coerce(e,t,a,n,i)}n(`colorscale.sequential`),n(`colorscale.sequentialminus`),n(`colorscale.diverging`);var s=t._colorAxes,c,l;function u(e,t){return r.coerce(c,l,a.coloraxis,e,t)}for(var d in s){var f=s[d];if(f[0])c=e[d]||{},l=i.newContainer(t,d,`coloraxis`),l._name=d,o(c,l,t,u,{prefix:``,cLetter:`c`});else{for(var p=0;p<f[2].length;p++)f[2][p]();delete t._colorAxes[d]}}}}),63282:(function(e,t,n){var r=n(84267),i={Greys:[[0,`rgb(0,0,0)`],[1,`rgb(255,255,255)`]],YlGnBu:[[0,`rgb(8,29,88)`],[.125,`rgb(37,52,148)`],[.25,`rgb(34,94,168)`],[.375,`rgb(29,145,192)`],[.5,`rgb(65,182,196)`],[.625,`rgb(127,205,187)`],[.75,`rgb(199,233,180)`],[.875,`rgb(237,248,217)`],[1,`rgb(255,255,217)`]],Greens:[[0,`rgb(0,68,27)`],[.125,`rgb(0,109,44)`],[.25,`rgb(35,139,69)`],[.375,`rgb(65,171,93)`],[.5,`rgb(116,196,118)`],[.625,`rgb(161,217,155)`],[.75,`rgb(199,233,192)`],[.875,`rgb(229,245,224)`],[1,`rgb(247,252,245)`]],YlOrRd:[[0,`rgb(128,0,38)`],[.125,`rgb(189,0,38)`],[.25,`rgb(227,26,28)`],[.375,`rgb(252,78,42)`],[.5,`rgb(253,141,60)`],[.625,`rgb(254,178,76)`],[.75,`rgb(254,217,118)`],[.875,`rgb(255,237,160)`],[1,`rgb(255,255,204)`]],Bluered:[[0,`rgb(0,0,255)`],[1,`rgb(255,0,0)`]],RdBu:[[0,`rgb(5,10,172)`],[.35,`rgb(106,137,247)`],[.5,`rgb(190,190,190)`],[.6,`rgb(220,170,132)`],[.7,`rgb(230,145,90)`],[1,`rgb(178,10,28)`]],Reds:[[0,`rgb(220,220,220)`],[.2,`rgb(245,195,157)`],[.4,`rgb(245,160,105)`],[1,`rgb(178,10,28)`]],Blues:[[0,`rgb(5,10,172)`],[.35,`rgb(40,60,190)`],[.5,`rgb(70,100,245)`],[.6,`rgb(90,120,245)`],[.7,`rgb(106,137,247)`],[1,`rgb(220,220,220)`]],Picnic:[[0,`rgb(0,0,255)`],[.1,`rgb(51,153,255)`],[.2,`rgb(102,204,255)`],[.3,`rgb(153,204,255)`],[.4,`rgb(204,204,255)`],[.5,`rgb(255,255,255)`],[.6,`rgb(255,204,255)`],[.7,`rgb(255,153,255)`],[.8,`rgb(255,102,204)`],[.9,`rgb(255,102,102)`],[1,`rgb(255,0,0)`]],Rainbow:[[0,`rgb(150,0,90)`],[.125,`rgb(0,0,200)`],[.25,`rgb(0,25,255)`],[.375,`rgb(0,152,255)`],[.5,`rgb(44,255,150)`],[.625,`rgb(151,255,0)`],[.75,`rgb(255,234,0)`],[.875,`rgb(255,111,0)`],[1,`rgb(255,0,0)`]],Portland:[[0,`rgb(12,51,131)`],[.25,`rgb(10,136,186)`],[.5,`rgb(242,211,56)`],[.75,`rgb(242,143,56)`],[1,`rgb(217,30,30)`]],Jet:[[0,`rgb(0,0,131)`],[.125,`rgb(0,60,170)`],[.375,`rgb(5,255,255)`],[.625,`rgb(255,255,0)`],[.875,`rgb(250,0,0)`],[1,`rgb(128,0,0)`]],Hot:[[0,`rgb(0,0,0)`],[.3,`rgb(230,0,0)`],[.6,`rgb(255,210,0)`],[1,`rgb(255,255,255)`]],Blackbody:[[0,`rgb(0,0,0)`],[.2,`rgb(230,0,0)`],[.4,`rgb(230,210,0)`],[.7,`rgb(255,255,255)`],[1,`rgb(160,200,255)`]],Earth:[[0,`rgb(0,0,130)`],[.1,`rgb(0,180,180)`],[.2,`rgb(40,210,40)`],[.4,`rgb(230,230,50)`],[.6,`rgb(120,70,20)`],[1,`rgb(255,255,255)`]],Electric:[[0,`rgb(0,0,0)`],[.15,`rgb(30,0,100)`],[.4,`rgb(120,0,100)`],[.6,`rgb(160,90,0)`],[.8,`rgb(230,200,0)`],[1,`rgb(255,250,220)`]],Viridis:[[0,`#440154`],[.06274509803921569,`#48186a`],[.12549019607843137,`#472d7b`],[.18823529411764706,`#424086`],[.25098039215686274,`#3b528b`],[.3137254901960784,`#33638d`],[.3764705882352941,`#2c728e`],[.4392156862745098,`#26828e`],[.5019607843137255,`#21918c`],[.5647058823529412,`#1fa088`],[.6274509803921569,`#28ae80`],[.6901960784313725,`#3fbc73`],[.7529411764705882,`#5ec962`],[.8156862745098039,`#84d44b`],[.8784313725490196,`#addc30`],[.9411764705882353,`#d8e219`],[1,`#fde725`]],Cividis:[[0,`rgb(0,32,76)`],[.058824,`rgb(0,42,102)`],[.117647,`rgb(0,52,110)`],[.176471,`rgb(39,63,108)`],[.235294,`rgb(60,74,107)`],[.294118,`rgb(76,85,107)`],[.352941,`rgb(91,95,109)`],[.411765,`rgb(104,106,112)`],[.470588,`rgb(117,117,117)`],[.529412,`rgb(131,129,120)`],[.588235,`rgb(146,140,120)`],[.647059,`rgb(161,152,118)`],[.705882,`rgb(176,165,114)`],[.764706,`rgb(192,177,109)`],[.823529,`rgb(209,191,102)`],[.882353,`rgb(225,204,92)`],[.941176,`rgb(243,219,79)`],[1,`rgb(255,233,69)`]]},a=i.RdBu;function o(e,t){if(t||=a,!e)return t;function n(){try{e=i[e]||JSON.parse(e)}catch{e=t}}return typeof e==`string`&&(n(),typeof e==`string`&&n()),s(e)?e:t}function s(e){var t=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var n=0;n<e.length;n++){var i=e[n];if(i.length!==2||+i[0]<t||!r(i[1]).isValid())return!1;t=+i[0]}return!0}function c(e){return i[e]===void 0?s(e):!0}e.exports={scales:i,defaultScale:a,get:o,isValid:c}}),92807:(function(e){e.exports=function(e,t,n,r,i){var a=(e-n)/(r-n),o=a+t/(r-n),s=(a+o)/2;return i===`left`||i===`bottom`?a:i===`center`||i===`middle`?s:i===`right`||i===`top`?o:a<2/3-s?a:o>4/3-s?o:s}}),70461:(function(e,t,n){var r=n(71828),i=[[`sw-resize`,`s-resize`,`se-resize`],[`w-resize`,`move`,`e-resize`],[`nw-resize`,`n-resize`,`ne-resize`]];e.exports=function(e,t,n,a){return e=n===`left`?0:n===`center`?1:n===`right`?2:r.constrain(Math.floor(e*3),0,2),t=a===`bottom`?0:a===`middle`?1:a===`top`?2:r.constrain(Math.floor(t*3),0,2),i[t][e]}}),64505:(function(e,t){t.selectMode=function(e){return e===`lasso`||e===`select`},t.drawMode=function(e){return e===`drawclosedpath`||e===`drawopenpath`||e===`drawline`||e===`drawrect`||e===`drawcircle`},t.openMode=function(e){return e===`drawline`||e===`drawopenpath`},t.rectMode=function(e){return e===`select`||e===`drawline`||e===`drawrect`||e===`drawcircle`},t.freeMode=function(e){return e===`lasso`||e===`drawclosedpath`||e===`drawopenpath`},t.selectingOrDrawing=function(e){return t.freeMode(e)||t.rectMode(e)}}),28569:(function(e,t,n){var r=n(48956),i=n(57035),a=n(38520),o=n(71828).removeElement,s=n(85555),c=e.exports={};c.align=n(92807),c.getCursor=n(70461);var l=n(26041);c.unhover=l.wrapped,c.unhoverRaw=l.raw,c.init=function(e){var t=e.gd,n=1,r=t._context.doubleClickDelay,l=e.element,f,p,m,h,g,_,v,y;t._mouseDownTime||=0,l.style.pointerEvents=`all`,l.onmousedown=S,a?(l._ontouchstart&&l.removeEventListener(`touchstart`,l._ontouchstart),l._ontouchstart=S,l.addEventListener(`touchstart`,S,{passive:!1})):l.ontouchstart=S;function b(e,t,n){return Math.abs(e)<n&&(e=0),Math.abs(t)<n&&(t=0),[e,t]}var x=e.clampFn||b;function S(a){t._dragged=!1,t._dragging=!0;var o=d(a);f=o[0],p=o[1],v=a.target,_=a,y=a.buttons===2||a.ctrlKey,a.clientX===void 0&&a.clientY===void 0&&(a.clientX=f,a.clientY=p),m=new Date().getTime(),m-t._mouseDownTime<r?n+=1:(n=1,t._mouseDownTime=m),e.prepFn&&e.prepFn(a,f,p),i&&!y?(g=u(),g.style.cursor=window.getComputedStyle(l).cursor):i||(g=document,h=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(l).cursor),document.addEventListener(`mouseup`,w),document.addEventListener(`touchend`,w),e.dragmode!==!1&&(a.preventDefault(),document.addEventListener(`mousemove`,C),document.addEventListener(`touchmove`,C,{passive:!1}))}function C(n){n.preventDefault();var r=d(n),i=e.minDrag||s.MINDRAG,a=x(r[0]-f,r[1]-p,i),o=a[0],u=a[1];(o||u)&&(t._dragged=!0,c.unhover(t,n)),t._dragged&&e.moveFn&&!y&&(t._dragdata={element:l,dx:o,dy:u},e.moveFn(o,u))}function w(a){if(delete t._dragdata,e.dragmode!==!1&&(a.preventDefault(),document.removeEventListener(`mousemove`,C),document.removeEventListener(`touchmove`,C)),document.removeEventListener(`mouseup`,w),document.removeEventListener(`touchend`,w),i?o(g):h&&=(g.documentElement.style.cursor=h,null),!t._dragging){t._dragged=!1;return}if(t._dragging=!1,new Date().getTime()-t._mouseDownTime>r&&(n=Math.max(n-1,1)),t._dragged)e.doneFn&&e.doneFn();else if(e.clickFn&&e.clickFn(n,_),!y){var s;try{s=new MouseEvent(`click`,a)}catch{var c=d(a);s=document.createEvent(`MouseEvents`),s.initMouseEvent(`click`,a.bubbles,a.cancelable,a.view,a.detail,a.screenX,a.screenY,c[0],c[1],a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget)}v.dispatchEvent(s)}t._dragging=!1,t._dragged=!1}};function u(){var e=document.createElement(`div`);e.className=`dragcover`;var t=e.style;return t.position=`fixed`,t.left=0,t.right=0,t.top=0,t.bottom=0,t.zIndex=999999999,t.background=`none`,document.body.appendChild(e),e}c.coverSlip=u;function d(e){return r(e.changedTouches?e.changedTouches[0]:e,document.body)}}),26041:(function(e,t,n){var r=n(11086),i=n(79990),a=n(24401).getGraphDiv,o=n(26675),s=e.exports={};s.wrapped=function(e,t,n){e=a(e),e._fullLayout&&i.clear(e._fullLayout._uid+o.HOVERID),s.raw(e,t,n)},s.raw=function(e,t){var n=e._fullLayout,i=e._hoverdata;t||={},!(t.target&&!e._dragged&&r.triggerHandler(e,`plotly_beforehover`,t)===!1)&&(n._hoverlayer.selectAll(`g`).remove(),n._hoverlayer.selectAll(`line`).remove(),n._hoverlayer.selectAll(`circle`).remove(),e._hoverdata=void 0,t.target&&i&&e.emit(`plotly_unhover`,{event:t,points:i}))}}),79952:(function(e,t){t.P={valType:`string`,values:[`solid`,`dot`,`dash`,`longdash`,`dashdot`,`longdashdot`],dflt:`solid`,editType:`style`},t.u={shape:{valType:`enumerated`,values:[``,`/`,`\\`,`x`,`-`,`|`,`+`,`.`],dflt:``,arrayOk:!0,editType:`style`},fillmode:{valType:`enumerated`,values:[`replace`,`overlay`],dflt:`replace`,editType:`style`},bgcolor:{valType:`color`,arrayOk:!0,editType:`style`},fgcolor:{valType:`color`,arrayOk:!0,editType:`style`},fgopacity:{valType:`number`,editType:`style`,min:0,max:1},size:{valType:`number`,min:0,dflt:8,arrayOk:!0,editType:`style`},solidity:{valType:`number`,min:0,max:1,dflt:.3,arrayOk:!0,editType:`style`},editType:`style`}}),91424:(function(e,t,n){var r=n(39898),i=n(71828),a=i.numberFormat,o=n(92770),s=n(84267),c=n(73972),l=n(7901),u=n(21081),d=i.strTranslate,f=n(63893),p=n(77922),m=n(18783).LINE_SPACING,h=n(37822).DESELECTDIM,g=n(34098),_=n(39984),v=n(23469).appendArrayPointValue,y=e.exports={};y.font=function(e,t,n,r){i.isPlainObject(t)&&(r=t.color,n=t.size,t=t.family),t&&e.style(`font-family`,t),n+1&&e.style(`font-size`,n+`px`),r&&e.call(l.fill,r)},y.setPosition=function(e,t,n){e.attr(`x`,t).attr(`y`,n)},y.setSize=function(e,t,n){e.attr(`width`,t).attr(`height`,n)},y.setRect=function(e,t,n,r,i){e.call(y.setPosition,t,n).call(y.setSize,r,i)},y.translatePoint=function(e,t,n,r){var i=n.c2p(e.x),a=r.c2p(e.y);if(o(i)&&o(a)&&t.node())t.node().nodeName===`text`?t.attr(`x`,i).attr(`y`,a):t.attr(`transform`,d(i,a));else return!1;return!0},y.translatePoints=function(e,t,n){e.each(function(e){var i=r.select(this);y.translatePoint(e,i,t,n)})},y.hideOutsideRangePoint=function(e,t,n,r,i,a){t.attr(`display`,n.isPtWithinRange(e,i)&&r.isPtWithinRange(e,a)?null:`none`)},y.hideOutsideRangePoints=function(e,t){if(t._hasClipOnAxisFalse){var n=t.xaxis,i=t.yaxis;e.each(function(t){var a=t[0].trace,o=a.xcalendar,s=a.ycalendar,l=c.traceIs(a,`bar-like`)?`.bartext`:`.point,.textpoint`;e.selectAll(l).each(function(e){y.hideOutsideRangePoint(e,r.select(this),n,i,o,s)})})}},y.crispRound=function(e,t,n){return!t||!o(t)?n||0:e._context.staticPlot?t:t<1?1:Math.round(t)},y.singleLineStyle=function(e,t,n,r,i){t.style(`fill`,`none`);var a=(((e||[])[0]||{}).trace||{}).line||{},o=n||a.width||0,s=i||a.dash||``;l.stroke(t,r||a.color),y.dashLine(t,s,o)},y.lineGroupStyle=function(e,t,n,i){e.style(`fill`,`none`).each(function(e){var a=(((e||[])[0]||{}).trace||{}).line||{},o=t||a.width||0,s=i||a.dash||``;r.select(this).call(l.stroke,n||a.color).call(y.dashLine,s,o)})},y.dashLine=function(e,t,n){n=+n||0,t=y.dashStyle(t,n),e.style({"stroke-dasharray":t,"stroke-width":n+`px`})},y.dashStyle=function(e,t){t=+t||1;var n=Math.max(t,3);return e===`solid`?e=``:e===`dot`?e=n+`px,`+n+`px`:e===`dash`?e=3*n+`px,`+3*n+`px`:e===`longdash`?e=5*n+`px,`+5*n+`px`:e===`dashdot`?e=3*n+`px,`+n+`px,`+n+`px,`+n+`px`:e===`longdashdot`&&(e=5*n+`px,`+2*n+`px,`+n+`px,`+2*n+`px`),e};function b(e,t,n){var r=t.fillpattern,i=r&&y.getPatternAttr(r.shape,0,``);if(i){var a=y.getPatternAttr(r.bgcolor,0,null),o=y.getPatternAttr(r.fgcolor,0,null),s=r.fgopacity,c=y.getPatternAttr(r.size,0,8),u=y.getPatternAttr(r.solidity,0,.3),d=t.uid;y.pattern(e,`point`,n,d,i,c,u,void 0,r.fillmode,a,o,s)}else t.fillcolor&&e.call(l.fill,t.fillcolor)}y.singleFillStyle=function(e,t){b(e,((r.select(e.node()).data()[0]||[])[0]||{}).trace||{},t)},y.fillGroupStyle=function(e,t){e.style(`stroke-width`,0).each(function(e){var n=r.select(this);e[0].trace&&b(n,e[0].trace,t)})};var x=n(90998);y.symbolNames=[],y.symbolFuncs=[],y.symbolBackOffs=[],y.symbolNeedLines={},y.symbolNoDot={},y.symbolNoFill={},y.symbolList=[],Object.keys(x).forEach(function(e){var t=x[e],n=t.n;y.symbolList.push(n,String(n),e,n+100,String(n+100),e+`-open`),y.symbolNames[n]=e,y.symbolFuncs[n]=t.f,y.symbolBackOffs[n]=t.backoff||0,t.needLine&&(y.symbolNeedLines[n]=!0),t.noDot?y.symbolNoDot[n]=!0:y.symbolList.push(n+200,String(n+200),e+`-dot`,n+300,String(n+300),e+`-open-dot`),t.noFill&&(y.symbolNoFill[n]=!0)});var S=y.symbolNames.length,C=`M0,0.5L0.5,0L0,-0.5L-0.5,0Z`;y.symbolNumber=function(e){if(o(e))e=+e;else if(typeof e==`string`){var t=0;e.indexOf(`-open`)>0&&(t=100,e=e.replace(`-open`,``)),e.indexOf(`-dot`)>0&&(t+=200,e=e.replace(`-dot`,``)),e=y.symbolNames.indexOf(e),e>=0&&(e+=t)}return e%100>=S||e>=400?0:Math.floor(Math.max(e,0))};function w(e,t,n,r){var i=e%100;return y.symbolFuncs[i](t,n,r)+(e>=200?C:``)}var T={x1:1,x2:0,y1:0,y2:0},E={x1:0,x2:0,y1:1,y2:0},D=a(`~f`),O={radial:{node:`radialGradient`},radialreversed:{node:`radialGradient`,reversed:!0},horizontal:{node:`linearGradient`,attrs:T},horizontalreversed:{node:`linearGradient`,attrs:T,reversed:!0},vertical:{node:`linearGradient`,attrs:E},verticalreversed:{node:`linearGradient`,attrs:E,reversed:!0}};y.gradient=function(e,t,n,a,o,c){for(var u=o.length,d=O[a],f=Array(u),p=0;p<u;p++)d.reversed?f[u-1-p]=[D((1-o[p][0])*100),o[p][1]]:f[p]=[D(o[p][0]*100),o[p][1]];var m=t._fullLayout,h=`g`+m._uid+`-`+n,g=m._defs.select(`.gradients`).selectAll(`#`+h).data([a+f.join(`;`)],i.identity);g.exit().remove(),g.enter().append(d.node).each(function(){var e=r.select(this);d.attrs&&e.attr(d.attrs),e.attr(`id`,h);var t=e.selectAll(`stop`).data(f);t.exit().remove(),t.enter().append(`stop`),t.each(function(e){var t=s(e[1]);r.select(this).attr({offset:e[0]+`%`,"stop-color":l.tinyRGB(t),"stop-opacity":t.getAlpha()})})}),e.style(c,G(h,t)).style(c+`-opacity`,null),e.classed(`gradient_filled`,!0)},y.pattern=function(e,t,n,a,o,c,u,d,f,p,m,h){var g=t===`legend`;d&&(f===`overlay`?(p=d,m=l.contrast(p)):(p=void 0,m=d));var _=n._fullLayout,v=`p`+_._uid+`-`+a,y,b,x=function(e,t,n,r,i){return r+(i-r)*(e-t)/(n-t)},S,C,w,T,E={},D=s(m),O=l.tinyRGB(D),k=h*D.getAlpha();switch(o){case`/`:y=c*Math.sqrt(2),b=c*Math.sqrt(2),S=`M-`+y/4+`,`+b/4+`l`+y/2+`,-`+b/2+`M0,`+b+`L`+y+`,0M`+y/4*3+`,`+b/4*5+`l`+y/2+`,-`+b/2,C=u*c,T=`path`,E={d:S,opacity:k,stroke:O,"stroke-width":C+`px`};break;case`\\`:y=c*Math.sqrt(2),b=c*Math.sqrt(2),S=`M`+y/4*3+`,-`+b/4+`l`+y/2+`,`+b/2+`M0,0L`+y+`,`+b+`M-`+y/4+`,`+b/4*3+`l`+y/2+`,`+b/2,C=u*c,T=`path`,E={d:S,opacity:k,stroke:O,"stroke-width":C+`px`};break;case`x`:y=c*Math.sqrt(2),b=c*Math.sqrt(2),S=`M-`+y/4+`,`+b/4+`l`+y/2+`,-`+b/2+`M0,`+b+`L`+y+`,0M`+y/4*3+`,`+b/4*5+`l`+y/2+`,-`+b/2+`M`+y/4*3+`,-`+b/4+`l`+y/2+`,`+b/2+`M0,0L`+y+`,`+b+`M-`+y/4+`,`+b/4*3+`l`+y/2+`,`+b/2,C=c-c*Math.sqrt(1-u),T=`path`,E={d:S,opacity:k,stroke:O,"stroke-width":C+`px`};break;case`|`:y=c,b=c,T=`path`,S=`M`+y/2+`,0L`+y/2+`,`+b,C=u*c,T=`path`,E={d:S,opacity:k,stroke:O,"stroke-width":C+`px`};break;case`-`:y=c,b=c,T=`path`,S=`M0,`+b/2+`L`+y+`,`+b/2,C=u*c,T=`path`,E={d:S,opacity:k,stroke:O,"stroke-width":C+`px`};break;case`+`:y=c,b=c,T=`path`,S=`M`+y/2+`,0L`+y/2+`,`+b+`M0,`+b/2+`L`+y+`,`+b/2,C=c-c*Math.sqrt(1-u),T=`path`,E={d:S,opacity:k,stroke:O,"stroke-width":C+`px`};break;case`.`:y=c,b=c,w=u<Math.PI/4?Math.sqrt(u*c*c/Math.PI):x(u,Math.PI/4,1,c/2,c/Math.sqrt(2)),T=`circle`,E={cx:y/2,cy:b/2,r:w,opacity:k,fill:O};break}var A=[o||`noSh`,p||`noBg`,m||`noFg`,c,u].join(`;`),j=_._defs.select(`.patterns`).selectAll(`#`+v).data([A],i.identity);j.exit().remove(),j.enter().append(`pattern`).each(function(){var e=r.select(this);if(e.attr({id:v,width:y+`px`,height:b+`px`,patternUnits:`userSpaceOnUse`,patternTransform:g?`scale(0.8)`:``}),p){var t=s(p),n=l.tinyRGB(t),i=t.getAlpha(),a=e.selectAll(`rect`).data([0]);a.exit().remove(),a.enter().append(`rect`).attr({width:y+`px`,height:b+`px`,fill:n,"fill-opacity":i})}var o=e.selectAll(T).data([0]);o.exit().remove(),o.enter().append(T).attr(E)}),e.style(`fill`,G(v,n)).style(`fill-opacity`,null),e.classed(`pattern_filled`,!0)},y.initGradients=function(e){var t=e._fullLayout;i.ensureSingle(t._defs,`g`,`gradients`).selectAll(`linearGradient,radialGradient`).remove(),r.select(e).selectAll(`.gradient_filled`).classed(`gradient_filled`,!1)},y.initPatterns=function(e){var t=e._fullLayout;i.ensureSingle(t._defs,`g`,`patterns`).selectAll(`pattern`).remove(),r.select(e).selectAll(`.pattern_filled`).classed(`pattern_filled`,!1)},y.getPatternAttr=function(e,t,n){return e&&i.isArrayOrTypedArray(e)?t<e.length?e[t]:n:e},y.pointStyle=function(e,t,n){if(e.size()){var i=y.makePointStyleFns(t);e.each(function(e){y.singlePointStyle(e,r.select(this),t,i,n)})}},y.singlePointStyle=function(e,t,n,r,a){var o=n.marker,s=o.line;if(t.style(`opacity`,r.selectedOpacityFn?r.selectedOpacityFn(e):e.mo===void 0?o.opacity:e.mo),r.ms2mrc){var c=e.ms===`various`||o.size===`various`?3:r.ms2mrc(e.ms);e.mrc=c,r.selectedSizeFn&&(c=e.mrc=r.selectedSizeFn(e));var u=y.symbolNumber(e.mx||o.symbol)||0;e.om=u%200>=100;var d=le(e,n),f=q(e,n);t.attr(`d`,w(u,c,d,f))}var p=!1,m,h,g;if(e.so)g=s.outlierwidth,h=s.outliercolor,m=o.outliercolor;else{var _=(s||{}).width;g=(e.mlw+1||_+1||(e.trace?(e.trace.marker.line||{}).width:0)+1)-1||0,h=`mlc`in e?e.mlcc=r.lineScale(e.mlc):i.isArrayOrTypedArray(s.color)?l.defaultLine:s.color,i.isArrayOrTypedArray(o.color)&&(m=l.defaultLine,p=!0),m=`mc`in e?e.mcc=r.markerScale(e.mc):o.color||`rgba(0,0,0,0)`,r.selectedColorFn&&(m=r.selectedColorFn(e))}if(e.om)t.call(l.stroke,m).style({"stroke-width":(g||1)+`px`,fill:`none`});else{t.style(`stroke-width`,(e.isBlank?0:g)+`px`);var v=o.gradient,b=e.mgt;b?p=!0:b=v&&v.type,i.isArrayOrTypedArray(b)&&(b=b[0],O[b]||(b=0));var x=o.pattern,S=x&&y.getPatternAttr(x.shape,e.i,``);if(b&&b!==`none`){var C=e.mgc;C?p=!0:C=v.color;var T=n.uid;p&&(T+=`-`+e.i),y.gradient(t,a,T,b,[[0,C],[1,m]],`fill`)}else if(S){var E=y.getPatternAttr(x.bgcolor,e.i,null),D=y.getPatternAttr(x.fgcolor,e.i,null),k=x.fgopacity,A=y.getPatternAttr(x.size,e.i,8),j=y.getPatternAttr(x.solidity,e.i,.3),M=e.mcc||i.isArrayOrTypedArray(x.shape)||i.isArrayOrTypedArray(x.bgcolor)||i.isArrayOrTypedArray(x.size)||i.isArrayOrTypedArray(x.solidity),N=n.uid;M&&(N+=`-`+e.i),y.pattern(t,`point`,a,N,S,A,j,e.mcc,x.fillmode,E,D,k)}else l.fill(t,m);g&&l.stroke(t,h)}},y.makePointStyleFns=function(e){var t={},n=e.marker;return t.markerScale=y.tryColorscale(n,``),t.lineScale=y.tryColorscale(n,`line`),c.traceIs(e,`symbols`)&&(t.ms2mrc=g.isBubble(e)?_(e):function(){return(n.size||6)/2}),e.selectedpoints&&i.extendFlat(t,y.makeSelectedPointStyleFns(e)),t},y.makeSelectedPointStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},a=e.marker||{},o=n.marker||{},s=r.marker||{},l=a.opacity,u=o.opacity,d=s.opacity,f=u!==void 0,p=d!==void 0;(i.isArrayOrTypedArray(l)||f||p)&&(t.selectedOpacityFn=function(e){var t=e.mo===void 0?a.opacity:e.mo;return e.selected?f?u:t:p?d:h*t});var m=a.color,g=o.color,_=s.color;(g||_)&&(t.selectedColorFn=function(e){var t=e.mcc||m;return e.selected?g||t:_||t});var v=a.size,y=o.size,b=s.size,x=y!==void 0,S=b!==void 0;return c.traceIs(e,`symbols`)&&(x||S)&&(t.selectedSizeFn=function(e){var t=e.mrc||v/2;return e.selected?x?y/2:t:S?b/2:t}),t},y.makeSelectedTextStyleFns=function(e){var t={},n=e.selected||{},r=e.unselected||{},i=e.textfont||{},a=n.textfont||{},o=r.textfont||{},s=i.color,c=a.color,u=o.color;return t.selectedTextColorFn=function(e){var t=e.tc||s;return e.selected?c||t:u||(c?t:l.addOpacity(t,h))},t},y.selectedPointStyle=function(e,t){if(!(!e.size()||!t.selectedpoints)){var n=y.makeSelectedPointStyleFns(t),i=t.marker||{},a=[];n.selectedOpacityFn&&a.push(function(e,t){e.style(`opacity`,n.selectedOpacityFn(t))}),n.selectedColorFn&&a.push(function(e,t){l.fill(e,n.selectedColorFn(t))}),n.selectedSizeFn&&a.push(function(e,r){var a=r.mx||i.symbol||0,o=n.selectedSizeFn(r);e.attr(`d`,w(y.symbolNumber(a),o,le(r,t),q(r,t))),r.mrc2=o}),a.length&&e.each(function(e){for(var t=r.select(this),n=0;n<a.length;n++)a[n](t,e)})}},y.tryColorscale=function(e,t){var n=t?i.nestedProperty(e,t).get():e;if(n){var r=n.color;if((n.colorscale||n._colorAx)&&i.isArrayOrTypedArray(r))return u.makeColorScaleFuncFromTrace(n)}return i.identity};var k={start:1,end:-1,middle:0,bottom:1,top:-1};function A(e,t,n,i,a){var o=r.select(e.node().parentNode),s=t.indexOf(`top`)===-1?t.indexOf(`bottom`)===-1?`middle`:`bottom`:`top`,c=t.indexOf(`left`)===-1?t.indexOf(`right`)===-1?`middle`:`start`:`end`,l=i?i/.8+1:0,u=(f.lineCount(e)-1)*m+1,p=k[c]*l,h=n*.75+k[s]*l+(k[s]-1)*u*n/2;e.attr(`text-anchor`,c),a||o.attr(`transform`,d(p,h))}function j(e,t){var n=e.ts||t.textfont.size;return o(n)&&n>0?n:0}y.textPointStyle=function(e,t,n){if(e.size()){var a;t.selectedpoints&&(a=y.makeSelectedTextStyleFns(t).selectedTextColorFn);var o=t.texttemplate,s=n._fullLayout;e.each(function(e){var c=r.select(this),l=o?i.extractOption(e,t,`txt`,`texttemplate`):i.extractOption(e,t,`tx`,`text`);if(!l&&l!==0){c.remove();return}if(o){var u=t._module.formatLabels,d=u?u(e,t,s):{},p={};v(p,t,e.i);var m=t._meta||{};l=i.texttemplateString(l,d,s._d3locale,p,e,m)}var h=e.tp||t.textposition,g=j(e,t),_=a?a(e):e.tc||t.textfont.color;c.call(y.font,e.tf||t.textfont.family,g,_).text(l).call(f.convertToTspans,n).call(A,h,g,e.mrc)})}},y.selectedTextStyle=function(e,t){if(!(!e.size()||!t.selectedpoints)){var n=y.makeSelectedTextStyleFns(t);e.each(function(e){var i=r.select(this),a=n.selectedTextColorFn(e),o=e.tp||t.textposition,s=j(e,t);l.fill(i,a);var u=c.traceIs(t,`bar-like`);A(i,o,s,e.mrc2||e.mrc,u)})}};var M=.5;y.smoothopen=function(e,t){if(e.length<3)return`M`+e.join(`L`);var n=`M`+e[0],r=[],i;for(i=1;i<e.length-1;i++)r.push(R(e[i-1],e[i],e[i+1],t));for(n+=`Q`+r[0][0]+` `+e[1],i=2;i<e.length-1;i++)n+=`C`+r[i-2][1]+` `+r[i-1][0]+` `+e[i];return n+=`Q`+r[e.length-3][1]+` `+e[e.length-1],n},y.smoothclosed=function(e,t){if(e.length<3)return`M`+e.join(`L`)+`Z`;var n=`M`+e[0],r=e.length-1,i=[R(e[r],e[0],e[1],t)],a;for(a=1;a<r;a++)i.push(R(e[a-1],e[a],e[a+1],t));for(i.push(R(e[r-1],e[r],e[0],t)),a=1;a<=r;a++)n+=`C`+i[a-1][1]+` `+i[a][0]+` `+e[a];return n+=`C`+i[r][1]+` `+i[0][0]+` `+e[0]+`Z`,n};var N,P;function F(e,t,n){return n&&(e=V(e)),t?L(e[1]):I(e[0])}function I(e){var t=r.round(e,2);return N=t,t}function L(e){var t=r.round(e,2);return P=t,t}function R(e,t,n,r){var i=e[0]-t[0],a=e[1]-t[1],o=n[0]-t[0],s=n[1]-t[1],c=(i*i+a*a)**(M/2),l=(o*o+s*s)**(M/2),u=(l*l*i-c*c*o)*r,d=(l*l*a-c*c*s)*r,f=3*l*(c+l),p=3*c*(c+l);return[[I(t[0]+(f&&u/f)),L(t[1]+(f&&d/f))],[I(t[0]-(p&&u/p)),L(t[1]-(p&&d/p))]]}var z={hv:function(e,t,n){return`H`+I(t[0])+`V`+F(t,1,n)},vh:function(e,t,n){return`V`+L(t[1])+`H`+F(t,0,n)},hvh:function(e,t,n){return`H`+I((e[0]+t[0])/2)+`V`+L(t[1])+`H`+F(t,0,n)},vhv:function(e,t,n){return`V`+L((e[1]+t[1])/2)+`H`+I(t[0])+`V`+F(t,1,n)}},B=function(e,t,n){return`L`+F(t,0,n)+`,`+F(t,1,n)};y.steps=function(e){var t=z[e]||B;return function(e){for(var n=`M`+I(e[0][0])+`,`+L(e[0][1]),r=e.length,i=1;i<r;i++)n+=t(e[i-1],e[i],i===r-1);return n}};function V(e,t){var n=e.backoff,r=e.trace,a=e.d,o=e.i;if(n&&r&&r.marker&&r.marker.angle%360==0&&r.line&&r.line.shape!==`spline`){var s=i.isArrayOrTypedArray(n),c=e,l=t?t[0]:N||0,u=t?t[1]:P||0,d=c[0],f=c[1],p=d-l,m=f-u,h=Math.atan2(m,p),g=s?n[o]:n;if(g===`auto`){var _=c.i;r.type===`scatter`&&_--;var v=c.marker,b=v.symbol;i.isArrayOrTypedArray(b)&&(b=b[_]);var x=v.size;i.isArrayOrTypedArray(x)&&(x=x[_]),g=v?y.symbolBackOffs[y.symbolNumber(b)]*x:0,g+=y.getMarkerStandoff(a[_],r)||0}var S=d-g*Math.cos(h),C=f-g*Math.sin(h);(S<=d&&S>=l||S>=d&&S<=l)&&(C<=f&&C>=u||C>=f&&C<=u)&&(e=[S,C])}return e}y.applyBackoff=V,y.makeTester=function(){var e=i.ensureSingleById(r.select(`body`),`svg`,`js-plotly-tester`,function(e){e.attr(p.svgAttrs).style({position:`absolute`,left:`-10000px`,top:`-10000px`,width:`9000px`,height:`9000px`,"z-index":`1`})}),t=i.ensureSingle(e,`path`,`js-reference-point`,function(e){e.attr(`d`,`M0,0H1V1H0Z`).style({"stroke-width":0,fill:`black`})});y.tester=e,y.testref=t},y.savedBBoxes={};var H=0,U=1e4;y.bBox=function(e,t,n){n||=W(e);var a;if(n){if(a=y.savedBBoxes[n],a)return i.extendFlat({},a)}else if(e.childNodes.length===1){var o=e.childNodes[0];if(n=W(o),n){var s=+o.getAttribute(`x`)||0,c=+o.getAttribute(`y`)||0,l=o.getAttribute(`transform`);if(!l){var u=y.bBox(o,!1,n);return s&&(u.left+=s,u.right+=s),c&&(u.top+=c,u.bottom+=c),u}if(n+=`~`+s+`~`+c+`~`+l,a=y.savedBBoxes[n],a)return i.extendFlat({},a)}}var d,p;t?d=e:(p=y.tester.node(),d=e.cloneNode(!0),p.appendChild(d)),r.select(d).attr(`transform`,null).call(f.positionText,0,0);var m=d.getBoundingClientRect(),h=y.testref.node().getBoundingClientRect();t||p.removeChild(d);var g={height:m.height,width:m.width,left:m.left-h.left,top:m.top-h.top,right:m.right-h.left,bottom:m.bottom-h.top};return H>=U&&(y.savedBBoxes={},H=0),n&&(y.savedBBoxes[n]=g),H++,i.extendFlat({},g)};function W(e){var t=e.getAttribute(`data-unformatted`);if(t!==null)return t+e.getAttribute(`data-math`)+e.getAttribute(`text-anchor`)+e.getAttribute(`style`)}y.setClipUrl=function(e,t,n){e.attr(`clip-path`,G(t,n))};function G(e,t){if(!e)return null;var n=t._context,r=n._exportedPlot?``:n._baseUrl||``;return r?`url('`+r+`#`+e+`')`:`url(#`+e+`)`}y.getTranslate=function(e){var t=(e[e.attr?`attr`:`getAttribute`](`transform`)||``).replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(e,t,n){return[t,n].join(` `)}).split(` `);return{x:+t[0]||0,y:+t[1]||0}},y.setTranslate=function(e,t,n){var r=/(\btranslate\(.*?\);?)/,i=e.attr?`attr`:`getAttribute`,a=e.attr?`attr`:`setAttribute`,o=e[i](`transform`)||``;return t||=0,n||=0,o=o.replace(r,``).trim(),o+=d(t,n),o=o.trim(),e[a](`transform`,o),o},y.getScale=function(e){var t=(e[e.attr?`attr`:`getAttribute`](`transform`)||``).replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(e,t,n){return[t,n].join(` `)}).split(` `);return{x:+t[0]||1,y:+t[1]||1}},y.setScale=function(e,t,n){var r=/(\bscale\(.*?\);?)/,i=e.attr?`attr`:`getAttribute`,a=e.attr?`attr`:`setAttribute`,o=e[i](`transform`)||``;return t||=1,n||=1,o=o.replace(r,``).trim(),o+=`scale(`+t+`,`+n+`)`,o=o.trim(),e[a](`transform`,o),o};var K=/\s*sc.*/;y.setPointGroupScale=function(e,t,n){if(t||=1,n||=1,e){var r=t===1&&n===1?``:`scale(`+t+`,`+n+`)`;e.each(function(){var e=(this.getAttribute(`transform`)||``).replace(K,``);e+=r,e=e.trim(),this.setAttribute(`transform`,e)})}};var ee=/translate\([^)]*\)\s*$/;y.setTextPointsScale=function(e,t,n){e&&e.each(function(){var e,i=r.select(this),a=i.select(`text`);if(a.node()){var o=parseFloat(a.attr(`x`)||0),s=parseFloat(a.attr(`y`)||0),c=(i.attr(`transform`)||``).match(ee);e=t===1&&n===1?[]:[d(o,s),`scale(`+t+`,`+n+`)`,d(-o,-s)],c&&e.push(c),i.attr(`transform`,e.join(``))}})};function q(e,t){var n;return e&&(n=e.mf),n===void 0&&(n=t.marker&&t.marker.standoff||0),!t._geo&&!t._xA?-n:n}y.getMarkerStandoff=q;var J=Math.atan2,Y=Math.cos,te=Math.sin;function ne(e,t){var n=t[0],r=t[1];return[n*Y(e)-r*te(e),n*te(e)+r*Y(e)]}var re,ie,ae,oe,se,ce;function le(e,t){var n=e.ma;n===void 0&&(n=t.marker.angle||0);var r,i,a=t.marker.angleref;if(a===`previous`||a===`north`){if(t._geo){var s=t._geo.project(e.lonlat);r=s[0],i=s[1]}else{var c=t._xA,l=t._yA;if(c&&l)r=c.c2p(e.x),i=l.c2p(e.y);else return 90}if(t._geo){var u=e.lonlat[0],d=e.lonlat[1],f=t._geo.project([u,d+1e-5]),p=t._geo.project([u+1e-5,d]),m=J(p[1]-i,p[0]-r),h=J(f[1]-i,f[0]-r),g;if(a===`north`)g=n/180*Math.PI;else if(a===`previous`){var _=u/180*Math.PI,v=d/180*Math.PI,y=re/180*Math.PI,b=ie/180*Math.PI,x=y-_;g=-J(Y(b)*te(x),te(b)*Y(v)-Y(b)*te(v)*Y(x))-Math.PI,re=u,ie=d}var S=ne(m,[Y(g),0]),C=ne(h,[te(g),0]);n=J(S[1]+C[1],S[0]+C[0])/Math.PI*180,a===`previous`&&!(ce===t.uid&&e.i===se+1)&&(n=null)}if(a===`previous`&&!t._geo)if(ce===t.uid&&e.i===se+1&&o(r)&&o(i)){var w=r-ae,T=i-oe,E=t.line&&t.line.shape||``,D=E.slice(E.length-1);D===`h`&&(T=0),D===`v`&&(w=0),n+=J(T,w)/Math.PI*180+90}else n=null}return ae=r,oe=i,se=e.i,ce=t.uid,n}y.getMarkerAngle=le}),90998:(function(e,t,n){var r=n(95616),i=n(39898).round,a=`M0,0Z`,o=Math.sqrt(2),s=Math.sqrt(3),c=Math.PI,l=Math.cos,u=Math.sin;e.exports={circle:{n:0,f:function(e,t,n){if(d(t))return a;var r=i(e,2),o=`M`+r+`,0A`+r+`,`+r+` 0 1,1 0,-`+r+`A`+r+`,`+r+` 0 0,1 `+r+`,0Z`;return n?g(t,n,o):o}},square:{n:1,f:function(e,t,n){if(d(t))return a;var r=i(e,2);return g(t,n,`M`+r+`,`+r+`H-`+r+`V-`+r+`H`+r+`Z`)}},diamond:{n:2,f:function(e,t,n){if(d(t))return a;var r=i(e*1.3,2);return g(t,n,`M`+r+`,0L0,`+r+`L-`+r+`,0L0,-`+r+`Z`)}},cross:{n:3,f:function(e,t,n){if(d(t))return a;var r=i(e*.4,2),o=i(e*1.2,2);return g(t,n,`M`+o+`,`+r+`H`+r+`V`+o+`H-`+r+`V`+r+`H-`+o+`V-`+r+`H-`+r+`V-`+o+`H`+r+`V-`+r+`H`+o+`Z`)}},x:{n:4,f:function(e,t,n){if(d(t))return a;var r=i(e*.8/o,2),s=`l`+r+`,`+r,c=`l`+r+`,-`+r,l=`l-`+r+`,-`+r,u=`l-`+r+`,`+r;return g(t,n,`M0,`+r+s+c+l+c+l+u+l+u+s+u+s+`Z`)}},"triangle-up":{n:5,f:function(e,t,n){if(d(t))return a;var r=i(e*2/s,2),o=i(e/2,2),c=i(e,2);return g(t,n,`M-`+r+`,`+o+`H`+r+`L0,-`+c+`Z`)}},"triangle-down":{n:6,f:function(e,t,n){if(d(t))return a;var r=i(e*2/s,2),o=i(e/2,2),c=i(e,2);return g(t,n,`M-`+r+`,-`+o+`H`+r+`L0,`+c+`Z`)}},"triangle-left":{n:7,f:function(e,t,n){if(d(t))return a;var r=i(e*2/s,2),o=i(e/2,2),c=i(e,2);return g(t,n,`M`+o+`,-`+r+`V`+r+`L-`+c+`,0Z`)}},"triangle-right":{n:8,f:function(e,t,n){if(d(t))return a;var r=i(e*2/s,2),o=i(e/2,2),c=i(e,2);return g(t,n,`M-`+o+`,-`+r+`V`+r+`L`+c+`,0Z`)}},"triangle-ne":{n:9,f:function(e,t,n){if(d(t))return a;var r=i(e*.6,2),o=i(e*1.2,2);return g(t,n,`M-`+o+`,-`+r+`H`+r+`V`+o+`Z`)}},"triangle-se":{n:10,f:function(e,t,n){if(d(t))return a;var r=i(e*.6,2),o=i(e*1.2,2);return g(t,n,`M`+r+`,-`+o+`V`+r+`H-`+o+`Z`)}},"triangle-sw":{n:11,f:function(e,t,n){if(d(t))return a;var r=i(e*.6,2),o=i(e*1.2,2);return g(t,n,`M`+o+`,`+r+`H-`+r+`V-`+o+`Z`)}},"triangle-nw":{n:12,f:function(e,t,n){if(d(t))return a;var r=i(e*.6,2),o=i(e*1.2,2);return g(t,n,`M-`+r+`,`+o+`V-`+r+`H`+o+`Z`)}},pentagon:{n:13,f:function(e,t,n){if(d(t))return a;var r=i(e*.951,2),o=i(e*.588,2),s=i(-e,2),c=i(e*-.309,2),l=i(e*.809,2);return g(t,n,`M`+r+`,`+c+`L`+o+`,`+l+`H-`+o+`L-`+r+`,`+c+`L0,`+s+`Z`)}},hexagon:{n:14,f:function(e,t,n){if(d(t))return a;var r=i(e,2),o=i(e/2,2),c=i(e*s/2,2);return g(t,n,`M`+c+`,-`+o+`V`+o+`L0,`+r+`L-`+c+`,`+o+`V-`+o+`L0,-`+r+`Z`)}},hexagon2:{n:15,f:function(e,t,n){if(d(t))return a;var r=i(e,2),o=i(e/2,2),c=i(e*s/2,2);return g(t,n,`M-`+o+`,`+c+`H`+o+`L`+r+`,0L`+o+`,-`+c+`H-`+o+`L-`+r+`,0Z`)}},octagon:{n:16,f:function(e,t,n){if(d(t))return a;var r=i(e*.924,2),o=i(e*.383,2);return g(t,n,`M-`+o+`,-`+r+`H`+o+`L`+r+`,-`+o+`V`+o+`L`+o+`,`+r+`H-`+o+`L-`+r+`,`+o+`V-`+o+`Z`)}},star:{n:17,f:function(e,t,n){if(d(t))return a;var r=e*1.4,o=i(r*.225,2),s=i(r*.951,2),c=i(r*.363,2),l=i(r*.588,2),u=i(-r,2),f=i(r*-.309,2),p=i(r*.118,2),m=i(r*.809,2),h=i(r*.382,2);return g(t,n,`M`+o+`,`+f+`H`+s+`L`+c+`,`+p+`L`+l+`,`+m+`L0,`+h+`L-`+l+`,`+m+`L-`+c+`,`+p+`L-`+s+`,`+f+`H-`+o+`L0,`+u+`Z`)}},hexagram:{n:18,f:function(e,t,n){if(d(t))return a;var r=i(e*.66,2),o=i(e*.38,2),s=i(e*.76,2);return g(t,n,`M-`+s+`,0l-`+o+`,-`+r+`h`+s+`l`+o+`,-`+r+`l`+o+`,`+r+`h`+s+`l-`+o+`,`+r+`l`+o+`,`+r+`h-`+s+`l-`+o+`,`+r+`l-`+o+`,-`+r+`h-`+s+`Z`)}},"star-triangle-up":{n:19,f:function(e,t,n){if(d(t))return a;var r=i(e*s*.8,2),o=i(e*.8,2),c=i(e*1.6,2),l=i(e*4,2),u=`A `+l+`,`+l+` 0 0 1 `;return g(t,n,`M-`+r+`,`+o+u+r+`,`+o+u+`0,-`+c+u+`-`+r+`,`+o+`Z`)}},"star-triangle-down":{n:20,f:function(e,t,n){if(d(t))return a;var r=i(e*s*.8,2),o=i(e*.8,2),c=i(e*1.6,2),l=i(e*4,2),u=`A `+l+`,`+l+` 0 0 1 `;return g(t,n,`M`+r+`,-`+o+u+`-`+r+`,-`+o+u+`0,`+c+u+r+`,-`+o+`Z`)}},"star-square":{n:21,f:function(e,t,n){if(d(t))return a;var r=i(e*1.1,2),o=i(e*2,2),s=`A `+o+`,`+o+` 0 0 1 `;return g(t,n,`M-`+r+`,-`+r+s+`-`+r+`,`+r+s+r+`,`+r+s+r+`,-`+r+s+`-`+r+`,-`+r+`Z`)}},"star-diamond":{n:22,f:function(e,t,n){if(d(t))return a;var r=i(e*1.4,2),o=i(e*1.9,2),s=`A `+o+`,`+o+` 0 0 1 `;return g(t,n,`M-`+r+`,0`+s+`0,`+r+s+r+`,0`+s+`0,-`+r+s+`-`+r+`,0Z`)}},"diamond-tall":{n:23,f:function(e,t,n){if(d(t))return a;var r=i(e*.7,2),o=i(e*1.4,2);return g(t,n,`M0,`+o+`L`+r+`,0L0,-`+o+`L-`+r+`,0Z`)}},"diamond-wide":{n:24,f:function(e,t,n){if(d(t))return a;var r=i(e*1.4,2),o=i(e*.7,2);return g(t,n,`M0,`+o+`L`+r+`,0L0,-`+o+`L-`+r+`,0Z`)}},hourglass:{n:25,f:function(e,t,n){if(d(t))return a;var r=i(e,2);return g(t,n,`M`+r+`,`+r+`H-`+r+`L`+r+`,-`+r+`H-`+r+`Z`)},noDot:!0},bowtie:{n:26,f:function(e,t,n){if(d(t))return a;var r=i(e,2);return g(t,n,`M`+r+`,`+r+`V-`+r+`L-`+r+`,`+r+`V-`+r+`Z`)},noDot:!0},"circle-cross":{n:27,f:function(e,t,n){if(d(t))return a;var r=i(e,2);return g(t,n,`M0,`+r+`V-`+r+`M`+r+`,0H-`+r+`M`+r+`,0A`+r+`,`+r+` 0 1,1 0,-`+r+`A`+r+`,`+r+` 0 0,1 `+r+`,0Z`)},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(e,t,n){if(d(t))return a;var r=i(e,2),s=i(e/o,2);return g(t,n,`M`+s+`,`+s+`L-`+s+`,-`+s+`M`+s+`,-`+s+`L-`+s+`,`+s+`M`+r+`,0A`+r+`,`+r+` 0 1,1 0,-`+r+`A`+r+`,`+r+` 0 0,1 `+r+`,0Z`)},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(e,t,n){if(d(t))return a;var r=i(e,2);return g(t,n,`M0,`+r+`V-`+r+`M`+r+`,0H-`+r+`M`+r+`,`+r+`H-`+r+`V-`+r+`H`+r+`Z`)},needLine:!0,noDot:!0},"square-x":{n:30,f:function(e,t,n){if(d(t))return a;var r=i(e,2);return g(t,n,`M`+r+`,`+r+`L-`+r+`,-`+r+`M`+r+`,-`+r+`L-`+r+`,`+r+`M`+r+`,`+r+`H-`+r+`V-`+r+`H`+r+`Z`)},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(e,t,n){if(d(t))return a;var r=i(e*1.3,2);return g(t,n,`M`+r+`,0L0,`+r+`L-`+r+`,0L0,-`+r+`ZM0,-`+r+`V`+r+`M-`+r+`,0H`+r)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(e,t,n){if(d(t))return a;var r=i(e*1.3,2),o=i(e*.65,2);return g(t,n,`M`+r+`,0L0,`+r+`L-`+r+`,0L0,-`+r+`ZM-`+o+`,-`+o+`L`+o+`,`+o+`M-`+o+`,`+o+`L`+o+`,-`+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(e,t,n){if(d(t))return a;var r=i(e*1.4,2);return g(t,n,`M0,`+r+`V-`+r+`M`+r+`,0H-`+r)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(e,t,n){if(d(t))return a;var r=i(e,2);return g(t,n,`M`+r+`,`+r+`L-`+r+`,-`+r+`M`+r+`,-`+r+`L-`+r+`,`+r)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(e,t,n){if(d(t))return a;var r=i(e*1.2,2),o=i(e*.85,2);return g(t,n,`M0,`+r+`V-`+r+`M`+r+`,0H-`+r+`M`+o+`,`+o+`L-`+o+`,-`+o+`M`+o+`,-`+o+`L-`+o+`,`+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(e,t,n){if(d(t))return a;var r=i(e/2,2),o=i(e,2);return g(t,n,`M`+r+`,`+o+`V-`+o+`M`+(r-o)+`,-`+o+`V`+o+`M`+o+`,`+r+`H-`+o+`M-`+o+`,`+(r-o)+`H`+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(e,t,n){if(d(t))return a;var r=i(e*1.2,2),o=i(e*1.6,2),s=i(e*.8,2);return g(t,n,`M-`+r+`,`+s+`L0,0M`+r+`,`+s+`L0,0M0,-`+o+`L0,0`)},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(e,t,n){if(d(t))return a;var r=i(e*1.2,2),o=i(e*1.6,2),s=i(e*.8,2);return g(t,n,`M-`+r+`,-`+s+`L0,0M`+r+`,-`+s+`L0,0M0,`+o+`L0,0`)},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(e,t,n){if(d(t))return a;var r=i(e*1.2,2),o=i(e*1.6,2),s=i(e*.8,2);return g(t,n,`M`+s+`,`+r+`L0,0M`+s+`,-`+r+`L0,0M-`+o+`,0L0,0`)},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(e,t,n){if(d(t))return a;var r=i(e*1.2,2),o=i(e*1.6,2),s=i(e*.8,2);return g(t,n,`M-`+s+`,`+r+`L0,0M-`+s+`,-`+r+`L0,0M`+o+`,0L0,0`)},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(e,t,n){if(d(t))return a;var r=i(e*1.4,2);return g(t,n,`M`+r+`,0H-`+r)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(e,t,n){if(d(t))return a;var r=i(e*1.4,2);return g(t,n,`M0,`+r+`V-`+r)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(e,t,n){if(d(t))return a;var r=i(e,2);return g(t,n,`M`+r+`,-`+r+`L-`+r+`,`+r)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(e,t,n){if(d(t))return a;var r=i(e,2);return g(t,n,`M`+r+`,`+r+`L-`+r+`,-`+r)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(e,t,n){if(d(t))return a;var r=i(e,2),o=i(e*2,2);return g(t,n,`M0,0L-`+r+`,`+o+`H`+r+`Z`)},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(e,t,n){if(d(t))return a;var r=i(e,2),o=i(e*2,2);return g(t,n,`M0,0L-`+r+`,-`+o+`H`+r+`Z`)},noDot:!0},"arrow-left":{n:47,f:function(e,t,n){if(d(t))return a;var r=i(e*2,2),o=i(e,2);return g(t,n,`M0,0L`+r+`,-`+o+`V`+o+`Z`)},noDot:!0},"arrow-right":{n:48,f:function(e,t,n){if(d(t))return a;var r=i(e*2,2),o=i(e,2);return g(t,n,`M0,0L-`+r+`,-`+o+`V`+o+`Z`)},noDot:!0},"arrow-bar-up":{n:49,f:function(e,t,n){if(d(t))return a;var r=i(e,2),o=i(e*2,2);return g(t,n,`M-`+r+`,0H`+r+`M0,0L-`+r+`,`+o+`H`+r+`Z`)},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(e,t,n){if(d(t))return a;var r=i(e,2),o=i(e*2,2);return g(t,n,`M-`+r+`,0H`+r+`M0,0L-`+r+`,-`+o+`H`+r+`Z`)},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(e,t,n){if(d(t))return a;var r=i(e*2,2),o=i(e,2);return g(t,n,`M0,-`+o+`V`+o+`M0,0L`+r+`,-`+o+`V`+o+`Z`)},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(e,t,n){if(d(t))return a;var r=i(e*2,2),o=i(e,2);return g(t,n,`M0,-`+o+`V`+o+`M0,0L-`+r+`,-`+o+`V`+o+`Z`)},needLine:!0,noDot:!0},arrow:{n:53,f:function(e,t,n){if(d(t))return a;var r=c/2.5,i=2*e*l(r),o=2*e*u(r);return g(t,n,`M0,0L`+-i+`,`+o+`L`+i+`,`+o+`Z`)},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(e,t,n){if(d(t))return a;var r=c/4,i=2*e*l(r),o=2*e*u(r);return g(t,n,`M0,0L`+-i+`,`+o+`A `+2*e+`,`+2*e+` 0 0 1 `+i+`,`+o+`Z`)},backoff:.4,noDot:!0}};function d(e){return e===null}var f,p,m,h;function g(e,t,n){if((!e||e%360==0)&&!t)return n;if(m===e&&h===t&&f===n)return p;m=e,h=t,f=n;function i(e,n){var r=l(e),i=u(e),a=n[0],o=n[1]+(t||0);return[a*r-o*i,a*i+o*r]}for(var a=e/180*c,o=0,s=0,d=r(n),g=``,_=0;_<d.length;_++){var v=d[_],y=v[0],b=o,x=s;if(y===`M`||y===`L`)o=+v[1],s=+v[2];else if(y===`m`||y===`l`)o+=+v[1],s+=+v[2];else if(y===`H`)o=+v[1];else if(y===`h`)o+=+v[1];else if(y===`V`)s=+v[1];else if(y===`v`)s+=+v[1];else if(y===`A`){o=+v[1],s=+v[2];var S=i(a,[+v[6],+v[7]]);v[6]=S[0],v[7]=S[1],v[3]=+v[3]+e}(y===`H`||y===`V`)&&(y=`L`),(y===`h`||y===`v`)&&(y=`l`),(y===`m`||y===`l`)&&(o-=b,s-=x);var C=i(a,[o,s]);(y===`H`||y===`V`)&&(y=`L`),(y===`M`||y===`L`||y===`m`||y===`l`)&&(v[1]=C[0],v[2]=C[1]),v[0]=y,g+=v[0]+v.slice(1).join(`,`)}return p=g,g}}),25673:(function(e){e.exports={visible:{valType:`boolean`,editType:`calc`},type:{valType:`enumerated`,values:[`percent`,`constant`,`sqrt`,`data`],editType:`calc`},symmetric:{valType:`boolean`,editType:`calc`},array:{valType:`data_array`,editType:`calc`},arrayminus:{valType:`data_array`,editType:`calc`},value:{valType:`number`,min:0,dflt:10,editType:`calc`},valueminus:{valType:`number`,min:0,dflt:10,editType:`calc`},traceref:{valType:`integer`,min:0,dflt:0,editType:`style`},tracerefminus:{valType:`integer`,min:0,dflt:0,editType:`style`},copy_ystyle:{valType:`boolean`,editType:`plot`},copy_zstyle:{valType:`boolean`,editType:`style`},color:{valType:`color`,editType:`style`},thickness:{valType:`number`,min:0,dflt:2,editType:`style`},width:{valType:`number`,min:0,editType:`plot`},editType:`calc`,_deprecated:{opacity:{valType:`number`,editType:`style`}}}}),84532:(function(e,t,n){var r=n(92770),i=n(73972),a=n(89298),o=n(71828),s=n(45827);e.exports=function(e){for(var t=e.calcdata,n=0;n<t.length;n++){var r=t[n],o=r[0].trace;if(o.visible===!0&&i.traceIs(o,`errorBarsOK`)){var s=a.getFromId(e,o.xaxis),l=a.getFromId(e,o.yaxis);c(r,o,s,`x`),c(r,o,l,`y`)}}};function c(e,t,n,i){var c=t[`error_`+i]||{},l=c.visible&&[`linear`,`log`].indexOf(n.type)!==-1,u=[];if(l){for(var d=s(c),f=0;f<e.length;f++){var p=e[f],m=p.i;if(m===void 0)m=f;else if(m===null)continue;var h=p[i];if(r(n.c2l(h))){var g=d(h,m);if(r(g[0])&&r(g[1])){var _=p[i+`s`]=h-g[0],v=p[i+`h`]=h+g[1];u.push(_,v)}}}var y=n._id,b=t._extremes[y],x=a.findExtremes(n,u,o.extendFlat({tozero:b.opts.tozero},{padded:!0}));b.min=b.min.concat(x.min),b.max=b.max.concat(x.max)}}}),45827:(function(e){e.exports=function(e){var n=e.type,r=e.symmetric;if(n===`data`){var i=e.array||[];if(r)return function(e,t){var n=+i[t];return[n,n]};var a=e.arrayminus||[];return function(e,t){var n=+i[t],r=+a[t];return!isNaN(n)||!isNaN(r)?[r||0,n||0]:[NaN,NaN]}}else{var o=t(n,e.value),s=t(n,e.valueminus);return r||e.valueminus===void 0?function(e){var t=o(e);return[t,t]}:function(e){return[s(e),o(e)]}}};function t(e,t){if(e===`percent`)return function(e){return Math.abs(e*t/100)};if(e===`constant`)return function(){return Math.abs(t)};if(e===`sqrt`)return function(e){return Math.sqrt(Math.abs(e))}}}),97587:(function(e,t,n){var r=n(92770),i=n(73972),a=n(71828),o=n(44467),s=n(25673);e.exports=function(e,t,n,c){var l=`error_`+c.axis,u=o.newContainer(t,l),d=e[l]||{};function f(e,t){return a.coerce(d,u,s,e,t)}if(f(`visible`,d.array!==void 0||d.value!==void 0||d.type===`sqrt`)!==!1){var p=f(`type`,`array`in d?`data`:`percent`),m=!0;p!==`sqrt`&&(m=f(`symmetric`,!((p===`data`?`arrayminus`:`valueminus`)in d))),p===`data`?(f(`array`),f(`traceref`),m||(f(`arrayminus`),f(`tracerefminus`))):(p===`percent`||p===`constant`)&&(f(`value`),m||f(`valueminus`));var h=`copy_`+c.inherit+`style`;c.inherit&&(t[`error_`+c.inherit]||{}).visible&&f(h,!(d.color||r(d.thickness)||r(d.width))),(!c.inherit||!u[h])&&(f(`color`,n),f(`thickness`),f(`width`,i.traceIs(t,`gl3d`)?0:4))}}}),37369:(function(e,t,n){var r=n(71828),i=n(30962).overrideAll,a=n(25673),o={error_x:r.extendFlat({},a),error_y:r.extendFlat({},a)};delete o.error_x.copy_zstyle,delete o.error_y.copy_zstyle,delete o.error_y.copy_ystyle;var s={error_x:r.extendFlat({},a),error_y:r.extendFlat({},a),error_z:r.extendFlat({},a)};delete s.error_x.copy_ystyle,delete s.error_y.copy_ystyle,delete s.error_z.copy_ystyle,delete s.error_z.copy_zstyle,e.exports={moduleType:`component`,name:`errorbars`,schema:{traces:{scatter:o,bar:o,histogram:o,scatter3d:i(s,`calc`,`nested`),scattergl:i(o,`calc`,`nested`)}},supplyDefaults:n(97587),calc:n(84532),makeComputeError:n(45827),plot:n(19398),style:n(62662),hoverInfo:c};function c(e,t,n){(t.error_y||{}).visible&&(n.yerr=e.yh-e.y,t.error_y.symmetric||(n.yerrneg=e.y-e.ys)),(t.error_x||{}).visible&&(n.xerr=e.xh-e.x,t.error_x.symmetric||(n.xerrneg=e.x-e.xs))}}),19398:(function(e,t,n){var r=n(39898),i=n(92770),a=n(91424),o=n(34098);e.exports=function(e,t,n,c){var l,u=n.xaxis,d=n.yaxis,f=c&&c.duration>0,p=e._context.staticPlot;t.each(function(t){var m=t[0].trace,h=m.error_x||{},g=m.error_y||{},_;m.ids&&(_=function(e){return e.id});var v=o.hasMarkers(m)&&m.marker.maxdisplayed>0;!g.visible&&!h.visible&&(t=[]);var y=r.select(this).selectAll(`g.errorbar`).data(t,_);if(y.exit().remove(),t.length){h.visible||y.selectAll(`path.xerror`).remove(),g.visible||y.selectAll(`path.yerror`).remove(),y.style(`opacity`,1);var b=y.enter().append(`g`).classed(`errorbar`,!0);f&&b.style(`opacity`,0).transition().duration(c.duration).style(`opacity`,1),a.setClipUrl(y,n.layerClipId,e),y.each(function(e){var t=r.select(this),n=s(e,u,d);if(!(v&&!e.vis)){var a,o=t.select(`path.yerror`);if(g.visible&&i(n.x)&&i(n.yh)&&i(n.ys)){var m=g.width;a=`M`+(n.x-m)+`,`+n.yh+`h`+2*m+`m-`+m+`,0V`+n.ys,n.noYS||(a+=`m-`+m+`,0h`+2*m),l=!o.size(),l?o=t.append(`path`).style(`vector-effect`,p?`none`:`non-scaling-stroke`).classed(`yerror`,!0):f&&(o=o.transition().duration(c.duration).ease(c.easing)),o.attr(`d`,a)}else o.remove();var _=t.select(`path.xerror`);if(h.visible&&i(n.y)&&i(n.xh)&&i(n.xs)){var y=(h.copy_ystyle?g:h).width;a=`M`+n.xh+`,`+(n.y-y)+`v`+2*y+`m0,-`+y+`H`+n.xs,n.noXS||(a+=`m0,-`+y+`v`+2*y),l=!_.size(),l?_=t.append(`path`).style(`vector-effect`,p?`none`:`non-scaling-stroke`).classed(`xerror`,!0):f&&(_=_.transition().duration(c.duration).ease(c.easing)),_.attr(`d`,a)}else _.remove()}})}})};function s(e,t,n){var r={x:t.c2p(e.x),y:n.c2p(e.y)};return e.yh!==void 0&&(r.yh=n.c2p(e.yh),r.ys=n.c2p(e.ys),i(r.ys)||(r.noYS=!0,r.ys=n.c2p(e.ys,!0))),e.xh!==void 0&&(r.xh=t.c2p(e.xh),r.xs=t.c2p(e.xs),i(r.xs)||(r.noXS=!0,r.xs=t.c2p(e.xs,!0))),r}}),62662:(function(e,t,n){var r=n(39898),i=n(7901);e.exports=function(e){e.each(function(e){var t=e[0].trace,n=t.error_y||{},a=t.error_x||{},o=r.select(this);o.selectAll(`path.yerror`).style(`stroke-width`,n.thickness+`px`).call(i.stroke,n.color),a.copy_ystyle&&(a=n),o.selectAll(`path.xerror`).style(`stroke-width`,a.thickness+`px`).call(i.stroke,a.color)})}}),77914:(function(e,t,n){var r=n(41940),i=n(528).hoverlabel,a=n(1426).extendFlat;e.exports={hoverlabel:{bgcolor:a({},i.bgcolor,{arrayOk:!0}),bordercolor:a({},i.bordercolor,{arrayOk:!0}),font:r({arrayOk:!0,editType:`none`}),align:a({},i.align,{arrayOk:!0}),namelength:a({},i.namelength,{arrayOk:!0}),editType:`none`}}}),30732:(function(e,t,n){var r=n(71828),i=n(73972);e.exports=function(e){var t=e.calcdata,n=e._fullLayout;function o(e){return function(t){return r.coerceHoverinfo({hoverinfo:t},{_module:e._module},n)}}for(var s=0;s<t.length;s++){var c=t[s],l=c[0].trace;if(!i.traceIs(l,`pie-like`)){var u=i.traceIs(l,`2dMap`)?a:r.fillArray;u(l.hoverinfo,c,`hi`,o(l)),l.hovertemplate&&u(l.hovertemplate,c,`ht`),l.hoverlabel&&(u(l.hoverlabel.bgcolor,c,`hbg`),u(l.hoverlabel.bordercolor,c,`hbc`),u(l.hoverlabel.font.size,c,`hts`),u(l.hoverlabel.font.color,c,`htc`),u(l.hoverlabel.font.family,c,`htf`),u(l.hoverlabel.namelength,c,`hnl`),u(l.hoverlabel.align,c,`hta`))}}};function a(e,t,n,i){i||=r.identity,Array.isArray(e)&&(t[0][n]=i(e))}}),75914:(function(e,t,n){var r=n(73972),i=n(88335).hover;e.exports=function(e,t,n){var a=r.getComponentMethod(`annotations`,`onClick`)(e,e._hoverdata);n!==void 0&&i(e,t,n,!0);function o(){e.emit(`plotly_click`,{points:e._hoverdata,event:t})}e._hoverdata&&t&&t.target&&(a&&a.then?a.then(o):o(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}}),26675:(function(e){e.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:`Arial, sans-serif`,HOVERMINTIME:50,HOVERID:`-hover`}}),54268:(function(e,t,n){var r=n(71828),i=n(77914),a=n(38048);e.exports=function(e,t,n,o){function s(n,a){return r.coerce(e,t,i,n,a)}var c=r.extendFlat({},o.hoverlabel);t.hovertemplate&&(c.namelength=-1),a(e,t,s,c)}}),23469:(function(e,t,n){var r=n(71828);t.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},t.isTraceInSubplots=function(e,n){if(e.type===`splom`){for(var r=e.xaxes||[],i=e.yaxes||[],a=0;a<r.length;a++)for(var o=0;o<i.length;o++)if(n.indexOf(r[a]+i[o])!==-1)return!0;return!1}return n.indexOf(t.getSubplot(e))!==-1},t.flat=function(e,t){for(var n=Array(e.length),r=0;r<e.length;r++)n[r]=t;return n},t.p2c=function(e,t){for(var n=Array(e.length),r=0;r<e.length;r++)n[r]=e[r].p2c(t);return n},t.getDistanceFunction=function(e,n,r,i){return e===`closest`?i||t.quadrature(n,r):e.charAt(0)===`x`?n:r},t.getClosest=function(e,t,n){if(n.index!==!1)n.index>=0&&n.index<e.length?n.distance=0:n.index=!1;else for(var r=0;r<e.length;r++){var i=t(e[r]);i<=n.distance&&(n.index=r,n.distance=i)}return n},t.inbox=function(e,t,n){return e*t<0||e===0?n:1/0},t.quadrature=function(e,t){return function(n){var r=e(n),i=t(n);return Math.sqrt(r*r+i*i)}},t.makeEventData=function(e,n,r){var i=`index`in e?e.index:e.pointNumber,a={data:n._input,fullData:n,curveNumber:n.index,pointNumber:i};if(n._indexToPoints){var o=n._indexToPoints[i];o.length===1?a.pointIndex=o[0]:a.pointIndices=o}else a.pointIndex=i;return n._module.eventData?a=n._module.eventData(a,e,n,r,i):(`xVal`in e?a.x=e.xVal:`x`in e&&(a.x=e.x),`yVal`in e?a.y=e.yVal:`y`in e&&(a.y=e.y),e.xa&&(a.xaxis=e.xa),e.ya&&(a.yaxis=e.ya),e.zLabelVal!==void 0&&(a.z=e.zLabelVal)),t.appendArrayPointValue(a,n,i),a},t.appendArrayPointValue=function(e,t,n){var i=t._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var c=i[s],l=a(c);if(e[l]===void 0){var u=o(r.nestedProperty(t,c).get(),n);u!==void 0&&(e[l]=u)}}},t.appendArrayMultiPointValues=function(e,t,n){var i=t._arrayAttrs;if(i)for(var s=0;s<i.length;s++){var c=i[s],l=a(c);if(e[l]===void 0){for(var u=r.nestedProperty(t,c).get(),d=Array(n.length),f=0;f<n.length;f++)d[f]=o(u,n[f]);e[l]=d}}};var i={ids:`id`,locations:`location`,labels:`label`,values:`value`,"marker.colors":`color`,parents:`parent`};function a(e){return i[e]||e}function o(e,t){if(Array.isArray(t)){if(Array.isArray(e)&&Array.isArray(e[t[0]]))return e[t[0]][t[1]]}else return e[t]}var s={x:!0,y:!0},c={"x unified":!0,"y unified":!0};t.isUnifiedHover=function(e){return typeof e==`string`?!!c[e]:!1},t.isXYhover=function(e){return typeof e==`string`?!!s[e]:!1}}),88335:(function(e,t,n){var r=n(39898),i=n(92770),a=n(84267),o=n(71828),s=o.strTranslate,c=o.strRotate,l=n(11086),u=n(63893),d=n(39918),f=n(91424),p=n(7901),m=n(28569),h=n(89298),g=n(73972),_=n(23469),v=n(26675),y=n(99017),b=n(43969),x=v.YANGLE,S=Math.PI*x/180,C=1/Math.sin(S),w=Math.cos(S),T=Math.sin(S),E=v.HOVERARROWSIZE,D=v.HOVERTEXTPAD,O={box:!0,ohlc:!0,violin:!0,candlestick:!0},k={scatter:!0,scattergl:!0,splom:!0};t.hover=function(e,t,n,r){e=o.getGraphDiv(e);var i=t.target;o.throttle(e._fullLayout._uid+v.HOVERID,v.HOVERMINTIME,function(){A(e,t,n,r,i)})},t.loneHover=function(e,t){var n=!0;Array.isArray(e)||(n=!1,e=[e]);var i=t.gd,a=K(i),o=ee(i),s=e.map(function(e){var n=e._x0||e.x0||e.x||0,r=e._x1||e.x1||e.x||0,s=e._y0||e.y0||e.y||0,c=e._y1||e.y1||e.y||0,l=e.eventData;if(l){var u=Math.min(n,r),d=Math.max(n,r),f=Math.min(s,c),m=Math.max(s,c),h=e.trace;if(g.traceIs(h,`gl3d`)){var _=i._fullLayout[h.scene]._scene.container,v=_.offsetLeft,y=_.offsetTop;u+=v,d+=v,f+=y,m+=y}l.bbox={x0:u+o,x1:d+o,y0:f+a,y1:m+a},t.inOut_bbox&&t.inOut_bbox.push(l.bbox)}else l=!1;return{color:e.color||p.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:``},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,hovertemplateLabels:e.hovertemplateLabels||!1,eventData:l}}),c=!1,l=N(s,{gd:i,hovermode:`closest`,rotateLabels:c,bgColor:t.bgColor||p.background,container:r.select(t.container),outerContainer:t.outerContainer||t.container}).hoverLabels,u=5,d=0,f=0;l.sort(function(e,t){return e.y0-t.y0}).each(function(e,n){var r=e.y0-e.by/2;r-u<d?e.offset=d-r+u:e.offset=0,d=r+e.by+e.offset,n===t.anchorIndex&&(f=e.offset)}).each(function(e){e.offset-=f});var m=i._fullLayout._invScaleX,h=i._fullLayout._invScaleY;return R(l,c,m,h),n?l:l.node()};function A(e,t,n,a,s){n||=`xy`;var c=Array.isArray(n)?n:[n],u=e._fullLayout,f=u._plots||[],h=f[n],v=u._has(`cartesian`);if(h){var y=h.overlays.map(function(e){return e.id});c=c.concat(y)}for(var b=c.length,x=Array(b),S=Array(b),C=!1,w=0;w<b;w++){var T=c[w];if(f[T])C=!0,x[w]=f[T].xaxis,S[w]=f[T].yaxis;else if(u[T]&&u[T]._subplot){var E=u[T]._subplot;x[w]=E.xaxis,S[w]=E.yaxis}else{o.warn(`Unrecognized subplot: `+T);return}}var D=t.hovermode||u.hovermode;if(D&&!C&&(D=`closest`),[`x`,`y`,`closest`,`x unified`,`y unified`].indexOf(D)===-1||!e.calcdata||e.querySelector(`.zoombox`)||e._dragging)return m.unhoverRaw(e,t);var A=u.hoverdistance;A===-1&&(A=1/0);var M=u.spikedistance;M===-1&&(M=1/0);var P=[],I=[],L,U,q,J,Y,te,ne,re,ie,ae,oe,se,ce,le={hLinePoint:null,vLinePoint:null},ue=!1;if(Array.isArray(t))for(D=`array`,q=0;q<t.length;q++)Y=e.calcdata[t[q].curveNumber||0],Y&&(te=Y[0].trace,Y[0].trace.hoverinfo!==`skip`&&(I.push(Y),te.orientation===`h`&&(ue=!0)));else{for(J=0;J<e.calcdata.length;J++)Y=e.calcdata[J],te=Y[0].trace,te.hoverinfo!==`skip`&&_.isTraceInSubplots(te,c)&&(I.push(Y),te.orientation===`h`&&(ue=!0));var de=!s,fe,pe;if(de)fe=`xpx`in t?t.xpx:x[0]._length/2,pe=`ypx`in t?t.ypx:S[0]._length/2;else{if(l.triggerHandler(e,`plotly_beforehover`,t)===!1)return;var me=s.getBoundingClientRect();fe=t.clientX-me.left,pe=t.clientY-me.top,u._calcInverseTransform(e);var he=o.apply3DTransform(u._invTransform)(fe,pe);if(fe=he[0],pe=he[1],fe<0||fe>x[0]._length||pe<0||pe>S[0]._length)return m.unhoverRaw(e,t)}if(t.pointerX=fe+x[0]._offset,t.pointerY=pe+S[0]._offset,L=`xval`in t?_.flat(c,t.xval):_.p2c(x,fe),U=`yval`in t?_.flat(c,t.yval):_.p2c(S,pe),!i(L[0])||!i(U[0]))return o.warn(`Fx.hover failed`,t,e),m.unhoverRaw(e,t)}var ge=1/0;function _e(e,n){for(J=0;J<I.length;J++)if(Y=I[J],!(!Y||!Y[0]||!Y[0].trace)&&(te=Y[0].trace,!(te.visible!==!0||te._length===0)&&[`carpet`,`contourcarpet`].indexOf(te._module.name)===-1)){if(te.type===`splom`?(re=0,ne=c[re]):(ne=_.getSubplot(te),re=c.indexOf(ne)),ie=D,_.isUnifiedHover(ie)&&(ie=ie.charAt(0)),se={cd:Y,trace:te,xa:x[re],ya:S[re],maxHoverDistance:A,maxSpikeDistance:M,index:!1,distance:Math.min(ge,A),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:p.defaultLine,name:te.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},u[ne]&&(se.subplot=u[ne]._subplot),u._splomScenes&&u._splomScenes[te.uid]&&(se.scene=u._splomScenes[te.uid]),ce=P.length,ie===`array`){var r=t[J];`pointNumber`in r?(se.index=r.pointNumber,ie=`closest`):(ie=``,`xval`in r&&(ae=r.xval,ie=`x`),`yval`in r&&(oe=r.yval,ie=ie?`closest`:`y`))}else e!==void 0&&n!==void 0?(ae=e,oe=n):(ae=L[re],oe=U[re]);if(A!==0)if(te._module&&te._module.hoverPoints){var a=te._module.hoverPoints(se,ae,oe,ie,{finiteRange:!0,hoverLayer:u._hoverlayer});if(a)for(var s,l=0;l<a.length;l++)s=a[l],i(s.x0)&&i(s.y0)&&P.push(z(s,D))}else o.log(`Unrecognized trace type in hover:`,te);if(D===`closest`&&P.length>ce&&(P.splice(0,ce),ge=P[0].distance),v&&M!==0&&P.length===0){se.distance=M,se.index=!1;var d=te._module.hoverPoints(se,ae,oe,`closest`,{hoverLayer:u._hoverlayer});if(d&&=d.filter(function(e){return e.spikeDistance<=M}),d&&d.length){var f,m=d.filter(function(e){return e.xa.showspikes&&e.xa.spikesnap!==`hovered data`});if(m.length){var h=m[0];i(h.x0)&&i(h.y0)&&(f=ye(h),(!le.vLinePoint||le.vLinePoint.spikeDistance>f.spikeDistance)&&(le.vLinePoint=f))}var g=d.filter(function(e){return e.ya.showspikes&&e.ya.spikesnap!==`hovered data`});if(g.length){var y=g[0];i(y.x0)&&i(y.y0)&&(f=ye(y),(!le.hLinePoint||le.hLinePoint.spikeDistance>f.spikeDistance)&&(le.hLinePoint=f))}}}}}_e();function ve(e,t,n){for(var r=null,i=1/0,a,o=0;o<e.length;o++)a=e[o].spikeDistance,n&&o===0&&(a=-1/0),a<=i&&a<=t&&(r=e[o],i=a);return r}function ye(e){return e?{xa:e.xa,ya:e.ya,x:e.xSpike===void 0?(e.x0+e.x1)/2:e.xSpike,y:e.ySpike===void 0?(e.y0+e.y1)/2:e.ySpike,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}var be={fullLayout:u,container:u._hoverlayer,event:t},xe=e._spikepoints;e._spikepoints={vLinePoint:le.vLinePoint,hLinePoint:le.hLinePoint};var Se=function(){P.sort(function(e,t){return e.distance-t.distance}),P=W(P,D)};Se();var Ce=D.charAt(0),we=(Ce===`x`||Ce===`y`)&&P[0]&&k[P[0].trace.type];if(v&&M!==0&&P.length!==0&&(le.hLinePoint=ye(ve(P.filter(function(e){return e.ya.showspikes}),M,we)),le.vLinePoint=ye(ve(P.filter(function(e){return e.xa.showspikes}),M,we))),P.length===0){var Te=m.unhoverRaw(e,t);return v&&(le.hLinePoint!==null||le.vLinePoint!==null)&&H(xe)&&B(e,le,be),Te}if(v&&H(xe)&&B(e,le,be),_.isXYhover(ie)&&P[0].length!==0&&P[0].trace.type!==`splom`){var Ee=P[0];P=O[Ee.trace.type]?P.filter(function(e){return e.trace.index===Ee.trace.index}):[Ee];var X=P.length;_e(G(`x`,Ee,u),G(`y`,Ee,u));var Z=[],De={},Q=0,Oe=function(e){var t=O[e.trace.type]?j(e):e.trace.index;if(!De[t])Q++,De[t]=Q,Z.push(e);else{var n=De[t]-1,r=Z[n];n>0&&Math.abs(e.distance)<Math.abs(r.distance)&&(Z[n]=e)}},ke;for(ke=0;ke<X;ke++)Oe(P[ke]);for(ke=P.length-1;ke>X-1;ke--)Oe(P[ke]);P=Z,Se()}var Ae=e._hoverdata,je=[],Me=K(e),Ne=ee(e);for(q=0;q<P.length;q++){var Pe=P[q],Fe=_.makeEventData(Pe,Pe.trace,Pe.cd);if(Pe.hovertemplate!==!1){var Ie=!1;Pe.cd[Pe.index]&&Pe.cd[Pe.index].ht&&(Ie=Pe.cd[Pe.index].ht),Pe.hovertemplate=Ie||Pe.trace.hovertemplate||!1}if(Pe.xa&&Pe.ya){var Le=Pe.x0+Pe.xa._offset,Re=Pe.x1+Pe.xa._offset,ze=Pe.y0+Pe.ya._offset,Be=Pe.y1+Pe.ya._offset,Ve=Math.min(Le,Re),He=Math.max(Le,Re),Ue=Math.min(ze,Be),We=Math.max(ze,Be);Fe.bbox={x0:Ve+Ne,x1:He+Ne,y0:Ue+Me,y1:We+Me}}Pe.eventData=[Fe],je.push(Fe)}e._hoverdata=je;var Ge=D===`y`&&(I.length>1||P.length>1)||D===`closest`&&ue&&P.length>1,Ke=p.combine(u.plot_bgcolor||p.background,u.paper_bgcolor),qe=N(P,{gd:e,hovermode:D,rotateLabels:Ge,bgColor:Ke,container:u._hoverlayer,outerContainer:u._paper.node(),commonLabelOpts:u.hoverlabel,hoverdistance:u.hoverdistance}),Je=qe.hoverLabels;if(_.isUnifiedHover(D)||(F(Je,Ge,u,qe.commonLabelBoundingBox),R(Je,Ge,u._invScaleX,u._invScaleY)),s&&s.tagName){var Ye=g.getComponentMethod(`annotations`,`hasClickToShow`)(e,je);d(r.select(s),Ye?`pointer`:``)}!s||a||!V(e,t,Ae)||(Ae&&e.emit(`plotly_unhover`,{event:t,points:Ae}),e.emit(`plotly_hover`,{event:t,points:e._hoverdata,xaxes:x,yaxes:S,xvals:L,yvals:U}))}function j(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa?e.xa._id:``,e.ya?e.ya._id:``].join(`,`)}var M=/<extra>([\s\S]*)<\/extra>/;function N(e,t){var n=t.gd,i=n._fullLayout,a=t.hovermode,l=t.rotateLabels,d=t.bgColor,m=t.container,h=t.outerContainer,S=t.commonLabelOpts||{};if(e.length===0)return[[]];var C=t.fontFamily||v.HOVERFONT,w=t.fontSize||v.HOVERFONTSIZE,T=e[0],O=T.xa,k=T.ya,A=a.charAt(0),M=A+`Label`,N=T[M];if(N===void 0&&O.type===`multicategory`)for(var F=0;F<e.length&&(N=e[F][M],N===void 0);F++);var I=q(n,h),L=I.top,R=I.width,z=I.height,B=N!==void 0&&T.distance<=t.hoverdistance&&(a===`x`||a===`y`);if(B){var V=!0,H,U;for(H=0;H<e.length;H++)if(V&&e[H].zLabel===void 0&&(V=!1),U=e[H].hoverinfo||e[H].trace.hoverinfo,U){var W=Array.isArray(U)?U:U.split(`+`);if(W.indexOf(`all`)===-1&&W.indexOf(a)===-1){B=!1;break}}V&&(B=!1)}var G=m.selectAll(`g.axistext`).data(B?[0]:[]);G.enter().append(`g`).classed(`axistext`,!0),G.exit().remove();var K={minX:0,maxX:0,minY:0,maxY:0};if(G.each(function(){var e=r.select(this),t=o.ensureSingle(e,`path`,``,function(e){e.style({"stroke-width":`1px`})}),c=o.ensureSingle(e,`text`,``,function(e){e.attr(`data-notex`,1)}),l=S.bgcolor||p.defaultLine,d=S.bordercolor||p.contrast(l),m=p.contrast(l),h={family:S.font.family||C,size:S.font.size||w,color:S.font.color||m};t.style({fill:l,stroke:d}),c.text(N).call(f.font,h).call(u.positionText,0,0).call(u.convertToTspans,n),e.attr(`transform`,``);var g=q(n,c.node()),_,v;if(a===`x`){var y=O.side===`top`?`-`:``;c.attr(`text-anchor`,`middle`).call(u.positionText,0,O.side===`top`?L-g.bottom-E-D:L-g.top+E+D),_=O._offset+(T.x0+T.x1)/2,v=k._offset+(O.side===`top`?0:k._length);var b=g.width/2+D;_<b?(_=b,t.attr(`d`,`M-`+(b-E)+`,0L-`+(b-E*2)+`,`+y+E+`H`+b+`v`+y+(D*2+g.height)+`H-`+b+`V`+y+E+`Z`)):_>i.width-b?(_=i.width-b,t.attr(`d`,`M`+(b-E)+`,0L`+b+`,`+y+E+`v`+y+(D*2+g.height)+`H-`+b+`V`+y+E+`H`+(b-E*2)+`Z`)):t.attr(`d`,`M0,0L`+E+`,`+y+E+`H`+b+`v`+y+(D*2+g.height)+`H-`+b+`V`+y+E+`H-`+E+`Z`),K.minX=_-b,K.maxX=_+b,O.side===`top`?(K.minY=v-(D*2+g.height),K.maxY=v-D):(K.minY=v+D,K.maxY=v+(D*2+g.height))}else{var x,A,j;k.side===`right`?(x=`start`,A=1,j=``,_=O._offset+O._length):(x=`end`,A=-1,j=`-`,_=O._offset),v=k._offset+(T.y0+T.y1)/2,c.attr(`text-anchor`,x),t.attr(`d`,`M0,0L`+j+E+`,`+E+`V`+(D+g.height/2)+`h`+j+(D*2+g.width)+`V-`+(D+g.height/2)+`H`+j+E+`V-`+E+`Z`),K.minY=v-(D+g.height/2),K.maxY=v+(D+g.height/2),k.side===`right`?(K.minX=_+E,K.maxX=_+E+(D*2+g.width)):(K.minX=_-E-(D*2+g.width),K.maxX=_-E);var M=g.height/2,P=L-g.top-M,F=`clip`+i._uid+`commonlabel`+k._id,I;if(_<g.width+2*D+E){I=`M-`+(E+D)+`-`+M+`h-`+(g.width-D)+`V`+M+`h`+(g.width-D)+`Z`;var R=g.width-_+D;u.positionText(c,R,P),x===`end`&&c.selectAll(`tspan`).each(function(){var e=r.select(this),t=f.tester.append(`text`).text(e.text()).call(f.font,h),i=q(n,t.node());Math.round(i.width)<Math.round(g.width)&&e.attr(`x`,R-i.width),t.remove()})}else u.positionText(c,A*(D+E),P),I=null;var z=i._topclips.selectAll(`#`+F).data(I?[0]:[]);z.enter().append(`clipPath`).attr(`id`,F).append(`path`),z.exit().remove(),z.select(`path`).attr(`d`,I),f.setClipUrl(c,I?F:null,n)}e.attr(`transform`,s(_,v))}),_.isUnifiedHover(a)){m.selectAll(`g.hovertext`).remove();var ee=e.filter(function(e){return e.hoverinfo!==`none`});if(ee.length===0)return;var J=i.hoverlabel,Y=J.font,te={showlegend:!0,legend:{title:{text:N,font:Y},font:Y,bgcolor:J.bgcolor,bordercolor:J.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:i.legend?i.legend.traceorder:void 0,orientation:`v`}},ne={font:Y};y(te,ne,n._fullData);var re=ne.legend;re.entries=[];for(var ie=0;ie<ee.length;ie++){var ae=ee[ie];if(ae.hoverinfo!==`none`){var oe=P(ae,!0,a,i,N),se=oe[0],ce=oe[1];ae.name=ce,ce===``?ae.text=se:ae.text=ce+` : `+se;var le=ae.cd[ae.index];le&&(le.mc&&(ae.mc=le.mc),le.mcc&&(ae.mc=le.mcc),le.mlc&&(ae.mlc=le.mlc),le.mlcc&&(ae.mlc=le.mlcc),le.mlw&&(ae.mlw=le.mlw),le.mrc&&(ae.mrc=le.mrc),le.dir&&(ae.dir=le.dir)),ae._distinct=!0,re.entries.push([ae])}}re.entries.sort(function(e,t){return e[0].trace.index-t[0].trace.index}),re.layer=m,re._inHover=!0,re._groupTitleFont=J.grouptitlefont,b(n,re);var ue=m.select(`g.legend`),de=q(n,ue.node()),fe=de.width+2*D,pe=de.height+2*D,me=ee[0],he=(me.x0+me.x1)/2,ge=(me.y0+me.y1)/2,_e=!(g.traceIs(me.trace,`bar-like`)||g.traceIs(me.trace,`box-violin`)),ve,ye;A===`y`?_e?(ye=ge-D,ve=ge+D):(ye=Math.min.apply(null,ee.map(function(e){return Math.min(e.y0,e.y1)})),ve=Math.max.apply(null,ee.map(function(e){return Math.max(e.y0,e.y1)}))):ye=ve=o.mean(ee.map(function(e){return(e.y0+e.y1)/2}))-pe/2;var be,xe;A===`x`?_e?(be=he+D,xe=he-D):(be=Math.max.apply(null,ee.map(function(e){return Math.max(e.x0,e.x1)})),xe=Math.min.apply(null,ee.map(function(e){return Math.min(e.x0,e.x1)}))):be=xe=o.mean(ee.map(function(e){return(e.x0+e.x1)/2}))-fe/2;var Se=O._offset,Ce=k._offset;ve+=Ce,be+=Se,xe+=Se-fe,ye+=Ce-pe;var we=be+fe<R&&be>=0?be:xe+fe<R&&xe>=0?xe:Se+fe<R?Se:be-he<he-xe+fe?R-fe:0,Te;return we+=D,Te=ve+pe<z&&ve>=0?ve:ye+pe<z&&ye>=0?ye:Ce+pe<z?Ce:ve-ge<ge-ye+pe?z-pe:0,Te+=D,ue.attr(`transform`,s(we-1,Te-1)),ue}var Ee=m.selectAll(`g.hovertext`).data(e,function(e){return j(e)});return Ee.enter().append(`g`).classed(`hovertext`,!0).each(function(){var e=r.select(this);e.append(`rect`).call(p.fill,p.addOpacity(d,.8)),e.append(`text`).classed(`name`,!0),e.append(`path`).style(`stroke-width`,`1px`),e.append(`text`).classed(`nums`,!0).call(f.font,C,w)}),Ee.exit().remove(),Ee.each(function(e){var t=r.select(this).attr(`transform`,``),o=e.color;Array.isArray(o)&&(o=o[e.eventData[0].pointNumber]);var m=e.bgcolor||o,h=p.combine(p.opacity(m)?m:p.defaultLine,d),g=p.combine(p.opacity(o)?o:p.defaultLine,d),_=e.borderColor||p.contrast(h),v=P(e,B,a,i,N,t),y=v[0],b=v[1],S=t.select(`text.nums`).call(f.font,e.fontFamily||C,e.fontSize||w,e.fontColor||_).text(y).attr(`data-notex`,1).call(u.positionText,0,0).call(u.convertToTspans,n),T=t.select(`text.name`),O=0,k=0;if(b&&b!==y){T.call(f.font,e.fontFamily||C,e.fontSize||w,g).text(b).attr(`data-notex`,1).call(u.positionText,0,0).call(u.convertToTspans,n);var A=q(n,T.node());O=A.width+2*D,k=A.height+2*D}else T.remove(),t.select(`rect`).remove();t.select(`path`).style({fill:h,stroke:_});var j=e.xa._offset+(e.x0+e.x1)/2,M=e.ya._offset+(e.y0+e.y1)/2,F=Math.abs(e.x1-e.x0),I=Math.abs(e.y1-e.y0),V=q(n,S.node()),H=V.width/i._invScaleX,U=V.height/i._invScaleY;e.ty0=(L-V.top)/i._invScaleY,e.bx=H+2*D,e.by=Math.max(U+2*D,k),e.anchor=`start`,e.txwidth=H,e.tx2width=O,e.offset=0;var W=(H+E+D+O)*i._invScaleX,G,K;if(l)e.pos=j,G=M+I/2+W<=z,K=M-I/2-W>=0,(e.idealAlign===`top`||!G)&&K?(M-=I/2,e.anchor=`end`):G?(M+=I/2,e.anchor=`start`):e.anchor=`middle`,e.crossPos=M;else{if(e.pos=M,G=j+F/2+W<=R,K=j-F/2-W>=0,(e.idealAlign===`left`||!G)&&K)j-=F/2,e.anchor=`end`;else if(G)j+=F/2,e.anchor=`start`;else{e.anchor=`middle`;var ee=W/2,J=j+ee-R,Y=j-ee;J>0&&(j-=J),Y<0&&(j+=-Y)}e.crossPos=j}S.attr(`text-anchor`,e.anchor),O&&T.attr(`text-anchor`,e.anchor),t.attr(`transform`,s(j,M)+(l?c(x):``))}),{hoverLabels:Ee,commonLabelBoundingBox:K}}function P(e,t,n,r,i,a){var s=``,c=``;e.nameOverride!==void 0&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=o.templateString(e.name,e.trace._meta)),s=U(e.name,e.nameLength));var l=n.charAt(0),u=l===`x`?`y`:`x`;e.zLabel===void 0?t&&e[l+`Label`]===i?c=e[u+`Label`]||``:e.xLabel===void 0?e.yLabel!==void 0&&e.trace.type!==`scattercarpet`&&(c=e.yLabel):c=e.yLabel===void 0?e.xLabel:`(`+e.xLabel+`, `+e.yLabel+`)`:(e.xLabel!==void 0&&(c+=`x: `+e.xLabel+`<br>`),e.yLabel!==void 0&&(c+=`y: `+e.yLabel+`<br>`),e.trace.type!==`choropleth`&&e.trace.type!==`choroplethmapbox`&&(c+=(c?`z: `:``)+e.zLabel)),(e.text||e.text===0)&&!Array.isArray(e.text)&&(c+=(c?`<br>`:``)+e.text),e.extraText!==void 0&&(c+=(c?`<br>`:``)+e.extraText),a&&c===``&&!e.hovertemplate&&(s===``&&a.remove(),c=s);var d=e.hovertemplate||!1;if(d){var f=e.hovertemplateLabels||e;e[l+`Label`]!==i&&(f[l+`other`]=f[l+`Val`],f[l+`otherLabel`]=f[l+`Label`]),c=o.hovertemplateString(d,f,r._d3locale,e.eventData[0]||{},e.trace._meta),c=c.replace(M,function(t,n){return s=U(n,e.nameLength),``})}return[c,s]}function F(e,t,n,r){var i=t?`xa`:`ya`,a=t?`ya`:`xa`,o=0,s=1,c=e.size(),l=Array(c),u=0,d=r.minX,f=r.maxX,p=r.minY,m=r.maxY,h=function(e){return e*n._invScaleX},g=function(e){return e*n._invScaleY};e.each(function(e){var r=e[i],o=e[a],c=r._id.charAt(0)===`x`,_=r.range;u===0&&_&&_[0]>_[1]!==c&&(s=-1);var v=0,y=c?n.width:n.height;if(n.hovermode===`x`||n.hovermode===`y`){var b=I(e,t),x=e.anchor,S=x===`end`?-1:1,w,T;if(x===`middle`)w=e.crossPos+(c?g(b.y-e.by/2):h(e.bx/2+e.tx2width/2)),T=w+(c?g(e.by):h(e.bx));else if(c)w=e.crossPos+g(E+b.y)-g(e.by/2-E),T=w+g(e.by);else{var D=h(S*E+b.x),O=D+h(S*e.bx);w=e.crossPos+Math.min(D,O),T=e.crossPos+Math.max(D,O)}c?p!==void 0&&m!==void 0&&Math.min(T,m)-Math.max(w,p)>1&&(o.side===`left`?(v=o._mainLinePosition,y=n.width):y=o._mainLinePosition):d!==void 0&&f!==void 0&&Math.min(T,f)-Math.max(w,d)>1&&(o.side===`top`?(v=o._mainLinePosition,y=n.height):y=o._mainLinePosition)}l[u++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(c?C:1)/2,pmin:v,pmax:y}]}),l.sort(function(e,t){return e[0].posref-t[0].posref||s*(t[0].traceIndex-e[0].traceIndex)});var _,v,y,b,x,S,w;function T(e){var t=e[0],n=e[e.length-1];if(v=t.pmin-t.pos-t.dp+t.size,y=n.pos+n.dp+n.size-t.pmax,v>.01){for(x=e.length-1;x>=0;x--)e[x].dp+=v;_=!1}if(!(y<.01)){if(v<-.01){for(x=e.length-1;x>=0;x--)e[x].dp-=y;_=!1}if(_){var r=0;for(b=0;b<e.length;b++)S=e[b],S.pos+S.dp+S.size>t.pmax&&r++;for(b=e.length-1;b>=0&&!(r<=0);b--)S=e[b],S.pos>t.pmax-1&&(S.del=!0,r--);for(b=0;b<e.length&&!(r<=0);b++)if(S=e[b],S.pos<t.pmin+1)for(S.del=!0,r--,y=S.size*2,x=e.length-1;x>=0;x--)e[x].dp-=y;for(b=e.length-1;b>=0&&!(r<=0);b--)S=e[b],S.pos+S.dp+S.size>t.pmax&&(S.del=!0,r--)}}}for(;!_&&o<=c;){for(o++,_=!0,b=0;b<l.length-1;){var D=l[b],O=l[b+1],k=D[D.length-1],A=O[0];if(v=k.pos+k.dp+k.size-A.pos-A.dp+A.size,v>.01&&k.pmin===A.pmin&&k.pmax===A.pmax){for(x=O.length-1;x>=0;x--)O[x].dp+=v;for(D.push.apply(D,O),l.splice(b+1,1),w=0,x=D.length-1;x>=0;x--)w+=D[x].dp;for(y=w/D.length,x=D.length-1;x>=0;x--)D[x].dp-=y;_=!1}else b++}l.forEach(T)}for(b=l.length-1;b>=0;b--){var j=l[b];for(x=j.length-1;x>=0;x--){var M=j[x],N=M.datum;N.offset=M.dp,N.del=M.del}}}function I(e,t){var n=0,r=e.offset;return t&&(r*=-T,n=e.offset*w),{x:n,y:r}}function L(e){var t={start:1,end:-1,middle:0}[e.anchor],n=t*(E+D),r=n+t*(e.txwidth+D);return e.anchor===`middle`&&(n-=e.tx2width/2,r+=e.txwidth/2+D),{alignShift:t,textShiftX:n,text2ShiftX:r}}function R(e,t,n,i){var a=function(e){return e*n},o=function(e){return e*i};e.each(function(e){var n=r.select(this);if(e.del)return n.remove();var i=n.select(`text.nums`),s=e.anchor,c=s===`end`?-1:1,l=L(e),d=I(e,t),p=d.x,m=d.y,h=s===`middle`;n.select(`path`).attr(`d`,h?`M-`+a(e.bx/2+e.tx2width/2)+`,`+o(m-e.by/2)+`h`+a(e.bx)+`v`+o(e.by)+`h-`+a(e.bx)+`Z`:`M0,0L`+a(c*E+p)+`,`+o(E+m)+`v`+o(e.by/2-E)+`h`+a(c*e.bx)+`v-`+o(e.by)+`H`+a(c*E+p)+`V`+o(m-E)+`Z`);var g=p+l.textShiftX,_=m+e.ty0-e.by/2+D,v=e.textAlign||`auto`;v!==`auto`&&(v===`left`&&s!==`start`?(i.attr(`text-anchor`,`start`),g=h?-e.bx/2-e.tx2width/2+D:-e.bx-D):v===`right`&&s!==`end`&&(i.attr(`text-anchor`,`end`),g=h?e.bx/2-e.tx2width/2-D:e.bx+D)),i.call(u.positionText,a(g),o(_)),e.tx2width&&(n.select(`text.name`).call(u.positionText,a(l.text2ShiftX+l.alignShift*D+p),o(m+e.ty0-e.by/2+D)),n.select(`rect`).call(f.setRect,a(l.text2ShiftX+(l.alignShift-1)*e.tx2width/2+p),o(m-e.by/2-1),a(e.tx2width),o(e.by+2)))})}function z(e,t){var n=e.index,r=e.trace||{},a=e.cd[0],s=e.cd[n]||{};function c(e){return e||i(e)&&e===0}var l=Array.isArray(n)?function(e,t){var i=o.castOption(a,n,e);return c(i)?i:o.extractOption({},r,``,t)}:function(e,t){return o.extractOption(s,r,e,t)};function u(t,n,r){var i=l(n,r);c(i)&&(e[t]=i)}if(u(`hoverinfo`,`hi`,`hoverinfo`),u(`bgcolor`,`hbg`,`hoverlabel.bgcolor`),u(`borderColor`,`hbc`,`hoverlabel.bordercolor`),u(`fontFamily`,`htf`,`hoverlabel.font.family`),u(`fontSize`,`hts`,`hoverlabel.font.size`),u(`fontColor`,`htc`,`hoverlabel.font.color`),u(`nameLength`,`hnl`,`hoverlabel.namelength`),u(`textAlign`,`hta`,`hoverlabel.align`),e.posref=t===`y`||t===`closest`&&r.orientation===`h`?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=o.constrain(e.x0,0,e.xa._length),e.x1=o.constrain(e.x1,0,e.xa._length),e.y0=o.constrain(e.y0,0,e.ya._length),e.y1=o.constrain(e.y1,0,e.ya._length),e.xLabelVal!==void 0&&(e.xLabel=`xLabel`in e?e.xLabel:h.hoverLabelText(e.xa,e.xLabelVal,r.xhoverformat),e.xVal=e.xa.c2d(e.xLabelVal)),e.yLabelVal!==void 0&&(e.yLabel=`yLabel`in e?e.yLabel:h.hoverLabelText(e.ya,e.yLabelVal,r.yhoverformat),e.yVal=e.ya.c2d(e.yLabelVal)),e.zLabelVal!==void 0&&e.zLabel===void 0&&(e.zLabel=String(e.zLabelVal)),!isNaN(e.xerr)&&!(e.xa.type===`log`&&e.xerr<=0)){var d=h.tickText(e.xa,e.xa.c2l(e.xerr),`hover`).text;e.xerrneg===void 0?e.xLabel+=`  `+d:e.xLabel+=` +`+d+` / -`+h.tickText(e.xa,e.xa.c2l(e.xerrneg),`hover`).text,t===`x`&&(e.distance+=1)}if(!isNaN(e.yerr)&&!(e.ya.type===`log`&&e.yerr<=0)){var f=h.tickText(e.ya,e.ya.c2l(e.yerr),`hover`).text;e.yerrneg===void 0?e.yLabel+=`  `+f:e.yLabel+=` +`+f+` / -`+h.tickText(e.ya,e.ya.c2l(e.yerrneg),`hover`).text,t===`y`&&(e.distance+=1)}var p=e.hoverinfo||e.trace.hoverinfo;return p&&p!==`all`&&(p=Array.isArray(p)?p:p.split(`+`),p.indexOf(`x`)===-1&&(e.xLabel=void 0),p.indexOf(`y`)===-1&&(e.yLabel=void 0),p.indexOf(`z`)===-1&&(e.zLabel=void 0),p.indexOf(`text`)===-1&&(e.text=void 0),p.indexOf(`name`)===-1&&(e.name=void 0)),e}function B(e,t,n){var r=n.container,i=n.fullLayout,o=i._size,s=n.event,c=!!t.hLinePoint,l=!!t.vLinePoint,u,d;if(r.selectAll(`.spikeline`).remove(),l||c){var m=p.combine(i.plot_bgcolor,i.paper_bgcolor);if(c){var g=t.hLinePoint,_,v;u=g&&g.xa,d=g&&g.ya,d.spikesnap===`cursor`?(_=s.pointerX,v=s.pointerY):(_=u._offset+g.x,v=d._offset+g.y);var y=a.readability(g.color,m)<1.5?p.contrast(m):g.color,b=d.spikemode,x=d.spikethickness,S=d.spikecolor||y,C=h.getPxPosition(e,d),w,T;if(b.indexOf(`toaxis`)!==-1||b.indexOf(`across`)!==-1){if(b.indexOf(`toaxis`)!==-1&&(w=C,T=_),b.indexOf(`across`)!==-1){var E=d._counterDomainMin,D=d._counterDomainMax;d.anchor===`free`&&(E=Math.min(E,d.position),D=Math.max(D,d.position)),w=o.l+E*o.w,T=o.l+D*o.w}r.insert(`line`,`:first-child`).attr({x1:w,x2:T,y1:v,y2:v,"stroke-width":x,stroke:S,"stroke-dasharray":f.dashStyle(d.spikedash,x)}).classed(`spikeline`,!0).classed(`crisp`,!0),r.insert(`line`,`:first-child`).attr({x1:w,x2:T,y1:v,y2:v,"stroke-width":x+2,stroke:m}).classed(`spikeline`,!0).classed(`crisp`,!0)}b.indexOf(`marker`)!==-1&&r.insert(`circle`,`:first-child`).attr({cx:C+(d.side===`right`?-x:x),cy:v,r:x,fill:S}).classed(`spikeline`,!0)}if(l){var O=t.vLinePoint,k,A;u=O&&O.xa,d=O&&O.ya,u.spikesnap===`cursor`?(k=s.pointerX,A=s.pointerY):(k=u._offset+O.x,A=d._offset+O.y);var j=a.readability(O.color,m)<1.5?p.contrast(m):O.color,M=u.spikemode,N=u.spikethickness,P=u.spikecolor||j,F=h.getPxPosition(e,u),I,L;if(M.indexOf(`toaxis`)!==-1||M.indexOf(`across`)!==-1){if(M.indexOf(`toaxis`)!==-1&&(I=F,L=A),M.indexOf(`across`)!==-1){var R=u._counterDomainMin,z=u._counterDomainMax;u.anchor===`free`&&(R=Math.min(R,u.position),z=Math.max(z,u.position)),I=o.t+(1-z)*o.h,L=o.t+(1-R)*o.h}r.insert(`line`,`:first-child`).attr({x1:k,x2:k,y1:I,y2:L,"stroke-width":N,stroke:P,"stroke-dasharray":f.dashStyle(u.spikedash,N)}).classed(`spikeline`,!0).classed(`crisp`,!0),r.insert(`line`,`:first-child`).attr({x1:k,x2:k,y1:I,y2:L,"stroke-width":N+2,stroke:m}).classed(`spikeline`,!0).classed(`crisp`,!0)}M.indexOf(`marker`)!==-1&&r.insert(`circle`,`:first-child`).attr({cx:k,cy:F-(u.side===`top`?-N:N),r:N,fill:P}).classed(`spikeline`,!0)}}}function V(e,t,n){if(!n||n.length!==e._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var i=n[r],a=e._hoverdata[r];if(i.curveNumber!==a.curveNumber||String(i.pointNumber)!==String(a.pointNumber)||String(i.pointNumbers)!==String(a.pointNumbers))return!0}return!1}function H(e,t){return!t||t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint}function U(e,t){return u.plainText(e||``,{len:t,allowedTags:[`br`,`sub`,`sup`,`b`,`i`,`em`]})}function W(e,t){for(var n=t.charAt(0),r=[],i=[],a=[],o=0;o<e.length;o++){var s=e[o];g.traceIs(s.trace,`bar-like`)||g.traceIs(s.trace,`box-violin`)?a.push(s):s.trace[n+`period`]?i.push(s):r.push(s)}return r.concat(i).concat(a)}function G(e,t,n){var r=t[e+`a`],i=t[e+`Val`],a=t.cd[0];if(r.type===`category`||r.type===`multicategory`)i=r._categoriesMap[i];else if(r.type===`date`){var o=t.trace[e+`periodalignment`];if(o){var s=t.cd[t.index],c=s[e+`Start`];c===void 0&&(c=s[e]);var l=s[e+`End`];l===void 0&&(l=s[e]);var u=l-c;o===`end`?i+=u:o===`middle`&&(i+=u/2)}i=r.d2c(i)}return a&&a.t&&a.t.posLetter===r._id&&(n.boxmode===`group`||n.violinmode===`group`)&&(i+=a.t.dPos),i}function K(e){return e.offsetTop+e.clientTop}function ee(e){return e.offsetLeft+e.clientLeft}function q(e,t){var n=e._fullLayout,r=t.getBoundingClientRect(),i=r.left,a=r.top,s=i+r.width,c=a+r.height,l=o.apply3DTransform(n._invTransform)(i,a),u=o.apply3DTransform(n._invTransform)(s,c),d=l[0],f=l[1],p=u[0],m=u[1];return{x:d,y:f,width:p-d,height:m-f,top:Math.min(f,m),left:Math.min(d,p),right:Math.max(d,p),bottom:Math.max(f,m)}}}),38048:(function(e,t,n){var r=n(71828),i=n(7901),a=n(23469).isUnifiedHover;e.exports=function(e,t,n,o){o||={};var s=t.legend;function c(e){o.font[e]||(o.font[e]=s?t.legend.font[e]:t.font[e])}t&&a(t.hovermode)&&(o.font||={},c(`size`),c(`family`),c(`color`),s?(o.bgcolor||=i.combine(t.legend.bgcolor,t.paper_bgcolor),o.bordercolor||=t.legend.bordercolor):o.bgcolor||=t.paper_bgcolor),n(`hoverlabel.bgcolor`,o.bgcolor),n(`hoverlabel.bordercolor`,o.bordercolor),n(`hoverlabel.namelength`,o.namelength),r.coerceFont(n,`hoverlabel.font`,o.font),n(`hoverlabel.align`,o.align)}}),98212:(function(e,t,n){var r=n(71828),i=n(528);e.exports=function(e,t){function n(n,a){return t[n]===void 0?r.coerce(e,t,i,n,a):t[n]}return n(`clickmode`),n(`hovermode`)}}),30211:(function(e,t,n){var r=n(39898),i=n(71828),a=n(28569),o=n(23469),s=n(528),c=n(88335);e.exports={moduleType:`component`,name:`fx`,constants:n(26675),schema:{layout:s},attributes:n(77914),layoutAttributes:s,supplyLayoutGlobalDefaults:n(22774),supplyDefaults:n(54268),supplyLayoutDefaults:n(34938),calc:n(30732),getDistanceFunction:o.getDistanceFunction,getClosest:o.getClosest,inbox:o.inbox,quadrature:o.quadrature,appendArrayPointValue:o.appendArrayPointValue,castHoverOption:u,castHoverinfo:d,hover:c.hover,unhover:a.unhover,loneHover:c.loneHover,loneUnhover:l,click:n(75914)};function l(e){var t=i.isD3Selection(e)?e:r.select(e);t.selectAll(`g.hovertext`).remove(),t.selectAll(`.spikeline`).remove()}function u(e,t,n){return i.castOption(e,t,`hoverlabel.`+n)}function d(e,t,n){function r(n){return i.coerceHoverinfo({hoverinfo:n},{_module:e._module},t)}return i.castOption(e,n,`hoverinfo`,r)}}),528:(function(e,t,n){var r=n(26675),i=n(41940),a=i({editType:`none`});a.family.dflt=r.HOVERFONT,a.size.dflt=r.HOVERFONTSIZE,e.exports={clickmode:{valType:`flaglist`,flags:[`event`,`select`],dflt:`event`,editType:`plot`,extras:[`none`]},dragmode:{valType:`enumerated`,values:[`zoom`,`pan`,`select`,`lasso`,`drawclosedpath`,`drawopenpath`,`drawline`,`drawrect`,`drawcircle`,`orbit`,`turntable`,!1],dflt:`zoom`,editType:`modebar`},hovermode:{valType:`enumerated`,values:[`x`,`y`,`closest`,!1,`x unified`,`y unified`],dflt:`closest`,editType:`modebar`},hoverdistance:{valType:`integer`,min:-1,dflt:20,editType:`none`},spikedistance:{valType:`integer`,min:-1,dflt:-1,editType:`none`},hoverlabel:{bgcolor:{valType:`color`,editType:`none`},bordercolor:{valType:`color`,editType:`none`},font:a,grouptitlefont:i({editType:`none`}),align:{valType:`enumerated`,values:[`left`,`right`,`auto`],dflt:`auto`,editType:`none`},namelength:{valType:`integer`,min:-1,dflt:15,editType:`none`},editType:`none`},selectdirection:{valType:`enumerated`,values:[`h`,`v`,`d`,`any`],dflt:`any`,editType:`none`}}}),34938:(function(e,t,n){var r=n(71828),i=n(528),a=n(98212),o=n(38048);e.exports=function(e,t){function n(n,a){return r.coerce(e,t,i,n,a)}a(e,t)&&(n(`hoverdistance`),n(`spikedistance`)),n(`dragmode`)===`select`&&n(`selectdirection`);var s=t._has(`mapbox`),c=t._has(`geo`),l=t._basePlotModules.length;t.dragmode===`zoom`&&((s||c)&&l===1||s&&c&&l===2)&&(t.dragmode=`pan`),o(e,t,n),r.coerceFont(n,`hoverlabel.grouptitlefont`,t.hoverlabel.font)}}),22774:(function(e,t,n){var r=n(71828),i=n(38048),a=n(528);e.exports=function(e,t){function n(n,i){return r.coerce(e,t,a,n,i)}i(e,t,n)}}),83312:(function(e,t,n){var r=n(71828),i=n(30587).counter,a=n(27670).Y,o=n(85555).idRegex,s=n(44467),c={rows:{valType:`integer`,min:1,editType:`plot`},roworder:{valType:`enumerated`,values:[`top to bottom`,`bottom to top`],dflt:`top to bottom`,editType:`plot`},columns:{valType:`integer`,min:1,editType:`plot`},subplots:{valType:`info_array`,freeLength:!0,dimensions:2,items:{valType:`enumerated`,values:[i(`xy`).toString(),``],editType:`plot`},editType:`plot`},xaxes:{valType:`info_array`,freeLength:!0,items:{valType:`enumerated`,values:[o.x.toString(),``],editType:`plot`},editType:`plot`},yaxes:{valType:`info_array`,freeLength:!0,items:{valType:`enumerated`,values:[o.y.toString(),``],editType:`plot`},editType:`plot`},pattern:{valType:`enumerated`,values:[`independent`,`coupled`],dflt:`coupled`,editType:`plot`},xgap:{valType:`number`,min:0,max:1,editType:`plot`},ygap:{valType:`number`,min:0,max:1,editType:`plot`},domain:a({name:`grid`,editType:`plot`,noGridCell:!0},{}),xside:{valType:`enumerated`,values:[`bottom`,`bottom plot`,`top plot`,`top`],dflt:`bottom plot`,editType:`plot`},yside:{valType:`enumerated`,values:[`left`,`left plot`,`right plot`,`right`],dflt:`left plot`,editType:`plot`},editType:`plot`};function l(e,t,n){var r=t[n+`axes`],i=Object.keys((e._splomAxes||{})[n]||{});if(Array.isArray(r))return r;if(i.length)return i}function u(e,t){var n=e.grid||{},i=l(t,n,`x`),a=l(t,n,`y`);if(!e.grid&&!i&&!a)return;var o=Array.isArray(n.subplots)&&Array.isArray(n.subplots[0]),u=Array.isArray(i),f=Array.isArray(a),p=u&&i!==n.xaxes&&f&&a!==n.yaxes,m,h;o?(m=n.subplots.length,h=n.subplots[0].length):(f&&(m=a.length),u&&(h=i.length));var g=s.newContainer(t,`grid`);function _(e,t){return r.coerce(n,g,c,e,t)}var v=_(`rows`,m),y=_(`columns`,h);if(!(v*y>1)){delete t.grid;return}!o&&!u&&!f&&_(`pattern`)===`independent`&&(o=!0),g._hasSubplotGrid=o;var b=_(`roworder`)===`top to bottom`,x=o?.2:.1,S=o?.3:.1,C,w;p&&t._splomGridDflt&&(C=t._splomGridDflt.xside,w=t._splomGridDflt.yside),g._domains={x:d(`x`,_,x,C,y),y:d(`y`,_,S,w,v,b)}}function d(e,t,n,r,i,a){var o=t(e+`gap`,n),s=t(`domain.`+e);t(e+`side`,r);for(var c=Array(i),l=s[0],u=(s[1]-l)/(i-o),d=u*(1-o),f=0;f<i;f++){var p=l+u*f;c[a?i-1-f:f]=[p,p+d]}return c}function f(e,t){var n=t.grid;if(!(!n||!n._domains)){var r=e.grid||{},i=t._subplots,a=n._hasSubplotGrid,o=n.rows,s=n.columns,c=n.pattern===`independent`,u,d,f,m,h,g,_,v=n._axisMap={};if(a){var y=r.subplots||[];g=n.subplots=Array(o);var b=1;for(u=0;u<o;u++){var x=g[u]=Array(s),S=y[u]||[];for(d=0;d<s;d++)if(c?(h=b===1?`xy`:`x`+b+`y`+b,b++):h=S[d],x[d]=``,i.cartesian.indexOf(h)!==-1){if(_=h.indexOf(`y`),f=h.slice(0,_),m=h.slice(_),v[f]!==void 0&&v[f]!==d||v[m]!==void 0&&v[m]!==u)continue;x[d]=h,v[f]=d,v[m]=u}}}else{var C=l(t,r,`x`),w=l(t,r,`y`);n.xaxes=p(C,i.xaxis,s,v,`x`),n.yaxes=p(w,i.yaxis,o,v,`y`)}var T=n._anchors={},E=n.roworder===`top to bottom`;for(var D in v){var O=D.charAt(0),k=n[O+`side`],A,j,M;if(k.length<8)T[D]=`free`;else if(O===`x`){if(k.charAt(0)===`t`===E?(A=0,j=1,M=o):(A=o-1,j=-1,M=-1),a){var N=v[D];for(u=A;u!==M;u+=j)if(h=g[u][N],h&&(_=h.indexOf(`y`),h.slice(0,_)===D)){T[D]=h.slice(_);break}}else for(u=A;u!==M;u+=j)if(m=n.yaxes[u],i.cartesian.indexOf(D+m)!==-1){T[D]=m;break}}else if(k.charAt(0)===`l`?(A=0,j=1,M=s):(A=s-1,j=-1,M=-1),a){var P=v[D];for(u=A;u!==M;u+=j)if(h=g[P][u],h&&(_=h.indexOf(`y`),h.slice(_)===D)){T[D]=h.slice(0,_);break}}else for(u=A;u!==M;u+=j)if(f=n.xaxes[u],i.cartesian.indexOf(f+D)!==-1){T[D]=f;break}}}}function p(e,t,n,r,i){var a=Array(n),o;function s(e,n){t.indexOf(n)!==-1&&r[n]===void 0?(a[e]=n,r[n]=e):a[e]=``}if(Array.isArray(e))for(o=0;o<n;o++)s(o,e[o]);else for(s(0,i),o=1;o<n;o++)s(o,i+(o+1));return a}e.exports={moduleType:`component`,name:`grid`,schema:{layout:{grid:c}},layoutAttributes:c,sizeDefaults:u,contentDefaults:f}}),69819:(function(e,t,n){var r=n(85555),i=n(44467).templatedArray;n(24695),e.exports=i(`image`,{visible:{valType:`boolean`,dflt:!0,editType:`arraydraw`},source:{valType:`string`,editType:`arraydraw`},layer:{valType:`enumerated`,values:[`below`,`above`],dflt:`above`,editType:`arraydraw`},sizex:{valType:`number`,dflt:0,editType:`arraydraw`},sizey:{valType:`number`,dflt:0,editType:`arraydraw`},sizing:{valType:`enumerated`,values:[`fill`,`contain`,`stretch`],dflt:`contain`,editType:`arraydraw`},opacity:{valType:`number`,min:0,max:1,dflt:1,editType:`arraydraw`},x:{valType:`any`,dflt:0,editType:`arraydraw`},y:{valType:`any`,dflt:0,editType:`arraydraw`},xanchor:{valType:`enumerated`,values:[`left`,`center`,`right`],dflt:`left`,editType:`arraydraw`},yanchor:{valType:`enumerated`,values:[`top`,`middle`,`bottom`],dflt:`top`,editType:`arraydraw`},xref:{valType:`enumerated`,values:[`paper`,r.idRegex.x.toString()],dflt:`paper`,editType:`arraydraw`},yref:{valType:`enumerated`,values:[`paper`,r.idRegex.y.toString()],dflt:`paper`,editType:`arraydraw`},editType:`arraydraw`})}),75378:(function(e,t,n){var r=n(92770),i=n(58163);e.exports=function(e,t,n,a){t||={};var o=n===`log`&&t.type===`linear`,s=n===`linear`&&t.type===`log`;if(o||s){for(var c=e._fullLayout.images,l=t._id.charAt(0),u,d,f=0;f<c.length;f++)if(u=c[f],d=`images[`+f+`].`,u[l+`ref`]===t._id){var p=u[l],m=u[`size`+l],h=null,g=null;if(o){h=i(p,t.range);var _=m/10**h/2;g=2*Math.log(_+Math.sqrt(1+_*_))/Math.LN10}else h=10**p,g=h*(10**(m/2)-10**(-m/2));r(h)?r(g)||(g=null):(h=null,g=null),a(d+l,h),a(d+`size`+l,g)}}}}),81603:(function(e,t,n){var r=n(71828),i=n(89298),a=n(85501),o=n(69819),s=`images`;e.exports=function(e,t){a(e,t,{name:s,handleItemDefaults:c})};function c(e,t,n){function a(n,i){return r.coerce(e,t,o,n,i)}if(!a(`visible`,!!a(`source`)))return t;a(`layer`),a(`xanchor`),a(`yanchor`),a(`sizex`),a(`sizey`),a(`sizing`),a(`opacity`);for(var s={_fullLayout:n},c=[`x`,`y`],l=0;l<2;l++){var u=c[l],d=i.coerceRef(e,t,s,u,`paper`,void 0);d!==`paper`&&i.getFromId(s,d)._imgIndices.push(t._index),i.coercePosition(t,s,a,d,u,0)}return t}}),80750:(function(e,t,n){var r=n(39898),i=n(91424),a=n(89298),o=n(41675),s=n(77922);e.exports=function(e){var t=e._fullLayout,n=[],c={},l=[],u,d;for(d=0;d<t.images.length;d++){var f=t.images[d];if(f.visible)if(f.layer===`below`&&f.xref!==`paper`&&f.yref!==`paper`){u=o.ref2id(f.xref)+o.ref2id(f.yref);var p=t._plots[u];if(!p){l.push(f);continue}p.mainplot&&(u=p.mainplot.id),c[u]||(c[u]=[]),c[u].push(f)}else f.layer===`above`?n.push(f):l.push(f)}var m={x:{left:{sizing:`xMin`,offset:0},center:{sizing:`xMid`,offset:-1/2},right:{sizing:`xMax`,offset:-1}},y:{top:{sizing:`YMin`,offset:0},middle:{sizing:`YMid`,offset:-1/2},bottom:{sizing:`YMax`,offset:-1}}};function h(t){var n=r.select(this);if(this._imgSrc!==t.source)if(n.attr(`xmlns`,s.svg),t.source&&t.source.slice(0,5)===`data:`)n.attr(`xlink:href`,t.source),this._imgSrc=t.source;else{var i=new Promise(function(e){var r=new Image;this.img=r,r.setAttribute(`crossOrigin`,`anonymous`),r.onerror=i,r.onload=function(){var t=document.createElement(`canvas`);t.width=this.width,t.height=this.height,t.getContext(`2d`,{willReadFrequently:!0}).drawImage(this,0,0);var r=t.toDataURL(`image/png`);n.attr(`xlink:href`,r),e()},n.on(`error`,i),r.src=t.source,this._imgSrc=t.source;function i(){n.remove(),e()}}.bind(this));e._promises.push(i)}}function g(n){var o=r.select(this),s=a.getFromId(e,n.xref),c=a.getFromId(e,n.yref),l=a.getRefType(n.xref)===`domain`,u=a.getRefType(n.yref)===`domain`,d=t._size,f=s===void 0?n.sizex*d.w:typeof n.xref==`string`&&l?s._length*n.sizex:Math.abs(s.l2p(n.sizex)-s.l2p(0)),p=c===void 0?n.sizey*d.h:typeof n.yref==`string`&&u?c._length*n.sizey:Math.abs(c.l2p(n.sizey)-c.l2p(0)),h=f*m.x[n.xanchor].offset,g=p*m.y[n.yanchor].offset,_=m.x[n.xanchor].sizing+m.y[n.yanchor].sizing,v=s===void 0?n.x*d.w+d.l:typeof n.xref==`string`&&l?s._length*n.x+s._offset:s.r2p(n.x)+s._offset,y;switch(v+=h,y=c===void 0?d.h-n.y*d.h+d.t:typeof n.yref==`string`&&u?c._length*(1-n.y)+c._offset:c.r2p(n.y)+c._offset,y+=g,n.sizing){case`fill`:_+=` slice`;break;case`stretch`:_=`none`;break}o.attr({x:v,y,width:f,height:p,preserveAspectRatio:_,opacity:n.opacity});var b=(s&&a.getRefType(n.xref)!==`domain`?s._id:``)+(c&&a.getRefType(n.yref)!==`domain`?c._id:``);i.setClipUrl(o,b?`clip`+t._uid+b:null,e)}var _=t._imageLowerLayer.selectAll(`image`).data(l),v=t._imageUpperLayer.selectAll(`image`).data(n);_.enter().append(`image`),v.enter().append(`image`),_.exit().remove(),v.exit().remove(),_.each(function(e){h.bind(this)(e),g.bind(this)(e)}),v.each(function(e){h.bind(this)(e),g.bind(this)(e)});var y=Object.keys(t._plots);for(d=0;d<y.length;d++){u=y[d];var b=t._plots[u];if(b.imagelayer){var x=b.imagelayer.selectAll(`image`).data(c[u]||[]);x.enter().append(`image`),x.exit().remove(),x.each(function(e){h.bind(this)(e),g.bind(this)(e)})}}}}),68804:(function(e,t,n){e.exports={moduleType:`component`,name:`images`,layoutAttributes:n(69819),supplyLayoutDefaults:n(81603),includeBasePlot:n(76325)(`images`),draw:n(80750),convertCoords:n(75378)}}),33030:(function(e,t,n){var r=n(41940);e.exports={bgcolor:{valType:`color`,editType:`legend`},bordercolor:{valType:`color`,dflt:n(22399).defaultLine,editType:`legend`},borderwidth:{valType:`number`,min:0,dflt:0,editType:`legend`},font:r({editType:`legend`}),grouptitlefont:r({editType:`legend`}),orientation:{valType:`enumerated`,values:[`v`,`h`],dflt:`v`,editType:`legend`},traceorder:{valType:`flaglist`,flags:[`reversed`,`grouped`],extras:[`normal`],editType:`legend`},tracegroupgap:{valType:`number`,min:0,dflt:10,editType:`legend`},entrywidth:{valType:`number`,min:0,editType:`legend`},entrywidthmode:{valType:`enumerated`,values:[`fraction`,`pixels`],dflt:`pixels`,editType:`legend`},itemsizing:{valType:`enumerated`,values:[`trace`,`constant`],dflt:`trace`,editType:`legend`},itemwidth:{valType:`number`,min:30,dflt:30,editType:`legend`},itemclick:{valType:`enumerated`,values:[`toggle`,`toggleothers`,!1],dflt:`toggle`,editType:`legend`},itemdoubleclick:{valType:`enumerated`,values:[`toggle`,`toggleothers`,!1],dflt:`toggleothers`,editType:`legend`},groupclick:{valType:`enumerated`,values:[`toggleitem`,`togglegroup`],dflt:`togglegroup`,editType:`legend`},x:{valType:`number`,min:-2,max:3,editType:`legend`},xanchor:{valType:`enumerated`,values:[`auto`,`left`,`center`,`right`],dflt:`left`,editType:`legend`},y:{valType:`number`,min:-2,max:3,editType:`legend`},yanchor:{valType:`enumerated`,values:[`auto`,`top`,`middle`,`bottom`],editType:`legend`},uirevision:{valType:`any`,editType:`none`},valign:{valType:`enumerated`,values:[`top`,`middle`,`bottom`],dflt:`middle`,editType:`legend`},title:{text:{valType:`string`,dflt:``,editType:`legend`},font:r({editType:`legend`}),side:{valType:`enumerated`,values:[`top`,`left`,`top left`],editType:`legend`},editType:`legend`},editType:`legend`}}),14928:(function(e){e.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:`#808BA4`,scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}}),99017:(function(e,t,n){var r=n(73972),i=n(71828),a=n(44467),o=n(9012),s=n(33030),c=n(10820),l=n(10130);e.exports=function(e,t,n){var u=e.legend||{},d=a.newContainer(t,`legend`);function f(e,t){return i.coerce(u,d,s,e,t)}for(var p,m=function(e,t){var n=p._input,r=p;return i.coerce(n,r,o,e,t)},h=t.font||{},g=i.coerceFont(f,`grouptitlefont`,i.extendFlat({},h,{size:Math.round(h.size*1.1)})),_=0,v=!1,y=`normal`,b=0;b<n.length;b++)p=n[b],p.visible&&((p.showlegend||p._dfltShowLegend&&!(p._module&&p._module.attributes&&p._module.attributes.showlegend&&p._module.attributes.showlegend.dflt===!1))&&(_++,p.showlegend&&(v=!0,(r.traceIs(p,`pie-like`)||p._input.showlegend===!0)&&_++),i.coerceFont(m,`legendgrouptitle.font`,g)),(r.traceIs(p,`bar`)&&t.barmode===`stack`||[`tonextx`,`tonexty`].indexOf(p.fill)!==-1)&&(y=l.isGrouped({traceorder:y})?`grouped+reversed`:`reversed`),p.legendgroup!==void 0&&p.legendgroup!==``&&(y=l.isReversed({traceorder:y})?`reversed+grouped`:`grouped`));var x=i.coerce(e,t,c,`showlegend`,v&&_>1);if(x===!1&&(t.legend=void 0),!(x===!1&&!u.uirevision)&&(f(`uirevision`,t.uirevision),x!==!1)){f(`bgcolor`,t.paper_bgcolor),f(`bordercolor`),f(`borderwidth`);var S=i.coerceFont(f,`font`,t.font),C=f(`orientation`)===`h`,w,T,E;if(C?(w=0,r.getComponentMethod(`rangeslider`,`isVisible`)(e.xaxis)?(T=1.1,E=`bottom`):(T=-.1,E=`top`)):(w=1.02,T=1,E=`auto`),f(`traceorder`,y),l.isGrouped(t.legend)&&f(`tracegroupgap`),f(`entrywidth`),f(`entrywidthmode`),f(`itemsizing`),f(`itemwidth`),f(`itemclick`),f(`itemdoubleclick`),f(`groupclick`),f(`x`,w),f(`xanchor`),f(`y`,T),f(`yanchor`,E),f(`valign`),i.noneOrAll(u,d,[`x`,`y`]),f(`title.text`)){f(`title.side`,C?`left`:`top`);var D=i.extendFlat({},S,{size:i.bigFont(S.size)});i.coerceFont(f,`title.font`,D)}}}}),43969:(function(e,t,n){var r=n(39898),i=n(71828),a=n(74875),o=n(73972),s=n(11086),c=n(28569),l=n(91424),u=n(7901),d=n(63893),f=n(85167),p=n(14928),m=n(18783),h=m.LINE_SPACING,g=m.FROM_TL,_=m.FROM_BR,v=n(82424),y=n(53630),b=n(10130),x=1;e.exports=function(e,t){return t||=e._fullLayout.legend||{},S(e,t)};function S(e,t){var n=e._fullLayout,s=`legend`+n._uid,d,f=t._inHover;if(f?(d=t.layer,s+=`-hover`):d=n._infolayer,d){e._legendMouseDownTime||=0;var m;if(f){if(!t.entries)return;m=v(t.entries,t)}else{if(!e.calcdata)return;m=n.showlegend&&v(e.calcdata,t)}var h=n.hiddenlabels||[];if(!f&&(!n.showlegend||!m.length))return d.selectAll(`.legend`).remove(),n._topdefs.select(`#`+s).remove(),a.autoMargin(e,`legend`);var _=i.ensureSingle(d,`g`,`legend`,function(e){f||e.attr(`pointer-events`,`all`)}),b=i.ensureSingleById(n._topdefs,`clipPath`,s,function(e){e.append(`rect`)}),S=i.ensureSingle(_,`rect`,`bg`,function(e){e.attr(`shape-rendering`,`crispEdges`)});S.call(u.stroke,t.bordercolor).call(u.fill,t.bgcolor).style(`stroke-width`,t.borderwidth+`px`);var C=i.ensureSingle(_,`g`,`scrollbox`),E=t.title;if(t._titleWidth=0,t._titleHeight=0,E.text){var k=i.ensureSingle(C,`text`,`legendtitletext`);k.attr(`text-anchor`,`start`).call(l.font,E.font).text(E.text),O(k,C,e,t,x)}else C.selectAll(`.legendtitletext`).remove();var A=i.ensureSingle(_,`rect`,`scrollbar`,function(e){e.attr(p.scrollBarEnterAttrs).call(u.fill,p.scrollBarColor)}),F=C.selectAll(`g.groups`).data(m);F.enter().append(`g`).attr(`class`,`groups`),F.exit().remove();var I=F.selectAll(`g.traces`).data(i.identity);I.enter().append(`g`).attr(`class`,`traces`),I.exit().remove(),I.style(`opacity`,function(e){var t=e[0].trace;return o.traceIs(t,`pie-like`)?h.indexOf(e[0].label)===-1?1:.5:t.visible===`legendonly`?.5:1}).each(function(){r.select(this).call(T,e,t)}).call(y,e,t).each(function(){f||r.select(this).call(D,e)}),i.syncOrAsync([a.previousPromises,function(){return j(e,F,I,t)},function(){var a=n._size,u=t.borderwidth;if(!f){if(M(e))return;var m=a.l+a.w*t.x-g[N(t)]*t._width,h=a.t+a.h*(1-t.y)-g[P(t)]*t._effHeight;if(n.margin.autoexpand){var v=m,y=h;m=i.constrain(m,0,n.width-t._width),h=i.constrain(h,0,n.height-t._effHeight),m!==v&&i.log(`Constrain legend.x to make legend fit inside graph`),h!==y&&i.log(`Constrain legend.y to make legend fit inside graph`)}l.setTranslate(_,m,h)}if(A.on(`.drag`,null),_.on(`wheel`,null),f||t._height<=t._maxHeight||e._context.staticPlot){var x=t._effHeight;f&&(x=t._height),S.attr({width:t._width-u,height:x-u,x:u/2,y:u/2}),l.setTranslate(C,0,0),b.select(`rect`).attr({width:t._width-2*u,height:x-2*u,x:u,y:u}),l.setClipUrl(C,s,e),l.setRect(A,0,0,0,0),delete t._scrollY}else{var T=Math.max(p.scrollBarMinHeight,t._effHeight*t._effHeight/t._height),E=t._effHeight-T-2*p.scrollBarMargin,D=t._height-t._effHeight,O=E/D,k=Math.min(t._scrollY||0,D);S.attr({width:t._width-2*u+p.scrollBarWidth+p.scrollBarMargin,height:t._effHeight-u,x:u/2,y:u/2}),b.select(`rect`).attr({width:t._width-2*u+p.scrollBarWidth+p.scrollBarMargin,height:t._effHeight-2*u,x:u,y:u+k}),l.setClipUrl(C,s,e),V(k,T,O),_.on(`wheel`,function(){k=i.constrain(t._scrollY+r.event.deltaY/E*D,0,D),V(k,T,O),k!==0&&k!==D&&r.event.preventDefault()});var j,F,I,L=function(e,t,n){var r=(n-t)/O+e;return i.constrain(r,0,D)},R=function(e,t,n){var r=(t-n)/O+e;return i.constrain(r,0,D)},z=r.behavior.drag().on(`dragstart`,function(){var e=r.event.sourceEvent;j=e.type===`touchstart`?e.changedTouches[0].clientY:e.clientY,I=k}).on(`drag`,function(){var e=r.event.sourceEvent;e.buttons===2||e.ctrlKey||(F=e.type===`touchmove`?e.changedTouches[0].clientY:e.clientY,k=L(I,j,F),V(k,T,O))});A.call(z);var B=r.behavior.drag().on(`dragstart`,function(){var e=r.event.sourceEvent;e.type===`touchstart`&&(j=e.changedTouches[0].clientY,I=k)}).on(`drag`,function(){var e=r.event.sourceEvent;e.type===`touchmove`&&(F=e.changedTouches[0].clientY,k=R(I,j,F),V(k,T,O))});C.call(B)}function V(n,r,i){t._scrollY=e._fullLayout.legend._scrollY=n,l.setTranslate(C,0,-n),l.setRect(A,t._width,p.scrollBarMargin+n*i,p.scrollBarWidth,r),b.select(`rect`).attr(`y`,u+n)}if(e._context.edits.legendPosition){var H,U,W,G;_.classed(`cursor-move`,!0),c.init({element:_.node(),gd:e,prepFn:function(){var e=l.getTranslate(_);W=e.x,G=e.y},moveFn:function(e,n){var r=W+e,i=G+n;l.setTranslate(_,r,i),H=c.align(r,0,a.l,a.l+a.w,t.xanchor),U=c.align(i,0,a.t+a.h,a.t,t.yanchor)},doneFn:function(){H!==void 0&&U!==void 0&&o.call(`_guiRelayout`,e,{"legend.x":H,"legend.y":U})},clickFn:function(t,n){var r=d.selectAll(`g.traces`).filter(function(){var e=this.getBoundingClientRect();return n.clientX>=e.left&&n.clientX<=e.right&&n.clientY>=e.top&&n.clientY<=e.bottom});r.size()>0&&w(e,_,r,t,n)}})}}],e)}}function C(e,t,n){var r=e[0],i=r.width,a=t.entrywidthmode,o=r.trace.legendwidth||t.entrywidth;return a===`fraction`?t._maxWidth*o:n+(o||i)}function w(e,t,n,r,i){var a=n.data()[0][0].trace,c={event:i,node:n.node(),curveNumber:a.index,expandedIndex:a._expandedIndex,data:e.data,layout:e.layout,frames:e._transitionData._frames,config:e._context,fullData:e._fullData,fullLayout:e._fullLayout};a._group&&(c.group=a._group),o.traceIs(a,`pie-like`)&&(c.label=n.datum()[0].label),s.triggerHandler(e,`plotly_legendclick`,c)!==!1&&(r===1?t._clickTimeout=setTimeout(function(){e._fullLayout&&f(n,e,r)},e._context.doubleClickDelay):r===2&&(t._clickTimeout&&clearTimeout(t._clickTimeout),e._legendMouseDownTime=0,s.triggerHandler(e,`plotly_legenddoubleclick`,c)!==!1&&f(n,e,r)))}function T(e,t,n){var r=e.data()[0][0],a=r.trace,s=o.traceIs(a,`pie-like`),c=!n._inHover&&t._context.edits.legendText&&!s,u=n._maxNameLength,f,m;r.groupTitle?(f=r.groupTitle.text,m=r.groupTitle.font):(m=n.font,n.entries?f=r.text:(f=s?r.label:a.name,a._meta&&(f=i.templateString(f,a._meta))));var h=i.ensureSingle(e,`text`,`legendtext`);h.attr(`text-anchor`,`start`).call(l.font,m).text(c?E(f,u):f);var g=n.itemwidth+p.itemGap*2;d.positionText(h,g,0),c?h.call(d.makeEditable,{gd:t,text:f}).call(O,e,t,n).on(`edit`,function(s){this.text(E(s,u)).call(O,e,t,n);var c=r.trace._fullInput||{},l={};if(o.hasTransform(c,`groupby`)){var d=o.getTransformIndices(c,`groupby`),f=d[d.length-1],p=i.keyedContainer(c,`transforms[`+f+`].styles`,`target`,`value.name`);p.set(r.trace._group,s),l=p.constructUpdate()}else l.name=s;return o.call(`_guiRestyle`,t,l,a.index)}):O(h,e,t,n)}function E(e,t){var n=Math.max(4,t);if(e&&e.trim().length>=n/2)return e;e||=``;for(var r=n-e.length;r>0;r--)e+=` `;return e}function D(e,t){var n=t._context.doubleClickDelay,a,o=1,s=i.ensureSingle(e,`rect`,`legendtoggle`,function(e){t._context.staticPlot||e.style(`cursor`,`pointer`).attr(`pointer-events`,`all`),e.call(u.fill,`rgba(0,0,0,0)`)});t._context.staticPlot||(s.on(`mousedown`,function(){a=new Date().getTime(),a-t._legendMouseDownTime<n?o+=1:(o=1,t._legendMouseDownTime=a)}),s.on(`mouseup`,function(){if(!(t._dragged||t._editing)){var i=t._fullLayout.legend;new Date().getTime()-t._legendMouseDownTime>n&&(o=Math.max(o-1,1)),w(t,i,e,o,r.event)}}))}function O(e,t,n,r,i){r._inHover&&e.attr(`data-notex`,!0),d.convertToTspans(e,n,function(){k(t,n,r,i)})}function k(e,t,n,r){var i=e.data()[0][0];if(!n._inHover&&i&&!i.trace.showlegend){e.remove();return}var a=e.select(`g[class*=math-group]`),o=a.node();n||=t._fullLayout.legend;var s=n.borderwidth,c=(r===x?n.title.font:i.groupTitle?i.groupTitle.font:n.font).size*h,u,f;if(o){var m=l.bBox(o);u=m.height,f=m.width,r===x?l.setTranslate(a,s,s+u*.75):l.setTranslate(a,0,u*.25)}else{var g=e.select(r===x?`.legendtitletext`:`.legendtext`),_=d.lineCount(g),v=g.node();if(u=c*_,f=v?l.bBox(v).width:0,r===x)n.title.side===`left`&&(f+=p.itemGap*2),d.positionText(g,s+p.titlePad,s+c);else{var y=p.itemGap*2+n.itemwidth;i.groupTitle&&(y=p.itemGap,f-=n.itemwidth),d.positionText(g,y,-c*((_-1)/2-.3))}}r===x?(n._titleWidth=f,n._titleHeight=u):(i.lineHeight=c,i.height=Math.max(u,16)+3,i.width=f)}function A(e){var t=0,n=0,r=e.title.side;return r&&(r.indexOf(`left`)!==-1&&(t=e._titleWidth),r.indexOf(`top`)!==-1&&(n=e._titleHeight)),[t,n]}function j(e,t,n,i){var a=e._fullLayout;i||=a.legend;var o=a._size,s=b.isVertical(i),c=b.isGrouped(i),u=i.entrywidthmode===`fraction`,d=i.borderwidth,f=2*d,m=p.itemGap,h=i.itemwidth+m*2,g=2*(d+m),_=P(i),v=i.y<0||i.y===0&&_===`top`,y=i.y>1||i.y===1&&_===`bottom`,x=i.tracegroupgap,S={};i._maxHeight=Math.max(v||y?a.height/2:o.h,30);var w=0;i._width=0,i._height=0;var T=A(i);if(s)n.each(function(e){var t=e[0].height;l.setTranslate(this,d+T[0],d+T[1]+i._height+t/2+m),i._height+=t,i._width=Math.max(i._width,e[0].width)}),w=h+i._width,i._width+=m+h+f,i._height+=g,c&&(t.each(function(e,t){l.setTranslate(this,0,t*i.tracegroupgap)}),i._height+=(i._lgroupsLength-1)*i.tracegroupgap);else{var E=N(i),D=i.x<0||i.x===0&&E===`right`,O=i.x>1||i.x===1&&E===`left`,k=y||v,j=a.width/2;i._maxWidth=Math.max(D?k&&E===`left`?o.l+o.w:j:O?k&&E===`right`?o.r+o.w:j:o.w,2*h);var M=0,F=0;n.each(function(e){var t=C(e,i,h);M=Math.max(M,t),F+=t}),w=null;var I=0;if(c){var L=0,R=0,z=0;t.each(function(){var e=0,t=0;r.select(this).selectAll(`g.traces`).each(function(n){var r=C(n,i,h),a=n[0].height;l.setTranslate(this,T[0],T[1]+d+m+a/2+t),t+=a,e=Math.max(e,r),S[n[0].trace.legendgroup]=e});var n=e+m;R>0&&n+d+R>i._maxWidth?(I=Math.max(I,R),R=0,z+=L+x,L=t):L=Math.max(L,t),l.setTranslate(this,R,z),R+=n}),i._width=Math.max(I,R)+d,i._height=z+L+g}else{var B=n.size(),V=F+f+(B-1)*m<i._maxWidth,H=0,U=0,W=0,G=0;n.each(function(e){var t=e[0].height,n=C(e,i,h,c),r=V?n:M;u||(r+=m),r+d+U-m>=i._maxWidth&&(I=Math.max(I,G),U=0,W+=H,i._height+=H,H=0),l.setTranslate(this,T[0]+d+U,T[1]+d+W+t/2+m),G=U+n+m,U+=r,H=Math.max(H,t)}),V?(i._width=U+f,i._height=H+g):(i._width=Math.max(I,G)+f,i._height+=H+g)}}i._width=Math.ceil(Math.max(i._width+T[0],i._titleWidth+2*(d+p.titlePad))),i._height=Math.ceil(Math.max(i._height+T[1],i._titleHeight+2*(d+p.itemGap))),i._effHeight=Math.min(i._height,i._maxHeight);var K=e._context.edits,ee=K.legendText||K.legendPosition;n.each(function(e){var t=r.select(this).select(`.legendtoggle`),n=e[0].height,a=e[0].trace.legendgroup,o=C(e,i,h);c&&a!==``&&(o=S[a]);var d=ee?h:w||o;!s&&!u&&(d+=m/2),l.setRect(t,0,-n/2,d,n)})}function M(e){var t=e._fullLayout.legend,n=N(t),r=P(t);return a.autoMargin(e,`legend`,{x:t.x,y:t.y,l:t._width*g[n],r:t._width*_[n],b:t._effHeight*_[r],t:t._effHeight*g[r]})}function N(e){return i.isRightAnchor(e)?`right`:i.isCenterAnchor(e)?`center`:`left`}function P(e){return i.isBottomAnchor(e)?`bottom`:i.isMiddleAnchor(e)?`middle`:`top`}}),82424:(function(e,t,n){var r=n(73972),i=n(10130);e.exports=function(e,t){var n=t._inHover,a=i.isGrouped(t),o=i.isReversed(t),s={},c=[],l=!1,u={},d=0,f=0,p,m;function h(e,n){if(e===``||!i.isGrouped(t)){var r=`~~i`+d;c.push(r),s[r]=[n],d++}else c.indexOf(e)===-1?(c.push(e),l=!0,s[e]=[n]):s[e].push(n)}for(p=0;p<e.length;p++){var g=e[p],_=g[0],v=_.trace,y=v.legendgroup;if(!(!n&&(!v.visible||!v.showlegend)))if(r.traceIs(v,`pie-like`))for(u[y]||(u[y]={}),m=0;m<g.length;m++){var b=g[m].label;u[y][b]||(h(y,{label:b,color:g[m].color,i:g[m].i,trace:v,pts:g[m].pts}),u[y][b]=!0,f=Math.max(f,(b||``).length))}else h(y,_),f=Math.max(f,(v.name||``).length)}if(!c.length)return[];var x=!l||!a,S=[];for(p=0;p<c.length;p++){var C=s[c[p]];x?S.push(C[0]):S.push(C)}for(x&&(S=[S]),p=0;p<S.length;p++){var w=1/0;for(m=0;m<S[p].length;m++){var T=S[p][m].trace.legendrank;w>T&&(w=T)}S[p][0]._groupMinRank=w,S[p][0]._preGroupSort=p}var E=function(e,t){return e[0]._groupMinRank-t[0]._groupMinRank||e[0]._preGroupSort-t[0]._preGroupSort},D=function(e,t){return e.trace.legendrank-t.trace.legendrank||e._preSort-t._preSort};for(S.forEach(function(e,t){e[0]._preGroupSort=t}),S.sort(E),p=0;p<S.length;p++){S[p].forEach(function(e,t){e._preSort=t}),S[p].sort(D);var O=S[p][0].trace,k=null;for(m=0;m<S[p].length;m++){var A=S[p][m].trace.legendgrouptitle;if(A&&A.text){k=A,n&&(A.font=t._groupTitleFont);break}}if(o&&S[p].reverse(),k){var j=!1;for(m=0;m<S[p].length;m++)if(r.traceIs(S[p][m].trace,`pie-like`)){j=!0;break}S[p].unshift({i:-1,groupTitle:k,noClick:j,trace:{showlegend:O.showlegend,legendgroup:O.legendgroup,visible:t.groupclick===`toggleitem`?!0:O.visible}})}for(m=0;m<S[p].length;m++)S[p][m]=[S[p][m]]}return t._lgroupsLength=S.length,t._maxNameLength=f,S}}),85167:(function(e,t,n){var r=n(71828),i=n(73972),a=!0;e.exports=function(e,t,n){var o=t._fullLayout;if(t._dragged||t._editing)return;var s=o.legend.itemclick,c=o.legend.itemdoubleclick,l=o.legend.groupclick;n===1&&s===`toggle`&&c===`toggleothers`&&a&&t.data&&t._context.showTips&&r.notifier(r._(t,`Double-click on legend to isolate one trace`),`long`),a=!1;var u;if(n===1?u=s:n===2&&(u=c),!u)return;var d=l===`togglegroup`,f=o.hiddenlabels?o.hiddenlabels.slice():[],p=e.data()[0][0];if(p.groupTitle&&p.noClick)return;var m=t._fullData,h=p.trace,g=h.legendgroup,_,v,y,b,x,S,C={},w=[],T=[],E=[];function D(e,t,n){var r=w.indexOf(e),i=C[t];return i||=C[t]=[],w.indexOf(e)===-1&&(w.push(e),r=w.length-1),i[r]=n,r}function O(e,t){if(!(p.groupTitle&&!d)){var n=e._fullInput;if(i.hasTransform(n,`groupby`)){var a=T[n.index];if(!a){var o=i.getTransformIndices(n,`groupby`),s=o[o.length-1];a=r.keyedContainer(n,`transforms[`+s+`].styles`,`target`,`value.visible`),T[n.index]=a}var c=a.get(e._group);c===void 0&&(c=!0),c!==!1&&a.set(e._group,t),E[n.index]=D(n.index,`visible`,n.visible!==!1)}else{var l=n.visible===!1?!1:t;D(n.index,`visible`,l)}}}if(i.traceIs(h,`pie-like`)){var k=p.label,A=f.indexOf(k);u===`toggle`?A===-1?f.push(k):f.splice(A,1):u===`toggleothers`&&(f=[],t.calcdata[0].forEach(function(e){k!==e.label&&f.push(e.label)}),t._fullLayout.hiddenlabels&&t._fullLayout.hiddenlabels.length===f.length&&A===-1&&(f=[])),i.call(`_guiRelayout`,t,`hiddenlabels`,f)}else{var j=g&&g.length,M=[],N;if(j)for(_=0;_<m.length;_++)N=m[_],N.visible&&N.legendgroup===g&&M.push(_);if(u===`toggle`){var P;switch(h.visible){case!0:P=`legendonly`;break;case!1:P=!1;break;case`legendonly`:P=!0;break}if(j)if(d)for(_=0;_<m.length;_++)m[_].visible!==!1&&m[_].legendgroup===g&&O(m[_],P);else O(h,P);else O(h,P)}else if(u===`toggleothers`){var F,I,L,R,z=!0;for(_=0;_<m.length;_++)if(F=m[_]===h,L=m[_].showlegend!==!0,!(F||L)&&(I=j&&m[_].legendgroup===g,!I&&m[_].visible===!0&&!i.traceIs(m[_],`notLegendIsolatable`))){z=!1;break}for(_=0;_<m.length;_++)if(m[_].visible!==!1&&!i.traceIs(m[_],`notLegendIsolatable`))switch(h.visible){case`legendonly`:O(m[_],!0);break;case!0:R=z?!0:`legendonly`,F=m[_]===h,L=m[_].showlegend!==!0&&!m[_].legendgroup,I=F||j&&m[_].legendgroup===g,O(m[_],I||L?!0:R);break}}for(_=0;_<T.length;_++)if(y=T[_],y){var B=y.constructUpdate(),V=Object.keys(B);for(v=0;v<V.length;v++)b=V[v],S=C[b]=C[b]||[],S[E[_]]=B[b]}for(x=Object.keys(C),_=0;_<x.length;_++)for(b=x[_],v=0;v<w.length;v++)C[b].hasOwnProperty(v)||(C[b][v]=void 0);i.call(`_guiRestyle`,t,C,w)}}}),10130:(function(e,t){t.isGrouped=function(e){return(e.traceorder||``).indexOf(`grouped`)!==-1},t.isVertical=function(e){return e.orientation!==`h`},t.isReversed=function(e){return(e.traceorder||``).indexOf(`reversed`)!==-1}}),2199:(function(e,t,n){e.exports={moduleType:`component`,name:`legend`,layoutAttributes:n(33030),supplyLayoutDefaults:n(99017),draw:n(43969),style:n(53630)}}),53630:(function(e,t,n){var r=n(39898),i=n(73972),a=n(71828),o=a.strTranslate,s=n(91424),c=n(7901),l=n(52075).extractOpts,u=n(34098),d=n(63463),f=n(53581).castOption,p=n(14928),m=12,h=5,g=2,_=10,v=5;e.exports=function(e,t,n){var S=t._fullLayout;n||=S.legend;var C=n.itemsizing===`constant`,w=n.itemwidth,T=o((w+p.itemGap*2)/2,0),E=function(e,t,n,r){var i;if(e+1)i=e;else if(t&&t.width>0)i=t.width;else return 0;return C?r:Math.min(i,n)};e.each(function(e){var t=r.select(this),i=a.ensureSingle(t,`g`,`layers`);i.style(`opacity`,e[0].trace.opacity);var s=n.valign,c=e[0].lineHeight,l=e[0].height;if(s===`middle`||!c||!l)i.attr(`transform`,null);else{var u={top:1,bottom:-1}[s]*(.5*(c-l+3));i.attr(`transform`,o(0,u))}i.selectAll(`g.legendfill`).data([e]).enter().append(`g`).classed(`legendfill`,!0),i.selectAll(`g.legendlines`).data([e]).enter().append(`g`).classed(`legendlines`,!0);var d=i.selectAll(`g.legendsymbols`).data([e]);d.enter().append(`g`).classed(`legendsymbols`,!0),d.selectAll(`g.legendpoints`).data([e]).enter().append(`g`).classed(`legendpoints`,!0)}).each(z).each(k).each(j).each(A).each(N).each(L).each(I).each(D).each(O).each(P).each(F);function D(e){var n=b(e),i=n.showFill,o=n.showLine,c=n.showGradientLine,d=n.showGradientFill,f=n.anyFill,p=n.anyLine,m=e[0],g=m.trace,v,x,S=l(g),C=S.colorscale,T=S.reversescale,D=function(e){if(e.size())if(i)s.fillGroupStyle(e,t);else{var n=`legendfill-`+g.uid;s.gradient(e,t,n,y(T),C,`fill`)}},O=function(e){if(e.size()){var n=`legendline-`+g.uid;s.lineGroupStyle(e),s.gradient(e,t,n,y(T),C,`stroke`)}},k=u.hasMarkers(g)||!f?`M5,0`:p?`M5,-2`:`M5,-3`,A=r.select(this),j=A.select(`.legendfill`).selectAll(`path`).data(i||d?[e]:[]);if(j.enter().append(`path`).classed(`js-fill`,!0),j.exit().remove(),j.attr(`d`,k+`h`+w+`v6h-`+w+`z`).call(D),o||c){var M=E(void 0,g.line,_,h);x=a.minExtend(g,{line:{width:M}}),v=[a.minExtend(m,{trace:x})]}var N=A.select(`.legendlines`).selectAll(`path`).data(o||c?[v]:[]);N.enter().append(`path`).classed(`js-line`,!0),N.exit().remove(),N.attr(`d`,k+(c?`l`+w+`,0.0001`:`h`+w)).call(o?s.lineGroupStyle:O)}function O(e){var n=b(e),i=n.anyFill,o=n.anyLine,c=n.showLine,l=n.showMarker,d=e[0],f=d.trace,p=!l&&!o&&!i&&u.hasText(f),_,v;function y(e,t,n,r){var i=a.nestedProperty(f,e).get(),o=a.isArrayOrTypedArray(i)&&t?t(i):i;if(C&&o&&r!==void 0&&(o=r),n){if(o<n[0])return n[0];if(o>n[1])return n[1]}return o}function x(e){return d._distinct&&d.index&&e[d.index]?e[d.index]:e[0]}if(l||p||c){var S={},w={};if(l){S.mc=y(`marker.color`,x),S.mx=y(`marker.symbol`,x),S.mo=y(`marker.opacity`,a.mean,[.2,1]),S.mlc=y(`marker.line.color`,x),S.mlw=y(`marker.line.width`,a.mean,[0,5],g),w.marker={sizeref:1,sizemin:1,sizemode:`diameter`};var E=y(`marker.size`,a.mean,[2,16],m);S.ms=E,w.marker.size=E}c&&(w.line={width:y(`line.width`,x,[0,10],h)}),p&&(S.tx=`Aa`,S.tp=y(`textposition`,x),S.ts=10,S.tc=y(`textfont.color`,x),S.tf=y(`textfont.family`,x)),_=[a.minExtend(d,S)],v=a.minExtend(f,w),v.selectedpoints=null,v.texttemplate=null}var D=r.select(this).select(`g.legendpoints`),O=D.selectAll(`path.scatterpts`).data(l?_:[]);O.enter().insert(`path`,`:first-child`).classed(`scatterpts`,!0).attr(`transform`,T),O.exit().remove(),O.call(s.pointStyle,v,t),l&&(_[0].mrc=3);var k=D.selectAll(`g.pointtext`).data(p?_:[]);k.enter().append(`g`).classed(`pointtext`,!0).append(`text`).attr(`transform`,T),k.exit().remove(),k.selectAll(`text`).call(s.textPointStyle,v,t)}function k(e){var t=e[0].trace,n=t.type===`waterfall`;if(e[0]._distinct&&n){var i=e[0].trace[e[0].dir].marker;return e[0].mc=i.color,e[0].mlw=i.line.width,e[0].mlc=i.line.color,M(e,this,`waterfall`)}var a=[];t.visible&&n&&(a=e[0].hasTotals?[[`increasing`,`M-6,-6V6H0Z`],[`totals`,`M6,6H0L-6,-6H-0Z`],[`decreasing`,`M6,6V-6H0Z`]]:[[`increasing`,`M-6,-6V6H6Z`],[`decreasing`,`M6,6V-6H-6Z`]]);var o=r.select(this).select(`g.legendpoints`).selectAll(`path.legendwaterfall`).data(a);o.enter().append(`path`).classed(`legendwaterfall`,!0).attr(`transform`,T).style(`stroke-miterlimit`,1),o.exit().remove(),o.each(function(e){var n=r.select(this),i=t[e[0]].marker,a=E(void 0,i.line,v,g);n.attr(`d`,e[1]).style(`stroke-width`,a+`px`).call(c.fill,i.color),a&&n.call(c.stroke,i.line.color)})}function A(e){M(e,this)}function j(e){M(e,this,`funnel`)}function M(e,a,o){var u=e[0].trace,d=u.marker||{},f=d.line||{},p=o?u.visible&&u.type===o:i.traceIs(u,`bar`),m=r.select(a).select(`g.legendpoints`).selectAll(`path.legend`+o).data(p?[e]:[]);m.enter().append(`path`).classed(`legend`+o,!0).attr(`d`,`M6,6H-6V-6H6Z`).attr(`transform`,T),m.exit().remove(),m.each(function(e){var i=r.select(this),a=e[0],o=E(a.mlw,d.line,v,g);i.style(`stroke-width`,o+`px`);var p=a.mcc;if(!n._inHover&&`mc`in a){var m=l(d),h=m.mid;h===void 0&&(h=(m.max+m.min)/2),p=s.tryColorscale(d,``)(h)}var _=p||a.mc||d.color,y=d.pattern,b=y&&s.getPatternAttr(y.shape,0,``);if(b){var S=s.getPatternAttr(y.bgcolor,0,null),C=s.getPatternAttr(y.fgcolor,0,null),w=y.fgopacity,T=x(y.size,8,10),D=x(y.solidity,.5,1),O=`legend-`+u.uid;i.call(s.pattern,`legend`,t,O,b,T,D,p,y.fillmode,S,C,w)}else i.call(c.fill,_);o&&c.stroke(i,a.mlc||f.color)})}function N(e){var n=e[0].trace,o=r.select(this).select(`g.legendpoints`).selectAll(`path.legendbox`).data(n.visible&&i.traceIs(n,`box-violin`)?[e]:[]);o.enter().append(`path`).classed(`legendbox`,!0).attr(`d`,`M6,6H-6V-6H6Z`).attr(`transform`,T),o.exit().remove(),o.each(function(){var e=r.select(this);if((n.boxpoints===`all`||n.points===`all`)&&c.opacity(n.fillcolor)===0&&c.opacity((n.line||{}).color)===0){var i=a.minExtend(n,{marker:{size:C?m:a.constrain(n.marker.size,2,16),sizeref:1,sizemin:1,sizemode:`diameter`}});o.call(s.pointStyle,i,t)}else{var l=E(void 0,n.line,v,g);e.style(`stroke-width`,l+`px`).call(c.fill,n.fillcolor),l&&c.stroke(e,n.line.color)}})}function P(e){var t=e[0].trace,n=r.select(this).select(`g.legendpoints`).selectAll(`path.legendcandle`).data(t.visible&&t.type===`candlestick`?[e,e]:[]);n.enter().append(`path`).classed(`legendcandle`,!0).attr(`d`,function(e,t){return t?`M-15,0H-8M-8,6V-6H8Z`:`M15,0H8M8,-6V6H-8Z`}).attr(`transform`,T).style(`stroke-miterlimit`,1),n.exit().remove(),n.each(function(e,n){var i=r.select(this),a=t[n?`increasing`:`decreasing`],o=E(void 0,a.line,v,g);i.style(`stroke-width`,o+`px`).call(c.fill,a.fillcolor),o&&c.stroke(i,a.line.color)})}function F(e){var t=e[0].trace,n=r.select(this).select(`g.legendpoints`).selectAll(`path.legendohlc`).data(t.visible&&t.type===`ohlc`?[e,e]:[]);n.enter().append(`path`).classed(`legendohlc`,!0).attr(`d`,function(e,t){return t?`M-15,0H0M-8,-6V0`:`M15,0H0M8,6V0`}).attr(`transform`,T).style(`stroke-miterlimit`,1),n.exit().remove(),n.each(function(e,n){var i=r.select(this),a=t[n?`increasing`:`decreasing`],o=E(void 0,a.line,v,g);i.style(`fill`,`none`).call(s.dashLine,a.line.dash,o),o&&c.stroke(i,a.line.color)})}function I(e){R(e,this,`pie`)}function L(e){R(e,this,`funnelarea`)}function R(e,t,n){var o=e[0],s=o.trace,c=n?s.visible&&s.type===n:i.traceIs(s,n),l=r.select(t).select(`g.legendpoints`).selectAll(`path.legend`+n).data(c?[e]:[]);if(l.enter().append(`path`).classed(`legend`+n,!0).attr(`d`,`M6,6H-6V-6H6Z`).attr(`transform`,T),l.exit().remove(),l.size()){var u=(s.marker||{}).line,p=E(f(u.width,o.pts),u,v,g),m=a.minExtend(s,{marker:{line:{width:p}}});m.marker.line.color=u.color,d(l,a.minExtend(o,{trace:m}),m)}}function z(e){var n=e[0].trace,i,o=[];if(n.visible)switch(n.type){case`histogram2d`:case`heatmap`:o=[[`M-15,-2V4H15V-2Z`]],i=!0;break;case`choropleth`:case`choroplethmapbox`:o=[[`M-6,-6V6H6V-6Z`]],i=!0;break;case`densitymapbox`:o=[[`M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0`]],i=`radial`;break;case`cone`:o=[[`M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z`],[`M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z`],[`M-6,-2 A2,2 0 0,0 -6,2 L6,0Z`]],i=!1;break;case`streamtube`:o=[[`M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z`],[`M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z`],[`M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z`]],i=!1;break;case`surface`:o=[[`M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z`],[`M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z`]],i=!0;break;case`mesh3d`:o=[[`M-6,6H0L-6,-6Z`],[`M6,6H0L6,-6Z`],[`M-6,-6H6L0,6Z`]],i=!1;break;case`volume`:o=[[`M-6,6H0L-6,-6Z`],[`M6,6H0L6,-6Z`],[`M-6,-6H6L0,6Z`]],i=!0;break;case`isosurface`:o=[[`M-6,6H0L-6,-6Z`],[`M6,6H0L6,-6Z`],[`M-6,-6 A12,24 0 0,0 6,-6 L0,6Z`]],i=!1;break}var u=r.select(this).select(`g.legendpoints`).selectAll(`path.legend3dandfriends`).data(o);u.enter().append(`path`).classed(`legend3dandfriends`,!0).attr(`transform`,T).style(`stroke-miterlimit`,1),u.exit().remove(),u.each(function(e,o){var u=r.select(this),d=l(n),f=d.colorscale,p=d.reversescale,m=function(e){if(e.size()){var r=`legendfill-`+n.uid;s.gradient(e,t,r,y(p,i===`radial`),f,`fill`)}},h;if(f){if(!i){var g=f.length;h=o===0?f[p?g-1:0][1]:o===1?f[p?0:g-1][1]:f[Math.floor((g-1)/2)][1]}}else{var _=n.vertexcolor||n.facecolor||n.color;h=a.isArrayOrTypedArray(_)?_[o]||_[0]:_}u.attr(`d`,e[0]),h?u.call(c.fill,h):u.call(m)})}};function y(e,t){return(t?`radial`:`horizontal`)+(e?``:`reversed`)}function b(e){var t=e[0].trace,n=t.contours,r=u.hasLines(t),i=u.hasMarkers(t),a=t.visible&&t.fill&&t.fill!==`none`,o=!1,s=!1;if(n){var c=n.coloring;c===`lines`?o=!0:r=c===`none`||c===`heatmap`||n.showlines,n.type===`constraint`?a=n._operation!==`=`:(c===`fill`||c===`heatmap`)&&(s=!0)}return{showMarker:i,showLine:r,showFill:a,showGradientLine:o,showGradientFill:s,anyLine:r||o,anyFill:a||s}}function x(e,t,n){return e&&a.isArrayOrTypedArray(e)?t:e>n?n:e}}),42068:(function(e,t,n){n(93348),e.exports={editType:`modebar`,orientation:{valType:`enumerated`,values:[`v`,`h`],dflt:`h`,editType:`modebar`},bgcolor:{valType:`color`,editType:`modebar`},color:{valType:`color`,editType:`modebar`},activecolor:{valType:`color`,editType:`modebar`},uirevision:{valType:`any`,editType:`none`},add:{valType:`string`,arrayOk:!0,dflt:``,editType:`modebar`},remove:{valType:`string`,arrayOk:!0,dflt:``,editType:`modebar`}}}),26023:(function(e,t,n){var r=n(73972),i=n(74875),a=n(41675),o=n(24255),s=n(34031).eraseActiveShape,c=n(71828),l=c._,u=e.exports={};u.toImage={name:`toImage`,title:function(e){return((e._context.toImageButtonOptions||{}).format||`png`)===`png`?l(e,`Download plot as a png`):l(e,`Download plot`)},icon:o.camera,click:function(e){var t=e._context.toImageButtonOptions,n={format:t.format||`png`};c.notifier(l(e,`Taking snapshot - this may take a few seconds`),`long`),n.format!==`svg`&&c.isIE()&&(c.notifier(l(e,`IE only supports svg.  Changing format to svg.`),`long`),n.format=`svg`),[`filename`,`width`,`height`,`scale`].forEach(function(e){e in t&&(n[e]=t[e])}),r.call(`downloadImage`,e,n).then(function(t){c.notifier(l(e,`Snapshot succeeded`)+` - `+t,`long`)}).catch(function(){c.notifier(l(e,`Sorry, there was a problem downloading your snapshot!`),`long`)})}},u.sendDataToCloud={name:`sendDataToCloud`,title:function(e){return l(e,`Edit in Chart Studio`)},icon:o.disk,click:function(e){i.sendDataToCloud(e)}},u.editInChartStudio={name:`editInChartStudio`,title:function(e){return l(e,`Edit in Chart Studio`)},icon:o.pencil,click:function(e){i.sendDataToCloud(e)}},u.zoom2d={name:`zoom2d`,_cat:`zoom`,title:function(e){return l(e,`Zoom`)},attr:`dragmode`,val:`zoom`,icon:o.zoombox,click:d},u.pan2d={name:`pan2d`,_cat:`pan`,title:function(e){return l(e,`Pan`)},attr:`dragmode`,val:`pan`,icon:o.pan,click:d},u.select2d={name:`select2d`,_cat:`select`,title:function(e){return l(e,`Box Select`)},attr:`dragmode`,val:`select`,icon:o.selectbox,click:d},u.lasso2d={name:`lasso2d`,_cat:`lasso`,title:function(e){return l(e,`Lasso Select`)},attr:`dragmode`,val:`lasso`,icon:o.lasso,click:d},u.drawclosedpath={name:`drawclosedpath`,title:function(e){return l(e,`Draw closed freeform`)},attr:`dragmode`,val:`drawclosedpath`,icon:o.drawclosedpath,click:d},u.drawopenpath={name:`drawopenpath`,title:function(e){return l(e,`Draw open freeform`)},attr:`dragmode`,val:`drawopenpath`,icon:o.drawopenpath,click:d},u.drawline={name:`drawline`,title:function(e){return l(e,`Draw line`)},attr:`dragmode`,val:`drawline`,icon:o.drawline,click:d},u.drawrect={name:`drawrect`,title:function(e){return l(e,`Draw rectangle`)},attr:`dragmode`,val:`drawrect`,icon:o.drawrect,click:d},u.drawcircle={name:`drawcircle`,title:function(e){return l(e,`Draw circle`)},attr:`dragmode`,val:`drawcircle`,icon:o.drawcircle,click:d},u.eraseshape={name:`eraseshape`,title:function(e){return l(e,`Erase active shape`)},icon:o.eraseshape,click:s},u.zoomIn2d={name:`zoomIn2d`,_cat:`zoomin`,title:function(e){return l(e,`Zoom in`)},attr:`zoom`,val:`in`,icon:o.zoom_plus,click:d},u.zoomOut2d={name:`zoomOut2d`,_cat:`zoomout`,title:function(e){return l(e,`Zoom out`)},attr:`zoom`,val:`out`,icon:o.zoom_minus,click:d},u.autoScale2d={name:`autoScale2d`,_cat:`autoscale`,title:function(e){return l(e,`Autoscale`)},attr:`zoom`,val:`auto`,icon:o.autoscale,click:d},u.resetScale2d={name:`resetScale2d`,_cat:`resetscale`,title:function(e){return l(e,`Reset axes`)},attr:`zoom`,val:`reset`,icon:o.home,click:d},u.hoverClosestCartesian={name:`hoverClosestCartesian`,_cat:`hoverclosest`,title:function(e){return l(e,`Show closest data on hover`)},attr:`hovermode`,val:`closest`,icon:o.tooltip_basic,gravity:`ne`,click:d},u.hoverCompareCartesian={name:`hoverCompareCartesian`,_cat:`hoverCompare`,title:function(e){return l(e,`Compare data on hover`)},attr:`hovermode`,val:function(e){return e._fullLayout._isHoriz?`y`:`x`},icon:o.tooltip_compare,gravity:`ne`,click:d};function d(e,t){var n=t.currentTarget,i=n.getAttribute(`data-attr`),o=n.getAttribute(`data-val`)||!0,s=e._fullLayout,c={},l=a.list(e,null,!0),u=s._cartesianSpikesEnabled,d,f;if(i===`zoom`){var p=o===`in`?.5:2,m=(1+p)/2,h=(1-p)/2,g;for(f=0;f<l.length;f++)if(d=l[f],!d.fixedrange)if(g=d._name,o===`auto`)c[g+`.autorange`]=!0;else if(o===`reset`){if(d._rangeInitial===void 0)c[g+`.autorange`]=!0;else{var _=d._rangeInitial.slice();c[g+`.range[0]`]=_[0],c[g+`.range[1]`]=_[1]}d._showSpikeInitial!==void 0&&(c[g+`.showspikes`]=d._showSpikeInitial,u===`on`&&!d._showSpikeInitial&&(u=`off`))}else{var v=[d.r2l(d.range[0]),d.r2l(d.range[1])],y=[m*v[0]+h*v[1],m*v[1]+h*v[0]];c[g+`.range[0]`]=d.l2r(y[0]),c[g+`.range[1]`]=d.l2r(y[1])}}else i===`hovermode`&&(o===`x`||o===`y`)&&(o=s._isHoriz?`y`:`x`,n.setAttribute(`data-val`,o)),c[i]=o;s._cartesianSpikesEnabled=u,r.call(`_guiRelayout`,e,c)}u.zoom3d={name:`zoom3d`,_cat:`zoom`,title:function(e){return l(e,`Zoom`)},attr:`scene.dragmode`,val:`zoom`,icon:o.zoombox,click:f},u.pan3d={name:`pan3d`,_cat:`pan`,title:function(e){return l(e,`Pan`)},attr:`scene.dragmode`,val:`pan`,icon:o.pan,click:f},u.orbitRotation={name:`orbitRotation`,title:function(e){return l(e,`Orbital rotation`)},attr:`scene.dragmode`,val:`orbit`,icon:o[`3d_rotate`],click:f},u.tableRotation={name:`tableRotation`,title:function(e){return l(e,`Turntable rotation`)},attr:`scene.dragmode`,val:`turntable`,icon:o[`z-axis`],click:f};function f(e,t){for(var n=t.currentTarget,i=n.getAttribute(`data-attr`),a=n.getAttribute(`data-val`)||!0,o=e._fullLayout._subplots.gl3d||[],s={},c=i.split(`.`),l=0;l<o.length;l++)s[o[l]+`.`+c[1]]=a;s.dragmode=a===`pan`?a:`zoom`,r.call(`_guiRelayout`,e,s)}u.resetCameraDefault3d={name:`resetCameraDefault3d`,_cat:`resetCameraDefault`,title:function(e){return l(e,`Reset camera to default`)},attr:`resetDefault`,icon:o.home,click:p},u.resetCameraLastSave3d={name:`resetCameraLastSave3d`,_cat:`resetCameraLastSave`,title:function(e){return l(e,`Reset camera to last save`)},attr:`resetLastSave`,icon:o.movie,click:p};function p(e,t){for(var n=t.currentTarget.getAttribute(`data-attr`),i=n===`resetLastSave`,a=n===`resetDefault`,o=e._fullLayout,s=o._subplots.gl3d||[],c={},l=0;l<s.length;l++){var u=s[l],d=u+`.camera`,f=u+`.aspectratio`,p=u+`.aspectmode`,m=o[u]._scene,h;i?(c[d+`.up`]=m.viewInitial.up,c[d+`.eye`]=m.viewInitial.eye,c[d+`.center`]=m.viewInitial.center,h=!0):a&&(c[d+`.up`]=null,c[d+`.eye`]=null,c[d+`.center`]=null,h=!0),h&&(c[f+`.x`]=m.viewInitial.aspectratio.x,c[f+`.y`]=m.viewInitial.aspectratio.y,c[f+`.z`]=m.viewInitial.aspectratio.z,c[p]=m.viewInitial.aspectmode)}r.call(`_guiRelayout`,e,c)}u.hoverClosest3d={name:`hoverClosest3d`,_cat:`hoverclosest`,title:function(e){return l(e,`Toggle show closest data on hover`)},attr:`hovermode`,val:null,toggle:!0,icon:o.tooltip_basic,gravity:`ne`,click:h};function m(e,t){var n=t.currentTarget,r=n._previousVal,i=e._fullLayout,a=i._subplots.gl3d||[],o=[`xaxis`,`yaxis`,`zaxis`],s={},c={};if(r)c=r,n._previousVal=null;else{for(var l=0;l<a.length;l++){var u=a[l],d=i[u],f=u+`.hovermode`;s[f]=d.hovermode,c[f]=!1;for(var p=0;p<3;p++){var m=o[p],h=u+`.`+m+`.showspikes`;c[h]=!1,s[h]=d[m].showspikes}}n._previousVal=s}return c}function h(e,t){var n=m(e,t);r.call(`_guiRelayout`,e,n)}u.zoomInGeo={name:`zoomInGeo`,_cat:`zoomin`,title:function(e){return l(e,`Zoom in`)},attr:`zoom`,val:`in`,icon:o.zoom_plus,click:g},u.zoomOutGeo={name:`zoomOutGeo`,_cat:`zoomout`,title:function(e){return l(e,`Zoom out`)},attr:`zoom`,val:`out`,icon:o.zoom_minus,click:g},u.resetGeo={name:`resetGeo`,_cat:`reset`,title:function(e){return l(e,`Reset`)},attr:`reset`,val:null,icon:o.autoscale,click:g},u.hoverClosestGeo={name:`hoverClosestGeo`,_cat:`hoverclosest`,title:function(e){return l(e,`Toggle show closest data on hover`)},attr:`hovermode`,val:null,toggle:!0,icon:o.tooltip_basic,gravity:`ne`,click:v};function g(e,t){for(var n=t.currentTarget,i=n.getAttribute(`data-attr`),a=n.getAttribute(`data-val`)||!0,o=e._fullLayout,s=o._subplots.geo||[],c=0;c<s.length;c++){var l=s[c],u=o[l];if(i===`zoom`){var d=u.projection.scale,f=a===`in`?2*d:.5*d;r.call(`_guiRelayout`,e,l+`.projection.scale`,f)}}i===`reset`&&x(e,`geo`)}u.hoverClosestGl2d={name:`hoverClosestGl2d`,_cat:`hoverclosest`,title:function(e){return l(e,`Toggle show closest data on hover`)},attr:`hovermode`,val:null,toggle:!0,icon:o.tooltip_basic,gravity:`ne`,click:v},u.hoverClosestPie={name:`hoverClosestPie`,_cat:`hoverclosest`,title:function(e){return l(e,`Toggle show closest data on hover`)},attr:`hovermode`,val:`closest`,icon:o.tooltip_basic,gravity:`ne`,click:v};function _(e){var t=e._fullLayout;return t.hovermode?!1:t._has(`cartesian`)?t._isHoriz?`y`:`x`:`closest`}function v(e){var t=_(e);r.call(`_guiRelayout`,e,`hovermode`,t)}u.resetViewSankey={name:`resetSankeyGroup`,title:function(e){return l(e,`Reset view`)},icon:o.home,click:function(e){for(var t={"node.groups":[],"node.x":[],"node.y":[]},n=0;n<e._fullData.length;n++){var i=e._fullData[n]._viewInitial;t[`node.groups`].push(i.node.groups.slice()),t[`node.x`].push(i.node.x.slice()),t[`node.y`].push(i.node.y.slice())}r.call(`restyle`,e,t)}},u.toggleHover={name:`toggleHover`,title:function(e){return l(e,`Toggle show closest data on hover`)},attr:`hovermode`,val:null,toggle:!0,icon:o.tooltip_basic,gravity:`ne`,click:function(e,t){var n=m(e,t);n.hovermode=_(e),r.call(`_guiRelayout`,e,n)}},u.resetViews={name:`resetViews`,title:function(e){return l(e,`Reset views`)},icon:o.home,click:function(e,t){var n=t.currentTarget;n.setAttribute(`data-attr`,`zoom`),n.setAttribute(`data-val`,`reset`),d(e,t),n.setAttribute(`data-attr`,`resetLastSave`),p(e,t),x(e,`geo`),x(e,`mapbox`)}},u.toggleSpikelines={name:`toggleSpikelines`,title:function(e){return l(e,`Toggle Spike Lines`)},icon:o.spikeline,attr:`_cartesianSpikesEnabled`,val:`on`,click:function(e){var t=e._fullLayout;t._cartesianSpikesEnabled=t._cartesianSpikesEnabled===`on`?`off`:`on`,r.call(`_guiRelayout`,e,y(e))}};function y(e){for(var t=e._fullLayout._cartesianSpikesEnabled===`on`,n=a.list(e,null,!0),r={},i=0;i<n.length;i++){var o=n[i];r[o._name+`.showspikes`]=t?!0:o._showSpikeInitial}return r}u.resetViewMapbox={name:`resetViewMapbox`,_cat:`resetView`,title:function(e){return l(e,`Reset view`)},attr:`reset`,icon:o.home,click:function(e){x(e,`mapbox`)}},u.zoomInMapbox={name:`zoomInMapbox`,_cat:`zoomin`,title:function(e){return l(e,`Zoom in`)},attr:`zoom`,val:`in`,icon:o.zoom_plus,click:b},u.zoomOutMapbox={name:`zoomOutMapbox`,_cat:`zoomout`,title:function(e){return l(e,`Zoom out`)},attr:`zoom`,val:`out`,icon:o.zoom_minus,click:b};function b(e,t){for(var n=t.currentTarget.getAttribute(`data-val`),i=e._fullLayout,a=i._subplots.mapbox||[],o=1.05,s={},c=0;c<a.length;c++){var l=a[c],u=i[l].zoom,d=n===`in`?o*u:u/o;s[l+`.zoom`]=d}r.call(`_guiRelayout`,e,s)}function x(e,t){for(var n=e._fullLayout,i=n._subplots[t]||[],a={},o=0;o<i.length;o++)for(var s=i[o],c=n[s]._subplot.viewInitial,l=Object.keys(c),u=0;u<l.length;u++){var d=l[u];a[s+`.`+d]=c[d]}r.call(`_guiRelayout`,e,a)}}),93348:(function(e,t,n){var r=n(26023),i=Object.keys(r),a=[`drawline`,`drawopenpath`,`drawclosedpath`,`drawcircle`,`drawrect`,`eraseshape`],o=[`v1hovermode`,`hoverclosest`,`hovercompare`,`togglehover`,`togglespikelines`].concat(a),s=[],c=function(e){if(o.indexOf(e._cat||e.name)===-1){var t=e.name,n=(e._cat||e.name).toLowerCase();s.indexOf(t)===-1&&s.push(t),s.indexOf(n)===-1&&s.push(n)}};i.forEach(function(e){c(r[e])}),s.sort(),e.exports={DRAW_MODES:a,backButtons:o,foreButtons:s}}),35750:(function(e,t,n){var r=n(71828),i=n(7901),a=n(44467),o=n(42068);e.exports=function(e,t){var n=e.modebar||{},s=a.newContainer(t,`modebar`);function c(e,t){return r.coerce(n,s,o,e,t)}c(`orientation`),c(`bgcolor`,i.addOpacity(t.paper_bgcolor,.5));var l=i.contrast(i.rgb(t.modebar.bgcolor));c(`color`,i.addOpacity(l,.3)),c(`activecolor`,i.addOpacity(l,.7)),c(`uirevision`,t.uirevision),c(`add`),c(`remove`)}}),64168:(function(e,t,n){e.exports={moduleType:`component`,name:`modebar`,layoutAttributes:n(42068),supplyLayoutDefaults:n(35750),manage:n(14192)}}),14192:(function(e,t,n){var r=n(41675),i=n(34098),a=n(73972),o=n(23469).isUnifiedHover,s=n(37676),c=n(26023),l=n(93348).DRAW_MODES,u=n(71828).extendDeep;e.exports=function(e){var t=e._fullLayout,n=e._context,r=t._modeBar;if(!n.displayModeBar&&!n.watermark){r&&(r.destroy(),delete t._modeBar);return}if(!Array.isArray(n.modeBarButtonsToRemove))throw Error([`*modeBarButtonsToRemove* configuration options`,`must be an array.`].join(` `));if(!Array.isArray(n.modeBarButtonsToAdd))throw Error([`*modeBarButtonsToAdd* configuration options`,`must be an array.`].join(` `));var i=n.modeBarButtons,a=Array.isArray(i)&&i.length?g(i):!n.displayModeBar&&n.watermark?[]:d(e);r?r.update(e,a):t._modeBar=s(e,a)};function d(e){var t=e._fullLayout,n=e._fullData,r=e._context;function i(e,t){if(typeof t==`string`){if(t.toLowerCase()===e.toLowerCase())return!0}else{var n=t.name,r=t._cat||t.name;if(n===e||r===e.toLowerCase())return!0}return!1}var a=t.modebar.add;typeof a==`string`&&(a=[a]);var s=t.modebar.remove;typeof s==`string`&&(s=[s]);var u=r.modeBarButtonsToAdd.concat(a.filter(function(e){for(var t=0;t<r.modeBarButtonsToRemove.length;t++)if(i(e,r.modeBarButtonsToRemove[t]))return!1;return!0})),d=r.modeBarButtonsToRemove.concat(s.filter(function(e){for(var t=0;t<r.modeBarButtonsToAdd.length;t++)if(i(e,r.modeBarButtonsToAdd[t]))return!1;return!0})),g=t._has(`cartesian`),_=t._has(`gl3d`),v=t._has(`geo`),y=t._has(`pie`),b=t._has(`funnelarea`),x=t._has(`gl2d`),S=t._has(`ternary`),C=t._has(`mapbox`),w=t._has(`polar`),T=t._has(`smith`),E=t._has(`sankey`),D=f(t),O=o(t.hovermode),k=[];function A(e){if(e.length){for(var t=[],n=0;n<e.length;n++){for(var r=e[n],i=c[r],a=i.name.toLowerCase(),o=(i._cat||i.name).toLowerCase(),s=!1,l=0;l<d.length;l++){var u=d[l].toLowerCase();if(u===a||u===o){s=!0;break}}s||t.push(c[r])}k.push(t)}}var j=[`toImage`];r.showEditInChartStudio?j.push(`editInChartStudio`):r.showSendToCloud&&j.push(`sendDataToCloud`),A(j);var M=[],N=[],P=[],F=[];(g||x||y||b||S)+v+_+C+w+T>1?(N=[`toggleHover`],P=[`resetViews`]):v?(M=[`zoomInGeo`,`zoomOutGeo`],N=[`hoverClosestGeo`],P=[`resetGeo`]):_?(N=[`hoverClosest3d`],P=[`resetCameraDefault3d`,`resetCameraLastSave3d`]):C?(M=[`zoomInMapbox`,`zoomOutMapbox`],N=[`toggleHover`],P=[`resetViewMapbox`]):x?N=[`hoverClosestGl2d`]:y?N=[`hoverClosestPie`]:E?(N=[`hoverClosestCartesian`,`hoverCompareCartesian`],P=[`resetViewSankey`]):N=[`toggleHover`],g&&(N=[`toggleSpikelines`,`hoverClosestCartesian`,`hoverCompareCartesian`]),(m(n)||O)&&(N=[]),(g||x)&&!D&&(M=[`zoomIn2d`,`zoomOut2d`,`autoScale2d`],P[0]!==`resetViews`&&(P=[`resetScale2d`])),_?F=[`zoom3d`,`pan3d`,`orbitRotation`,`tableRotation`]:(g||x)&&!D||S?F=[`zoom2d`,`pan2d`]:C||v?F=[`pan2d`]:w&&(F=[`zoom2d`]),p(n)&&F.push(`select2d`,`lasso2d`);var I=[],L=function(e){I.indexOf(e)===-1&&N.indexOf(e)!==-1&&I.push(e)};if(Array.isArray(u)){for(var R=[],z=0;z<u.length;z++){var B=u[z];typeof B==`string`?(B=B.toLowerCase(),l.indexOf(B)===-1?B===`togglespikelines`?L(`toggleSpikelines`):B===`togglehover`?L(`toggleHover`):B===`hovercompare`?L(`hoverCompareCartesian`):B===`hoverclosest`?(L(`hoverClosestCartesian`),L(`hoverClosestGeo`),L(`hoverClosest3d`),L(`hoverClosestGl2d`),L(`hoverClosestPie`)):B===`v1hovermode`&&(L(`toggleHover`),L(`hoverClosestCartesian`),L(`hoverCompareCartesian`),L(`hoverClosestGeo`),L(`hoverClosest3d`),L(`hoverClosestGl2d`),L(`hoverClosestPie`)):(t._has(`mapbox`)||t._has(`cartesian`))&&F.push(B)):R.push(B)}u=R}return A(F),A(M.concat(P)),A(I),h(k,u)}function f(e){for(var t=r.list({_fullLayout:e},null,!0),n=0;n<t.length;n++)if(!t[n].fixedrange)return!1;return!0}function p(e){for(var t=!1,n=0;n<e.length&&!t;n++){var r=e[n];!r._module||!r._module.selectPoints||(a.traceIs(r,`scatter-like`)?(i.hasMarkers(r)||i.hasText(r))&&(t=!0):a.traceIs(r,`box-violin`)?(r.boxpoints===`all`||r.points===`all`)&&(t=!0):t=!0)}return t}function m(e){for(var t=0;t<e.length;t++)if(!a.traceIs(e[t],`noHover`))return!1;return!0}function h(e,t){if(t.length)if(Array.isArray(t[0]))for(var n=0;n<t.length;n++)e.push(t[n]);else e.push(t);return e}function g(e){for(var t=u([],e),n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++){var a=r[i];if(typeof a==`string`)if(c[a]!==void 0)t[n][i]=c[a];else throw Error([`*modeBarButtons* configuration options`,`invalid button name`].join(` `))}return t}}),37676:(function(e,t,n){var r=n(39898),i=n(92770),a=n(71828),o=n(24255),s=n(11506).version,c=new DOMParser;function l(e){this.container=e.container,this.element=document.createElement(`div`),this.update(e.graphInfo,e.buttons),this.container.appendChild(this.element)}var u=l.prototype;u.update=function(e,t){this.graphInfo=e;var n=this.graphInfo._context,r=this.graphInfo._fullLayout,i=`modebar-`+r._uid;this.element.setAttribute(`id`,i),this._uid=i,this.element.className=`modebar`,n.displayModeBar===`hover`&&(this.element.className+=` modebar--hover ease-bg`),r.modebar.orientation===`v`&&(this.element.className+=` vertical`,t=t.reverse());var o=r.modebar,s=n.displayModeBar===`hover`?`.js-plotly-plot .plotly:hover `:``;a.deleteRelatedStyleRule(i),a.addRelatedStyleRule(i,s+`#`+i+` .modebar-group`,`background-color: `+o.bgcolor),a.addRelatedStyleRule(i,`#`+i+` .modebar-btn .icon path`,`fill: `+o.color),a.addRelatedStyleRule(i,`#`+i+` .modebar-btn:hover .icon path`,`fill: `+o.activecolor),a.addRelatedStyleRule(i,`#`+i+` .modebar-btn.active .icon path`,`fill: `+o.activecolor);var c=!this.hasButtons(t),l=this.hasLogo!==n.displaylogo,u=this.locale!==n.locale;if(this.locale=n.locale,(c||l||u)&&(this.removeAllButtons(),this.updateButtons(t),n.watermark||n.displaylogo)){var d=this.getLogo();n.watermark&&(d.className+=` watermark`),r.modebar.orientation===`v`?this.element.insertBefore(d,this.element.childNodes[0]):this.element.appendChild(d),this.hasLogo=!0}this.updateActiveButton()},u.updateButtons=function(e){var t=this;this.buttons=e,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(e){var n=t.createGroup();e.forEach(function(e){var r=e.name;if(!r)throw Error(`must provide button 'name' in button config`);if(t.buttonsNames.indexOf(r)!==-1)throw Error(`button name '`+r+`' is taken`);t.buttonsNames.push(r);var i=t.createButton(e);t.buttonElements.push(i),n.appendChild(i)}),t.element.appendChild(n)})},u.createGroup=function(){var e=document.createElement(`div`);return e.className=`modebar-group`,e},u.createButton=function(e){var t=this,n=document.createElement(`a`);n.setAttribute(`rel`,`tooltip`),n.className=`modebar-btn`;var i=e.title;i===void 0?i=e.name:typeof i==`function`&&(i=i(this.graphInfo)),(i||i===0)&&n.setAttribute(`data-title`,i),e.attr!==void 0&&n.setAttribute(`data-attr`,e.attr);var a=e.val;if(a!==void 0&&(typeof a==`function`&&(a=a(this.graphInfo)),n.setAttribute(`data-val`,a)),typeof e.click!=`function`)throw Error(`must provide button 'click' function in button config`);n.addEventListener(`click`,function(n){e.click(t.graphInfo,n),t.updateActiveButton(n.currentTarget)}),n.setAttribute(`data-toggle`,e.toggle||!1),e.toggle&&r.select(n).classed(`active`,!0);var s=e.icon;return typeof s==`function`?n.appendChild(s()):n.appendChild(this.createIcon(s||o.question)),n.setAttribute(`data-gravity`,e.gravity||`n`),n},u.createIcon=function(e){var t=i(e.height)?Number(e.height):e.ascent-e.descent,n=`http://www.w3.org/2000/svg`,r;if(e.path){r=document.createElementNS(n,`svg`),r.setAttribute(`viewBox`,[0,0,e.width,t].join(` `)),r.setAttribute(`class`,`icon`);var a=document.createElementNS(n,`path`);a.setAttribute(`d`,e.path),e.transform?a.setAttribute(`transform`,e.transform):e.ascent!==void 0&&a.setAttribute(`transform`,`matrix(1 0 0 -1 0 `+e.ascent+`)`),r.appendChild(a)}return e.svg&&(r=c.parseFromString(e.svg,`application/xml`).childNodes[0]),r.setAttribute(`height`,`1em`),r.setAttribute(`width`,`1em`),r},u.updateActiveButton=function(e){var t=this.graphInfo._fullLayout,n=e===void 0?null:e.getAttribute(`data-attr`);this.buttonElements.forEach(function(e){var i=e.getAttribute(`data-val`)||!0,o=e.getAttribute(`data-attr`),s=e.getAttribute(`data-toggle`)===`true`,c=r.select(e);if(s)o===n&&c.classed(`active`,!c.classed(`active`));else{var l=o===null?o:a.nestedProperty(t,o).get();c.classed(`active`,l===i)}})},u.hasButtons=function(e){var t=this.buttons;if(!t||e.length!==t.length)return!1;for(var n=0;n<e.length;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;r++)if(e[n][r].name!==t[n][r].name)return!1}return!0};function d(e){return e+` (v`+s+`)`}u.getLogo=function(){var e=this.createGroup(),t=document.createElement(`a`);return t.href=`https://plotly.com/`,t.target=`_blank`,t.setAttribute(`data-title`,d(a._(this.graphInfo,`Produced with Plotly.js`))),t.className=`modebar-btn plotlyjsicon modebar-btn--logo`,t.appendChild(this.createIcon(o.newplotlylogo)),e.appendChild(t),e},u.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},u.destroy=function(){a.removeElement(this.container.querySelector(`.modebar`)),a.deleteRelatedStyleRule(this._uid)};function f(e,t){var n=e._fullLayout,i=new l({graphInfo:e,container:n._modebardiv.node(),buttons:t});return n._privateplot&&r.select(i.element).append(`span`).classed(`badge-private float--left`,!0).text(`PRIVATE`),i}e.exports=f}),37113:(function(e,t,n){var r=n(41940),i=n(22399),a=n(44467).templatedArray;e.exports={visible:{valType:`boolean`,editType:`plot`},buttons:a(`button`,{visible:{valType:`boolean`,dflt:!0,editType:`plot`},step:{valType:`enumerated`,values:[`month`,`year`,`day`,`hour`,`minute`,`second`,`all`],dflt:`month`,editType:`plot`},stepmode:{valType:`enumerated`,values:[`backward`,`todate`],dflt:`backward`,editType:`plot`},count:{valType:`number`,min:0,dflt:1,editType:`plot`},label:{valType:`string`,editType:`plot`},editType:`plot`}),x:{valType:`number`,min:-2,max:3,editType:`plot`},xanchor:{valType:`enumerated`,values:[`auto`,`left`,`center`,`right`],dflt:`left`,editType:`plot`},y:{valType:`number`,min:-2,max:3,editType:`plot`},yanchor:{valType:`enumerated`,values:[`auto`,`top`,`middle`,`bottom`],dflt:`bottom`,editType:`plot`},font:r({editType:`plot`}),bgcolor:{valType:`color`,dflt:i.lightLine,editType:`plot`},activecolor:{valType:`color`,editType:`plot`},bordercolor:{valType:`color`,dflt:i.defaultLine,editType:`plot`},borderwidth:{valType:`number`,min:0,dflt:0,editType:`plot`},editType:`plot`}}),89573:(function(e){e.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}}),28674:(function(e,t,n){var r=n(71828),i=n(7901),a=n(44467),o=n(85501),s=n(37113),c=n(89573);e.exports=function(e,t,n,d,f){var p=e.rangeselector||{},m=a.newContainer(t,`rangeselector`);function h(e,t){return r.coerce(p,m,s,e,t)}if(h(`visible`,o(p,m,{name:`buttons`,handleItemDefaults:l,calendar:f}).length>0)){var g=u(t,n,d);h(`x`,g[0]),h(`y`,g[1]),r.noneOrAll(e,t,[`x`,`y`]),h(`xanchor`),h(`yanchor`),r.coerceFont(h,`font`,n.font);var _=h(`bgcolor`);h(`activecolor`,i.contrast(_,c.lightAmount,c.darkAmount)),h(`bordercolor`),h(`borderwidth`)}};function l(e,t,n,i){var a=i.calendar;function o(n,i){return r.coerce(e,t,s.buttons,n,i)}if(o(`visible`)){var c=o(`step`);c!==`all`&&(a&&a!==`gregorian`&&(c===`month`||c===`year`)?t.stepmode=`backward`:o(`stepmode`),o(`count`)),o(`label`)}}function u(e,t,n){for(var r=n.filter(function(n){return t[n].anchor===e._id}),i=0,a=0;a<r.length;a++){var o=t[r[a]].domain;o&&(i=Math.max(o[1],i))}return[e.domain[0],i+c.yPad]}}),21598:(function(e,t,n){var r=n(39898),i=n(73972),a=n(74875),o=n(7901),s=n(91424),c=n(71828),l=c.strTranslate,u=n(63893),d=n(41675),f=n(18783),p=f.LINE_SPACING,m=f.FROM_TL,h=f.FROM_BR,g=n(89573),_=n(70565);e.exports=function(e){var t=e._fullLayout._infolayer.selectAll(`.rangeselector`).data(v(e),y);t.enter().append(`g`).classed(`rangeselector`,!0),t.exit().remove(),t.style({cursor:`pointer`,"pointer-events":`all`}),t.each(function(t){var n=r.select(this),a=t,o=a.rangeselector,s=n.selectAll(`g.button`).data(c.filterVisible(o.buttons));s.enter().append(`g`).classed(`button`,!0),s.exit().remove(),s.each(function(t){var n=r.select(this),s=_(a,t);t._isActive=b(a,t,s),n.call(x,o,t),n.call(C,o,t,e),n.on(`click`,function(){e._dragged||i.call(`_guiRelayout`,e,s)}),n.on(`mouseover`,function(){t._isHovered=!0,n.call(x,o,t)}),n.on(`mouseout`,function(){t._isHovered=!1,n.call(x,o,t)})}),T(e,s,o,a._name,n)})};function v(e){for(var t=d.list(e,`x`,!0),n=[],r=0;r<t.length;r++){var i=t[r];i.rangeselector&&i.rangeselector.visible&&n.push(i)}return n}function y(e){return e._id}function b(e,t,n){if(t.step===`all`)return e.autorange===!0;var r=Object.keys(n);return e.range[0]===n[r[0]]&&e.range[1]===n[r[1]]}function x(e,t,n){var r=c.ensureSingle(e,`rect`,`selector-rect`,function(e){e.attr(`shape-rendering`,`crispEdges`)});r.attr({rx:g.rx,ry:g.ry}),r.call(o.stroke,t.bordercolor).call(o.fill,S(t,n)).style(`stroke-width`,t.borderwidth+`px`)}function S(e,t){return t._isActive||t._isHovered?e.activecolor:e.bgcolor}function C(e,t,n,r){function i(e){u.convertToTspans(e,r)}c.ensureSingle(e,`text`,`selector-text`,function(e){e.attr(`text-anchor`,`middle`)}).call(s.font,t.font).text(w(n,r._fullLayout._meta)).call(i)}function w(e,t){return e.label?t?c.templateString(e.label,t):e.label:e.step===`all`?`all`:e.count+e.step.charAt(0)}function T(e,t,n,i,o){var d=0,f=0,_=n.borderwidth;t.each(function(){var e=r.select(this).select(`.selector-text`),t=n.font.size*p,i=Math.max(t*u.lineCount(e),16)+3;f=Math.max(f,i)}),t.each(function(){var e=r.select(this),t=e.select(`.selector-rect`),i=e.select(`.selector-text`),a=i.node()&&s.bBox(i.node()).width,o=n.font.size*p,c=u.lineCount(i),m=Math.max(a+10,g.minButtonWidth);e.attr(`transform`,l(_+d,_)),t.attr({x:0,y:0,width:m,height:f}),u.positionText(i,m/2,f/2-(c-1)*o/2+3),d+=m+5});var v=e._fullLayout._size,y=v.l+v.w*n.x,b=v.t+v.h*(1-n.y),x=`left`;c.isRightAnchor(n)&&(y-=d,x=`right`),c.isCenterAnchor(n)&&(y-=d/2,x=`center`);var S=`top`;c.isBottomAnchor(n)&&(b-=f,S=`bottom`),c.isMiddleAnchor(n)&&(b-=f/2,S=`middle`),d=Math.ceil(d),f=Math.ceil(f),y=Math.round(y),b=Math.round(b),a.autoMargin(e,i+`-range-selector`,{x:n.x,y:n.y,l:d*m[x],r:d*h[x],b:f*h[S],t:f*m[S]}),o.attr(`transform`,l(y,b))}}),70565:(function(e,t,n){var r=n(81041),i=n(71828).titleCase;e.exports=function(e,t){var n=e._name,r={};if(t.step===`all`)r[n+`.autorange`]=!0;else{var i=a(e,t);r[n+`.range[0]`]=i[0],r[n+`.range[1]`]=i[1]}return r};function a(e,t){var n=e.range,a=new Date(e.r2l(n[1])),o=t.step,s=r[`utc`+i(o)],c=t.count,l;switch(t.stepmode){case`backward`:l=e.l2r(+s.offset(a,-c));break;case`todate`:var u=s.offset(a,-c);l=e.l2r(+s.ceil(u));break}var d=n[1];return[l,d]}}),97218:(function(e,t,n){e.exports={moduleType:`component`,name:`rangeselector`,schema:{subplots:{xaxis:{rangeselector:n(37113)}}},layoutAttributes:n(37113),handleDefaults:n(28674),draw:n(21598)}}),75148:(function(e,t,n){var r=n(22399);e.exports={bgcolor:{valType:`color`,dflt:r.background,editType:`plot`},bordercolor:{valType:`color`,dflt:r.defaultLine,editType:`plot`},borderwidth:{valType:`integer`,dflt:0,min:0,editType:`plot`},autorange:{valType:`boolean`,dflt:!0,editType:`calc`,impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:`info_array`,items:[{valType:`any`,editType:`calc`,impliedEdits:{"^autorange":!1}},{valType:`any`,editType:`calc`,impliedEdits:{"^autorange":!1}}],editType:`calc`,impliedEdits:{autorange:!1}},thickness:{valType:`number`,dflt:.15,min:0,max:1,editType:`plot`},visible:{valType:`boolean`,dflt:!0,editType:`calc`},editType:`calc`}}),88443:(function(e,t,n){var r=n(41675).list,i=n(71739).getAutoRange,a=n(73251);e.exports=function(e){for(var t=r(e,`x`,!0),n=0;n<t.length;n++){var o=t[n],s=o[a.name];s&&s.visible&&s.autorange&&(s._input.autorange=!0,s._input.range=s.range=i(e,o))}}}),73251:(function(e){e.exports={name:`rangeslider`,containerClassName:`rangeslider-container`,bgClassName:`rangeslider-bg`,rangePlotClassName:`rangeslider-rangeplot`,maskMinClassName:`rangeslider-mask-min`,maskMaxClassName:`rangeslider-mask-max`,slideBoxClassName:`rangeslider-slidebox`,grabberMinClassName:`rangeslider-grabber-min`,grabAreaMinClassName:`rangeslider-grabarea-min`,handleMinClassName:`rangeslider-handle-min`,grabberMaxClassName:`rangeslider-grabber-max`,grabAreaMaxClassName:`rangeslider-grabarea-max`,handleMaxClassName:`rangeslider-handle-max`,maskMinOppAxisClassName:`rangeslider-mask-min-opp-axis`,maskMaxOppAxisClassName:`rangeslider-mask-max-opp-axis`,maskColor:`rgba(0,0,0,0.4)`,maskOppAxisColor:`rgba(0,0,0,0.2)`,slideBoxFill:`transparent`,slideBoxCursor:`ew-resize`,grabAreaFill:`transparent`,grabAreaCursor:`col-resize`,grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}}),26377:(function(e,t,n){var r=n(71828),i=n(44467),a=n(41675),o=n(75148),s=n(47850);e.exports=function(e,t,n){var c=e[n],l=t[n];if(!(c.rangeslider||t._requestRangeslider[l._id]))return;r.isPlainObject(c.rangeslider)||(c.rangeslider={});var u=c.rangeslider,d=i.newContainer(l,`rangeslider`);function f(e,t){return r.coerce(u,d,o,e,t)}var p,m;function h(e,t){return r.coerce(p,m,s,e,t)}if(f(`visible`)){f(`bgcolor`,t.plot_bgcolor),f(`bordercolor`),f(`borderwidth`),f(`thickness`),f(`autorange`,!l.isValidRange(u.range)),f(`range`);var g=t._subplots;if(g)for(var _=g.cartesian.filter(function(e){return e.substr(0,e.indexOf(`y`))===a.name2id(n)}).map(function(e){return e.substr(e.indexOf(`y`),e.length)}),v=r.simpleMap(_,a.id2name),y=0;y<v.length;y++){var b=v[y];p=u[b]||{},m=i.newContainer(d,b,`yaxis`);var x=t[b],S;p.range&&x.isValidRange(p.range)&&(S=`fixed`),h(`rangemode`,S)!==`match`&&h(`range`,x.range.slice())}d._input=u}}}),72413:(function(e,t,n){var r=n(39898),i=n(73972),a=n(74875),o=n(71828),s=o.strTranslate,c=n(91424),l=n(7901),u=n(92998),d=n(93612),f=n(41675),p=n(28569),m=n(6964),h=n(73251);e.exports=function(e){for(var t=e._fullLayout,n=t._rangeSliderData,i=0;i<n.length;i++){var a=n[i][h.name];a._clipId=a._id+`-`+t._uid}function c(e){return e._name}var l=t._infolayer.selectAll(`g.`+h.containerClassName).data(n,c);l.exit().each(function(e){var n=e[h.name];t._topdefs.select(`#`+n._clipId).remove()}).remove(),n.length!==0&&(l.enter().append(`g`).classed(h.containerClassName,!0).attr(`pointer-events`,`all`),l.each(function(n){var i=r.select(this),a=n[h.name],c=t[f.id2name(n.anchor)],l=a[f.id2name(n.anchor)];if(a.range){var d=o.simpleMap(a.range,n.r2l),p=o.simpleMap(n.range,n.r2l),m=p[0]<p[1]?[Math.min(d[0],p[0]),Math.max(d[1],p[1])]:[Math.max(d[0],p[0]),Math.min(d[1],p[1])];a.range=a._input.range=o.simpleMap(m,n.l2r)}n.cleanRange(`rangeslider.range`);var _=t._size,S=n.domain;a._width=_.w*(S[1]-S[0]);var E=Math.round(_.l+_.w*S[0]),D=Math.round(_.t+_.h*(1-n._counterDomainMin)+(n.side===`bottom`?n._depth:0)+a._offsetShift+h.extraPad);i.attr(`transform`,s(E,D)),a._rl=o.simpleMap(a.range,n.r2l);var O=a._rl[0],k=a._rl[1],A=k-O;if(a.p2d=function(e){return e/a._width*A+O},a.d2p=function(e){return(e-O)/A*a._width},n.rangebreaks){var j=n.locateBreaks(O,k);if(j.length){var M,N,P=0;for(M=0;M<j.length;M++)N=j[M],P+=N.max-N.min;var F=a._width/(k-O-P),I=[-F*O];for(M=0;M<j.length;M++)N=j[M],I.push(I[I.length-1]-F*(N.max-N.min));for(a.d2p=function(e){for(var t=I[0],n=0;n<j.length;n++){var r=j[n];if(e>=r.max)t=I[n+1];else if(e<r.min)break}return t+F*e},M=0;M<j.length;M++)N=j[M],N.pmin=a.d2p(N.min),N.pmax=a.d2p(N.max);a.p2d=function(e){for(var t=I[0],n=0;n<j.length;n++){var r=j[n];if(e>=r.pmax)t=I[n+1];else if(e<r.pmin)break}return(e-t)/F}}}if(l.rangemode!==`match`){var L=c.r2l(l.range[0]),R=c.r2l(l.range[1])-L;a.d2pOppAxis=function(e){return(e-L)/R*a._height}}i.call(y,e,n,a).call(b,e,n,a).call(x,e,n,a).call(C,e,n,a,l).call(w,e,n,a).call(T,e,n,a),g(i,e,n,a),v(i,e,n,a,c,l),n.side===`bottom`&&u.draw(e,n._id+`title`,{propContainer:n,propName:n._name+`.title`,placeholder:t._dfltTitle.x,attributes:{x:n._offset+n._length/2,y:D+a._height+a._offsetShift+10+1.5*n.title.font.size,"text-anchor":`middle`}})}))};function g(e,t,n,i){if(t._context.staticPlot)return;var a=e.select(`rect.`+h.slideBoxClassName).node(),s=e.select(`rect.`+h.grabAreaMinClassName).node(),c=e.select(`rect.`+h.grabAreaMaxClassName).node();function l(){var l=r.event,u=l.target,d=l.clientX||l.touches[0].clientX,f=d-e.node().getBoundingClientRect().left,h=i.d2p(n._rl[0]),g=i.d2p(n._rl[1]),v=p.coverSlip();this.addEventListener(`touchmove`,y),this.addEventListener(`touchend`,b),v.addEventListener(`mousemove`,y),v.addEventListener(`mouseup`,b);function y(o){var l=+(o.clientX||o.touches[0].clientX)-d,p,y,b;switch(u){case a:if(b=`ew-resize`,h+l>n._length||g+l<0)return;p=h+l,y=g+l;break;case s:if(b=`col-resize`,h+l>n._length)return;p=h+l,y=g;break;case c:if(b=`col-resize`,g+l<0)return;p=h,y=g+l;break;default:b=`ew-resize`,p=f,y=f+l;break}if(y<p){var x=y;y=p,p=x}i._pixelMin=p,i._pixelMax=y,m(r.select(v),b),_(e,t,n,i)}function b(){v.removeEventListener(`mousemove`,y),v.removeEventListener(`mouseup`,b),this.removeEventListener(`touchmove`,y),this.removeEventListener(`touchend`,b),o.removeElement(v)}}e.on(`mousedown`,l),e.on(`touchstart`,l)}function _(e,t,n,r){function a(e){return n.l2r(o.constrain(e,r._rl[0],r._rl[1]))}var s=a(r.p2d(r._pixelMin)),c=a(r.p2d(r._pixelMax));window.requestAnimationFrame(function(){i.call(`_guiRelayout`,t,n._name+`.range`,[s,c])})}function v(e,t,n,r,i,a){var c=h.handleWidth/2;function l(e){return o.constrain(e,0,r._width)}function u(e){return o.constrain(e,0,r._height)}function d(e){return o.constrain(e,-c,r._width+c)}var f=l(r.d2p(n._rl[0])),p=l(r.d2p(n._rl[1]));if(e.select(`rect.`+h.slideBoxClassName).attr(`x`,f).attr(`width`,p-f),e.select(`rect.`+h.maskMinClassName).attr(`width`,f),e.select(`rect.`+h.maskMaxClassName).attr(`x`,p).attr(`width`,r._width-p),a.rangemode!==`match`){var m=r._height-u(r.d2pOppAxis(i._rl[1])),g=r._height-u(r.d2pOppAxis(i._rl[0]));e.select(`rect.`+h.maskMinOppAxisClassName).attr(`x`,f).attr(`height`,m).attr(`width`,p-f),e.select(`rect.`+h.maskMaxOppAxisClassName).attr(`x`,f).attr(`y`,g).attr(`height`,r._height-g).attr(`width`,p-f),e.select(`rect.`+h.slideBoxClassName).attr(`y`,m).attr(`height`,g-m)}var _=.5,v=Math.round(d(f-c))-_,y=Math.round(d(p-c))+_;e.select(`g.`+h.grabberMinClassName).attr(`transform`,s(v,_)),e.select(`g.`+h.grabberMaxClassName).attr(`transform`,s(y,_))}function y(e,t,n,r){var i=o.ensureSingle(e,`rect`,h.bgClassName,function(e){e.attr({x:0,y:0,"shape-rendering":`crispEdges`})}),a=r.borderwidth%2==0?r.borderwidth:r.borderwidth-1,u=-r._offsetShift,d=c.crispRound(t,r.borderwidth);i.attr({width:r._width+a,height:r._height+a,transform:s(u,u),"stroke-width":d}).call(l.stroke,r.bordercolor).call(l.fill,r.bgcolor)}function b(e,t,n,r){var i=t._fullLayout;o.ensureSingleById(i._topdefs,`clipPath`,r._clipId,function(e){e.append(`rect`).attr({x:0,y:0})}).select(`rect`).attr({width:r._width,height:r._height})}function x(e,t,n,i){var s=t.calcdata,l=e.selectAll(`g.`+h.rangePlotClassName).data(n._subplotsWith,o.identity);l.enter().append(`g`).attr(`class`,function(e){return h.rangePlotClassName+` `+e}).call(c.setClipUrl,i._clipId,t),l.order(),l.exit().remove();var u;l.each(function(e,o){var c=r.select(this),l=o===0,p=f.getFromId(t,e,`y`),m=p._name,h=i[m],g={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:i.range.slice(),calendar:n.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:t._context};n.rangebreaks&&(g.layout.xaxis.rangebreaks=n.rangebreaks),g.layout[m]={type:p.type,domain:[0,1],range:h.rangemode===`match`?p.range.slice():h.range.slice(),calendar:p.calendar},p.rangebreaks&&(g.layout[m].rangebreaks=p.rangebreaks),a.supplyDefaults(g);var _=g._fullLayout.xaxis,v=g._fullLayout[m];_.clearCalc(),_.setScale(),v.clearCalc(),v.setScale();var y={id:e,plotgroup:c,xaxis:_,yaxis:v,isRangePlot:!0};l?u=y:(y.mainplot=`xy`,y.mainplotinfo=u),d.rangePlot(t,y,S(s,e))})}function S(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],a=i[0].trace;a.xaxis+a.yaxis===t&&n.push(i)}return n}function C(e,t,n,r,i){o.ensureSingle(e,`rect`,h.maskMinClassName,function(e){e.attr({x:0,y:0,"shape-rendering":`crispEdges`})}).attr(`height`,r._height).call(l.fill,h.maskColor),o.ensureSingle(e,`rect`,h.maskMaxClassName,function(e){e.attr({y:0,"shape-rendering":`crispEdges`})}).attr(`height`,r._height).call(l.fill,h.maskColor),i.rangemode!==`match`&&(o.ensureSingle(e,`rect`,h.maskMinOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":`crispEdges`})}).attr(`width`,r._width).call(l.fill,h.maskOppAxisColor),o.ensureSingle(e,`rect`,h.maskMaxOppAxisClassName,function(e){e.attr({y:0,"shape-rendering":`crispEdges`})}).attr(`width`,r._width).style(`border-top`,h.maskOppBorder).call(l.fill,h.maskOppAxisColor))}function w(e,t,n,r){t._context.staticPlot||o.ensureSingle(e,`rect`,h.slideBoxClassName,function(e){e.attr({y:0,cursor:h.slideBoxCursor,"shape-rendering":`crispEdges`})}).attr({height:r._height,fill:h.slideBoxFill})}function T(e,t,n,r){var i=o.ensureSingle(e,`g`,h.grabberMinClassName),a=o.ensureSingle(e,`g`,h.grabberMaxClassName),s={x:0,width:h.handleWidth,rx:h.handleRadius,fill:l.background,stroke:l.defaultLine,"stroke-width":h.handleStrokeWidth,"shape-rendering":`crispEdges`},c={y:Math.round(r._height/4),height:Math.round(r._height/2)};o.ensureSingle(i,`rect`,h.handleMinClassName,function(e){e.attr(s)}).attr(c),o.ensureSingle(a,`rect`,h.handleMaxClassName,function(e){e.attr(s)}).attr(c);var u={width:h.grabAreaWidth,x:0,y:0,fill:h.grabAreaFill,cursor:t._context.staticPlot?void 0:h.grabAreaCursor};o.ensureSingle(i,`rect`,h.grabAreaMinClassName,function(e){e.attr(u)}).attr(`height`,r._height),o.ensureSingle(a,`rect`,h.grabAreaMaxClassName,function(e){e.attr(u)}).attr(`height`,r._height)}}),549:(function(e,t,n){var r=n(41675),i=n(63893),a=n(73251),o=n(18783).LINE_SPACING,s=a.name;function c(e){var t=e&&e[s];return t&&t.visible}t.isVisible=c,t.makeData=function(e){var t=r.list({_fullLayout:e},`x`,!0),n=e.margin,i=[];if(!e._has(`gl2d`))for(var a=0;a<t.length;a++){var o=t[a];if(c(o)){i.push(o);var l=o[s];l._id=s+o._id,l._height=(e.height-n.b-n.t)*l.thickness,l._offsetShift=Math.floor(l.borderwidth/2)}}e._rangeSliderData=i},t.autoMarginOpts=function(e,t){var n=e._fullLayout,r=t[s],c=t._id.charAt(0),l=0,u=0;if(t.side===`bottom`&&(l=t._depth,t.title.text!==n._dfltTitle[c])){u=1.5*t.title.font.size+10+r._offsetShift;var d=(t.title.text.match(i.BR_TAG_ALL)||[]).length;u+=d*t.title.font.size*o}return{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:r._height+l+Math.max(n.margin.b,u),pad:a.extraPad+r._offsetShift*2}}}),13137:(function(e,t,n){var r=n(71828),i=n(75148),a=n(47850),o=n(549);e.exports={moduleType:`component`,name:`rangeslider`,schema:{subplots:{xaxis:{rangeslider:r.extendFlat({},i,{yaxis:a})}}},layoutAttributes:n(75148),handleDefaults:n(26377),calcAutorange:n(88443),draw:n(72413),isVisible:o.isVisible,makeData:o.makeData,autoMarginOpts:o.autoMarginOpts}}),47850:(function(e){e.exports={_isSubplotObj:!0,rangemode:{valType:`enumerated`,values:[`auto`,`fixed`,`match`],dflt:`match`,editType:`calc`},range:{valType:`info_array`,items:[{valType:`any`,editType:`plot`},{valType:`any`,editType:`plot`}],editType:`plot`},editType:`calc`}}),8389:(function(e,t,n){var r=n(50215),i=n(82196).line,a=n(79952).P,o=n(1426).extendFlat,s=n(30962).overrideAll,c=n(44467).templatedArray;n(24695),e.exports=s(c(`selection`,{type:{valType:`enumerated`,values:[`rect`,`path`]},xref:o({},r.xref,{}),yref:o({},r.yref,{}),x0:{valType:`any`},x1:{valType:`any`},y0:{valType:`any`},y1:{valType:`any`},path:{valType:`string`,editType:`arraydraw`},opacity:{valType:`number`,min:0,max:1,dflt:.7,editType:`arraydraw`},line:{color:i.color,width:o({},i.width,{min:1,dflt:1}),dash:o({},a,{dflt:`dot`})}}),`arraydraw`,`from-root`)}),34122:(function(e){e.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:`-select`}}),59402:(function(e,t,n){var r=n(71828),i=n(89298),a=n(85501),o=n(8389),s=n(30477);e.exports=function(e,t){a(e,t,{name:`selections`,handleItemDefaults:c});for(var n=t.selections,r=0;r<n.length;r++){var i=n[r];i&&i.path===void 0&&(i.x0===void 0||i.x1===void 0||i.y0===void 0||i.y1===void 0)&&(t.selections[r]=null)}};function c(e,t,n){function a(n,i){return r.coerce(e,t,o,n,i)}var c=a(`type`,a(`path`)?`path`:`rect`)!==`path`;c&&delete t.path,a(`opacity`),a(`line.color`),a(`line.width`),a(`line.dash`);for(var l=[`x`,`y`],u=0;u<2;u++){var d=l[u],f={_fullLayout:n},p,m,h,g=i.coerceRef(e,t,f,d);if(p=i.getFromId(f,g),p._selectionIndices.push(t._index),h=s.rangeToShapePosition(p),m=s.shapePositionToRange(p),c){var _=d+`0`,v=d+`1`,y=e[_],b=e[v];e[_]=m(e[_],!0),e[v]=m(e[v],!0),i.coercePosition(t,f,a,g,_),i.coercePosition(t,f,a,g,v);var x=t[_],S=t[v];x!==void 0&&S!==void 0&&(t[_]=h(x),t[v]=h(S),e[_]=y,e[v]=b)}}c&&r.noneOrAll(e,t,[`x0`,`x1`,`y0`,`y1`])}}),32485:(function(e,t,n){var r=n(60165).readPaths,i=n(42359),a=n(51873).clearOutlineControllers,o=n(7901),s=n(91424),c=n(44467).arrayEditor,l=n(30477),u=l.getPathString;e.exports={draw:d,drawOne:p,activateLastSelection:g};function d(e){var t=e._fullLayout;for(var n in a(e),t._selectionLayer.selectAll(`path`).remove(),t._plots){var r=t._plots[n].selectionLayer;r&&r.selectAll(`path`).remove()}for(var i=0;i<t.selections.length;i++)p(e,i)}function f(e){return e._context.editSelection}function p(e,t){e._fullLayout._paperdiv.selectAll(`.selectionlayer [data-index="`+t+`"]`).remove();var n=l.makeSelectionsOptionsAndPlotinfo(e,t),a=n.options,d=n.plotinfo;if(!a._input)return;p(e._fullLayout._selectionLayer);function p(n){var l=u(e,a),p={"data-index":t,"fill-rule":`evenodd`,d:l},g=a.opacity,_=`rgba(0,0,0,0)`,v=a.line.color||o.contrast(e._fullLayout.plot_bgcolor),y=a.line.width,b=a.line.dash;y||(y=5,b=`solid`);var x=f(e)&&e._fullLayout._activeSelectionIndex===t;x&&(_=e._fullLayout.activeselection.fillcolor,g=e._fullLayout.activeselection.opacity);for(var S=[],C=1;C>=0;C--){var w=n.append(`path`).attr(p).style(`opacity`,C?.1:g).call(o.stroke,v).call(o.fill,_).call(s.dashLine,C?`solid`:b,C?4+y:y);if(m(w,e,a),x){var T=c(e.layout,`selections`,a);w.style({cursor:`move`});var E={element:w.node(),plotinfo:d,gd:e,editHelpers:T,isActiveSelection:!0};i(r(l,e),w,E)}else w.style(`pointer-events`,C?`all`:`none`);S[C]=w}var D=S[0];S[1].node().addEventListener(`click`,function(){return h(e,D)})}}function m(e,t,n){var r=n.xref+n.yref;s.setClipUrl(e,`clip`+t._fullLayout._uid+r,t)}function h(e,t){if(f(e)){var n=+t.node().getAttribute(`data-index`);if(n>=0){if(n===e._fullLayout._activeSelectionIndex){_(e);return}e._fullLayout._activeSelectionIndex=n,e._fullLayout._deactivateSelection=_,d(e)}}}function g(e){if(f(e)){var t=e._fullLayout.selections.length-1;e._fullLayout._activeSelectionIndex=t,e._fullLayout._deactivateSelection=_,d(e)}}function _(e){f(e)&&e._fullLayout._activeSelectionIndex>=0&&(a(e),delete e._fullLayout._activeSelectionIndex,d(e))}}),53777:(function(e,t,n){var r=n(79952).P,i=n(1426).extendFlat;e.exports={newselection:{mode:{valType:`enumerated`,values:[`immediate`,`gradual`],dflt:`immediate`,editType:`none`},line:{color:{valType:`color`,editType:`none`},width:{valType:`number`,min:1,dflt:1,editType:`none`},dash:i({},r,{dflt:`dot`,editType:`none`}),editType:`none`},editType:`none`},activeselection:{fillcolor:{valType:`color`,dflt:`rgba(0,0,0,0)`,editType:`none`},opacity:{valType:`number`,min:0,max:1,dflt:.5,editType:`none`},editType:`none`}}}),90849:(function(e){e.exports=function(e,t,n){n(`newselection.mode`),n(`newselection.line.width`)&&(n(`newselection.line.color`),n(`newselection.line.dash`)),n(`activeselection.fillcolor`),n(`activeselection.opacity`)}}),35855:(function(e,t,n){var r=n(64505).selectMode,i=n(51873).clearOutline,a=n(60165),o=a.readPaths,s=a.writePaths,c=a.fixDatesForPaths;e.exports=function(e,t){if(e.length){var n=e[0][0];if(n){var a=n.getAttribute(`d`),l=t.gd,u=l._fullLayout.newselection,d=t.plotinfo,f=d.xaxis,p=d.yaxis,m=t.isActiveSelection,h=t.dragmode,g=(l.layout||{}).selections||[];if(!r(h)&&m!==void 0){var _=l._fullLayout._activeSelectionIndex;if(_<g.length)switch(l._fullLayout.selections[_].type){case`rect`:h=`select`;break;case`path`:h=`lasso`;break}}var v=o(a,l,d,m),y={xref:f._id,yref:p._id,opacity:u.opacity,line:{color:u.line.color,width:u.line.width,dash:u.line.dash}},b;v.length===1&&(b=v[0]),b&&b.length===5&&h===`select`?(y.type=`rect`,y.x0=b[0][1],y.y0=b[0][2],y.x1=b[2][1],y.y1=b[2][2]):(y.type=`path`,f&&p&&c(v,f,p),y.path=s(v),b=null),i(l);for(var x=t.editHelpers,S=(x||{}).modifyItem,C=[],w=0;w<g.length;w++){var T=l._fullLayout.selections[w];if(!T){C[w]=T;continue}if(C[w]=T._input,m!==void 0&&w===l._fullLayout._activeSelectionIndex){var E=y;switch(T.type){case`rect`:S(`x0`,E.x0),S(`x1`,E.x1),S(`y0`,E.y0),S(`y1`,E.y1);break;case`path`:S(`path`,E.path);break}}}return m===void 0?(C.push(y),C):x?x.getUpdateObj():{}}}}}),75549:(function(e,t,n){var r=n(71828).strTranslate;function i(e,t){switch(e.type){case`log`:return e.p2d(t);case`date`:return e.p2r(t,0,e.calendar);default:return e.p2r(t)}}function a(e,t){switch(e.type){case`log`:return e.d2p(t);case`date`:return e.r2p(t,0,e.calendar);default:return e.r2p(t)}}function o(e){var t=e._id.charAt(0)===`y`?1:0;return function(n){return i(e,n[t])}}function s(e){return r(e.xaxis._offset,e.yaxis._offset)}e.exports={p2r:i,r2p:a,axValue:o,getTransform:s}}),47322:(function(e,t,n){var r=n(32485),i=n(3937);e.exports={moduleType:`component`,name:`selections`,layoutAttributes:n(8389),supplyLayoutDefaults:n(59402),supplyDrawNewSelectionDefaults:n(90849),includeBasePlot:n(76325)(`selections`),draw:r.draw,drawOne:r.drawOne,reselect:i.reselect,prepSelect:i.prepSelect,clearOutline:i.clearOutline,clearSelectionsCache:i.clearSelectionsCache,selectOnClick:i.selectOnClick}}),3937:(function(e,t,n){var r=n(52142),i=n(38258),a=n(73972),o=n(91424).dashStyle,s=n(7901),c=n(30211),l=n(23469).makeEventData,u=n(64505),d=u.freeMode,f=u.rectMode,p=u.drawMode,m=u.openMode,h=u.selectMode,g=n(30477),_=n(21459),v=n(42359),y=n(51873).clearOutline,b=n(60165),x=b.handleEllipse,S=b.readPaths,C=n(90551),w=n(35855),T=n(32485).activateLastSelection,E=n(71828),D=E.sorterAsc,O=n(61082),k=n(79990),A=n(41675).getFromId,j=n(33306),M=n(61549).redrawReglTraces,N=n(34122),P=N.MINSELECT,F=O.filter,I=O.tester,L=n(75549),R=L.p2r,z=L.axValue,B=L.getTransform;function V(e){return e.subplot!==void 0}function H(e,t,n,r,i){var l=!V(r),u=d(i),g=f(i),_=m(i),y=p(i),b=h(i),S=i===`drawline`,C=i===`drawcircle`,w=S||C,T=r.gd,D=T._fullLayout,O=b&&D.newselection.mode===`immediate`&&l,A=D._zoomlayer,j=r.element.getBoundingClientRect(),M=r.plotinfo,L=B(M),R=t-j.left,z=n-j.top;D._calcInverseTransform(T);var H=E.apply3DTransform(D._invTransform)(R,z);R=H[0],z=H[1];var W=D._invScaleX,G=D._invScaleY,K=R,J=z,Y=`M`+R+`,`+z,ne=r.xaxes[0],ie=r.yaxes[0],ae=ne._length,oe=ie._length,se=e.altKey&&!(p(i)&&_),ce,le,de,pe,_e,ve,be;q(e,T,r),u&&(ce=F([[R,z]],N.BENDPX));var xe=A.selectAll(`path.select-outline-`+M.id).data([1]),Se=y?D.newshape:D.newselection,Ce=y&&!_?Se.fillcolor:`rgba(0,0,0,0)`,Te=Se.line.color||(l?s.contrast(T._fullLayout.plot_bgcolor):`#7f7f7f`);xe.enter().append(`path`).attr(`class`,`select-outline select-outline-`+M.id).style({opacity:y?Se.opacity/2:1,"stroke-dasharray":o(Se.line.dash,Se.line.width),"stroke-width":Se.line.width+`px`,"shape-rendering":`crispEdges`}).call(s.stroke,Te).call(s.fill,Ce).attr(`fill-rule`,`evenodd`).classed(`cursor-move`,!!y).attr(`transform`,L).attr(`d`,Y+`Z`);var Ee=A.append(`path`).attr(`class`,`zoombox-corners`).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1}).attr(`transform`,L).attr(`d`,`M0,0Z`),Oe=D._uid+N.SELECTID,ke=[],Ae=re(T,r.xaxes,r.yaxes,r.subplot);O&&!e.shiftKey&&(r._clearSubplotSelections=function(){if(l){var e=ne._id,t=ie._id;ye(T,e,t,Ae);for(var n=(T.layout||{}).selections||[],r=[],i=!1,o=0;o<n.length;o++){var s=D.selections[o];s.xref!==e||s.yref!==t?r.push(n[o]):i=!0}i&&(T._fullLayout._noEmitSelectedAtStart=!0,a.call(`_guiRelayout`,T,{selections:r}))}});var je=X(r);r.moveFn=function(e,t){r._clearSubplotSelections&&=(r._clearSubplotSelections(),void 0),K=Math.max(0,Math.min(ae,W*e+R)),J=Math.max(0,Math.min(oe,G*t+z));var n=Math.abs(K-R),i=Math.abs(J-z);if(g){var a,o,s;if(b){var c=D.selectdirection;switch(a=c===`any`?i<Math.min(n*.6,P)?`h`:n<Math.min(i*.6,P)?`v`:`d`:c,a){case`h`:o=C?oe/2:0,s=oe;break;case`v`:o=C?ae/2:0,s=ae;break}}if(y)switch(D.newshape.drawdirection){case`vertical`:a=`h`,o=C?oe/2:0,s=oe;break;case`horizontal`:a=`v`,o=C?ae/2:0,s=ae;break;case`ortho`:n<i?(a=`h`,o=z,s=J):(a=`v`,o=R,s=K);break;default:a=`d`}a===`h`?(pe=w?x(C,[K,o],[K,s]):[[R,o],[R,s],[K,s],[K,o]],pe.xmin=w?K:Math.min(R,K),pe.xmax=w?K:Math.max(R,K),pe.ymin=Math.min(o,s),pe.ymax=Math.max(o,s),Ee.attr(`d`,`M`+pe.xmin+`,`+(z-P)+`h-4v`+2*P+`h4ZM`+(pe.xmax-1)+`,`+(z-P)+`h4v`+2*P+`h-4Z`)):a===`v`?(pe=w?x(C,[o,J],[s,J]):[[o,z],[o,J],[s,J],[s,z]],pe.xmin=Math.min(o,s),pe.xmax=Math.max(o,s),pe.ymin=w?J:Math.min(z,J),pe.ymax=w?J:Math.max(z,J),Ee.attr(`d`,`M`+(R-P)+`,`+pe.ymin+`v-4h`+2*P+`v4ZM`+(R-P)+`,`+(pe.ymax-1)+`v4h`+2*P+`v-4Z`)):a===`d`&&(pe=w?x(C,[R,z],[K,J]):[[R,z],[R,J],[K,J],[K,z]],pe.xmin=Math.min(R,K),pe.xmax=Math.max(R,K),pe.ymin=Math.min(z,J),pe.ymax=Math.max(z,J),Ee.attr(`d`,`M0,0Z`))}else u&&(ce.addPt([K,J]),pe=ce.filtered);if(r.selectionDefs&&r.selectionDefs.length?(de=fe(r.mergedPolygons,pe,se),pe.subtract=se,le=ee(r.selectionDefs.concat([pe]))):(de=[pe],le=I(pe)),v(me(de,_),xe,r),b){var l=ge(T,!1),d=l.eventData?l.eventData.points.slice():[];l=ge(T,!1,le,Ae,r),le=l.selectionTesters,be=l.eventData;var f=ce?ce.filtered:we(de);k.throttle(Oe,N.SELECTDELAY,function(){ke=he(le,Ae);for(var e=ke.slice(),t=0;t<d.length;t++){for(var n=d[t],r=!1,i=0;i<e.length;i++)if(e[i].curveNumber===n.curveNumber&&e[i].pointNumber===n.pointNumber){r=!0;break}r||e.push(n)}e.length&&(be||={},be.points=e),je(be,f),Z(T,be)})}},r.clickFn=function(e,t){if(Ee.remove(),T._fullLayout._activeShapeIndex>=0){T._fullLayout._deactivateShape(T);return}if(!y){var n=D.clickmode;k.done(Oe).then(function(){if(k.clear(Oe),e===2){for(xe.remove(),_e=0;_e<Ae.length;_e++)ve=Ae[_e],ve._module.selectPoints(ve,!1);if(ue(T,Ae),te(r),Q(T),Ae.length){var i=Ae[0].xaxis,o=Ae[0].yaxis;if(i&&o){for(var s=[],l=T._fullLayout.selections,u=0;u<l.length;u++){var d=l[u];d&&(d.xref!==i._id||d.yref!==o._id)&&s.push(d)}s.length<l.length&&(T._fullLayout._noEmitSelectedAtStart=!0,a.call(`_guiRelayout`,T,{selections:s}))}}}else n.indexOf(`select`)>-1&&U(t,T,r.xaxes,r.yaxes,r.subplot,r,xe),n===`event`&&De(T,void 0);c.click(T,t)}).catch(E.error)}},r.doneFn=function(){Ee.remove(),k.done(Oe).then(function(){k.clear(Oe),!O&&pe&&r.selectionDefs&&(pe.subtract=se,r.selectionDefs.push(pe),r.mergedPolygons.length=0,[].push.apply(r.mergedPolygons,de)),(O||y)&&te(r,O),r.doneFnCompleted&&r.doneFnCompleted(ke),b&&De(T,be)}).catch(E.error)}}function U(e,t,n,r,i,a,o){var s=t._hoverdata,c=t._fullLayout.clickmode.indexOf(`event`)>-1,l=[],u,d,f,p,h,g,_,y,b,x;if(ae(s)){q(e,t,a),u=re(t,n,r,i);var S=oe(s,u);if(S.pointNumbers.length>0?ce(u,S):le(u)&&(_=se(S))){for(o&&o.remove(),x=0;x<u.length;x++)d=u[x],d._module.selectPoints(d,!1);ue(t,u),te(a),c&&Q(t)}else{for(y=e.shiftKey&&(_===void 0?se(S):_),f=W(S.pointNumber,S.searchInfo,y),p=ee(a.selectionDefs.concat([f]),p),x=0;x<u.length;x++)if(h=u[x]._module.selectPoints(u[x],p),g=pe(h,u[x]),l.length)for(var C=0;C<g.length;C++)l.push(g[C]);else l=g;if(b={points:l},ue(t,u,b),f&&a&&a.selectionDefs.push(f),o){var w=a.mergedPolygons;v(me(w,m(a.dragmode)),o,a)}c&&De(t,b)}}}function W(e,t,n){return{pointNumber:e,searchInfo:t,subtract:!!n}}function G(e){return`pointNumber`in e&&`searchInfo`in e}function K(e){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(t,n,r,i){var a=e.searchInfo.cd[0].trace._expandedIndex;return i.cd[0].trace._expandedIndex===a&&r===e.pointNumber},isRect:!1,degenerate:!1,subtract:!!e.subtract}}function ee(e){if(!e.length)return;for(var t=[],n=G(e[0])?0:e[0][0][0],r=n,i=G(e[0])?0:e[0][0][1],a=i,o=0;o<e.length;o++)if(G(e[o]))t.push(K(e[o]));else{var s=I(e[o]);s.subtract=!!e[o].subtract,t.push(s),n=Math.min(n,s.xmin),r=Math.max(r,s.xmax),i=Math.min(i,s.ymin),a=Math.max(a,s.ymax)}function c(e,n,r,i){for(var a=!1,o=0;o<t.length;o++)t[o].contains(e,n,r,i)&&(a=!t[o].subtract);return a}return{xmin:n,xmax:r,ymin:i,ymax:a,pts:[],contains:c,isRect:!1,degenerate:!1}}function q(e,t,n){var r=t._fullLayout,i=n.plotinfo,a=n.dragmode,o=r._lastSelectedSubplot&&r._lastSelectedSubplot===i.id,s=(e.shiftKey||e.altKey)&&!(p(a)&&m(a));o&&s&&i.selection&&i.selection.selectionDefs&&!n.selectionDefs?(n.selectionDefs=i.selection.selectionDefs,n.mergedPolygons=i.selection.mergedPolygons):(!s||!i.selection)&&te(n),o||(y(t),r._lastSelectedSubplot=i.id)}function J(e){return e._fullLayout._activeShapeIndex>=0}function Y(e){return e._fullLayout._activeSelectionIndex>=0}function te(e,t){var n=e.dragmode,r=e.plotinfo,i=e.gd;J(i)&&i._fullLayout._deactivateShape(i),Y(i)&&i._fullLayout._deactivateSelection(i);var o=i._fullLayout._zoomlayer,s=p(n),c=h(n);if(s||c){var l=o.selectAll(`.select-outline-`+r.id);if(l&&i._fullLayout._outlining){var u;s&&(u=C(l,e)),u&&a.call(`_guiRelayout`,i,{shapes:u});var d;c&&!V(e)&&(d=w(l,e)),d&&(i._fullLayout._noEmitSelectedAtStart=!0,a.call(`_guiRelayout`,i,{selections:d}).then(function(){t&&T(i)})),i._fullLayout._outlining=!1}}r.selection={},r.selection.selectionDefs=e.selectionDefs=[],r.selection.mergedPolygons=e.mergedPolygons=[]}function ne(e){return e._id}function re(e,t,n,r){if(!e.calcdata)return[];var i=[],a=t.map(ne),o=n.map(ne),s,c,l;for(l=0;l<e.calcdata.length;l++)if(s=e.calcdata[l],c=s[0].trace,!(c.visible!==!0||!c._module||!c._module.selectPoints))if(V({subplot:r})&&(c.subplot===r||c.geo===r))i.push(ie(c._module,s,t[0],n[0]));else if(c.type===`splom`){if(c._xaxes[a[0]]&&c._yaxes[o[0]]){var u=ie(c._module,s,t[0],n[0]);u.scene=e._fullLayout._splomScenes[c.uid],i.push(u)}}else if(c.type===`sankey`){var d=ie(c._module,s,t[0],n[0]);i.push(d)}else{if(a.indexOf(c.xaxis)===-1||o.indexOf(c.yaxis)===-1)continue;i.push(ie(c._module,s,A(e,c.xaxis),A(e,c.yaxis)))}return i}function ie(e,t,n,r){return{_module:e,cd:t,xaxis:n,yaxis:r}}function ae(e){return e&&Array.isArray(e)&&e[0].hoverOnBox!==!0}function oe(e,t){var n=e[0],r=-1,i=[],a,o;for(o=0;o<t.length;o++)if(a=t[o],n.fullData._expandedIndex===a.cd[0].trace._expandedIndex){if(n.hoverOnBox===!0)break;n.pointNumber===void 0?n.binNumber!==void 0&&(r=n.binNumber,i=n.pointNumbers):r=n.pointNumber;break}return{pointNumber:r,pointNumbers:i,searchInfo:a}}function se(e){var t=e.searchInfo.cd[0].trace,n=e.pointNumber,r=e.pointNumbers,i=r.length>0?r[0]:n;return t.selectedpoints?t.selectedpoints.indexOf(i)>-1:!1}function ce(e,t){var n=[],r,i,a,o;for(o=0;o<e.length;o++)r=e[o],r.cd[0].trace.selectedpoints&&r.cd[0].trace.selectedpoints.length>0&&n.push(r);if(n.length===1&&(a=n[0]===t.searchInfo,a&&(i=t.searchInfo.cd[0].trace,i.selectedpoints.length===t.pointNumbers.length))){for(o=0;o<t.pointNumbers.length;o++)if(i.selectedpoints.indexOf(t.pointNumbers[o])<0)return!1;return!0}return!1}function le(e){var t=0,n,r,i;for(i=0;i<e.length;i++)if(n=e[i],r=n.cd[0].trace,r.selectedpoints&&(r.selectedpoints.length>1||(t+=r.selectedpoints.length,t>1)))return!1;return t===1}function ue(e,t,n){var r;for(r=0;r<t.length;r++){var i=t[r].cd[0].trace._fullInput,a=e._fullLayout._tracePreGUI[i.uid]||{};a.selectedpoints===void 0&&(a.selectedpoints=i._input.selectedpoints||null)}var o;if(n){var s=n.points||[];for(r=0;r<t.length;r++)o=t[r].cd[0].trace,o._input.selectedpoints=o._fullInput.selectedpoints=[],o._fullInput!==o&&(o.selectedpoints=[]);for(var c=0;c<s.length;c++){var l=s[c],u=l.data,d=l.fullData,f=l.pointIndex,p=l.pointIndices;p?([].push.apply(u.selectedpoints,p),o._fullInput!==o&&[].push.apply(d.selectedpoints,p)):(u.selectedpoints.push(f),o._fullInput!==o&&d.selectedpoints.push(f))}}else for(r=0;r<t.length;r++)o=t[r].cd[0].trace,delete o.selectedpoints,delete o._input.selectedpoints,o._fullInput!==o&&delete o._fullInput.selectedpoints;de(e,t)}function de(e,t){for(var n=!1,r=0;r<t.length;r++){var i=t[r],o=i.cd;a.traceIs(o[0].trace,`regl`)&&(n=!0);var s=i._module,c=s.styleOnSelect||s.style;c&&(c(e,o,o[0].node3),o[0].nodeRangePlot3&&c(e,o,o[0].nodeRangePlot3))}n&&(j(e),M(e))}function fe(e,t,n){for(var i=(n?r.difference:r.union)({regions:e},{regions:[t]}).regions.reverse(),a=0;a<i.length;a++){var o=i[a];o.subtract=Se(o,i.slice(0,a))}return i}function pe(e,t){if(Array.isArray(e))for(var n=t.cd,r=t.cd[0].trace,i=0;i<e.length;i++)e[i]=l(e[i],r,n);return e}function me(e,t){for(var n=[],r=0;r<e.length;r++){n[r]=[];for(var i=0;i<e[r].length;i++){n[r][i]=[],n[r][i][0]=i?`L`:`M`;for(var a=0;a<e[r][i].length;a++)n[r][i].push(e[r][i][a])}t||n[r].push([`Z`,n[r][0][1],n[r][0][2]])}return n}function he(e,t){for(var n=[],r,i=[],a,o=0;o<t.length;o++){var s=t[o];a=s._module.selectPoints(s,e),i.push(a),r=pe(a,s),n=n.concat(r)}return n}function ge(e,t,n,r,i){var a=!!r,o,s,c;i&&(o=i.plotinfo,s=i.xaxes[0]._id,c=i.yaxes[0]._id);var l=[],u=[],d=xe(e),f=e._fullLayout;if(o){var m=f._zoomlayer,g=f.dragmode,_=p(g),v=h(g);if(_||v){var y=A(e,s,`x`),b=A(e,c,`y`);if(y&&b){var x=m.selectAll(`.select-outline-`+o.id);if(x&&e._fullLayout._outlining&&x.length){for(var C=S(x[0][0].getAttribute(`d`),e,o),w=[],T=0;T<C.length;T++){for(var E=C[T],D=[],O=0;O<E.length;O++)D.push([Ce(y,E[O][1]),Ce(b,E[O][2])]);D.xref=s,D.yref=c,D.subtract=Se(D,w),w.push(D)}d=d.concat(w)}}}}var k=s&&c?[s+c]:f._subplots.cartesian;_e(e);for(var j={},M=0;M<k.length;M++){var N=k[M],P=N.indexOf(`y`),F=N.slice(0,P),I=N.slice(P),L=s&&c?n:void 0;if(L=be(d,F,I,L),L){var R=r;if(!a){var z=A(e,F,`x`),B=A(e,I,`y`);R=re(e,[z],[B],N);for(var V=0;V<R.length;V++){var H=R[V],U=H.cd[0],W=U.trace;if(H._module.name===`scattergl`&&!U.t.xpx){var G=W.x,K=W.y,ee=W._length;U.t.xpx=[],U.t.ypx=[];for(var q=0;q<ee;q++)U.t.xpx[q]=z.c2p(G[q]),U.t.ypx[q]=B.c2p(K[q])}H._module.name===`splom`&&(j[W.uid]||(j[W.uid]=!0))}}var J=he(L,R);l=l.concat(J),u=u.concat(R)}}var Y={points:l};ue(e,u,Y);var te=f.clickmode.indexOf(`event`)>-1&&t;if(!o&&t){var ne=xe(e,!0);if(ne.length){var ie=ne[0].xref,ae=ne[0].yref;if(ie&&ae){var oe=we(ne);Ee([A(e,ie,`x`),A(e,ae,`y`)])(Y,oe)}}e._fullLayout._noEmitSelectedAtStart?e._fullLayout._noEmitSelectedAtStart=!1:te&&De(e,Y),f._reselect=!1}if(!o&&f._deselect){var se=f._deselect;s=se.xref,c=se.yref,ve(s,c,u)||ye(e,s,c,r),te&&(Y.points.length?De(e,Y):Q(e)),f._deselect=!1}return{eventData:Y,selectionTesters:n}}function _e(e){var t=e.calcdata;if(t)for(var n=0;n<t.length;n++){var r=t[n][0].trace,i=e._fullLayout._splomScenes;if(i){var a=i[r.uid];a&&(a.selectBatch=[])}}}function ve(e,t,n){for(var r=0;r<n.length;r++){var i=n[r];if(i.xaxis&&i.xaxis._id===e&&i.yaxis&&i.yaxis._id===t)return!0}return!1}function ye(e,t,n,r){r=re(e,[A(e,t,`x`)],[A(e,n,`y`)],t+n);for(var i=0;i<r.length;i++){var a=r[i];a._module.selectPoints(a,!1)}ue(e,r)}function be(e,t,n,r){for(var i,a=0;a<e.length;a++){var o=e[a];if(!(t!==o.xref||n!==o.yref))if(i){var s=!!o.subtract;i=fe(i,o,s),r=ee(i)}else i=[o],r=I(o)}return r}function xe(e,t){for(var n=[],r=e._fullLayout,i=r.selections,a=i.length,o=0;o<a;o++)if(!(t&&o!==r._activeSelectionIndex)){var s=i[o];if(s){var c=s.xref,l=s.yref,u=A(e,c,`x`),d=A(e,l,`y`),f,p,m,h,v;if(s.type===`rect`){v=[];var y=Ce(u,s.x0),b=Ce(u,s.x1),x=Ce(d,s.y0),S=Ce(d,s.y1);v=[[y,x],[y,S],[b,S],[b,x]],f=Math.min(y,b),p=Math.max(y,b),m=Math.min(x,S),h=Math.max(x,S),v.xmin=f,v.xmax=p,v.ymin=m,v.ymax=h,v.xref=c,v.yref=l,v.subtract=!1,v.isRect=!0,n.push(v)}else if(s.type===`path`)for(var C=s.path.split(`Z`),w=[],T=0;T<C.length;T++){var E=C[T];if(E){E+=`Z`;var D=g.extractPathCoords(E,_.paramIsX,`raw`),O=g.extractPathCoords(E,_.paramIsY,`raw`);f=1/0,p=-1/0,m=1/0,h=-1/0,v=[];for(var k=0;k<D.length;k++){var j=Ce(u,D[k]),M=Ce(d,O[k]);v.push([j,M]),f=Math.min(j,f),p=Math.max(j,p),m=Math.min(M,m),h=Math.max(M,h)}v.xmin=f,v.xmax=p,v.ymin=m,v.ymax=h,v.xref=c,v.yref=l,v.subtract=Se(v,w),w.push(v),n.push(v)}}}}return n}function Se(e,t){for(var n=!1,r=0;r<t.length;r++)for(var a=t[r],o=0;o<e.length;o++)if(i(e[o],a)){n=!n;break}return n}function Ce(e,t){return e.type===`date`&&(t=t.replace(`_`,` `)),e.type===`log`?e.c2p(t):e.r2p(t,null,e.calendar)}function we(e){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r];n=n.concat(i),n=n.concat([i[0]])}return Te(n)}function Te(e){return e.isRect=e.length===5&&e[0][0]===e[4][0]&&e[0][1]===e[4][1]&&e[0][0]===e[1][0]&&e[2][0]===e[3][0]&&e[0][1]===e[3][1]&&e[1][1]===e[2][1]||e[0][1]===e[1][1]&&e[2][1]===e[3][1]&&e[0][0]===e[3][0]&&e[1][0]===e[2][0],e.isRect&&(e.xmin=Math.min(e[0][0],e[2][0]),e.xmax=Math.max(e[0][0],e[2][0]),e.ymin=Math.min(e[0][1],e[2][1]),e.ymax=Math.max(e[0][1],e[2][1])),e}function Ee(e){return function(t,n){for(var r,i,a=0;a<e.length;a++){var o=e[a],s=o._id,c=s.charAt(0);if(n.isRect){r||={};var l=n[c+`min`],u=n[c+`max`];l!==void 0&&u!==void 0&&(r[s]=[R(o,l),R(o,u)].sort(D))}else i||={},i[s]=n.map(z(o))}r&&(t.range=r),i&&(t.lassoPoints=i)}}function X(e){return e.plotinfo.fillRangeItems||Ee(e.xaxes.concat(e.yaxes))}function Z(e,t){e.emit(`plotly_selecting`,t)}function De(e,t){t&&(t.selections=(e.layout||{}).selections||[]),e.emit(`plotly_selected`,t)}function Q(e){e.emit(`plotly_deselect`,null)}e.exports={reselect:ge,prepSelect:H,clearOutline:y,clearSelectionsCache:te,selectOnClick:U}}),89827:(function(e,t,n){var r=n(50215),i=n(41940),a=n(82196).line,o=n(79952).P,s=n(1426).extendFlat,c=n(44467).templatedArray;n(24695),e.exports=c(`shape`,{visible:{valType:`boolean`,dflt:!0,editType:`calc+arraydraw`},type:{valType:`enumerated`,values:[`circle`,`rect`,`path`,`line`],editType:`calc+arraydraw`},layer:{valType:`enumerated`,values:[`below`,`above`],dflt:`above`,editType:`arraydraw`},xref:s({},r.xref,{}),xsizemode:{valType:`enumerated`,values:[`scaled`,`pixel`],dflt:`scaled`,editType:`calc+arraydraw`},xanchor:{valType:`any`,editType:`calc+arraydraw`},x0:{valType:`any`,editType:`calc+arraydraw`},x1:{valType:`any`,editType:`calc+arraydraw`},yref:s({},r.yref,{}),ysizemode:{valType:`enumerated`,values:[`scaled`,`pixel`],dflt:`scaled`,editType:`calc+arraydraw`},yanchor:{valType:`any`,editType:`calc+arraydraw`},y0:{valType:`any`,editType:`calc+arraydraw`},y1:{valType:`any`,editType:`calc+arraydraw`},path:{valType:`string`,editType:`calc+arraydraw`},opacity:{valType:`number`,min:0,max:1,dflt:1,editType:`arraydraw`},line:{color:s({},a.color,{editType:`arraydraw`}),width:s({},a.width,{editType:`calc+arraydraw`}),dash:s({},o,{editType:`arraydraw`}),editType:`calc+arraydraw`},fillcolor:{valType:`color`,dflt:`rgba(0,0,0,0)`,editType:`arraydraw`},fillrule:{valType:`enumerated`,values:[`evenodd`,`nonzero`],dflt:`evenodd`,editType:`arraydraw`},editable:{valType:`boolean`,dflt:!1,editType:`calc+arraydraw`},label:{text:{valType:`string`,dflt:``,editType:`arraydraw`},font:i({editType:`calc+arraydraw`,colorEditType:`arraydraw`}),textposition:{valType:`enumerated`,values:[`top left`,`top center`,`top right`,`middle left`,`middle center`,`middle right`,`bottom left`,`bottom center`,`bottom right`,`start`,`middle`,`end`],editType:`arraydraw`},textangle:{valType:`angle`,dflt:`auto`,editType:`calc+arraydraw`},xanchor:{valType:`enumerated`,values:[`auto`,`left`,`center`,`right`],dflt:`auto`,editType:`calc+arraydraw`},yanchor:{valType:`enumerated`,values:[`top`,`middle`,`bottom`],editType:`calc+arraydraw`},padding:{valType:`number`,dflt:3,min:0,editType:`arraydraw`},editType:`arraydraw`},editType:`arraydraw`})}),5627:(function(e,t,n){var r=n(71828),i=n(89298),a=n(21459),o=n(30477);e.exports=function(e){var t=e._fullLayout,n=r.filterVisible(t.shapes);if(!(!n.length||!e._fullData.length))for(var o=0;o<n.length;o++){var l=n[o];l._extremes={};var d,f,p=i.getRefType(l.xref),m=i.getRefType(l.yref);if(l.xref!==`paper`&&p!==`domain`){var h=l.xsizemode===`pixel`?l.xanchor:l.x0,g=l.xsizemode===`pixel`?l.xanchor:l.x1;d=i.getFromId(e,l.xref),f=u(d,h,g,l.path,a.paramIsX),f&&(l._extremes[d._id]=i.findExtremes(d,f,s(l)))}if(l.yref!==`paper`&&m!==`domain`){var _=l.ysizemode===`pixel`?l.yanchor:l.y0,v=l.ysizemode===`pixel`?l.yanchor:l.y1;d=i.getFromId(e,l.yref),f=u(d,_,v,l.path,a.paramIsY),f&&(l._extremes[d._id]=i.findExtremes(d,f,c(l)))}}};function s(e){return l(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function c(e){return l(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function l(e,t,n,i,s,c){var l=e/2,u=c;if(t===`pixel`){var d=s?o.extractPathCoords(s,c?a.paramIsY:a.paramIsX):[n,i],f=r.aggNums(Math.max,null,d),p=r.aggNums(Math.min,null,d),m=p<0?Math.abs(p)+l:l,h=f>0?f+l:l;return{ppad:l,ppadplus:u?m:h,ppadminus:u?h:m}}else return{ppad:l}}function u(e,t,n,r,i){var s=e.type===`category`||e.type===`multicategory`?e.r2c:e.d2c;if(t!==void 0)return[s(t),s(n)];if(r){var c=1/0,l=-1/0,u=r.match(a.segmentRE),d,f,p,m,h;for(e.type===`date`&&(s=o.decodeDate(s)),d=0;d<u.length;d++)f=u[d],p=i[f.charAt(0)].drawn,p!==void 0&&(m=u[d].substr(1).match(a.paramRE),!(!m||m.length<p)&&(h=s(m[p]),h<c&&(c=h),h>l&&(l=h)));if(l>=c)return[c,l]}}}),21459:(function(e){e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}}),84726:(function(e,t,n){var r=n(71828),i=n(89298),a=n(85501),o=n(89827),s=n(30477);e.exports=function(e,t){a(e,t,{name:`shapes`,handleItemDefaults:l})};function c(e,t){return e?`bottom`:t.indexOf(`top`)===-1?t.indexOf(`bottom`)===-1?`middle`:`bottom`:`top`}function l(e,t,n){function a(n,i){return r.coerce(e,t,o,n,i)}if(a(`visible`)){var l=a(`type`,a(`path`)?`path`:`rect`),u=l!==`path`;u&&delete t.path,a(`editable`),a(`layer`),a(`opacity`),a(`fillcolor`),a(`fillrule`),a(`line.width`)&&(a(`line.color`),a(`line.dash`));for(var d=a(`xsizemode`),f=a(`ysizemode`),p=[`x`,`y`],m=0;m<2;m++){var h=p[m],g=h+`anchor`,_=h===`x`?d:f,v={_fullLayout:n},y,b,x,S=i.coerceRef(e,t,v,h,void 0,`paper`);if(i.getRefType(S)===`range`?(y=i.getFromId(v,S),y._shapeIndices.push(t._index),x=s.rangeToShapePosition(y),b=s.shapePositionToRange(y)):b=x=r.identity,u){var C=.25,w=.75,T=h+`0`,E=h+`1`,D=e[T],O=e[E];e[T]=b(e[T],!0),e[E]=b(e[E],!0),_===`pixel`?(a(T,0),a(E,10)):(i.coercePosition(t,v,a,S,T,C),i.coercePosition(t,v,a,S,E,w)),t[T]=x(t[T]),t[E]=x(t[E]),e[T]=D,e[E]=O}if(_===`pixel`){var k=e[g];e[g]=b(e[g],!0),i.coercePosition(t,v,a,S,g,.25),t[g]=x(t[g]),e[g]=k}}u&&r.noneOrAll(e,t,[`x0`,`x1`,`y0`,`y1`]);var A=l===`line`;if(a(`label.text`)){a(`label.textangle`);var j=a(`label.textposition`,A?`middle`:`middle center`);a(`label.xanchor`),a(`label.yanchor`,c(A,j)),a(`label.padding`),r.coerceFont(a,`label.font`,n.font)}}}}),42359:(function(e,t,n){var r=n(71828).strTranslate,i=n(28569),a=n(64505),o=a.drawMode,s=a.selectMode,c=n(73972),l=n(7901),u=n(89995),d=u.i000,f=u.i090,p=u.i180,m=u.i270,h=n(51873).clearOutlineControllers,g=n(60165),_=g.pointsOnRectangle,v=g.pointsOnEllipse,y=g.writePaths,b=n(90551),x=n(35855);e.exports=function e(t,n,a,u){u||=0;var g=a.gd;function T(){e(t,n,a,u++),(v(t[0])||a.hasText)&&E({redrawing:!0})}function E(e){var t={};a.isActiveShape!==void 0&&(a.isActiveShape=!1,t=b(n,a)),a.isActiveSelection!==void 0&&(a.isActiveSelection=!1,t=x(n,a),g._fullLayout._reselect=!0),Object.keys(t).length&&c.call((e||{}).redrawing?`relayout`:`_guiRelayout`,g,t)}var D=g._fullLayout._zoomlayer,O=a.dragmode,k=o(O),A=s(O);(k||A)&&(g._fullLayout._outlining=!0),h(g),n.attr(`d`,y(t));var j,M,N,P,F;!u&&(a.isActiveShape||a.isActiveSelection)&&(F=S([],t),V(D.append(`g`).attr(`class`,`outline-controllers`)),ee());function I(e){N=+e.srcElement.getAttribute(`data-i`),P=+e.srcElement.getAttribute(`data-j`),j[N][P].moveFn=L}function L(e,n){if(t.length){var r=F[N][P][1],i=F[N][P][2],o=t[N],s=o.length;if(_(o)){var c=e,l=n;a.isActiveSelection&&(C(o,P)[1]===o[P][1]?l=0:c=0);for(var u=0;u<s;u++)if(u!==P){var d=o[u];d[1]===o[P][1]&&(d[1]=r+c),d[2]===o[P][2]&&(d[2]=i+l)}if(o[P][1]=r+c,o[P][2]=i+l,!_(o))for(var f=0;f<s;f++)for(var p=0;p<o[f].length;p++)o[f][p]=F[N][f][p]}else o[P][1]=r+e,o[P][2]=i+n;T()}}function R(){E()}function z(){if(t.length&&t[N]&&t[N].length){for(var e=[],n=0;n<t[N].length;n++)n!==P&&e.push(t[N][n]);e.length>1&&!(e.length===2&&e[1][0]===`Z`)&&(P===0&&(e[0][0]=`M`),t[N]=e,T(),E())}}function B(e,n){if(e===2){N=+n.srcElement.getAttribute(`data-i`),P=+n.srcElement.getAttribute(`data-j`);var r=t[N];!_(r)&&!v(r)&&z()}}function V(e){j=[];for(var n=0;n<t.length;n++){var o=t[n],s=_(o),c=!s&&v(o);j[n]=[];for(var u=o.length,h=0;h<u;h++)if(o[h][0]!==`Z`&&!(c&&h!==d&&h!==f&&h!==p&&h!==m)){var y=s&&a.isActiveSelection,b;y&&(b=C(o,h));var x=o[h][1],S=o[h][2],w=e.append(y?`rect`:`circle`).attr(`data-i`,n).attr(`data-j`,h).style({fill:l.background,stroke:l.defaultLine,"stroke-width":1,"shape-rendering":`crispEdges`});if(y){var T=b[1]-x,E=b[2]-S,D=E?5:Math.max(Math.min(25,Math.abs(T)-5),5),O=T?5:Math.max(Math.min(25,Math.abs(E)-5),5);w.classed(E?`cursor-ew-resize`:`cursor-ns-resize`,!0).attr(`width`,D).attr(`height`,O).attr(`x`,x-D/2).attr(`y`,S-O/2).attr(`transform`,r(T/2,E/2))}else w.classed(`cursor-grab`,!0).attr(`r`,5).attr(`cx`,x).attr(`cy`,S);j[n][h]={element:w.node(),gd:g,prepFn:I,doneFn:R,clickFn:B},i.init(j[n][h])}}}function H(e,n){if(t.length)for(var r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)for(var a=0;a+2<t[r][i].length;a+=2)t[r][i][a+1]=F[r][i][a+1]+e,t[r][i][a+2]=F[r][i][a+2]+n}function U(e,t){H(e,t),T()}function W(e){N=+e.srcElement.getAttribute(`data-i`),N||=0,M[N].moveFn=U}function G(){E()}function K(e){e===2&&w(g)}function ee(){if(M=[],t.length){var e=0;M[e]={element:n[0][0],gd:g,prepFn:W,doneFn:G,clickFn:K},i.init(M[e])}}};function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];e[n]=[];for(var i=0;i<r.length;i++){e[n][i]=[];for(var a=0;a<r[i].length;a++)e[n][i][a]=r[i][a]}}return e}function C(e,t){var n=e[t][1],r=e[t][2],i=e.length,a=(t+1)%i,o=e[a][1],s=e[a][2];return o===n&&s===r&&(a=(t+2)%i,o=e[a][1],s=e[a][2]),[a,o,s]}function w(e){if(s(e._fullLayout.dragmode)){h(e);var t=e._fullLayout._activeSelectionIndex,n=(e.layout||{}).selections||[];if(t<n.length){for(var r=[],i=0;i<n.length;i++)i!==t&&r.push(n[i]);delete e._fullLayout._activeSelectionIndex;var a=e._fullLayout.selections[t];e._fullLayout._deselect={xref:a.xref,yref:a.yref},c.call(`_guiRelayout`,e,{selections:r})}}}}),34031:(function(e,t,n){var r=n(39898),i=n(73972),a=n(71828),o=n(89298),s=n(60165).readPaths,c=n(42359),l=n(51873).clearOutlineControllers,u=n(7901),d=n(91424),f=n(44467).arrayEditor,p=n(28569),m=n(6964),h=n(63893),g=n(21459),_=n(30477),v=_.getPathString,y=n(18783).FROM_TL;e.exports={draw:b,drawOne:C,eraseActiveShape:M};function b(e){var t=e._fullLayout;for(var n in t._shapeUpperLayer.selectAll(`path`).remove(),t._shapeLowerLayer.selectAll(`path`).remove(),t._shapeUpperLayer.selectAll(`text`).remove(),t._shapeLowerLayer.selectAll(`text`).remove(),t._plots){var r=t._plots[n].shapelayer;r&&(r.selectAll(`path`).remove(),r.selectAll(`text`).remove())}for(var i=0;i<t.shapes.length;i++)t.shapes[i].visible&&C(e,i)}function x(e){return!!e._fullLayout._outlining}function S(e){return!e._context.edits.shapePosition}function C(e,t){e._fullLayout._paperdiv.selectAll(`.shapelayer [data-index="`+t+`"]`).remove();var n=_.makeShapesOptionsAndPlotinfo(e,t),r=n.options,i=n.plotinfo;if(!r._input||r.visible===!1)return;r.layer===`below`?r.xref===`paper`||r.yref===`paper`?a(e._fullLayout._shapeLowerLayer):i._hadPlotinfo?a((i.mainplotinfo||i).shapelayer):a(e._fullLayout._shapeLowerLayer):a(e._fullLayout._shapeUpperLayer);function a(n){var a=v(e,r),o={"data-index":t,"fill-rule":r.fillrule,d:a},l=r.opacity,p=r.fillcolor,m=r.line.width?r.line.color:`rgba(0,0,0,0)`,h=r.line.width,g=r.line.dash;!h&&r.editable===!0&&(h=5,g=`solid`);var _=a[a.length-1]!==`Z`,y=S(e)&&r.editable&&e._fullLayout._activeShapeIndex===t;y&&(p=_?`rgba(0,0,0,0)`:e._fullLayout.activeshape.fillcolor,l=e._fullLayout.activeshape.opacity);var b=n.append(`g`).classed(`shape-group`,!0).attr({"data-index":t}),x=b.append(`path`).attr(o).style(`opacity`,l).call(u.stroke,m).call(u.fill,p).call(d.dashLine,g,h);w(b,e,r),E(e,t,r,b);var C;if((y||e._context.edits.shapePosition)&&(C=f(e.layout,`shapes`,r)),y){x.style({cursor:`move`});var D={element:x.node(),plotinfo:i,gd:e,editHelpers:C,hasText:r.label.text,isActiveShape:!0};c(s(a,e),x,D)}else e._context.edits.shapePosition?T(e,x,r,t,n,C):r.editable===!0&&x.style(`pointer-events`,_||u.opacity(p)*l<=.5?`stroke`:`all`);x.node().addEventListener(`click`,function(){return A(e,x)})}}function w(e,t,n){var r=(n.xref+n.yref).replace(/paper/g,``).replace(/[xyz][1-9]* *domain/g,``);d.setClipUrl(e,r?`clip`+t._fullLayout._uid+r:null,t)}function T(e,t,n,s,c,l){var u=10,f=10,h=n.xsizemode===`pixel`,y=n.ysizemode===`pixel`,b=n.type===`line`,S=n.type===`path`,C=l.modifyItem,T,D,O,A,j,M,N,P,F,I,L,R,z,B,V,H=r.select(t.node().parentNode),U=o.getFromId(e,n.xref),W=o.getRefType(n.xref),G=o.getFromId(e,n.yref),K=o.getRefType(n.yref),ee=_.getDataToPixel(e,U,!1,W),q=_.getDataToPixel(e,G,!0,K),J=_.getPixelToData(e,U,!1,W),Y=_.getPixelToData(e,G,!0,K),te=ie(),ne={element:te.node(),gd:e,prepFn:se,doneFn:ce,clickFn:le},re;p.init(ne),te.node().onmousemove=oe;function ie(){return b?ae():t}function ae(){var e=10,r=Math.max(n.line.width,e),i=c.append(`g`).attr(`data-index`,s).attr(`drag-helper`,!0);i.append(`path`).attr(`d`,t.attr(`d`)).style({cursor:`move`,"stroke-width":r,"stroke-opacity":`0`});var a={"fill-opacity":`0`},o=Math.max(r/2,e);return i.append(`circle`).attr({"data-line-point":`start-point`,cx:h?ee(n.xanchor)+n.x0:ee(n.x0),cy:y?q(n.yanchor)-n.y0:q(n.y0),r:o}).style(a).classed(`cursor-grab`,!0),i.append(`circle`).attr({"data-line-point":`end-point`,cx:h?ee(n.xanchor)+n.x1:ee(n.x1),cy:y?q(n.yanchor)-n.y1:q(n.y1),r:o}).style(a).classed(`cursor-grab`,!0),i}function oe(n){if(x(e)){re=null;return}if(b)re=n.target.tagName===`path`?`move`:n.target.attributes[`data-line-point`].value===`start-point`?`resize-over-start-point`:`resize-over-end-point`;else{var r=ne.element.getBoundingClientRect(),i=r.right-r.left,a=r.bottom-r.top,o=n.clientX-r.left,s=n.clientY-r.top,c=!S&&i>u&&a>f&&!n.shiftKey?p.getCursor(o/i,1-s/a):`move`;m(t,c),re=c.split(`-`)[0]}}function se(r){x(e)||(h&&(j=ee(n.xanchor)),y&&(M=q(n.yanchor)),n.type===`path`?V=n.path:(T=h?n.x0:ee(n.x0),D=y?n.y0:q(n.y0),O=h?n.x1:ee(n.x1),A=y?n.y1:q(n.y1)),T<O?(F=T,z=`x0`,I=O,B=`x1`):(F=O,z=`x1`,I=T,B=`x0`),!y&&D<A||y&&D>A?(N=D,L=`y0`,P=A,R=`y1`):(N=A,L=`y1`,P=D,R=`y0`),oe(r),fe(c,n),me(t,n,e),ne.moveFn=re===`move`?ue:de,ne.altKey=r.altKey)}function ce(){x(e)||(m(t),pe(c),w(t,e,n),i.call(`_guiRelayout`,e,l.getUpdateObj()))}function le(){x(e)||pe(c)}function ue(r,i){if(n.type===`path`){var a=function(e){return e},o=a,l=a;h?C(`xanchor`,n.xanchor=J(j+r)):(o=function(e){return J(ee(e)+r)},U&&U.type===`date`&&(o=_.encodeDate(o))),y?C(`yanchor`,n.yanchor=Y(M+i)):(l=function(e){return Y(q(e)+i)},G&&G.type===`date`&&(l=_.encodeDate(l))),C(`path`,n.path=k(V,o,l))}else h?C(`xanchor`,n.xanchor=J(j+r)):(C(`x0`,n.x0=J(T+r)),C(`x1`,n.x1=J(O+r))),y?C(`yanchor`,n.yanchor=Y(M+i)):(C(`y0`,n.y0=Y(D+i)),C(`y1`,n.y1=Y(A+i)));t.attr(`d`,v(e,n)),fe(c,n),E(e,s,n,H)}function de(r,i){if(S){var a=function(e){return e},o=a,l=a;h?C(`xanchor`,n.xanchor=J(j+r)):(o=function(e){return J(ee(e)+r)},U&&U.type===`date`&&(o=_.encodeDate(o))),y?C(`yanchor`,n.yanchor=Y(M+i)):(l=function(e){return Y(q(e)+i)},G&&G.type===`date`&&(l=_.encodeDate(l))),C(`path`,n.path=k(V,o,l))}else if(b){if(re===`resize-over-start-point`){var d=T+r,p=y?D-i:D+i;C(`x0`,n.x0=h?d:J(d)),C(`y0`,n.y0=y?p:Y(p))}else if(re===`resize-over-end-point`){var m=O+r,g=y?A-i:A+i;C(`x1`,n.x1=h?m:J(m)),C(`y1`,n.y1=y?g:Y(g))}}else{var x=function(e){return re.indexOf(e)!==-1},w=x(`n`),W=x(`s`),K=x(`w`),te=x(`e`),ne=w?N+i:N,ie=W?P+i:P,ae=K?F+r:F,oe=te?I+r:I;y&&(w&&(ne=N-i),W&&(ie=P-i)),(!y&&ie-ne>f||y&&ne-ie>f)&&(C(L,n[L]=y?ne:Y(ne)),C(R,n[R]=y?ie:Y(ie))),oe-ae>u&&(C(z,n[z]=h?ae:J(ae)),C(B,n[B]=h?oe:J(oe)))}t.attr(`d`,v(e,n)),fe(c,n),E(e,s,n,H)}function fe(e,t){(h||y)&&n();function n(){var n=t.type!==`path`,r=e.selectAll(`.visual-cue`).data([0]),i=1;r.enter().append(`path`).attr({fill:`#fff`,"fill-rule":`evenodd`,stroke:`#000`,"stroke-width":i}).classed(`visual-cue`,!0);var o=ee(h?t.xanchor:a.midRange(n?[t.x0,t.x1]:_.extractPathCoords(t.path,g.paramIsX))),s=q(y?t.yanchor:a.midRange(n?[t.y0,t.y1]:_.extractPathCoords(t.path,g.paramIsY)));if(o=_.roundPositionForSharpStrokeRendering(o,i),s=_.roundPositionForSharpStrokeRendering(s,i),h&&y){var c=`M`+(o-1-i)+`,`+(s-1-i)+`h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z`;r.attr(`d`,c)}else if(h){var l=`M`+(o-1-i)+`,`+(s-9-i)+`v18 h2 v-18 Z`;r.attr(`d`,l)}else{var u=`M`+(o-9-i)+`,`+(s-1-i)+`h18 v2 h-18 Z`;r.attr(`d`,u)}}}function pe(e){e.selectAll(`.visual-cue`).remove()}function me(e,t,n){var r=t.xref,i=t.yref,a=o.getFromId(n,r),s=o.getFromId(n,i),c=``;r!==`paper`&&!a.autorange&&(c+=r),i!==`paper`&&!s.autorange&&(c+=i),d.setClipUrl(e,c?`clip`+n._fullLayout._uid+c:null,n)}}function E(e,t,n,r){if(r.selectAll(`.shape-label`).remove(),n.label.text){var i={"data-index":t},a=n.label.text,c=n.label.font,l=r.append(`g`).attr(i).classed(`shape-label`,!0).append(`text`).attr({"data-notex":1}).classed(`shape-label-text`,!0).text(a),u,f,p,m;if(n.path){var g=s(v(e,n),e);u=1/0,p=1/0,f=-1/0,m=-1/0;for(var y=0;y<g.length;y++)for(var b=0;b<g[y].length;b++)for(var x=g[y][b],S=1;S<x.length;S+=2){var C=x[S],w=x[S+1];u=Math.min(u,C),f=Math.max(f,C),p=Math.min(p,w),m=Math.max(m,w)}}else{var T=o.getFromId(e,n.xref),E=o.getRefType(n.xref),k=o.getFromId(e,n.yref),A=o.getRefType(n.yref),j=_.getDataToPixel(e,T,!1,E),M=_.getDataToPixel(e,k,!0,A);u=j(n.x0),f=j(n.x1),p=M(n.y0),m=M(n.y1)}var N=n.label.textangle;N===`auto`&&(N=n.type===`line`?D(u,p,f,m):0),l.call(function(t){return t.call(d.font,c).attr({}),h.convertToTspans(t,e),t});var P=d.bBox(l.node()),F=O(u,p,f,m,n,N,P),I=F.textx,L=F.texty,R=F.xanchor;l.attr({"text-anchor":{left:`start`,center:`middle`,right:`end`}[R],y:L,x:I,transform:`rotate(`+N+`,`+I+`,`+L+`)`}).call(h.positionText,I,L)}}function D(e,t,n,r){var i,a=Math.abs(n-e);return i=n>=e?t-r:r-t,-180/Math.PI*Math.atan2(i,a)}function O(e,t,n,r,i,a,o){var s=i.label.textposition,c=i.label.textangle,l=i.label.padding,u=i.type,d=Math.PI/180*a,f=Math.sin(d),p=Math.cos(d),m=i.label.xanchor,h=i.label.yanchor,g,_,v,b;if(u===`line`){s===`start`?(g=e,_=t):s===`end`?(g=n,_=r):(g=(e+n)/2,_=(t+r)/2),m===`auto`&&(m=s===`start`?c===`auto`?n>e?`left`:n<e?`right`:`center`:n>e?`right`:n<e?`left`:`center`:s===`end`?c===`auto`?n>e?`right`:n<e?`left`:`center`:n>e?`left`:n<e?`right`:`center`:`center`);var x={left:1,center:0,right:-1},S={bottom:-1,middle:0,top:1};if(c===`auto`){var C=S[h];v=-l*f*C,b=l*p*C}else{var w=x[m],T=S[h];v=l*w,b=l*T}g+=v,_+=b}else v=l+3,s.indexOf(`right`)===-1?s.indexOf(`left`)===-1?(g=(e+n)/2,m===`auto`&&(m=`center`)):(g=Math.min(e,n)+v,m===`auto`&&(m=`left`)):(g=Math.max(e,n)-v,m===`auto`&&(m=`right`)),_=s.indexOf(`top`)===-1?s.indexOf(`bottom`)===-1?(t+r)/2:Math.max(t,r):Math.min(t,r),b=l,h===`bottom`?_-=b:h===`top`&&(_+=b);var E=y[h],D=i.label.font.size,O=o.height,k=(O*E-D)*f,A=-(O*E-D)*p;return{textx:g+k,texty:_+A,xanchor:m}}function k(e,t,n){return e.replace(g.segmentRE,function(e){var r=0,i=e.charAt(0),a=g.paramIsX[i],o=g.paramIsY[i],s=g.numParams[i];return i+e.substr(1).replace(g.paramRE,function(e){return r>=s?e:(a[r]?e=t(e):o[r]&&(e=n(e)),r++,e)})})}function A(e,t){if(S(e)){var n=+t.node().getAttribute(`data-index`);if(n>=0){if(n===e._fullLayout._activeShapeIndex){j(e);return}e._fullLayout._activeShapeIndex=n,e._fullLayout._deactivateShape=j,b(e)}}}function j(e){S(e)&&e._fullLayout._activeShapeIndex>=0&&(l(e),delete e._fullLayout._activeShapeIndex,b(e))}function M(e){if(S(e)){l(e);var t=e._fullLayout._activeShapeIndex,n=(e.layout||{}).shapes||[];if(t<n.length){for(var r=[],a=0;a<n.length;a++)a!==t&&r.push(n[a]);delete e._fullLayout._activeShapeIndex,i.call(`_guiRelayout`,e,{shapes:r})}}}}),29241:(function(e,t,n){var r=n(41940),i=n(79952).P,a=n(1426).extendFlat;e.exports={newshape:{line:{color:{valType:`color`,editType:`none`},width:{valType:`number`,min:0,dflt:4,editType:`none`},dash:a({},i,{dflt:`solid`,editType:`none`}),editType:`none`},fillcolor:{valType:`color`,dflt:`rgba(0,0,0,0)`,editType:`none`},fillrule:{valType:`enumerated`,values:[`evenodd`,`nonzero`],dflt:`evenodd`,editType:`none`},opacity:{valType:`number`,min:0,max:1,dflt:1,editType:`none`},layer:{valType:`enumerated`,values:[`below`,`above`],dflt:`above`,editType:`none`},drawdirection:{valType:`enumerated`,values:[`ortho`,`horizontal`,`vertical`,`diagonal`],dflt:`diagonal`,editType:`none`},label:{text:{valType:`string`,dflt:``,editType:`none`},font:r({editType:`none`}),textposition:{valType:`enumerated`,values:[`top left`,`top center`,`top right`,`middle left`,`middle center`,`middle right`,`bottom left`,`bottom center`,`bottom right`,`start`,`middle`,`end`],editType:`none`},textangle:{valType:`angle`,dflt:`auto`,editType:`none`},xanchor:{valType:`enumerated`,values:[`auto`,`left`,`center`,`right`],dflt:`auto`,editType:`none`},yanchor:{valType:`enumerated`,values:[`top`,`middle`,`bottom`],editType:`none`},padding:{valType:`number`,dflt:3,min:0,editType:`none`},editType:`none`},editType:`none`},activeshape:{fillcolor:{valType:`color`,dflt:`rgb(255,0,255)`,editType:`none`},opacity:{valType:`number`,min:0,max:1,dflt:.5,editType:`none`},editType:`none`}}}),89995:(function(e){var t=32;e.exports={CIRCLE_SIDES:t,i000:0,i090:t/4,i180:t/2,i270:t/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}}),45547:(function(e,t,n){var r=n(7901),i=n(71828);function a(e,t){return e?`bottom`:t.indexOf(`top`)===-1?t.indexOf(`bottom`)===-1?`middle`:`bottom`:`top`}e.exports=function(e,t,n){if(n(`newshape.drawdirection`),n(`newshape.layer`),n(`newshape.fillcolor`),n(`newshape.fillrule`),n(`newshape.opacity`),n(`newshape.line.width`)){var o=(e||{}).plot_bgcolor||`#FFF`;n(`newshape.line.color`,r.contrast(o)),n(`newshape.line.dash`)}var s=e.dragmode===`drawline`;if(n(`newshape.label.text`)){n(`newshape.label.textangle`);var c=n(`newshape.label.textposition`,s?`middle`:`middle center`);n(`newshape.label.xanchor`),n(`newshape.label.yanchor`,a(s,c)),n(`newshape.label.padding`),i.coerceFont(n,`newshape.label.font`,t.font)}n(`activeshape.fillcolor`),n(`activeshape.opacity`)}}),60165:(function(e,t,n){var r=n(95616),i=n(89995),a=i.CIRCLE_SIDES,o=i.SQRT2,s=n(75549),c=s.p2r,l=s.r2p,u=[0,3,4,5,6,1,2],d=[0,3,4,1,2];t.writePaths=function(e){var t=e.length;if(!t)return`M0,0Z`;for(var n=``,r=0;r<t;r++)for(var i=e[r].length,a=0;a<i;a++){var o=e[r][a][0];if(o===`Z`)n+=`Z`;else for(var s=e[r][a].length,c=0;c<s;c++){var l=c;o===`Q`||o===`S`?l=d[c]:o===`C`&&(l=u[c]),n+=e[r][a][l],c>0&&c<s-1&&(n+=`,`)}}return n},t.readPaths=function(e,t,n,i){var o=r(e),s=[],u=-1,d=function(){u++,s[u]=[]},f,p=0,m=0,h,g,_=function(){h=p,g=m};_();for(var v=0;v<o.length;v++){var y=[],b,x,S,C,w=o[v][0],T=w;switch(w){case`M`:d(),p=+o[v][1],m=+o[v][2],y.push([T,p,m]),_();break;case`Q`:case`S`:b=+o[v][1],S=+o[v][2],p=+o[v][3],m=+o[v][4],y.push([T,p,m,b,S]);break;case`C`:b=+o[v][1],S=+o[v][2],x=+o[v][3],C=+o[v][4],p=+o[v][5],m=+o[v][6],y.push([T,p,m,b,S,x,C]);break;case`T`:case`L`:p=+o[v][1],m=+o[v][2],y.push([T,p,m]);break;case`H`:T=`L`,p=+o[v][1],y.push([T,p,m]);break;case`V`:T=`L`,m=+o[v][1],y.push([T,p,m]);break;case`A`:T=`L`;var E=+o[v][1],D=+o[v][2];+o[v][4]||(E=-E,D=-D);var O=p-E,k=m;for(f=1;f<=a/2;f++){var A=2*Math.PI*f/a;y.push([T,O+E*Math.cos(A),k+D*Math.sin(A)])}break;case`Z`:(p!==h||m!==g)&&(p=h,m=g,y.push([T,p,m]));break}for(var j=(n||{}).domain,M=t._fullLayout._size,N=n&&n.xsizemode===`pixel`,P=n&&n.ysizemode===`pixel`,F=i===!1,I=0;I<y.length;I++){for(f=0;f+2<7;f+=2){var L=y[I][f+1],R=y[I][f+2];L===void 0||R===void 0||(p=L,m=R,n&&(n.xaxis&&n.xaxis.p2r?(F&&(L-=n.xaxis._offset),L=N?l(n.xaxis,n.xanchor)+L:c(n.xaxis,L)):(F&&(L-=M.l),j?L=j.x[0]+L/M.w:L/=M.w),n.yaxis&&n.yaxis.p2r?(F&&(R-=n.yaxis._offset),R=P?l(n.yaxis,n.yanchor)-R:c(n.yaxis,R)):(F&&(R-=M.t),R=j?j.y[1]-R/M.h:1-R/M.h)),y[I][f+1]=L,y[I][f+2]=R)}s[u].push(y[I].slice())}}return s};function f(e,t){return Math.abs(e-t)<=1e-6}function p(e,t){var n=t[1]-e[1],r=t[2]-e[2];return Math.sqrt(n*n+r*r)}t.pointsOnRectangle=function(e){if(e.length!==5)return!1;for(var t=1;t<3;t++)if(!f(e[0][t]-e[1][t],e[3][t]-e[2][t])||!f(e[0][t]-e[3][t],e[1][t]-e[2][t]))return!1;return!f(e[0][1],e[1][1])&&!f(e[0][1],e[3][1])?!1:!!(p(e[0],e[1])*p(e[0],e[3]))},t.pointsOnEllipse=function(e){var t=e.length;if(t!==a+1)return!1;t=a;for(var n=0;n<t;n++){var r=(t*2-n)%t,i=(t/2+r)%t,o=(t/2+n)%t;if(!f(p(e[n],e[o]),p(e[r],e[i])))return!1}return!0},t.handleEllipse=function(e,n,r){if(!e)return[n,r];var i=t.ellipseOver({x0:n[0],y0:n[1],x1:r[0],y1:r[1]}),s=(i.x1+i.x0)/2,c=(i.y1+i.y0)/2,l=(i.x1-i.x0)/2,u=(i.y1-i.y0)/2;l||=u/=o,u||=l/=o;for(var d=[],f=0;f<a;f++){var p=f*2*Math.PI/a;d.push([s+l*Math.cos(p),c+u*Math.sin(p)])}return d},t.ellipseOver=function(e){var t=e.x0,n=e.y0,r=e.x1,i=e.y1,a=r-t,s=i-n;t-=a,n-=s;var c=(t+r)/2,l=(n+i)/2,u=o;return a*=u,s*=u,{x0:c-a,y0:l-s,x1:c+a,y1:l+s}},t.fixDatesForPaths=function(e,t,n){var r=t.type===`date`,i=n.type===`date`;if(!r&&!i)return e;for(var a=0;a<e.length;a++)for(var o=0;o<e[a].length;o++)for(var s=0;s+2<e[a][o].length;s+=2)r&&(e[a][o][s+1]=e[a][o][s+1].replace(` `,`_`)),i&&(e[a][o][s+2]=e[a][o][s+2].replace(` `,`_`));return e}}),90551:(function(e,t,n){var r=n(64505),i=r.drawMode,a=r.openMode,o=n(89995),s=o.i000,c=o.i090,l=o.i180,u=o.i270,d=o.cos45,f=o.sin45,p=n(75549),m=p.p2r,h=p.r2p,g=n(51873).clearOutline,_=n(60165),v=_.readPaths,y=_.writePaths,b=_.ellipseOver,x=_.fixDatesForPaths;e.exports=function(e,t){if(e.length){var n=e[0][0];if(n){var r=n.getAttribute(`d`),o=t.gd,p=o._fullLayout.newshape,_=t.plotinfo,S=_.xaxis,C=_.yaxis,w=!!_.domain||!_.xaxis,T=!!_.domain||!_.yaxis,E=t.isActiveShape,D=t.dragmode,O=(o.layout||{}).shapes||[];if(!i(D)&&E!==void 0){var k=o._fullLayout._activeShapeIndex;if(k<O.length)switch(o._fullLayout.shapes[k].type){case`rect`:D=`drawrect`;break;case`circle`:D=`drawcircle`;break;case`line`:D=`drawline`;break;case`path`:var A=O[k].path||``;D=A[A.length-1]===`Z`?`drawclosedpath`:`drawopenpath`;break}}var j=a(D),M=v(r,o,_,E),N={editable:!0,label:p.label,xref:w?`paper`:S._id,yref:T?`paper`:C._id,layer:p.layer,opacity:p.opacity,line:{color:p.line.color,width:p.line.width,dash:p.line.dash}};j||(N.fillcolor=p.fillcolor,N.fillrule=p.fillrule);var P;if(M.length===1&&(P=M[0]),P&&P.length===5&&D===`drawrect`)N.type=`rect`,N.x0=P[0][1],N.y0=P[0][2],N.x1=P[2][1],N.y1=P[2][2];else if(P&&D===`drawline`)N.type=`line`,N.x0=P[0][1],N.y0=P[0][2],N.x1=P[1][1],N.y1=P[1][2];else if(P&&D===`drawcircle`){N.type=`circle`;var F=P[s][1],I=P[c][1],L=P[l][1],R=P[u][1],z=P[s][2],B=P[c][2],V=P[l][2],H=P[u][2],U=_.xaxis&&(_.xaxis.type===`date`||_.xaxis.type===`log`),W=_.yaxis&&(_.yaxis.type===`date`||_.yaxis.type===`log`);U&&(F=h(_.xaxis,F),I=h(_.xaxis,I),L=h(_.xaxis,L),R=h(_.xaxis,R)),W&&(z=h(_.yaxis,z),B=h(_.yaxis,B),V=h(_.yaxis,V),H=h(_.yaxis,H));var G=(I+R)/2,K=(z+V)/2,ee=(R-I+L-F)/2,q=(H-B+V-z)/2,J=b({x0:G,y0:K,x1:G+ee*d,y1:K+q*f});U&&(J.x0=m(_.xaxis,J.x0),J.x1=m(_.xaxis,J.x1)),W&&(J.y0=m(_.yaxis,J.y0),J.y1=m(_.yaxis,J.y1)),N.x0=J.x0,N.y0=J.y0,N.x1=J.x1,N.y1=J.y1}else N.type=`path`,S&&C&&x(M,S,C),N.path=y(M),P=null;g(o);for(var Y=t.editHelpers,te=(Y||{}).modifyItem,ne=[],re=0;re<O.length;re++){var ie=o._fullLayout.shapes[re];if(ne[re]=ie._input,E!==void 0&&re===o._fullLayout._activeShapeIndex){var ae=N;switch(ie.type){case`line`:case`rect`:case`circle`:te(`x0`,ae.x0),te(`x1`,ae.x1),te(`y0`,ae.y0),te(`y1`,ae.y1);break;case`path`:te(`path`,ae.path);break}}}return E===void 0?(ne.push(N),ne):Y?Y.getUpdateObj():{}}}}}),51873:(function(e){function t(e){var t=e._fullLayout._zoomlayer;t&&t.selectAll(`.outline-controllers`).remove()}function n(e){var t=e._fullLayout._zoomlayer;t&&t.selectAll(`.select-outline`).remove(),e._fullLayout._outlining=!1}e.exports={clearOutlineControllers:t,clearOutline:n}}),30477:(function(e,t,n){var r=n(21459),i=n(71828),a=n(89298);t.rangeToShapePosition=function(e){return e.type===`log`?e.r2d:function(e){return e}},t.shapePositionToRange=function(e){return e.type===`log`?e.d2r:function(e){return e}},t.decodeDate=function(e){return function(t){return t.replace&&(t=t.replace(`_`,` `)),e(t)}},t.encodeDate=function(e){return function(t){return e(t).replace(` `,`_`)}},t.extractPathCoords=function(e,t,n){var a=[];return e.match(r.segmentRE).forEach(function(e){var o=t[e.charAt(0)].drawn;if(o!==void 0){var s=e.substr(1).match(r.paramRE);if(!(!s||s.length<o)){var c=s[o],l=n?c:i.cleanNumber(c);a.push(l)}}}),a},t.getDataToPixel=function(e,n,r,i){var a=e._fullLayout._size,o;if(n)if(i===`domain`)o=function(e){return n._length*(r?1-e:e)+n._offset};else{var s=t.shapePositionToRange(n);o=function(e){return n._offset+n.r2p(s(e,!0))},n.type===`date`&&(o=t.decodeDate(o))}else o=r?function(e){return a.t+a.h*(1-e)}:function(e){return a.l+a.w*e};return o},t.getPixelToData=function(e,n,r,i){var a=e._fullLayout._size,o;if(n)if(i===`domain`)o=function(e){var t=(e-n._offset)/n._length;return r?1-t:t};else{var s=t.rangeToShapePosition(n);o=function(e){return s(n.p2r(e-n._offset))}}else o=r?function(e){return 1-(e-a.t)/a.h}:function(e){return(e-a.l)/a.w};return o},t.roundPositionForSharpStrokeRendering=function(e,t){var n=Math.round(t%2)===1,r=Math.round(e);return n?r+.5:r},t.makeShapesOptionsAndPlotinfo=function(e,t){var n=e._fullLayout.shapes[t]||{},r=e._fullLayout._plots[n.xref+n.yref];return r?r._hadPlotinfo=!0:(r={},n.xref&&n.xref!==`paper`&&(r.xaxis=e._fullLayout[n.xref+`axis`]),n.yref&&n.yref!==`paper`&&(r.yaxis=e._fullLayout[n.yref+`axis`])),r.xsizemode=n.xsizemode,r.ysizemode=n.ysizemode,r.xanchor=n.xanchor,r.yanchor=n.yanchor,{options:n,plotinfo:r}},t.makeSelectionsOptionsAndPlotinfo=function(e,t){var n=e._fullLayout.selections[t]||{},r=e._fullLayout._plots[n.xref+n.yref];return r?r._hadPlotinfo=!0:(r={},n.xref&&(r.xaxis=e._fullLayout[n.xref+`axis`]),n.yref&&(r.yaxis=e._fullLayout[n.yref+`axis`])),{options:n,plotinfo:r}},t.getPathString=function(e,n){var r=n.type,i=a.getRefType(n.xref),s=a.getRefType(n.yref),c=a.getFromId(e,n.xref),l=a.getFromId(e,n.yref),u=e._fullLayout._size,d,f,p,m,h,g,_,v;if(c?i===`domain`?f=function(e){return c._offset+c._length*e}:(d=t.shapePositionToRange(c),f=function(e){return c._offset+c.r2p(d(e,!0))}):f=function(e){return u.l+u.w*e},l?s===`domain`?m=function(e){return l._offset+l._length*(1-e)}:(p=t.shapePositionToRange(l),m=function(e){return l._offset+l.r2p(p(e,!0))}):m=function(e){return u.t+u.h*(1-e)},r===`path`)return c&&c.type===`date`&&(f=t.decodeDate(f)),l&&l.type===`date`&&(m=t.decodeDate(m)),o(n,f,m);if(n.xsizemode===`pixel`){var y=f(n.xanchor);h=y+n.x0,g=y+n.x1}else h=f(n.x0),g=f(n.x1);if(n.ysizemode===`pixel`){var b=m(n.yanchor);_=b-n.y0,v=b-n.y1}else _=m(n.y0),v=m(n.y1);if(r===`line`)return`M`+h+`,`+_+`L`+g+`,`+v;if(r===`rect`)return`M`+h+`,`+_+`H`+g+`V`+v+`H`+h+`Z`;var x=(h+g)/2,S=(_+v)/2,C=Math.abs(x-h),w=Math.abs(S-_),T=`A`+C+`,`+w,E=x+C+`,`+S,D=x+`,`+(S-w);return`M`+E+T+` 0 1,1 `+D+T+` 0 0,1 `+E+`Z`};function o(e,t,n){var a=e.path,o=e.xsizemode,s=e.ysizemode,c=e.xanchor,l=e.yanchor;return a.replace(r.segmentRE,function(e){var a=0,u=e.charAt(0),d=r.paramIsX[u],f=r.paramIsY[u],p=r.numParams[u],m=e.substr(1).replace(r.paramRE,function(e){return d[a]?e=o===`pixel`?t(c)+Number(e):t(e):f[a]&&(e=s===`pixel`?n(l)-Number(e):n(e)),a++,a>p&&(e=`X`),e});return a>p&&(m=m.replace(/[\s,]*X.*/,``),i.log(`Ignoring extra params in segment `+e)),u+m})}}),89853:(function(e,t,n){var r=n(34031);e.exports={moduleType:`component`,name:`shapes`,layoutAttributes:n(89827),supplyLayoutDefaults:n(84726),supplyDrawNewShapeDefaults:n(45547),includeBasePlot:n(76325)(`shapes`),calcAutorange:n(5627),draw:r.draw,drawOne:r.drawOne}}),75067:(function(e,t,n){var r=n(41940),i=n(35025),a=n(1426).extendDeepAll,o=n(30962).overrideAll,s=n(85594),c=n(44467).templatedArray,l=n(98292);e.exports=o(c(`slider`,{visible:{valType:`boolean`,dflt:!0},active:{valType:`number`,min:0,dflt:0},steps:c(`step`,{visible:{valType:`boolean`,dflt:!0},method:{valType:`enumerated`,values:[`restyle`,`relayout`,`animate`,`update`,`skip`],dflt:`restyle`},args:{valType:`info_array`,freeLength:!0,items:[{valType:`any`},{valType:`any`},{valType:`any`}]},label:{valType:`string`},value:{valType:`string`},execute:{valType:`boolean`,dflt:!0}}),lenmode:{valType:`enumerated`,values:[`fraction`,`pixels`],dflt:`fraction`},len:{valType:`number`,min:0,dflt:1},x:{valType:`number`,min:-2,max:3,dflt:0},pad:a(i({editType:`arraydraw`}),{},{t:{dflt:20}}),xanchor:{valType:`enumerated`,values:[`auto`,`left`,`center`,`right`],dflt:`left`},y:{valType:`number`,min:-2,max:3,dflt:0},yanchor:{valType:`enumerated`,values:[`auto`,`top`,`middle`,`bottom`],dflt:`top`},transition:{duration:{valType:`number`,min:0,dflt:150},easing:{valType:`enumerated`,values:s.transition.easing.values,dflt:`cubic-in-out`}},currentvalue:{visible:{valType:`boolean`,dflt:!0},xanchor:{valType:`enumerated`,values:[`left`,`center`,`right`],dflt:`left`},offset:{valType:`number`,dflt:10},prefix:{valType:`string`},suffix:{valType:`string`},font:r({})},font:r({}),activebgcolor:{valType:`color`,dflt:l.gripBgActiveColor},bgcolor:{valType:`color`,dflt:l.railBgColor},bordercolor:{valType:`color`,dflt:l.railBorderColor},borderwidth:{valType:`number`,min:0,dflt:l.railBorderWidth},ticklen:{valType:`number`,min:0,dflt:l.tickLength},tickcolor:{valType:`color`,dflt:l.tickColor},tickwidth:{valType:`number`,min:0,dflt:1},minorticklen:{valType:`number`,min:0,dflt:l.minorTickLength}}),`arraydraw`,`from-root`)}),98292:(function(e){e.exports={name:`sliders`,containerClassName:`slider-container`,groupClassName:`slider-group`,inputAreaClass:`slider-input-area`,railRectClass:`slider-rail-rect`,railTouchRectClass:`slider-rail-touch-rect`,gripRectClass:`slider-grip-rect`,tickRectClass:`slider-tick-rect`,inputProxyClass:`slider-input-proxy`,labelsClass:`slider-labels`,labelGroupClass:`slider-label-group`,labelClass:`slider-label`,currentValueClass:`slider-current-value`,railHeight:5,menuIndexAttrName:`slider-active-index`,autoMarginIdRoot:`slider-`,minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:`#bec8d9`,railBgColor:`#f8fafc`,railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:`#bec8d9`,gripBgColor:`#f6f8fa`,gripBgActiveColor:`#dbdde0`,labelPadding:8,labelOffset:0,tickWidth:1,tickColor:`#333`,tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:`#333`,minorTickLength:4,currentValuePadding:8,currentValueInset:0}}),12343:(function(e,t,n){var r=n(71828),i=n(85501),a=n(75067),o=n(98292).name,s=a.steps;e.exports=function(e,t){i(e,t,{name:o,handleItemDefaults:c})};function c(e,t,n){function o(n,i){return r.coerce(e,t,a,n,i)}for(var s=i(e,t,{name:`steps`,handleItemDefaults:l}),c=0,u=0;u<s.length;u++)s[u].visible&&c++;if(c<2?t.visible=!1:o(`visible`)){t._stepCount=c;var d=t._visibleSteps=r.filterVisible(s);(s[o(`active`)]||{}).visible||(t.active=d[0]._index),o(`x`),o(`y`),r.noneOrAll(e,t,[`x`,`y`]),o(`xanchor`),o(`yanchor`),o(`len`),o(`lenmode`),o(`pad.t`),o(`pad.r`),o(`pad.b`),o(`pad.l`),r.coerceFont(o,`font`,n.font),o(`currentvalue.visible`)&&(o(`currentvalue.xanchor`),o(`currentvalue.prefix`),o(`currentvalue.suffix`),o(`currentvalue.offset`),r.coerceFont(o,`currentvalue.font`,t.font)),o(`transition.duration`),o(`transition.easing`),o(`bgcolor`),o(`activebgcolor`),o(`bordercolor`),o(`borderwidth`),o(`ticklen`),o(`tickwidth`),o(`tickcolor`),o(`minorticklen`)}}function l(e,t){function n(n,i){return r.coerce(e,t,s,n,i)}(e.method!==`skip`&&!Array.isArray(e.args)?t.visible=!1:n(`visible`))&&(n(`method`),n(`args`),n(`value`,n(`label`,`step-`+t._index)),n(`execute`))}}),44504:(function(e,t,n){var r=n(39898),i=n(74875),a=n(7901),o=n(91424),s=n(71828),c=s.strTranslate,l=n(63893),u=n(44467).arrayEditor,d=n(98292),f=n(18783),p=f.LINE_SPACING,m=f.FROM_TL,h=f.FROM_BR;e.exports=function(e){var t=e._context.staticPlot,n=e._fullLayout,a=_(n,e),o=n._infolayer.selectAll(`g.`+d.containerClassName).data(a.length>0?[0]:[]);o.enter().append(`g`).classed(d.containerClassName,!0).style(`cursor`,t?null:`ew-resize`);function s(t){t._commandObserver&&(t._commandObserver.remove(),delete t._commandObserver),i.autoMargin(e,g(t))}if(o.exit().each(function(){r.select(this).selectAll(`g.`+d.groupClassName).each(s)}).remove(),a.length!==0){var c=o.selectAll(`g.`+d.groupClassName).data(a,v);c.enter().append(`g`).classed(d.groupClassName,!0),c.exit().each(s).remove();for(var l=0;l<a.length;l++){var u=a[l];y(e,u)}c.each(function(t){var n=r.select(this);k(t),i.manageCommandObserver(e,t,t._visibleSteps,function(t){var r=n.data()[0];r.active!==t.index&&(r._dragging||E(e,n,r,t.index,!1,!0))}),b(e,r.select(this),t)})}};function g(e){return d.autoMarginIdRoot+e._index}function _(e,t){for(var n=e[d.name],r=[],i=0;i<n.length;i++){var a=n[i];a.visible&&(a._gd=t,r.push(a))}return r}function v(e){return e._index}function y(e,t){var n=o.tester.selectAll(`g.`+d.labelGroupClass).data(t._visibleSteps);n.enter().append(`g`).classed(d.labelGroupClass,!0);var a=0,c=0;n.each(function(e){var n=C(r.select(this),{step:e},t).node();if(n){var i=o.bBox(n);c=Math.max(c,i.height),a=Math.max(a,i.width)}}),n.remove();var u=t._dims={};u.inputAreaWidth=Math.max(d.railWidth,d.gripHeight);var f=e._fullLayout._size;u.lx=f.l+f.w*t.x,u.ly=f.t+f.h*(1-t.y),t.lenmode===`fraction`?u.outerLength=Math.round(f.w*t.len):u.outerLength=t.len,u.inputAreaStart=0,u.inputAreaLength=Math.round(u.outerLength-t.pad.l-t.pad.r);var p=(u.inputAreaLength-2*d.stepInset)/(t._stepCount-1),_=a+d.labelPadding;if(u.labelStride=Math.max(1,Math.ceil(_/p)),u.labelHeight=c,u.currentValueMaxWidth=0,u.currentValueHeight=0,u.currentValueTotalHeight=0,u.currentValueMaxLines=1,t.currentvalue.visible){var v=o.tester.append(`g`);n.each(function(e){var n=x(v,t,e.label),r=n.node()&&o.bBox(n.node())||{width:0,height:0},i=l.lineCount(n);u.currentValueMaxWidth=Math.max(u.currentValueMaxWidth,Math.ceil(r.width)),u.currentValueHeight=Math.max(u.currentValueHeight,Math.ceil(r.height)),u.currentValueMaxLines=Math.max(u.currentValueMaxLines,i)}),u.currentValueTotalHeight=u.currentValueHeight+t.currentvalue.offset,v.remove()}u.height=u.currentValueTotalHeight+d.tickOffset+t.ticklen+d.labelOffset+u.labelHeight+t.pad.t+t.pad.b;var y=`left`;s.isRightAnchor(t)&&(u.lx-=u.outerLength,y=`right`),s.isCenterAnchor(t)&&(u.lx-=u.outerLength/2,y=`center`);var b=`top`;s.isBottomAnchor(t)&&(u.ly-=u.height,b=`bottom`),s.isMiddleAnchor(t)&&(u.ly-=u.height/2,b=`middle`),u.outerLength=Math.ceil(u.outerLength),u.height=Math.ceil(u.height),u.lx=Math.round(u.lx),u.ly=Math.round(u.ly);var S={y:t.y,b:u.height*h[b],t:u.height*m[b]};t.lenmode===`fraction`?(S.l=0,S.xl=t.x-t.len*m[y],S.r=0,S.xr=t.x+t.len*h[y]):(S.x=t.x,S.l=u.outerLength*m[y],S.r=u.outerLength*h[y]),i.autoMargin(e,g(t),S)}function b(e,t,n){(n.steps[n.active]||{}).visible||(n.active=n._visibleSteps[0]._index),t.call(x,n).call(P,n).call(w,n).call(O,n).call(N,e,n).call(S,e,n);var r=n._dims;o.setTranslate(t,r.lx+n.pad.l,r.ly+n.pad.t),t.call(A,n,!1),t.call(x,n)}function x(e,t,n){if(t.currentvalue.visible){var r=t._dims,i,a;switch(t.currentvalue.xanchor){case`right`:i=r.inputAreaLength-d.currentValueInset-r.currentValueMaxWidth,a=`left`;break;case`center`:i=r.inputAreaLength*.5,a=`middle`;break;default:i=d.currentValueInset,a=`left`}var c=s.ensureSingle(e,`text`,d.labelClass,function(e){e.attr({"text-anchor":a,"data-notex":1})}),u=t.currentvalue.prefix?t.currentvalue.prefix:``;if(typeof n==`string`)u+=n;else{var f=t.steps[t.active].label,m=t._gd._fullLayout._meta;m&&(f=s.templateString(f,m)),u+=f}t.currentvalue.suffix&&(u+=t.currentvalue.suffix),c.call(o.font,t.currentvalue.font).text(u).call(l.convertToTspans,t._gd);var h=l.lineCount(c),g=(r.currentValueMaxLines+1-h)*t.currentvalue.font.size*p;return l.positionText(c,i,g),c}}function S(e,t,n){s.ensureSingle(e,`rect`,d.gripRectClass,function(r){r.call(D,t,e,n).style(`pointer-events`,`all`)}).attr({width:d.gripWidth,height:d.gripHeight,rx:d.gripRadius,ry:d.gripRadius}).call(a.stroke,n.bordercolor).call(a.fill,n.bgcolor).style(`stroke-width`,n.borderwidth+`px`)}function C(e,t,n){var r=s.ensureSingle(e,`text`,d.labelClass,function(e){e.attr({"text-anchor":`middle`,"data-notex":1})}),i=t.step.label,a=n._gd._fullLayout._meta;return a&&(i=s.templateString(i,a)),r.call(o.font,n.font).text(i).call(l.convertToTspans,n._gd),r}function w(e,t){var n=s.ensureSingle(e,`g`,d.labelsClass),i=t._dims,a=n.selectAll(`g.`+d.labelGroupClass).data(i.labelSteps);a.enter().append(`g`).classed(d.labelGroupClass,!0),a.exit().remove(),a.each(function(e){var n=r.select(this);n.call(C,e,t),o.setTranslate(n,j(t,e.fraction),d.tickOffset+t.ticklen+t.font.size*p+d.labelOffset+i.currentValueTotalHeight)})}function T(e,t,n,r,i){var a=Math.round(r*(n._stepCount-1)),o=n._visibleSteps[a]._index;o!==n.active&&E(e,t,n,o,!0,i)}function E(e,t,n,r,a,o){var s=n.active;n.active=r,u(e.layout,d.name,n).applyUpdate(`active`,r);var c=n.steps[n.active];t.call(A,n,o),t.call(x,n),e.emit(`plotly_sliderchange`,{slider:n,step:n.steps[n.active],interaction:a,previousActive:s}),c&&c.method&&a&&(t._nextMethod?(t._nextMethod.step=c,t._nextMethod.doCallback=a,t._nextMethod.doTransition=o):(t._nextMethod={step:c,doCallback:a,doTransition:o},t._nextMethodRaf=window.requestAnimationFrame(function(){var n=t._nextMethod.step;n.method&&(n.execute&&i.executeAPICommand(e,n.method,n.args),t._nextMethod=null,t._nextMethodRaf=null)})))}function D(e,t,n){if(t._context.staticPlot)return;var i=n.node(),o=r.select(t);function s(){return n.data()[0]}function c(){var e=s();t.emit(`plotly_sliderstart`,{slider:e});var c=n.select(`.`+d.gripRectClass);r.event.stopPropagation(),r.event.preventDefault(),c.call(a.fill,e.activebgcolor),T(t,n,e,M(e,r.mouse(i)[0]),!0),e._dragging=!0;function l(){var e=s();T(t,n,e,M(e,r.mouse(i)[0]),!1)}o.on(`mousemove`,l),o.on(`touchmove`,l);function u(){var e=s();e._dragging=!1,c.call(a.fill,e.bgcolor),o.on(`mouseup`,null),o.on(`mousemove`,null),o.on(`touchend`,null),o.on(`touchmove`,null),t.emit(`plotly_sliderend`,{slider:e,step:e.steps[e.active]})}o.on(`mouseup`,u),o.on(`touchend`,u)}e.on(`mousedown`,c),e.on(`touchstart`,c)}function O(e,t){var n=e.selectAll(`rect.`+d.tickRectClass).data(t._visibleSteps),i=t._dims;n.enter().append(`rect`).classed(d.tickRectClass,!0),n.exit().remove(),n.attr({width:t.tickwidth+`px`,"shape-rendering":`crispEdges`}),n.each(function(e,n){var s=n%i.labelStride===0,c=r.select(this);c.attr({height:s?t.ticklen:t.minorticklen}).call(a.fill,t.tickcolor),o.setTranslate(c,j(t,n/(t._stepCount-1))-.5*t.tickwidth,(s?d.tickOffset:d.minorTickOffset)+i.currentValueTotalHeight)})}function k(e){var t=e._dims;t.labelSteps=[];for(var n=e._stepCount,r=0;r<n;r+=t.labelStride)t.labelSteps.push({fraction:r/(n-1),step:e._visibleSteps[r]})}function A(e,t,n){for(var r=e.select(`rect.`+d.gripRectClass),i=0,a=0;a<t._stepCount;a++)if(t._visibleSteps[a]._index===t.active){i=a;break}var o=j(t,i/(t._stepCount-1));if(!t._invokingCommand){var s=r;n&&t.transition.duration>0&&(s=s.transition().duration(t.transition.duration).ease(t.transition.easing)),s.attr(`transform`,c(o-d.gripWidth*.5,t._dims.currentValueTotalHeight))}}function j(e,t){var n=e._dims;return n.inputAreaStart+d.stepInset+(n.inputAreaLength-2*d.stepInset)*Math.min(1,Math.max(0,t))}function M(e,t){var n=e._dims;return Math.min(1,Math.max(0,(t-d.stepInset-n.inputAreaStart)/(n.inputAreaLength-2*d.stepInset-2*n.inputAreaStart)))}function N(e,t,n){var r=n._dims,i=s.ensureSingle(e,`rect`,d.railTouchRectClass,function(r){r.call(D,t,e,n).style(`pointer-events`,`all`)});i.attr({width:r.inputAreaLength,height:Math.max(r.inputAreaWidth,d.tickOffset+n.ticklen+r.labelHeight)}).call(a.fill,n.bgcolor).attr(`opacity`,0),o.setTranslate(i,0,r.currentValueTotalHeight)}function P(e,t){var n=t._dims,r=n.inputAreaLength-d.railInset*2,i=s.ensureSingle(e,`rect`,d.railRectClass);i.attr({width:r,height:d.railWidth,rx:d.railRadius,ry:d.railRadius,"shape-rendering":`crispEdges`}).call(a.stroke,t.bordercolor).call(a.fill,t.bgcolor).style(`stroke-width`,t.borderwidth+`px`),o.setTranslate(i,d.railInset,(n.inputAreaWidth-d.railWidth)*.5+n.currentValueTotalHeight)}}),23243:(function(e,t,n){e.exports={moduleType:`component`,name:n(98292).name,layoutAttributes:n(75067),supplyLayoutDefaults:n(12343),draw:n(44504)}}),92998:(function(e,t,n){var r=n(39898),i=n(92770),a=n(74875),o=n(73972),s=n(71828),c=s.strTranslate,l=n(91424),u=n(7901),d=n(63893),f=n(37822),p=n(18783).OPPOSITE_SIDE,m=/ [XY][0-9]* /;function h(e,t,n){var h=n.propContainer,g=n.propName,_=n.placeholder,v=n.traceIndex,y=n.avoid||{},b=n.attributes,x=n.transform,S=n.containerGroup,C=e._fullLayout,w=1,T=!1,E=h.title,D=(E&&E.text?E.text:``).trim(),O=E&&E.font?E.font:{},k=O.family,A=O.size,j=O.color,M;g===`title.text`?M=`titleText`:g.indexOf(`axis`)===-1?g.indexOf(!0)&&(M=`colorbarTitleText`):M=`axisTitleText`;var N=e._context.edits[M];D===``?w=0:D.replace(m,` % `)===_.replace(m,` % `)&&(w=.2,T=!0,N||(D=``)),n._meta?D=s.templateString(D,n._meta):C._meta&&(D=s.templateString(D,C._meta));var P=D||N,F;S||(S=s.ensureSingle(C._infolayer,`g`,`g-`+t),F=C._hColorbarMoveTitle);var I=S.selectAll(`text`).data(P?[0]:[]);if(I.enter().append(`text`),I.text(D).attr(`class`,t),I.exit().remove(),!P)return S;function L(e){s.syncOrAsync([R,z],e)}function R(t){var n;return!x&&F&&(x={}),x?(n=``,x.rotate&&(n+=`rotate(`+[x.rotate,b.x,b.y]+`)`),(x.offset||F)&&(n+=c(0,(x.offset||0)-(F||0)))):n=null,t.attr(`transform`,n),t.style({"font-family":k,"font-size":r.round(A,2)+`px`,fill:u.rgb(j),opacity:w*u.opacity(j),"font-weight":a.fontWeight}).attr(b).call(d.convertToTspans,e),a.previousPromises(e)}function z(e){var t=r.select(e.node().parentNode);if(y&&y.selection&&y.side&&D){t.attr(`transform`,null);var n=p[y.side],a=y.side===`left`||y.side===`top`?-1:1,o=i(y.pad)?y.pad:2,u=l.bBox(t.node()),d={left:0,top:0,right:C.width,bottom:C.height},f=y.maxShift||a*(d[y.side]-u[y.side]),m=0;if(f<0)m=f;else{var g=y.offsetLeft||0,_=y.offsetTop||0;u.left-=g,u.right-=g,u.top-=_,u.bottom-=_,y.selection.each(function(){var e=l.bBox(this);s.bBoxIntersect(u,e,o)&&(m=Math.max(m,a*(e[y.side]-u[n])+o))}),m=Math.min(f,m),h._titleScoot=Math.abs(m)}if(m>0||f<0){var v={left:[-m,0],right:[m,0],top:[0,-m],bottom:[0,m]}[y.side];t.attr(`transform`,c(v[0],v[1]))}}}I.call(L);function B(){w=0,T=!0,I.text(_).on(`mouseover.opacity`,function(){r.select(this).transition().duration(f.SHOW_PLACEHOLDER).style(`opacity`,1)}).on(`mouseout.opacity`,function(){r.select(this).transition().duration(f.HIDE_PLACEHOLDER).style(`opacity`,0)})}return N&&(D?I.on(`.opacity`,null):B(),I.call(d.makeEditable,{gd:e}).on(`edit`,function(t){v===void 0?o.call(`_guiRelayout`,e,g,t):o.call(`_guiRestyle`,e,g,t,v)}).on(`cancel`,function(){this.text(this.attr(`data-unformatted`)).call(L)}).on(`input`,function(e){this.text(e||` `).call(d.positionText,b.x,b.y)})),I.classed(`js-placeholder`,T),S}e.exports={draw:h}}),7163:(function(e,t,n){var r=n(41940),i=n(22399),a=n(1426).extendFlat,o=n(30962).overrideAll,s=n(35025),c=n(44467).templatedArray;e.exports=o(c(`updatemenu`,{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:`boolean`},type:{valType:`enumerated`,values:[`dropdown`,`buttons`],dflt:`dropdown`},direction:{valType:`enumerated`,values:[`left`,`right`,`up`,`down`],dflt:`down`},active:{valType:`integer`,min:-1,dflt:0},showactive:{valType:`boolean`,dflt:!0},buttons:c(`button`,{visible:{valType:`boolean`},method:{valType:`enumerated`,values:[`restyle`,`relayout`,`animate`,`update`,`skip`],dflt:`restyle`},args:{valType:`info_array`,freeLength:!0,items:[{valType:`any`},{valType:`any`},{valType:`any`}]},args2:{valType:`info_array`,freeLength:!0,items:[{valType:`any`},{valType:`any`},{valType:`any`}]},label:{valType:`string`,dflt:``},execute:{valType:`boolean`,dflt:!0}}),x:{valType:`number`,min:-2,max:3,dflt:-.05},xanchor:{valType:`enumerated`,values:[`auto`,`left`,`center`,`right`],dflt:`right`},y:{valType:`number`,min:-2,max:3,dflt:1},yanchor:{valType:`enumerated`,values:[`auto`,`top`,`middle`,`bottom`],dflt:`top`},pad:a(s({editType:`arraydraw`}),{}),font:r({}),bgcolor:{valType:`color`},bordercolor:{valType:`color`,dflt:i.borderLine},borderwidth:{valType:`number`,min:0,dflt:1,editType:`arraydraw`}}),`arraydraw`,`from-root`)}),75909:(function(e){e.exports={name:`updatemenus`,containerClassName:`updatemenu-container`,headerGroupClassName:`updatemenu-header-group`,headerClassName:`updatemenu-header`,headerArrowClassName:`updatemenu-header-arrow`,dropdownButtonGroupClassName:`updatemenu-dropdown-button-group`,dropdownButtonClassName:`updatemenu-dropdown-button`,buttonClassName:`updatemenu-button`,itemRectClassName:`updatemenu-item-rect`,itemTextClassName:`updatemenu-item-text`,menuIndexAttrName:`updatemenu-active-index`,autoMarginIdRoot:`updatemenu-`,blankHeaderOpts:{label:`  `},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:`#F4FAFF`,hoverColor:`#F4FAFF`,arrowSymbol:{left:``,right:``,up:``,down:``}}}),64897:(function(e,t,n){var r=n(71828),i=n(85501),a=n(7163),o=n(75909).name,s=a.buttons;e.exports=function(e,t){i(e,t,{name:o,handleItemDefaults:c})};function c(e,t,n){function o(n,i){return r.coerce(e,t,a,n,i)}o(`visible`,i(e,t,{name:`buttons`,handleItemDefaults:l}).length>0)&&(o(`active`),o(`direction`),o(`type`),o(`showactive`),o(`x`),o(`y`),r.noneOrAll(e,t,[`x`,`y`]),o(`xanchor`),o(`yanchor`),o(`pad.t`),o(`pad.r`),o(`pad.b`),o(`pad.l`),r.coerceFont(o,`font`,n.font),o(`bgcolor`,n.paper_bgcolor),o(`bordercolor`),o(`borderwidth`))}function l(e,t){function n(n,i){return r.coerce(e,t,s,n,i)}n(`visible`,e.method===`skip`||Array.isArray(e.args))&&(n(`method`),n(`args`),n(`args2`),n(`label`),n(`execute`))}}),13689:(function(e,t,n){var r=n(39898),i=n(74875),a=n(7901),o=n(91424),s=n(71828),c=n(63893),l=n(44467).arrayEditor,u=n(18783).LINE_SPACING,d=n(75909),f=n(25849);e.exports=function(e){var t=e._fullLayout,n=s.filterVisible(t[d.name]);function a(t){i.autoMargin(e,O(t))}var o=t._menulayer.selectAll(`g.`+d.containerClassName).data(n.length>0?[0]:[]);if(o.enter().append(`g`).classed(d.containerClassName,!0).style(`cursor`,`pointer`),o.exit().each(function(){r.select(this).selectAll(`g.`+d.headerGroupClassName).each(a)}).remove(),n.length!==0){var c=o.selectAll(`g.`+d.headerGroupClassName).data(n,p);c.enter().append(`g`).classed(d.headerGroupClassName,!0);for(var l=s.ensureSingle(o,`g`,d.dropdownButtonGroupClassName,function(e){e.style(`pointer-events`,`all`)}),u=0;u<n.length;u++){var m=n[u];D(e,m)}var y=new f(e,l,`updatemenus`+t._uid);c.enter().size()&&(l.node().parentNode.appendChild(l.node()),l.call(A)),c.exit().each(function(e){l.call(A),a(e)}).remove(),c.each(function(t){var n=r.select(this),a=t.type===`dropdown`?l:null;i.manageCommandObserver(e,t,t.buttons,function(r){g(e,t,t.buttons[r.index],n,a,y,r.index,!0)}),t.type===`dropdown`?(_(e,n,l,y,t),h(l,t)&&v(e,n,l,y,t)):v(e,n,null,null,t)})}};function p(e){return e._index}function m(e){return+e.attr(d.menuIndexAttrName)==-1}function h(e,t){return+e.attr(d.menuIndexAttrName)===t._index}function g(e,t,n,r,i,a,o,s){t.active=o,l(e.layout,d.name,t).applyUpdate(`active`,o),t.type===`buttons`?v(e,r,null,null,t):t.type===`dropdown`&&(i.attr(d.menuIndexAttrName,`-1`),_(e,r,i,a,t),s||v(e,r,i,a,t))}function _(e,t,n,r,i){var a=s.ensureSingle(t,`g`,d.headerClassName,function(e){e.style(`pointer-events`,`all`)}),c=i._dims,l=i.active,u=i.buttons[l]||d.blankHeaderOpts,f={y:i.pad.t,yPad:0,x:i.pad.l,xPad:0,index:0},p={width:c.headerWidth,height:c.headerHeight};a.call(x,i,u,e).call(k,i,f,p),s.ensureSingle(t,`text`,d.headerArrowClassName,function(e){e.attr(`text-anchor`,`end`).call(o.font,i.font).text(d.arrowSymbol[i.direction])}).attr({x:c.headerWidth-d.arrowOffsetX+i.pad.l,y:c.headerHeight/2+d.textOffsetY+i.pad.t}),a.on(`click`,function(){n.call(A,String(h(n,i)?-1:i._index)),v(e,t,n,r,i)}),a.on(`mouseover`,function(){a.call(T)}),a.on(`mouseout`,function(){a.call(E,i)}),o.setTranslate(t,c.lx,c.ly)}function v(e,t,n,a,o){n||(n=t,n.attr(`pointer-events`,`all`));var c=!m(n)||o.type===`buttons`?o.buttons:[],l=o.type===`dropdown`?d.dropdownButtonClassName:d.buttonClassName,u=n.selectAll(`g.`+l).data(s.filterVisible(c)),f=u.enter().append(`g`).classed(l,!0),p=u.exit();o.type===`dropdown`?(f.attr(`opacity`,`0`).transition().attr(`opacity`,`1`),p.transition().attr(`opacity`,`0`).remove()):p.remove();var h=0,_=0,v=o._dims,S=[`up`,`down`].indexOf(o.direction)!==-1;o.type===`dropdown`&&(S?_=v.headerHeight+d.gapButtonHeader:h=v.headerWidth+d.gapButtonHeader),o.type===`dropdown`&&o.direction===`up`&&(_=-d.gapButtonHeader+d.gapButton-v.openHeight),o.type===`dropdown`&&o.direction===`left`&&(h=-d.gapButtonHeader+d.gapButton-v.openWidth);var C={x:v.lx+h+o.pad.l,y:v.ly+_+o.pad.t,yPad:d.gapButton,xPad:d.gapButton,index:0},D={l:C.x+o.borderwidth,t:C.y+o.borderwidth};u.each(function(s,c){var l=r.select(this);l.call(x,o,s,e).call(k,o,C),l.on(`click`,function(){r.event.defaultPrevented||(s.execute&&(s.args2&&o.active===c?(g(e,o,s,t,n,a,-1),i.executeAPICommand(e,s.method,s.args2)):(g(e,o,s,t,n,a,c),i.executeAPICommand(e,s.method,s.args))),e.emit(`plotly_buttonclicked`,{menu:o,button:s,active:o.active}))}),l.on(`mouseover`,function(){l.call(T)}),l.on(`mouseout`,function(){l.call(E,o),u.call(w,o)})}),u.call(w,o),S?(D.w=Math.max(v.openWidth,v.headerWidth),D.h=C.y-D.t):(D.w=C.x-D.l,D.h=Math.max(v.openHeight,v.headerHeight)),D.direction=o.direction,a&&(u.size()?y(e,t,n,a,o,D):b(a))}function y(e,t,n,r,i,a){var o=i.direction,s=o===`up`||o===`down`,c=i._dims,l=i.active,u,f,p;if(s)for(f=0,p=0;p<l;p++)f+=c.heights[p]+d.gapButton;else for(u=0,p=0;p<l;p++)u+=c.widths[p]+d.gapButton;r.enable(a,u,f),r.hbar&&r.hbar.attr(`opacity`,`0`).transition().attr(`opacity`,`1`),r.vbar&&r.vbar.attr(`opacity`,`0`).transition().attr(`opacity`,`1`)}function b(e){var t=!!e.hbar,n=!!e.vbar;t&&e.hbar.transition().attr(`opacity`,`0`).each(`end`,function(){t=!1,n||e.disable()}),n&&e.vbar.transition().attr(`opacity`,`0`).each(`end`,function(){n=!1,t||e.disable()})}function x(e,t,n,r){e.call(S,t).call(C,t,n,r)}function S(e,t){s.ensureSingle(e,`rect`,d.itemRectClassName,function(e){e.attr({rx:d.rx,ry:d.ry,"shape-rendering":`crispEdges`})}).call(a.stroke,t.bordercolor).call(a.fill,t.bgcolor).style(`stroke-width`,t.borderwidth+`px`)}function C(e,t,n,r){var i=s.ensureSingle(e,`text`,d.itemTextClassName,function(e){e.attr({"text-anchor":`start`,"data-notex":1})}),a=n.label,l=r._fullLayout._meta;l&&(a=s.templateString(a,l)),i.call(o.font,t.font).text(a).call(c.convertToTspans,r)}function w(e,t){var n=t.active;e.each(function(e,i){var o=r.select(this);i===n&&t.showactive&&o.select(`rect.`+d.itemRectClassName).call(a.fill,d.activeColor)})}function T(e){e.select(`rect.`+d.itemRectClassName).call(a.fill,d.hoverColor)}function E(e,t){e.select(`rect.`+d.itemRectClassName).call(a.fill,t.bgcolor)}function D(e,t){var n=t._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},a=o.tester.selectAll(`g.`+d.dropdownButtonClassName).data(s.filterVisible(t.buttons));a.enter().append(`g`).classed(d.dropdownButtonClassName,!0);var l=[`up`,`down`].indexOf(t.direction)!==-1;a.each(function(i,a){var s=r.select(this);s.call(x,t,i,e);var f=s.select(`.`+d.itemTextClassName),p=f.node()&&o.bBox(f.node()).width,m=Math.max(p+d.textPadX,d.minWidth),h=t.font.size*u,g=c.lineCount(f),_=Math.max(h*g,d.minHeight)+d.textOffsetY;_=Math.ceil(_),m=Math.ceil(m),n.widths[a]=m,n.heights[a]=_,n.height1=Math.max(n.height1,_),n.width1=Math.max(n.width1,m),l?(n.totalWidth=Math.max(n.totalWidth,m),n.openWidth=n.totalWidth,n.totalHeight+=_+d.gapButton,n.openHeight+=_+d.gapButton):(n.totalWidth+=m+d.gapButton,n.openWidth+=m+d.gapButton,n.totalHeight=Math.max(n.totalHeight,_),n.openHeight=n.totalHeight)}),l?n.totalHeight-=d.gapButton:n.totalWidth-=d.gapButton,n.headerWidth=n.width1+d.arrowPadX,n.headerHeight=n.height1,t.type===`dropdown`&&(l?(n.width1+=d.arrowPadX,n.totalHeight=n.height1):n.totalWidth=n.width1,n.totalWidth+=d.arrowPadX),a.remove();var f=n.totalWidth+t.pad.l+t.pad.r,p=n.totalHeight+t.pad.t+t.pad.b,m=e._fullLayout._size;n.lx=m.l+m.w*t.x,n.ly=m.t+m.h*(1-t.y);var h=`left`;s.isRightAnchor(t)&&(n.lx-=f,h=`right`),s.isCenterAnchor(t)&&(n.lx-=f/2,h=`center`);var g=`top`;s.isBottomAnchor(t)&&(n.ly-=p,g=`bottom`),s.isMiddleAnchor(t)&&(n.ly-=p/2,g=`middle`),n.totalWidth=Math.ceil(n.totalWidth),n.totalHeight=Math.ceil(n.totalHeight),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),i.autoMargin(e,O(t),{x:t.x,y:t.y,l:f*({right:1,center:.5}[h]||0),r:f*({left:1,center:.5}[h]||0),b:p*({top:1,middle:.5}[g]||0),t:p*({bottom:1,middle:.5}[g]||0)})}function O(e){return d.autoMarginIdRoot+e._index}function k(e,t,n,r){r||={};var i=e.select(`.`+d.itemRectClassName),a=e.select(`.`+d.itemTextClassName),s=t.borderwidth,l=n.index,f=t._dims;o.setTranslate(e,s+n.x,s+n.y);var p=[`up`,`down`].indexOf(t.direction)!==-1,m=r.height||(p?f.heights[l]:f.height1);i.attr({x:0,y:0,width:r.width||(p?f.width1:f.widths[l]),height:m});var h=t.font.size*u,g=(c.lineCount(a)-1)*h/2;c.positionText(a,d.textOffsetX,m/2-g+d.textOffsetY),p?n.y+=f.heights[l]+n.yPad:n.x+=f.widths[l]+n.xPad,n.index++}function A(e,t){e.attr(d.menuIndexAttrName,t||`-1`).selectAll(`g.`+d.dropdownButtonClassName).remove()}}),20763:(function(e,t,n){e.exports={moduleType:`component`,name:n(75909).name,layoutAttributes:n(7163),supplyLayoutDefaults:n(64897),draw:n(13689)}}),25849:(function(e,t,n){e.exports=s;var r=n(39898),i=n(7901),a=n(91424),o=n(71828);function s(e,t,n){this.gd=e,this.container=t,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll(`rect.scrollbox-bg`).data([0]),this.bg.exit().on(`.drag`,null).on(`wheel`,null).remove(),this.bg.enter().append(`rect`).classed(`scrollbox-bg`,!0).style(`pointer-events`,`all`).attr({opacity:0,x:0,y:0,width:0,height:0})}s.barWidth=2,s.barLength=20,s.barRadius=2,s.barPad=1,s.barColor=`#808BA4`,s.prototype.enable=function(e,t,n){var o=this.gd._fullLayout,c=o.width,l=o.height;this.position=e;var u=this.position.l,d=this.position.w,f=this.position.t,p=this.position.h,m=this.position.direction,h=m===`down`,g=m===`left`,_=m===`right`,v=m===`up`,y=d,b=p,x,S,C,w;!h&&!g&&!_&&!v&&(this.position.direction=`down`,h=!0),h||v?(x=u,S=x+y,h?(C=f,w=Math.min(C+b,l),b=w-C):(w=f+b,C=Math.max(w-b,0),b=w-C)):(C=f,w=C+b,g?(S=u+y,x=Math.max(S-y,0),y=S-x):(x=u,S=Math.min(x+y,c),y=S-x)),this._box={l:x,t:C,w:y,h:b};var T=d>y,E=s.barLength+2*s.barPad,D=s.barWidth+2*s.barPad,O=u,k=f+p;k+D>l&&(k=l-D);var A=this.container.selectAll(`rect.scrollbar-horizontal`).data(T?[0]:[]);A.exit().on(`.drag`,null).remove(),A.enter().append(`rect`).classed(`scrollbar-horizontal`,!0).call(i.fill,s.barColor),T?(this.hbar=A.attr({rx:s.barRadius,ry:s.barRadius,x:O,y:k,width:E,height:D}),this._hbarXMin=O+E/2,this._hbarTranslateMax=y-E):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var j=p>b,M=s.barWidth+2*s.barPad,N=s.barLength+2*s.barPad,P=u+d,F=f;P+M>c&&(P=c-M);var I=this.container.selectAll(`rect.scrollbar-vertical`).data(j?[0]:[]);I.exit().on(`.drag`,null).remove(),I.enter().append(`rect`).classed(`scrollbar-vertical`,!0).call(i.fill,s.barColor),j?(this.vbar=I.attr({rx:s.barRadius,ry:s.barRadius,x:P,y:F,width:M,height:N}),this._vbarYMin=F+N/2,this._vbarTranslateMax=b-N):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var L=this.id,R=x-.5,z=j?S+M+.5:S+.5,B=C-.5,V=T?w+D+.5:w+.5,H=o._topdefs.selectAll(`#`+L).data(T||j?[0]:[]);if(H.exit().remove(),H.enter().append(`clipPath`).attr(`id`,L).append(`rect`),T||j?(this._clipRect=H.select(`rect`).attr({x:Math.floor(R),y:Math.floor(B),width:Math.ceil(z)-Math.floor(R),height:Math.ceil(V)-Math.floor(B)}),this.container.call(a.setClipUrl,L,this.gd),this.bg.attr({x:u,y:f,width:d,height:p})):(this.bg.attr({width:0,height:0}),this.container.on(`wheel`,null).on(`.drag`,null).call(a.setClipUrl,null),delete this._clipRect),T||j){var U=r.behavior.drag().on(`dragstart`,function(){r.event.sourceEvent.preventDefault()}).on(`drag`,this._onBoxDrag.bind(this));this.container.on(`wheel`,null).on(`wheel`,this._onBoxWheel.bind(this)).on(`.drag`,null).call(U);var W=r.behavior.drag().on(`dragstart`,function(){r.event.sourceEvent.preventDefault(),r.event.sourceEvent.stopPropagation()}).on(`drag`,this._onBarDrag.bind(this));T&&this.hbar.on(`.drag`,null).call(W),j&&this.vbar.on(`.drag`,null).call(W)}this.setTranslate(t,n)},s.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on(`wheel`,null).on(`.drag`,null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(`.drag`,null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(`.drag`,null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},s.prototype._onBoxDrag=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e-=r.event.dx),this.vbar&&(t-=r.event.dy),this.setTranslate(e,t)},s.prototype._onBoxWheel=function(){var e=this.translateX,t=this.translateY;this.hbar&&(e+=r.event.deltaY),this.vbar&&(t+=r.event.deltaY),this.setTranslate(e,t)},s.prototype._onBarDrag=function(){var e=this.translateX,t=this.translateY;if(this.hbar){var n=e+this._hbarXMin,i=n+this._hbarTranslateMax;e=(o.constrain(r.event.x,n,i)-n)/(i-n)*(this.position.w-this._box.w)}if(this.vbar){var a=t+this._vbarYMin,s=a+this._vbarTranslateMax;t=(o.constrain(r.event.y,a,s)-a)/(s-a)*(this.position.h-this._box.h)}this.setTranslate(e,t)},s.prototype.setTranslate=function(e,t){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(e=o.constrain(e||0,0,n),t=o.constrain(t||0,0,r),this.translateX=e,this.translateY=t,this.container.call(a.setTranslate,this._box.l-this.position.l-e,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+e-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var i=e/n;this.hbar.call(a.setTranslate,e+i*this._hbarTranslateMax,t)}if(this.vbar){var s=t/r;this.vbar.call(a.setTranslate,e,t+s*this._vbarTranslateMax)}}}),18783:(function(e){e.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:`right`,right:`left`,top:`bottom`,bottom:`top`}}}),24695:(function(e){e.exports={axisRefDescription:function(e,t,n){return[`If set to a`,e,`axis id (e.g. *`+e+`* or`,`*`+e+"2*), the `"+e+"` position refers to a",e,"coordinate. If set to *paper*, the `"+e+"`",`position refers to the distance from the`,t,`of the plotting`,`area in normalized coordinates where *0* (*1*) corresponds to the`,t,`(`+n+`). If set to a`,e,`axis ID followed by`,`*domain* (separated by a space), the position behaves like for`,`*paper*, but refers to the distance in fractions of the domain`,`length from the`,t,`of the domain of that axis: e.g.,`,`*`+e+`2 domain* refers to the domain of the second`,e,` axis and a`,e,`position of 0.5 refers to the`,`point between the`,t,`and the`,n,`of the domain of the`,`second`,e,`axis.`].join(` `)}}}),22372:(function(e){e.exports={INCREASING:{COLOR:`#3D9970`,SYMBOL:``},DECREASING:{COLOR:`#FF4136`,SYMBOL:``}}}),31562:(function(e){e.exports={FORMAT_LINK:`https://github.com/d3/d3-format/tree/v1.4.5#d3-format`,DATE_FORMAT_LINK:`https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format`}}),74808:(function(e){e.exports={COMPARISON_OPS:[`=`,`!=`,`<`,`>=`,`>`,`<=`],COMPARISON_OPS2:[`=`,`<`,`>=`,`>`,`<=`],INTERVAL_OPS:[`[]`,`()`,`[)`,`(]`,`][`,`)(`,`](`,`)[`],SET_OPS:[`{}`,`}{`],CONSTRAINT_REDUCTION:{"=":`=`,"<":`<`,"<=":`<`,">":`>`,">=":`>`,"[]":`[]`,"()":`[]`,"[)":`[]`,"(]":`[]`,"][":`][`,")(":`][`,"](":`][`,")[":`][`}}}),29659:(function(e){e.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}}),87381:(function(e){e.exports={circle:``,"circle-open":``,square:``,"square-open":``,diamond:``,"diamond-open":``,cross:`+`,x:``}}),37822:(function(e){e.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}}),50606:(function(e){e.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:``}}),77922:(function(e,t){t.xmlns=`http://www.w3.org/2000/xmlns/`,t.svg=`http://www.w3.org/2000/svg`,t.xlink=`http://www.w3.org/1999/xlink`,t.svgAttrs={xmlns:t.svg,"xmlns:xlink":t.xlink}}),8729:(function(e,t,n){t.version=n(11506).version,n(7417),n(98847);for(var r=t.register=n(73972).register,i=n(10641),a=Object.keys(i),o=0;o<a.length;o++){var s=a[o];s.charAt(0)!==`_`&&(t[s]=i[s]),r({moduleType:`apiMethod`,name:s,fn:i[s]})}r(n(67368)),r([n(2199),n(30211),n(32745),n(2468),n(47322),n(89853),n(68804),n(20763),n(23243),n(13137),n(97218),n(83312),n(37369),n(21081),n(12311),n(64168)]),r([n(92177),n(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(r(window.PlotlyLocales),delete window.PlotlyLocales),t.Icons=n(24255);var c=n(30211),l=n(74875);t.Plots={resize:l.resize,graphJson:l.graphJson,sendDataToCloud:l.sendDataToCloud},t.Fx={hover:c.hover,unhover:c.unhover,loneHover:c.loneHover,loneUnhover:c.loneUnhover},t.Snapshot=n(44511),t.PlotSchema=n(86281)}),24255:(function(e){e.exports={undo:{width:857.1,height:1e3,path:`m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z`,transform:`matrix(1 0 0 -1 0 850)`},home:{width:928.6,height:1e3,path:`m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z`,transform:`matrix(1 0 0 -1 0 850)`},"camera-retro":{width:1e3,height:1e3,path:`m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z`,transform:`matrix(1 0 0 -1 0 850)`},zoombox:{width:1e3,height:1e3,path:`m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z`,transform:`matrix(1 0 0 -1 0 850)`},pan:{width:1e3,height:1e3,path:`m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z`,transform:`matrix(1 0 0 -1 0 850)`},zoom_plus:{width:875,height:1e3,path:`m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z`,transform:`matrix(1 0 0 -1 0 850)`},zoom_minus:{width:875,height:1e3,path:`m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z`,transform:`matrix(1 0 0 -1 0 850)`},autoscale:{width:1e3,height:1e3,path:`m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z`,transform:`matrix(1 0 0 -1 0 850)`},tooltip_basic:{width:1500,height:1e3,path:`m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z`,transform:`matrix(1 0 0 -1 0 850)`},tooltip_compare:{width:1125,height:1e3,path:`m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z`,transform:`matrix(1 0 0 -1 0 850)`},plotlylogo:{width:1542,height:1e3,path:`m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z`,transform:`matrix(1 0 0 -1 0 850)`},"z-axis":{width:1e3,height:1e3,path:`m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z`,transform:`matrix(1 0 0 -1 0 850)`},"3d_rotate":{width:1e3,height:1e3,path:`m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z`,transform:`matrix(1 0 0 -1 0 850)`},camera:{width:1e3,height:1e3,path:`m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z`,transform:`matrix(1 0 0 -1 0 850)`},movie:{width:1e3,height:1e3,path:`m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z`,transform:`matrix(1 0 0 -1 0 850)`},question:{width:857.1,height:1e3,path:`m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z`,transform:`matrix(1 0 0 -1 0 850)`},disk:{width:857.1,height:1e3,path:`m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z`,transform:`matrix(1 0 0 -1 0 850)`},drawopenpath:{width:70,height:70,path:`M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z`,transform:`matrix(1 0 0 1 -15 -15)`},drawclosedpath:{width:90,height:90,path:`M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z`,transform:`matrix(1 0 0 1 -5 -5)`},lasso:{width:1031,height:1e3,path:`m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z`,transform:`matrix(1 0 0 -1 0 850)`},selectbox:{width:1e3,height:1e3,path:`m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z`,transform:`matrix(1 0 0 -1 0 850)`},drawline:{width:70,height:70,path:`M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z`,transform:`matrix(1 0 0 1 -15 -15)`},drawrect:{width:80,height:80,path:`M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z`,transform:`matrix(1 0 0 1 -10 -10)`},drawcircle:{width:80,height:80,path:`M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z`,transform:`matrix(1 0 0 1 -10 -10)`},eraseshape:{width:80,height:80,path:`M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z`,transform:`matrix(1 0 0 1 -10 -10)`},spikeline:{width:1e3,height:1e3,path:`M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z`,transform:`matrix(1.5 0 0 -1.5 0 850)`},pencil:{width:1792,height:1792,path:`M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z`,transform:`matrix(1 0 0 1 0 1)`},newplotlylogo:{name:`newplotlylogo`,svg:`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>(<defs>( <style>(  .cls-0{fill:#000;}(  .cls-1{fill:#FFF;}(  .cls-2{fill:#F26;}(  .cls-3{fill:#D69;}(  .cls-4{fill:#BAC;}(  .cls-5{fill:#9EF;}( </style>(</defs>( <title>plotly-logomark</title>( <g id='symbol'>(  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>(  <circle class='cls-5' cx='102' cy='30' r='6'/>(  <circle class='cls-4' cx='78' cy='30' r='6'/>(  <circle class='cls-4' cx='78' cy='54' r='6'/>(  <circle class='cls-3' cx='54' cy='30' r='6'/>(  <circle class='cls-2' cx='30' cy='30' r='6'/>(  <circle class='cls-2' cx='30' cy='54' r='6'/>(  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>(  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>(  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>(  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>( </g>(</svg>`.split(`(`).join(``)}}}),99863:(function(e,t){t.isLeftAnchor=function(e){return e.xanchor===`left`||e.xanchor===`auto`&&e.x<=1/3},t.isCenterAnchor=function(e){return e.xanchor===`center`||e.xanchor===`auto`&&e.x>1/3&&e.x<2/3},t.isRightAnchor=function(e){return e.xanchor===`right`||e.xanchor===`auto`&&e.x>=2/3},t.isTopAnchor=function(e){return e.yanchor===`top`||e.yanchor===`auto`&&e.y>=2/3},t.isMiddleAnchor=function(e){return e.yanchor===`middle`||e.yanchor===`auto`&&e.y>1/3&&e.y<2/3},t.isBottomAnchor=function(e){return e.yanchor===`bottom`||e.yanchor===`auto`&&e.y<=1/3}}),26348:(function(e,t,n){var r=n(64872),i=r.mod,a=r.modHalf,o=Math.PI,s=2*o;function c(e){return e/180*o}function l(e){return e/o*180}function u(e){return Math.abs(e[1]-e[0])>s-1e-14}function d(e,t){return a(t-e,s)}function f(e,t){return Math.abs(d(e,t))}function p(e,t){if(u(t))return!0;var n,r;t[0]<t[1]?(n=t[0],r=t[1]):(n=t[1],r=t[0]),n=i(n,s),r=i(r,s),n>r&&(r+=s);var a=i(e,s),o=a+s;return a>=n&&a<=r||o>=n&&o<=r}function m(e,t,n,r){if(!p(t,r))return!1;var i,a;return n[0]<n[1]?(i=n[0],a=n[1]):(i=n[1],a=n[0]),e>=i&&e<=a}function h(e,t,n,r,i,a,c){i||=0,a||=0;var l=u([n,r]),d,f,p,m,h;l?(d=0,f=o,p=s):n<r?(d=n,p=r):(d=r,p=n),e<t?(m=e,h=t):(m=t,h=e);function g(e,t){return[e*Math.cos(t)+i,a-e*Math.sin(t)]}var _=Math.abs(p-d)<=o?0:1;function v(e,t,n){return`A`+[e,e]+` `+[0,_,n]+` `+g(e,t)}var y;return l?y=m===null?`M`+g(h,d)+v(h,f,0)+v(h,p,0)+`Z`:`M`+g(m,d)+v(m,f,0)+v(m,p,0)+`ZM`+g(h,d)+v(h,f,1)+v(h,p,1)+`Z`:m===null?(y=`M`+g(h,d)+v(h,p,0),c&&(y+=`L0,0Z`)):y=`M`+g(m,d)+`L`+g(h,d)+v(h,p,0)+`L`+g(m,p)+v(m,d,1)+`Z`,y}function g(e,t,n,r,i){return h(null,e,t,n,r,i,0)}function _(e,t,n,r,i){return h(null,e,t,n,r,i,1)}function v(e,t,n,r,i,a){return h(e,t,n,r,i,a,1)}e.exports={deg2rad:c,rad2deg:l,angleDelta:d,angleDist:f,isFullCircle:u,isAngleInsideSector:p,isPtInsideSector:m,pathArc:g,pathSector:_,pathAnnulus:v}}),73627:(function(e,t){var n=Array.isArray,r=ArrayBuffer,i=DataView;function a(e){return r.isView(e)&&!(e instanceof i)}t.isTypedArray=a;function o(e){return n(e)||a(e)}t.isArrayOrTypedArray=o;function s(e){return!o(e[0])}t.isArray1D=s,t.ensureArray=function(e,t){return n(e)||(e=[]),e.length=t,e},t.concat=function(){var e=[],t=!0,r=0,i,a,o,s,c,l,u,d;for(o=0;o<arguments.length;o++)s=arguments[o],l=s.length,l&&(a?e.push(s):(a=s,c=l),n(s)?i=!1:(t=!1,r?i!==s.constructor&&(i=!1):i=s.constructor),r+=l);if(!r)return[];if(!e.length)return a;if(t)return a.concat.apply(a,e);if(i){for(u=new i(r),u.set(a),o=0;o<e.length;o++)s=e[o],u.set(s,c),c+=s.length;return u}for(u=Array(r),d=0;d<a.length;d++)u[d]=a[d];for(o=0;o<e.length;o++){for(s=e[o],d=0;d<s.length;d++)u[c+d]=s[d];c+=d}return u},t.maxRowLength=function(e){return c(e,Math.max,0)},t.minRowLength=function(e){return c(e,Math.min,1/0)};function c(e,t,n){if(o(e))if(o(e[0])){for(var r=n,i=0;i<e.length;i++)r=t(r,e[i].length);return r}else return e.length;return 0}}),95218:(function(e,t,n){var r=n(92770),i=n(50606).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;e.exports=function(e){return typeof e==`string`&&(e=e.replace(a,``)),r(e)?Number(e):i}}),33306:(function(e){e.exports=function(e){var t=e._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(e){e.regl&&e.regl.clear({color:!0,depth:!0})})}}),86367:(function(e){e.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener(`resize`,e._responsiveChartHandler),delete e._responsiveChartHandler)}}),96554:(function(e,t,n){var r=n(92770),i=n(84267),a=n(9012),o=n(63282),s=n(7901),c=n(37822).DESELECTDIM,l=n(65487),u=n(30587).counter,d=n(64872).modHalf,f=n(73627).isArrayOrTypedArray;t.valObjectMeta={data_array:{coerceFunction:function(e,t,n){f(e)?t.set(e):n!==void 0&&t.set(n)}},enumerated:{coerceFunction:function(e,t,n,r){r.coerceNumber&&(e=+e),r.values.indexOf(e)===-1?t.set(n):t.set(e)},validateFunction:function(e,t){t.coerceNumber&&(e=+e);for(var n=t.values,r=0;r<n.length;r++){var i=String(n[r]);if(i.charAt(0)===`/`&&i.charAt(i.length-1)===`/`){if(new RegExp(i.substr(1,i.length-2)).test(e))return!0}else if(e===n[r])return!0}return!1}},boolean:{coerceFunction:function(e,t,n){e===!0||e===!1?t.set(e):t.set(n)}},number:{coerceFunction:function(e,t,n,i){!r(e)||i.min!==void 0&&e<i.min||i.max!==void 0&&e>i.max?t.set(n):t.set(+e)}},integer:{coerceFunction:function(e,t,n,i){e%1||!r(e)||i.min!==void 0&&e<i.min||i.max!==void 0&&e>i.max?t.set(n):t.set(+e)}},string:{coerceFunction:function(e,t,n,r){if(typeof e!=`string`){var i=typeof e==`number`;r.strict===!0||!i?t.set(n):t.set(String(e))}else r.noBlank&&!e?t.set(n):t.set(e)}},color:{coerceFunction:function(e,t,n){i(e).isValid()?t.set(e):t.set(n)}},colorlist:{coerceFunction:function(e,t,n){function r(e){return i(e).isValid()}!Array.isArray(e)||!e.length?t.set(n):e.every(r)?t.set(e):t.set(n)}},colorscale:{coerceFunction:function(e,t,n){t.set(o.get(e,n))}},angle:{coerceFunction:function(e,t,n){e===`auto`?t.set(`auto`):r(e)?t.set(d(+e,360)):t.set(n)}},subplotid:{coerceFunction:function(e,t,n,r){var i=r.regex||u(n);if(typeof e==`string`&&i.test(e)){t.set(e);return}t.set(n)},validateFunction:function(e,t){var n=t.dflt;return e===n?!0:typeof e==`string`?!!u(n).test(e):!1}},flaglist:{coerceFunction:function(e,t,n,r){if((r.extras||[]).indexOf(e)!==-1){t.set(e);return}if(typeof e!=`string`){t.set(n);return}for(var i=e.split(`+`),a=0;a<i.length;){var o=i[a];r.flags.indexOf(o)===-1||i.indexOf(o)<a?i.splice(a,1):a++}i.length?t.set(i.join(`+`)):t.set(n)}},any:{coerceFunction:function(e,t,n){e===void 0?t.set(n):t.set(e)}},info_array:{coerceFunction:function(e,n,r,i){function a(e,n,r){var i;return r===void 0&&(r=n.dflt),t.valObjectMeta[n.valType].coerceFunction(e,{set:function(e){i=e}},r,n),i}var o=i.dimensions===2||i.dimensions===`1-2`&&Array.isArray(e)&&Array.isArray(e[0]);if(!Array.isArray(e)){n.set(r);return}var s=i.items,c=[],l=Array.isArray(s),u=l&&o&&Array.isArray(s[0]),d=o&&l&&!u,f=l&&!d?s.length:e.length,p,m,h,g,_,v;if(r=Array.isArray(r)?r:[],o)for(p=0;p<f;p++)for(c[p]=[],h=Array.isArray(e[p])?e[p]:[],_=d?s.length:l?s[p].length:h.length,m=0;m<_;m++)g=d?s[m]:l?s[p][m]:s,v=a(h[m],g,(r[p]||[])[m]),v!==void 0&&(c[p][m]=v);else for(p=0;p<f;p++)v=a(e[p],l?s[p]:s,r[p]),v!==void 0&&(c[p]=v);n.set(c)},validateFunction:function(e,t){if(!Array.isArray(e))return!1;var n=t.items,r=Array.isArray(n),i=t.dimensions===2;if(!t.freeLength&&e.length!==n.length)return!1;for(var a=0;a<e.length;a++)if(i){if(!Array.isArray(e[a])||!t.freeLength&&e[a].length!==n[a].length)return!1;for(var o=0;o<e[a].length;o++)if(!p(e[a][o],r?n[a][o]:n))return!1}else if(!p(e[a],r?n[a]:n))return!1;return!0}}},t.coerce=function(e,n,r,i,a){var o=l(r,i).get(),s=l(e,i),c=l(n,i),u=s.get(),d=n._template;if(u===void 0&&d&&(u=l(d,i).get(),d=0),a===void 0&&(a=o.dflt),o.arrayOk&&f(u))return c.set(u),u;var m=t.valObjectMeta[o.valType].coerceFunction;m(u,c,a,o);var h=c.get();return d&&h===a&&!p(u,o)&&(u=l(d,i).get(),m(u,c,a,o),h=c.get()),h},t.coerce2=function(e,n,r,i,a){var o=l(e,i),s=t.coerce(e,n,r,i,a);return o.get()==null?!1:s},t.coerceFont=function(e,t,n){var r={};return n||={},r.family=e(t+`.family`,n.family),r.size=e(t+`.size`,n.size),r.color=e(t+`.color`,n.color),r},t.coercePattern=function(e,t,n,r){if(e(t+`.shape`)){e(t+`.solidity`),e(t+`.size`);var i=e(t+`.fillmode`)===`overlay`;if(!r){var a=e(t+`.bgcolor`,i?n:void 0);e(t+`.fgcolor`,i?s.contrast(a):n)}e(t+`.fgopacity`,i?.5:1)}},t.coerceHoverinfo=function(e,n,r){var i=n._module.attributes,o=i.hoverinfo?i:a,s=o.hoverinfo,c;if(r._dataLength===1){var l=s.dflt===`all`?s.flags.slice():s.dflt.split(`+`);l.splice(l.indexOf(`name`),1),c=l.join(`+`)}return t.coerce(e,n,o,`hoverinfo`,c)},t.coerceSelectionMarkerOpacity=function(e,t){if(e.marker){var n=e.marker.opacity;if(n!==void 0){var r,i;!f(n)&&!e.selected&&!e.unselected&&(r=n,i=c*n),t(`selected.marker.opacity`,r),t(`unselected.marker.opacity`,i)}}};function p(e,n){var r=t.valObjectMeta[n.valType];if(n.arrayOk&&f(e))return!0;if(r.validateFunction)return r.validateFunction(e,n);var i={},a=i;return r.coerceFunction(e,{set:function(e){a=e}},i,n),a!==i}t.validate=p}),41631:(function(e,t,n){var r=n(84096).i$,i=n(92770),a=n(47769),o=n(64872).mod,s=n(50606),c=s.BADNUM,l=s.ONEDAY,u=s.ONEHOUR,d=s.ONEMIN,f=s.ONESEC,p=s.EPOCHJD,m=n(73972),h=n(84096).g0,g=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,_=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,v=new Date().getFullYear()-70;function y(e){return e&&m.componentsRegistry.calendars&&typeof e==`string`&&e!==`gregorian`}t.dateTick0=function(e,n){var r=b(e,!!n);if(n<2)return r;var i=t.dateTime2ms(r,e);return i+=l*(n-1),t.ms2DateTime(i,0,e)};function b(e,t){return y(e)?t?m.getComponentMethod(`calendars`,`CANONICAL_SUNDAY`)[e]:m.getComponentMethod(`calendars`,`CANONICAL_TICK`)[e]:t?`2000-01-02`:`2000-01-01`}t.dfltRange=function(e){return y(e)?m.getComponentMethod(`calendars`,`DFLTRANGE`)[e]:[`2000-01-01`,`2001-01-01`]},t.isJSDate=function(e){return typeof e==`object`&&!!e&&typeof e.getTime==`function`};var x,S;t.dateTime2ms=function(e,n){if(t.isJSDate(e)){var r=e.getTimezoneOffset()*d,i=(e.getUTCMinutes()-e.getMinutes())*d+(e.getUTCSeconds()-e.getSeconds())*f+(e.getUTCMilliseconds()-e.getMilliseconds());if(i){var a=3*d;r=r-a/2+o(i-r+a/2,a)}return e=Number(e)-r,e>=x&&e<=S?e:c}if(typeof e!=`string`&&typeof e!=`number`)return c;e=String(e);var s=y(n),h=e.charAt(0);s&&(h===`G`||h===`g`)&&(e=e.substr(1),n=``);var b=s&&n.substr(0,7)===`chinese`,C=e.match(b?_:g);if(!C)return c;var w=C[1],T=C[3]||`1`,E=Number(C[5]||1),D=Number(C[7]||0),O=Number(C[9]||0),k=Number(C[11]||0);if(s){if(w.length===2)return c;w=Number(w);var A;try{var j=m.getComponentMethod(`calendars`,`getCal`)(n);if(b){var M=T.charAt(T.length-1)===`i`;T=parseInt(T,10),A=j.newDate(w,j.toMonthIndex(w,T,M),E)}else A=j.newDate(w,Number(T),E)}catch{return c}return A?(A.toJD()-p)*l+D*u+O*d+k*f:c}w=w.length===2?(Number(w)+2e3-v)%100+v:Number(w),--T;var N=new Date(Date.UTC(2e3,T,E,D,O));return N.setUTCFullYear(w),N.getUTCMonth()!==T||N.getUTCDate()!==E?c:N.getTime()+k*f},x=t.MIN_MS=t.dateTime2ms(`-9999`),S=t.MAX_MS=t.dateTime2ms(`9999-12-31 23:59:59.9999`),t.isDateTime=function(e,n){return t.dateTime2ms(e,n)!==c};function C(e,t){return String(e+10**t).substr(1)}var w=90*l,T=3*u,E=5*d;t.ms2DateTime=function(e,t,n){if(typeof e!=`number`||!(e>=x&&e<=S))return c;t||=0;var r=Math.floor(o(e+.05,1)*10),i=Math.round(e-r/10),a,s,g,_,v,b;if(y(n)){var C=Math.floor(i/l)+p,O=Math.floor(o(e,l));try{a=m.getComponentMethod(`calendars`,`getCal`)(n).fromJD(C).formatDate(`yyyy-mm-dd`)}catch{a=h(`G%Y-%m-%d`)(new Date(i))}if(a.charAt(0)===`-`)for(;a.length<11;)a=`-0`+a.substr(1);else for(;a.length<10;)a=`0`+a;s=t<w?Math.floor(O/u):0,g=t<w?Math.floor(O%u/d):0,_=t<T?Math.floor(O%d/f):0,v=t<E?O%f*10+r:0}else b=new Date(i),a=h(`%Y-%m-%d`)(b),s=t<w?b.getUTCHours():0,g=t<w?b.getUTCMinutes():0,_=t<T?b.getUTCSeconds():0,v=t<E?b.getUTCMilliseconds()*10+r:0;return D(a,s,g,_,v)},t.ms2DateTimeLocal=function(e){if(!(e>=x+l&&e<=S-l))return c;var t=Math.floor(o(e+.05,1)*10),n=new Date(Math.round(e-t/10));return D(r(`%Y-%m-%d`)(n),n.getHours(),n.getMinutes(),n.getSeconds(),n.getUTCMilliseconds()*10+t)};function D(e,t,n,r,i){if((t||n||r||i)&&(e+=` `+C(t,2)+`:`+C(n,2),(r||i)&&(e+=`:`+C(r,2),i))){for(var a=4;i%10==0;)--a,i/=10;e+=`.`+C(i,a)}return e}t.cleanDate=function(e,n,r){if(e===c)return n;if(t.isJSDate(e)||typeof e==`number`&&isFinite(e)){if(y(r))return a.error(`JS Dates and milliseconds are incompatible with world calendars`,e),n;if(e=t.ms2DateTimeLocal(+e),!e&&n!==void 0)return n}else if(!t.isDateTime(e,r))return a.error(`unrecognized date`,e),n;return e};var O=/%\d?f/g,k=/%h/g,A={1:`1`,2:`1`,3:`2`,4:`2`};function j(e,t,n,r){e=e.replace(O,function(e){var n=Math.min(+e.charAt(1)||6,6);return(t/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,``)||`0`});var i=new Date(Math.floor(t+.05));if(e=e.replace(k,function(){return A[n(`%q`)(i)]}),y(r))try{e=m.getComponentMethod(`calendars`,`worldCalFmt`)(e,t,r)}catch{return`Invalid`}return n(e)(i)}var M=[59,59.9,59.99,59.999,59.9999];function N(e,t){var n=o(e+.05,l),r=C(Math.floor(n/u),2)+`:`+C(o(Math.floor(n/d),60),2);if(t!==`M`){i(t)||(t=0);var a=(100+Math.min(o(e/f,60),M[t])).toFixed(t).substr(1);t>0&&(a=a.replace(/0+$/,``).replace(/[\.]$/,``)),r+=`:`+a}return r}t.formatDate=function(e,t,n,r,i,a){if(i=y(i)&&i,!t)if(n===`y`)t=a.year;else if(n===`m`)t=a.month;else if(n===`d`)t=a.dayMonth+`
`+a.year;else return N(e,n)+`
`+j(a.dayMonthYear,e,r,i);return j(t,e,r,i)};var P=3*l;t.incrementMonth=function(e,t,n){n=y(n)&&n;var r=o(e,l);if(e=Math.round(e-r),n)try{var i=Math.round(e/l)+p,s=m.getComponentMethod(`calendars`,`getCal`)(n),c=s.fromJD(i);return t%12?s.add(c,t,`m`):s.add(c,t/12,`y`),(c.toJD()-p)*l+r}catch{a.error(`invalid ms `+e+` in calendar `+n)}var u=new Date(e+P);return u.setUTCMonth(u.getUTCMonth()+t)+r-P},t.findExactDates=function(e,t){for(var n=0,r=0,a=0,o=0,s,c,u=y(t)&&m.getComponentMethod(`calendars`,`getCal`)(t),d=0;d<e.length;d++){if(c=e[d],!i(c)){o++;continue}if(!(c%l))if(u)try{s=u.fromJD(c/l+p),s.day()===1?s.month()===1?n++:r++:a++}catch{}else s=new Date(c),s.getUTCDate()===1?s.getUTCMonth()===0?n++:r++:a++}r+=n,a+=r;var f=e.length-o;return{exactYears:n/f,exactMonths:r/f,exactDays:a/f}}}),24401:(function(e,t,n){var r=n(39898),i=n(47769),a=n(35657),o=n(79576);function s(e){var t;if(typeof e==`string`){if(t=document.getElementById(e),t===null)throw Error(`No DOM element with id '`+e+`' exists on the page.`);return t}else if(e==null)throw Error(`DOM element provided is null or undefined`);return e}function c(e){var t=r.select(e);return t.node()instanceof HTMLElement&&t.size()&&t.classed(`js-plotly-plot`)}function l(e){var t=e&&e.parentNode;t&&t.removeChild(e)}function u(e,t){d(`global`,e,t)}function d(e,t,n){var r=`plotly.js-style-`+e,a=document.getElementById(r);a||(a=document.createElement(`style`),a.setAttribute(`id`,r),a.appendChild(document.createTextNode(``)),document.head.appendChild(a));var o=a.sheet;o.insertRule?o.insertRule(t+`{`+n+`}`,0):o.addRule?o.addRule(t,n,0):i.warn(`addStyleRule failed`)}function f(e){var t=`plotly.js-style-`+e,n=document.getElementById(t);n&&l(n)}function p(e){var t=h(e),n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return t.forEach(function(e){var t=m(e);if(t){var r=a.convertCssMatrix(t);n=o.multiply(n,n,r)}}),n}function m(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue(`-webkit-transform`)||t.getPropertyValue(`-moz-transform`)||t.getPropertyValue(`-ms-transform`)||t.getPropertyValue(`-o-transform`)||t.getPropertyValue(`transform`);return n===`none`?null:n.replace(`matrix`,``).replace(`3d`,``).slice(1,-1).split(`,`).map(function(e){return+e})}function h(e){for(var t=[];g(e);)t.push(e),e=e.parentNode;return t}function g(e){return e&&(e instanceof Element||e instanceof HTMLElement)}function _(e,t){return e&&t&&e.top===t.top&&e.left===t.left&&e.right===t.right&&e.bottom===t.bottom}e.exports={getGraphDiv:s,isPlotDiv:c,removeElement:l,addStyleRule:u,addRelatedStyleRule:d,deleteRelatedStyleRule:f,getFullTransformMatrix:p,getElementTransformMatrix:m,getElementAndAncestors:h,equalDomRects:_}}),11086:(function(e,t,n){var r=n(15398).EventEmitter;e.exports={init:function(e){if(e._ev instanceof r)return e;var t=new r,n=new r;return e._ev=t,e._internalEv=n,e.on=t.on.bind(t),e.once=t.once.bind(t),e.removeListener=t.removeListener.bind(t),e.removeAllListeners=t.removeAllListeners.bind(t),e._internalOn=n.on.bind(n),e._internalOnce=n.once.bind(n),e._removeInternalListener=n.removeListener.bind(n),e._removeAllInternalListeners=n.removeAllListeners.bind(n),e.emit=function(r,i){typeof jQuery<`u`&&jQuery(e).trigger(r,i),t.emit(r,i),n.emit(r,i)},e},triggerHandler:function(e,t,n){var r,i;typeof jQuery<`u`&&(r=jQuery(e).triggerHandler(t,n));var a=e._ev;if(!a)return r;var o=a._events[t];if(!o)return r;function s(e){if(e.listener){if(a.removeListener(t,e.listener),!e.fired)return e.fired=!0,e.listener.apply(a,[n])}else return e.apply(a,[n])}o=Array.isArray(o)?o:[o];var c;for(c=0;c<o.length-1;c++)s(o[c]);return i=s(o[c]),r===void 0?i:r},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}}}),1426:(function(e,t,n){var r=n(41965),i=Array.isArray;function a(e,t){var n,r;for(n=0;n<e.length;n++){if(r=e[n],typeof r==`object`&&r)return!1;r!==void 0&&(t[n]=r)}return!0}t.extendFlat=function(){return o(arguments,!1,!1,!1)},t.extendDeep=function(){return o(arguments,!0,!1,!1)},t.extendDeepAll=function(){return o(arguments,!0,!0,!1)},t.extendDeepNoArrays=function(){return o(arguments,!0,!1,!0)};function o(e,t,n,s){var c=e[0],l=e.length,u,d,f,p,m,h,g;if(l===2&&i(c)&&i(e[1])&&c.length===0){if(g=a(e[1],c),g)return c;c.splice(0,c.length)}for(var _=1;_<l;_++)for(d in u=e[_],u)f=c[d],p=u[d],s&&i(p)?c[d]=p:t&&p&&(r(p)||(m=i(p)))?(m?(m=!1,h=f&&i(f)?f:[]):h=f&&r(f)?f:{},c[d]=o([h,p],t,n,s)):(p!==void 0||n)&&(c[d]=p);return c}}),75744:(function(e){e.exports=function(e){for(var t={},n=[],r=0,i=0;i<e.length;i++){var a=e[i];t[a]!==1&&(t[a]=1,n[r++]=a)}return n}}),76756:(function(e){e.exports=function(e){for(var i=r(e)?n:t,a=[],o=0;o<e.length;o++){var s=e[o];i(s)&&a.push(s)}return a};function t(e){return e.visible===!0}function n(e){var t=e[0].trace;return t.visible===!0&&t._length!==0}function r(e){return Array.isArray(e)&&Array.isArray(e[0])&&e[0][0]&&e[0][0].trace}}),41327:(function(e,t,n){var r=n(39898),i=n(24138),a=n(30774),o=n(29261),s=n(85268),c=n(23389),l=n(47769),u=n(41965),d=n(65487),f=n(61082),p=Object.keys(i),m={"ISO-3":c,"USA-states":c,"country names":h};function h(e){for(var t=0;t<p.length;t++){var n=p[t];if(new RegExp(i[n]).test(e.trim().toLowerCase()))return n}return l.log(`Unrecognized country name: `+e+`.`),!1}function g(e,t,n){if(!t||typeof t!=`string`)return!1;var r=m[e](t),i,a,o;if(r){if(e===`USA-states`)for(i=[],o=0;o<n.length;o++)a=n[o],a.properties&&a.properties.gu&&a.properties.gu===`USA`&&i.push(a);else i=n;for(o=0;o<i.length;o++)if(a=i[o],a.id===r)return a;l.log([`Location with id`,r,`does not have a matching topojson feature at this resolution.`].join(` `))}return!1}function _(e){var t=e.geometry,n=t.coordinates,r=e.id,i=[],a,o,s,c;function l(e){for(var t=0;t<e.length-1;t++)if(e[t][0]>0&&e[t+1][0]<0)return t;return null}switch(a=r===`RUS`||r===`FJI`?function(e){var t;if(l(e)===null)t=e;else for(t=Array(e.length),c=0;c<e.length;c++)t[c]=[e[c][0]<0?e[c][0]+360:e[c][0],e[c][1]];i.push(f.tester(t))}:r===`ATA`?function(e){var t=l(e);if(t===null)return i.push(f.tester(e));var n=Array(e.length+1),r=0;for(c=0;c<e.length;c++)c>t?n[r++]=[e[c][0]+360,e[c][1]]:c===t?(n[r++]=e[c],n[r++]=[e[c][0],-90]):n[r++]=e[c];var a=f.tester(n);a.pts.pop(),i.push(a)}:function(e){i.push(f.tester(e))},t.type){case`MultiPolygon`:for(o=0;o<n.length;o++)for(s=0;s<n[o].length;s++)a(n[o][s]);break;case`Polygon`:for(o=0;o<n.length;o++)a(n[o]);break}return i}function v(e){var t=e.geojson,n=window.PlotlyGeoAssets||{},r=typeof t==`string`?n[t]:t;return u(r)?r:(l.error(`Oops ... something went wrong when fetching `+t),!1)}function y(e){var t=e[0].trace,n=v(t);if(!n)return!1;var r={},i=[],a;for(a=0;a<t._length;a++){var o=e[a];(o.loc||o.loc===0)&&(r[o.loc]=o)}function s(e){var n=d(e,t.featureidkey||`id`).get(),a=r[n];if(a){var o=e.geometry;if(o.type===`Polygon`||o.type===`MultiPolygon`){var s={type:`Feature`,id:n,geometry:o,properties:{}};s.properties.ct=b(s),a.fIn=e,a.fOut=s,i.push(s)}else l.log([`Location`,a.loc,`does not have a valid GeoJSON geometry.`,`Traces with locationmode *geojson-id* only support`,`*Polygon* and *MultiPolygon* geometries.`].join(` `))}delete r[n]}switch(n.type){case`FeatureCollection`:var c=n.features;for(a=0;a<c.length;a++)s(c[a]);break;case`Feature`:s(n);break;default:return l.warn([`Invalid GeoJSON type`,(n.type||`none`)+`.`,`Traces with locationmode *geojson-id* only support`,`*FeatureCollection* and *Feature* types.`].join(` `)),!1}for(var u in r)l.log([`Location *`+u+`*`,`does not have a matching feature with id-key`,`*`+t.featureidkey+`*.`].join(` `));return i}function b(e){var t=e.geometry,n;if(t.type===`MultiPolygon`)for(var r=t.coordinates,i=0,s=0;s<r.length;s++){var c={type:`Polygon`,coordinates:r[s]},l=a.default(c);l>i&&(i=l,n=c)}else n=t;return o.default(n).geometry.coordinates}function x(e){var t=window.PlotlyGeoAssets||{},n=[];function i(e){return new Promise(function(n,i){r.json(e,function(r,a){if(r){delete t[e];var o=r.status===404?`GeoJSON at URL "`+e+`" does not exist.`:`Unexpected error while fetching from `+e;return i(Error(o))}return t[e]=a,n(a)})})}function a(e){return new Promise(function(n,r){var i=0,a=setInterval(function(){if(t[e]&&t[e]!==`pending`)return clearInterval(a),n(t[e]);if(i>100)return clearInterval(a),r(`Unexpected error while fetching from `+e);i++},50)})}for(var o=0;o<e.length;o++){var s=e[o][0].trace.geojson;typeof s==`string`&&(t[s]?t[s]===`pending`&&n.push(a(s)):(t[s]=`pending`,n.push(i(s))))}return n}function S(e){return s.default(e)}e.exports={locationToFeature:g,feature2polygons:_,getTraceGeojson:v,extractTraceFeature:y,fetchTraceGeoData:x,computeBbox:S}}),18214:(function(e,t,n){var r=n(50606).BADNUM;t.calcTraceToLineCoords=function(e){for(var t=e[0].trace.connectgaps,n=[],i=[],a=0;a<e.length;a++){var o=e[a].lonlat;o[0]===r?!t&&i.length>0&&(n.push(i),i=[]):i.push(o)}return i.length>0&&n.push(i),n},t.makeLine=function(e){return e.length===1?{type:`LineString`,coordinates:e[0]}:{type:`MultiLineString`,coordinates:e}},t.makePolygon=function(e){if(e.length===1)return{type:`Polygon`,coordinates:e};for(var t=Array(e.length),n=0;n<e.length;n++)t[n]=[e[n]];return{type:`MultiPolygon`,coordinates:t}},t.makeBlank=function(){return{type:`Point`,coordinates:[]}}}),87642:(function(e,t,n){var r=n(64872).mod;t.segmentsIntersect=i;function i(e,t,n,r,i,a,o,s){var c=n-e,l=i-e,u=o-i,d=r-t,f=a-t,p=s-a,m=c*p-u*d;if(m===0)return null;var h=(l*p-u*f)/m,g=(l*d-c*f)/m;return g<0||g>1||h<0||h>1?null:{x:e+c*h,y:t+d*h}}t.segmentDistance=function(e,t,n,r,o,s,c,l){if(i(e,t,n,r,o,s,c,l))return 0;var u=n-e,d=r-t,f=c-o,p=l-s,m=u*u+d*d,h=f*f+p*p,g=Math.min(a(u,d,m,o-e,s-t),a(u,d,m,c-e,l-t),a(f,p,h,e-o,t-s),a(f,p,h,n-o,r-s));return Math.sqrt(g)};function a(e,t,n,r,i){var a=r*e+i*t;if(a<0)return r*r+i*i;if(a>n){var o=r-e,s=i-t;return o*o+s*s}else{var c=r*t-i*e;return c*c/n}}var o,s,c;t.getTextLocation=function(e,t,n,i){if((e!==s||i!==c)&&(o={},s=e,c=i),o[n])return o[n];var a=e.getPointAtLength(r(n-i/2,t)),l=e.getPointAtLength(r(n+i/2,t)),u=Math.atan((l.y-a.y)/(l.x-a.x)),d=e.getPointAtLength(r(n,t)),f={x:(d.x*4+a.x+l.x)/6,y:(d.y*4+a.y+l.y)/6,theta:u};return o[n]=f,f},t.clearLocationCache=function(){s=null},t.getVisibleSegment=function(e,t,n){var r=t.left,i=t.right,a=t.top,o=t.bottom,s=0,c=e.getTotalLength(),l=c,u,d;function f(t){var n=e.getPointAtLength(t);t===0?u=n:t===c&&(d=n);var s=n.x<r?r-n.x:n.x>i?n.x-i:0,l=n.y<a?a-n.y:n.y>o?n.y-o:0;return Math.sqrt(s*s+l*l)}for(var p=f(s);p;){if(s+=p+n,s>l)return;p=f(s)}for(p=f(l);p;){if(l-=p+n,s>l)return;p=f(l)}return{min:s,max:l,len:l-s,total:c,isClosed:s===0&&l===c&&Math.abs(u.x-d.x)<.1&&Math.abs(u.y-d.y)<.1}},t.findPointOnPath=function(e,t,n,r){r||={};for(var i=r.pathLength||e.getTotalLength(),a=r.tolerance||.001,o=r.iterationLimit||30,s=e.getPointAtLength(0)[n]>e.getPointAtLength(i)[n]?-1:1,c=0,l=0,u=i,d,f,p;c<o;){if(d=(l+u)/2,f=e.getPointAtLength(d),p=f[n]-t,Math.abs(p)<a)return f;s*p>0?u=d:l=d,c++}return f}}),81697:(function(e,t,n){var r=n(92770),i=n(84267),a=n(25075),o=n(21081),s=n(22399).defaultLine,c=n(73627).isArrayOrTypedArray,l=a(s),u=1;function d(e,t){var n=e;return n[3]*=t,n}function f(e){if(r(e))return l;var t=a(e);return t.length?t:l}function p(e){return r(e)?e:u}function m(e,t,n){var r=e.color,i=c(r),s=c(t),m=o.extractOpts(e),h=[],g=m.colorscale===void 0?f:o.makeColorScaleFuncFromTrace(e),_=i?function(e,t){return e[t]===void 0?l:a(g(e[t]))}:f,v=s?function(e,t){return e[t]===void 0?u:p(e[t])}:p,y,b;if(i||s)for(var x=0;x<n;x++)y=_(r,x),b=v(t,x),h[x]=d(y,b);else h=d(a(r),t);return h}function h(e){var t=o.extractOpts(e),n=t.colorscale;return t.reversescale&&(n=o.flipScale(t.colorscale)),n.map(function(e){var t=e[0],n=i(e[1]).toRgb();return{index:t,rgb:[n.r,n.g,n.b,n.a]}})}e.exports={formatColor:m,parseColorScale:h}}),28984:(function(e,t,n){var r=n(23389);function i(e){return[e]}e.exports={keyFun:function(e){return e.key},repeat:i,descend:r,wrap:i,unwrap:function(e){return e[0]}}}),23389:(function(e){e.exports=function(e){return e}}),39240:(function(e){e.exports=function(e,t){if(!t)return e;var n=1/Math.abs(t),r=n>1?(n*e+n*t)/n:e+t,i=String(r).length;if(i>16){var a=String(t).length;if(i>=String(e).length+a){var o=parseFloat(r).toPrecision(12);o.indexOf(`e+`)===-1&&(r=+o)}}return r}}),71828:(function(e,t,n){var r=n(39898),i=n(84096).g0,a=n(60721).WU,o=n(92770),s=n(50606),c=s.FP_SAFE,l=-c,u=s.BADNUM,d=e.exports={};d.adjustFormat=function(e){return!e||/^\d[.]\df/.test(e)||/[.]\d%/.test(e)?e:e===`0.f`?`~f`:/^\d%/.test(e)?`~%`:/^\ds/.test(e)?`~s`:!/^[~,.0$]/.test(e)&&/[&fps]/.test(e)?`~`+e:e};var f={};d.warnBadFormat=function(e){var t=String(e);f[t]||(f[t]=1,d.warn(`encountered bad format: "`+t+`"`))},d.noFormat=function(e){return String(e)},d.numberFormat=function(e){var t;try{t=a(d.adjustFormat(e))}catch{return d.warnBadFormat(e),d.noFormat}return t},d.nestedProperty=n(65487),d.keyedContainer=n(66636),d.relativeAttr=n(6962),d.isPlainObject=n(41965),d.toLogRange=n(58163),d.relinkPrivateKeys=n(51332);var p=n(73627);d.isTypedArray=p.isTypedArray,d.isArrayOrTypedArray=p.isArrayOrTypedArray,d.isArray1D=p.isArray1D,d.ensureArray=p.ensureArray,d.concat=p.concat,d.maxRowLength=p.maxRowLength,d.minRowLength=p.minRowLength;var m=n(64872);d.mod=m.mod,d.modHalf=m.modHalf;var h=n(96554);d.valObjectMeta=h.valObjectMeta,d.coerce=h.coerce,d.coerce2=h.coerce2,d.coerceFont=h.coerceFont,d.coercePattern=h.coercePattern,d.coerceHoverinfo=h.coerceHoverinfo,d.coerceSelectionMarkerOpacity=h.coerceSelectionMarkerOpacity,d.validate=h.validate;var g=n(41631);d.dateTime2ms=g.dateTime2ms,d.isDateTime=g.isDateTime,d.ms2DateTime=g.ms2DateTime,d.ms2DateTimeLocal=g.ms2DateTimeLocal,d.cleanDate=g.cleanDate,d.isJSDate=g.isJSDate,d.formatDate=g.formatDate,d.incrementMonth=g.incrementMonth,d.dateTick0=g.dateTick0,d.dfltRange=g.dfltRange,d.findExactDates=g.findExactDates,d.MIN_MS=g.MIN_MS,d.MAX_MS=g.MAX_MS;var _=n(65888);d.findBin=_.findBin,d.sorterAsc=_.sorterAsc,d.sorterDes=_.sorterDes,d.distinctVals=_.distinctVals,d.roundUp=_.roundUp,d.sort=_.sort,d.findIndexOfMin=_.findIndexOfMin,d.sortObjectKeys=n(78607);var v=n(80038);d.aggNums=v.aggNums,d.len=v.len,d.mean=v.mean,d.median=v.median,d.midRange=v.midRange,d.variance=v.variance,d.stdev=v.stdev,d.interp=v.interp;var y=n(35657);d.init2dArray=y.init2dArray,d.transposeRagged=y.transposeRagged,d.dot=y.dot,d.translationMatrix=y.translationMatrix,d.rotationMatrix=y.rotationMatrix,d.rotationXYMatrix=y.rotationXYMatrix,d.apply3DTransform=y.apply3DTransform,d.apply2DTransform=y.apply2DTransform,d.apply2DTransform2=y.apply2DTransform2,d.convertCssMatrix=y.convertCssMatrix,d.inverseTransformMatrix=y.inverseTransformMatrix;var b=n(26348);d.deg2rad=b.deg2rad,d.rad2deg=b.rad2deg,d.angleDelta=b.angleDelta,d.angleDist=b.angleDist,d.isFullCircle=b.isFullCircle,d.isAngleInsideSector=b.isAngleInsideSector,d.isPtInsideSector=b.isPtInsideSector,d.pathArc=b.pathArc,d.pathSector=b.pathSector,d.pathAnnulus=b.pathAnnulus;var x=n(99863);d.isLeftAnchor=x.isLeftAnchor,d.isCenterAnchor=x.isCenterAnchor,d.isRightAnchor=x.isRightAnchor,d.isTopAnchor=x.isTopAnchor,d.isMiddleAnchor=x.isMiddleAnchor,d.isBottomAnchor=x.isBottomAnchor;var S=n(87642);d.segmentsIntersect=S.segmentsIntersect,d.segmentDistance=S.segmentDistance,d.getTextLocation=S.getTextLocation,d.clearLocationCache=S.clearLocationCache,d.getVisibleSegment=S.getVisibleSegment,d.findPointOnPath=S.findPointOnPath;var C=n(1426);d.extendFlat=C.extendFlat,d.extendDeep=C.extendDeep,d.extendDeepAll=C.extendDeepAll,d.extendDeepNoArrays=C.extendDeepNoArrays;var w=n(47769);d.log=w.log,d.warn=w.warn,d.error=w.error,d.counterRegex=n(30587).counter;var T=n(79990);d.throttle=T.throttle,d.throttleDone=T.done,d.clearThrottle=T.clear;var E=n(24401);d.getGraphDiv=E.getGraphDiv,d.isPlotDiv=E.isPlotDiv,d.removeElement=E.removeElement,d.addStyleRule=E.addStyleRule,d.addRelatedStyleRule=E.addRelatedStyleRule,d.deleteRelatedStyleRule=E.deleteRelatedStyleRule,d.getFullTransformMatrix=E.getFullTransformMatrix,d.getElementTransformMatrix=E.getElementTransformMatrix,d.getElementAndAncestors=E.getElementAndAncestors,d.equalDomRects=E.equalDomRects,d.clearResponsive=n(86367),d.preserveDrawingBuffer=n(45142),d.makeTraceGroups=n(77310),d._=n(15867),d.notifier=n(75046),d.filterUnique=n(75744),d.filterVisible=n(76756),d.pushUnique=n(75138),d.increment=n(39240),d.cleanNumber=n(95218),d.ensureNumber=function(e){return o(e)?(e=Number(e),e>c||e<l?u:e):u},d.isIndex=function(e,t){return t!==void 0&&e>=t?!1:o(e)&&e>=0&&e%1==0},d.noop=n(64213),d.identity=n(23389),d.repeat=function(e,t){for(var n=Array(t),r=0;r<t;r++)n[r]=e;return n},d.swapAttrs=function(e,t,n,r){n||=`x`,r||=`y`;for(var i=0;i<t.length;i++){var a=t[i],o=d.nestedProperty(e,a.replace(`?`,n)),s=d.nestedProperty(e,a.replace(`?`,r)),c=o.get();o.set(s.get()),s.set(c)}},d.raiseToTop=function(e){e.parentNode.appendChild(e)},d.cancelTransition=function(e){return e.transition().duration(0)},d.constrain=function(e,t,n){return t>n?Math.max(n,Math.min(t,e)):Math.max(t,Math.min(n,e))},d.bBoxIntersect=function(e,t,n){return n||=0,e.left<=t.right+n&&t.left<=e.right+n&&e.top<=t.bottom+n&&t.top<=e.bottom+n},d.simpleMap=function(e,t,n,r,i){for(var a=e.length,o=Array(a),s=0;s<a;s++)o[s]=t(e[s],n,r,i);return o},d.randstr=function e(t,n,r,i){if(r||=16,n===void 0&&(n=24),n<=0)return`0`;var a=Math.log(2**n)/Math.log(r),o=``,s,c,l;for(s=2;a===1/0;s*=2)a=Math.log(2**(n/s))/Math.log(r)*s;var u=a-Math.floor(a);for(s=0;s<Math.floor(a);s++)l=Math.floor(Math.random()*r).toString(r),o=l+o;u&&(c=r**+u,l=Math.floor(Math.random()*c).toString(r),o=l+o);var f=parseInt(o,r);return t&&t[o]||f!==1/0&&f>=2**n?i>10?(d.warn(`randstr failed uniqueness`),o):e(t,n,r,(i||0)+1):o},d.OptionControl=function(e,t){e||={},t||=`opt`;var n={};return n.optionList=[],n._newoption=function(r){r[t]=e,n[r.name]=r,n.optionList.push(r)},n[`_`+t]=e,n},d.smooth=function(e,t){if(t=Math.round(t)||0,t<2)return e;var n=e.length,r=2*n,i=2*t-1,a=Array(i),o=Array(n),s,c,l,u;for(s=0;s<i;s++)a[s]=(1-Math.cos(Math.PI*(s+1)/t))/(2*t);for(s=0;s<n;s++){for(u=0,c=0;c<i;c++)l=s+c+1-t,l<-n?l-=r*Math.round(l/r):l>=r&&(l-=r*Math.floor(l/r)),l<0?l=-1-l:l>=n&&(l=r-1-l),u+=e[l]*a[c];o[s]=u}return o},d.syncOrAsync=function(e,t,n){var r,i;function a(){return d.syncOrAsync(e,t,n)}for(;e.length;)if(i=e.splice(0,1)[0],r=i(t),r&&r.then)return r.then(a);return n&&n(t)},d.stripTrailingSlash=function(e){return e.substr(-1)===`/`?e.substr(0,e.length-1):e},d.noneOrAll=function(e,t,n){if(e){var r=!1,i=!0,a,o;for(a=0;a<n.length;a++)o=e[n[a]],o==null?i=!1:r=!0;if(r&&!i)for(a=0;a<n.length;a++)e[n[a]]=t[n[a]]}},d.mergeArray=function(e,t,n,r){var i=typeof r==`function`;if(d.isArrayOrTypedArray(e))for(var a=Math.min(e.length,t.length),o=0;o<a;o++){var s=e[o];t[o][n]=i?r(s):s}},d.mergeArrayCastPositive=function(e,t,n){return d.mergeArray(e,t,n,function(e){var t=+e;return isFinite(t)&&t>0?t:0})},d.fillArray=function(e,t,n,r){if(r||=d.identity,d.isArrayOrTypedArray(e))for(var i=0;i<t.length;i++)t[i][n]=r(e[i])},d.castOption=function(e,t,n,r){r||=d.identity;var i=d.nestedProperty(e,n).get();return d.isArrayOrTypedArray(i)?Array.isArray(t)&&d.isArrayOrTypedArray(i[t[0]])?r(i[t[0]][t[1]]):r(i[t]):i},d.extractOption=function(e,t,n,r){if(n in e)return e[n];var i=d.nestedProperty(t,r).get();if(!Array.isArray(i))return i};function D(e){var t={};for(var n in e)for(var r=e[n],i=0;i<r.length;i++)t[r[i]]=+n;return t}d.tagSelected=function(e,t,n){var r=t.selectedpoints,i=t._indexToPoints,a;i&&(a=D(i));function o(t){return t!==void 0&&t<e.length}for(var s=0;s<r.length;s++){var c=r[s];if(d.isIndex(c)||d.isArrayOrTypedArray(c)&&d.isIndex(c[0])&&d.isIndex(c[1])){var l=a?a[c]:c,u=n?n[l]:l;o(u)&&(e[u].selected=1)}}},d.selIndices2selPoints=function(e){var t=e.selectedpoints,n=e._indexToPoints;if(n){for(var r=D(n),i=[],a=0;a<t.length;a++){var o=t[a];if(d.isIndex(o)){var s=r[o];d.isIndex(s)&&i.push(s)}}return i}else return t},d.getTargetArray=function(e,t){var n=t.target;if(typeof n==`string`&&n){var r=d.nestedProperty(e,n).get();return Array.isArray(r)?r:!1}else if(Array.isArray(n))return n;return!1},d.minExtend=function(e,t){var n={};typeof t!=`object`&&(t={});var r=3,i=Object.keys(e),a,o,s;for(a=0;a<i.length;a++)o=i[a],s=e[o],!(o.charAt(0)===`_`||typeof s==`function`)&&(o===`module`?n[o]=s:Array.isArray(s)?o===`colorscale`?n[o]=s.slice():n[o]=s.slice(0,r):d.isTypedArray(s)?n[o]=s.subarray(0,r):s&&typeof s==`object`?n[o]=d.minExtend(e[o],t[o]):n[o]=s);for(i=Object.keys(t),a=0;a<i.length;a++)o=i[a],s=t[o],(typeof s!=`object`||!(o in n)||typeof n[o]!=`object`)&&(n[o]=s);return n},d.titleCase=function(e){return e.charAt(0).toUpperCase()+e.substr(1)},d.containsAny=function(e,t){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])!==-1)return!0;return!1},d.isIE=function(){return window.navigator.msSaveBlob!==void 0};var O=/Version\/[\d\.]+.*Safari/;d.isSafari=function(){return O.test(window.navigator.userAgent)};var k=/iPad|iPhone|iPod/;d.isIOS=function(){return k.test(window.navigator.userAgent)};var A=/Firefox\/(\d+)\.\d+/;d.getFirefoxVersion=function(){var e=A.exec(window.navigator.userAgent);if(e&&e.length===2){var t=parseInt(e[1]);if(!isNaN(t))return t}return null},d.isD3Selection=function(e){return e instanceof r.selection},d.ensureSingle=function(e,t,n,r){var i=e.select(t+(n?`.`+n:``));if(i.size())return i;var a=e.append(t);return n&&a.classed(n,!0),r&&a.call(r),a},d.ensureSingleById=function(e,t,n,r){var i=e.select(t+`#`+n);if(i.size())return i;var a=e.append(t).attr(`id`,n);return r&&a.call(r),a},d.objectFromPath=function(e,t){for(var n=e.split(`.`),r,i=r={},a=0;a<n.length;a++){var o=n[a],s=null,c=n[a].match(/(.*)\[([0-9]+)\]/);c?(o=c[1],s=c[2],r=r[o]=[],a===n.length-1?r[s]=t:r[s]={},r=r[s]):(a===n.length-1?r[o]=t:r[o]={},r=r[o])}return i};var j=/^([^\[\.]+)\.(.+)?/,M=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;d.expandObjectPaths=function(e){var t,n,r,i,a,o,s;if(typeof e==`object`&&!Array.isArray(e))for(n in e)e.hasOwnProperty(n)&&((t=n.match(j))?(i=e[n],r=t[1],delete e[n],e[r]=d.extendDeepNoArrays(e[r]||{},d.objectFromPath(n,d.expandObjectPaths(i))[r])):(t=n.match(M))?(i=e[n],r=t[1],a=parseInt(t[2]),delete e[n],e[r]=e[r]||[],t[3]===`.`?(s=t[4],o=e[r][a]=e[r][a]||{},d.extendDeepNoArrays(o,d.objectFromPath(s,d.expandObjectPaths(i)))):e[r][a]=d.expandObjectPaths(i)):e[n]=d.expandObjectPaths(e[n]));return e},d.numSeparate=function(e,t,n){if(n||=!1,typeof t!=`string`||t.length===0)throw Error(`Separator string required for formatting!`);typeof e==`number`&&(e=String(e));var r=/(\d+)(\d{3})/,i=t.charAt(0),a=t.charAt(1),o=e.split(`.`),s=o[0],c=o.length>1?i+o[1]:``;if(a&&(o.length>1||s.length>4||n))for(;r.test(s);)s=s.replace(r,`$1`+a+`$2`);return s+c},d.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var N=/^\w*$/;d.templateString=function(e,t){var n={};return e.replace(d.TEMPLATE_STRING_REGEX,function(e,r){var i;return N.test(r)?i=t[r]:(n[r]=n[r]||d.nestedProperty(t,r).get,i=n[r]()),d.isValidTextValue(i)?i:``})};var P={max:10,count:0,name:`hovertemplate`};d.hovertemplateString=function(){return L.apply(P,arguments)};var F={max:10,count:0,name:`texttemplate`};d.texttemplateString=function(){return L.apply(F,arguments)};var I=/^[:|\|]/;function L(e,t,n){var r=this,a=arguments;t||={};var o={};return e.replace(d.TEMPLATE_STRING_REGEX,function(e,s,c){var l=s===`xother`||s===`yother`,u=s===`_xother`||s===`_yother`,f=s===`_xother_`||s===`_yother_`,p=s===`xother_`||s===`yother_`,m=l||u||p||f,h=s;(u||f)&&(h=h.substring(1)),(p||f)&&(h=h.substring(0,h.length-1));var g;if(m){if(g=t[h],g===void 0)return``}else{var _,v;for(v=3;v<a.length;v++)if(_=a[v],_){if(_.hasOwnProperty(h)){g=_[h];break}if(N.test(h)||(g=d.nestedProperty(_,h).get(),g=o[h]||d.nestedProperty(_,h).get(),g&&(o[h]=g)),g!==void 0)break}}if(g===void 0&&r)return r.count<r.max&&(d.warn(`Variable '`+h+`' in `+r.name+` could not be found!`),g=e),r.count===r.max&&d.warn(`Too many `+r.name+` warnings - additional warnings will be suppressed`),r.count++,e;if(c){var y;if(c[0]===`:`&&(y=n?n.numberFormat:d.numberFormat,g=y(c.replace(I,``))(g)),c[0]===`|`){y=n?n.timeFormat:i;var b=d.dateTime2ms(g);g=d.formatDate(b,c.replace(I,``),!1,y)}}else{var x=h+`Label`;t.hasOwnProperty(x)&&(g=t[x])}return m&&(g=`(`+g+`)`,(u||f)&&(g=` `+g),(p||f)&&(g+=` `)),g})}var R=48,z=57;d.subplotSort=function(e,t){for(var n=Math.min(e.length,t.length)+1,r=0,i=0,a=0;a<n;a++){var o=e.charCodeAt(a)||0,s=t.charCodeAt(a)||0,c=o>=R&&o<=z,l=s>=R&&s<=z;if(c&&(r=10*r+o-R),l&&(i=10*i+s-R),!c||!l){if(r!==i)return r-i;if(o!==s)return o-s}}return i-r};var B=2e9;d.seedPseudoRandom=function(){B=2e9},d.pseudoRandom=function(){var e=B;return B=(69069*B+1)%4294967296,Math.abs(B-e)<429496729?d.pseudoRandom():B/4294967296},d.fillText=function(e,t,n){var r=Array.isArray(n)?function(e){n.push(e)}:function(e){n.text=e},i=d.extractOption(e,t,`htx`,`hovertext`);if(d.isValidTextValue(i))return r(i);var a=d.extractOption(e,t,`tx`,`text`);if(d.isValidTextValue(a))return r(a)},d.isValidTextValue=function(e){return e||e===0},d.formatPercent=function(e,t){t||=0;for(var n=(Math.round(100*e*10**t)*.1**t).toFixed(t)+`%`,r=0;r<t;r++)n.indexOf(`.`)!==-1&&(n=n.replace(`0%`,`%`),n=n.replace(`.%`,`%`));return n},d.isHidden=function(e){var t=window.getComputedStyle(e).display;return!t||t===`none`},d.strTranslate=function(e,t){return e||t?`translate(`+e+`,`+t+`)`:``},d.strRotate=function(e){return e?`rotate(`+e+`)`:``},d.strScale=function(e){return e===1?``:`scale(`+e+`)`},d.getTextTransform=function(e){var t=e.noCenter,n=e.textX,r=e.textY,i=e.targetX,a=e.targetY,o=e.anchorX||0,s=e.anchorY||0,c=e.rotate,l=e.scale;return l?l>1&&(l=1):l=0,d.strTranslate(i-l*(n+o),a-l*(r+s))+d.strScale(l)+(c?`rotate(`+c+(t?``:` `+n+` `+r)+`)`:``)},d.setTransormAndDisplay=function(e,t){e.attr(`transform`,d.getTextTransform(t)),e.style(`display`,t.scale?null:`none`)},d.ensureUniformFontSize=function(e,t){var n=d.extendFlat({},t);return n.size=Math.max(t.size,e._fullLayout.uniformtext.minsize||0),n},d.join2=function(e,t,n){var r=e.length;return r>1?e.slice(0,-1).join(t)+n+e[r-1]:e.join(t)},d.bigFont=function(e){return Math.round(1.2*e)};var V=d.getFirefoxVersion(),H=V!==null&&V<86;d.getPositionFromD3Event=function(){return H?[r.event.layerX,r.event.layerY]:[r.event.offsetX,r.event.offsetY]}}),41965:(function(e){e.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)===`[object Object]`:Object.prototype.toString.call(e)===`[object Object]`&&Object.getPrototypeOf(e).hasOwnProperty(`hasOwnProperty`)}}),66636:(function(e,t,n){var r=n(65487),i=/^\w*$/,a=0,o=1,s=2,c=3,l=4;e.exports=function(e,t,n,u){n||=`name`,u||=`value`;var d,f,p,m={};t&&t.length?(p=r(e,t),f=p.get()):f=e,t||=``;var h={};if(f)for(d=0;d<f.length;d++)h[f[d][n]]=d;var g=i.test(u),_={set:function(e,t){var i=t===null?l:a;if(!f){if(!p||i===l)return;f=[],p.set(f)}var o=h[e];if(o===void 0){if(i===l)return;i|=c,o=f.length,h[e]=o}else t!==(g?f[o][u]:r(f[o],u).get())&&(i|=s);var d=f[o]=f[o]||{};return d[n]=e,g?d[u]=t:r(d,u).set(t),t!==null&&(i&=~l),m[o]=m[o]|i,_},get:function(e){if(f){var t=h[e];if(t!==void 0)return g?f[t][u]:r(f[t],u).get()}},rename:function(e,t){var r=h[e];return r===void 0?_:(m[r]=m[r]|o,h[t]=r,delete h[e],f[r][n]=t,_)},remove:function(e){var t=h[e];if(t===void 0)return _;var i=f[t];if(Object.keys(i).length>2)return m[t]=m[t]|s,_.set(e,null);if(g){for(d=t;d<f.length;d++)m[d]=m[d]|c;for(d=t;d<f.length;d++)h[f[d][n]]--;f.splice(t,1),delete h[e]}else r(i,u).set(null),m[t]=m[t]|s|l;return _},constructUpdate:function(){for(var e,i,a={},c=Object.keys(m),d=0;d<c.length;d++)i=c[d],e=t+`[`+i+`]`,f[i]?(m[i]&o&&(a[e+`.`+n]=f[i][n]),m[i]&s&&(g?a[e+`.`+u]=m[i]&l?null:f[i][u]:a[e+`.`+u]=m[i]&l?null:r(f[i],u).get())):a[e]=null;return a}};return _}}),15867:(function(e,t,n){var r=n(73972);e.exports=function(e,t){for(var n=e._context.locale,i=0;i<2;i++){for(var a=e._context.locales,o=0;o<2;o++){var s=(a[n]||{}).dictionary;if(s){var c=s[t];if(c)return c}a=r.localeRegistry}var l=n.split(`-`)[0];if(l===n)break;n=l}return t}}),47769:(function(e,t,n){var r=n(72075).dfltConfig,i=n(75046),a=e.exports={};a.log=function(){var e;if(r.logging>1){var t=[`LOG:`];for(e=0;e<arguments.length;e++)t.push(arguments[e]);console.trace.apply(console,t)}if(r.notifyOnLogging>1){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join(`<br>`),`long`)}},a.warn=function(){var e;if(r.logging>0){var t=[`WARN:`];for(e=0;e<arguments.length;e++)t.push(arguments[e]);console.trace.apply(console,t)}if(r.notifyOnLogging>0){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join(`<br>`),`stick`)}},a.error=function(){var e;if(r.logging>0){var t=[`ERROR:`];for(e=0;e<arguments.length;e++)t.push(arguments[e]);console.error.apply(console,t)}if(r.notifyOnLogging>0){var n=[];for(e=0;e<arguments.length;e++)n.push(arguments[e]);i(n.join(`<br>`),`stick`)}}}),77310:(function(e,t,n){var r=n(39898);e.exports=function(e,t,n){var i=e.selectAll(`g.`+n.replace(/\s/g,`.`)).data(t,function(e){return e[0].trace.uid});i.exit().remove(),i.enter().append(`g`).attr(`class`,n),i.order();var a=e.classed(`rangeplot`)?`nodeRangePlot3`:`node3`;return i.each(function(e){e[0][a]=r.select(this)}),i}}),35657:(function(e,t,n){var r=n(79576);t.init2dArray=function(e,t){for(var n=Array(e),r=0;r<e;r++)n[r]=Array(t);return n},t.transposeRagged=function(e){var t=0,n=e.length,r,i;for(r=0;r<n;r++)t=Math.max(t,e[r].length);var a=Array(t);for(r=0;r<t;r++)for(a[r]=Array(n),i=0;i<n;i++)a[r][i]=e[i][r];return a},t.dot=function(e,n){if(!(e.length&&n.length)||e.length!==n.length)return null;var r=e.length,i,a;if(e[0].length)for(i=Array(r),a=0;a<r;a++)i[a]=t.dot(e[a],n);else if(n[0].length){var o=t.transposeRagged(n);for(i=Array(o.length),a=0;a<o.length;a++)i[a]=t.dot(e,o[a])}else for(i=0,a=0;a<r;a++)i+=e[a]*n[a];return i},t.translationMatrix=function(e,t){return[[1,0,e],[0,1,t],[0,0,1]]},t.rotationMatrix=function(e){var t=e*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},t.rotationXYMatrix=function(e,n,r){return t.dot(t.dot(t.translationMatrix(n,r),t.rotationMatrix(e)),t.translationMatrix(-n,-r))},t.apply3DTransform=function(e){return function(){var n=arguments,r=arguments.length===1?n[0]:[n[0],n[1],n[2]||0];return t.dot(e,[r[0],r[1],r[2],1]).slice(0,3)}},t.apply2DTransform=function(e){return function(){var n=arguments;n.length===3&&(n=n[0]);var r=arguments.length===1?n[0]:[n[0],n[1]];return t.dot(e,[r[0],r[1],1]).slice(0,2)}},t.apply2DTransform2=function(e){var n=t.apply2DTransform(e);return function(e){return n(e.slice(0,2)).concat(n(e.slice(2,4)))}},t.convertCssMatrix=function(e){if(e){var t=e.length;if(t===16)return e;if(t===6)return[e[0],e[1],0,0,e[2],e[3],0,0,0,0,1,0,e[4],e[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},t.inverseTransformMatrix=function(e){var t=[];return r.invert(t,e),[[t[0],t[1],t[2],t[3]],[t[4],t[5],t[6],t[7]],[t[8],t[9],t[10],t[11]],[t[12],t[13],t[14],t[15]]]}}),64872:(function(e){function t(e,t){var n=e%t;return n<0?n+t:n}function n(e,t){return Math.abs(e)>t/2?e-Math.round(e/t)*t:e}e.exports={mod:t,modHalf:n}}),65487:(function(e,t,n){var r=n(92770),i=n(73627).isArrayOrTypedArray;e.exports=function(e,t){if(r(t))t=String(t);else if(typeof t!=`string`||t.substr(t.length-4)===`[-1]`)throw`bad property string`;for(var n=0,i=t.split(`.`),o,s,l;n<i.length;){if(o=String(i[n]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),o){if(o[1])i[n]=o[1];else if(n===0)i.splice(0,1);else throw`bad property string`;for(s=o[2].substr(1,o[2].length-2).split(`][`),l=0;l<s.length;l++)n++,i.splice(n,0,Number(s[l]))}n++}return typeof e==`object`?{set:c(e,i,t),get:a(e,i),astr:t,parts:i,obj:e}:f(e,t,i)};function a(e,t){return function(){var n=e,r,o,s,c,l;for(c=0;c<t.length-1;c++){if(r=t[c],r===-1){for(o=!0,s=[],l=0;l<n.length;l++)s[l]=a(n[l],t.slice(c+1))(),s[l]!==s[0]&&(o=!1);return o?s[0]:s}if(typeof r==`number`&&!i(n)||(n=n[r],typeof n!=`object`||!n))return}if(!(typeof n!=`object`||!n)&&(s=n[t[c]],s!==null))return s}}var o=/(^|\.)args\[/;function s(e,t){return e===void 0||e===null&&!t.match(o)}function c(e,t,n){return function(r){var a=e,o=``,c=[[e,o]],f=s(r,n),p,m;for(m=0;m<t.length-1;m++){if(p=t[m],typeof p==`number`&&!i(a))throw`array index but container is not an array`;if(p===-1){if(f=!u(a,t.slice(m+1),r,n),f)break;return}if(!d(a,p,t[m+1],f))break;if(a=a[p],typeof a!=`object`||!a)throw`container is not an object`;o=l(o,p),c.push([a,o])}if(f){if(m===t.length-1&&(delete a[t[m]],Array.isArray(a)&&+t[m]==a.length-1))for(;a.length&&a[a.length-1]===void 0;)a.pop()}else a[t[m]]=r}}function l(e,t){var n=t;return r(t)?n=`[`+t+`]`:e&&(n=`.`+t),e+n}function u(e,t,n,r){var a=i(n),o=!0,l=n,u=r.replace(`-1`,0),f=a?!1:s(n,u),p=t[0],m;for(m=0;m<e.length;m++)u=r.replace(`-1`,m),a&&(l=n[m%n.length],f=s(l,u)),f&&(o=!1),d(e,m,p,f)&&c(e[m],t,r.replace(`-1`,m))(l);return o}function d(e,t,n,r){if(e[t]===void 0){if(r)return!1;typeof n==`number`?e[t]=[]:e[t]={}}return!0}function f(e,t,n){return{set:function(){throw`bad container`},get:function(){},astr:t,parts:n,obj:e}}}),64213:(function(e){e.exports=function(){}}),75046:(function(e,t,n){var r=n(39898),i=n(92770),a=[];e.exports=function(e,t){if(a.indexOf(e)!==-1)return;a.push(e);var n=1e3;i(t)?n=t:t===`long`&&(n=3e3);var o=r.select(`body`).selectAll(`.plotly-notifier`).data([0]);o.enter().append(`div`).classed(`plotly-notifier`,!0);var s=o.selectAll(`.notifier-note`).data(a);function c(e){e.duration(700).style(`opacity`,0).each(`end`,function(e){var t=a.indexOf(e);t!==-1&&a.splice(t,1),r.select(this).remove()})}s.enter().append(`div`).classed(`notifier-note`,!0).style(`opacity`,0).each(function(e){var i=r.select(this);i.append(`button`).classed(`notifier-close`,!0).html(`&times;`).on(`click`,function(){i.transition().call(c)});for(var a=i.append(`p`),o=e.split(/<br\s*\/?>/g),s=0;s<o.length;s++)s&&a.append(`br`),a.append(`span`).text(o[s]);t===`stick`?i.transition().duration(350).style(`opacity`,1):i.transition().duration(700).style(`opacity`,1).transition().delay(n).call(c)})}}),39918:(function(e,t,n){var r=n(6964),i=`data-savedcursor`,a=`!!`;e.exports=function(e,t){var n=e.attr(i);if(t){if(!n){for(var o=(e.attr(`class`)||``).split(` `),s=0;s<o.length;s++){var c=o[s];c.indexOf(`cursor-`)===0&&e.attr(i,c.substr(7)).classed(c,!1)}e.attr(i)||e.attr(i,a)}r(e,t)}else n&&(e.attr(i,null),n===a?r(e):r(e,n))}}),61082:(function(e,t,n){var r=n(35657).dot,i=n(50606).BADNUM,a=e.exports={};a.tester=function(e){var t=e.slice(),n=t[0][0],r=n,a=t[0][1],o=a,s;for((t[t.length-1][0]!==t[0][0]||t[t.length-1][1]!==t[0][1])&&t.push(t[0]),s=1;s<t.length;s++)n=Math.min(n,t[s][0]),r=Math.max(r,t[s][0]),a=Math.min(a,t[s][1]),o=Math.max(o,t[s][1]);var c=!1,l;t.length===5&&(t[0][0]===t[1][0]?t[2][0]===t[3][0]&&t[0][1]===t[3][1]&&t[1][1]===t[2][1]&&(c=!0,l=function(e){return e[0]===t[0][0]}):t[0][1]===t[1][1]&&t[2][1]===t[3][1]&&t[0][0]===t[3][0]&&t[1][0]===t[2][0]&&(c=!0,l=function(e){return e[1]===t[0][1]}));function u(e,t){var s=e[0],c=e[1];return!(s===i||s<n||s>r||c===i||c<a||c>o||t&&l(e))}function d(e,s){var c=e[0],l=e[1];if(c===i||c<n||c>r||l===i||l<a||l>o)return!1;var u=t.length,d=t[0][0],f=t[0][1],p=0,m,h,g,_,v;for(m=1;m<u;m++)if(h=d,g=f,d=t[m][0],f=t[m][1],_=Math.min(h,d),!(c<_||c>Math.max(h,d)||l>Math.max(g,f)))if(l<Math.min(g,f))c!==_&&p++;else{if(v=d===h?l:g+(c-h)*(f-g)/(d-h),l===v)return!(m===1&&s);l<=v&&c!==_&&p++}return p%2==1}var f=!0,p=t[0];for(s=1;s<t.length;s++)if(p[0]!==t[s][0]||p[1]!==t[s][1]){f=!1;break}return{xmin:n,xmax:r,ymin:a,ymax:o,pts:t,contains:c?u:d,isRect:c,degenerate:f}},a.isSegmentBent=function(e,t,n,i){var a=e[t],o=[e[n][0]-a[0],e[n][1]-a[1]],s=r(o,o),c=Math.sqrt(s),l=[-o[1]/c,o[0]/c],u,d,f;for(u=t+1;u<n;u++)if(d=[e[u][0]-a[0],e[u][1]-a[1]],f=r(d,o),f<0||f>s||Math.abs(r(d,l))>i)return!0;return!1},a.filter=function(e,t){var n=[e[0]],r=0,i=0;function o(o){e.push(o);var s=n.length,c=r;n.splice(i+1);for(var l=c+1;l<e.length;l++)(l===e.length-1||a.isSegmentBent(e,c,l+1,t))&&(n.push(e[l]),n.length<s-2&&(r=l,i=n.length-1),c=l)}return e.length>1&&o(e.pop()),{addPt:o,raw:e,filtered:n}}}),79749:(function(e,t,n){var r=n(58617),i=n(98580);e.exports=function(e,t,a){var o=e._fullLayout,s=!0;return o._glcanvas.each(function(r){if(r.regl){r.regl.preloadCachedCode(a);return}if(!(r.pick&&!o._has(`parcoords`))){try{r.regl=i({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:e._context.plotGlPixelRatio||n.g.devicePixelRatio,extensions:t||[],cachedCode:a||{}})}catch{s=!1}r.regl||(s=!1),s&&this.addEventListener(`webglcontextlost`,function(t){e&&e.emit&&e.emit(`plotly_webglcontextlost`,{event:t,layer:r.key})},!1)}}),s||r({container:o._glcontainer.node()}),s}}),45142:(function(e,t,n){var r=n(92770),i=n(35791);e.exports=function(e){var t=e&&e.hasOwnProperty(`userAgent`)?e.userAgent:a();if(typeof t!=`string`)return!0;var n=i({ua:{headers:{"user-agent":t}},tablet:!0,featureDetect:!1});if(!n){for(var o=t.split(` `),s=1;s<o.length;s++)if(o[s].indexOf(`Safari`)!==-1)for(var c=s-1;c>-1;c--){var l=o[c];if(l.substr(0,8)===`Version/`){var u=l.substr(8).split(`.`)[0];if(r(u)&&(u=+u),u>=13)return!0}}}return n};function a(){var e;return typeof navigator<`u`&&(e=navigator.userAgent),e&&e.headers&&typeof e.headers[`user-agent`]==`string`&&(e=e.headers[`user-agent`]),e}}),75138:(function(e){e.exports=function(e,t){if(t instanceof RegExp){for(var n=t.toString(),r=0;r<e.length;r++)if(e[r]instanceof RegExp&&e[r].toString()===n)return e;e.push(t)}else (t||t===0)&&e.indexOf(t)===-1&&e.push(t);return e}}),10847:(function(e,t,n){var r=n(71828),i=n(72075).dfltConfig;function a(e,t){for(var n=[],i,a=0;a<t.length;a++)i=t[a],i===e?n[a]=i:typeof i==`object`?n[a]=Array.isArray(i)?r.extendDeep([],i):r.extendDeepAll({},i):n[a]=i;return n}var o={};o.add=function(e,t,n,r,a){var o,s;if(e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},s=e.undoQueue.index,e.autoplay){e.undoQueue.inSequence||(e.autoplay=!1);return}!e.undoQueue.sequence||e.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},e.undoQueue.queue.splice(s,e.undoQueue.queue.length-s,o),e.undoQueue.index+=1):o=e.undoQueue.queue[s-1],e.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(t),o.undo.args.unshift(n),o.redo.calls.push(r),o.redo.args.push(a)),e.undoQueue.queue.length>i.queueLength&&(e.undoQueue.queue.shift(),e.undoQueue.index--)},o.startSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!0,e.undoQueue.beginSequence=!0},o.stopSequence=function(e){e.undoQueue=e.undoQueue||{index:0,queue:[],sequence:!1},e.undoQueue.sequence=!1,e.undoQueue.beginSequence=!1},o.undo=function(e){var t,n;if(!(e.undoQueue===void 0||isNaN(e.undoQueue.index)||e.undoQueue.index<=0)){for(e.undoQueue.index--,t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.undo.calls.length;n++)o.plotDo(e,t.undo.calls[n],t.undo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1}},o.redo=function(e){var t,n;if(!(e.undoQueue===void 0||isNaN(e.undoQueue.index)||e.undoQueue.index>=e.undoQueue.queue.length)){for(t=e.undoQueue.queue[e.undoQueue.index],e.undoQueue.inSequence=!0,n=0;n<t.redo.calls.length;n++)o.plotDo(e,t.redo.calls[n],t.redo.args[n]);e.undoQueue.inSequence=!1,e.autoplay=!1,e.undoQueue.index++}},o.plotDo=function(e,t,n){e.autoplay=!0,n=a(e,n),t.apply(null,n)},e.exports=o}),30587:(function(e,t){t.counter=function(e,t,n,r){var i=(t||``)+(n?``:`$`),a=r===!1?``:`^`;return e===`xy`?RegExp(a+`x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?`+i):RegExp(a+e+`([2-9]|[1-9][0-9]+)?`+i)}}),6962:(function(e){var t=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,n=/^[^\.\[\]]+$/;e.exports=function(e,r){for(;r;){var i=e.match(t);if(i)e=i[1];else if(e.match(n))e=``;else throw Error(`bad relativeAttr call:`+[e,r]);if(r.charAt(0)===`^`)r=r.slice(1);else break}return e&&r.charAt(0)!==`[`?e+`.`+r:e+r}}),51332:(function(e,t,n){var r=n(73627).isArrayOrTypedArray,i=n(41965);e.exports=function e(t,n){for(var a in n){var o=n[a],s=t[a];if(s!==o)if(a.charAt(0)===`_`||typeof o==`function`){if(a in t)continue;t[a]=o}else if(r(o)&&r(s)&&i(o[0])){if(a===`customdata`||a===`ids`)continue;for(var c=Math.min(o.length,s.length),l=0;l<c;l++)s[l]!==o[l]&&i(o[l])&&i(s[l])&&e(s[l],o[l])}else i(o)&&i(s)&&(e(s,o),Object.keys(s).length||delete t[a])}}}),65888:(function(e,t,n){var r=n(92770),i=n(47769),a=n(23389),o=n(50606).BADNUM,s=1e-9;t.findBin=function(e,t,n){if(r(t.start))return n?Math.ceil((e-t.start)/t.size-s)-1:Math.floor((e-t.start)/t.size+s);var a=0,o=t.length,f=0,p=o>1?(t[o-1]-t[0])/(o-1):1,m,h=p>=0?n?c:l:n?d:u;for(e+=p*s*(n?-1:1)*(p>=0?1:-1);a<o&&f++<100;)m=Math.floor((a+o)/2),h(t[m],e)?a=m+1:o=m;return f>90&&i.log(`Long binary search...`),a-1};function c(e,t){return e<t}function l(e,t){return e<=t}function u(e,t){return e>t}function d(e,t){return e>=t}t.sorterAsc=function(e,t){return e-t},t.sorterDes=function(e,t){return t-e},t.distinctVals=function(e){var n=e.slice();n.sort(t.sorterAsc);var r;for(r=n.length-1;r>-1&&n[r]===o;r--);for(var i=n[r]-n[0]||1,a=i/(r||1)/1e4,s=[],c,l=0;l<=r;l++){var u=n[l],d=u-c;c===void 0?(s.push(u),c=u):d>a&&(i=Math.min(i,d),s.push(u),c=u)}return{vals:s,minDiff:i}},t.roundUp=function(e,t,n){for(var r=0,i=t.length-1,a,o=0,s=n?0:1,c=n?1:0,l=n?Math.ceil:Math.floor;r<i&&o++<100;)a=l((r+i)/2),t[a]<=e?r=a+s:i=a-c;return t[r]},t.sort=function(e,t){for(var n=0,r=0,i=1;i<e.length;i++){var a=t(e[i],e[i-1]);if(a<0?n=1:a>0&&(r=1),n&&r)return e.sort(t)}return r?e:e.reverse()},t.findIndexOfMin=function(e,t){t||=a;for(var n=1/0,r,i=0;i<e.length;i++){var o=t(e[i]);o<n&&(n=o,r=i)}return r}}),6964:(function(e){e.exports=function(e,t){(e.attr(`class`)||``).split(` `).forEach(function(t){t.indexOf(`cursor-`)===0&&e.classed(t,!1)}),t&&e.classed(`cursor-`+t,!0)}}),58617:(function(e,t,n){var r=n(7901),i=function(){};e.exports=function(e){for(var t in e)typeof e[t]==`function`&&(e[t]=i);e.destroy=function(){e.container.parentNode.removeChild(e.container)};var n=document.createElement(`div`);n.className=`no-webgl`,n.style.cursor=`pointer`,n.style.fontSize=`24px`,n.style.color=r.defaults[0],n.style.position=`absolute`,n.style.left=n.style.top=`0px`,n.style.width=n.style.height=`100%`,n.style[`background-color`]=r.lightLine,n.style[`z-index`]=30;var a=document.createElement(`p`);return a.textContent=`WebGL is not supported by your browser - visit https://get.webgl.org for more info`,a.style.position=`relative`,a.style.top=`50%`,a.style.left=`50%`,a.style.height=`30%`,a.style.width=`50%`,a.style.margin=`-15% 0 0 -25%`,n.appendChild(a),e.container.appendChild(n),e.container.style.background=`#FFFFFF`,e.container.onclick=function(){window.open(`https://get.webgl.org`)},!1}}),78607:(function(e){e.exports=function(e){return Object.keys(e).sort()}}),80038:(function(e,t,n){var r=n(92770),i=n(73627).isArrayOrTypedArray;t.aggNums=function(e,n,a,o){var s,c;if((!o||o>a.length)&&(o=a.length),r(n)||(n=!1),i(a[0])){for(c=Array(o),s=0;s<o;s++)c[s]=t.aggNums(e,n,a[s]);a=c}for(s=0;s<o;s++)r(n)?r(a[s])&&(n=e(+n,+a[s])):n=a[s];return n},t.len=function(e){return t.aggNums(function(e){return e+1},0,e)},t.mean=function(e,n){return n||=t.len(e),t.aggNums(function(e,t){return e+t},0,e)/n},t.midRange=function(e){if(!(e===void 0||e.length===0))return(t.aggNums(Math.max,null,e)+t.aggNums(Math.min,null,e))/2},t.variance=function(e,n,i){return n||=t.len(e),r(i)||(i=t.mean(e,n)),t.aggNums(function(e,t){return e+(t-i)**2},0,e)/n},t.stdev=function(e,n,r){return Math.sqrt(t.variance(e,n,r))},t.median=function(e){var n=e.slice().sort();return t.interp(n,.5)},t.interp=function(e,t){if(!r(t))throw`n should be a finite number`;if(t=t*e.length-.5,t<0)return e[0];if(t>e.length-1)return e[e.length-1];var n=t%1;return n*e[Math.ceil(t)]+(1-n)*e[Math.floor(t)]}}),78614:(function(e,t,n){var r=n(25075);function i(e){return e?r(e):[0,0,0,1]}e.exports=i}),63893:(function(e,t,n){var r=n(39898),i=n(71828),a=i.strTranslate,o=n(77922),s=n(18783).LINE_SPACING,c=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;t.convertToTspans=function(e,n,i){var o=e.text(),s=!e.attr(`data-notex`)&&n&&n._context.typesetMath&&typeof MathJax<`u`&&o.match(c),l=r.select(e.node().parentNode);if(l.empty())return;var u=e.attr(`class`)?e.attr(`class`).split(` `)[0]:`text`;u+=`-math`,l.selectAll(`svg.`+u).remove(),l.selectAll(`g.`+u+`-group`).remove(),e.style(`display`,null).attr({"data-unformatted":o,"data-math":`N`});function d(){l.empty()||(u=e.attr(`class`)+`-math`,l.select(`svg.`+u).remove()),e.text(``).style(`white-space`,`pre`),N(e.node(),o)&&e.style(`pointer-events`,`all`),t.positionText(e),i&&i.call(e)}return s?(n&&n._promises||[]).push(new Promise(function(t){e.style(`display`,`none`);var n=parseInt(e.node().style.fontSize,10),r={fontSize:n};p(s[2],r,function(r,s,c){l.selectAll(`svg.`+u).remove(),l.selectAll(`g.`+u+`-group`).remove();var f=r&&r.select(`svg`);if(!f||!f.node()){d(),t();return}var p=l.append(`g`).classed(u+`-group`,!0).attr({"pointer-events":`none`,"data-unformatted":o,"data-math":`Y`});p.node().appendChild(f.node()),s&&s.node()&&f.node().insertBefore(s.node().cloneNode(!0),f.node().firstChild);var m=c.width,h=c.height;f.attr({class:u,height:h,preserveAspectRatio:`xMinYMin meet`}).style({overflow:`visible`,"pointer-events":`none`});var g=e.node().style.fill||`black`,_=f.select(`g`);_.attr({fill:g,stroke:g});var v=_.node().getBoundingClientRect(),y=v.width,b=v.height;(y>m||b>h)&&(f.style(`overflow`,`hidden`),v=f.node().getBoundingClientRect(),y=v.width,b=v.height);var x=+e.attr(`x`),S=+e.attr(`y`),C=-(n||e.node().getBoundingClientRect().height)/4;if(u[0]===`y`)p.attr({transform:`rotate(`+[-90,x,S]+`)`+a(-y/2,C-b/2)});else if(u[0]===`l`)S=C-b/2;else if(u[0]===`a`&&u.indexOf(`atitle`)!==0)x=0,S=C;else{var w=e.attr(`text-anchor`);x-=y*(w===`middle`?.5:w===`end`?1:0),S=S+C-b/2}f.attr({x,y:S}),i&&i.call(e,p),t(p)})})):d(),e};var l=/(<|&lt;|&#60;)/g,u=/(>|&gt;|&#62;)/g;function d(e){return e.replace(l,`\\lt `).replace(u,`\\gt `)}var f=[[`$`,`$`],[`\\(`,`\\)`]];function p(e,t,n){var a=parseInt((MathJax.version||``).split(`.`)[0]);if(a!==2&&a!==3){i.warn(`No MathJax version:`,MathJax.version);return}var o,s,c,l,u=function(){return s=i.extendDeepAll({},MathJax.Hub.config),c=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:`none`,tex2jax:{inlineMath:f},displayAlign:`left`})},p=function(){s=i.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=f},m=function(){if(o=MathJax.Hub.config.menuSettings.renderer,o!==`SVG`)return MathJax.Hub.setRenderer(`SVG`)},h=function(){o=MathJax.config.startup.output,o!==`svg`&&(MathJax.config.startup.output=`svg`)},g=function(){var n=`math-output-`+i.randstr({},64);l=r.select(`body`).append(`div`).attr({id:n}).style({visibility:`hidden`,position:`absolute`,"font-size":t.fontSize+`px`}).text(d(e));var o=l.node();return a===2?MathJax.Hub.Typeset(o):MathJax.typeset([o])},_=function(){var t=l.select(a===2?`.MathJax_SVG`:`.MathJax`),o=!t.empty()&&l.select(`svg`).node();if(!o)i.log(`There was an error in the tex syntax.`,e),n();else{var s=o.getBoundingClientRect();n(t,a===2?r.select(`body`).select(`#MathJax_SVG_glyphs`):t.select(`defs`),s)}l.remove()},v=function(){if(o!==`SVG`)return MathJax.Hub.setRenderer(o)},y=function(){o!==`svg`&&(MathJax.config.startup.output=o)},b=function(){return c!==void 0&&(MathJax.Hub.processSectionDelay=c),MathJax.Hub.Config(s)},x=function(){MathJax.config=s};a===2?MathJax.Hub.Queue(u,m,g,_,v,b):a===3&&(p(),h(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){g(),_(),y(),x()}))}var m={sup:`font-size:70%`,sub:`font-size:70%`,b:`font-weight:bold`,i:`font-style:italic`,a:`cursor:pointer`,span:``,em:`font-style:italic;font-weight:bold`},h={sub:`0.3em`,sup:`-0.6em`},g={sub:`-0.21em`,sup:`0.42em`},_=``,v=[`http:`,`https:`,`mailto:`,``,void 0,`:`],y=t.NEWLINES=/(\r\n?|\n)/g,b=/(<[^<>]*>)/,x=/<(\/?)([^ >]*)(\s+(.*))?>/i,S=/<br(\s+.*)?>/i;t.BR_TAG_ALL=/<br(\s+.*)?>/gi;var C=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,T=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,E=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function D(e,t){if(!e)return null;var n=e.match(t),r=n&&(n[3]||n[4]);return r&&j(r)}var O=/(^|;)\s*color:/;t.plainText=function(e,t){t||={};for(var n=t.len!==void 0&&t.len!==-1?t.len:1/0,r=t.allowedTags===void 0?[`br`]:t.allowedTags,i=`...`,a=i.length,o=e.split(b),s=[],c=``,l=0,u=0;u<o.length;u++){var d=o[u],f=d.match(x),p=f&&f[2].toLowerCase();if(p)r.indexOf(p)!==-1&&(s.push(d),c=p);else{var m=d.length;if(l+m<n)s.push(d),l+=m;else if(l<n){var h=n-l;c&&(c!==`br`||h<=a||m<=a)&&s.pop(),n>a?s.push(d.substr(0,h-a)+i):s.push(d.substr(0,h));break}c=``}}return s.join(``)};var k={mu:``,amp:`&`,lt:`<`,gt:`>`,nbsp:`\xA0`,times:``,plusmn:``,deg:``},A=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function j(e){return e.replace(A,function(e,t){return(t.charAt(0)===`#`?M(t.charAt(1)===`x`?parseInt(t.substr(2),16):parseInt(t.substr(1),10)):k[t])||e})}t.convertEntities=j;function M(e){if(!(e>1114111)){var t=String.fromCodePoint;if(t)return t(e);var n=String.fromCharCode;return e<=65535?n(e):n((e>>10)+55232,e%1024+56320)}}function N(e,t){t=t.replace(y,` `);var n=!1,a=[],c,l=-1;function u(){l++;var t=document.createElementNS(o.svg,`tspan`);r.select(t).attr({class:`line`,dy:l*s+`em`}),e.appendChild(t),c=t;var n=a;if(a=[{node:t}],n.length>1)for(var i=1;i<n.length;i++)d(n[i])}function d(e){var t=e.type,n={},i;if(t===`a`){i=`a`;var s=e.target,l=e.href,u=e.popup;l&&(n={"xlink:xlink:show":s===`_blank`||s.charAt(0)!==`_`?`new`:`replace`,target:s,"xlink:xlink:href":l},u&&(n.onclick=`window.open(this.href.baseVal,this.target.baseVal,"`+u+`");return false;`))}else i=`tspan`;e.style&&(n.style=e.style);var d=document.createElementNS(o.svg,i);if(t===`sup`||t===`sub`){f(c,_),c.appendChild(d);var p=document.createElementNS(o.svg,`tspan`);f(p,_),r.select(p).attr(`dy`,g[t]),n.dy=h[t],c.appendChild(d),c.appendChild(p)}else c.appendChild(d);r.select(d).attr(n),c=e.node=d,a.push(e)}function f(e,t){e.appendChild(document.createTextNode(t))}function p(e){if(a.length===1){i.log(`Ignoring unexpected end tag </`+e+`>.`,t);return}var n=a.pop();e!==n.type&&i.log(`Start tag <`+n.type+`> doesnt match end tag <`+e+`>. Pretending it did match.`,t),c=a[a.length-1].node}S.test(t)?u():(c=e,a=[{node:e}]);for(var v=t.split(b),k=0;k<v.length;k++){var A=v[k],M=A.match(x),N=M&&M[2].toLowerCase(),F=m[N];if(N===`br`)u();else if(F===void 0)f(c,j(A));else if(M[1])p(N);else{var I=M[4],L={type:N},R=D(I,C);if(R?(R=R.replace(O,`$1 fill:`),F&&(R+=`;`+F)):F&&(R=F),R&&(L.style=R),N===`a`){n=!0;var z=D(I,w);if(z){var B=P(z);B&&(L.href=B,L.target=D(I,T)||`_blank`,L.popup=D(I,E))}}d(L)}}return n}function P(e){var t=encodeURI(decodeURI(e)),n=document.createElement(`a`),r=document.createElement(`a`);n.href=e,r.href=t;var i=n.protocol,a=r.protocol;return v.indexOf(i)!==-1&&v.indexOf(a)!==-1?t:``}t.sanitizeHTML=function(e){e=e.replace(y,` `);for(var t=document.createElement(`p`),n=t,i=[],a=e.split(b),o=0;o<a.length;o++){var s=a[o],c=s.match(x),l=c&&c[2].toLowerCase();if(l in m)if(c[1])i.length&&(n=i.pop());else{var u=c[4],d=D(u,C),f=d?{style:d}:{};if(l===`a`){var p=D(u,w);if(p){var h=P(p);if(h){f.href=h;var g=D(u,T);g&&(f.target=g)}}}var _=document.createElement(l);n.appendChild(_),r.select(_).attr(f),n=_,i.push(_)}else n.appendChild(document.createTextNode(j(s)))}return t.innerHTML},t.lineCount=function(e){return e.selectAll(`tspan.line`).size()||1},t.positionText=function(e,t,n){return e.each(function(){var e=r.select(this);function i(t,n){return n===void 0?(n=e.attr(t),n===null&&(e.attr(t,0),n=0)):e.attr(t,n),n}var a=i(`x`,t),o=i(`y`,n);this.nodeName===`text`&&e.selectAll(`tspan.line`).attr({x:a,y:o})})};function F(e,t,n){var r=n.horizontalAlign,a=n.verticalAlign||`top`,o=e.node().getBoundingClientRect(),s=t.node().getBoundingClientRect(),c,l=a===`bottom`?function(){return o.bottom-c.height}:a===`middle`?function(){return o.top+(o.height-c.height)/2}:function(){return o.top},u=r===`right`?function(){return o.right-c.width}:r===`center`?function(){return o.left+(o.width-c.width)/2}:function(){return o.left};return function(){c=this.node().getBoundingClientRect();var e=u()-s.left,t=l()-s.top,r=n.gd||{};if(n.gd){r._fullLayout._calcInverseTransform(r);var a=i.apply3DTransform(r._fullLayout._invTransform)(e,t);e=a[0],t=a[1]}return this.style({top:t+`px`,left:e+`px`,"z-index":1e3}),this}}var I=`1px `;t.makeTextShadow=function(e){var t=I,n=I,r=I;return t+n+r+e+`, -`+t+`-`+n+r+e+`, `+t+`-`+n+r+e+`, -`+t+n+r+e},t.makeEditable=function(e,t){var n=t.gd,i=t.delegate,a=r.dispatch(`edit`,`input`,`cancel`),o=i||e;if(e.style({"pointer-events":i?`none`:`all`}),e.size()!==1)throw Error(`boo`);function s(){l(),e.style({opacity:0});var t=o.attr(`class`),n=t?`.`+t.split(` `)[0]+`-math-group`:`[class*=-math-group]`;n&&r.select(e.node().parentNode).select(n).style({opacity:0})}function c(e){var t=e.node(),n=document.createRange();n.selectNodeContents(t);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),t.focus()}function l(){var i=r.select(n).select(`.svg-container`),o=i.append(`div`),s=e.node().style,l=parseFloat(s.fontSize||12),u=t.text;u===void 0&&(u=e.attr(`data-unformatted`)),o.classed(`plugin-editable editable`,!0).style({position:`absolute`,"font-family":s.fontFamily||`Arial`,"font-size":l,color:t.fill||s.fill||`black`,opacity:1,"background-color":t.background||`transparent`,outline:`#ffffff33 1px solid`,margin:[-l/8+1,0,0,-1].join(`px `)+`px`,padding:`0`,"box-sizing":`border-box`}).attr({contenteditable:!0}).text(u).call(F(e,i,t)).on(`blur`,function(){n._editing=!1,e.text(this.textContent).style({opacity:1});var t=r.select(this).attr(`class`),i=t?`.`+t.split(` `)[0]+`-math-group`:`[class*=-math-group]`;i&&r.select(e.node().parentNode).select(i).style({opacity:0});var o=this.textContent;r.select(this).transition().duration(0).remove(),r.select(document).on(`mouseup`,null),a.edit.call(e,o)}).on(`focus`,function(){var e=this;n._editing=!0,r.select(document).on(`mouseup`,function(){if(r.event.target===e)return!1;document.activeElement===o.node()&&o.node().blur()})}).on(`keyup`,function(){r.event.which===27?(n._editing=!1,e.style({opacity:1}),r.select(this).style({opacity:0}).on(`blur`,function(){return!1}).transition().remove(),a.cancel.call(e,this.textContent)):(a.input.call(e,this.textContent),r.select(this).call(F(e,i,t)))}).on(`keydown`,function(){r.event.which===13&&this.blur()}).call(c)}return t.immediate?s():o.on(`click`,s),r.rebind(e,a,`on`)}}),79990:(function(e,t){var n={};t.throttle=function(e,t,i){var a=n[e],o=Date.now();if(!a){for(var s in n)n[s].ts<o-6e4&&delete n[s];a=n[e]={ts:0,timer:null}}r(a);function c(){i(),a.ts=Date.now(),a.onDone&&=(a.onDone(),null)}if(o>a.ts+t){c();return}a.timer=setTimeout(function(){c(),a.timer=null},t)},t.done=function(e){var t=n[e];return!t||!t.timer?Promise.resolve():new Promise(function(e){var n=t.onDone;t.onDone=function(){n&&n(),e(),t.onDone=null}})},t.clear=function(e){if(e)r(n[e]),delete n[e];else for(var i in n)t.clear(i)};function r(e){e&&e.timer!==null&&(clearTimeout(e.timer),e.timer=null)}}),58163:(function(e,t,n){var r=n(92770);e.exports=function(e,t){if(e>0)return Math.log(e)/Math.LN10;var n=Math.log(Math.min(t[0],t[1]))/Math.LN10;return r(n)||(n=Math.log(Math.max(t[0],t[1]))/Math.LN10-6),n}}),90973:(function(e,t,n){var r=e.exports={},i=n(78776).locationmodeToLayer,a=n(96892).zL;r.getTopojsonName=function(e){return[e.scope.replace(/ /g,`-`),`_`,e.resolution.toString(),`m`].join(``)},r.getTopojsonPath=function(e,t){return e+t+`.json`},r.getTopojsonFeatures=function(e,t){var n=i[e.locationmode],r=t.objects[n];return a(t,r).features}}),37815:(function(e){e.exports={moduleType:`locale`,name:`en-US`,dictionary:{"Click to enter Colorscale title":`Click to enter Colorscale title`},format:{date:`%m/%d/%Y`}}}),92177:(function(e){e.exports={moduleType:`locale`,name:`en`,dictionary:{"Click to enter Colorscale title":`Click to enter Colourscale title`},format:{days:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`],shortDays:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],months:[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],shortMonths:[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],periods:[`AM`,`PM`],dateTime:`%a %b %e %X %Y`,date:`%d/%m/%Y`,time:`%H:%M:%S`,decimal:`.`,thousands:`,`,grouping:[3],currency:[`$`,``],year:`%Y`,month:`%b %Y`,dayMonth:`%b %-d`,dayMonthYear:`%b %-d, %Y`}}}),14458:(function(e,t,n){var r=n(73972);e.exports=function(e){for(var t=r.layoutArrayContainers,n=r.layoutArrayRegexes,i=e.split(`[`)[0],a,o,s=0;s<n.length;s++)if(o=e.match(n[s]),o&&o.index===0){a=o[0];break}if(a||=t[t.indexOf(i)],!a)return!1;var c=e.substr(a.length);return c?(o=c.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),o?{array:a,index:Number(o[1]),property:o[3]||``}:!1):{array:a,index:``,property:``}}}),30962:(function(e,t,n){var r=n(71828),i=r.extendFlat,a=r.isPlainObject,o={valType:`flaglist`,extras:[`none`],flags:[`calc`,`clearAxisTypes`,`plot`,`style`,`markerSize`,`colorbars`]},s={valType:`flaglist`,extras:[`none`],flags:[`calc`,`plot`,`legend`,`ticks`,`axrange`,`layoutstyle`,`modebar`,`camera`,`arraydraw`,`colorbars`]},c=o.flags.slice().concat([`fullReplot`]),l=s.flags.slice().concat(`layoutReplot`);e.exports={traces:o,layout:s,traceFlags:function(){return u(c)},layoutFlags:function(){return u(l)},update:function(e,t){var n=t.editType;if(n&&n!==`none`)for(var r=n.split(`+`),i=0;i<r.length;i++)e[r[i]]=!0},overrideAll:d};function u(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!1;return t}function d(e,t,n){var r=i({},e);for(var o in r){var s=r[o];a(s)&&(r[o]=f(s,t,n,o))}return n===`from-root`&&(r.editType=t),r}function f(e,t,n,r){if(e.valType){var a=i({},e);if(a.editType=t,Array.isArray(e.items)){a.items=Array(e.items.length);for(var o=0;o<e.items.length;o++)a.items[o]=f(e.items[o],t,`from-root`)}return a}else return d(e,t,r.charAt(0)===`_`?`nested`:`from-root`)}}),58377:(function(e,t,n){var r=n(92770),i=n(27812),a=n(73972),o=n(71828),s=n(74875),c=n(41675),l=n(7901),u=c.cleanId,d=c.getFromTrace,f=a.traceIs;t.clearPromiseQueue=function(e){Array.isArray(e._promises)&&e._promises.length>0&&o.log(`Clearing previous rejected promises from queue.`),e._promises=[]},t.cleanLayout=function(e){var n,r;e||={},e.xaxis1&&(e.xaxis||=e.xaxis1,delete e.xaxis1),e.yaxis1&&(e.yaxis||=e.yaxis1,delete e.yaxis1),e.scene1&&(e.scene||=e.scene1,delete e.scene1);var a=(s.subplotsRegistry.cartesian||{}).attrRegex,c=(s.subplotsRegistry.polar||{}).attrRegex,d=(s.subplotsRegistry.ternary||{}).attrRegex,f=(s.subplotsRegistry.gl3d||{}).attrRegex,h=Object.keys(e);for(n=0;n<h.length;n++){var g=h[n];if(a&&a.test(g)){var _=e[g];_.anchor&&_.anchor!==`free`&&(_.anchor=u(_.anchor)),_.overlaying&&=u(_.overlaying),_.type||(_.isdate?_.type=`date`:_.islog?_.type=`log`:_.isdate===!1&&_.islog===!1&&(_.type=`linear`)),(_.autorange===`withzero`||_.autorange===`tozero`)&&(_.autorange=!0,_.rangemode=`tozero`),delete _.islog,delete _.isdate,delete _.categories,v(_,`domain`)&&delete _.domain,_.autotick!==void 0&&(_.tickmode===void 0&&(_.tickmode=_.autotick?`auto`:`linear`),delete _.autotick),m(_)}else if(c&&c.test(g)){var y=e[g];m(y.radialaxis)}else if(d&&d.test(g)){var b=e[g];m(b.aaxis),m(b.baxis),m(b.caxis)}else if(f&&f.test(g)){var x=e[g],S=x.cameraposition;if(Array.isArray(S)&&S[0].length===4){var C=S[0],w=S[1],T=S[2],E=i([],C),D=[];for(r=0;r<3;++r)D[r]=w[r]+T*E[2+4*r];x.camera={eye:{x:D[0],y:D[1],z:D[2]},center:{x:w[0],y:w[1],z:w[2]},up:{x:0,y:0,z:1}},delete x.cameraposition}m(x.xaxis),m(x.yaxis),m(x.zaxis)}}var O=Array.isArray(e.annotations)?e.annotations.length:0;for(n=0;n<O;n++){var k=e.annotations[n];o.isPlainObject(k)&&(k.ref&&(k.ref===`paper`?(k.xref=`paper`,k.yref=`paper`):k.ref===`data`&&(k.xref=`x`,k.yref=`y`),delete k.ref),p(k,`xref`),p(k,`yref`))}var A=Array.isArray(e.shapes)?e.shapes.length:0;for(n=0;n<A;n++){var j=e.shapes[n];o.isPlainObject(j)&&(p(j,`xref`),p(j,`yref`))}var M=Array.isArray(e.images)?e.images.length:0;for(n=0;n<M;n++){var N=e.images[n];o.isPlainObject(N)&&(p(N,`xref`),p(N,`yref`))}var P=e.legend;return P&&(P.x>3?(P.x=1.02,P.xanchor=`left`):P.x<-2&&(P.x=-.02,P.xanchor=`right`),P.y>3?(P.y=1.02,P.yanchor=`bottom`):P.y<-2&&(P.y=-.02,P.yanchor=`top`)),m(e),e.dragmode===`rotate`&&(e.dragmode=`orbit`),l.clean(e),e.template&&e.template.layout&&t.cleanLayout(e.template.layout),e};function p(e,t){var n=e[t],r=t.charAt(0);n&&n!==`paper`&&(e[t]=u(n,r,!0))}function m(e){e&&((typeof e.title==`string`||typeof e.title==`number`)&&(e.title={text:e.title}),t(`titlefont`,`font`),t(`titleposition`,`position`),t(`titleside`,`side`),t(`titleoffset`,`offset`));function t(t,n){var r=e[t],i=e.title&&e.title[n];r&&!i&&(e.title||={},e.title[n]=e[t],delete e[t])}}t.cleanData=function(e){for(var n=0;n<e.length;n++){var r=e[n],i;if(r.type===`histogramy`&&`xbins`in r&&!(`ybins`in r)&&(r.ybins=r.xbins,delete r.xbins),r.error_y&&`opacity`in r.error_y){var c=l.defaults,d=r.error_y.color||(f(r,`bar`)?l.defaultLine:c[n%c.length]);r.error_y.color=l.addOpacity(l.rgb(d),l.opacity(d)*r.error_y.opacity),delete r.error_y.opacity}if(`bardir`in r&&(r.bardir===`h`&&(f(r,`bar`)||r.type.substr(0,9)===`histogram`)&&(r.orientation=`h`,t.swapXYData(r)),delete r.bardir),r.type===`histogramy`&&t.swapXYData(r),(r.type===`histogramx`||r.type===`histogramy`)&&(r.type=`histogram`),`scl`in r&&!(`colorscale`in r)&&(r.colorscale=r.scl,delete r.scl),`reversescl`in r&&!(`reversescale`in r)&&(r.reversescale=r.reversescl,delete r.reversescl),r.xaxis&&=u(r.xaxis,`x`),r.yaxis&&=u(r.yaxis,`y`),f(r,`gl3d`)&&r.scene&&(r.scene=s.subplotsRegistry.gl3d.cleanId(r.scene)),!f(r,`pie-like`)&&!f(r,`bar-like`))if(Array.isArray(r.textposition))for(i=0;i<r.textposition.length;i++)r.textposition[i]=_(r.textposition[i]);else r.textposition&&=_(r.textposition);var p=a.getModule(r);if(p&&p.colorbar){var y=p.colorbar.container,b=y?r[y]:r;b&&b.colorscale&&(b.colorscale===`YIGnBu`&&(b.colorscale=`YlGnBu`),b.colorscale===`YIOrRd`&&(b.colorscale=`YlOrRd`))}if(r.type===`surface`&&o.isPlainObject(r.contours)){var x=[`x`,`y`,`z`];for(i=0;i<x.length;i++){var S=r.contours[x[i]];o.isPlainObject(S)&&(S.highlightColor&&(S.highlightcolor=S.highlightColor,delete S.highlightColor),S.highlightWidth&&(S.highlightwidth=S.highlightWidth,delete S.highlightWidth))}}if(r.type===`candlestick`||r.type===`ohlc`){var C=(r.increasing||{}).showlegend!==!1,w=(r.decreasing||{}).showlegend!==!1,T=h(r.increasing),E=h(r.decreasing);if(T!==!1&&E!==!1){var D=g(T,E,C,w);D&&(r.name=D)}else (T||E)&&!r.name&&(r.name=T||E)}if(Array.isArray(r.transforms)){var O=r.transforms;for(i=0;i<O.length;i++){var k=O[i];if(o.isPlainObject(k))switch(k.type){case`filter`:k.filtersrc&&(k.target=k.filtersrc,delete k.filtersrc),k.calendar&&(k.valuecalendar||=k.calendar,delete k.calendar);break;case`groupby`:if(k.styles=k.styles||k.style,k.styles&&!Array.isArray(k.styles)){var A=k.styles,j=Object.keys(A);k.styles=[];for(var M=0;M<j.length;M++)k.styles.push({target:j[M],value:A[j[M]]})}break}}}v(r,`line`)&&delete r.line,`marker`in r&&(v(r.marker,`line`)&&delete r.marker.line,v(r,`marker`)&&delete r.marker),l.clean(r),r.autobinx&&(delete r.autobinx,delete r.xbins),r.autobiny&&(delete r.autobiny,delete r.ybins),m(r),r.colorbar&&m(r.colorbar),r.marker&&r.marker.colorbar&&m(r.marker.colorbar),r.line&&r.line.colorbar&&m(r.line.colorbar),r.aaxis&&m(r.aaxis),r.baxis&&m(r.baxis)}};function h(e){if(!o.isPlainObject(e))return!1;var t=e.name;return delete e.name,delete e.showlegend,(typeof t==`string`||typeof t==`number`)&&String(t)}function g(e,t,n,r){if(n&&!r)return e;if(r&&!n||!e.trim())return t;if(!t.trim())return e;var i=Math.min(e.length,t.length),a;for(a=0;a<i&&e.charAt(a)===t.charAt(a);a++);return e.substr(0,a).trim()}function _(e){var t=`middle`,n=`center`;return typeof e==`string`&&(e.indexOf(`top`)===-1?e.indexOf(`bottom`)!==-1&&(t=`bottom`):t=`top`,e.indexOf(`left`)===-1?e.indexOf(`right`)!==-1&&(n=`right`):n=`left`),t+` `+n}function v(e,t){return t in e&&typeof e[t]==`object`&&Object.keys(e[t]).length===0}t.swapXYData=function(e){var t;if(o.swapAttrs(e,[`?`,`?0`,`d?`,`?bins`,`nbins?`,`autobin?`,`?src`,`error_?`]),Array.isArray(e.z)&&Array.isArray(e.z[0])&&(e.transpose?delete e.transpose:e.transpose=!0),e.error_x&&e.error_y){var n=e.error_y,r=`copy_ystyle`in n?n.copy_ystyle:!(n.color||n.thickness||n.width);o.swapAttrs(e,[`error_?.copy_ystyle`]),r&&o.swapAttrs(e,[`error_?.color`,`error_?.thickness`,`error_?.width`])}if(typeof e.hoverinfo==`string`){var i=e.hoverinfo.split(`+`);for(t=0;t<i.length;t++)i[t]===`x`?i[t]=`y`:i[t]===`y`&&(i[t]=`x`);e.hoverinfo=i.join(`+`)}},t.coerceTraceIndices=function(e,t){if(r(t))return[t];if(!Array.isArray(t)||!t.length)return e.data.map(function(e,t){return t});if(Array.isArray(t)){for(var n=[],i=0;i<t.length;i++)o.isIndex(t[i],e.data.length)?n.push(t[i]):o.warn(`trace index (`,t[i],`) is not a number or is out of bounds`);return n}return t},t.manageArrayContainers=function(e,t,n){var i=e.obj,a=e.parts,s=a.length,c=a[s-1],l=r(c);if(l&&t===null){var u=a.slice(0,s-1).join(`.`);o.nestedProperty(i,u).get().splice(c,1)}else l&&e.get()===void 0&&e.get()===void 0&&(n[e.astr]=null),e.set(t)};var y=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function b(e){var t=e.search(y);if(t>0)return e.substr(0,t)}t.hasParent=function(e,t){for(var n=b(t);n;){if(n in e)return!0;n=b(n)}return!1};var x=[`x`,`y`,`z`];t.clearAxisTypes=function(e,t,n){for(var r=0;r<t.length;r++)for(var i=e._fullData[r],a=0;a<3;a++){var s=d(e,i,x[a]);if(s&&s.type!==`log`){var c=s._name,l=s._id.substr(1);if(l.substr(0,5)===`scene`){if(n[l]!==void 0)continue;c=l+`.`+c}var u=c+`.type`;n[c]===void 0&&n[u]===void 0&&o.nestedProperty(e.layout,u).set(null)}}}}),10641:(function(e,t,n){var r=n(72391);t._doPlot=r._doPlot,t.newPlot=r.newPlot,t.restyle=r.restyle,t.relayout=r.relayout,t.redraw=r.redraw,t.update=r.update,t._guiRestyle=r._guiRestyle,t._guiRelayout=r._guiRelayout,t._guiUpdate=r._guiUpdate,t._storeDirectGUIEdit=r._storeDirectGUIEdit,t.react=r.react,t.extendTraces=r.extendTraces,t.prependTraces=r.prependTraces,t.addTraces=r.addTraces,t.deleteTraces=r.deleteTraces,t.moveTraces=r.moveTraces,t.purge=r.purge,t.addFrames=r.addFrames,t.deleteFrames=r.deleteFrames,t.animate=r.animate,t.setPlotConfig=r.setPlotConfig,t.toImage=n(403),t.validate=n(84936),t.downloadImage=n(7239);var i=n(96318);t.makeTemplate=i.makeTemplate,t.validateTemplate=i.validateTemplate}),6611:(function(e,t,n){var r=n(41965),i=n(64213),a=n(47769),o=n(65888).sorterAsc,s=n(73972);t.containerArrayMatch=n(14458);var c=t.isAddVal=function(e){return e===`add`||r(e)},l=t.isRemoveVal=function(e){return e===null||e===`remove`};t.applyContainerArrayChanges=function(e,t,n,r,u){var d=t.astr,f=s.getComponentMethod(d,`supplyLayoutDefaults`),p=s.getComponentMethod(d,`draw`),m=s.getComponentMethod(d,`drawOne`),h=r.replot||r.recalc||f===i||p===i,g=e.layout,_=e._fullLayout;if(n[``]){Object.keys(n).length>1&&a.warn(`Full array edits are incompatible with other edits`,d);var v=n[``][``];if(l(v))t.set(null);else if(Array.isArray(v))t.set(v);else return a.warn(`Unrecognized full array edit value`,d,v),!0;return h?!1:(f(g,_),p(e),!0)}var y=Object.keys(n).map(Number).sort(o),b=t.get(),x=b||[],S=u(_,d).get(),C=[],w=-1,T=x.length,E,D,O,k,A,j,M,N;for(E=0;E<y.length;E++){if(O=y[E],k=n[O],A=Object.keys(k),j=k[``],M=c(j),O<0||O>x.length-(M?0:1)){a.warn(`index out of range`,d,O);continue}if(j!==void 0)A.length>1&&a.warn(`Insertion & removal are incompatible with edits to the same index.`,d,O),l(j)?C.push(O):M?(j===`add`&&(j={}),x.splice(O,0,j),S&&S.splice(O,0,{})):a.warn(`Unrecognized full object edit value`,d,O,j),w===-1&&(w=O);else for(D=0;D<A.length;D++)N=d+`[`+O+`].`,u(x[O],A[D],N).set(k[A[D]])}for(E=C.length-1;E>=0;E--)x.splice(C[E],1),S&&S.splice(C[E],1);if(x.length?b||t.set(x):t.set(null),h)return!1;if(f(g,_),m!==i){var P;if(w===-1)P=y;else{for(T=Math.max(x.length,T),P=[],E=0;E<y.length&&(O=y[E],!(O>=w));E++)P.push(O);for(E=w;E<T;E++)P.push(E)}for(E=0;E<P.length;E++)m(e,P[E])}else p(e);return!0}}),72391:(function(e,t,n){var r=n(39898),i=n(92770),a=n(57035),o=n(71828),s=o.nestedProperty,c=n(11086),l=n(10847),u=n(73972),d=n(86281),f=n(74875),p=n(89298),m=n(91424),h=n(7901),g=n(4305).initInteractions,_=n(77922),v=n(47322).clearOutline,y=n(72075).dfltConfig,b=n(6611),x=n(58377),S=n(61549),C=n(30962),w=n(85555).AX_NAME_PATTERN,T=0,E=5;function D(e,n,i,a){var s;if(e=o.getGraphDiv(e),c.init(e),o.isPlainObject(n)){var l=n;n=l.data,i=l.layout,a=l.config,s=l.frames}if(c.triggerHandler(e,`plotly_beforeplot`,[n,i,a])===!1)return Promise.reject();!n&&!i&&!o.isPlotDiv(e)&&o.warn(`Calling _doPlot as if redrawing but this container doesn't yet have a plot.`,e);function d(){if(s)return t.addFrames(e,s)}M(e,a),i||={},r.select(e).classed(`js-plotly-plot`,!0),m.makeTester(),Array.isArray(e._promises)||(e._promises=[]);var h=(e.data||[]).length===0&&Array.isArray(n);Array.isArray(n)&&(x.cleanData(n),h?e.data=n:e.data.push.apply(e.data,n),e.empty=!1),(!e.layout||h)&&(e.layout=x.cleanLayout(i)),f.supplyDefaults(e);var _=e._fullLayout,v=_._has(`cartesian`);_._replotting=!0,(h||_._shouldCreateBgLayer)&&(Ae(e),_._shouldCreateBgLayer&&delete _._shouldCreateBgLayer),m.initGradients(e),m.initPatterns(e),h&&p.saveShowSpikeInitial(e);var y=!e.calcdata||e.calcdata.length!==(e._fullData||[]).length;y&&f.doCalcdata(e);for(var b=0;b<e.calcdata.length;b++)e.calcdata[b][0].trace=e._fullData[b];e._context.responsive?e._responsiveChartHandler||(e._responsiveChartHandler=function(){o.isHidden(e)||f.resize(e)},window.addEventListener(`resize`,e._responsiveChartHandler)):o.clearResponsive(e);var C=o.extendFlat({},_._size),w=0;function T(){for(var t=_._basePlotModules,n=0;n<t.length;n++)t[n].drawFramework&&t[n].drawFramework(e);!_._glcanvas&&_._has(`gl`)&&(_._glcanvas=_._glcontainer.selectAll(`.gl-canvas`).data([{key:`contextLayer`,context:!0,pick:!1},{key:`focusLayer`,context:!1,pick:!1},{key:`pickLayer`,context:!1,pick:!0}],function(e){return e.key}),_._glcanvas.enter().append(`canvas`).attr(`class`,function(e){return`gl-canvas gl-canvas-`+e.key.replace(`Layer`,``)}).style({position:`absolute`,top:0,left:0,overflow:`visible`,"pointer-events":`none`}));var r=e._context.plotGlPixelRatio;if(_._glcanvas){_._glcanvas.attr(`width`,_.width*r).attr(`height`,_.height*r).style(`width`,_.width+`px`).style(`height`,_.height+`px`);var i=_._glcanvas.data()[0].regl;if(i&&(Math.floor(_.width*r)!==i._gl.drawingBufferWidth||Math.floor(_.height*r)!==i._gl.drawingBufferHeight)){var a=`WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.`;if(w)o.error(a);else return o.log(a+` Clearing graph and plotting again.`),f.cleanPlot([],{},e._fullData,_),f.supplyDefaults(e),_=e._fullLayout,f.doCalcdata(e),w++,T()}}return _.modebar.orientation===`h`?_._modebardiv.style(`height`,null).style(`width`,`100%`):_._modebardiv.style(`width`,null).style(`height`,_.height+`px`),f.previousPromises(e)}function E(){if(f.clearAutoMarginIds(e),S.drawMarginPushers(e),p.allowAutoMargin(e),_._has(`pie`))for(var t=e._fullData,n=0;n<t.length;n++){var r=t[n];r.type===`pie`&&r.automargin&&f.allowAutoMargin(e,`pie.`+r.uid+`.automargin`)}return f.doAutoMargin(e),f.previousPromises(e)}function D(){if(f.didMarginChange(C,_._size))return o.syncOrAsync([E,S.layoutStyles],e)}function k(){if(!y){A();return}return o.syncOrAsync([u.getComponentMethod(`shapes`,`calcAutorange`),u.getComponentMethod(`annotations`,`calcAutorange`),A],e)}function A(){e._transitioning||(S.doAutoRangeAndConstraints(e),h&&p.saveRangeInitial(e),u.getComponentMethod(`rangeslider`,`calcAutorange`)(e))}function j(){return p.draw(e,h?``:`redraw`)}var N=[f.previousPromises,d,T,E,D];v&&N.push(k),N.push(S.layoutStyles),v&&N.push(j,function(e){e._fullLayout._insideTickLabelsAutorange&&ae(e,e._fullLayout._insideTickLabelsAutorange).then(function(){e._fullLayout._insideTickLabelsAutorange=void 0})}),N.push(S.drawData,S.finalDraw,g,f.addLinks,f.rehover,f.redrag,f.reselect,f.doAutoMargin,P,f.previousPromises);function P(e){e._fullLayout._insideTickLabelsAutorange&&h&&p.saveRangeInitial(e,!0)}var F=o.syncOrAsync(N,e);return(!F||!F.then)&&(F=Promise.resolve()),F.then(function(){return O(e),e})}function O(e){var t=e._fullLayout;t._redrawFromAutoMarginCount?t._redrawFromAutoMarginCount--:e.emit(`plotly_afterplot`)}function k(e){return o.extendFlat(y,e)}function A(e,t){try{e._fullLayout._paper.style(`background`,t)}catch(e){o.error(e)}}function j(e,t){A(e,h.combine(t,`white`))}function M(e,t){if(!e._context){e._context=o.extendDeep({},y);var n=r.select(`base`);e._context._baseUrl=n.size()&&n.attr(`href`)?window.location.href.split(`#`)[0]:``}var i=e._context,s,c,l;if(t){for(c=Object.keys(t),s=0;s<c.length;s++)l=c[s],!(l===`editable`||l===`edits`)&&l in i&&(l===`setBackground`&&t[l]===`opaque`?i[l]=j:i[l]=t[l]);t.plot3dPixelRatio&&!i.plotGlPixelRatio&&(i.plotGlPixelRatio=i.plot3dPixelRatio);var u=t.editable;if(u!==void 0)for(i.editable=u,c=Object.keys(i.edits),s=0;s<c.length;s++)i.edits[c[s]]=u;if(t.edits)for(c=Object.keys(t.edits),s=0;s<c.length;s++)l=c[s],l in i.edits&&(i.edits[l]=t.edits[l]);i._exportedPlot=t._exportedPlot}i.staticPlot&&(i.editable=!1,i.edits={},i.autosizable=!1,i.scrollZoom=!1,i.doubleClick=!1,i.showTips=!1,i.showLink=!1,i.displayModeBar=!1),i.displayModeBar===`hover`&&!a&&(i.displayModeBar=!0),(i.setBackground===`transparent`||typeof i.setBackground!=`function`)&&(i.setBackground=A),i._hasZeroHeight=i._hasZeroHeight||e.clientHeight===0,i._hasZeroWidth=i._hasZeroWidth||e.clientWidth===0;var d=i.scrollZoom,f=i._scrollZoom={};if(d===!0)f.cartesian=1,f.gl3d=1,f.geo=1,f.mapbox=1;else if(typeof d==`string`){var p=d.split(`+`);for(s=0;s<p.length;s++)f[p[s]]=1}else d!==!1&&(f.gl3d=1,f.geo=1,f.mapbox=1)}function N(e){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw Error(`This element is not a Plotly plot: `+e);return x.cleanData(e.data),x.cleanLayout(e.layout),e.calcdata=void 0,t._doPlot(e).then(function(){return e.emit(`plotly_redraw`),e})}function P(e,n,r,i){return e=o.getGraphDiv(e),f.cleanPlot([],{},e._fullData||[],e._fullLayout||{}),f.purge(e),t._doPlot(e,n,r,i)}function F(e,t){var n=t+1,r=[],i,a;for(i=0;i<e.length;i++)a=e[i],a<0?r.push(n+a):r.push(a);return r}function I(e,t,n){var r,i;for(r=0;r<t.length;r++){if(i=t[r],i!==parseInt(i,10))throw Error(`all values in `+n+` must be integers`);if(i>=e.data.length||i<-e.data.length)throw Error(n+` must be valid indices for gd.data.`);if(t.indexOf(i,r+1)>-1||i>=0&&t.indexOf(-e.data.length+i)>-1||i<0&&t.indexOf(e.data.length+i)>-1)throw Error(`each index in `+n+` must be unique.`)}}function L(e,t,n){if(!Array.isArray(e.data))throw Error(`gd.data must be an array.`);if(t===void 0)throw Error(`currentIndices is a required argument.`);if(Array.isArray(t)||(t=[t]),I(e,t,`currentIndices`),n!==void 0&&!Array.isArray(n)&&(n=[n]),n!==void 0&&I(e,n,`newIndices`),n!==void 0&&t.length!==n.length)throw Error(`current and new indices must be of equal length.`)}function R(e,t,n){var r,i;if(!Array.isArray(e.data))throw Error(`gd.data must be an array.`);if(t===void 0)throw Error(`traces must be defined.`);for(Array.isArray(t)||(t=[t]),r=0;r<t.length;r++)if(i=t[r],typeof i!=`object`||Array.isArray(i)||i===null)throw Error(`all values in traces array must be non-array objects`);if(n!==void 0&&!Array.isArray(n)&&(n=[n]),n!==void 0&&n.length!==t.length)throw Error(`if indices is specified, traces.length must equal indices.length`)}function z(e,t,n,r){var i=o.isPlainObject(r);if(!Array.isArray(e.data))throw Error(`gd.data must be an array`);if(!o.isPlainObject(t))throw Error(`update must be a key:value object`);if(n===void 0)throw Error(`indices must be an integer or array of integers`);for(var a in I(e,n,`indices`),t){if(!Array.isArray(t[a])||t[a].length!==n.length)throw Error(`attribute `+a+` must be an array of length equal to indices array length`);if(i&&(!(a in r)||!Array.isArray(r[a])||r[a].length!==t[a].length))throw Error(`when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object`)}}function B(e,t,n,r){var a=o.isPlainObject(r),c=[],l,u,d,f,p;for(var m in Array.isArray(n)||(n=[n]),n=F(n,e.data.length-1),t)for(var h=0;h<n.length;h++){if(l=e.data[n[h]],d=s(l,m),u=d.get(),f=t[m][h],!o.isArrayOrTypedArray(f))throw Error(`attribute: `+m+` index: `+h+` must be an array`);if(!o.isArrayOrTypedArray(u))throw Error(`cannot extend missing or non-array attribute: `+m);if(u.constructor!==f.constructor)throw Error(`cannot extend array with an array of a different type: `+m);p=a?r[m][h]:r,i(p)||(p=-1),c.push({prop:d,target:u,insert:f,maxp:Math.floor(p)})}return c}function V(e,t,n,r,i){z(e,t,n,r);for(var a=B(e,t,n,r),o={},s={},c=0;c<a.length;c++){var l=a[c].prop,u=a[c].maxp,d=i(a[c].target,a[c].insert,u);l.set(d[0]),Array.isArray(o[l.astr])||(o[l.astr]=[]),o[l.astr].push(d[1]),Array.isArray(s[l.astr])||(s[l.astr]=[]),s[l.astr].push(a[c].target.length)}return{update:o,maxPoints:s}}function H(e,t){var n=new e.constructor(e.length+t.length);return n.set(e),n.set(t,e.length),n}function U(e,n,r,i){e=o.getGraphDiv(e);function a(e,t,n){var r,i;if(o.isTypedArray(e))if(n<0){var a=new e.constructor(0),s=H(e,t);n<0?(r=s,i=a):(r=a,i=s)}else if(r=new e.constructor(n),i=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),i.set(e);else if(n<t.length){var c=t.length-n;r.set(t.subarray(c)),i.set(e),i.set(t.subarray(0,c),e.length)}else{var l=n-t.length,u=e.length-l;r.set(e.subarray(u)),r.set(t,l),i.set(e.subarray(0,u))}else r=e.concat(t),i=n>=0&&n<r.length?r.splice(0,r.length-n):[];return[r,i]}var s=V(e,n,r,i,a),c=t.redraw(e),u=[e,s.update,r,s.maxPoints];return l.add(e,t.prependTraces,u,U,arguments),c}function W(e,n,r,i){e=o.getGraphDiv(e);function a(e,t,n){var r,i;if(o.isTypedArray(e))if(n<=0){var a=new e.constructor(0),s=H(t,e);n<0?(r=s,i=a):(r=a,i=s)}else if(r=new e.constructor(n),i=new e.constructor(e.length+t.length-n),n===t.length)r.set(t),i.set(e);else if(n<t.length){var c=t.length-n;r.set(t.subarray(0,c)),i.set(t.subarray(c)),i.set(e,c)}else{var l=n-t.length;r.set(t),r.set(e.subarray(0,l),t.length),i.set(e.subarray(l))}else r=t.concat(e),i=n>=0&&n<r.length?r.splice(n,r.length):[];return[r,i]}var s=V(e,n,r,i,a),c=t.redraw(e),u=[e,s.update,r,s.maxPoints];return l.add(e,t.extendTraces,u,W,arguments),c}function G(e,n,r){e=o.getGraphDiv(e);var i=[],a=t.deleteTraces,s=G,c=[e,i],u=[e,n],d,f;for(R(e,n,r),Array.isArray(n)||(n=[n]),n=n.map(function(e){return o.extendFlat({},e)}),x.cleanData(n),d=0;d<n.length;d++)e.data.push(n[d]);for(d=0;d<n.length;d++)i.push(-n.length+d);if(r===void 0)return f=t.redraw(e),l.add(e,a,c,s,u),f;Array.isArray(r)||(r=[r]);try{L(e,i,r)}catch(t){throw e.data.splice(e.data.length-n.length,n.length),t}return l.startSequence(e),l.add(e,a,c,s,u),f=t.moveTraces(e,i,r),l.stopSequence(e),f}function K(e,n){e=o.getGraphDiv(e);var r=[],i=t.addTraces,a=K,s=[e,r,n],c=[e,n],u,d;if(n===void 0)throw Error(`indices must be an integer or array of integers.`);for(Array.isArray(n)||(n=[n]),I(e,n,`indices`),n=F(n,e.data.length-1),n.sort(o.sorterDes),u=0;u<n.length;u+=1)d=e.data.splice(n[u],1)[0],r.push(d);var f=t.redraw(e);return l.add(e,i,s,a,c),f}function ee(e,n,r){e=o.getGraphDiv(e);var i=[],a=[],s=ee,c=ee,u=[e,r,n],d=[e,n,r],f;if(L(e,n,r),n=Array.isArray(n)?n:[n],r===void 0)for(r=[],f=0;f<n.length;f++)r.push(-n.length+f);for(r=Array.isArray(r)?r:[r],n=F(n,e.data.length-1),r=F(r,e.data.length-1),f=0;f<e.data.length;f++)n.indexOf(f)===-1&&i.push(e.data[f]);for(f=0;f<n.length;f++)a.push({newIndex:r[f],trace:e.data[n[f]]});for(a.sort(function(e,t){return e.newIndex-t.newIndex}),f=0;f<a.length;f+=1)i.splice(a[f].newIndex,0,a[f].trace);e.data=i;var p=t.redraw(e);return l.add(e,s,u,c,d),p}function q(e,n,r,i){e=o.getGraphDiv(e),x.clearPromiseQueue(e);var a={};if(typeof n==`string`)a[n]=r;else if(o.isPlainObject(n))a=o.extendFlat({},n),i===void 0&&(i=r);else return o.warn(`Restyle fail.`,n,r,i),Promise.reject();Object.keys(a).length&&(e.changed=!0);var s=x.coerceTraceIndices(e,i),c=re(e,a,s),u=c.flags;u.calc&&(e.calcdata=void 0),u.clearAxisTypes&&x.clearAxisTypes(e,s,{});var d=[];u.fullReplot?d.push(t._doPlot):(d.push(f.previousPromises),f.supplyDefaults(e),u.markerSize&&(f.doCalcdata(e),se(d)),u.style&&d.push(S.doTraceStyle),u.colorbars&&d.push(S.doColorBars),d.push(O)),d.push(f.rehover,f.redrag,f.reselect),l.add(e,q,[e,c.undoit,c.traces],q,[e,c.redoit,c.traces]);var p=o.syncOrAsync(d,e);return(!p||!p.then)&&(p=Promise.resolve()),p.then(function(){return e.emit(`plotly_restyle`,c.eventData),e})}function J(e){return e===void 0?null:e}function Y(e,t){return t?function(t,n,r){var i=s(t,n),a=i.set;return i.set=function(t){te((r||``)+n,i.get(),t,e),a(t)},i}:s}function te(e,t,n,r){if(Array.isArray(t)||Array.isArray(n))for(var i=Array.isArray(t)?t:[],a=Array.isArray(n)?n:[],s=Math.max(i.length,a.length),c=0;c<s;c++)te(e+`[`+c+`]`,i[c],a[c],r);else if(o.isPlainObject(t)||o.isPlainObject(n)){var l=o.isPlainObject(t)?t:{},u=o.isPlainObject(n)?n:{};for(var d in o.extendFlat({},l,u))te(e+`.`+d,l[d],u[d],r)}else r[e]===void 0&&(r[e]=J(t))}function ne(e,t,n){for(var r in n)te(r,s(e,r).get(),n[r],t)}function re(e,t,n){var r=e._fullLayout,i=e._fullData,a=e.data,c=r._guiEditing,l=Y(r._preGUI,c),m=o.extendDeepAll({},t),h;ie(t);var g=C.traceFlags(),_={},v={},y;function b(){return n.map(function(){})}function S(e){var t=p.id2name(e);y.indexOf(t)===-1&&y.push(t)}function w(e){return`LAYOUT`+e+`.autorange`}function T(e){return`LAYOUT`+e+`.range`}function E(e){for(var t=e;t<i.length;t++)if(i[t]._input===a[e])return i[t]}function D(i,o,s){if(Array.isArray(i)){i.forEach(function(e){D(e,o,s)});return}if(!(i in t||x.hasParent(t,i))){var u;if(i.substr(0,6)===`LAYOUT`)u=l(e.layout,i.replace(`LAYOUT`,``));else{var d=n[s],f=r._tracePreGUI[E(d)._fullInput.uid];u=Y(f,c)(a[d],i)}i in v||(v[i]=b()),v[i][s]===void 0&&(v[i][s]=J(u.get())),o!==void 0&&u.set(o)}}function O(e){return function(t){return i[t][e]}}function k(e){return function(t,r){return t===!1?i[n[r]][e]:null}}for(var A in t){if(x.hasParent(t,A))throw Error(`cannot set `+A+` and a parent attribute simultaneously`);var j=t[A],M,N,P,F,I,L;if((A===`autobinx`||A===`autobiny`)&&(A=A.charAt(A.length-1)+`bins`,j=Array.isArray(j)?j.map(k(A)):j===!1?n.map(O(A)):null),_[A]=j,A.substr(0,6)===`LAYOUT`){P=l(e.layout,A.replace(`LAYOUT`,``)),v[A]=[J(P.get())],P.set(Array.isArray(j)?j[0]:j),g.calc=!0;continue}for(v[A]=b(),h=0;h<n.length;h++){M=a[n[h]],N=E(n[h]);var R=r._tracePreGUI[N._fullInput.uid];if(P=Y(R,c)(M,A),F=P.get(),I=Array.isArray(j)?j[h%j.length]:j,I!==void 0){var z=P.parts[P.parts.length-1],B=A.substr(0,A.length-z.length-1),V=B?B+`.`:``,H=B?s(N,B).get():N;if(L=d.getTraceValObject(N,P.parts),L&&L.impliedEdits&&I!==null)for(var U in L.impliedEdits)D(o.relativeAttr(A,U),L.impliedEdits[U],h);else if((z===`thicknessmode`||z===`lenmode`)&&F!==I&&(I===`fraction`||I===`pixels`)&&H){var W=r._size,G=H.orient,K=G===`top`||G===`bottom`;if(z===`thicknessmode`){var ee=K?W.h:W.w;D(V+`thickness`,H.thickness*(I===`fraction`?1/ee:ee),h)}else{var q=K?W.w:W.h;D(V+`len`,H.len*(I===`fraction`?1/q:q),h)}}else if(A===`type`&&(I===`pie`!=(F===`pie`)||I===`funnelarea`!=(F===`funnelarea`))){var te=`x`,ne=`y`;(I===`bar`||F===`bar`)&&M.orientation===`h`&&(te=`y`,ne=`x`),o.swapAttrs(M,[`?`,`?src`],`labels`,te),o.swapAttrs(M,[`d?`,`?0`],`label`,te),o.swapAttrs(M,[`?`,`?src`],`values`,ne),F===`pie`||F===`funnelarea`?(s(M,`marker.color`).set(s(M,`marker.colors`).get()),r._pielayer.selectAll(`g.trace`).remove()):u.traceIs(M,`cartesian`)&&s(M,`marker.colors`).set(s(M,`marker.color`).get())}if(v[A][h]=J(F),[`swapxy`,`swapxyaxes`,`orientation`,`orientationaxes`].indexOf(A)!==-1){if(A===`orientation`){P.set(I);var re=M.x&&!M.y?`h`:`v`;if((P.get()||re)===N.orientation)continue}else A===`orientationaxes`&&(M.orientation={v:`h`,h:`v`}[N.orientation]);x.swapXYData(M),g.calc=g.clearAxisTypes=!0}else f.dataArrayContainers.indexOf(P.parts[0])===-1?(L?L.arrayOk&&!u.traceIs(N,`regl`)&&(o.isArrayOrTypedArray(I)||o.isArrayOrTypedArray(F))?g.calc=!0:C.update(g,L):g.calc=!0,P.set(I)):(x.manageArrayContainers(P,I,v),g.calc=!0)}}if([`swapxyaxes`,`orientationaxes`].indexOf(A)!==-1&&p.swap(e,n),A===`orientationaxes`){var ae=s(e.layout,`hovermode`),oe=ae.get();oe===`x`?ae.set(`y`):oe===`y`?ae.set(`x`):oe===`x unified`?ae.set(`y unified`):oe===`y unified`&&ae.set(`x unified`)}if([`orientation`,`type`].indexOf(A)!==-1){for(y=[],h=0;h<n.length;h++){var se=a[n[h]];u.traceIs(se,`cartesian`)&&(S(se.xaxis||`x`),S(se.yaxis||`y`))}D(y.map(w),!0,0),D(y.map(T),[0,1],0)}}return(g.calc||g.plot)&&(g.fullReplot=!0),{flags:g,undoit:v,redoit:_,traces:n,eventData:o.extendDeepNoArrays([],[m,n])}}function ie(e){var t=o.counterRegex(`axis`,`.title`,!1,!1),n=/colorbar\.title$/,r=Object.keys(e),i,a,s;for(i=0;i<r.length;i++)a=r[i],s=e[a],(a===`title`||t.test(a)||n.test(a))&&(typeof s==`string`||typeof s==`number`)?c(a,a.replace(`title`,`title.text`)):a.indexOf(`titlefont`)>-1&&a.indexOf(`grouptitlefont`)===-1?c(a,a.replace(`titlefont`,`title.font`)):a.indexOf(`titleposition`)>-1?c(a,a.replace(`titleposition`,`title.position`)):a.indexOf(`titleside`)>-1?c(a,a.replace(`titleside`,`title.side`)):a.indexOf(`titleoffset`)>-1&&c(a,a.replace(`titleoffset`,`title.offset`));function c(t,n){e[n]=e[t],delete e[t]}}function ae(e,t,n){e=o.getGraphDiv(e),x.clearPromiseQueue(e);var r={};if(typeof t==`string`)r[t]=n;else if(o.isPlainObject(t))r=o.extendFlat({},t);else return o.warn(`Relayout fail.`,t,n),Promise.reject();Object.keys(r).length&&(e.changed=!0);var i=de(e,r),a=i.flags;a.calc&&(e.calcdata=void 0);var s=[f.previousPromises];a.layoutReplot?s.push(S.layoutReplot):Object.keys(r).length&&(oe(e,a,i)||f.supplyDefaults(e),a.legend&&s.push(S.doLegend),a.layoutstyle&&s.push(S.layoutStyles),a.axrange&&se(s,i.rangesAltered),a.ticks&&s.push(S.doTicksRelayout),a.modebar&&s.push(S.doModeBar),a.camera&&s.push(S.doCamera),a.colorbars&&s.push(S.doColorBars),s.push(O)),s.push(f.rehover,f.redrag,f.reselect),l.add(e,ae,[e,i.undoit],ae,[e,i.redoit]);var c=o.syncOrAsync(s,e);return(!c||!c.then)&&(c=Promise.resolve(e)),c.then(function(){return e.emit(`plotly_relayout`,i.eventData),e})}function oe(e,t,n){var r=e._fullLayout;if(!t.axrange)return!1;for(var i in t)if(i!==`axrange`&&t[i])return!1;for(var a in n.rangesAltered){var o=p.id2name(a),s=e.layout[o],c=r[o];if(c.autorange=s.autorange,s.range&&(c.range=s.range.slice()),c.cleanRange(),c._matchGroup){for(var l in c._matchGroup)if(l!==a){var u=r[p.id2name(l)];u.autorange=c.autorange,u.range=c.range.slice(),u._input.range=c.range.slice()}}}return!0}function se(e,t){var n=t?function(e){var n=[],r=!0;for(var i in t){var a=p.getFromId(e,i);if(n.push(i),(a.ticklabelposition||``).indexOf(`inside`)!==-1&&a._anchorAxis&&n.push(a._anchorAxis._id),a._matchGroup)for(var o in a._matchGroup)t[o]||n.push(o)}return p.draw(e,n,{skipTitle:r})}:function(e){return p.draw(e,`redraw`)};e.push(v,S.doAutoRangeAndConstraints,n,S.drawData,S.finalDraw)}var ce=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,le=/^[xyz]axis[0-9]*\.autorange$/,ue=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function de(e,t){var n=e.layout,r=e._fullLayout,i=r._guiEditing,a=Y(r._preGUI,i),c=Object.keys(t),l=p.list(e),f=o.extendDeepAll({},t),m={},h,g,_;for(ie(t),c=Object.keys(t),g=0;g<c.length;g++)if(c[g].indexOf(`allaxes`)===0){for(_=0;_<l.length;_++){var v=l[_]._id.substr(1),y=v.indexOf(`scene`)===-1?``:v+`.`,S=c[g].replace(`allaxes`,y+l[_]._name);t[S]||(t[S]=t[c[g]])}delete t[c[g]]}var T=C.layoutFlags(),E={},D={};function O(e,r){if(Array.isArray(e)){e.forEach(function(e){O(e,r)});return}if(!(e in t||x.hasParent(t,e))){var i=a(n,e);e in D||(D[e]=J(i.get())),r!==void 0&&i.set(r)}}var k={},A;function j(e){var t=p.name2id(e.split(`.`)[0]);return k[t]=1,t}for(var M in t){if(x.hasParent(t,M))throw Error(`cannot set `+M+` and a parent attribute simultaneously`);for(var N=a(n,M),P=t[M],F=N.parts.length-1;F>0&&typeof N.parts[F]!=`string`;)F--;var I=N.parts[F],L=N.parts[F-1]+`.`+I,R=N.parts.slice(0,F).join(`.`),z=s(e.layout,R).get(),B=s(r,R).get(),V=N.get();if(P!==void 0){E[M]=P,D[M]=I===`reverse`?P:J(V);var H=d.getLayoutValObject(r,N.parts);if(H&&H.impliedEdits&&P!==null)for(var U in H.impliedEdits)O(o.relativeAttr(M,U),H.impliedEdits[U]);if([`width`,`height`].indexOf(M)!==-1)if(P){O(`autosize`,null);var W=M===`height`?`width`:`height`;O(W,r[W])}else r[M]=e._initialAutoSize[M];else if(M===`autosize`)O(`width`,P?null:r.width),O(`height`,P?null:r.height);else if(L.match(ce))j(L),s(r,R+`._inputRange`).set(null);else if(L.match(le)){j(L),s(r,R+`._inputRange`).set(null);var G=s(r,R).get();G._inputDomain&&(G._input.domain=G._inputDomain.slice())}else L.match(ue)&&s(r,R+`._inputDomain`).set(null);if(I===`type`){A=z;var K=B.type===`linear`&&P===`log`,ee=B.type===`log`&&P===`linear`;if(K||ee){if(!A||!A.range)O(R+`.autorange`,!0);else if(B.autorange)K&&(A.range=A.range[1]>A.range[0]?[1,2]:[2,1]);else{var q=A.range[0],te=A.range[1];K?(q<=0&&te<=0&&O(R+`.autorange`,!0),q<=0?q=te/1e6:te<=0&&(te=q/1e6),O(R+`.range[0]`,Math.log(q)/Math.LN10),O(R+`.range[1]`,Math.log(te)/Math.LN10)):(O(R+`.range[0]`,10**q),O(R+`.range[1]`,10**te))}Array.isArray(r._subplots.polar)&&r._subplots.polar.length&&r[N.parts[0]]&&N.parts[1]===`radialaxis`&&delete r[N.parts[0]]._subplot.viewInitial[`radialaxis.range`],u.getComponentMethod(`annotations`,`convertCoords`)(e,B,P,O),u.getComponentMethod(`images`,`convertCoords`)(e,B,P,O)}else O(R+`.autorange`,!0),O(R+`.range`,null);s(r,R+`._inputRange`).set(null)}else if(I.match(w)){var ne=s(r,M).get(),re=(P||{}).type;(!re||re===`-`)&&(re=`linear`),u.getComponentMethod(`annotations`,`convertCoords`)(e,ne,re,O),u.getComponentMethod(`images`,`convertCoords`)(e,ne,re,O)}var ae=b.containerArrayMatch(M);if(ae){h=ae.array,g=ae.index;var oe=ae.property,se=H||{editType:`calc`};g!==``&&oe===``&&(b.isAddVal(P)?D[M]=null:b.isRemoveVal(P)?D[M]=(s(n,h).get()||[])[g]:o.warn(`unrecognized full object value`,t)),C.update(T,se),m[h]||(m[h]={});var de=m[h][g];de||=m[h][g]={},de[oe]=P,delete t[M]}else I===`reverse`?(z.range?z.range.reverse():(O(R+`.autorange`,!0),z.range=[1,0]),B.autorange?T.calc=!0:T.plot=!0):(M===`dragmode`&&(P===!1&&V!==!1||P!==!1&&V===!1)||r._has(`scatter-like`)&&r._has(`regl`)&&M===`dragmode`&&(P===`lasso`||P===`select`)&&!(V===`lasso`||V===`select`)||r._has(`gl2d`)?T.plot=!0:H?C.update(T,H):T.calc=!0,N.set(P))}}for(h in m)b.applyContainerArrayChanges(e,a(n,h),m[h],T,a)||(T.plot=!0);for(var pe in k){A=p.getFromId(e,pe);var me=A&&A._constraintGroup;if(me)for(var he in T.calc=!0,me)k[he]||(p.getFromId(e,he)._constraintShrinkable=!0)}return(fe(e)||t.height||t.width)&&(T.plot=!0),(T.plot||T.calc)&&(T.layoutReplot=!0),{flags:T,rangesAltered:k,undoit:D,redoit:E,eventData:f}}function fe(e){var t=e._fullLayout,n=t.width,r=t.height;return e.layout.autosize&&f.plotAutoSize(e,e.layout,t),t.width!==n||t.height!==r}function pe(e,n,r,i){e=o.getGraphDiv(e),x.clearPromiseQueue(e),o.isPlainObject(n)||(n={}),o.isPlainObject(r)||(r={}),Object.keys(n).length&&(e.changed=!0),Object.keys(r).length&&(e.changed=!0);var a=x.coerceTraceIndices(e,i),s=re(e,o.extendFlat({},n),a),c=s.flags,u=de(e,o.extendFlat({},r)),d=u.flags;(c.calc||d.calc)&&(e.calcdata=void 0),c.clearAxisTypes&&x.clearAxisTypes(e,a,r);var p=[];d.layoutReplot?p.push(S.layoutReplot):c.fullReplot?p.push(t._doPlot):(p.push(f.previousPromises),oe(e,d,u)||f.supplyDefaults(e),c.style&&p.push(S.doTraceStyle),(c.colorbars||d.colorbars)&&p.push(S.doColorBars),d.legend&&p.push(S.doLegend),d.layoutstyle&&p.push(S.layoutStyles),d.axrange&&se(p,u.rangesAltered),d.ticks&&p.push(S.doTicksRelayout),d.modebar&&p.push(S.doModeBar),d.camera&&p.push(S.doCamera),p.push(O)),p.push(f.rehover,f.redrag,f.reselect),l.add(e,pe,[e,s.undoit,u.undoit,s.traces],pe,[e,s.redoit,u.redoit,s.traces]);var m=o.syncOrAsync(p,e);return(!m||!m.then)&&(m=Promise.resolve(e)),m.then(function(){return e.emit(`plotly_update`,{data:s.eventData,layout:u.eventData}),e})}function me(e){return function(t){t._fullLayout._guiEditing=!0;var n=e.apply(null,arguments);return t._fullLayout._guiEditing=!1,n}}var he=[{pattern:/^hiddenlabels/,attr:`legend.uirevision`},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:`modebar.uirevision`},{pattern:/(hover|drag)mode$/,attr:`modebar.uirevision`},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:`editrevision`},{pattern:/^(shapes|annotations)/,attr:`editrevision`},{pattern:/^title\.text$/,attr:`editrevision`}],ge=[{pattern:/^selectedpoints$/,attr:`selectionrevision`},{pattern:/(^|value\.)visible$/,attr:`legend.uirevision`},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:`editrevision`}];function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=e.match(r.pattern);if(i){var a=i[1]||``;return{head:a,tail:e.substr(a.length+1),attr:r.attr}}}}function ve(e,t){var n=s(t,e).get();if(n!==void 0)return n;var r=e.split(`.`);for(r.pop();r.length>1;)if(r.pop(),n=s(t,r.join(`.`)+`.uirevision`).get(),n!==void 0)return n;return t.uirevision}function ye(e,t){for(var n=0;n<t.length;n++)if(t[n]._fullInput.uid===e)return n;return-1}function be(e,t,n){for(var r=0;r<t.length;r++)if(t[r].uid===e)return r;return!t[n]||t[n].uid?-1:n}function xe(e,t){var n=o.isPlainObject(e),r=Array.isArray(e);return n||r?(n&&o.isPlainObject(t)||r&&Array.isArray(t))&&JSON.stringify(e)===JSON.stringify(t):e===t}function Se(e,t,n,r){var i=r._preGUI,a,c,l,u,d,f,p,m,h,g,_=[],v={},y={};for(a in i){if(d=_e(a,he),d){if(h=d.head,g=d.tail,c=d.attr||h+`.uirevision`,l=s(r,c).get(),u=l&&ve(c,t),u&&u===l){if(f=i[a],f===null&&(f=void 0),p=s(t,a),m=p.get(),xe(m,f)){m===void 0&&g===`autorange`&&_.push(h),p.set(J(s(r,a).get()));continue}else if(g===`autorange`||g.substr(0,6)===`range[`){var b=i[h+`.range[0]`],x=i[h+`.range[1]`],S=i[h+`.autorange`];if(S||S===null&&b===null&&x===null){if(!(h in v)){var C=s(t,h).get();v[h]=C&&(C.autorange||C.autorange!==!1&&(!C.range||C.range.length!==2))}if(v[h]){p.set(J(s(r,a).get()));continue}}}}}else o.warn(`unrecognized GUI edit: `+a);delete i[a],d&&d.tail.substr(0,6)===`range[`&&(y[d.head]=1)}for(var w=0;w<_.length;w++){var T=_[w];if(y[T]){var E=s(t,T).get();E&&delete E.autorange}}var D=r._tracePreGUI;for(var O in D){var k=D[O],A=null,j;for(a in k){if(!A){var M=ye(O,n);if(M<0){delete D[O];break}j=n[M]._fullInput;var N=be(O,e,j.index);if(N<0){delete D[O];break}A=e[N]}if(d=_e(a,ge),d){if(d.attr?(l=s(r,d.attr).get(),u=l&&ve(d.attr,t)):(l=j.uirevision,u=A.uirevision,u===void 0&&(u=t.uirevision)),u&&u===l&&(f=k[a],f===null&&(f=void 0),p=s(A,a),m=p.get(),xe(m,f))){p.set(J(s(j,a).get()));continue}}else o.warn(`unrecognized GUI edit: `+a+` in trace uid `+O);delete k[a]}}}function Ce(e,n,r,i){var a,s;function c(){return t.addFrames(e,a)}e=o.getGraphDiv(e),x.clearPromiseQueue(e);var l=e._fullData,d=e._fullLayout;if(!o.isPlotDiv(e)||!l||!d)s=t.newPlot(e,n,r,i);else{if(o.isPlainObject(n)){var p=n;n=p.data,r=p.layout,i=p.config,a=p.frames}var m=!1;if(i){var h=o.extendDeep({},e._context);e._context=void 0,M(e,i),m=X(h,e._context)}e.data=n||[],x.cleanData(e.data),e.layout=r||{},x.cleanLayout(e.layout),Se(e.data,e.layout,l,d),f.supplyDefaults(e,{skipUpdateCalc:!0});var g=e._fullData,_=e._fullLayout,v=_.datarevision===void 0,y=_.transition,b=Te(e,d,_,v,y),C=b.newDataRevision,w=we(e,l,g,v,y,C);if(fe(e)&&(b.layoutReplot=!0),w.calc||b.calc){e.calcdata=void 0;for(var T=Object.getOwnPropertyNames(_),E=0;E<T.length;E++){var D=T[E],k=D.substring(0,5);if(k===`xaxis`||k===`yaxis`){var A=_[D]._emptyCategories;A&&A()}}}else f.supplyDefaultsUpdateCalc(e.calcdata,g);var j=[];if(a&&(e._transitionData={},f.createTransitionData(e),j.push(c)),_.transition&&!m&&(w.anim||b.anim))b.ticks&&j.push(S.doTicksRelayout),f.doCalcdata(e),S.doAutoRangeAndConstraints(e),j.push(function(){return f.transitionFromReact(e,w,b,d)});else if(w.fullReplot||b.layoutReplot||m)e._fullLayout._skipDefaults=!0,j.push(t._doPlot);else{for(var N in b.arrays){var P=b.arrays[N];if(P.length){var F=u.getComponentMethod(N,`drawOne`);if(F!==o.noop)for(var I=0;I<P.length;I++)F(e,P[I]);else{var L=u.getComponentMethod(N,`draw`);if(L===o.noop)throw Error(`cannot draw components: `+N);L(e)}}}j.push(f.previousPromises),w.style&&j.push(S.doTraceStyle),(w.colorbars||b.colorbars)&&j.push(S.doColorBars),b.legend&&j.push(S.doLegend),b.layoutstyle&&j.push(S.layoutStyles),b.axrange&&se(j),b.ticks&&j.push(S.doTicksRelayout),b.modebar&&j.push(S.doModeBar),b.camera&&j.push(S.doCamera),j.push(O)}j.push(f.rehover,f.redrag,f.reselect),s=o.syncOrAsync(j,e),(!s||!s.then)&&(s=Promise.resolve(e))}return s.then(function(){return e.emit(`plotly_react`,{data:n,layout:r}),e})}function we(e,t,n,r,i,a){var o=t.length===n.length;if(!i&&!o)return{fullReplot:!0,calc:!0};var s=C.traceFlags();s.arrays={},s.nChanges=0,s.nChangesAnim=0;var c,l;function u(e){var t=d.getTraceValObject(l,e);return!l._module.animatable&&t.anim&&(t.anim=!1),t}var p={getValObject:u,flags:s,immutable:r,transition:i,newDataRevision:a,gd:e},m={};for(c=0;c<t.length;c++)if(n[c]){if(l=n[c]._fullInput,f.hasMakesDataTransform(l)&&(l=n[c]),m[l.uid])continue;m[l.uid]=1,Ee(t[c]._fullInput,l,[],p)}return(s.calc||s.plot)&&(s.fullReplot=!0),i&&s.nChanges&&s.nChangesAnim&&(s.anim=s.nChanges===s.nChangesAnim&&o?`all`:`some`),s}function Te(e,t,n,r,i){var a=C.layoutFlags();a.arrays={},a.rangesAltered={},a.nChanges=0,a.nChangesAnim=0;function o(e){return d.getLayoutValObject(n,e)}return Ee(t,n,[],{getValObject:o,flags:a,immutable:r,transition:i,gd:e}),(a.plot||a.calc)&&(a.layoutReplot=!0),i&&a.nChanges&&a.nChangesAnim&&(a.anim=a.nChanges===a.nChangesAnim?`all`:`some`),a}function Ee(e,t,n,r){var i,a,c,l=r.getValObject,u=r.flags,d=r.immutable,f=r.inArray,p=r.arrayIndex;function m(){var e=i.editType;if(f&&e.indexOf(`arraydraw`)!==-1){o.pushUnique(u.arrays[f],p);return}C.update(u,i),e!==`none`&&u.nChanges++,r.transition&&i.anim&&u.nChangesAnim++,(ce.test(c)||le.test(c))&&(u.rangesAltered[n[0]]=1),ue.test(c)&&s(t,`_inputDomain`).set(null),a===`datarevision`&&(u.newDataRevision=1)}function h(e){return e.valType===`data_array`||e.arrayOk}for(a in e){if(u.calc&&!r.transition)return;var g=e[a],_=t[a],v=n.concat(a);if(c=v.join(`.`),!(a.charAt(0)===`_`||typeof g==`function`||g===_)){if((a===`tick0`||a===`dtick`)&&n[0]!==`geo`){var y=t.tickmode;if(y===`auto`||y===`array`||!y)continue}if(!(a===`range`&&t.autorange)&&!((a===`zmin`||a===`zmax`)&&t.type===`contourcarpet`)&&(i=l(v),i&&!(i._compareAsJSON&&JSON.stringify(g)===JSON.stringify(_)))){var b=i.valType,x,S=h(i),w=Array.isArray(g),T=Array.isArray(_);if(w&&T){var E=`_input_`+a,D=e[E],O=t[E];if(Array.isArray(D)&&D===O)continue}if(_===void 0)S&&w?u.calc=!0:m();else if(i._isLinkedToArray){var k=[],A=!1;f||(u.arrays[a]=k);var j=Math.min(g.length,_.length),M=Math.max(g.length,_.length);if(j!==M)if(i.editType===`arraydraw`)A=!0;else{m();continue}for(x=0;x<j;x++)Ee(g[x],_[x],v.concat(x),o.extendFlat({inArray:a,arrayIndex:x},r));if(A)for(x=j;x<M;x++)k.push(x)}else !b&&o.isPlainObject(g)?Ee(g,_,v,r):S?w&&T?(d&&(u.calc=!0),(d||r.newDataRevision)&&m()):w===T?m():u.calc=!0:w&&T?(g.length!==_.length||String(g)!==String(_))&&m():m()}}}for(a in t)if(!(a in e||a.charAt(0)===`_`||typeof t[a]==`function`))if(i=l(n.concat(a)),h(i)&&Array.isArray(t[a])){u.calc=!0;return}else m()}function X(e,t){for(var n in e)if(n.charAt(0)!==`_`){var r=e[n],i=t[n];if(r!==i)if(o.isPlainObject(r)&&o.isPlainObject(i)){if(X(r,i))return!0}else if(Array.isArray(r)&&Array.isArray(i)){if(r.length!==i.length)return!0;for(var a=0;a<r.length;a++)if(r[a]!==i[a])if(o.isPlainObject(r[a])&&o.isPlainObject(i[a])){if(X(r[a],i[a]))return!0}else return!0}else return!0}}function Z(e,t,n){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw Error(`This element is not a Plotly plot: `+e+`. It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/`);var r=e._transitionData;r._frameQueue||=[],n=f.supplyAnimationDefaults(n);var i=n.transition,a=n.frame;r._frameWaitingCnt===void 0&&(r._frameWaitingCnt=0);function s(e){return Array.isArray(i)?e>=i.length?i[0]:i[e]:i}function c(e){return Array.isArray(a)?e>=a.length?a[0]:a[e]:a}function l(e,t){var n=0;return function(){if(e&&++n===t)return e()}}return new Promise(function(a,u){function d(){if(r._frameQueue.length!==0){for(;r._frameQueue.length;){var t=r._frameQueue.pop();t.onInterrupt&&t.onInterrupt()}e.emit(`plotly_animationinterrupted`,[])}}function p(t){if(t.length!==0){for(var i=0;i<t.length;i++){var o=t[i].type===`byname`?f.computeFrame(e,t[i].name):t[i].data,d=c(i),p=s(i);p.duration=Math.min(p.duration,d.duration);var m={frame:o,name:t[i].name,frameOpts:d,transitionOpts:p};i===t.length-1&&(m.onComplete=l(a,2),m.onInterrupt=u),r._frameQueue.push(m)}n.mode===`immediate`&&(r._lastFrameAt=-1/0),r._animationRaf||g()}}function m(){e.emit(`plotly_animated`),window.cancelAnimationFrame(r._animationRaf),r._animationRaf=null}function h(){r._currentFrame&&r._currentFrame.onComplete&&r._currentFrame.onComplete();var t=r._currentFrame=r._frameQueue.shift();if(t){var n=t.name?t.name.toString():null;e._fullLayout._currentFrame=n,r._lastFrameAt=Date.now(),r._timeToNext=t.frameOpts.duration,f.transition(e,t.frame.data,t.frame.layout,x.coerceTraceIndices(e,t.frame.traces),t.frameOpts,t.transitionOpts).then(function(){t.onComplete&&t.onComplete()}),e.emit(`plotly_animatingframe`,{name:n,frame:t.frame,animation:{frame:t.frameOpts,transition:t.transitionOpts}})}else m()}function g(){e.emit(`plotly_animating`),r._lastFrameAt=-1/0,r._timeToNext=0,r._runningTransitions=0,r._currentFrame=null;var t=function(){r._animationRaf=window.requestAnimationFrame(t),Date.now()-r._lastFrameAt>r._timeToNext&&h()};t()}var _=0;function v(e){return Array.isArray(i)?_>=i.length?e.transitionOpts=i[_]:e.transitionOpts=i[0]:e.transitionOpts=i,_++,e}var y,b,S=[],C=t==null,w=Array.isArray(t);if(!C&&!w&&o.isPlainObject(t))S.push({type:`object`,data:v(o.extendFlat({},t))});else if(C||[`string`,`number`].indexOf(typeof t)!==-1)for(y=0;y<r._frames.length;y++)b=r._frames[y],b&&(C||String(b.group)===String(t))&&S.push({type:`byname`,name:String(b.name),data:v({name:b.name})});else if(w)for(y=0;y<t.length;y++){var T=t[y];[`number`,`string`].indexOf(typeof T)===-1?o.isPlainObject(T)&&S.push({type:`object`,data:v(o.extendFlat({},T))}):(T=String(T),S.push({type:`byname`,name:T,data:v({name:T})}))}for(y=0;y<S.length;y++)if(b=S[y],b.type===`byname`&&!r._frameHash[b.data.name]){o.warn(`animate failure: frame not found: "`+b.data.name+`"`),u();return}[`next`,`immediate`].indexOf(n.mode)!==-1&&d(),n.direction===`reverse`&&S.reverse();var E=e._fullLayout._currentFrame;if(E&&n.fromcurrent){var D=-1;for(y=0;y<S.length;y++)if(b=S[y],b.type===`byname`&&b.name===E){D=y;break}if(D>0&&D<S.length-1){var O=[];for(y=0;y<S.length;y++)b=S[y],(S[y].type!==`byname`||y>D)&&O.push(b);S=O}}S.length>0?p(S):(e.emit(`plotly_animated`),a())})}function De(e,t,n){if(e=o.getGraphDiv(e),t==null)return Promise.resolve();if(!o.isPlotDiv(e))throw Error(`This element is not a Plotly plot: `+e+`. It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/`);var r,i,a,s,c=e._transitionData._frames,u=e._transitionData._frameHash;if(!Array.isArray(t))throw Error(`addFrames failure: frameList must be an Array of frame definitions`+t);var d=c.length+t.length*2,p=[],m={};for(r=t.length-1;r>=0;r--)if(o.isPlainObject(t[r])){var h=t[r].name,g=(u[h]||m[h]||{}).name,_=t[r].name,v=u[g]||m[g];g&&_&&typeof _==`number`&&v&&T<E&&(T++,o.warn(`addFrames: overwriting frame "`+(u[g]||m[g]).name+`" with a frame whose name of type "number" also equates to "`+g+`". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.`),T===E&&o.warn(`addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.`)),m[h]={name:h},p.push({frame:f.supplyFrameDefaults(t[r]),index:n&&n[r]!==void 0&&n[r]!==null?n[r]:d+r})}p.sort(function(e,t){return e.index>t.index?-1:e.index<t.index?1:0});var y=[],b=[],x=c.length;for(r=p.length-1;r>=0;r--){if(i=p[r].frame,typeof i.name==`number`&&o.warn(`Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings`),!i.name)for(;u[i.name=`frame `+ e._transitionData._counter++];);if(u[i.name]){for(a=0;a<c.length&&(c[a]||{}).name!==i.name;a++);y.push({type:`replace`,index:a,value:i}),b.unshift({type:`replace`,index:a,value:c[a]})}else s=Math.max(0,Math.min(p[r].index,x)),y.push({type:`insert`,index:s,value:i}),b.unshift({type:`delete`,index:s}),x++}var S=f.modifyFrames,C=f.modifyFrames,w=[e,b],D=[e,y];return l&&l.add(e,S,w,C,D),f.modifyFrames(e,y)}function Q(e,t){if(e=o.getGraphDiv(e),!o.isPlotDiv(e))throw Error(`This element is not a Plotly plot: `+e);var n,r,i=e._transitionData._frames,a=[],s=[];if(!t)for(t=[],n=0;n<i.length;n++)t.push(n);for(t=t.slice(),t.sort(),n=t.length-1;n>=0;n--)r=t[n],a.push({type:`delete`,index:r}),s.unshift({type:`insert`,index:r,value:i[r]});var c=f.modifyFrames,u=f.modifyFrames,d=[e,s],p=[e,a];return l&&l.add(e,c,d,u,p),f.modifyFrames(e,a)}function Oe(e){e=o.getGraphDiv(e);var t=e._fullLayout||{},n=e._fullData||[];return f.cleanPlot([],{},n,t),f.purge(e),c.purge(e),t._container&&t._container.remove(),delete e._context,e}function ke(e){var t=e._fullLayout,n=e.getBoundingClientRect();if(!o.equalDomRects(n,t._lastBBox)){var r=t._invTransform=o.inverseTransformMatrix(o.getFullTransformMatrix(e));t._invScaleX=Math.sqrt(r[0][0]*r[0][0]+r[0][1]*r[0][1]+r[0][2]*r[0][2]),t._invScaleY=Math.sqrt(r[1][0]*r[1][0]+r[1][1]*r[1][1]+r[1][2]*r[1][2]),t._lastBBox=n}}function Ae(e){var t=r.select(e),n=e._fullLayout;if(n._calcInverseTransform=ke,n._calcInverseTransform(e),n._container=t.selectAll(`.plot-container`).data([0]),n._container.enter().insert(`div`,`:first-child`).classed(`plot-container`,!0).classed(`plotly`,!0),n._paperdiv=n._container.selectAll(`.svg-container`).data([0]),n._paperdiv.enter().append(`div`).classed(`user-select-none`,!0).classed(`svg-container`,!0).style(`position`,`relative`),n._glcontainer=n._paperdiv.selectAll(`.gl-container`).data([{}]),n._glcontainer.enter().append(`div`).classed(`gl-container`,!0),n._paperdiv.selectAll(`.main-svg`).remove(),n._paperdiv.select(`.modebar-container`).remove(),n._paper=n._paperdiv.insert(`svg`,`:first-child`).classed(`main-svg`,!0),n._toppaper=n._paperdiv.append(`svg`).classed(`main-svg`,!0),n._modebardiv=n._paperdiv.append(`div`),delete n._modeBar,n._hoverpaper=n._paperdiv.append(`svg`).classed(`main-svg`,!0),!n._uid){var i={};r.selectAll(`defs`).each(function(){this.id&&(i[this.id.split(`-`)[1]]=1)}),n._uid=o.randstr(i)}n._paperdiv.selectAll(`.main-svg`).attr(_.svgAttrs),n._defs=n._paper.append(`defs`).attr(`id`,`defs-`+n._uid),n._clips=n._defs.append(`g`).classed(`clips`,!0),n._topdefs=n._toppaper.append(`defs`).attr(`id`,`topdefs-`+n._uid),n._topclips=n._topdefs.append(`g`).classed(`clips`,!0),n._bgLayer=n._paper.append(`g`).classed(`bglayer`,!0),n._draggers=n._paper.append(`g`).classed(`draglayer`,!0);var a=n._paper.append(`g`).classed(`layer-below`,!0);n._imageLowerLayer=a.append(`g`).classed(`imagelayer`,!0),n._shapeLowerLayer=a.append(`g`).classed(`shapelayer`,!0),n._cartesianlayer=n._paper.append(`g`).classed(`cartesianlayer`,!0),n._polarlayer=n._paper.append(`g`).classed(`polarlayer`,!0),n._smithlayer=n._paper.append(`g`).classed(`smithlayer`,!0),n._ternarylayer=n._paper.append(`g`).classed(`ternarylayer`,!0),n._geolayer=n._paper.append(`g`).classed(`geolayer`,!0),n._funnelarealayer=n._paper.append(`g`).classed(`funnelarealayer`,!0),n._pielayer=n._paper.append(`g`).classed(`pielayer`,!0),n._iciclelayer=n._paper.append(`g`).classed(`iciclelayer`,!0),n._treemaplayer=n._paper.append(`g`).classed(`treemaplayer`,!0),n._sunburstlayer=n._paper.append(`g`).classed(`sunburstlayer`,!0),n._indicatorlayer=n._toppaper.append(`g`).classed(`indicatorlayer`,!0),n._glimages=n._paper.append(`g`).classed(`glimages`,!0);var s=n._toppaper.append(`g`).classed(`layer-above`,!0);n._imageUpperLayer=s.append(`g`).classed(`imagelayer`,!0),n._shapeUpperLayer=s.append(`g`).classed(`shapelayer`,!0),n._selectionLayer=n._toppaper.append(`g`).classed(`selectionlayer`,!0),n._infolayer=n._toppaper.append(`g`).classed(`infolayer`,!0),n._menulayer=n._toppaper.append(`g`).classed(`menulayer`,!0),n._zoomlayer=n._toppaper.append(`g`).classed(`zoomlayer`,!0),n._hoverlayer=n._hoverpaper.append(`g`).classed(`hoverlayer`,!0),n._modebardiv.classed(`modebar-container`,!0).style(`position`,`absolute`).style(`top`,`0px`).style(`right`,`0px`),e.emit(`plotly_framework`)}t.animate=Z,t.addFrames=De,t.deleteFrames=Q,t.addTraces=G,t.deleteTraces=K,t.extendTraces=U,t.moveTraces=ee,t.prependTraces=W,t.newPlot=P,t._doPlot=D,t.purge=Oe,t.react=Ce,t.redraw=N,t.relayout=ae,t.restyle=q,t.setPlotConfig=k,t.update=pe,t._guiRelayout=me(ae),t._guiRestyle=me(q),t._guiUpdate=me(pe),t._storeDirectGUIEdit=ne}),72075:(function(e){var t={staticPlot:{valType:`boolean`,dflt:!1},typesetMath:{valType:`boolean`,dflt:!0},plotlyServerURL:{valType:`string`,dflt:``},editable:{valType:`boolean`,dflt:!1},edits:{annotationPosition:{valType:`boolean`,dflt:!1},annotationTail:{valType:`boolean`,dflt:!1},annotationText:{valType:`boolean`,dflt:!1},axisTitleText:{valType:`boolean`,dflt:!1},colorbarPosition:{valType:`boolean`,dflt:!1},colorbarTitleText:{valType:`boolean`,dflt:!1},legendPosition:{valType:`boolean`,dflt:!1},legendText:{valType:`boolean`,dflt:!1},shapePosition:{valType:`boolean`,dflt:!1},titleText:{valType:`boolean`,dflt:!1}},editSelection:{valType:`boolean`,dflt:!0},autosizable:{valType:`boolean`,dflt:!1},responsive:{valType:`boolean`,dflt:!1},fillFrame:{valType:`boolean`,dflt:!1},frameMargins:{valType:`number`,dflt:0,min:0,max:.5},scrollZoom:{valType:`flaglist`,flags:[`cartesian`,`gl3d`,`geo`,`mapbox`],extras:[!0,!1],dflt:`gl3d+geo+mapbox`},doubleClick:{valType:`enumerated`,values:[!1,`reset`,`autosize`,`reset+autosize`],dflt:`reset+autosize`},doubleClickDelay:{valType:`number`,dflt:300,min:0},showAxisDragHandles:{valType:`boolean`,dflt:!0},showAxisRangeEntryBoxes:{valType:`boolean`,dflt:!0},showTips:{valType:`boolean`,dflt:!0},showLink:{valType:`boolean`,dflt:!1},linkText:{valType:`string`,dflt:`Edit chart`,noBlank:!0},sendData:{valType:`boolean`,dflt:!0},showSources:{valType:`any`,dflt:!1},displayModeBar:{valType:`enumerated`,values:[`hover`,!0,!1],dflt:`hover`},showSendToCloud:{valType:`boolean`,dflt:!1},showEditInChartStudio:{valType:`boolean`,dflt:!1},modeBarButtonsToRemove:{valType:`any`,dflt:[]},modeBarButtonsToAdd:{valType:`any`,dflt:[]},modeBarButtons:{valType:`any`,dflt:!1},toImageButtonOptions:{valType:`any`,dflt:{}},displaylogo:{valType:`boolean`,dflt:!0},watermark:{valType:`boolean`,dflt:!1},plotGlPixelRatio:{valType:`number`,dflt:2,min:1,max:4},setBackground:{valType:`any`,dflt:`transparent`},topojsonURL:{valType:`string`,noBlank:!0,dflt:`https://cdn.plot.ly/`},mapboxAccessToken:{valType:`string`,dflt:null},logging:{valType:`integer`,min:0,max:2,dflt:1},notifyOnLogging:{valType:`integer`,min:0,max:2,dflt:0},queueLength:{valType:`integer`,min:0,dflt:0},globalTransforms:{valType:`any`,dflt:[]},locale:{valType:`string`,dflt:`en-US`},locales:{valType:`any`,dflt:{}}},n={};function r(e,t){for(var n in e){var i=e[n];i.valType?t[n]=i.dflt:(t[n]||(t[n]={}),r(i,t[n]))}}r(t,n),e.exports={configAttributes:t,dfltConfig:n}}),86281:(function(e,t,n){var r=n(73972),i=n(71828),a=n(9012),o=n(10820),s=n(31391),c=n(85594),l=n(72075).configAttributes,u=n(30962),d=i.extendDeepAll,f=i.isPlainObject,p=i.isArrayOrTypedArray,m=i.nestedProperty,h=i.valObjectMeta,g=`_isSubplotObj`,_=`_isLinkedToArray`,v=`_arrayAttrRegexps`,y=`_deprecated`,b=[g,_,v,y];t.IS_SUBPLOT_OBJ=g,t.IS_LINKED_TO_ARRAY=_,t.DEPRECATED=y,t.UNDERSCORE_ATTRS=b,t.get=function(){var e={};r.allTypes.forEach(function(t){e[t]=w(t)});var t={};return Object.keys(r.transformsRegistry).forEach(function(e){t[e]=E(e)}),{defs:{valObjects:h,metaKeys:b.concat([`description`,`role`,`editType`,`impliedEdits`]),editType:{traces:u.traces,layout:u.layout},impliedEdits:{}},traces:e,layout:T(),transforms:t,frames:D(),animation:O(c),config:O(l)}},t.crawl=function(e,n,r,i){var a=r||0;i||=``,Object.keys(e).forEach(function(r){var o=e[r];if(b.indexOf(r)===-1){var s=(i?i+`.`:``)+r;n(o,r,e,a,s),!t.isValObject(o)&&f(o)&&r!==`impliedEdits`&&t.crawl(o,n,a+1,s)}})},t.isValObject=function(e){return e&&e.valType!==void 0},t.findArrayAttributes=function(e){var n=[],r=[],i=[],o,s;function c(e,t,n,a){r=r.slice(0,a).concat([t]),i=i.slice(0,a).concat([e&&e._isLinkedToArray]),e&&(e.valType===`data_array`||e.arrayOk===!0)&&!(r[a-1]===`colorbar`&&(t===`ticktext`||t===`tickvals`))&&l(o,0,``)}function l(e,t,a){var o=e[r[t]],c=a+r[t];if(t===r.length-1)p(o)&&n.push(s+c);else if(i[t]){if(Array.isArray(o))for(var u=0;u<o.length;u++)f(o[u])&&l(o[u],t+1,c+`[`+u+`].`)}else f(o)&&l(o,t+1,c+`.`)}o=e,s=``,t.crawl(a,c),e._module&&e._module.attributes&&t.crawl(e._module.attributes,c);var u=e.transforms;if(u)for(var d=0;d<u.length;d++){var m=u[d],h=m._module;h&&(s=`transforms[`+d+`].`,o=m,t.crawl(h.attributes,c))}return n},t.getTraceValObject=function(e,t){var n=t[0],i=1,o,s;if(n===`transforms`){if(t.length===1)return a.transforms;var c=e.transforms;if(!Array.isArray(c)||!c.length)return!1;var l=t[1];if(!C(l)||l>=c.length)return!1;o=(r.transformsRegistry[c[l].type]||{}).attributes,s=o&&o[t[2]],i=3}else{var u=e._module;if(u||=(r.modules[e.type||a.type.dflt]||{})._module,!u)return!1;if(o=u.attributes,s=o&&o[n],!s){var d=u.basePlotModule;d&&d.attributes&&(s=d.attributes[n])}s||=a[n]}return S(s,t,i)},t.getLayoutValObject=function(e,t){return S(x(e,t[0]),t,1)};function x(e,t){var n,i,a,s,c=e._basePlotModules;if(c){var l;for(n=0;n<c.length;n++){if(a=c[n],a.attrRegex&&a.attrRegex.test(t)){if(a.layoutAttrOverrides)return a.layoutAttrOverrides;!l&&a.layoutAttributes&&(l=a.layoutAttributes)}var u=a.baseLayoutAttrOverrides;if(u&&t in u)return u[t]}if(l)return l}var d=e._modules;if(d){for(n=0;n<d.length;n++)if(s=d[n].layoutAttributes,s&&t in s)return s[t]}for(i in r.componentsRegistry){if(a=r.componentsRegistry[i],a.name===`colorscale`&&t.indexOf(`coloraxis`)===0)return a.layoutAttributes[t];if(!a.schema&&t===a.name)return a.layoutAttributes}return t in o?o[t]:!1}function S(e,t,n){if(!e)return!1;if(e._isLinkedToArray){if(C(t[n]))n++;else if(n<t.length)return!1}for(;n<t.length;n++){var r=e[t[n]];if(f(r))e=r;else break;if(n===t.length-1)break;if(e._isLinkedToArray){if(n++,!C(t[n]))return!1}else if(e.valType===`info_array`){n++;var i=t[n];if(!C(i))return!1;var a=e.items;if(Array.isArray(a)){if(i>=a.length)return!1;if(e.dimensions===2){if(n++,t.length===n)return e;var o=t[n];if(!C(o))return!1;e=a[i][o]}else e=a[i]}else e=a}}return e}function C(e){return e===Math.round(e)&&e>=0}function w(e){var n=r.modules[e]._module,i=n.basePlotModule,o={};o.type=null;var s=d({},a),c=d({},n.attributes);t.crawl(c,function(e,t,n,r,i){m(s,i).set(void 0),e===void 0&&m(c,i).set(void 0)}),d(o,s),r.traceIs(e,`noOpacity`)&&delete o.opacity,r.traceIs(e,`showLegend`)||(delete o.showlegend,delete o.legendgroup),r.traceIs(e,`noHover`)&&(delete o.hoverinfo,delete o.hoverlabel),n.selectPoints||delete o.selectedpoints,d(o,c),i.attributes&&d(o,i.attributes),o.type=e;var l={meta:n.meta||{},categories:n.categories||{},animatable:!!n.animatable,type:e,attributes:O(o)};if(n.layoutAttributes){var u={};d(u,n.layoutAttributes),l.layoutAttributes=O(u)}return n.animatable||t.crawl(l,function(e){t.isValObject(e)&&`anim`in e&&delete e.anim}),l}function T(){var e={},t,n;for(t in d(e,o),r.subplotsRegistry)if(n=r.subplotsRegistry[t],n.layoutAttributes)if(Array.isArray(n.attr))for(var i=0;i<n.attr.length;i++)M(e,n,n.attr[i]);else{var a=n.attr===`subplot`?n.name:n.attr;M(e,n,a)}for(t in r.componentsRegistry){n=r.componentsRegistry[t];var s=n.schema;if(s&&(s.subplots||s.layout)){var c=s.subplots;if(c&&c.xaxis&&!c.yaxis)for(var l in c.xaxis)delete e.yaxis[l];delete e.xaxis.shift,delete e.xaxis.autoshift}else n.name===`colorscale`?d(e,n.layoutAttributes):n.layoutAttributes&&N(e,n.layoutAttributes,n.name)}return{layoutAttributes:O(e)}}function E(e){var t=r.transformsRegistry[e],n=d({},t.attributes);return Object.keys(r.componentsRegistry).forEach(function(t){var i=r.componentsRegistry[t];i.schema&&i.schema.transforms&&i.schema.transforms[e]&&Object.keys(i.schema.transforms[e]).forEach(function(t){N(n,i.schema.transforms[e][t],t)})}),{attributes:O(n)}}function D(){var e={frames:d({},s)};return O(e),e.frames}function O(e){return k(e),A(e),j(e),e}function k(e){function n(e){return{valType:`string`,editType:`none`}}function r(e,r,i){t.isValObject(e)?(e.arrayOk===!0||e.valType===`data_array`)&&(i[r+`src`]=n(r)):f(e)&&(e.role=`object`)}t.crawl(e,r)}function A(e){function n(e,t,n){if(e){var r=e[_];r&&(delete e[_],n[t]={items:{}},n[t].items[r]=e,n[t].role=`object`)}}t.crawl(e,n)}function j(e){function t(e){for(var n in e)if(f(e[n]))t(e[n]);else if(Array.isArray(e[n]))for(var r=0;r<e[n].length;r++)t(e[n][r]);else e[n]instanceof RegExp&&(e[n]=e[n].toString())}t(e)}function M(e,t,n){var r=m(e,n),i=d({},t.layoutAttributes);i[g]=!0,r.set(i)}function N(e,t,n){var r=m(e,n);r.set(d(r.get()||{},t))}}),44467:(function(e,t,n){var r=n(71828),i=n(9012),a=`templateitemname`,o={name:{valType:`string`,editType:`none`}};o[a]={valType:`string`,editType:`calc`},t.templatedArray=function(e,t){return t._isLinkedToArray=e,t.name=o.name,t[a]=o[a],t},t.traceTemplater=function(e){var t={},n,a;for(n in e)a=e[n],Array.isArray(a)&&a.length&&(t[n]=0);function o(o){n=r.coerce(o,{},i,`type`);var s={type:n,_template:null};if(n in t){a=e[n];var c=t[n]%a.length;t[n]++,s._template=a[c]}return s}return{newTrace:o}},t.newContainer=function(e,t,n){var i=e._template,a=i&&(i[t]||n&&i[n]);return r.isPlainObject(a)||(a=null),e[t]={_template:a}},t.arrayTemplater=function(e,t,n){var r=e._template,i=r&&r[c(t)],o=r&&r[t];(!Array.isArray(o)||!o.length)&&(o=[]);var l={};function u(e){var t={name:e.name,_input:e},r=t[a]=e[a];if(!s(r))return t._template=i,t;for(var c=0;c<o.length;c++){var u=o[c];if(u.name===r)return l[r]=1,t._template=u,t}return t[n]=e[n]||!1,t._template=!1,t}function d(){for(var e=[],t=0;t<o.length;t++){var n=o[t],r=n.name;if(s(r)&&!l[r]){var i={_template:n,name:r,_input:{_templateitemname:r}};i[a]=n[a],e.push(i),l[r]=1}}return e}return{newItem:u,defaultItems:d}};function s(e){return e&&typeof e==`string`}function c(e){var t=e.length-1;return e.charAt(t)!==`s`&&r.warn(`bad argument to arrayDefaultKey: `+e),e.substr(0,e.length-1)+`defaults`}t.arrayDefaultKey=c,t.arrayEditor=function(e,t,n){var i=(r.nestedProperty(e,t).get()||[]).length,o=n._index,s=o>=i&&(n._input||{})._templateitemname;s&&(o=i);var c=t+`[`+o+`]`,l;function u(){l={},s&&(l[c]={},l[c][a]=s)}u();function d(e,t){l[e]=t}function f(e,t){s?r.nestedProperty(l[c],e).set(t):l[c+`.`+e]=t}function p(){var e=l;return u(),e}function m(t,n){t&&f(t,n);var i=p();for(var a in i)r.nestedProperty(e,a).set(i[a])}return{modifyBase:d,modifyItem:f,getUpdateObj:p,applyUpdate:m}}}),61549:(function(e,t,n){var r=n(39898),i=n(73972),a=n(74875),o=n(71828),s=n(33306),c=n(7901),l=n(91424),u=n(92998),d=n(64168),f=n(89298),p=n(18783),m=n(99082),h=m.enforce,g=m.clean,_=n(71739).doAutoRange,v=`start`,y=`middle`,b=`end`;t.layoutStyles=function(e){return o.syncOrAsync([a.doAutoMargin,S],e)};function x(e,t,n){for(var r=0;r<n.length;r++){var i=n[r][0],a=n[r][1];if(!(i[0]>=e[1]||i[1]<=e[0])&&a[0]<t[1]&&a[1]>t[0])return!0}return!1}function S(e){var n=e._fullLayout,i=n._size,s=i.p,u=f.list(e,``,!0),m,h,g,_,v,y;if(n._paperdiv.style({width:e._context.responsive&&n.autosize&&!e._context._hasZeroWidth&&!e.layout.width?`100%`:n.width+`px`,height:e._context.responsive&&n.autosize&&!e._context._hasZeroHeight&&!e.layout.height?`100%`:n.height+`px`}).selectAll(`.main-svg`).call(l.setSize,n.width,n.height),e._context.setBackground(e,n.paper_bgcolor),t.drawMainTitle(e),d.manage(e),!n._has(`cartesian`))return a.previousPromises(e);function b(e,t,n){var r=e._lw/2;if(e._id.charAt(0)===`x`){if(t){if(n===`top`)return t._offset-s-r}else return i.t+i.h*(1-(e.position||0))+r%1;return t._offset+t._length+s+r}if(t){if(n===`right`)return t._offset+t._length+s+r}else return i.l+i.w*(e.position||0)+r%1;return t._offset-s-r}for(m=0;m<u.length;m++){_=u[m];var S=_._anchorAxis;_._linepositions={},_._lw=l.crispRound(e,_.linewidth,1),_._mainLinePosition=b(_,S,_.side),_._mainMirrorPosition=_.mirror&&S?b(_,S,p.OPPOSITE_SIDE[_.side]):null}var w=[],E=[],D=[],O=c.opacity(n.paper_bgcolor)===1&&c.opacity(n.plot_bgcolor)===1&&n.paper_bgcolor===n.plot_bgcolor;for(h in n._plots)if(g=n._plots[h],g.mainplot)g.bg&&g.bg.remove(),g.bg=void 0;else{var k=g.xaxis.domain,A=g.yaxis.domain,j=g.plotgroup;if(x(k,A,D)){var M=j.node(),N=g.bg=o.ensureSingle(j,`rect`,`bg`);M.insertBefore(N.node(),M.childNodes[0]),E.push(h)}else j.select(`rect.bg`).remove(),D.push([k,A]),O||(w.push(h),E.push(h))}var P=n._bgLayer.selectAll(`.bg`).data(w);for(P.enter().append(`rect`).classed(`bg`,!0),P.exit().remove(),P.each(function(e){n._plots[e].bg=r.select(this)}),m=0;m<E.length;m++)g=n._plots[E[m]],v=g.xaxis,y=g.yaxis,g.bg&&v._offset!==void 0&&y._offset!==void 0&&g.bg.call(l.setRect,v._offset-s,y._offset-s,v._length+2*s,y._length+2*s).call(c.fill,n.plot_bgcolor).style(`stroke-width`,0);if(!n._hasOnlyLargeSploms)for(h in n._plots){g=n._plots[h],v=g.xaxis,y=g.yaxis;var F=g.clipId=`clip`+n._uid+h+`plot`;g.clipRect=o.ensureSingleById(n._clips,`clipPath`,F,function(e){e.classed(`plotclip`,!0).append(`rect`)}).select(`rect`).attr({width:v._length,height:y._length}),l.setTranslate(g.plot,v._offset,y._offset);var I,L;g._hasClipOnAxisFalse?(I=null,L=F):(I=F,L=null),l.setClipUrl(g.plot,I,e),g.layerClipId=L}var R,z,B,V,H,U,W,G,K,ee,q,J,Y;function te(e){return`M`+R+`,`+e+`H`+z}function ne(e){return`M`+v._offset+`,`+e+`h`+v._length}function re(e){return`M`+e+`,`+G+`V`+W}function ie(e){return y._shift!==void 0&&(e+=y._shift),`M`+e+`,`+y._offset+`v`+y._length}function ae(e,t,n){if(!e.showline||h!==e._mainSubplot)return``;if(!e._anchorAxis)return n(e._mainLinePosition);var r=t(e._mainLinePosition);return e.mirror&&(r+=t(e._mainMirrorPosition)),r}for(h in n._plots){g=n._plots[h],v=g.xaxis,y=g.yaxis;var oe=`M0,0`;C(v,h)&&(H=T(v,`left`,y,u),R=v._offset-(H?s+H:0),U=T(v,`right`,y,u),z=v._offset+v._length+(U?s+U:0),B=b(v,y,`bottom`),V=b(v,y,`top`),Y=!v._anchorAxis||h!==v._mainSubplot,Y&&(v.mirror===`allticks`||v.mirror===`all`)&&(v._linepositions[h]=[B,V]),oe=ae(v,te,ne),Y&&v.showline&&(v.mirror===`all`||v.mirror===`allticks`)&&(oe+=te(B)+te(V)),g.xlines.style(`stroke-width`,v._lw+`px`).call(c.stroke,v.showline?v.linecolor:`rgba(0,0,0,0)`)),g.xlines.attr(`d`,oe);var se=`M0,0`;C(y,h)&&(q=T(y,`bottom`,v,u),W=y._offset+y._length+(q?s:0),J=T(y,`top`,v,u),G=y._offset-(J?s:0),K=b(y,v,`left`),ee=b(y,v,`right`),Y=!y._anchorAxis||h!==y._mainSubplot,Y&&(y.mirror===`allticks`||y.mirror===`all`)&&(y._linepositions[h]=[K,ee]),se=ae(y,re,ie),Y&&y.showline&&(y.mirror===`all`||y.mirror===`allticks`)&&(se+=re(K)+re(ee)),g.ylines.style(`stroke-width`,y._lw+`px`).call(c.stroke,y.showline?y.linecolor:`rgba(0,0,0,0)`)),g.ylines.attr(`d`,se)}return f.makeClipPaths(e),a.previousPromises(e)}function C(e,t){return(e.ticks||e.showline)&&(t===e._mainSubplot||e.mirror===`all`||e.mirror===`allticks`)}function w(e,t,n){if(!n.showline||!n._lw)return!1;if(n.mirror===`all`||n.mirror===`allticks`)return!0;var r=n._anchorAxis;if(!r)return!1;var i=p.FROM_BL[t];return n.side===t?r.domain[i]===e.domain[i]:n.mirror&&r.domain[1-i]===e.domain[1-i]}function T(e,t,n,r){if(w(e,t,n))return n._lw;for(var i=0;i<r.length;i++){var a=r[i];if(a._mainAxis===n._mainAxis&&w(e,t,a))return a._lw}return 0}t.drawMainTitle=function(e){var t=e._fullLayout,n=O(t),r=k(t);u.draw(e,`gtitle`,{propContainer:t,propName:`title.text`,placeholder:t._dfltTitle.plot,attributes:{x:E(t,n),y:D(t,r),"text-anchor":n,dy:r}})};function E(e,t){var n=e.title,r=e._size,i=0;switch(t===v?i=n.pad.l:t===b&&(i=-n.pad.r),n.xref){case`paper`:return r.l+r.w*n.x+i;case`container`:default:return e.width*n.x+i}}function D(e,t){var n=e.title,r=e._size,i=0;if(t===`0em`||!t?i=-n.pad.b:t===p.CAP_SHIFT+`em`&&(i=n.pad.t),n.y===`auto`)return r.t/2;switch(n.yref){case`paper`:return r.t+r.h-r.h*n.y+i;case`container`:default:return e.height-e.height*n.y+i}}function O(e){var t=e.title,n=y;return o.isRightAnchor(t)?n=b:o.isLeftAnchor(t)&&(n=v),n}function k(e){var t=e.title,n=`0em`;return o.isTopAnchor(t)?n=p.CAP_SHIFT+`em`:o.isMiddleAnchor(t)&&(n=p.MID_SHIFT+`em`),n}t.doTraceStyle=function(e){var n=e.calcdata,r=[],o;for(o=0;o<n.length;o++){var c=n[o],l=c[0]||{},u=l.trace||{},d=u._module||{},f=d.arraysToCalcdata;f&&f(c,u);var p=d.editStyle;p&&r.push({fn:p,cd0:l})}if(r.length){for(o=0;o<r.length;o++){var m=r[o];m.fn(e,m.cd0)}s(e),t.redrawReglTraces(e)}return a.style(e),i.getComponentMethod(`legend`,`draw`)(e),a.previousPromises(e)},t.doColorBars=function(e){return i.getComponentMethod(`colorbar`,`draw`)(e),a.previousPromises(e)},t.layoutReplot=function(e){var t=e.layout;return e.layout=void 0,i.call(`_doPlot`,e,``,t)},t.doLegend=function(e){return i.getComponentMethod(`legend`,`draw`)(e),a.previousPromises(e)},t.doTicksRelayout=function(e){return f.draw(e,`redraw`),e._fullLayout._hasOnlyLargeSploms&&(i.subplotsRegistry.splom.updateGrid(e),s(e),t.redrawReglTraces(e)),t.drawMainTitle(e),a.previousPromises(e)},t.doModeBar=function(e){var t=e._fullLayout;d.manage(e);for(var n=0;n<t._basePlotModules.length;n++){var r=t._basePlotModules[n].updateFx;r&&r(e)}return a.previousPromises(e)},t.doCamera=function(e){for(var t=e._fullLayout,n=t._subplots.gl3d,r=0;r<n.length;r++){var i=t[n[r]];i._scene.setViewport(i)}},t.drawData=function(e){var n=e._fullLayout;s(e);for(var r=n._basePlotModules,o=0;o<r.length;o++)r[o].plot(e);return t.redrawReglTraces(e),a.style(e),i.getComponentMethod(`selections`,`draw`)(e),i.getComponentMethod(`shapes`,`draw`)(e),i.getComponentMethod(`annotations`,`draw`)(e),i.getComponentMethod(`images`,`draw`)(e),n._replotting=!1,a.previousPromises(e)},t.redrawReglTraces=function(e){var t=e._fullLayout;if(t._has(`regl`)){var n=e._fullData,r=[],i=[],a,s;for(t._hasOnlyLargeSploms&&t._splomGrid.draw(),a=0;a<n.length;a++){var c=n[a];c.visible===!0&&c._length!==0&&(c.type===`splom`?t._splomScenes[c.uid].draw():c.type===`scattergl`?o.pushUnique(r,c.xaxis+c.yaxis):c.type===`scatterpolargl`&&o.pushUnique(i,c.subplot))}for(a=0;a<r.length;a++)s=t._plots[r[a]],s._scene&&s._scene.draw();for(a=0;a<i.length;a++)s=t[i[a]]._subplot,s._scene&&s._scene.draw()}},t.doAutoRangeAndConstraints=function(e){for(var t=f.list(e,``,!0),n,r={},i=0;i<t.length;i++)if(n=t[i],!r[n._id]){r[n._id]=1,g(e,n),_(e,n);var a=n._matchGroup;if(a)for(var o in a)_(e,f.getFromId(e,o),n.range),r[o]=1}h(e)},t.finalDraw=function(e){i.getComponentMethod(`rangeslider`,`draw`)(e),i.getComponentMethod(`rangeselector`,`draw`)(e)},t.drawMarginPushers=function(e){i.getComponentMethod(`legend`,`draw`)(e),i.getComponentMethod(`rangeselector`,`draw`)(e),i.getComponentMethod(`sliders`,`draw`)(e),i.getComponentMethod(`updatemenus`,`draw`)(e),i.getComponentMethod(`colorbar`,`draw`)(e)}}),96318:(function(e,t,n){var r=n(71828),i=r.isPlainObject,a=n(86281),o=n(74875),s=n(9012),c=n(44467),l=n(72075).dfltConfig;t.makeTemplate=function(e){e=r.isPlainObject(e)?e:r.getGraphDiv(e),e=r.extendDeep({_context:l},{data:e.data,layout:e.layout}),o.supplyDefaults(e);var t=e.data||[],n=e.layout||{};n._basePlotModules=e._fullLayout._basePlotModules,n._modules=e._fullLayout._modules;var a={data:{},layout:{}};t.forEach(function(e){var t={};f(e,t,m.bind(null,e));var n=r.coerce(e,{},s,`type`),i=a.data[n];i||=a.data[n]=[],i.push(t)}),f(n,a.layout,p.bind(null,n)),delete a.layout.template;var c=n.template;if(i(c)){var d=c.layout,h,g,_,v,y,b;i(d)&&u(d,a.layout);var x=c.data;if(i(x)){for(g in a.data)if(_=x[g],Array.isArray(_)){for(y=a.data[g],b=y.length,v=_.length,h=0;h<b;h++)u(_[h%v],y[h]);for(h=b;h<v;h++)y.push(r.extendDeep({},_[h]))}for(g in x)g in a.data||(a.data[g]=r.extendDeep([],x[g]))}}return a};function u(e,t){e=r.extendDeep({},e);var n=Object.keys(e).sort(),a,o;function s(t,n,r){if(i(n)&&i(t))u(t,n);else if(Array.isArray(n)&&Array.isArray(t)){var a=c.arrayTemplater({_template:e},r);for(o=0;o<n.length;o++){var s=n[o],l=a.newItem(s)._template;l&&u(l,s)}var d=a.defaultItems();for(o=0;o<d.length;o++)n.push(d[o]._template);for(o=0;o<n.length;o++)delete n[o].templateitemname}}for(a=0;a<n.length;a++){var l=n[a],f=e[l];if(l in t?s(f,t[l],l):t[l]=f,d(l)===l)for(var p in t){var m=d(p);p!==m&&m===l&&!(p in e)&&s(f,t[p],l)}}}function d(e){return e.replace(/[0-9]+$/,``)}function f(e,t,n,a,o){var s=o&&n(o);for(var l in e){var u=e[l],p=h(e,l,a),m=h(e,l,o),g=n(m);if(!g){var _=d(l);_!==l&&(m=h(e,_,o),g=n(m))}if(!(s&&s===g)&&!(!g||g._noTemplating||g.valType===`data_array`||g.arrayOk&&Array.isArray(u)))if(!g.valType&&i(u))f(u,t,n,p,m);else if(g._isLinkedToArray&&Array.isArray(u))for(var v=!1,y=0,b={},x=0;x<u.length;x++){var S=u[x];if(i(S)){var C=S.name;if(C)b[C]||(f(S,t,n,h(u,y,p),h(u,y,m)),y++,b[C]=1);else if(!v){var w=h(e,c.arrayDefaultKey(l),a),T=h(u,y,p);f(S,t,n,T,h(u,y,m));var E=r.nestedProperty(t,T);r.nestedProperty(t,w).set(E.get()),E.set(null),v=!0}}}else r.nestedProperty(t,p).set(u)}}function p(e,t){return a.getLayoutValObject(e,r.nestedProperty({},t).parts)}function m(e,t){return a.getTraceValObject(e,r.nestedProperty({},t).parts)}function h(e,t,n){return n?Array.isArray(e)?n+`[`+t+`]`:n+`.`+t:t}t.validateTemplate=function(e,t){var n=r.extendDeep({},{_context:l,data:e.data,layout:e.layout}),a=n.layout||{};i(t)||(t=a.template||{});var s=t.layout,c=t.data,u=[];n.layout=a,n.layout.template=t,o.supplyDefaults(n);var f=n._fullLayout,p=n._fullData,m={};function v(e,t){for(var n in e)if(n.charAt(0)!==`_`&&i(e[n])){var r=d(n),a=[],o;for(o=0;o<t.length;o++)a.push(h(e,n,t[o])),r!==n&&a.push(h(e,r,t[o]));for(o=0;o<a.length;o++)m[a[o]]=1;v(e[n],a)}}function y(e,t){for(var n in e)if(n.indexOf(`defaults`)===-1&&i(e[n])){var r=h(e,n,t);m[r]?y(e[n],r):u.push({code:`unused`,path:r})}}if(i(s)?(v(f,[`layout`]),y(s,`layout`)):u.push({code:`layout`}),!i(c))u.push({code:`data`});else{for(var b={},x,S=0;S<p.length;S++){var C=p[S];x=C.type,b[x]=(b[x]||0)+1,C._fullInput._template||u.push({code:`missing`,index:C._fullInput.index,traceType:x})}for(x in c){var w=c[x].length,T=b[x]||0;w>T?u.push({code:`unused`,traceType:x,templateCount:w,dataCount:T}):T>w&&u.push({code:`reused`,traceType:x,templateCount:w,dataCount:T})}}function E(e,t){for(var n in e)if(n.charAt(0)!==`_`){var r=e[n],a=h(e,n,t);i(r)?(Array.isArray(e)&&r._template===!1&&r.templateitemname&&u.push({code:`missing`,path:a,templateitemname:r.templateitemname}),E(r,a)):Array.isArray(r)&&g(r)&&E(r,a)}}if(E({data:p,layout:f},``),u.length)return u.map(_)};function g(e){for(var t=0;t<e.length;t++)if(i(e[t]))return!0}function _(e){var t;switch(e.code){case`data`:t=`The template has no key data.`;break;case`layout`:t=`The template has no key layout.`;break;case`missing`:t=e.path?`There are no templates for item `+e.path+` with name `+e.templateitemname:`There are no templates for trace `+e.index+`, of type `+e.traceType+`.`;break;case`unused`:t=e.path?`The template item at `+e.path+` was not used in constructing the plot.`:e.dataCount?`Some of the templates of type `+e.traceType+` were not used. The template has `+e.templateCount+` traces, the data only has `+e.dataCount+` of this type.`:`The template has `+e.templateCount+` traces of type `+e.traceType+` but there are none in the data.`;break;case`reused`:t=`Some of the templates of type `+e.traceType+` were used more than once. The template has `+e.templateCount+` traces, the data has `+e.dataCount+` of this type.`;break}return e.msg=t,e}}),403:(function(e,t,n){var r=n(92770),i=n(72391),a=n(74875),o=n(71828),s=n(25095),c=n(5900),l=n(70942),u=n(11506).version,d={format:{valType:`enumerated`,values:[`png`,`jpeg`,`webp`,`svg`,`full-json`],dflt:`png`},width:{valType:`number`,min:1},height:{valType:`number`,min:1},scale:{valType:`number`,min:0,dflt:1},setBackground:{valType:`any`,dflt:!1},imageDataOnly:{valType:`boolean`,dflt:!1}};function f(e,t){t||={};var n,f,p,m;o.isPlainObject(e)?(n=e.data||[],f=e.layout||{},p=e.config||{},m={}):(e=o.getGraphDiv(e),n=o.extendDeep([],e.data),f=o.extendDeep({},e.layout),p=e._context,m=e._fullLayout||{});function h(e){return!(e in t)||o.validate(t[e],d[e])}if(!h(`width`)&&t.width!==null||!h(`height`)&&t.height!==null)throw Error(`Height and width should be pixel values.`);if(!h(`format`))throw Error(`Export format is not `+o.join2(d.format.values,`, `,` or `)+`.`);var g={};function _(e,n){return o.coerce(t,g,d,e,n)}var v=_(`format`),y=_(`width`),b=_(`height`),x=_(`scale`),S=_(`setBackground`),C=_(`imageDataOnly`),w=document.createElement(`div`);w.style.position=`absolute`,w.style.left=`-5000px`,document.body.appendChild(w);var T=o.extendFlat({},f);y?T.width=y:t.width===null&&r(m.width)&&(T.width=m.width),b?T.height=b:t.height===null&&r(m.height)&&(T.height=m.height);var E=o.extendFlat({},p,{_exportedPlot:!0,staticPlot:!0,setBackground:S}),D=s.getRedrawFunc(w);function O(){return new Promise(function(e){setTimeout(e,s.getDelay(w._fullLayout))})}function k(){return new Promise(function(e,t){var n=c(w,v,x),r=w._fullLayout.width,d=w._fullLayout.height;function f(){i.purge(w),document.body.removeChild(w)}if(v===`full-json`){var p=a.graphJson(w,!1,`keepdata`,`object`,!0,!0);return p.version=u,p=JSON.stringify(p),f(),e(C?p:s.encodeJSON(p))}if(f(),v===`svg`)return e(C?n:s.encodeSVG(n));var m=document.createElement(`canvas`);m.id=o.randstr(),l({format:v,width:r,height:d,scale:x,canvas:m,svg:n,promise:!0}).then(e).catch(t)})}function A(e){return C?e.replace(s.IMAGE_URL_PREFIX,``):e}return new Promise(function(e,t){i.newPlot(w,n,T,E).then(D).then(O).then(k).then(function(t){e(A(t))}).catch(function(e){t(e)})})}e.exports=f}),84936:(function(e,t,n){var r=n(71828),i=n(74875),a=n(86281),o=n(72075).dfltConfig,s=r.isPlainObject,c=Array.isArray,l=r.isArrayOrTypedArray;e.exports=function(e,t){e===void 0&&(e=[]),t===void 0&&(t={});var n=a.get(),l=[],f={_context:r.extendFlat({},o)},p,h;c(e)?(f.data=r.extendDeep([],e),p=e):(f.data=[],p=[],l.push(m(`array`,`data`))),s(t)?(f.layout=r.extendDeep({},t),h=t):(f.layout={},h={},arguments.length>1&&l.push(m(`object`,`layout`))),i.supplyDefaults(f);for(var g=f._fullData,_=p.length,v=0;v<_;v++){var y=p[v],b=[`data`,v];if(!s(y)){l.push(m(`object`,b));continue}var x=g[v],S=x.type,C=n.traces[S].attributes;C.type={valType:`enumerated`,values:[S]},x.visible===!1&&y.visible!==!1&&l.push(m(`invisible`,b)),u(y,x,C,l,b);var w=y.transforms,T=x.transforms;if(w){c(w)||l.push(m(`array`,b,[`transforms`])),b.push(`transforms`);for(var E=0;E<w.length;E++){var D=[`transforms`,E],O=w[E].type;if(!s(w[E])){l.push(m(`object`,b,D));continue}var k=n.transforms[O]?n.transforms[O].attributes:{};k.type={valType:`enumerated`,values:Object.keys(n.transforms)},u(w[E],T[E],k,l,b,D)}}}var A=f._fullLayout,j=d(n,g);return u(h,A,j,l,`layout`),l.length===0?void 0:l};function u(e,t,n,i,a,o){o||=[];for(var d=Object.keys(e),f=0;f<d.length;f++){var p=d[f];if(p!==`transforms`){var _=o.slice();_.push(p);var v=e[p],y=t[p],b=g(n,p),x=(b||{}).valType,S=x===`info_array`,C=x===`colorscale`,w=(b||{}).items;if(!h(n,p))i.push(m(`schema`,a,_));else if(s(v)&&s(y)&&x!==`any`)u(v,y,b,i,a,_);else if(S&&c(v)){v.length>y.length&&i.push(m(`unused`,a,_.concat(y.length)));var T=y.length,E=Array.isArray(w);E&&(T=Math.min(T,w.length));var D,O,k,A,j;if(b.dimensions===2)for(O=0;O<T;O++)if(c(v[O])){v[O].length>y[O].length&&i.push(m(`unused`,a,_.concat(O,y[O].length)));var M=y[O].length;for(D=0;D<(E?Math.min(M,w[O].length):M);D++)k=E?w[O][D]:w,A=v[O][D],j=y[O][D],r.validate(A,k)?j!==A&&j!==+A&&i.push(m(`dynamic`,a,_.concat(O,D),A,j)):i.push(m(`value`,a,_.concat(O,D),A))}else i.push(m(`array`,a,_.concat(O),v[O]));else for(O=0;O<T;O++)k=E?w[O]:w,A=v[O],j=y[O],r.validate(A,k)?j!==A&&j!==+A&&i.push(m(`dynamic`,a,_.concat(O),A,j)):i.push(m(`value`,a,_.concat(O),A))}else if(b.items&&!S&&c(v)){var N=w[Object.keys(w)[0]],P=[],F,I;for(F=0;F<y.length;F++){var L=y[F]._index||F;if(I=_.slice(),I.push(L),s(v[L])&&s(y[F])){P.push(L);var R=v[L],z=y[F];s(R)&&R.visible!==!1&&z.visible===!1?i.push(m(`invisible`,a,I)):u(R,z,N,i,a,I)}}for(F=0;F<v.length;F++)I=_.slice(),I.push(F),s(v[F])?P.indexOf(F)===-1&&i.push(m(`unused`,a,I)):i.push(m(`object`,a,I,v[F]))}else !s(v)&&s(y)?i.push(m(`object`,a,_,v)):!l(v)&&l(y)&&!S&&!C?i.push(m(`array`,a,_,v)):p in t?r.validate(v,b)?b.valType===`enumerated`&&(b.coerceNumber&&v!==+y||v!==y)&&i.push(m(`dynamic`,a,_,v,y)):i.push(m(`value`,a,_,v)):i.push(m(`unused`,a,_,v))}}return i}function d(e,t){for(var n=e.layout.layoutAttributes,i=0;i<t.length;i++){var a=t[i],o=e.traces[a.type],s=o.layoutAttributes;s&&(a.subplot?r.extendFlat(n[o.attributes.subplot.dflt],s):r.extendFlat(n,s))}return n}var f={object:function(e,t){return(e===`layout`&&t===``?`The layout argument`:e[0]===`data`&&t===``?`Trace `+e[1]+` in the data argument`:p(e)+`key `+t)+` must be linked to an object container`},array:function(e,t){return(e===`data`?`The data argument`:p(e)+`key `+t)+` must be linked to an array container`},schema:function(e,t){return p(e)+`key `+t+` is not part of the schema`},unused:function(e,t,n){var r=s(n)?`container`:`key`;return p(e)+r+` `+t+` did not get coerced`},dynamic:function(e,t,n,r){return[p(e)+`key`,t,`(set to '`+n+`')`,`got reset to`,`'`+r+`'`,`during defaults.`].join(` `)},invisible:function(e,t){return(t?p(e)+`item `+t:`Trace `+e[1])+` got defaulted to be not visible`},value:function(e,t,n){return[p(e)+`key `+t,`is set to an invalid value (`+n+`)`].join(` `)}};function p(e){return c(e)?`In data trace `+e[1]+`, `:`In `+e+`, `}function m(e,t,n,i,a){n||=``;var o,s;c(t)?(o=t[0],s=t[1]):(o=t,s=null);var l=y(n),u=f[e](t,l,i,a);return r.log(u),{code:e,container:o,trace:s,path:n,astr:l,msg:u}}function h(e,t){var n=v(t),r=n.keyMinusId,i=n.id;return r in e&&e[r]._isSubplotObj&&i?!0:t in e}function g(e,t){return t in e?e[t]:e[v(t).keyMinusId]}var _=r.counterRegex(`([a-z]+)`);function v(e){var t=e.match(_);return{keyMinusId:t&&t[1],id:t&&t[2]}}function y(e){if(!c(e))return String(e);for(var t=``,n=0;n<e.length;n++){var r=e[n];typeof r==`number`?t=t.substr(0,t.length-1)+`[`+r+`]`:t+=r,n<e.length-1&&(t+=`.`)}return t}}),85594:(function(e){e.exports={mode:{valType:`enumerated`,dflt:`afterall`,values:[`immediate`,`next`,`afterall`]},direction:{valType:`enumerated`,values:[`forward`,`reverse`],dflt:`forward`},fromcurrent:{valType:`boolean`,dflt:!1},frame:{duration:{valType:`number`,min:0,dflt:500},redraw:{valType:`boolean`,dflt:!0}},transition:{duration:{valType:`number`,min:0,dflt:500,editType:`none`},easing:{valType:`enumerated`,dflt:`cubic-in-out`,values:`linear.quad.cubic.sin.exp.circle.elastic.back.bounce.linear-in.quad-in.cubic-in.sin-in.exp-in.circle-in.elastic-in.back-in.bounce-in.linear-out.quad-out.cubic-out.sin-out.exp-out.circle-out.elastic-out.back-out.bounce-out.linear-in-out.quad-in-out.cubic-in-out.sin-in-out.exp-in-out.circle-in-out.elastic-in-out.back-in-out.bounce-in-out`.split(`.`),editType:`none`},ordering:{valType:`enumerated`,values:[`layout first`,`traces first`],dflt:`layout first`,editType:`none`}}}}),85501:(function(e,t,n){var r=n(71828),i=n(44467);e.exports=function(e,t,n){var a=n.name,o=n.inclusionAttr||`visible`,s=t[a],c=r.isArrayOrTypedArray(e[a])?e[a]:[],l=t[a]=[],u=i.arrayTemplater(t,a,o),d,f;for(d=0;d<c.length;d++){var p=c[d];r.isPlainObject(p)?f=u.newItem(p):(f=u.newItem({}),f[o]=!1),f._index=d,f[o]!==!1&&n.handleItemDefaults(p,f,t,n),l.push(f)}var m=u.defaultItems();for(d=0;d<m.length;d++)f=m[d],f._index=l.length,n.handleItemDefaults({},f,t,n,{}),l.push(f);if(r.isArrayOrTypedArray(s)){var h=Math.min(s.length,l.length);for(d=0;d<h;d++)r.relinkPrivateKeys(l[d],s[d])}return l}}),9012:(function(e,t,n){var r=n(41940),i=n(77914);e.exports={type:{valType:`enumerated`,values:[],dflt:`scatter`,editType:`calc+clearAxisTypes`,_noTemplating:!0},visible:{valType:`enumerated`,values:[!0,!1,`legendonly`],dflt:!0,editType:`calc`},showlegend:{valType:`boolean`,dflt:!0,editType:`style`},legendgroup:{valType:`string`,dflt:``,editType:`style`},legendgrouptitle:{text:{valType:`string`,dflt:``,editType:`style`},font:r({editType:`style`}),editType:`style`},legendrank:{valType:`number`,dflt:1e3,editType:`style`},legendwidth:{valType:`number`,min:0,editType:`style`},opacity:{valType:`number`,min:0,max:1,dflt:1,editType:`style`},name:{valType:`string`,editType:`style`},uid:{valType:`string`,editType:`plot`,anim:!0},ids:{valType:`data_array`,editType:`calc`,anim:!0},customdata:{valType:`data_array`,editType:`calc`},meta:{valType:`any`,arrayOk:!0,editType:`plot`},selectedpoints:{valType:`any`,editType:`calc`},hoverinfo:{valType:`flaglist`,flags:[`x`,`y`,`z`,`text`,`name`],extras:[`all`,`none`,`skip`],arrayOk:!0,dflt:`all`,editType:`none`},hoverlabel:i.hoverlabel,stream:{token:{valType:`string`,noBlank:!0,strict:!0,editType:`calc`},maxpoints:{valType:`number`,min:0,max:1e4,dflt:500,editType:`calc`},editType:`calc`},transforms:{_isLinkedToArray:`transform`,editType:`calc`},uirevision:{valType:`any`,editType:`none`}}}),42973:(function(e,t,n){var r=n(92770),i=n(71828),a=i.dateTime2ms,o=i.incrementMonth,s=n(50606).ONEAVGMONTH;e.exports=function(e,t,n,i){if(t.type!==`date`)return{vals:i};var c=e[n+`periodalignment`];if(!c)return{vals:i};var l=e[n+`period`],u;if(r(l)){if(l=+l,l<=0)return{vals:i}}else if(typeof l==`string`&&l.charAt(0)===`M`){var d=+l.substring(1);if(d>0&&Math.round(d)===d)u=d;else return{vals:i}}for(var f=t.calendar,p=c===`start`,m=c===`end`,h=e[n+`period0`],g=a(h,f)||0,_=[],v=[],y=[],b=i.length,x=0;x<b;x++){var S=i[x],C,w,T;if(u){for(C=Math.round((S-g)/(u*s)),T=o(g,u*C,f);T>S;)T=o(T,-u,f);for(;T<=S;)T=o(T,u,f);w=o(T,-u,f)}else{for(C=Math.round((S-g)/l),T=g+C*l;T>S;)T-=l;for(;T<=S;)T+=l;w=T-l}_[x]=p?w:m?T:(w+T)/2,v[x]=w,y[x]=T}return{vals:_,starts:v,ends:y}}}),89502:(function(e){e.exports={xaxis:{valType:`subplotid`,dflt:`x`,editType:`calc+clearAxisTypes`},yaxis:{valType:`subplotid`,dflt:`y`,editType:`calc+clearAxisTypes`}}}),71739:(function(e,t,n){var r=n(39898),i=n(92770),a=n(71828),o=n(50606).FP_SAFE,s=n(73972),c=n(91424),l=n(41675),u=l.getFromId,d=l.isLinked;e.exports={getAutoRange:f,makePadFn:m,doAutoRange:v,findExtremes:y,concatExtremes:_};function f(e,t){var n,r,i=[],o=e._fullLayout,s=m(o,t,0),c=m(o,t,1),l=_(e,t),u=l.min,d=l.max;if(u.length===0||d.length===0)return a.simpleMap(t.range,t.r2l);var f=u[0].val,h=d[0].val;for(n=1;n<u.length&&f===h;n++)f=Math.min(f,u[n].val);for(n=1;n<d.length&&f===h;n++)h=Math.max(h,d[n].val);var g=!1;if(t.range){var v=a.simpleMap(t.range,t.r2l);g=v[1]<v[0]}t.autorange===`reversed`&&(g=!0,t.autorange=!0);var y=t.rangemode,b=y===`tozero`,x=y===`nonnegative`,S=t._length,C=S/10,w=0,T,E,D,O,k,A;for(n=0;n<u.length;n++)for(T=u[n],r=0;r<d.length;r++)E=d[r],A=E.val-T.val-p(t,T.val,E.val),A>0&&(k=S-s(T)-c(E),k>C?A/k>w&&(D=T,O=E,w=A/k):A/S>w&&(D={val:T.val,nopad:1},O={val:E.val,nopad:1},w=A/S));function j(e,t){return Math.max(e,c(t))}if(f===h){var M=f-1,N=f+1;if(b)if(f===0)i=[0,1];else{var P=(f>0?d:u).reduce(j,0),F=f/(1-Math.min(.5,P/S));i=f>0?[0,F]:[F,0]}else i=x?[Math.max(0,M),Math.max(1,N)]:[M,N]}else b?(D.val>=0&&(D={val:0,nopad:1}),O.val<=0&&(O={val:0,nopad:1})):x&&(D.val-w*s(D)<0&&(D={val:0,nopad:1}),O.val<=0&&(O={val:1,nopad:1})),w=(O.val-D.val-p(t,T.val,E.val))/(S-s(D)-c(O)),i=[D.val-w*s(D),O.val+w*c(O)];return g&&i.reverse(),a.simpleMap(i,t.l2r||Number)}function p(e,t,n){var r=0;if(e.rangebreaks)for(var i=e.locateBreaks(t,n),a=0;a<i.length;a++){var o=i[a];r+=o.max-o.min}return r}function m(e,t,n){var r=.05*t._length,i=t._anchorAxis||{};if((t.ticklabelposition||``).indexOf(`inside`)!==-1||(i.ticklabelposition||``).indexOf(`inside`)!==-1){var o=t.autorange===`reversed`;if(!o){var s=a.simpleMap(t.range,t.r2l);o=s[1]<s[0]}o&&(n=!n)}var c=0;return d(e,t._id)||(c=g(e,t,n)),r=Math.max(c,r),t.constrain===`domain`&&t._inputDomain&&(r*=(t._inputDomain[1]-t._inputDomain[0])/(t.domain[1]-t.domain[0])),function(e){return e.nopad?0:e.pad+(e.extrapad?r:c)}}var h=3;function g(e,t,n){var i=0,o=t._id.charAt(0)===`x`;for(var s in e._plots){var l=e._plots[s];if(!(t._id!==l.xaxis._id&&t._id!==l.yaxis._id)){var u=(o?l.yaxis:l.xaxis)||{};if((u.ticklabelposition||``).indexOf(`inside`)!==-1&&(!n&&(u.side===`left`||u.side===`bottom`)||n&&(u.side===`top`||u.side===`right`))){if(u._vals){var d=a.deg2rad(u._tickAngles[u._id+`tick`]||0),f=Math.abs(Math.cos(d)),p=Math.abs(Math.sin(d));if(!u._vals[0].bb){var m=u._id+`tick`;u._selections[m].each(function(e){var t=r.select(this);t.select(`.text-math-group`).empty()&&(e.bb=c.bBox(t.node()))})}for(var g=0;g<u._vals.length;g++){var _=u._vals[g].bb;if(_){var v=2*h+_.width,y=2*h+_.height;i=Math.max(i,o?Math.max(v*f,y*p):Math.max(y*f,v*p))}}}u.ticks===`inside`&&u.ticklabelposition===`inside`&&(i+=u.ticklen||0)}}}return i}function _(e,t,n){var r=t._id,i=e._fullData,a=e._fullLayout,o=[],s=[],c,l,d;function f(e,t){for(c=0;c<t.length;c++){var n=e[t[c]],i=(n._extremes||{})[r];if(n.visible===!0&&i){for(l=0;l<i.min.length;l++)d=i.min[l],b(o,d.val,d.pad,{extrapad:d.extrapad});for(l=0;l<i.max.length;l++)d=i.max[l],x(s,d.val,d.pad,{extrapad:d.extrapad})}}}if(f(i,t._traceIndices),f(a.annotations||[],t._annIndices||[]),f(a.shapes||[],t._shapeIndices||[]),t._matchGroup&&!n){for(var p in t._matchGroup)if(p!==t._id){var m=u(e,p),h=_(e,m,!0),g=t._length/m._length;for(l=0;l<h.min.length;l++)d=h.min[l],b(o,d.val,d.pad*g,{extrapad:d.extrapad});for(l=0;l<h.max.length;l++)d=h.max[l],x(s,d.val,d.pad*g,{extrapad:d.extrapad})}}return{min:o,max:s}}function v(e,t,n){if(t.setScale(),t.autorange){t.range=n?n.slice():f(e,t),t._r=t.range.slice(),t._rl=a.simpleMap(t._r,t.r2l);var r=t._input,i={};i[t._attr+`.range`]=t.range,i[t._attr+`.autorange`]=t.autorange,s.call(`_storeDirectGUIEdit`,e.layout,e._fullLayout._preGUI,i),r.range=t.range.slice(),r.autorange=t.autorange}var o=t._anchorAxis;if(o&&o.rangeslider){var c=o.rangeslider[t._name];c&&c.rangemode===`auto`&&(c.range=f(e,t)),o._input.rangeslider[t._name]=a.extendFlat({},c)}}function y(e,t,n){n||={},e._m||e.setScale();var r=[],a=[],s=t.length,c=n.padded||!1,l=n.tozero&&(e.type===`linear`||e.type===`-`),u=e.type===`log`,d=!1,f=n.vpadLinearized||!1,p,m,h,g,_,v,y,S,w;function T(e){if(Array.isArray(e))return d=!0,function(t){return Math.max(Number(e[t]||0),0)};var t=Math.max(Number(e||0),0);return function(){return t}}var E=T((e._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),D=T((e._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),O=T(n.vpadplus||n.vpad),k=T(n.vpadminus||n.vpad);if(!d){if(S=1/0,w=-1/0,u)for(p=0;p<s;p++)m=t[p],m<S&&m>0&&(S=m),m>w&&m<o&&(w=m);else for(p=0;p<s;p++)m=t[p],m<S&&m>-o&&(S=m),m>w&&m<o&&(w=m);t=[S,w],s=2}var A={tozero:l,extrapad:c};function j(n){h=t[n],i(h)&&(v=E(n),y=D(n),f?(g=e.c2l(h)-k(n),_=e.c2l(h)+O(n)):(S=h-k(n),w=h+O(n),u&&S<w/10&&(S=w/10),g=e.c2l(S),_=e.c2l(w)),l&&(g=Math.min(0,g),_=Math.max(0,_)),C(g)&&b(r,g,y,A),C(_)&&x(a,_,v,A))}var M=Math.min(6,s);for(p=0;p<M;p++)j(p);for(p=s-1;p>=M;p--)j(p);return{min:r,max:a,opts:n}}function b(e,t,n,r){S(e,t,n,r,w)}function x(e,t,n,r){S(e,t,n,r,T)}function S(e,t,n,r,i){for(var a=r.tozero,o=r.extrapad,s=!0,c=0;c<e.length&&s;c++){var l=e[c];if(i(l.val,t)&&l.pad>=n&&(l.extrapad||!o)){s=!1;break}else i(t,l.val)&&l.pad<=n&&(o||!l.extrapad)&&(e.splice(c,1),c--)}if(s){var u=a&&t===0;e.push({val:t,pad:u?0:n,extrapad:u?!1:o})}}function C(e){return i(e)&&Math.abs(e)<o}function w(e,t){return e<=t}function T(e,t){return e>=t}}),89298:(function(e,t,n){var r=n(39898),i=n(92770),a=n(74875),o=n(73972),s=n(71828),c=s.strTranslate,l=n(63893),u=n(92998),d=n(7901),f=n(91424),p=n(13838),m=n(66287),h=n(50606),g=h.ONEMAXYEAR,_=h.ONEAVGYEAR,v=h.ONEMINYEAR,y=h.ONEMAXQUARTER,b=h.ONEAVGQUARTER,x=h.ONEMINQUARTER,S=h.ONEMAXMONTH,C=h.ONEAVGMONTH,w=h.ONEMINMONTH,T=h.ONEWEEK,E=h.ONEDAY,D=E/2,O=h.ONEHOUR,k=h.ONEMIN,A=h.ONESEC,j=h.MINUS_SIGN,M=h.BADNUM,N={K:`zeroline`},P={K:`gridline`,L:`path`},F={K:`minor-gridline`,L:`path`},I={K:`tick`,L:`path`},L={K:`tick`,L:`text`},R={width:[`x`,`r`,`l`,`xl`,`xr`],height:[`y`,`t`,`b`,`yt`,`yb`],right:[`r`,`xr`],left:[`l`,`xl`],top:[`t`,`yt`],bottom:[`b`,`yb`]},z=n(18783),B=z.MID_SHIFT,V=z.CAP_SHIFT,H=z.LINE_SPACING,U=z.OPPOSITE_SIDE,W=3,G=e.exports={};G.setConvert=n(21994);var K=n(4322),ee=n(41675),q=ee.idSort,J=ee.isLinked;G.id2name=ee.id2name,G.name2id=ee.name2id,G.cleanId=ee.cleanId,G.list=ee.list,G.listIds=ee.listIds,G.getFromId=ee.getFromId,G.getFromTrace=ee.getFromTrace;var Y=n(71739);G.getAutoRange=Y.getAutoRange,G.findExtremes=Y.findExtremes;var te=1e-4;function ne(e){var t=(e[1]-e[0])*te;return[e[0]-t,e[1]+t]}G.coerceRef=function(e,t,n,r,i,a){var o=r.charAt(r.length-1),c=n._fullLayout._subplots[o+`axis`],l=r+`ref`,u={};return i||=c[0]||(typeof a==`string`?a:a[0]),a||=i,c=c.concat(c.map(function(e){return e+` domain`})),u[l]={valType:`enumerated`,values:c.concat(a?typeof a==`string`?[a]:a:[]),dflt:i},s.coerce(e,t,u,l)},G.getRefType=function(e){return e===void 0?e:e===`paper`?`paper`:e===`pixel`?`pixel`:/( domain)$/.test(e)?`domain`:`range`},G.coercePosition=function(e,t,n,r,i,a){var o,c;if(G.getRefType(r)!==`range`)o=s.ensureNumber,c=n(i,a);else{var l=G.getFromId(t,r);a=l.fraction2r(a),c=n(i,a),o=l.cleanPos}e[i]=o(c)},G.cleanPosition=function(e,t,n){return(n===`paper`||n===`pixel`?s.ensureNumber:G.getFromId(t,n).cleanPos)(e)},G.redrawComponents=function(e,t){t||=G.listIds(e);var n=e._fullLayout;function r(r,i,a,s){for(var c=o.getComponentMethod(r,i),l={},u=0;u<t.length;u++)for(var d=n[G.id2name(t[u])][a],f=0;f<d.length;f++){var p=d[f];if(!l[p]&&(c(e,p),l[p]=1,s))return}}r(`annotations`,`drawOne`,`_annIndices`),r(`shapes`,`drawOne`,`_shapeIndices`),r(`images`,`draw`,`_imgIndices`,!0),r(`selections`,`drawOne`,`_selectionIndices`)};var re=G.getDataConversions=function(e,t,n,r){var i,a=n===`x`||n===`y`||n===`z`?n:r;if(Array.isArray(a)){if(i={type:K(r,void 0,{autotypenumbers:e._fullLayout.autotypenumbers}),_categories:[]},G.setConvert(i),i.type===`category`)for(var o=0;o<r.length;o++)i.d2c(r[o])}else i=G.getFromTrace(e,t,a);return i?{d2c:i.d2c,c2d:i.c2d}:a===`ids`?{d2c:ae,c2d:ae}:{d2c:ie,c2d:ie}};function ie(e){return+e}function ae(e){return String(e)}G.getDataToCoordFunc=function(e,t,n,r){return re(e,t,n,r).d2c},G.counterLetter=function(e){var t=e.charAt(0);if(t===`x`)return`y`;if(t===`y`)return`x`},G.minDtick=function(e,t,n,r){[`log`,`category`,`multicategory`].indexOf(e.type)!==-1||!r?e._minDtick=0:e._minDtick===void 0?(e._minDtick=t,e._forceTick0=n):e._minDtick&&((e._minDtick/t+1e-6)%1<2e-6&&((n-e._forceTick0)/t%1+1.000001)%1<2e-6?(e._minDtick=t,e._forceTick0=n):((t/e._minDtick+1e-6)%1>2e-6||((n-e._forceTick0)/e._minDtick%1+1.000001)%1>2e-6)&&(e._minDtick=0))},G.saveRangeInitial=function(e,t){for(var n=G.list(e,``,!0),r=!1,i=0;i<n.length;i++){var a=n[i],o=a._rangeInitial===void 0,s=o||!(a.range[0]===a._rangeInitial[0]&&a.range[1]===a._rangeInitial[1]);(o&&a.autorange===!1||t&&s)&&(a._rangeInitial=a.range.slice(),r=!0)}return r},G.saveShowSpikeInitial=function(e,t){for(var n=G.list(e,``,!0),r=!1,i=`on`,a=0;a<n.length;a++){var o=n[a],s=o._showSpikeInitial===void 0,c=s||o.showspikes!==o._showspikes;(s||t&&c)&&(o._showSpikeInitial=o.showspikes,r=!0),i===`on`&&!o.showspikes&&(i=`off`)}return e._fullLayout._cartesianSpikesEnabled=i,r},G.autoBin=function(e,t,n,r,a,o){var c=s.aggNums(Math.min,null,e),l=s.aggNums(Math.max,null,e);if(t.type===`category`||t.type===`multicategory`)return{start:c-.5,end:l+.5,size:Math.max(1,Math.round(o)||1),_dataSpan:l-c};a||=t.calendar;var u=t.type===`log`?{type:`linear`,range:[c,l]}:{type:t.type,range:s.simpleMap([c,l],t.c2r,0,a),calendar:a};if(G.setConvert(u),o&&=m.dtick(o,u.type),o)u.dtick=o,u.tick0=m.tick0(void 0,u.type,a);else{var d;if(n)d=(l-c)/n;else{var f=s.distinctVals(e),p=10**Math.floor(Math.log(f.minDiff)/Math.LN10),h=p*s.roundUp(f.minDiff/p,[.9,1.9,4.9,9.9],!0);d=Math.max(h,2*s.stdev(e)/e.length**(r?.25:.4)),i(d)||(d=1)}G.autoTicks(u,d)}var g=u.dtick,_=G.tickIncrement(G.tickFirst(u),g,`reverse`,a),v,y;if(typeof g==`number`)_=oe(_,e,u,c,l),y=1+Math.floor((l-_)/g),v=_+y*g;else for(u.dtick.charAt(0)===`M`&&(_=se(_,e,g,c,a)),v=_,y=0;v<=l;)v=G.tickIncrement(v,g,!1,a),y++;return{start:t.c2r(_,0,a),end:t.c2r(v,0,a),size:g,_dataSpan:l-c}};function oe(e,t,n,r,a){var o=0,s=0,c=0,l=0;function u(t){return(1+(t-e)*100/n.dtick)%100<2}for(var d=0;d<t.length;d++)t[d]%1==0?c++:i(t[d])||l++,u(t[d])&&o++,u(t[d]+n.dtick/2)&&s++;var f=t.length-l;if(c===f&&n.type!==`date`)n.dtick<1?e=r-.5*n.dtick:(e-=.5,e+n.dtick<r&&(e+=n.dtick));else if(s<f*.1&&(o>f*.3||u(r)||u(a))){var p=n.dtick/2;e+=e+p<r?p:-p}return e}function se(e,t,n,r,i){var a=s.findExactDates(t,i),o=.8;if(a.exactDays>o){var c=Number(n.substr(1));a.exactYears>o&&c%12==0?e=G.tickIncrement(e,`M6`,`reverse`)+E*1.5:a.exactMonths>o?e=G.tickIncrement(e,`M1`,`reverse`)+E*15.5:e-=D;var l=G.tickIncrement(e,n);if(l<=r)return l}return e}G.prepMinorTicks=function(e,t,n){if(!t.minor.dtick){delete e.dtick;var r=t.dtick&&i(t._tmin),a;if(r){var o=G.tickIncrement(t._tmin,t.dtick,!0);a=[t._tmin,o*.99+t._tmin*.01]}else{var c=s.simpleMap(t.range,t.r2l);a=[c[0],.8*c[0]+.2*c[1]]}if(e.range=s.simpleMap(a,t.l2r),e._isMinor=!0,G.prepTicks(e,n),r){var l=i(t.dtick),u=i(e.dtick),d=l?t.dtick:+t.dtick.substring(1),f=u?e.dtick:+e.dtick.substring(1);l&&u?ce(d,f)?d===2*T&&f===2*E&&(e.dtick=T):d===2*T&&f===3*E?e.dtick=T:d===T&&!(t._input.minor||{}).nticks?e.dtick=E:le(d/f,2.5)?e.dtick=d/2:e.dtick=d:String(t.dtick).charAt(0)===`M`?u?e.dtick=`M1`:ce(d,f)?d>=12&&f===2&&(e.dtick=`M3`):e.dtick=t.dtick:String(e.dtick).charAt(0)===`L`?String(t.dtick).charAt(0)===`L`?ce(d,f)||(e.dtick=le(d/f,2.5)?t.dtick/2:t.dtick):e.dtick=`D1`:e.dtick===`D2`&&+t.dtick>1&&(e.dtick=1)}e.range=t.range}t.minor._tick0Init===void 0&&(e.tick0=t.tick0)};function ce(e,t){return Math.abs((e/t+.5)%1-.5)<.001}function le(e,t){return Math.abs(e/t-1)<.001}G.prepTicks=function(e,t){var n=s.simpleMap(e.range,e.r2l,void 0,void 0,t);if(e.tickmode===`auto`||!e.dtick){var r=e.nticks,i;r||(e.type===`category`||e.type===`multicategory`?(i=e.tickfont?s.bigFont(e.tickfont.size||12):15,r=e._length/i):(i=e._id.charAt(0)===`y`?40:80,r=s.constrain(e._length/i,4,9)+1),e._name===`radialaxis`&&(r*=2)),e.minor&&e.minor.tickmode!==`array`||e.tickmode===`array`&&(r*=100),e._roughDTick=Math.abs(n[1]-n[0])/r,G.autoTicks(e,e._roughDTick),e._minDtick>0&&e.dtick<e._minDtick*2&&(e.dtick=e._minDtick,e.tick0=e.l2r(e._forceTick0))}e.ticklabelmode===`period`&&de(e),e.tick0||=e.type===`date`?`2000-01-01`:0,e.type===`date`&&e.dtick<.1&&(e.dtick=.1),we(e)};function ue(e){return+e.substring(1)}function de(e){var t;function n(){return!(i(e.dtick)||e.dtick.charAt(0)!==`M`)}var r=n(),a=G.getTickFormat(e);if(a){var o=e._dtickInit!==e.dtick;/%[fLQsSMX]/.test(a)||(/%[HI]/.test(a)?(t=O,o&&!r&&e.dtick<O&&(e.dtick=O)):/%p/.test(a)?(t=D,o&&!r&&e.dtick<D&&(e.dtick=D)):/%[Aadejuwx]/.test(a)?(t=E,o&&!r&&e.dtick<E&&(e.dtick=E)):/%[UVW]/.test(a)?(t=T,o&&!r&&e.dtick<T&&(e.dtick=T)):/%[Bbm]/.test(a)?(t=C,o&&(r?ue(e.dtick)<1:e.dtick<w)&&(e.dtick=`M1`)):/%[q]/.test(a)?(t=b,o&&(r?ue(e.dtick)<3:e.dtick<x)&&(e.dtick=`M3`)):/%[Yy]/.test(a)&&(t=_,o&&(r?ue(e.dtick)<12:e.dtick<v)&&(e.dtick=`M12`)))}r=n(),r&&e.tick0===e._dowTick0&&(e.tick0=e._rawTick0),e._definedDelta=t}function fe(e,t,n){for(var r=0;r<e.length;r++){var i=e[r].value,a=r,o=r+1;r<e.length-1?(a=r,o=r+1):r>0?(a=r-1,o=r):(a=r,o=r);var s=e[a].value,c=e[o].value,l=Math.abs(c-s),u=n||l,d=0;u>=v?d=l>=v&&l<=g?l:_:n===b&&u>=x?d=l>=x&&l<=y?l:b:u>=w?d=l>=w&&l<=S?l:C:n===T&&u>=T?d=T:u>=E?d=E:n===D&&u>=D?d=D:n===O&&u>=O&&(d=O);var f;d>=l&&(d=l,f=!0);var p=i+d;if(t.rangebreaks&&d>0){for(var m=84,h=0,k=0;k<m;k++){var A=(k+.5)/m;t.maskBreaks(i*(1-A)+A*p)!==M&&h++}d*=h/m,d||(e[r].drop=!0),f&&l>T&&(d=l)}(d>0||r===0)&&(e[r].periodX=i+d/2)}}G.calcTicks=function(e,t){for(var n=e.type,r=e.calendar,a=e.ticklabelstep,o=e.ticklabelmode===`period`,c=s.simpleMap(e.range,e.r2l,void 0,void 0,t),l=c[1]<c[0],u=Math.min(c[0],c[1]),d=Math.max(c[0],c[1]),f=Math.max(1e3,e._length||0),p=[],m=[],h=[],g=[],_=e.minor&&(e.minor.ticks||e.minor.showgrid),v=1;v>=(_?0:1);v--){var y=!v;v?(e._dtickInit=e.dtick,e._tick0Init=e.tick0):(e.minor._dtickInit=e.minor.dtick,e.minor._tick0Init=e.minor.tick0);var b=v?e:s.extendFlat({},e,e.minor);if(y?G.prepMinorTicks(b,e,t):G.prepTicks(b,t),b.tickmode===`array`){v?(h=[],p=he(e)):(g=[],m=he(e));continue}if(b.tickmode===`sync`){h=[],p=me(e);continue}var x=ne(c),S=x[0],w=x[1],T=i(b.dtick),E=n===`log`&&!(T||b.dtick.charAt(0)===`L`),D=G.tickFirst(b,t);if(v){if(e._tmin=D,D<S!==l)break;(n===`category`||n===`multicategory`)&&(w=l?Math.max(-.5,w):Math.min(e._categories.length-.5,w))}var O=null,k=D,A;if(v){var j;T?j=e.dtick:n===`date`?typeof e.dtick==`string`&&e.dtick.charAt(0)===`M`&&(j=C*e.dtick.substring(1)):j=e._roughDTick,A=Math.round((e.r2l(k)-e.r2l(e.tick0))/j)-1}var N=b.dtick;for(b.rangebreaks&&b._tick0Init!==b.tick0&&(k=rt(k,e),l||(k=G.tickIncrement(k,N,!l,r))),v&&o&&(k=G.tickIncrement(k,N,!l,r),A--);l?k>=w:k<=w;k=G.tickIncrement(k,N,l,r)){if(v&&A++,b.rangebreaks&&!l){if(k<S)continue;if(b.maskBreaks(k)===M&&rt(k,b)>=d)break}if(h.length>f||k===O)break;O=k;var P={value:k};v?(E&&k!==(k|0)&&(P.simpleLabel=!0),a>1&&A%a&&(P.skipLabel=!0),h.push(P)):(P.minor=!0,g.push(P))}}if(_&&!(e.minor.ticks===`inside`&&e.ticks===`outside`||e.minor.ticks===`outside`&&e.ticks===`inside`)){for(var F=h.map(function(e){return e.value}),I=[],L=0;L<g.length;L++){var R=g[L],z=R.value;if(F.indexOf(z)===-1){for(var B=!1,V=0;!B&&V<h.length;V++)1e7+h[V].value===1e7+z&&(B=!0);B||I.push(R)}}g=I}o&&fe(h,e,e._definedDelta);var H;if(e.rangebreaks){var U=e._id.charAt(0)===`y`,W=1;e.tickmode===`auto`&&(W=e.tickfont?e.tickfont.size:12);var K=NaN;for(H=h.length-1;H>-1;H--){if(h[H].drop){h.splice(H,1);continue}h[H].value=rt(h[H].value,e);var ee=e.c2p(h[H].value);(U?K>ee-W:K<ee+W)?h.splice(l?H+1:H,1):K=ee}}nt(e)&&Math.abs(c[1]-c[0])===360&&h.pop(),e._tmax=(h[h.length-1]||{}).value,e._prevDateHead=``,e._inCalcTicks=!0;var q,J=function(t){t.text=``,e._prevDateHead=q};h=h.concat(g);var Y,te;for(H=0;H<h.length;H++){var re=h[H].minor,ie=h[H].value;re?m.push({x:ie,minor:!0}):(q=e._prevDateHead,Y=G.tickText(e,ie,!1,h[H].simpleLabel),te=h[H].periodX,te!==void 0&&(Y.periodX=te,(te>d||te<u)&&(te>d&&(Y.periodX=d),te<u&&(Y.periodX=u),J(Y))),h[H].skipLabel&&J(Y),p.push(Y))}return p=p.concat(m),e._inCalcTicks=!1,o&&p.length&&(p[0].noTick=!0),p};function pe(e,t){return e.rangebreaks&&(t=t.filter(function(t){return e.maskBreaks(t.x)!==M})),t}function me(e){var t=e._mainAxis,n=[];if(t._vals){for(var r=0;r<t._vals.length;r++)if(!t._vals[r].noTick){var i=t.l2p(t._vals[r].x),a=e.p2l(i),o=G.tickText(e,a);t._vals[r].minor&&(o.minor=!0,o.text=``),n.push(o)}}return n=pe(e,n),n}function he(e){var t=ne(s.simpleMap(e.range,e.r2l)),n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=e.type===`category`?e.d2l_noadd:e.d2l;e.type===`log`&&String(e.dtick).charAt(0)!==`L`&&(e.dtick=`L`+10**(Math.floor(Math.min(e.range[0],e.range[1]))-1));for(var a=[],o=0;o<=1;o++)if(!(o&&!e.minor)){var c=o?e.minor.tickvals:e.tickvals,l=o?[]:e.ticktext;if(c){Array.isArray(l)||(l=[]);for(var u=0;u<c.length;u++){var d=i(c[u]);if(d>n&&d<r){var f=l[u]===void 0?G.tickText(e,d):Te(e,d,String(l[u]));o&&(f.minor=!0,f.text=``),a.push(f)}}}}return a=pe(e,a),a}var ge=[2,5,10],_e=[1,2,3,6,12],ve=[1,2,5,10,15,30],ye=[1,2,3,7,14],be=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],xe=[-.301,0,.301,.699,1],Se=[15,30,45,90,180];function Ce(e,t,n){return t*s.roundUp(e/t,n)}G.autoTicks=function(e,t,n){var r;function a(e){return e**+Math.floor(Math.log(t)/Math.LN10)}if(e.type===`date`){e.tick0=s.dateTick0(e.calendar,0);var o=2*t;if(o>_)t/=_,r=a(10),e.dtick=`M`+12*Ce(t,r,ge);else if(o>C)t/=C,e.dtick=`M`+Ce(t,1,_e);else if(o>E){if(e.dtick=Ce(t,E,e._hasDayOfWeekBreaks?[1,2,7,14]:ye),!n){var c=G.getTickFormat(e),l=e.ticklabelmode===`period`;l&&(e._rawTick0=e.tick0),/%[uVW]/.test(c)?e.tick0=s.dateTick0(e.calendar,2):e.tick0=s.dateTick0(e.calendar,1),l&&(e._dowTick0=e.tick0)}}else o>O?e.dtick=Ce(t,O,_e):o>k?e.dtick=Ce(t,k,ve):o>A?e.dtick=Ce(t,A,ve):(r=a(10),e.dtick=Ce(t,r,ge))}else if(e.type===`log`){e.tick0=0;var u=s.simpleMap(e.range,e.r2l);if(e._isMinor&&(t*=1.5),t>.7)e.dtick=Math.ceil(t);else if(Math.abs(u[1]-u[0])<1){var d=1.5*Math.abs((u[1]-u[0])/t);t=Math.abs(10**u[1]-10**u[0])/d,r=a(10),e.dtick=`L`+Ce(t,r,ge)}else e.dtick=t>.3?`D2`:`D1`}else e.type===`category`||e.type===`multicategory`?(e.tick0=0,e.dtick=Math.ceil(Math.max(t,1))):nt(e)?(e.tick0=0,r=1,e.dtick=Ce(t,r,Se)):(e.tick0=0,r=a(10),e.dtick=Ce(t,r,ge));if(e.dtick===0&&(e.dtick=1),!i(e.dtick)&&typeof e.dtick!=`string`){var f=e.dtick;throw e.dtick=1,`ax.dtick error: `+String(f)}};function we(e){var t=e.dtick;if(e._tickexponent=0,!i(t)&&typeof t!=`string`&&(t=1),(e.type===`category`||e.type===`multicategory`)&&(e._tickround=null),e.type===`date`){var n=e.r2l(e.tick0),r=e.l2r(n).replace(/(^-|i)/g,``),a=r.length;if(String(t).charAt(0)===`M`)a>10||r.substr(5)!==`01-01`?e._tickround=`d`:e._tickround=t.substr(1)%12==0?`y`:`m`;else if(t>=E&&a<=10||t>=E*15)e._tickround=`d`;else if(t>=k&&a<=16||t>=O)e._tickround=`M`;else if(t>=A&&a<=19||t>=k)e._tickround=`S`;else{var o=e.l2r(n+t).replace(/^-/,``).length;e._tickround=Math.max(a,o)-20,e._tickround<0&&(e._tickround=4)}}else if(i(t)||t.charAt(0)===`L`){var s=e.range.map(e.r2d||Number);i(t)||(t=Number(t.substr(1))),e._tickround=2-Math.floor(Math.log(t)/Math.LN10+.01);var c=Math.max(Math.abs(s[0]),Math.abs(s[1])),l=Math.floor(Math.log(c)/Math.LN10+.01),u=e.minexponent===void 0?3:e.minexponent;Math.abs(l)>u&&(je(e.exponentformat)&&!Me(l)?e._tickexponent=3*Math.round((l-1)/3):e._tickexponent=l)}else e._tickround=null}G.tickIncrement=function(e,t,n,a){var o=n?-1:1;if(i(t))return s.increment(e,o*t);var c=t.charAt(0),l=o*Number(t.substr(1));if(c===`M`)return s.incrementMonth(e,l,a);if(c===`L`)return Math.log(10**e+l)/Math.LN10;if(c===`D`){var u=t===`D2`?xe:be,d=e+o*.01,f=s.roundUp(s.mod(d,1),u,n);return Math.floor(d)+Math.log(r.round(10**f,1))/Math.LN10}throw`unrecognized dtick `+String(t)},G.tickFirst=function(e,t){var n=e.r2l||Number,a=s.simpleMap(e.range,n,void 0,void 0,t),o=a[1]<a[0],c=o?Math.floor:Math.ceil,l=ne(a)[0],u=e.dtick,d=n(e.tick0);if(i(u)){var f=c((l-d)/u)*u+d;return(e.type===`category`||e.type===`multicategory`)&&(f=s.constrain(f,0,e._categories.length-1)),f}var p=u.charAt(0),m=Number(u.substr(1));if(p===`M`){for(var h=0,g=d,_,v,y;h<10;){if(_=G.tickIncrement(g,u,o,e.calendar),(_-l)*(g-l)<=0)return o?Math.min(g,_):Math.max(g,_);v=(l-(g+_)/2)/(_-g),y=p+(Math.abs(Math.round(v))||1)*m,g=G.tickIncrement(g,y,v<0?!o:o,e.calendar),h++}return s.error(`tickFirst did not converge`,e),g}else if(p===`L`)return Math.log(c((10**l-d)/m)*m+d)/Math.LN10;else if(p===`D`){var b=u===`D2`?xe:be,x=s.roundUp(s.mod(l,1),b,o);return Math.floor(l)+Math.log(r.round(10**x,1))/Math.LN10}else throw`unrecognized dtick `+String(u)},G.tickText=function(e,t,n,r){var i=Te(e,t),a=e.tickmode===`array`,o=n||a,c=e.type,l=c===`category`?e.d2l_noadd:e.d2l,u;if(a&&Array.isArray(e.ticktext)){var d=s.simpleMap(e.range,e.r2l),f=(Math.abs(d[1]-d[0])-(e._lBreaks||0))/1e4;for(u=0;u<e.ticktext.length&&!(Math.abs(t-l(e.tickvals[u]))<f);u++);if(u<e.ticktext.length)return i.text=String(e.ticktext[u]),i}function p(r){if(r===void 0)return!0;if(n)return r===`none`;var i={first:e._tmin,last:e._tmax}[r];return r!==`all`&&t!==i}var m=n?`never`:e.exponentformat!==`none`&&p(e.showexponent)?`hide`:``;if(c===`date`?Ee(e,i,n,o):c===`log`?X(e,i,n,o,m):c===`category`?Z(e,i):c===`multicategory`?De(e,i,n):nt(e)?Oe(e,i,n,o,m):Q(e,i,n,o,m),r||(e.tickprefix&&!p(e.showtickprefix)&&(i.text=e.tickprefix+i.text),e.ticksuffix&&!p(e.showticksuffix)&&(i.text+=e.ticksuffix)),e.labelalias&&e.labelalias.hasOwnProperty(i.text)){var h=e.labelalias[i.text];typeof h==`string`&&(i.text=h)}if(e.tickson===`boundaries`||e.showdividers){var g=function(t){var n=e.l2p(t);return n>=0&&n<=e._length?t:null};i.xbnd=[g(i.x-.5),g(i.x+e.dtick-.5)]}return i},G.hoverLabelText=function(e,t,n){n&&(e=s.extendFlat({},e,{hoverformat:n}));var r=Array.isArray(t)?t[0]:t,i=Array.isArray(t)?t[1]:void 0;if(i!==void 0&&i!==r)return G.hoverLabelText(e,r,n)+` - `+G.hoverLabelText(e,i,n);var a=e.type===`log`&&r<=0,o=G.tickText(e,e.c2l(a?-r:r),`hover`).text;return a?r===0?`0`:j+o:o};function Te(e,t,n){var r=e.tickfont||{};return{x:t,dx:0,dy:0,text:n||``,fontSize:r.size,font:r.family,fontColor:r.color}}function Ee(e,t,n,r){var a=e._tickround,o=n&&e.hoverformat||G.getTickFormat(e);r&&(a=i(a)?4:{y:`m`,m:`d`,d:`M`,M:`S`,S:4}[a]);var c=s.formatDate(t.x,o,a,e._dateFormat,e.calendar,e._extraFormat),l,u=c.indexOf(`
`);if(u!==-1&&(l=c.substr(u+1),c=c.substr(0,u)),r&&(c===`00:00:00`||c===`00:00`?(c=l,l=``):c.length===8&&(c=c.replace(/:00$/,``))),l)if(n)a===`d`?c+=`, `+l:c=l+(c?`, `+c:``);else if(!e._inCalcTicks||e._prevDateHead!==l)e._prevDateHead=l,c+=`<br>`+l;else{var d=it(e),f=e._trueSide||e.side;(!d&&f===`top`||d&&f===`bottom`)&&(c+=`<br> `)}t.text=c}function X(e,t,n,r,a){var o=e.dtick,c=t.x,l=e.tickformat,u=typeof o==`string`&&o.charAt(0);if(a===`never`&&(a=``),r&&u!==`L`&&(o=`L3`,u=`L`),l||u===`L`)t.text=Ne(10**c,e,a,r);else if(i(o)||u===`D`&&s.mod(c+.01,1)<.1){var d=Math.round(c),f=Math.abs(d),p=e.exponentformat;p===`power`||je(p)&&Me(d)?(d===0?t.text=1:d===1?t.text=`10`:t.text=`10<sup>`+(d>1?``:j)+f+`</sup>`,t.fontSize*=1.25):(p===`e`||p===`E`)&&f>2?t.text=`1`+p+(d>0?`+`:j)+f:(t.text=Ne(10**c,e,``,`fakehover`),o===`D1`&&e._id.charAt(0)===`y`&&(t.dy-=t.fontSize/6))}else if(u===`D`)t.text=String(Math.round(10**s.mod(c,1))),t.fontSize*=.75;else throw`unrecognized dtick `+String(o);if(e.dtick===`D1`){var m=String(t.text).charAt(0);(m===`0`||m===`1`)&&(e._id.charAt(0)===`y`?t.dx-=t.fontSize/4:(t.dy+=t.fontSize/2,t.dx+=(e.range[1]>e.range[0]?1:-1)*t.fontSize*(c<0?.5:.25)))}}function Z(e,t){var n=e._categories[Math.round(t.x)];n===void 0&&(n=``),t.text=String(n)}function De(e,t,n){var r=Math.round(t.x),i=e._categories[r]||[],a=i[1]===void 0?``:String(i[1]),o=i[0]===void 0?``:String(i[0]);n?t.text=o+` - `+a:(t.text=a,t.text2=o)}function Q(e,t,n,r,i){i===`never`?i=``:e.showexponent===`all`&&Math.abs(t.x/e.dtick)<1e-6&&(i=`hide`),t.text=Ne(t.x,e,i,r)}function Oe(e,t,n,r,i){if(e.thetaunit===`radians`&&!n){var a=t.x/180;if(a===0)t.text=`0`;else{var o=ke(a);if(o[1]>=100)t.text=Ne(s.deg2rad(t.x),e,i,r);else{var c=t.x<0;o[1]===1?o[0]===1?t.text=``:t.text=o[0]+``:t.text=[`<sup>`,o[0],`</sup>`,``,`<sub>`,o[1],`</sub>`,``].join(``),c&&(t.text=j+t.text)}}}else t.text=Ne(t.x,e,i,r)}function ke(e){function t(e,t){return Math.abs(e-t)<=1e-6}function n(e,r){return t(r,0)?e:n(r,e%r)}function r(e){for(var n=1;!t(Math.round(e*n)/n,e);)n*=10;return n}var i=r(e),a=e*i,o=Math.abs(n(a,i));return[Math.round(a/o),Math.round(i/o)]}var Ae=[`f`,`p`,`n`,``,`m`,``,`k`,`M`,`G`,`T`];function je(e){return e===`SI`||e===`B`}function Me(e){return e>14||e<-15}function Ne(e,t,n,r){var a=e<0,o=t._tickround,c=n||t.exponentformat||`B`,l=t._tickexponent,u=G.getTickFormat(t),d=t.separatethousands;if(r){var f={exponentformat:c,minexponent:t.minexponent,dtick:t.showexponent===`none`?t.dtick:i(e)&&Math.abs(e)||1,range:t.showexponent===`none`?t.range.map(t.r2d):[0,e||1]};we(f),o=(Number(f._tickround)||0)+4,l=f._tickexponent,t.hoverformat&&(u=t.hoverformat)}if(u)return t._numFormat(u)(e).replace(/-/g,j);var p=10**-o/2;if(c===`none`&&(l=0),e=Math.abs(e),e<p)e=`0`,a=!1;else{if(e+=p,l&&(e*=10**-l,o+=l),o===0)e=String(Math.floor(e));else if(o<0){e=String(Math.round(e)),e=e.substr(0,e.length+o);for(var m=o;m<0;m++)e+=`0`}else{e=String(e);var h=e.indexOf(`.`)+1;h&&(e=e.substr(0,h+o).replace(/\.?0+$/,``))}e=s.numSeparate(e,t._separators,d)}if(l&&c!==`hide`){je(c)&&Me(l)&&(c=`power`);var g=l<0?j+-l:c===`power`?String(l):`+`+l;c===`e`||c===`E`?e+=c+g:c===`power`?e+=`10<sup>`+g+`</sup>`:c===`B`&&l===9?e+=`B`:je(c)&&(e+=Ae[l/3+5])}return a?j+e:e}G.getTickFormat=function(e){var t;function n(e){return typeof e==`string`?Number(e.replace(`M`,``))*C:e}function r(e,t){var n=[`L`,`D`];if(typeof e==typeof t){if(typeof e==`number`)return e-t;var r=n.indexOf(e.charAt(0)),i=n.indexOf(t.charAt(0));return r===i?Number(e.replace(/(L|D)/g,``))-Number(t.replace(/(L|D)/g,``)):r-i}else return typeof e==`number`?1:-1}function i(e,t,n){var r=n||function(e){return e},i=t[0],a=t[1];return(!i&&typeof i!=`number`||r(i)<=r(e))&&(!a&&typeof a!=`number`||r(a)>=r(e))}function a(e,t){var n=t[0]===null,i=t[1]===null,a=r(e,t[0])>=0,o=r(e,t[1])<=0;return(n||a)&&(i||o)}var o,s;if(e.tickformatstops&&e.tickformatstops.length>0)switch(e.type){case`date`:case`linear`:for(t=0;t<e.tickformatstops.length;t++)if(s=e.tickformatstops[t],s.enabled&&i(e.dtick,s.dtickrange,n)){o=s;break}break;case`log`:for(t=0;t<e.tickformatstops.length;t++)if(s=e.tickformatstops[t],s.enabled&&a(e.dtick,s.dtickrange)){o=s;break}break;default:}return o?o.value:e.tickformat},G.getSubplots=function(e,t){var n=e._fullLayout._subplots,r=n.cartesian.concat(n.gl2d||[]),i=t?G.findSubplotsWithAxis(r,t):r;return i.sort(function(e,t){var n=e.substr(1).split(`y`),r=t.substr(1).split(`y`);return n[0]===r[0]?n[1]-+r[1]:n[0]-+r[0]}),i},G.findSubplotsWithAxis=function(e,t){for(var n=RegExp(t._id.charAt(0)===`x`?`^`+t._id+`y`:t._id+`$`),r=[],i=0;i<e.length;i++){var a=e[i];n.test(a)&&r.push(a)}return r},G.makeClipPaths=function(e){var t=e._fullLayout;if(!t._hasOnlyLargeSploms){var n={_offset:0,_length:t.width,_id:``},i={_offset:0,_length:t.height,_id:``},a=G.list(e,`x`,!0),o=G.list(e,`y`,!0),s=[],c,l;for(c=0;c<a.length;c++)for(s.push({x:a[c],y:i}),l=0;l<o.length;l++)c===0&&s.push({x:n,y:o[l]}),s.push({x:a[c],y:o[l]});var u=t._clips.selectAll(`.axesclip`).data(s,function(e){return e.x._id+e.y._id});u.enter().append(`clipPath`).classed(`axesclip`,!0).attr(`id`,function(e){return`clip`+t._uid+e.x._id+e.y._id}).append(`rect`),u.exit().remove(),u.each(function(e){r.select(this).select(`rect`).attr({x:e.x._offset||0,y:e.y._offset||0,width:e.x._length||1,height:e.y._length||1})})}},G.draw=function(e,t,n){var r=e._fullLayout;t===`redraw`&&r._paper.selectAll(`g.subplot`).each(function(e){var t=e[0],n=r._plots[t];if(n){var i=n.xaxis,a=n.yaxis;n.xaxislayer.selectAll(`.`+i._id+`tick`).remove(),n.yaxislayer.selectAll(`.`+a._id+`tick`).remove(),n.xaxislayer.selectAll(`.`+i._id+`tick2`).remove(),n.yaxislayer.selectAll(`.`+a._id+`tick2`).remove(),n.xaxislayer.selectAll(`.`+i._id+`divider`).remove(),n.yaxislayer.selectAll(`.`+a._id+`divider`).remove(),n.minorGridlayer&&n.minorGridlayer.selectAll(`path`).remove(),n.gridlayer&&n.gridlayer.selectAll(`path`).remove(),n.zerolinelayer&&n.zerolinelayer.selectAll(`path`).remove(),r._infolayer.select(`.g-`+i._id+`title`).remove(),r._infolayer.select(`.g-`+a._id+`title`).remove()}});var i=!t||t===`redraw`?G.listIds(e):t,a=G.list(e).filter(function(e){return e.autoshift}).map(function(e){return e.overlaying});i.map(function(t){var n=G.getFromId(e,t);if(n.tickmode===`sync`&&n.overlaying){var r=i.findIndex(function(e){return e===n.overlaying});r>=0&&i.unshift(i.splice(r,1).shift())}});var o={false:{left:0,right:0}};return s.syncOrAsync(i.map(function(t){return function(){if(t){var r=G.getFromId(e,t);n||={},n.axShifts=o,n.overlayingShiftedAx=a;var i=G.drawOne(e,r,n);return r._shiftPusher&&ot(r,r._fullDepth||0,o,!0),r._r=r.range.slice(),r._rl=s.simpleMap(r._r,r.r2l),i}}}))},G.drawOne=function(e,t,n){n||={};var r=n.axShifts||{},i=n.overlayingShiftedAx||[],c,l,u;t.setScale();var d=e._fullLayout,f=t._id,p=f.charAt(0),m=G.counterLetter(f),h=d._plots[t._mainSubplot];if(!h)return;if(t._shiftPusher=t.autoshift||i.indexOf(t._id)!==-1||i.indexOf(t.overlaying)!==-1,t._shiftPusher&t.anchor===`free`){var g=t.linewidth/2||0;t.ticks===`inside`&&(g+=t.ticklen),ot(t,g,r,!0),ot(t,t.shift||0,r,!1)}(n.skipTitle!==!0||t._shift===void 0)&&(t._shift=st(t,r));var _=h[p+`axislayer`],v=t._mainLinePosition,y=v+=t._shift,b=t._mainMirrorPosition,x=t._vals=G.calcTicks(t),S=[t.mirror,y,b].join(`_`);for(c=0;c<x.length;c++)x[c].axInfo=S;t._selections={},t._tickAngles&&(t._prevTickAngles=t._tickAngles),t._tickAngles={},t._depth=null;var C={};function w(e){var n=f+(e||`tick`);return C[n]||(C[n]=Re(t,n)),C[n]}if(t.visible){var T=G.makeTransTickFn(t),E=G.makeTransTickLabelFn(t),D,O,k=t.ticks===`inside`,A=t.ticks===`outside`;if(t.tickson===`boundaries`){var j=Fe(t,x);O=G.clipEnds(t,j),D=k?O:j}else O=G.clipEnds(t,x),D=k&&t.ticklabelmode!==`period`?O:x;var M=t._gridVals=O,N=Le(t,x);if(!d._hasOnlyLargeSploms){var P=t._subplotsWith,F={};for(c=0;c<P.length;c++){l=P[c],u=d._plots[l];var I=u[m+`axis`],L=I._mainAxis._id;if(!F[L]){F[L]=1;var R=p===`x`?`M0,`+I._offset+`v`+I._length:`M`+I._offset+`,0h`+I._length;G.drawGrid(e,t,{vals:M,counterAxis:I,layer:u.gridlayer.select(`.`+f),minorLayer:u.minorGridlayer.select(`.`+f),path:R,transFn:T}),G.drawZeroLine(e,t,{counterAxis:I,layer:u.zerolinelayer,path:R,transFn:T})}}}var z,B=G.getTickSigns(t),V=G.getTickSigns(t,`minor`);if(t.ticks||t.minor&&t.minor.ticks){var W=G.makeTickPath(t,y,B[2]),K=G.makeTickPath(t,y,V[2],{minor:!0}),ee,q,J,Y;if(t._anchorAxis&&t.mirror&&t.mirror!==!0?(ee=G.makeTickPath(t,b,B[3]),q=G.makeTickPath(t,b,V[3],{minor:!0}),J=W+ee,Y=K+q):(ee=``,q=``,J=W,Y=K),t.showdividers&&A&&t.tickson===`boundaries`){var te={};for(c=0;c<N.length;c++)te[N[c].x]=1;z=function(e){return te[e.x]?ee:J}}else z=function(e){return e.minor?Y:J}}if(G.drawTicks(e,t,{vals:D,layer:_,path:z,transFn:T}),t.mirror===`allticks`){var ne=Object.keys(t._linepositions||{});for(c=0;c<ne.length;c++){l=ne[c],u=d._plots[l];var re=t._linepositions[l]||[],ie=re[0],ae=re[1],oe=re[2],se=G.makeTickPath(t,ie,oe?B[0]:V[0],{minor:oe})+G.makeTickPath(t,ae,oe?B[1]:V[1],{minor:oe});G.drawTicks(e,t,{vals:D,layer:u[p+`axislayer`],path:se,transFn:T})}}var ce=[];if(ce.push(function(){return G.drawLabels(e,t,{vals:x,layer:_,plotinfo:u,transFn:E,labelFns:G.makeLabelFns(t,y)})}),t.type===`multicategory`){var le={x:2,y:10}[p];ce.push(function(){var n={x:`height`,y:`width`}[p],r=w()[n]+le+(t._tickAngles[f+`tick`]?t.tickfont.size*H:0);return G.drawLabels(e,t,{vals:Ie(t,x),layer:_,cls:f+`tick2`,repositionOnUpdate:!0,secondary:!0,transFn:T,labelFns:G.makeLabelFns(t,y+r*B[4])})}),ce.push(function(){return t._depth=B[4]*(w(`tick2`)[t.side]-y),He(e,t,{vals:N,layer:_,path:G.makeTickPath(t,y,B[4],{len:t._depth}),transFn:T})})}else t.title.hasOwnProperty(`standoff`)&&ce.push(function(){t._depth=B[4]*(w()[t.side]-y)});var ue=o.getComponentMethod(`rangeslider`,`isVisible`)(t);return!n.skipTitle&&!(ue&&t.side===`bottom`)&&ce.push(function(){return We(e,t)}),ce.push(function(){var n=t.side.charAt(0),r=U[t.side].charAt(0),i=G.getPxPosition(e,t),s=A?t.ticklen:0,c,l,u,f;(t.automargin||ue||t._shiftPusher)&&(t.type===`multicategory`?c=w(`tick2`):(c=w(),p===`x`&&n===`b`&&(t._depth=Math.max(c.width>0?c.bottom-i:0,s))));var h=0,g=0;if(t._shiftPusher&&(h=Math.max(s,c.height>0?n===`l`?i-c.left:c.right-i:0),t.title.text!==d._dfltTitle[p]&&(g=(t._titleStandoff||0)+(t._titleScoot||0),n===`l`&&(g+=Ue(t))),t._fullDepth=Math.max(h,g)),t.automargin){l={x:0,y:0,r:0,l:0,t:0,b:0};var _=[0,1],v=typeof t._shift==`number`?t._shift:0;if(p===`x`){if(n===`b`?l[n]=t._depth:(l[n]=t._depth=Math.max(c.width>0?i-c.top:0,s),_.reverse()),c.width>0){var y=c.right-(t._offset+t._length);y>0&&(l.xr=1,l.r=y);var b=t._offset-c.left;b>0&&(l.xl=0,l.l=b)}}else if(n===`l`?(t._depth=Math.max(c.height>0?i-c.left:0,s),l[n]=t._depth-v):(t._depth=Math.max(c.height>0?c.right-i:0,s),l[n]=t._depth+v,_.reverse()),c.height>0){var x=c.bottom-(t._offset+t._length);x>0&&(l.yb=0,l.b=x);var S=t._offset-c.top;S>0&&(l.yt=1,l.t=S)}l[m]=t.anchor===`free`?t.position:t._anchorAxis.domain[_[0]],t.title.text!==d._dfltTitle[p]&&(l[n]+=Ue(t)+(t.title.standoff||0)),t.mirror&&t.anchor!==`free`&&(u={x:0,y:0,r:0,l:0,t:0,b:0},u[r]=t.linewidth,t.mirror&&t.mirror!==!0&&(u[r]+=s),t.mirror===!0||t.mirror===`ticks`?u[m]=t._anchorAxis.domain[_[1]]:(t.mirror===`all`||t.mirror===`allticks`)&&(u[m]=[t._counterDomainMin,t._counterDomainMax][_[1]]))}ue&&(f=o.getComponentMethod(`rangeslider`,`autoMarginOpts`)(e,t)),typeof t.automargin==`string`&&(Pe(l,t.automargin),Pe(u,t.automargin)),a.autoMargin(e,Ye(t),l),a.autoMargin(e,Xe(t),u),a.autoMargin(e,Ze(t),f)}),s.syncOrAsync(ce)}};function Pe(e,t){if(e){var n=Object.keys(R).reduce(function(e,n){return t.indexOf(n)!==-1&&R[n].forEach(function(t){e[t]=1}),e},{});Object.keys(e).forEach(function(t){n[t]||(t.length===1?e[t]=0:delete e[t])})}}function Fe(e,t){var n=[],r,i=function(e,t){var r=e.xbnd[t];r!==null&&n.push(s.extendFlat({},e,{x:r}))};if(t.length){for(r=0;r<t.length;r++)i(t[r],0);i(t[r-1],1)}return n}function Ie(e,t){for(var n=[],r={},i=0;i<t.length;i++){var a=t[i];r[a.text2]?r[a.text2].push(a.x):r[a.text2]=[a.x]}for(var o in r)n.push(Te(e,s.interp(r[o],.5),o));return n}function Le(e,t){var n=[],r,i,a=t.length&&t[t.length-1].x<t[0].x,o=function(e,t){var r=e.xbnd[t];r!==null&&n.push(s.extendFlat({},e,{x:r}))};if(e.showdividers&&t.length){for(r=0;r<t.length;r++){var c=t[r];c.text2!==i&&o(c,a?1:0),i=c.text2}o(t[r-1],a?0:1)}return n}function Re(e,t){var n,r,i,a;return e._selections[t].size()?(n=1/0,r=-1/0,i=1/0,a=-1/0,e._selections[t].each(function(){var e=Je(this),t=f.bBox(e.node().parentNode);n=Math.min(n,t.top),r=Math.max(r,t.bottom),i=Math.min(i,t.left),a=Math.max(a,t.right)})):(n=0,r=0,i=0,a=0),{top:n,bottom:r,left:i,right:a,height:r-n,width:a-i}}G.getTickSigns=function(e,t){var n=e._id.charAt(0),r={x:`top`,y:`right`}[n],i=e.side===r?1:-1,a=[-1,1,i,-i];return(t?(e.minor||{}).ticks:e.ticks)!==`inside`==(n===`x`)&&(a=a.map(function(e){return-e})),e.side&&a.push({l:-1,t:-1,r:1,b:1}[e.side.charAt(0)]),a},G.makeTransTickFn=function(e){return e._id.charAt(0)===`x`?function(t){return c(e._offset+e.l2p(t.x),0)}:function(t){return c(0,e._offset+e.l2p(t.x))}},G.makeTransTickLabelFn=function(e){var t=Be(e),n=t[0],r=t[1];return e._id.charAt(0)===`x`?function(t){return c(n+e._offset+e.l2p(ze(t)),r)}:function(t){return c(r,n+e._offset+e.l2p(ze(t)))}};function ze(e){return e.periodX===void 0?e.x:e.periodX}function Be(e){var t=e.ticklabelposition||``,n=function(e){return t.indexOf(e)!==-1},r=n(`top`),i=n(`left`),a=n(`right`),o=n(`bottom`),s=n(`inside`),c=o||i||r||a;if(!c&&!s)return[0,0];var l=e.side,u=c?(e.tickwidth||0)/2:0,d=W,f=e.tickfont?e.tickfont.size:12;return(o||r)&&(u+=f*V,d+=(e.linewidth||0)/2),(i||a)&&(u+=(e.linewidth||0)/2,d+=W),s&&l===`top`&&(d-=f*(1-V)),(i||r)&&(u=-u),(l===`bottom`||l===`right`)&&(d=-d),[c?u:0,s?d:0]}G.makeTickPath=function(e,t,n,r){r||={};var i=r.minor;if(i&&!e.minor)return``;var a=r.len===void 0?i?e.minor.ticklen:e.ticklen:r.len,o=e._id.charAt(0),s=(e.linewidth||1)/2;return o===`x`?`M0,`+(t+s*n)+`v`+a*n:`M`+(t+s*n)+`,0h`+a*n},G.makeLabelFns=function(e,t,n){var r=e.ticklabelposition||``,a=function(e){return r.indexOf(e)!==-1},o=a(`top`),c=a(`left`),l=a(`right`),u=a(`bottom`)||c||o||l,d=a(`inside`),f=r===`inside`&&e.ticks===`inside`||!d&&e.ticks===`outside`&&e.tickson!==`boundaries`,p=0,m=0,h=f?e.ticklen:0;if(d?h*=-1:u&&(h=0),f&&(p+=h,n)){var g=s.deg2rad(n);p=h*Math.cos(g)+1,m=h*Math.sin(g)}e.showticklabels&&(f||e.showline)&&(p+=.2*e.tickfont.size),p+=(e.linewidth||1)/2*(d?-1:1);var _={labelStandoff:p,labelShift:m},v,y,b,x,S=0,C=e.side,w=e._id.charAt(0),T=e.tickangle,E;if(w===`x`)E=!d&&C===`bottom`||d&&C===`top`,x=E?1:-1,d&&(x*=-1),v=m*x,y=t+p*x,b=E?1:-.2,Math.abs(T)===90&&(d?b+=B:b=T===-90&&C===`bottom`?V:T===90&&C===`top`?B:.5,S=B/2*(T/90)),_.xFn=function(e){return e.dx+v+S*e.fontSize},_.yFn=function(e){return e.dy+y+e.fontSize*b},_.anchorFn=function(e,t){if(u){if(c)return`end`;if(l)return`start`}return!i(t)||t===0||t===180?`middle`:t*x<0===d?`start`:`end`},_.heightFn=function(t,n,r){return n<-60||n>60?-.5*r:e.side===`top`===d?0:-r};else if(w===`y`){if(E=!d&&C===`left`||d&&C===`right`,x=E?1:-1,d&&(x*=-1),v=p,y=m*x,b=0,!d&&Math.abs(T)===90&&(b=T===-90&&C===`left`||T===90&&C===`right`?V:.5),d){var D=i(T)?+T:0;if(D!==0){var O=s.deg2rad(D);S=Math.abs(Math.sin(O))*V*x,b=0}}_.xFn=function(e){return e.dx+t-(v+e.fontSize*b)*x+S*e.fontSize},_.yFn=function(e){return e.dy+y+e.fontSize*B},_.anchorFn=function(e,t){return i(t)&&Math.abs(t)===90?`middle`:E?`end`:`start`},_.heightFn=function(t,n,r){return e.side===`right`&&(n*=-1),n<-30?-r:n<30?-.5*r:0}}return _};function Ve(e){return[e.text,e.x,e.axInfo,e.font,e.fontSize,e.fontColor].join(`_`)}G.drawTicks=function(e,t,n){n||={};var i=t._id+`tick`,a=[].concat(t.minor&&t.minor.ticks?n.vals.filter(function(e){return e.minor&&!e.noTick}):[],t.ticks?n.vals.filter(function(e){return!e.minor&&!e.noTick}):[]),o=n.layer.selectAll(`path.`+i).data(a,Ve);o.exit().remove(),o.enter().append(`path`).classed(i,1).classed(`ticks`,1).classed(`crisp`,n.crisp!==!1).each(function(e){return d.stroke(r.select(this),e.minor?t.minor.tickcolor:t.tickcolor)}).style(`stroke-width`,function(n){return f.crispRound(e,n.minor?t.minor.tickwidth:t.tickwidth,1)+`px`}).attr(`d`,n.path).style(`display`,null),at(t,[I]),o.attr(`transform`,n.transFn)},G.drawGrid=function(e,t,n){if(n||={},t.tickmode!==`sync`){var i=t._id+`grid`,a=t.minor&&t.minor.showgrid,o=a?n.vals.filter(function(e){return e.minor}):[],s=t.showgrid?n.vals.filter(function(e){return!e.minor}):[],c=n.counterAxis;if(c&&G.shouldShowZeroLine(e,t,c))for(var l=t.tickmode===`array`,u=0;u<s.length;u++){var p=s[u].x;if(l?!p:Math.abs(p)<t.dtick/100)if(s=s.slice(0,u).concat(s.slice(u+1)),l)u--;else break}t._gw=f.crispRound(e,t.gridwidth,1);for(var m=a?f.crispRound(e,t.minor.gridwidth,1):0,h=n.layer,g=n.minorLayer,_=1;_>=0;_--){var v=_?h:g;if(v){var y=v.selectAll(`path.`+i).data(_?s:o,Ve);y.exit().remove(),y.enter().append(`path`).classed(i,1).classed(`crisp`,n.crisp!==!1),y.attr(`transform`,n.transFn).attr(`d`,n.path).each(function(e){return d.stroke(r.select(this),e.minor?t.minor.gridcolor:t.gridcolor||`#ddd`)}).style(`stroke-dasharray`,function(e){return f.dashStyle(e.minor?t.minor.griddash:t.griddash,e.minor?t.minor.gridwidth:t.gridwidth)}).style(`stroke-width`,function(e){return(e.minor?m:t._gw)+`px`}).style(`display`,null),typeof n.path==`function`&&y.attr(`d`,n.path)}}at(t,[P,F])}},G.drawZeroLine=function(e,t,n){n||=n;var r=t._id+`zl`,i=G.shouldShowZeroLine(e,t,n.counterAxis),a=n.layer.selectAll(`path.`+r).data(i?[{x:0,id:t._id}]:[]);a.exit().remove(),a.enter().append(`path`).classed(r,1).classed(`zl`,1).classed(`crisp`,n.crisp!==!1).each(function(){n.layer.selectAll(`path`).sort(function(e,t){return q(e.id,t.id)})}),a.attr(`transform`,n.transFn).attr(`d`,n.path).call(d.stroke,t.zerolinecolor||d.defaultLine).style(`stroke-width`,f.crispRound(e,t.zerolinewidth,t._gw||1)+`px`).style(`display`,null),at(t,[N])},G.drawLabels=function(e,t,n){n||={};var a=e._fullLayout,o=t._id,u=o.charAt(0),d=n.cls||o+`tick`,p=n.vals.filter(function(e){return e.text}),m=n.labelFns,h=n.secondary?0:t.tickangle,g=(t._prevTickAngles||{})[d],_=n.layer.selectAll(`g.`+d).data(t.showticklabels?p:[],Ve),v=[];_.enter().append(`g`).classed(d,1).append(`text`).attr(`text-anchor`,`middle`).each(function(t){var n=r.select(this),i=e._promises.length;n.call(l.positionText,m.xFn(t),m.yFn(t)).call(f.font,t.font,t.fontSize,t.fontColor).text(t.text).call(l.convertToTspans,e),e._promises[i]?v.push(e._promises.pop().then(function(){y(n,h)})):y(n,h)}),at(t,[L]),_.exit().remove(),n.repositionOnUpdate&&_.each(function(e){r.select(this).select(`text`).call(l.positionText,m.xFn(e),m.yFn(e))});function y(e,a){e.each(function(e){var o=r.select(this),s=o.select(`.text-math-group`),u=m.anchorFn(e,a),d=n.transFn.call(o.node(),e)+(i(a)&&+a!=0?` rotate(`+a+`,`+m.xFn(e)+`,`+(m.yFn(e)-e.fontSize/2)+`)`:``),p=l.lineCount(o),h=H*e.fontSize,g=m.heightFn(e,i(a)?+a:0,(p-1)*h);if(g&&(d+=c(0,g)),s.empty()){var _=o.select(`text`);_.attr({transform:d,"text-anchor":u}),_.style(`opacity`,1),t._adjustTickLabelsOverflow&&t._adjustTickLabelsOverflow()}else{var v=f.bBox(s.node()).width*{end:-.5,start:.5}[u];s.attr(`transform`,d+c(v,0))}})}t._adjustTickLabelsOverflow=function(){var n=t.ticklabeloverflow;if(!(!n||n===`allow`)){var i=n.indexOf(`hide`)!==-1,o=t._id.charAt(0)===`x`,c=0,l=o?e._fullLayout.width:e._fullLayout.height;if(n.indexOf(`domain`)!==-1){var u=s.simpleMap(t.range,t.r2l);c=t.l2p(u[0])+t._offset,l=t.l2p(u[1])+t._offset}var d=Math.min(c,l),p=Math.max(c,l),m=t.side,h=1/0,g=-1/0;for(var v in _.each(function(e){var n=r.select(this);if(n.select(`.text-math-group`).empty()){var a=f.bBox(n.node()),s=0;o?(a.right>p||a.left<d)&&(s=1):(a.bottom>p||a.top+(t.tickangle?0:e.fontSize/4)<d)&&(s=1);var c=n.select(`text`);s?i&&c.style(`opacity`,0):(c.style(`opacity`,1),h=m===`bottom`||m===`right`?Math.min(h,o?a.top:a.left):-1/0,g=m===`top`||m===`left`?Math.max(g,o?a.bottom:a.right):1/0)}}),a._plots){var y=a._plots[v];if(!(t._id!==y.xaxis._id&&t._id!==y.yaxis._id)){var b=o?y.yaxis:y.xaxis;b&&(b[`_visibleLabelMin_`+t._id]=h,b[`_visibleLabelMax_`+t._id]=g)}}}},t._hideCounterAxisInsideTickLabels=function(e){var n=t._id.charAt(0)===`x`,i=[];for(var o in a._plots){var s=a._plots[o];t._id!==s.xaxis._id&&t._id!==s.yaxis._id||i.push(n?s.yaxis:s.xaxis)}i.forEach(function(n,i){n&&it(n)&&(e||[N,F,P,I,L]).forEach(function(e){var o=e.K===`tick`&&e.L===`text`&&t.ticklabelmode===`period`,s=a._plots[t._mainSubplot];(e.K===N.K?s.zerolinelayer.selectAll(`.`+t._id+`zl`):e.K===F.K?s.minorGridlayer.selectAll(`.`+t._id):e.K===P.K?s.gridlayer.selectAll(`.`+t._id):s[t._id.charAt(0)+`axislayer`]).each(function(){var a=r.select(this);e.L&&(a=a.selectAll(e.L)),a.each(function(a){var s=t.l2p(o?ze(a):a.x)+t._offset,c=r.select(this);s<t[`_visibleLabelMax_`+n._id]&&s>t[`_visibleLabelMin_`+n._id]?c.style(`display`,`none`):e.K===`tick`&&!i&&c.style(`display`,null)})})})})},y(_,g+1?g:h);function b(){return v.length&&Promise.all(v)}var x=null;function S(){if(y(_,h),p.length&&u===`x`&&!i(h)&&(t.type!==`log`||String(t.dtick).charAt(0)!==`D`)){x=0;var e=0,r=[],a;if(_.each(function(n){e=Math.max(e,n.fontSize);var i=t.l2p(n.x),a=Je(this),o=f.bBox(a.node());r.push({top:0,bottom:10,height:10,left:i-o.width/2,right:i+o.width/2+2,width:o.width+2})}),(t.tickson===`boundaries`||t.showdividers)&&!n.secondary){var o=2;for(t.ticks&&(o+=t.tickwidth/2),a=0;a<r.length;a++){var c=p[a].xbnd,l=r[a];if(c[0]!==null&&l.left-t.l2p(c[0])<o||c[1]!==null&&t.l2p(c[1])-l.right<o){x=90;break}}}else{var d=p.length,m=Math.abs((p[d-1].x-p[0].x)*t._m)/(d-1),g=t.ticklabelposition||``,v=function(e){return g.indexOf(e)!==-1},b=v(`top`),S=v(`left`),C=v(`right`),w=v(`bottom`)||S||b||C?(t.tickwidth||0)+2*W:0,T=m<e*2.5||t.type===`multicategory`||t._name===`realaxis`;for(a=0;a<r.length-1;a++)if(s.bBoxIntersect(r[a],r[a+1],w)){x=T?90:30;break}}x&&y(_,x)}}t._selections&&(t._selections[d]=_);var C=[b];t.automargin&&a._redrawFromAutoMarginCount&&g===90?(x=90,C.push(function(){y(_,g)})):C.push(S),t._tickAngles&&C.push(function(){t._tickAngles[d]=x===null?i(h)?h:0:x});var w=t._anchorAxis;w&&w.autorange&&it(t)&&!J(a,t._id)&&(a._insideTickLabelsAutorange||={},a._insideTickLabelsAutorange[w._name+`.autorange`]=w.autorange,C.push(function(){_.each(function(e,n){var r=Je(this);r.select(`.text-math-group`).empty()&&(t._vals[n].bb=f.bBox(r.node()))})}));var T=s.syncOrAsync(C);return T&&T.then&&e._promises.push(T),T};function He(e,t,n){var r=t._id+`divider`,i=n.vals,a=n.layer.selectAll(`path.`+r).data(i,Ve);a.exit().remove(),a.enter().insert(`path`,`:first-child`).classed(r,1).classed(`crisp`,1).call(d.stroke,t.dividercolor).style(`stroke-width`,f.crispRound(e,t.dividerwidth,1)+`px`),a.attr(`transform`,n.transFn).attr(`d`,n.path)}G.getPxPosition=function(e,t){var n=e._fullLayout._size,r=t._id.charAt(0),i=t.side,a;if(t.anchor===`free`?r===`x`?a={_offset:n.t+(1-(t.position||0))*n.h,_length:0}:r===`y`&&(a={_offset:n.l+(t.position||0)*n.w+t._shift,_length:0}):a=t._anchorAxis,i===`top`||i===`left`)return a._offset;if(i===`bottom`||i===`right`)return a._offset+a._length};function Ue(e){var t=e.title.font.size,n=(e.title.text.match(l.BR_TAG_ALL)||[]).length;return e.title.hasOwnProperty(`standoff`)?n?t*(V+n*H):t*V:n?t*(n+1)*H:t}function We(e,t){var n=e._fullLayout,r=t._id,i=r.charAt(0),a=t.title.font.size,o;if(t.title.hasOwnProperty(`standoff`))o=t._depth+t.title.standoff+Ue(t);else{var s=it(t);if(t.type===`multicategory`)o=t._depth;else{var c=1.5*a;s&&(c=.5*a,t.ticks===`outside`&&(c+=t.ticklen)),o=10+c+(t.linewidth?t.linewidth-1:0)}s||(i===`x`?o+=t.side===`top`?a*(t.showticklabels?1:0):a*(t.showticklabels?1.5:.5):o+=t.side===`right`?a*(t.showticklabels?1:.5):a*(t.showticklabels?.5:0))}var l=G.getPxPosition(e,t),d,p,m;i===`x`?(p=t._offset+t._length/2,m=t.side===`top`?l-o:l+o):(m=t._offset+t._length/2,p=t.side===`right`?l+o:l-o,d={rotate:`-90`,offset:0});var h;if(t.type!==`multicategory`){var g=t._selections[t._id+`tick`];if(h={selection:g,side:t.side},g&&g.node()&&g.node().parentNode){var _=f.getTranslate(g.node().parentNode);h.offsetLeft=_.x,h.offsetTop=_.y}t.title.hasOwnProperty(`standoff`)&&(h.pad=0)}return t._titleStandoff=o,u.draw(e,r+`title`,{propContainer:t,propName:t._name+`.title.text`,placeholder:n._dfltTitle[i],avoid:h,transform:d,attributes:{x:p,y:m,"text-anchor":`middle`}})}G.shouldShowZeroLine=function(e,t,n){var r=s.simpleMap(t.range,t.r2l);return r[0]*r[1]<=0&&t.zeroline&&(t.type===`linear`||t.type===`-`)&&!(t.rangebreaks&&t.maskBreaks(0)===M)&&(Ge(t,0)||!Ke(e,t,n,r)||qe(e,t))},G.clipEnds=function(e,t){return t.filter(function(t){return Ge(e,t.x)})};function Ge(e,t){var n=e.l2p(t);return n>1&&n<e._length-1}function Ke(e,t,n,r){var i=n._mainAxis;if(!i)return;var a=e._fullLayout,o=t._id.charAt(0),s=G.counterLetter(t._id),c=t._offset+(Math.abs(r[0])<Math.abs(r[1])==(o===`x`)?0:t._length);function l(e){if(!e.showline||!e.linewidth)return!1;var n=Math.max((e.linewidth+t.zerolinewidth)/2,1);function r(e){return typeof e==`number`&&Math.abs(e-c)<n}if(r(e._mainLinePosition)||r(e._mainMirrorPosition))return!0;var i=e._linepositions||{};for(var a in i)if(r(i[a][0])||r(i[a][1]))return!0}var u=a._plots[n._mainSubplot];if(!(u.mainplotinfo||u).overlays.length)return l(n,c);for(var d=G.list(e,s),f=0;f<d.length;f++){var p=d[f];if(p._mainAxis===i&&l(p,c))return!0}}function qe(e,t){for(var n=e._fullData,r=t._mainSubplot,i=t._id.charAt(0),a=0;a<n.length;a++){var s=n[a];if(s.visible===!0&&s.xaxis+s.yaxis===r&&(o.traceIs(s,`bar-like`)&&s.orientation==={x:`h`,y:`v`}[i]||s.fill&&s.fill.charAt(s.fill.length-1)===i))return!0}return!1}function Je(e){var t=r.select(e),n=t.select(`.text-math-group`);return n.empty()?t.select(`text`):n}G.allowAutoMargin=function(e){for(var t=G.list(e,``,!0),n=0;n<t.length;n++){var r=t[n];r.automargin&&(a.allowAutoMargin(e,Ye(r)),r.mirror&&a.allowAutoMargin(e,Xe(r))),o.getComponentMethod(`rangeslider`,`isVisible`)(r)&&a.allowAutoMargin(e,Ze(r))}};function Ye(e){return e._id+`.automargin`}function Xe(e){return Ye(e)+`.mirror`}function Ze(e){return e._id+`.rangeslider`}G.swap=function(e,t){for(var n=Qe(e,t),r=0;r<n.length;r++)et(e,n[r].x,n[r].y)};function Qe(e,t){var n=[],r,i;for(r=0;r<t.length;r++){var a=[],o=e._fullData[t[r]].xaxis,s=e._fullData[t[r]].yaxis;if(!(!o||!s)){for(i=0;i<n.length;i++)(n[i].x.indexOf(o)!==-1||n[i].y.indexOf(s)!==-1)&&a.push(i);if(!a.length){n.push({x:[o],y:[s]});continue}var c=n[a[0]],l;if(a.length>1)for(i=1;i<a.length;i++)l=n[a[i]],$e(c.x,l.x),$e(c.y,l.y);$e(c.x,[o]),$e(c.y,[s])}}return n}function $e(e,t){for(var n=0;n<t.length;n++)e.indexOf(t[n])===-1&&e.push(t[n])}function et(e,t,n){var r=[],i=[],a=e.layout,o,c;for(o=0;o<t.length;o++)r.push(G.getFromId(e,t[o]));for(o=0;o<n.length;o++)i.push(G.getFromId(e,n[o]));var l=Object.keys(p),u=[`anchor`,`domain`,`overlaying`,`position`,`side`,`tickangle`,`editType`],d=[`linear`,`log`];for(o=0;o<l.length;o++){var f=l[o],m=r[0][f],h=i[0][f],g=!0,_=!1,v=!1;if(!(f.charAt(0)===`_`||typeof m==`function`||u.indexOf(f)!==-1)){for(c=1;c<r.length&&g;c++){var y=r[c][f];f===`type`&&d.indexOf(m)!==-1&&d.indexOf(y)!==-1&&m!==y?_=!0:y!==m&&(g=!1)}for(c=1;c<i.length&&g;c++){var b=i[c][f];f===`type`&&d.indexOf(h)!==-1&&d.indexOf(b)!==-1&&h!==b?v=!0:i[c][f]!==h&&(g=!1)}g&&(_&&(a[r[0]._name].type=`linear`),v&&(a[i[0]._name].type=`linear`),tt(a,f,r,i,e._fullLayout._dfltTitle))}}for(o=0;o<e._fullLayout.annotations.length;o++){var x=e._fullLayout.annotations[o];t.indexOf(x.xref)!==-1&&n.indexOf(x.yref)!==-1&&s.swapAttrs(a.annotations[o],[`?`])}}function tt(e,t,n,r,i){var a=s.nestedProperty,o=a(e[n[0]._name],t).get(),c=a(e[r[0]._name],t).get(),l;for(t===`title`&&(o&&o.text===i.x&&(o.text=i.y),c&&c.text===i.y&&(c.text=i.x)),l=0;l<n.length;l++)a(e,n[l]._name+`.`+t).set(c);for(l=0;l<r.length;l++)a(e,r[l]._name+`.`+t).set(o)}function nt(e){return e._id===`angularaxis`}function rt(e,t){for(var n=t._rangebreaks.length,r=0;r<n;r++){var i=t._rangebreaks[r];if(e>=i.min&&e<i.max)return i.max}return e}function it(e){return(e.ticklabelposition||``).indexOf(`inside`)!==-1}function at(e,t){it(e._anchorAxis||{})&&e._hideCounterAxisInsideTickLabels&&e._hideCounterAxisInsideTickLabels(t)}function ot(e,t,n,r){var i=e.anchor!==`free`&&(e.overlaying===void 0||e.overlaying===!1)?e._id:e.overlaying,a=r?e.side===`right`?t:-t:t;i in n||(n[i]={}),e.side in n[i]||(n[i][e.side]=0),n[i][e.side]+=a}function st(e,t){return e.autoshift?t[e.overlaying][e.side]:e.shift||0}}),4322:(function(e,t,n){var r=n(92770),i=n(71828),a=n(50606).BADNUM,o=i.isArrayOrTypedArray,s=i.isDateTime,c=i.cleanNumber,l=Math.round;e.exports=function(e,t,n){var r=e,i=n.noMultiCategory;if(o(r)&&!r.length)return`-`;if(!i&&h(r))return`multicategory`;if(i&&Array.isArray(r[0])){for(var a=[],s=0;s<r.length;s++)if(o(r[s]))for(var c=0;c<r[s].length;c++)a.push(r[s][c]);r=a}if(f(r,t))return`date`;var l=n.autotypenumbers!==`strict`;return m(r,l)?`category`:d(r,l)?`linear`:`-`};function u(e,t){return t?r(e):typeof e==`number`}function d(e,t){for(var n=e.length,r=0;r<n;r++)if(u(e[r],t))return!0;return!1}function f(e,t){for(var n=e.length,i=p(n),a=0,o=0,c={},u=0;u<n;u+=i){var d=e[l(u)],f=String(d);c[f]||(c[f]=1,s(d,t)&&a++,r(d)&&o++)}return a>o*2}function p(e){return Math.max(1,(e-1)/1e3)}function m(e,t){for(var n=e.length,r=p(n),i=0,o=0,s={},u=0;u<n;u+=r){var d=e[l(u)],f=String(d);if(!s[f]){s[f]=1;var m=typeof d;m===`boolean`?o++:(t?c(d)!==a:m===`number`)?i++:m===`string`&&o++}}return o>i*2}function h(e){return o(e[0])&&o(e[1])}}),71453:(function(e,t,n){var r=n(92770),i=n(73972),a=n(71828),o=n(44467),s=n(85501),c=n(13838),l=n(26218),u=n(38701),d=n(96115),f=n(89426),p=n(15258),m=n(92128),h=n(21994),g=n(85555).WEEKDAY_PATTERN,_=n(85555).HOUR_PATTERN;e.exports=function(e,t,n,r,_){var y=r.letter,b=r.font||{},x=r.splomStash||{},S=n(`visible`,!r.visibleDflt),C=t._template||{},w=t.type||C.type||`-`,T;w===`date`&&(i.getComponentMethod(`calendars`,`handleDefaults`)(e,t,`calendar`,r.calendar),r.noTicklabelmode||(T=n(`ticklabelmode`)));var E=``;(!r.noTicklabelposition||w===`multicategory`)&&(E=a.coerce(e,t,{ticklabelposition:{valType:`enumerated`,dflt:`outside`,values:T===`period`?[`outside`,`inside`]:y===`x`?[`outside`,`inside`,`outside left`,`inside left`,`outside right`,`inside right`]:[`outside`,`inside`,`outside top`,`inside top`,`outside bottom`,`inside bottom`]}},`ticklabelposition`)),r.noTicklabeloverflow||n(`ticklabeloverflow`,E.indexOf(`inside`)===-1?w===`category`||w===`multicategory`?`allow`:`hide past div`:`hide past domain`),h(t,_);var D=!t.isValidRange(e.range);D&&r.reverseDflt&&(D=`reversed`),n(`autorange`,D)&&(w===`linear`||w===`-`)&&n(`rangemode`),n(`range`),t.cleanRange(),p(e,t,n,r),w!==`category`&&!r.noHover&&n(`hoverformat`);var O=n(`color`),k=O===c.color.dflt?b.color:O,A=x.label||_._dfltTitle[y];if(f(e,t,n,w,r),!S)return t;n(`title.text`,A),a.coerceFont(n,`title.font`,{family:b.family,size:a.bigFont(b.size),color:k}),l(e,t,n,w);var j=r.hasMinor;if(j&&(o.newContainer(t,`minor`),l(e,t,n,w,{isMinor:!0})),d(e,t,n,w,r),u(e,t,n,r),j){var M=r.isMinor;r.isMinor=!0,u(e,t,n,r),r.isMinor=M}m(e,t,n,{dfltColor:O,bgColor:r.bgColor,showGrid:r.showGrid,hasMinor:j,attributes:c}),j&&!t.minor.ticks&&!t.minor.showgrid&&delete t.minor,(t.showline||t.ticks)&&n(`mirror`);var N=w===`multicategory`;if(!r.noTickson&&(w===`category`||N)&&(t.ticks||t.showgrid)){var P;N&&(P=`boundaries`),n(`tickson`,P)===`boundaries`&&delete t.ticklabelposition}if(N&&n(`showdividers`)&&(n(`dividercolor`),n(`dividerwidth`)),w===`date`)if(s(e,t,{name:`rangebreaks`,inclusionAttr:`enabled`,handleItemDefaults:v}),!t.rangebreaks.length)delete t.rangebreaks;else{for(var F=0;F<t.rangebreaks.length;F++)if(t.rangebreaks[F].pattern===g){t._hasDayOfWeekBreaks=!0;break}if(h(t,_),_._has(`scattergl`)||_._has(`splom`))for(var I=0;I<r.data.length;I++){var L=r.data[I];(L.type===`scattergl`||L.type===`splom`)&&(L.visible=!1,a.warn(L.type+` traces do not work on axes with rangebreaks. Setting trace `+L.index+" to `visible: false`."))}}return t};function v(e,t,n){function i(n,r){return a.coerce(e,t,c.rangebreaks,n,r)}if(i(`enabled`)){var o=i(`bounds`);if(o&&o.length>=2){var s=``,l,u;if(o.length===2){for(l=0;l<2;l++)if(u=b(o[l]),u){s=g;break}}var d=i(`pattern`,s);if(d===g)for(l=0;l<2;l++)u=b(o[l]),u&&(t.bounds[l]=o[l]=u-1);if(d)for(l=0;l<2;l++)switch(u=o[l],d){case g:if(!r(u)){t.enabled=!1;return}if(u=+u,u!==Math.floor(u)||u<0||u>=7){t.enabled=!1;return}t.bounds[l]=o[l]=u;break;case _:if(!r(u)){t.enabled=!1;return}if(u=+u,u<0||u>24){t.enabled=!1;return}t.bounds[l]=o[l]=u;break}if(n.autorange===!1){var f=n.range;if(f[0]<f[1]){if(o[0]<f[0]&&o[1]>f[1]){t.enabled=!1;return}}else if(o[0]>f[0]&&o[1]<f[1]){t.enabled=!1;return}}}else{var p=i(`values`);if(p&&p.length)i(`dvalue`);else{t.enabled=!1;return}}}}var y={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function b(e){if(typeof e==`string`)return y[e.substr(0,3).toLowerCase()]}}),12663:(function(e,t,n){var r=n(31562),i=r.FORMAT_LINK,a=r.DATE_FORMAT_LINK;function o(e,t){return{valType:`string`,dflt:``,editType:`none`,description:(t?s:c)(`hover text`,e)+[`By default the values are formatted using `+(t?`generic number format`:"`"+e+"axis.hoverformat`")+`.`].join(` `)}}function s(e,t){return[`Sets the `+e+` formatting rule`+(t?"for `"+t+"` ":``),`using d3 formatting mini-languages`,`which are very similar to those in Python. For numbers, see: `+i+`.`].join(` `)}function c(e,t){return s(e,t)+[` And for dates see: `+a+`.`,`We add two items to d3's date formatter:`,`*%h* for half of the year as a decimal number as well as`,`*%{n}f* for fractional seconds`,`with n digits. For example, *2016-10-13 09:15:23.456* with tickformat`,`*%H~%M~%S.%2f* would display *09~15~23.46*`].join(` `)}e.exports={axisHoverFormat:o,descriptionOnlyNumbers:s,descriptionWithDates:c}}),41675:(function(e,t,n){var r=n(73972),i=n(85555);t.id2name=function(e){if(!(typeof e!=`string`||!e.match(i.AX_ID_PATTERN))){var t=e.split(` `)[0].substr(1);return t===`1`&&(t=``),e.charAt(0)+`axis`+t}},t.name2id=function(e){if(e.match(i.AX_NAME_PATTERN)){var t=e.substr(5);return t===`1`&&(t=``),e.charAt(0)+t}},t.cleanId=function(e,t,n){var r=/( domain)$/.test(e);if(!(typeof e!=`string`||!e.match(i.AX_ID_PATTERN))&&!(t&&e.charAt(0)!==t)&&!(r&&!n)){var a=e.split(` `)[0].substr(1).replace(/^0+/,``);return a===`1`&&(a=``),e.charAt(0)+a+(r&&n?` domain`:``)}},t.list=function(e,n,r){var i=e._fullLayout;if(!i)return[];var a=t.listIds(e,n),o=Array(a.length),s;for(s=0;s<a.length;s++){var c=a[s];o[s]=i[c.charAt(0)+`axis`+c.substr(1)]}if(!r){var l=i._subplots.gl3d||[];for(s=0;s<l.length;s++){var u=i[l[s]];n?o.push(u[n+`axis`]):o.push(u.xaxis,u.yaxis,u.zaxis)}}return o},t.listIds=function(e,t){var n=e._fullLayout;if(!n)return[];var r=n._subplots;return t?r[t+`axis`]:r.xaxis.concat(r.yaxis)},t.getFromId=function(e,n,r){var i=e._fullLayout;return n=n===void 0||typeof n!=`string`?n:n.replace(` domain`,``),r===`x`?n=n.replace(/y[0-9]*/,``):r===`y`&&(n=n.replace(/x[0-9]*/,``)),i[t.id2name(n)]},t.getFromTrace=function(e,n,i){var a=e._fullLayout,o=null;if(r.traceIs(n,`gl3d`)){var s=n.scene;s.substr(0,5)===`scene`&&(o=a[s][i+`axis`])}else o=t.getFromId(e,n[i+`axis`]||i);return o},t.idSort=function(e,t){var n=e.charAt(0),r=t.charAt(0);return n===r?(e.substr(1)||1)-+(t.substr(1)||1):n>r?1:-1},t.ref2id=function(e){return/^[xyz]/.test(e)?e.split(` `)[0]:!1};function a(e,t){if(t&&t.length){for(var n=0;n<t.length;n++)if(t[n][e])return!0}return!1}t.isLinked=function(e,t){return a(t,e._axisMatchGroups)||a(t,e._axisConstraintGroups)}}),15258:(function(e){function t(e,t){var n=t.dataAttr||e._id.charAt(0),r={},i,a,o;if(t.axData)i=t.axData;else for(i=[],a=0;a<t.data.length;a++){var s=t.data[a];s[n+`axis`]===e._id&&i.push(s)}for(a=0;a<i.length;a++){var c=i[a][n];for(o=0;o<c.length;o++){var l=c[o];l!=null&&(r[l]=1)}}return Object.keys(r)}e.exports=function(e,n,r,i){if(n.type===`category`){var a=e.categoryarray,o=Array.isArray(a)&&a.length>0,s;o&&(s=`array`);var c=r(`categoryorder`,s),l;c===`array`&&(l=r(`categoryarray`)),!o&&c===`array`&&(c=n.categoryorder=`trace`),c===`trace`?n._initialCategories=[]:c===`array`?n._initialCategories=l.slice():(l=t(n,i).sort(),c===`category ascending`?n._initialCategories=l:c===`category descending`&&(n._initialCategories=l.reverse()))}}}),66287:(function(e,t,n){var r=n(92770),i=n(71828),a=n(50606),o=a.ONEDAY,s=a.ONEWEEK;t.dtick=function(e,t){var n=t===`log`,i=t===`date`,a=t===`category`,s=i?o:1;if(!e)return s;if(r(e))return e=Number(e),e<=0?s:a?Math.max(1,Math.round(e)):i?Math.max(.1,e):e;if(typeof e!=`string`||!(i||n))return s;var c=e.charAt(0),l=e.substr(1);return l=r(l)?Number(l):0,l<=0||!(i&&c===`M`&&l===Math.round(l)||n&&c===`L`||n&&c===`D`&&(l===1||l===2))?s:e},t.tick0=function(e,t,n,a){if(t===`date`)return i.cleanDate(e,i.dateTick0(n,a%s===0?1:0));if(!(a===`D1`||a===`D2`))return r(e)?Number(e):0}}),85555:(function(e,t,n){var r=n(30587).counter;e.exports={idRegex:{x:r(`x`,`( domain)?`),y:r(`y`,`( domain)?`)},attrRegex:r(`[xy]axis`),xAxisMatch:r(`xaxis`),yAxisMatch:r(`yaxis`),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:`hour`,WEEKDAY_PATTERN:`day of week`,MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:[`imagelayer`,`heatmaplayer`,`contourcarpetlayer`,`contourlayer`,`funnellayer`,`waterfalllayer`,`barlayer`,`carpetlayer`,`violinlayer`,`boxlayer`,`ohlclayer`,`scattercarpetlayer`,`scatterlayer`],clipOnAxisFalseQuery:[`.scatterlayer`,`.barlayer`,`.funnellayer`,`.waterfalllayer`],layerValue2layerClass:{"above traces":`above`,"below traces":`below`}}}),99082:(function(e,t,n){var r=n(71828),i=n(71739),a=n(41675).id2name,o=n(13838),s=n(42449),c=n(21994),l=n(50606).ALMOST_EQUAL,u=n(18783).FROM_BL;t.handleDefaults=function(e,t,n){var i=n.axIds,o=n.axHasImage,s=t._axisConstraintGroups=[],l=t._axisMatchGroups=[],u,f,p,m,h,g,_,v;for(u=0;u<i.length;u++)m=a(i[u]),h=e[m],g=t[m],d(h,g,{axIds:i,layoutOut:t,hasImage:o[m]});function y(e,n){for(u=0;u<e.length;u++)for(p in f=e[u],f)t[a(p)][n]=f}for(y(l,`_matchGroup`),u=0;u<s.length;u++)for(p in f=s[u],f)if(g=t[a(p)],g.fixedrange){for(var b in f){var x=a(b);(e[x]||{}).fixedrange===!1&&r.warn(`fixedrange was specified as false for axis `+x+` but was overridden because another axis in its constraint group has fixedrange true`),t[x].fixedrange=!0}break}for(u=0;u<s.length;){for(p in f=s[u],f){g=t[a(p)],g._matchGroup&&Object.keys(g._matchGroup).length===Object.keys(f).length&&(s.splice(u,1),u--);break}u++}y(s,`_constraintGroup`);var S=[`constrain`,`range`,`autorange`,`rangemode`,`rangebreaks`,`categoryorder`,`categoryarray`],C=!1,w=!1;function T(){v=g[_],_===`rangebreaks`&&(w=g._hasDayOfWeekBreaks)}for(u=0;u<l.length;u++){f=l[u];for(var E=0;E<S.length;E++){_=S[E],v=null;var D;for(p in f)if(m=a(p),h=e[m],g=t[m],_ in g){if(!g.matches&&(D=g,_ in h)){T();break}v===null&&_ in h&&T()}if(_===`range`&&v&&(C=!0),_===`autorange`&&v===null&&C&&(v=!1),v===null&&_ in D&&(v=D[_]),v!==null)for(p in f)g=t[a(p)],g[_]=_===`range`?v.slice():v,_===`rangebreaks`&&(g._hasDayOfWeekBreaks=w,c(g,t))}}};function d(e,t,n){var i=n.axIds,s=n.layoutOut,c=n.hasImage,l=s._axisConstraintGroups,u=s._axisMatchGroups,d=t._id,h=d.charAt(0),g=((s._splomAxes||{})[h]||{})[d]||{},_=t._id,v=_.charAt(0)===`x`;t._matchGroup=null,t._constraintGroup=null;function y(n,i){return r.coerce(e,t,o,n,i)}y(`constrain`,c?`domain`:`range`),r.coerce(e,t,{constraintoward:{valType:`enumerated`,values:v?[`left`,`center`,`right`]:[`bottom`,`middle`,`top`],dflt:v?`center`:`middle`}},`constraintoward`);var b=t.type,x,S,C=[];for(x=0;x<i.length;x++)S=i[x],S!==_&&s[a(S)].type===b&&C.push(S);var w=p(l,_);if(w){var T=[];for(x=0;x<C.length;x++)S=C[x],w[S]||T.push(S);C=T}var E=C.length,D,O;E&&(e.matches||g.matches)&&(D=r.coerce(e,t,{matches:{valType:`enumerated`,values:C,dflt:C.indexOf(g.matches)===-1?void 0:g.matches}},`matches`));var k=c&&!v?t.anchor:void 0;if(E&&!D&&(e.scaleanchor||k)&&(O=r.coerce(e,t,{scaleanchor:{valType:`enumerated`,values:C}},`scaleanchor`,k)),D){t._matchGroup=m(u,_,D,1);var A=s[a(D)],j=f(s,t)/f(s,A);v!==(D.charAt(0)===`x`)&&(j=(v?`x`:`y`)+j),m(l,_,D,j)}else e.matches&&i.indexOf(e.matches)!==-1&&r.warn(`ignored `+t._name+`.matches: "`+e.matches+`" to avoid an infinite loop`);if(O){var M=y(`scaleratio`);M||=t.scaleratio=1,m(l,_,O,M)}else e.scaleanchor&&i.indexOf(e.scaleanchor)!==-1&&r.warn(`ignored `+t._name+`.scaleanchor: "`+e.scaleanchor+`" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.`)}function f(e,t){var n=t.domain;return n||=e[a(t.overlaying)].domain,n[1]-n[0]}function p(e,t){for(var n=0;n<e.length;n++)if(e[n][t])return e[n];return null}function m(e,t,n,r){var i,a,o,s,c,l=p(e,t);l===null?(l={},l[t]=1,c=e.length,e.push(l)):c=e.indexOf(l);var u=Object.keys(l);for(i=0;i<e.length;i++)if(o=e[i],i!==c&&o[n]){var d=o[n];for(a=0;a<u.length;a++)s=u[a],o[s]=h(d,h(r,l[s]));e.splice(c,1);return}if(r!==1)for(a=0;a<u.length;a++){var f=u[a];l[f]=h(r,l[f])}l[n]=1}function h(e,t){var n=``,r=``,i,a;typeof e==`string`&&(n=e.match(/^[xy]*/)[0],i=n.length,e=+e.substr(i)),typeof t==`string`&&(r=t.match(/^[xy]*/)[0],a=r.length,t=+t.substr(a));var o=e*t;return!i&&!a?o:!i||!a||n.charAt(0)===r.charAt(0)?n+r+e*t:i===a?o:(i>a?n.substr(a):r.substr(i))+o}function g(e,t){for(var n=t._size,r=n.h/n.w,i={},a=Object.keys(e),o=0;o<a.length;o++){var s=a[o],c=e[s];if(typeof c==`string`){var l=c.match(/^[xy]*/)[0],u=l.length;c=+c.substr(u);for(var d=l.charAt(0)===`y`?r:1/r,f=0;f<u;f++)c*=d}i[s]=c}return i}t.enforce=function(e){var t=e._fullLayout,n=t._axisConstraintGroups||[],r,o,c,u,d,f,p,m;for(r=0;r<n.length;r++){c=g(n[r],t);var h=Object.keys(c),v=1/0,y=0,b=1/0,x={},S={},C=!1;for(o=0;o<h.length;o++)u=h[o],S[u]=d=t[a(u)],d._inputDomain?d.domain=d._inputDomain.slice():d._inputDomain=d.domain.slice(),d._inputRange||=d.range.slice(),d.setScale(),x[u]=f=Math.abs(d._m)/c[u],v=Math.min(v,f),(d.constrain===`domain`||!d._constraintShrinkable)&&(b=Math.min(b,f)),delete d._constraintShrinkable,y=Math.max(y,f),d.constrain===`domain`&&(C=!0);if(!(v>l*y&&!C)){for(o=0;o<h.length;o++)if(u=h[o],f=x[u],d=S[u],p=d.constrain,f!==b||p===`domain`)if(m=f/b,p===`range`)s(d,m);else{var w=d._inputDomain,T=(d.domain[1]-d.domain[0])/(w[1]-w[0]),E=(d.r2l(d.range[1])-d.r2l(d.range[0]))/(d.r2l(d._inputRange[1])-d.r2l(d._inputRange[0]));if(m/=T,m*E<1){d.domain=d._input.domain=w.slice(),s(d,m);continue}if(E<1&&(d.range=d._input.range=d._inputRange.slice(),m*=E),d.autorange){var D=d.r2l(d.range[0]),O=d.r2l(d.range[1]),k=(D+O)/2,A=k,j=k,M=Math.abs(O-k),N=k-M*m*1.0001,P=k+M*m*1.0001,F=i.makePadFn(t,d,0),I=i.makePadFn(t,d,1);_(d,m);var L=Math.abs(d._m),R=i.concatExtremes(e,d),z=R.min,B=R.max,V,H;for(H=0;H<z.length;H++)V=z[H].val-F(z[H])/L,V>N&&V<A&&(A=V);for(H=0;H<B.length;H++)V=B[H].val+I(B[H])/L,V<P&&V>j&&(j=V);var U=(j-A)/(2*M);m/=U,A=d.l2r(A),j=d.l2r(j),d.range=d._input.range=D<O?[A,j]:[j,A]}_(d,m)}}}},t.getAxisGroup=function(e,t){for(var n=e._axisMatchGroups,r=0;r<n.length;r++)if(n[r][t])return`g`+r;return t},t.clean=function(e,t){if(t._inputDomain){for(var n=!1,r=t._id,i=e._fullLayout._axisConstraintGroups,a=0;a<i.length;a++)if(i[a][r]){n=!0;break}(!n||t.constrain!==`domain`)&&(t._input.domain=t.domain=t._inputDomain,delete t._inputDomain)}};function _(e,t){var n=e._inputDomain,r=u[e.constraintoward],i=n[0]+(n[1]-n[0])*r;e.domain=e._input.domain=[i+(n[0]-i)/t,i+(n[1]-i)/t],e.setScale()}}),29323:(function(e,t,n){var r=n(39898),i=n(71828),a=i.numberFormat,o=n(84267),s=n(38520),c=n(73972),l=i.strTranslate,u=n(63893),d=n(7901),f=n(91424),p=n(30211),m=n(89298),h=n(6964),g=n(28569),_=n(64505),v=_.selectingOrDrawing,y=_.freeMode,b=n(18783).FROM_TL,x=n(33306),S=n(61549).redrawReglTraces,C=n(74875),w=n(41675).getFromId,T=n(47322).prepSelect,E=n(47322).clearOutline,D=n(47322).selectOnClick,O=n(42449),k=n(85555),A=k.MINDRAG,j=k.MINZOOM,M=!0;function N(e,t,n,a,s,l,d,h){var _=e._fullLayout._zoomlayer,M=d+h===`nsew`,N=(d+h).length===1,P,G,ie,ae,oe,se,ce,le,ue,de,fe,pe,me,he,ge,_e,ve,ye,be,xe,Se,Ce,we;n+=t.yaxis._shift;function Te(){if(P=t.xaxis,G=t.yaxis,ue=P._length,de=G._length,ce=P._offset,le=G._offset,ie={},ie[P._id]=P,ae={},ae[G._id]=G,d&&h)for(var n=t.overlays,r=0;r<n.length;r++){var i=n[r].xaxis;ie[i._id]=i;var a=n[r].yaxis;ae[a._id]=a}oe=re(ie),se=re(ae),me=I(oe,h),he=I(se,d),ge=!he&&!me,pe=te(e,e._fullLayout._axisMatchGroups,ie,ae),fe=te(e,e._fullLayout._axisConstraintGroups,ie,ae,pe);var o=fe.isSubplotConstrained||pe.isSubplotConstrained;_e=h||o,ve=d||o;var s=e._fullLayout;ye=s._has(`scattergl`),be=s._has(`splom`),xe=s._has(`svg`)}Te();var Ee=V(he+me,e._fullLayout.dragmode,M),X=F(t,d+h+`drag`,Ee,n,a,s,l);if(ge&&!M)return X.onmousedown=null,X.style.pointerEvents=`none`,X;var Z={element:X,gd:e,plotinfo:t};Z.prepFn=function(t,n,r){var i=Z.dragmode,a=e._fullLayout.dragmode;a!==i&&(Z.dragmode=a),Te(),Ce=e._fullLayout._invScaleX,we=e._fullLayout._invScaleY,ge||(M?t.shiftKey?a===`pan`?a=`zoom`:v(a)||(a=`pan`):t.ctrlKey&&(a=`pan`):a=`pan`),y(a)?Z.minDrag=1:Z.minDrag=void 0,v(a)?(Z.xaxes=oe,Z.yaxes=se,T(t,n,r,Z,a)):(Z.clickFn=Q,v(i)&&De(),ge||(a===`zoom`?(Z.moveFn=ze,Z.doneFn=Ve,Z.minDrag=1,Re(t,n,r)):a===`pan`&&(Z.moveFn=qe,Z.doneFn=Ze))),e._fullLayout._redrag=function(){var t=e._dragdata;if(t&&t.element===X){var n=e._fullLayout.dragmode;v(n)||(Te(),Qe([0,0,ue,de]),Z.moveFn(t.dx,t.dy))}}};function De(){Z.plotinfo.selection=!1,E(e)}function Q(e,n){var i=Z.gd;if(i._fullLayout._activeShapeIndex>=0){i._fullLayout._deactivateShape(i);return}var a=i._fullLayout.clickmode;if(K(i),e===2&&!N&&Xe(),M)a.indexOf(`select`)>-1&&D(n,i,oe,se,t.id,Z),a.indexOf(`event`)>-1&&p.click(i,n,t.id);else if(e===1&&N){var o=d?G:P,s=d===`s`||h===`w`?0:1,l=o._name+`.range[`+s+`]`,f=L(o,s),m=`left`,g=`middle`;if(o.fixedrange)return;d?(g=d===`n`?`top`:`bottom`,o.side===`right`&&(m=`right`)):h===`e`&&(m=`right`),i._context.showAxisRangeEntryBoxes&&r.select(X).call(u.makeEditable,{gd:i,immediate:!0,background:i._fullLayout.paper_bgcolor,text:String(f),fill:o.tickfont?o.tickfont.color:`#444`,horizontalAlign:m,verticalAlign:g}).on(`edit`,function(e){var t=o.d2r(e);t!==void 0&&c.call(`_guiRelayout`,i,l,t)})}}g.init(Z);var Oe,ke,Ae,je,Me,Ne,Pe,Fe,Ie,Le;function Re(t,n,r){var a=X.getBoundingClientRect();Oe=n-a.left,ke=r-a.top,e._fullLayout._calcInverseTransform(e);var s=i.apply3DTransform(e._fullLayout._invTransform)(Oe,ke);Oe=s[0],ke=s[1],Ae={l:Oe,r:Oe,w:0,t:ke,b:ke,h:0},je=e._hmpixcount?e._hmlumcount/e._hmpixcount:o(e._fullLayout.plot_bgcolor).getLuminance(),Me=`M0,0H`+ue+`V`+de+`H0V0`,Ne=!1,Pe=`xy`,Le=!1,Fe=H(_,je,ce,le,Me),Ie=U(_,ce,le)}function ze(t,n){if(e._transitioningWithDuration)return!1;var r=Math.max(0,Math.min(ue,Ce*t+Oe)),i=Math.max(0,Math.min(de,we*n+ke)),a=Math.abs(r-Oe),o=Math.abs(i-ke);Ae.l=Math.min(Oe,r),Ae.r=Math.max(Oe,r),Ae.t=Math.min(ke,i),Ae.b=Math.max(ke,i);function s(){Pe=``,Ae.r=Ae.l,Ae.t=Ae.b,Ie.attr(`d`,`M0,0Z`)}if(fe.isSubplotConstrained)a>j||o>j?(Pe=`xy`,a/ue>o/de?(o=a*de/ue,ke>i?Ae.t=ke-o:Ae.b=ke+o):(a=o*ue/de,Oe>r?Ae.l=Oe-a:Ae.r=Oe+a),Ie.attr(`d`,Y(Ae))):s();else if(pe.isSubplotConstrained)if(a>j||o>j){Pe=`xy`;var c=Math.min(Ae.l/ue,(de-Ae.b)/de),l=Math.max(Ae.r/ue,(de-Ae.t)/de);Ae.l=c*ue,Ae.r=l*ue,Ae.b=(1-c)*de,Ae.t=(1-l)*de,Ie.attr(`d`,Y(Ae))}else s();else !he||o<Math.min(Math.max(a*.6,A),j)?a<A||!me?s():(Ae.t=0,Ae.b=de,Pe=`x`,Ie.attr(`d`,q(Ae,ke))):!me||a<Math.min(o*.6,j)?(Ae.l=0,Ae.r=ue,Pe=`y`,Ie.attr(`d`,J(Ae,Oe))):(Pe=`xy`,Ie.attr(`d`,Y(Ae)));Ae.w=Ae.r-Ae.l,Ae.h=Ae.b-Ae.t,Pe&&(Le=!0),e._dragged=Le,W(Fe,Ie,Ae,Me,Ne,je),Be(),e.emit(`plotly_relayouting`,Se),Ne=!0}function Be(){Se={},(Pe===`xy`||Pe===`x`)&&(R(oe,Ae.l/ue,Ae.r/ue,Se,fe.xaxes),Je(`x`,Se)),(Pe===`xy`||Pe===`y`)&&(R(se,(de-Ae.b)/de,(de-Ae.t)/de,Se,fe.yaxes),Je(`y`,Se))}function Ve(){Be(),K(e),Ze(),ee(e)}var He=[0,0,ue,de],Ue=null,We=k.REDRAWDELAY,Ge=t.mainplot?e._fullLayout._plots[t.mainplot]:t;function Ke(t){if(!e._context._scrollZoom.cartesian&&!e._fullLayout._enablescrollzoom)return;if(De(),e._transitioningWithDuration){t.preventDefault(),t.stopPropagation();return}Te(),clearTimeout(Ue);var n=-t.deltaY;if(isFinite(n)||(n=t.wheelDelta/10),!isFinite(n)){i.log(`Did not find wheel motion attributes: `,t);return}var r=Math.exp(-Math.min(Math.max(n,-20),20)/200),a=Ge.draglayer.select(`.nsewdrag`).node().getBoundingClientRect(),o=(t.clientX-a.left)/a.width,s=(a.bottom-t.clientY)/a.height,c;function l(e,t,n){if(e.fixedrange)return;var r=i.simpleMap(e.range,e.r2l),a=r[0]+(r[1]-r[0])*t;function o(t){return e.l2r(a+(t-a)*n)}e.range=r.map(o)}if(_e){for(h||(o=.5),c=0;c<oe.length;c++)l(oe[c],o,r);Je(`x`),He[2]*=r,He[0]+=He[2]*o*(1/r-1)}if(ve){for(d||(s=.5),c=0;c<se.length;c++)l(se[c],s,r);Je(`y`),He[3]*=r,He[1]+=He[3]*(1-s)*(1/r-1)}Qe(He),Ye(),e.emit(`plotly_relayouting`,Se),Ue=setTimeout(function(){e._fullLayout&&(He=[0,0,ue,de],Ze())},We),t.preventDefault()}d.length*h.length!==1&&ne(X,Ke);function qe(t,n){if(t*=Ce,n*=we,e._transitioningWithDuration)return;if(e._fullLayout._replotting=!0,me===`ew`||he===`ns`){var r=me?-t:0,i=he?-n:0;if(pe.isSubplotConstrained){if(me&&he){var a=(t/ue-n/de)/2;t=a*ue,n=-a*de,r=-t,i=-n}he?r=-i*ue/de:i=-r*de/ue}me&&(z(oe,t),Je(`x`)),he&&(z(se,n),Je(`y`)),Qe([r,i,ue,de]),Ye(),e.emit(`plotly_relayouting`,Se);return}function o(e,t,n){for(var r=1-t,i,a,o=0;o<e.length;o++){var s=e[o];if(!s.fixedrange){i=s,a=s._rl[r]+(s._rl[t]-s._rl[r])/B(n/s._length);var c=s.l2r(a);c!==!1&&c!==void 0&&(s.range[t]=c)}}return i._length*(i._rl[t]-a)/(i._rl[t]-i._rl[r])}var s=me===`w`==(he===`n`)?1:-1;if(me&&he&&(fe.isSubplotConstrained||pe.isSubplotConstrained)){var c=(t/ue+s*n/de)/2;t=c*ue,n=s*c*de}var l,u;if(me===`w`?t=o(oe,0,t):me===`e`?t=o(oe,1,-t):me||(t=0),he===`n`?n=o(se,1,n):he===`s`?n=o(se,0,-n):he||(n=0),l=me===`w`?t:0,u=he===`n`?n:0,fe.isSubplotConstrained&&!pe.isSubplotConstrained||pe.isSubplotConstrained&&me&&he&&s>0){var d;if(pe.isSubplotConstrained||!me&&he.length===1){for(d=0;d<oe.length;d++)oe[d].range=oe[d]._r.slice(),O(oe[d],1-n/de);t=n*ue/de,l=t/2}if(pe.isSubplotConstrained||!he&&me.length===1){for(d=0;d<se.length;d++)se[d].range=se[d]._r.slice(),O(se[d],1-t/ue);n=t*de/ue,u=n/2}}(!pe.isSubplotConstrained||!he)&&Je(`x`),(!pe.isSubplotConstrained||!me)&&Je(`y`);var f=ue-t,p=de-n;pe.isSubplotConstrained&&!(me&&he)&&(me?(u=l?0:t*de/ue,p=f*de/ue):(l=u?0:n*ue/de,f=p*ue/de)),Qe([l,u,f,p]),Ye(),e.emit(`plotly_relayouting`,Se)}function Je(e,t){for(var n=pe.isSubplotConstrained?{x:se,y:oe}[e]:pe[e+`axes`],r=pe.isSubplotConstrained?{x:oe,y:se}[e]:[],i=0;i<n.length;i++){var a=n[i],o=a._id,s=pe.xLinks[o]||pe.yLinks[o],c=r[0]||ie[s]||ae[s];c&&(t?(t[a._name+`.range[0]`]=t[c._name+`.range[0]`],t[a._name+`.range[1]`]=t[c._name+`.range[1]`]):a.range=c.range.slice())}}function Ye(){var n=[],r;function i(e){for(r=0;r<e.length;r++)e[r].fixedrange||n.push(e[r]._id)}function a(e,t){for(r=0;r<e.length;r++){var i=e[r],a=i[t];!i.fixedrange&&a.tickmode===`sync`&&n.push(a._id)}}for(_e&&(i(oe),i(fe.xaxes),i(pe.xaxes),a(t.overlays,`xaxis`)),ve&&(i(se),i(fe.yaxes),i(pe.yaxes),a(t.overlays,`yaxis`)),Se={},r=0;r<n.length;r++){var o=n[r],s=w(e,o);m.drawOne(e,s,{skipTitle:!0}),Se[s._name+`.range[0]`]=s.range[0],Se[s._name+`.range[1]`]=s.range[1]}m.redrawComponents(e,n)}function Xe(){if(!e._transitioningWithDuration){var t=e._context.doubleClick,n=[];me&&(n=n.concat(oe)),he&&(n=n.concat(se)),pe.xaxes&&(n=n.concat(pe.xaxes)),pe.yaxes&&(n=n.concat(pe.yaxes));var r={},i,a,o;if(t===`reset+autosize`){for(t=`autosize`,a=0;a<n.length;a++)if(i=n[a],i._rangeInitial&&(i.range[0]!==i._rangeInitial[0]||i.range[1]!==i._rangeInitial[1])||!i._rangeInitial&&!i.autorange){t=`reset`;break}}if(t===`autosize`)for(a=0;a<n.length;a++)i=n[a],i.fixedrange||(r[i._name+`.autorange`]=!0);else if(t===`reset`)for((me||fe.isSubplotConstrained)&&(n=n.concat(fe.xaxes)),he&&!fe.isSubplotConstrained&&(n=n.concat(fe.yaxes)),fe.isSubplotConstrained&&(me?he||(n=n.concat(se)):n=n.concat(oe)),a=0;a<n.length;a++)i=n[a],i.fixedrange||(i._rangeInitial?(o=i._rangeInitial,r[i._name+`.range[0]`]=o[0],r[i._name+`.range[1]`]=o[1]):r[i._name+`.autorange`]=!0);e.emit(`plotly_doubleclick`,null),c.call(`_guiRelayout`,e,r)}}function Ze(){Qe([0,0,ue,de]),i.syncOrAsync([C.previousPromises,function(){e._fullLayout._replotting=!1,c.call(`_guiRelayout`,e,Se)}],e)}function Qe(t){var n=e._fullLayout,r=n._plots,a=n._subplots.cartesian,o,s,l,u;if(be&&c.subplotsRegistry.splom.drag(e),ye){for(o=0;o<a.length;o++)if(s=r[a[o]],l=s.xaxis,u=s.yaxis,s._scene){var p=i.simpleMap(l.range,l.r2l),m=i.simpleMap(u.range,u.r2l);s._scene.update({range:[p[0],m[0],p[1],m[1]]})}}if((be||ye)&&(x(e),S(e)),xe){var g=t[2]/P._length,_=t[3]/G._length;for(o=0;o<a.length;o++){s=r[a[o]],l=s.xaxis,u=s.yaxis;var v=(_e||pe.isSubplotConstrained)&&!l.fixedrange&&ie[l._id],y=(ve||pe.isSubplotConstrained)&&!u.fixedrange&&ae[u._id],b,C,w,T;if(v?(b=g,w=h||pe.isSubplotConstrained?t[0]:tt(l,b)):pe.xaHash[l._id]?(b=g,w=t[0]*l._length/P._length):pe.yaHash[l._id]?(b=_,w=he===`ns`?-t[1]*l._length/G._length:tt(l,b,{n:`top`,s:`bottom`}[he])):(b=$e(l,g,_),w=et(l,b)),y?(C=_,T=d||pe.isSubplotConstrained?t[1]:tt(u,C)):pe.yaHash[u._id]?(C=_,T=t[1]*u._length/G._length):pe.xaHash[u._id]?(C=g,T=me===`ew`?-t[0]*u._length/P._length:tt(u,C,{e:`right`,w:`left`}[me])):(C=$e(u,g,_),T=et(u,C)),!(!b&&!C)){b||=1,C||=1;var E=l._offset-w/b,D=u._offset-T/C;s.clipRect.call(f.setTranslate,w,T).call(f.setScale,b,C),s.plot.call(f.setTranslate,E,D).call(f.setScale,1/b,1/C),(b!==s.xScaleFactor||C!==s.yScaleFactor)&&(f.setPointGroupScale(s.zoomScalePts,b,C),f.setTextPointsScale(s.zoomScaleTxt,b,C)),f.hideOutsideRangePoints(s.clipOnAxisFalseTraces,s),s.xScaleFactor=b,s.yScaleFactor=C}}}}function $e(e,t,n){return e.fixedrange?0:_e&&fe.xaHash[e._id]?t:ve&&(fe.isSubplotConstrained?fe.xaHash:fe.yaHash)[e._id]?n:0}function et(e,t){return t?(e.range=e._r.slice(),O(e,t),tt(e,t)):0}function tt(e,t,n){return e._length*(1-t)*b[n||e.constraintoward||`middle`]}return X}function P(e,t,n,r){var a=i.ensureSingle(e.draglayer,t,n,function(t){t.classed(`drag`,!0).style({fill:`transparent`,"stroke-width":0}).attr(`data-subplot`,e.id)});return a.call(h,r),a.node()}function F(e,t,n,i,a,o,s){var c=P(e,`rect`,t,n);return r.select(c).call(f.setRect,i,a,o,s),c}function I(e,t){for(var n=0;n<e.length;n++)if(!e[n].fixedrange)return t;return``}function L(e,t){var n=e.range[t],r=Math.abs(n-e.range[1-t]),i;return e.type===`date`?n:e.type===`log`?(i=Math.ceil(Math.max(0,-Math.log(r)/Math.LN10))+3,a(`.`+i+`g`)(10**n)):(i=Math.floor(Math.log(Math.abs(n))/Math.LN10)-Math.floor(Math.log(r)/Math.LN10)+4,a(`.`+String(i)+`g`)(n))}function R(e,t,n,r,i){for(var a=0;a<e.length;a++){var o=e[a];if(!o.fixedrange)if(o.rangebreaks){var s=o._id.charAt(0)===`y`,c=s?1-t:t,l=s?1-n:n;r[o._name+`.range[0]`]=o.l2r(o.p2l(c*o._length)),r[o._name+`.range[1]`]=o.l2r(o.p2l(l*o._length))}else{var u=o._rl[0],d=o._rl[1]-u;r[o._name+`.range[0]`]=o.l2r(u+d*t),r[o._name+`.range[1]`]=o.l2r(u+d*n)}}if(i&&i.length){var f=(t+(1-n))/2;R(i,f,1-f,r,[])}}function z(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r.fixedrange)if(r.rangebreaks){var i=0,a=r._length,o=(r.p2l(i+t)-r.p2l(i)+(r.p2l(a+t)-r.p2l(a)))/2;r.range=[r.l2r(r._rl[0]-o),r.l2r(r._rl[1]-o)]}else r.range=[r.l2r(r._rl[0]-t/r._m),r.l2r(r._rl[1]-t/r._m)]}}function B(e){return 1-(e>=0?Math.min(e,.9):1/(1/Math.max(e,-.3)+3.222))}function V(e,t,n){return e?e===`nsew`?n?``:t===`pan`?`move`:`crosshair`:e.toLowerCase()+`-resize`:`pointer`}function H(e,t,n,r,i){return e.append(`path`).attr(`class`,`zoombox`).style({fill:t>.2?`rgba(0,0,0,0)`:`rgba(255,255,255,0)`,"stroke-width":0}).attr(`transform`,l(n,r)).attr(`d`,i+`Z`)}function U(e,t,n){return e.append(`path`).attr(`class`,`zoombox-corners`).style({fill:d.background,stroke:d.defaultLine,"stroke-width":1,opacity:0}).attr(`transform`,l(t,n)).attr(`d`,`M0,0Z`)}function W(e,t,n,r,i,a){e.attr(`d`,r+`M`+n.l+`,`+n.t+`v`+n.h+`h`+n.w+`v-`+n.h+`h-`+n.w+`Z`),G(e,t,i,a)}function G(e,t,n,r){n||(e.transition().style(`fill`,r>.2?`rgba(0,0,0,0.4)`:`rgba(255,255,255,0.3)`).duration(200),t.transition().style(`opacity`,1).duration(200))}function K(e){r.select(e).selectAll(`.zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners`).remove()}function ee(e){M&&e.data&&e._context.showTips&&(i.notifier(i._(e,`Double-click to zoom back out`),`long`),M=!1)}function q(e,t){return`M`+(e.l-.5)+`,`+(t-j-.5)+`h-3v`+(2*j+1)+`h3ZM`+(e.r+.5)+`,`+(t-j-.5)+`h3v`+(2*j+1)+`h-3Z`}function J(e,t){return`M`+(t-j-.5)+`,`+(e.t-.5)+`v-3h`+(2*j+1)+`v3ZM`+(t-j-.5)+`,`+(e.b+.5)+`v3h`+(2*j+1)+`v-3Z`}function Y(e){var t=Math.floor(Math.min(e.b-e.t,e.r-e.l,j)/2);return`M`+(e.l-3.5)+`,`+(e.t-.5+t)+`h3v`+-t+`h`+t+`v-3h-`+(t+3)+`ZM`+(e.r+3.5)+`,`+(e.t-.5+t)+`h-3v`+-t+`h`+-t+`v-3h`+(t+3)+`ZM`+(e.r+3.5)+`,`+(e.b+.5-t)+`h-3v`+t+`h`+-t+`v3h`+(t+3)+`ZM`+(e.l-3.5)+`,`+(e.b+.5-t)+`h3v`+t+`h`+t+`v3h-`+(t+3)+`Z`}function te(e,t,n,r,a){for(var o=!1,s={},c={},l,u,d,f,p=(a||{}).xaHash,m=(a||{}).yaHash,h=0;h<t.length;h++){var g=t[h];for(l in n)if(g[l]){for(d in g)!(a&&(p[d]||m[d]))&&!(d.charAt(0)===`x`?n:r)[d]&&(s[d]=l);for(u in r)!(a&&(p[u]||m[u]))&&g[u]&&(o=!0)}for(u in r)if(g[u])for(f in g)!(a&&(p[f]||m[f]))&&!(f.charAt(0)===`x`?n:r)[f]&&(c[f]=u)}o&&(i.extendFlat(s,c),c={});var _={},v=[];for(d in s){var y=w(e,d);v.push(y),_[y._id]=y}var b={},x=[];for(f in c){var S=w(e,f);x.push(S),b[S._id]=S}return{xaHash:_,yaHash:b,xaxes:v,yaxes:x,xLinks:s,yLinks:c,isSubplotConstrained:o}}function ne(e,t){if(!s)e.onwheel===void 0?e.onmousewheel===void 0?e.isAddedWheelEvent||(e.isAddedWheelEvent=!0,e.addEventListener(`wheel`,t,{passive:!1})):e.onmousewheel=t:e.onwheel=t;else{var n=e.onwheel===void 0?`mousewheel`:`wheel`;e._onwheel&&e.removeEventListener(n,e._onwheel),e._onwheel=t,e.addEventListener(n,t,{passive:!1})}}function re(e){var t=[];for(var n in e)t.push(e[n]);return t}e.exports={makeDragBox:N,makeDragger:P,makeRectDragger:F,makeZoombox:H,makeCorners:U,updateZoombox:W,xyCorners:Y,transitionZoombox:G,removeZoombox:K,showDoubleClickNotifier:ee,attachWheelEventHandler:ne}}),4305:(function(e,t,n){var r=n(39898),i=n(30211),a=n(28569),o=n(6964),s=n(29323).makeDragBox,c=n(85555).DRAGGERSIZE;t.initInteractions=function(e){var n=e._fullLayout;if(e._context.staticPlot){r.select(e).selectAll(`.drag`).remove();return}if(!(!n._has(`cartesian`)&&!n._has(`splom`))){Object.keys(n._plots||{}).sort(function(e,t){if((n._plots[e].mainplot&&!0)===(n._plots[t].mainplot&&!0)){var r=e.split(`y`),i=t.split(`y`);return r[0]===i[0]?Number(r[1]||1)-Number(i[1]||1):Number(r[0]||1)-Number(i[0]||1)}return n._plots[e].mainplot?1:-1}).forEach(function(t){var r=n._plots[t],o=r.xaxis,l=r.yaxis;if(!r.mainplot){var u=s(e,r,o._offset,l._offset,o._length,l._length,`ns`,`ew`);u.onmousemove=function(n){e._fullLayout._rehover=function(){e._fullLayout._hoversubplot===t&&e._fullLayout._plots[t]&&i.hover(e,n,t)},i.hover(e,n,t),e._fullLayout._lasthover=u,e._fullLayout._hoversubplot=t},u.onmouseout=function(t){e._dragging||(e._fullLayout._hoversubplot=null,a.unhover(e,t))},e._context.showAxisDragHandles&&(s(e,r,o._offset-c,l._offset-c,c,c,`n`,`w`),s(e,r,o._offset+o._length,l._offset-c,c,c,`n`,`e`),s(e,r,o._offset-c,l._offset+l._length,c,c,`s`,`w`),s(e,r,o._offset+o._length,l._offset+l._length,c,c,`s`,`e`))}if(e._context.showAxisDragHandles){if(t===o._mainSubplot){var d=o._mainLinePosition;o.side===`top`&&(d-=c),s(e,r,o._offset+o._length*.1,d,o._length*.8,c,``,`ew`),s(e,r,o._offset,d,o._length*.1,c,``,`w`),s(e,r,o._offset+o._length*.9,d,o._length*.1,c,``,`e`)}if(t===l._mainSubplot){var f=l._mainLinePosition;l.side!==`right`&&(f-=c),s(e,r,f,l._offset+l._length*.1,c,l._length*.8,`ns`,``),s(e,r,f,l._offset+l._length*.9,c,l._length*.1,`s`,``),s(e,r,f,l._offset,c,l._length*.1,`n`,``)}}});var o=n._hoverlayer.node();o.onmousemove=function(t){t.target=e._fullLayout._lasthover,i.hover(e,t,n._hoversubplot)},o.onclick=function(t){t.target=e._fullLayout._lasthover,i.click(e,t)},o.onmousedown=function(t){e._fullLayout._lasthover.onmousedown(t)},t.updateFx(e)}},t.updateFx=function(e){var t=e._fullLayout,n=t.dragmode===`pan`?`move`:`crosshair`;o(t._draggers,n)}}),76325:(function(e,t,n){var r=n(73972),i=n(71828),a=n(41675);e.exports=function(e){return function(t,n){var o=t[e];if(Array.isArray(o))for(var s=r.subplotsRegistry.cartesian,c=s.idRegex,l=n._subplots,u=l.xaxis,d=l.yaxis,f=l.cartesian,p=n._has(`cartesian`)||n._has(`gl2d`),m=0;m<o.length;m++){var h=o[m];if(i.isPlainObject(h)){var g=a.cleanId(h.xref,`x`,!1),_=a.cleanId(h.yref,`y`,!1),v=c.x.test(g),y=c.y.test(_);if(v||y){p||i.pushUnique(n._basePlotModules,s);var b=!1;v&&u.indexOf(g)===-1&&(u.push(g),b=!0),y&&d.indexOf(_)===-1&&(d.push(_),b=!0),b&&v&&y&&f.push(g+_)}}}}}}),93612:(function(e,t,n){var r=n(39898),i=n(73972),a=n(71828),o=n(74875),s=n(91424),c=n(27659).a0,l=n(41675),u=n(85555),d=n(77922),f=a.ensureSingle;function p(e,t,n){return a.ensureSingle(e,t,n,function(e){e.datum(n)})}t.name=`cartesian`,t.attr=[`xaxis`,`yaxis`],t.idRoot=[`x`,`y`],t.idRegex=u.idRegex,t.attrRegex=u.attrRegex,t.attributes=n(89502),t.layoutAttributes=n(13838),t.supplyLayoutDefaults=n(86763),t.transitionAxes=n(66847),t.finalizeSubplots=function(e,t){var n=t._subplots,r=n.xaxis,i=n.yaxis,o=n.cartesian,s=o.concat(n.gl2d||[]),c={},d={},f,p,m;for(f=0;f<s.length;f++){var h=s[f].split(`y`);c[h[0]]=1,d[`y`+h[1]]=1}for(f=0;f<r.length;f++)p=r[f],c[p]||(m=(e[l.id2name(p)]||{}).anchor,u.idRegex.y.test(m)||(m=`y`),o.push(p+m),s.push(p+m),d[m]||(d[m]=1,a.pushUnique(i,m)));for(f=0;f<i.length;f++)m=i[f],d[m]||(p=(e[l.id2name(m)]||{}).anchor,u.idRegex.x.test(p)||(p=`x`),o.push(p+m),s.push(p+m),c[p]||(c[p]=1,a.pushUnique(r,p)));if(!s.length){for(var g in p=``,m=``,e)u.attrRegex.test(g)&&(g.charAt(0)===`x`?(!p||+g.substr(5)<+p.substr(5))&&(p=g):(!m||+g.substr(5)<+m.substr(5))&&(m=g));p=p?l.name2id(p):`x`,m=m?l.name2id(m):`y`,r.push(p),i.push(m),o.push(p+m)}},t.plot=function(e,t,n,r){var i=e._fullLayout,a=i._subplots.cartesian,o=e.calcdata,s;if(!Array.isArray(t))for(t=[],s=0;s<o.length;s++)t.push(s);for(s=0;s<a.length;s++){for(var c=a[s],l=i._plots[c],u=[],d,f=0;f<o.length;f++){var p=o[f],h=p[0].trace;h.xaxis+h.yaxis===c&&((t.indexOf(h.index)!==-1||h.carpet)&&(d&&d[0].trace.xaxis+d[0].trace.yaxis===c&&[`tonextx`,`tonexty`,`tonext`].indexOf(h.fill)!==-1&&u.indexOf(d)===-1&&u.push(d),u.push(p)),d=p)}m(e,l,u,n,r)}};function m(e,t,n,a,o){for(var l=u.traceLayerClasses,d=e._fullLayout,f=d._modules,p,m,h,g=[],_=[],v=0;v<f.length;v++){p=f[v];var y=p.name,b=i.modules[y].categories;if(b.svg){var x=p.layerName||y+`layer`,S=p.plot;m=c(n,S),h=m[0],n=m[1],h.length&&g.push({i:l.indexOf(x),className:x,plotMethod:S,cdModule:h}),b.zoomScale&&_.push(`.`+x)}}g.sort(function(e,t){return e.i-t.i});var C=t.plot.selectAll(`g.mlayer`).data(g,function(e){return e.className});if(C.enter().append(`g`).attr(`class`,function(e){return e.className}).classed(`mlayer`,!0).classed(`rangeplot`,t.isRangePlot),C.exit().remove(),C.order(),C.each(function(n){var i=r.select(this),c=n.className;n.plotMethod(e,t,n.cdModule,i,a,o),u.clipOnAxisFalseQuery.indexOf(`.`+c)===-1&&s.setClipUrl(i,t.layerClipId,e)}),d._has(`scattergl`)&&(p=i.getModule(`scattergl`),h=c(n,p)[0],p.plot(e,t,h)),!e._context.staticPlot&&(t._hasClipOnAxisFalse&&(t.clipOnAxisFalseTraces=t.plot.selectAll(u.clipOnAxisFalseQuery.join(`,`)).selectAll(`.trace`)),_.length)){var w=t.plot.selectAll(_.join(`,`)).selectAll(`.trace`);t.zoomScalePts=w.selectAll(`path.point`),t.zoomScaleTxt=w.selectAll(`.textpoint`)}}t.clean=function(e,t,n,r){var i=r._plots||{},a=t._plots||{},o=r._subplots||{},s,c,u;if(r._hasOnlyLargeSploms&&!t._hasOnlyLargeSploms)for(u in i)s=i[u],s.plotgroup&&s.plotgroup.remove();var d=r._has&&r._has(`gl`),f=t._has&&t._has(`gl`);if(d&&!f)for(u in i)s=i[u],s._scene&&s._scene.destroy();if(o.xaxis&&o.yaxis){var p=l.listIds({_fullLayout:r});for(c=0;c<p.length;c++){var m=p[c];t[l.id2name(m)]||r._infolayer.selectAll(`.g-`+m+`title`).remove()}}var h=r._has&&r._has(`cartesian`),g=t._has&&t._has(`cartesian`);if(h&&!g)_(r._cartesianlayer.selectAll(`.subplot`),r),r._defs.selectAll(`.axesclip`).remove(),delete r._axisConstraintGroups,delete r._axisMatchGroups;else if(o.cartesian)for(c=0;c<o.cartesian.length;c++){var y=o.cartesian[c];if(!a[y]){var b=`.`+y+`,.`+y+`-x,.`+y+`-y`;r._cartesianlayer.selectAll(b).remove(),v(y,r)}}},t.drawFramework=function(e){var t=e._fullLayout,n=h(e),i=t._cartesianlayer.selectAll(`.subplot`).data(n,String);i.enter().append(`g`).attr(`class`,function(e){return`subplot `+e[0]}),i.order(),i.exit().call(_,t),i.each(function(n){var i=n[0],a=t._plots[i];a.plotgroup=r.select(this),g(e,a),a.draglayer=f(t._draggers,`g`,i)})},t.rangePlot=function(e,t,n){g(e,t),m(e,t,n),o.style(e)};function h(e){var t=e._fullLayout,n=t._subplots.cartesian,r=n.length,i,a,o,s,c,l,u=[],d=[];for(i=0;i<r;i++){o=n[i],s=t._plots[o],c=s.xaxis,l=s.yaxis;var f=c._mainAxis,p=l._mainAxis,m=f._id+p._id,h=t._plots[m];s.overlays=[],m!==o&&h?(s.mainplot=m,s.mainplotinfo=h,d.push(o)):(s.mainplot=void 0,s.mainplotinfo=void 0,u.push(o))}for(i=0;i<d.length;i++)o=d[i],s=t._plots[o],s.mainplotinfo.overlays.push(s);var g=u.concat(d),_=Array(r);for(i=0;i<r;i++){o=g[i],s=t._plots[o],c=s.xaxis,l=s.yaxis;var v=[o,c.layer,l.layer,c.overlaying||``,l.overlaying||``];for(a=0;a<s.overlays.length;a++)v.push(s.overlays[a].id);_[i]=v}return _}function g(e,t){var n=t.plotgroup,r=t.id,i=u.layerValue2layerClass[t.xaxis.layer],a=u.layerValue2layerClass[t.yaxis.layer],o=e._fullLayout._hasOnlyLargeSploms;if(t.mainplot){var s=t.mainplotinfo,c=s.plotgroup,d=r+`-x`,m=r+`-y`;t.minorGridlayer=s.minorGridlayer,t.gridlayer=s.gridlayer,t.zerolinelayer=s.zerolinelayer,f(s.overlinesBelow,`path`,d),f(s.overlinesBelow,`path`,m),f(s.overaxesBelow,`g`,d),f(s.overaxesBelow,`g`,m),t.plot=f(s.overplot,`g`,r),f(s.overlinesAbove,`path`,d),f(s.overlinesAbove,`path`,m),f(s.overaxesAbove,`g`,d),f(s.overaxesAbove,`g`,m),t.xlines=c.select(`.overlines-`+i).select(`.`+d),t.ylines=c.select(`.overlines-`+a).select(`.`+m),t.xaxislayer=c.select(`.overaxes-`+i).select(`.`+d),t.yaxislayer=c.select(`.overaxes-`+a).select(`.`+m)}else if(o)t.xlines=f(n,`path`,`xlines-above`),t.ylines=f(n,`path`,`ylines-above`),t.xaxislayer=f(n,`g`,`xaxislayer-above`),t.yaxislayer=f(n,`g`,`yaxislayer-above`);else{var h=f(n,`g`,`layer-subplot`);t.shapelayer=f(h,`g`,`shapelayer`),t.imagelayer=f(h,`g`,`imagelayer`),t.minorGridlayer=f(n,`g`,`minor-gridlayer`),t.gridlayer=f(n,`g`,`gridlayer`),t.zerolinelayer=f(n,`g`,`zerolinelayer`),f(n,`path`,`xlines-below`),f(n,`path`,`ylines-below`),t.overlinesBelow=f(n,`g`,`overlines-below`),f(n,`g`,`xaxislayer-below`),f(n,`g`,`yaxislayer-below`),t.overaxesBelow=f(n,`g`,`overaxes-below`),t.plot=f(n,`g`,`plot`),t.overplot=f(n,`g`,`overplot`),t.xlines=f(n,`path`,`xlines-above`),t.ylines=f(n,`path`,`ylines-above`),t.overlinesAbove=f(n,`g`,`overlines-above`),f(n,`g`,`xaxislayer-above`),f(n,`g`,`yaxislayer-above`),t.overaxesAbove=f(n,`g`,`overaxes-above`),t.xlines=n.select(`.xlines-`+i),t.ylines=n.select(`.ylines-`+a),t.xaxislayer=n.select(`.xaxislayer-`+i),t.yaxislayer=n.select(`.yaxislayer-`+a)}o||(p(t.minorGridlayer,`g`,t.xaxis._id),p(t.minorGridlayer,`g`,t.yaxis._id),t.minorGridlayer.selectAll(`g`).map(function(e){return e[0]}).sort(l.idSort),p(t.gridlayer,`g`,t.xaxis._id),p(t.gridlayer,`g`,t.yaxis._id),t.gridlayer.selectAll(`g`).map(function(e){return e[0]}).sort(l.idSort)),t.xlines.style(`fill`,`none`).classed(`crisp`,!0),t.ylines.style(`fill`,`none`).classed(`crisp`,!0)}function _(e,t){if(e){var n={};for(var i in e.each(function(e){var i=e[0];r.select(this).remove(),v(i,t),n[i]=!0}),t._plots)for(var a=t._plots[i].overlays||[],o=0;o<a.length;o++){var s=a[o];n[s.id]&&s.plot.selectAll(`.trace`).remove()}}}function v(e,t){t._draggers.selectAll(`g.`+e).remove(),t._defs.select(`#clip`+t._uid+e+`plot`).remove()}t.toSVG=function(e){var t=e._fullLayout._glimages,n=r.select(e).selectAll(`.svg-container`),i=n.filter(function(e,t){return t===n.size()-1}).selectAll(`.gl-canvas-context, .gl-canvas-focus`);function a(){var e=this,n=e.toDataURL(`image/png`);t.append(`svg:image`).attr({xmlns:d.svg,"xlink:href":n,preserveAspectRatio:`none`,x:0,y:0,width:e.style.width,height:e.style.height})}i.each(a)},t.updateFx=n(4305).updateFx}),13838:(function(e,t,n){var r=n(41940),i=n(22399),a=n(79952).P,o=n(1426).extendFlat,s=n(44467).templatedArray,c=n(12663).descriptionWithDates,l=n(50606).ONEDAY,u=n(85555),d=u.HOUR_PATTERN,f=u.WEEKDAY_PATTERN,p={valType:`enumerated`,values:[`auto`,`linear`,`array`],editType:`ticks`,impliedEdits:{tick0:void 0,dtick:void 0}},m=o({},p,{values:p.values.slice().concat([`sync`])});function h(e){return{valType:`integer`,min:0,dflt:e?5:0,editType:`ticks`}}var g={valType:`any`,editType:`ticks`,impliedEdits:{tickmode:`linear`}},_={valType:`any`,editType:`ticks`,impliedEdits:{tickmode:`linear`}},v={valType:`data_array`,editType:`ticks`},y={valType:`enumerated`,values:[`outside`,`inside`,``],editType:`ticks`};function b(e){var t={valType:`number`,min:0,editType:`ticks`};return e||(t.dflt=5),t}function x(e){var t={valType:`number`,min:0,editType:`ticks`};return e||(t.dflt=1),t}var S={valType:`color`,dflt:i.defaultLine,editType:`ticks`},C={valType:`color`,dflt:i.lightLine,editType:`ticks`};function w(e){var t={valType:`number`,min:0,editType:`ticks`};return e||(t.dflt=1),t}var T=o({},a,{editType:`ticks`}),E={valType:`boolean`,editType:`ticks`};e.exports={visible:{valType:`boolean`,editType:`plot`},color:{valType:`color`,dflt:i.defaultLine,editType:`ticks`},title:{text:{valType:`string`,editType:`ticks`},font:r({editType:`ticks`}),standoff:{valType:`number`,min:0,editType:`ticks`},editType:`ticks`},type:{valType:`enumerated`,values:[`-`,`linear`,`log`,`date`,`category`,`multicategory`],dflt:`-`,editType:`calc`,_noTemplating:!0},autotypenumbers:{valType:`enumerated`,values:[`convert types`,`strict`],dflt:`convert types`,editType:`calc`},autorange:{valType:`enumerated`,values:[!0,!1,`reversed`],dflt:!0,editType:`axrange`,impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:`enumerated`,values:[`normal`,`tozero`,`nonnegative`],dflt:`normal`,editType:`plot`},range:{valType:`info_array`,items:[{valType:`any`,editType:`axrange`,impliedEdits:{"^autorange":!1},anim:!0},{valType:`any`,editType:`axrange`,impliedEdits:{"^autorange":!1},anim:!0}],editType:`axrange`,impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:`boolean`,dflt:!1,editType:`calc`},scaleanchor:{valType:`enumerated`,values:[u.idRegex.x.toString(),u.idRegex.y.toString()],editType:`plot`},scaleratio:{valType:`number`,min:0,dflt:1,editType:`plot`},constrain:{valType:`enumerated`,values:[`range`,`domain`],editType:`plot`},constraintoward:{valType:`enumerated`,values:[`left`,`center`,`right`,`top`,`middle`,`bottom`],editType:`plot`},matches:{valType:`enumerated`,values:[u.idRegex.x.toString(),u.idRegex.y.toString()],editType:`calc`},rangebreaks:s(`rangebreak`,{enabled:{valType:`boolean`,dflt:!0,editType:`calc`},bounds:{valType:`info_array`,items:[{valType:`any`,editType:`calc`},{valType:`any`,editType:`calc`}],editType:`calc`},pattern:{valType:`enumerated`,values:[f,d,``],editType:`calc`},values:{valType:`info_array`,freeLength:!0,editType:`calc`,items:{valType:`any`,editType:`calc`}},dvalue:{valType:`number`,editType:`calc`,min:0,dflt:l},editType:`calc`}),tickmode:m,nticks:h(),tick0:g,dtick:_,ticklabelstep:{valType:`integer`,min:1,dflt:1,editType:`ticks`},tickvals:v,ticktext:{valType:`data_array`,editType:`ticks`},ticks:y,tickson:{valType:`enumerated`,values:[`labels`,`boundaries`],dflt:`labels`,editType:`ticks`},ticklabelmode:{valType:`enumerated`,values:[`instant`,`period`],dflt:`instant`,editType:`ticks`},ticklabelposition:{valType:`enumerated`,values:[`outside`,`inside`,`outside top`,`inside top`,`outside left`,`inside left`,`outside right`,`inside right`,`outside bottom`,`inside bottom`],dflt:`outside`,editType:`calc`},ticklabeloverflow:{valType:`enumerated`,values:[`allow`,`hide past div`,`hide past domain`],editType:`calc`},mirror:{valType:`enumerated`,values:[!0,`ticks`,!1,`all`,`allticks`],dflt:!1,editType:`ticks+layoutstyle`},ticklen:b(),tickwidth:x(),tickcolor:S,showticklabels:{valType:`boolean`,dflt:!0,editType:`ticks`},labelalias:{valType:`any`,dflt:!1,editType:`ticks`},automargin:{valType:`flaglist`,flags:[`height`,`width`,`left`,`right`,`top`,`bottom`],extras:[!0,!1],dflt:!1,editType:`ticks`},showspikes:{valType:`boolean`,dflt:!1,editType:`modebar`},spikecolor:{valType:`color`,dflt:null,editType:`none`},spikethickness:{valType:`number`,dflt:3,editType:`none`},spikedash:o({},a,{dflt:`dash`,editType:`none`}),spikemode:{valType:`flaglist`,flags:[`toaxis`,`across`,`marker`],dflt:`toaxis`,editType:`none`},spikesnap:{valType:`enumerated`,values:[`data`,`cursor`,`hovered data`],dflt:`hovered data`,editType:`none`},tickfont:r({editType:`ticks`}),tickangle:{valType:`angle`,dflt:`auto`,editType:`ticks`},tickprefix:{valType:`string`,dflt:``,editType:`ticks`},showtickprefix:{valType:`enumerated`,values:[`all`,`first`,`last`,`none`],dflt:`all`,editType:`ticks`},ticksuffix:{valType:`string`,dflt:``,editType:`ticks`},showticksuffix:{valType:`enumerated`,values:[`all`,`first`,`last`,`none`],dflt:`all`,editType:`ticks`},showexponent:{valType:`enumerated`,values:[`all`,`first`,`last`,`none`],dflt:`all`,editType:`ticks`},exponentformat:{valType:`enumerated`,values:[`none`,`e`,`E`,`power`,`SI`,`B`],dflt:`B`,editType:`ticks`},minexponent:{valType:`number`,dflt:3,min:0,editType:`ticks`},separatethousands:{valType:`boolean`,dflt:!1,editType:`ticks`},tickformat:{valType:`string`,dflt:``,editType:`ticks`,description:c(`tick label`)},tickformatstops:s(`tickformatstop`,{enabled:{valType:`boolean`,dflt:!0,editType:`ticks`},dtickrange:{valType:`info_array`,items:[{valType:`any`,editType:`ticks`},{valType:`any`,editType:`ticks`}],editType:`ticks`},value:{valType:`string`,dflt:``,editType:`ticks`},editType:`ticks`}),hoverformat:{valType:`string`,dflt:``,editType:`none`,description:c(`hover text`)},showline:{valType:`boolean`,dflt:!1,editType:`ticks+layoutstyle`},linecolor:{valType:`color`,dflt:i.defaultLine,editType:`layoutstyle`},linewidth:{valType:`number`,min:0,dflt:1,editType:`ticks+layoutstyle`},showgrid:E,gridcolor:C,gridwidth:w(),griddash:T,zeroline:{valType:`boolean`,editType:`ticks`},zerolinecolor:{valType:`color`,dflt:i.defaultLine,editType:`ticks`},zerolinewidth:{valType:`number`,dflt:1,editType:`ticks`},showdividers:{valType:`boolean`,dflt:!0,editType:`ticks`},dividercolor:{valType:`color`,dflt:i.defaultLine,editType:`ticks`},dividerwidth:{valType:`number`,dflt:1,editType:`ticks`},anchor:{valType:`enumerated`,values:[`free`,u.idRegex.x.toString(),u.idRegex.y.toString()],editType:`plot`},side:{valType:`enumerated`,values:[`top`,`bottom`,`left`,`right`],editType:`plot`},overlaying:{valType:`enumerated`,values:[`free`,u.idRegex.x.toString(),u.idRegex.y.toString()],editType:`plot`},minor:{tickmode:p,nticks:h(`minor`),tick0:g,dtick:_,tickvals:v,ticks:y,ticklen:b(`minor`),tickwidth:x(`minor`),tickcolor:S,gridcolor:C,gridwidth:w(`minor`),griddash:T,showgrid:E,editType:`ticks`},layer:{valType:`enumerated`,values:[`above traces`,`below traces`],dflt:`above traces`,editType:`plot`},domain:{valType:`info_array`,items:[{valType:`number`,min:0,max:1,editType:`plot`},{valType:`number`,min:0,max:1,editType:`plot`}],dflt:[0,1],editType:`plot`},position:{valType:`number`,min:0,max:1,dflt:0,editType:`plot`},autoshift:{valType:`boolean`,dflt:!1,editType:`plot`},shift:{valType:`number`,editType:`plot`},categoryorder:{valType:`enumerated`,values:[`trace`,`category ascending`,`category descending`,`array`,`total ascending`,`total descending`,`min ascending`,`min descending`,`max ascending`,`max descending`,`sum ascending`,`sum descending`,`mean ascending`,`mean descending`,`median ascending`,`median descending`],dflt:`trace`,editType:`calc`},categoryarray:{valType:`data_array`,editType:`calc`},uirevision:{valType:`any`,editType:`none`},editType:`calc`,_deprecated:{autotick:{valType:`boolean`,editType:`ticks`},title:{valType:`string`,editType:`ticks`},titlefont:r({editType:`ticks`})}}}),86763:(function(e,t,n){var r=n(71828),i=n(7901),a=n(23469).isUnifiedHover,o=n(98212),s=n(44467),c=n(10820),l=n(13838),u=n(951),d=n(71453),f=n(99082),p=n(52830),m=n(41675),h=m.id2name,g=m.name2id,_=n(85555).AX_ID_PATTERN,v=n(73972),y=v.traceIs,b=v.getComponentMethod;function x(e,t,n){Array.isArray(e[t])?e[t].push(n):e[t]=[n]}e.exports=function(e,t,n){var v=t.autotypenumbers,S={},C={},w={},T={},E={},D={},O={},k={},A={},j={},M,N;for(M=0;M<n.length;M++){var P=n[M];if(!(!y(P,`cartesian`)&&!y(P,`gl2d`))){var F;if(P.xaxis)F=h(P.xaxis),x(S,F,P);else if(P.xaxes)for(N=0;N<P.xaxes.length;N++)x(S,h(P.xaxes[N]),P);var I;if(P.yaxis)I=h(P.yaxis),x(S,I,P);else if(P.yaxes)for(N=0;N<P.yaxes.length;N++)x(S,h(P.yaxes[N]),P);if(P.type===`funnel`?P.orientation===`h`?(F&&(C[F]=!0),I&&(O[I]=!0)):I&&(w[I]=!0):P.type===`image`?(I&&(k[I]=!0),F&&(k[F]=!0)):(I&&(E[I]=!0,D[I]=!0),(!y(P,`carpet`)||P.type===`carpet`&&!P._cheater)&&F&&(T[F]=!0)),P.type===`carpet`&&P._cheater&&F&&(C[F]=!0),y(P,`2dMap`)&&(A[F]=!0,A[I]=!0),y(P,`oriented`)){var L=P.orientation===`h`?I:F;j[L]=!0}}}var R=t._subplots,z=R.xaxis,B=R.yaxis,V=r.simpleMap(z,h),H=r.simpleMap(B,h),U=V.concat(H),W=i.background;z.length&&B.length&&(W=r.coerce(e,t,c,`plot_bgcolor`));var G=i.combine(W,t.paper_bgcolor),K,ee,q,J,Y;function te(){Y._traceIndices=(S[K]||[]).map(function(e){return e._expandedIndex}),Y._annIndices=[],Y._shapeIndices=[],Y._selectionIndices=[],Y._imgIndices=[],Y._subplotsWith=[],Y._counterAxes=[],Y._name=Y._attr=K,Y._id=ee}function ne(e,t){return r.coerce(J,Y,l,e,t)}function re(e,t){return r.coerce2(J,Y,l,e,t)}function ie(e){return e===`x`?B:z}function ae(t,n){for(var r=t===`x`?V:H,i=[],a=0;a<r.length;a++){var o=r[a];o!==n&&!(e[o]||{}).overlaying&&i.push(g(o))}return i}var oe={x:ie(`x`),y:ie(`y`)},se=oe.x.concat(oe.y),ce={},le=[];function ue(){var e=J.matches;_.test(e)&&se.indexOf(e)===-1&&(ce[e]=J.type,le=Object.keys(ce))}var de=o(e,t),fe=a(de);for(M=0;M<U.length;M++){K=U[M],ee=g(K),q=K.charAt(0),r.isPlainObject(e[K])||(e[K]={}),J=e[K],Y=s.newContainer(t,K,q+`axis`),te();var pe=q===`x`&&!T[K]&&C[K]||q===`y`&&!E[K]&&w[K],me=q===`y`&&(!D[K]&&O[K]||k[K]),he={hasMinor:!0,letter:q,font:t.font,outerTicks:A[K],showGrid:!j[K],data:S[K]||[],bgColor:G,calendar:t.calendar,automargin:!0,visibleDflt:pe,reverseDflt:me,autotypenumbersDflt:v,splomStash:((t._splomAxes||{})[q]||{})[ee]};ne(`uirevision`,t.uirevision),u(J,Y,ne,he),d(J,Y,ne,he,t);var ge=fe&&q===de.charAt(0),_e=re(`spikecolor`,fe?Y.color:void 0),ve=re(`spikethickness`,fe?1.5:void 0),ye=re(`spikedash`,fe?`dot`:void 0),be=re(`spikemode`,fe?`across`:void 0),xe=re(`spikesnap`);ne(`showspikes`,!!ge||!!_e||!!ve||!!ye||!!be||!!xe)||(delete Y.spikecolor,delete Y.spikethickness,delete Y.spikedash,delete Y.spikemode,delete Y.spikesnap);var Se=h(J.overlaying),Ce=[0,1];if(t[Se]!==void 0){var we=h(t[Se].anchor);t[we]!==void 0&&(Ce=t[we].domain)}p(J,Y,ne,{letter:q,counterAxes:oe[q],overlayableAxes:ae(q,K),grid:t.grid,overlayingDomain:Ce}),ne(`title.standoff`),ue(),Y._input=J}for(M=0;M<le.length;){ee=le[M++],K=h(ee),q=K.charAt(0),r.isPlainObject(e[K])||(e[K]={}),J=e[K],Y=s.newContainer(t,K,q+`axis`),te();var Te={letter:q,font:t.font,outerTicks:A[K],showGrid:!j[K],data:[],bgColor:G,calendar:t.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:v,splomStash:((t._splomAxes||{})[q]||{})[ee]};ne(`uirevision`,t.uirevision),Y.type=ce[ee]||`linear`,d(J,Y,ne,Te,t),p(J,Y,ne,{letter:q,counterAxes:oe[q],overlayableAxes:ae(q,K),grid:t.grid}),ne(`fixedrange`),ue(),Y._input=J}var Ee=b(`rangeslider`,`handleDefaults`),X=b(`rangeselector`,`handleDefaults`);for(M=0;M<V.length;M++)K=V[M],J=e[K],Y=t[K],Ee(e,t,K),Y.type===`date`&&X(J,Y,t,H,Y.calendar),ne(`fixedrange`);for(M=0;M<H.length;M++){K=H[M],J=e[K],Y=t[K];var Z=t[h(Y.anchor)];ne(`fixedrange`,b(`rangeslider`,`isVisible`)(Z))}f.handleDefaults(e,t,{axIds:se.concat(le).sort(m.idSort),axHasImage:k})}}),92128:(function(e,t,n){var r=n(84267).mix,i=n(22399),a=n(71828);e.exports=function(e,t,n,o){o||={};var s=o.dfltColor;function c(n,r){return a.coerce2(e,t,o.attributes,n,r)}var l=c(`linecolor`,s),u=c(`linewidth`);n(`showline`,o.showLine||!!l||!!u)||(delete t.linecolor,delete t.linewidth);var d=c(`gridcolor`,r(s,o.bgColor,o.blend||i.lightFraction).toRgbString()),f=c(`gridwidth`),p=c(`griddash`);if(n(`showgrid`,o.showGrid||!!d||!!f||!!p)||(delete t.gridcolor,delete t.gridwidth,delete t.griddash),o.hasMinor){var m=c(`minor.gridcolor`,r(t.gridcolor,o.bgColor,67).toRgbString()),h=c(`minor.gridwidth`,t.gridwidth||1),g=c(`minor.griddash`,t.griddash||`solid`);n(`minor.showgrid`,!!m||!!h||!!g)||(delete t.minor.gridcolor,delete t.minor.gridwidth,delete t.minor.griddash)}if(!o.noZeroLine){var _=c(`zerolinecolor`,s),v=c(`zerolinewidth`);n(`zeroline`,o.showGrid||!!_||!!v)||(delete t.zerolinecolor,delete t.zerolinewidth)}}}),52830:(function(e,t,n){var r=n(92770),i=n(71828);e.exports=function(e,t,n,a){var o=a.counterAxes||[],s=a.overlayableAxes||[],c=a.letter,l=a.grid,u=a.overlayingDomain,d,f,p,m,h,g;l&&(f=l._domains[c][l._axisMap[t._id]],d=l._anchors[t._id],f&&(p=l[c+`side`].split(` `)[0],m=l.domain[c][p===`right`||p===`top`?1:0])),f||=[0,1],d||=r(e.position)?`free`:o[0]||`free`,p||=c===`x`?`bottom`:`left`,m||=0,h=0,g=!1;var _=i.coerce(e,t,{anchor:{valType:`enumerated`,values:[`free`].concat(o),dflt:d}},`anchor`),v=i.coerce(e,t,{side:{valType:`enumerated`,values:c===`x`?[`bottom`,`top`]:[`left`,`right`],dflt:p}},`side`);_===`free`&&(c===`y`&&(n(`autoshift`)&&(m=v===`left`?u[0]:u[1],g=t.automargin?t.automargin:!0,h=v===`left`?-3:3),n(`shift`,h)),n(`position`,m)),n(`automargin`,g);var y=!1;if(s.length&&(y=i.coerce(e,t,{overlaying:{valType:`enumerated`,values:[!1].concat(s),dflt:!1}},`overlaying`)),!y){var b=n(`domain`,f);b[0]>b[1]-1/4096&&(t.domain=f),i.noneOrAll(e.domain,t.domain,f),t.tickmode===`sync`&&(t.tickmode=`auto`)}return n(`layer`),t}}),89426:(function(e,t,n){var r=n(59652);e.exports=function(e,t,n,i,a){a||={};var o=a.tickSuffixDflt,s=r(e);n(`tickprefix`)&&n(`showtickprefix`,s),n(`ticksuffix`,o)&&n(`showticksuffix`,s)}}),42449:(function(e,t,n){var r=n(18783).FROM_BL;e.exports=function(e,t,n){n===void 0&&(n=r[e.constraintoward||`center`]);var i=[e.r2l(e.range[0]),e.r2l(e.range[1])],a=i[0]+(i[1]-i[0])*n;e.range=e._input.range=[e.l2r(a+(i[0]-a)*t),e.l2r(a+(i[1]-a)*t)],e.setScale()}}),21994:(function(e,t,n){var r=n(39898),i=n(84096).g0,a=n(71828),o=a.numberFormat,s=n(92770),c=a.cleanNumber,l=a.ms2DateTime,u=a.dateTime2ms,d=a.ensureNumber,f=a.isArrayOrTypedArray,p=n(50606),m=p.FP_SAFE,h=p.BADNUM,g=p.LOG_CLIP,_=p.ONEWEEK,v=p.ONEDAY,y=p.ONEHOUR,b=p.ONEMIN,x=p.ONESEC,S=n(41675),C=n(85555),w=C.HOUR_PATTERN,T=C.WEEKDAY_PATTERN;function E(e){return 10**e}function D(e){return e!=null}e.exports=function(e,t){t||={};var n=e._id||`x`,p=n.charAt(0);function O(t,n){if(t>0)return Math.log(t)/Math.LN10;if(t<=0&&n&&e.range&&e.range.length===2){var r=e.range[0],i=e.range[1];return .5*(r+i-2*g*Math.abs(r-i))}else return h}function k(t,n,r,i){if((i||{}).msUTC&&s(t))return+t;var o=u(t,r||e.calendar);if(o===h)if(s(t)){t=+t;var c=Math.floor(a.mod(t+.05,1)*10),l=Math.round(t-c/10);o=u(new Date(l))+c/10}else return h;return o}function A(t,n,r){return l(t,n,r||e.calendar)}function j(t){return e._categories[Math.round(t)]}function M(t){if(D(t)){if(e._categoriesMap===void 0&&(e._categoriesMap={}),e._categoriesMap[t]!==void 0)return e._categoriesMap[t];e._categories.push(typeof t==`number`?String(t):t);var n=e._categories.length-1;return e._categoriesMap[t]=n,n}return h}function N(e,t){for(var n=Array(t),r=0;r<t;r++){var i=(e[0]||[])[r],a=(e[1]||[])[r];n[r]=P([i,a])}return n}function P(t){if(e._categoriesMap)return e._categoriesMap[t]}function F(e){var t=P(e);if(t!==void 0)return t;if(s(e))return+e}function I(e){return s(e)?+e:P(e)}function L(e,t,n){return r.round(n+t*e,2)}function R(e,t,n){return(e-n)/t}var z=function(t){return s(t)?L(t,e._m,e._b):h},B=function(t){return R(t,e._m,e._b)};if(e.rangebreaks){var V=p===`y`;z=function(t){if(!s(t))return h;var n=e._rangebreaks.length;if(!n)return L(t,e._m,e._b);var r=V;e.range[0]>e.range[1]&&(r=!r);for(var i=r?-1:1,a=i*t,o=0,c=0;c<n;c++){var l=i*e._rangebreaks[c].min,u=i*e._rangebreaks[c].max;if(a<l)break;if(a>u)o=c+1;else{o=a<(l+u)/2?c:c+1;break}}var d=e._B[o]||0;return isFinite(d)?L(t,e._m2,d):0},B=function(t){var n=e._rangebreaks.length;if(!n)return R(t,e._m,e._b);for(var r=0,i=0;i<n&&!(t<e._rangebreaks[i].pmin);i++)t>e._rangebreaks[i].pmax&&(r=i+1);return R(t,e._m2,e._B[r])}}e.c2l=e.type===`log`?O:d,e.l2c=e.type===`log`?E:d,e.l2p=z,e.p2l=B,e.c2p=e.type===`log`?function(e,t){return z(O(e,t))}:z,e.p2c=e.type===`log`?function(e){return E(B(e))}:B,[`linear`,`-`].indexOf(e.type)===-1?e.type===`log`?(e.d2r=e.d2l=function(e,t){return O(c(e),t)},e.r2d=e.r2c=function(e){return E(c(e))},e.d2c=e.r2l=c,e.c2d=e.l2r=d,e.c2r=O,e.l2d=E,e.d2p=function(t,n){return e.l2p(e.d2r(t,n))},e.p2d=function(e){return E(B(e))},e.r2p=function(t){return e.l2p(c(t))},e.p2r=B,e.cleanPos=d):e.type===`date`?(e.d2r=e.r2d=a.identity,e.d2c=e.r2c=e.d2l=e.r2l=k,e.c2d=e.c2r=e.l2d=e.l2r=A,e.d2p=e.r2p=function(t,n,r){return e.l2p(k(t,0,r))},e.p2d=e.p2r=function(e,t,n){return A(B(e),t,n)},e.cleanPos=function(t){return a.cleanDate(t,h,e.calendar)}):e.type===`category`?(e.d2c=e.d2l=M,e.r2d=e.c2d=e.l2d=j,e.d2r=e.d2l_noadd=F,e.r2c=function(t){var n=I(t);return n===void 0?e.fraction2r(.5):n},e.l2r=e.c2r=d,e.r2l=I,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return j(B(e))},e.r2p=e.d2p,e.p2r=B,e.cleanPos=function(e){return typeof e==`string`&&e!==``?e:d(e)}):e.type===`multicategory`&&(e.r2d=e.c2d=e.l2d=j,e.d2r=e.d2l_noadd=F,e.r2c=function(t){var n=F(t);return n===void 0?e.fraction2r(.5):n},e.r2c_just_indices=P,e.l2r=e.c2r=d,e.r2l=F,e.d2p=function(t){return e.l2p(e.r2c(t))},e.p2d=function(e){return j(B(e))},e.r2p=e.d2p,e.p2r=B,e.cleanPos=function(e){return Array.isArray(e)||typeof e==`string`&&e!==``?e:d(e)},e.setupMultiCategory=function(r){var i=e._traceIndices,o,s,c=e._matchGroup;if(c&&e._categories.length===0){for(var l in c)if(l!==n){var u=t[S.id2name(l)];i=i.concat(u._traceIndices)}}var d=[[0,{}],[0,{}]],m=[];for(o=0;o<i.length;o++){var h=r[i[o]];if(p in h){var g=h[p],_=h._length||a.minRowLength(g);if(f(g[0])&&f(g[1]))for(s=0;s<_;s++){var v=g[0][s],y=g[1][s];D(v)&&D(y)&&(m.push([v,y]),v in d[0][1]||(d[0][1][v]=d[0][0]++),y in d[1][1]||(d[1][1][y]=d[1][0]++))}}}for(m.sort(function(e,t){var n=d[0][1],r=n[e[0]]-n[t[0]];if(r)return r;var i=d[1][1];return i[e[1]]-i[t[1]]}),o=0;o<m.length;o++)M(m[o])}):(e.d2r=e.r2d=e.d2c=e.r2c=e.d2l=e.r2l=c,e.c2d=e.c2r=e.l2d=e.l2r=d,e.d2p=e.r2p=function(t){return e.l2p(c(t))},e.p2d=e.p2r=B,e.cleanPos=d),e.fraction2r=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return e.l2r(n+t*(r-n))},e.r2fraction=function(t){var n=e.r2l(e.range[0]),r=e.r2l(e.range[1]);return(e.r2l(t)-n)/(r-n)},e.cleanRange=function(t,n){n||={},t||=`range`;var r=a.nestedProperty(e,t).get(),i,o=e.type===`date`?a.dfltRange(e.calendar):p===`y`?C.DFLTRANGEY:e._name===`realaxis`?[0,1]:n.dfltRange||C.DFLTRANGEX;if(o=o.slice(),(e.rangemode===`tozero`||e.rangemode===`nonnegative`)&&(o[0]=0),!r||r.length!==2){a.nestedProperty(e,t).set(o);return}for(e.type===`date`&&!e.autorange&&(r[0]=a.cleanDate(r[0],h,e.calendar),r[1]=a.cleanDate(r[1],h,e.calendar)),i=0;i<2;i++)if(e.type===`date`){if(!a.isDateTime(r[i],e.calendar)){e[t]=o;break}if(e.r2l(r[0])===e.r2l(r[1])){var c=a.constrain(e.r2l(r[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);r[0]=e.l2r(c-1e3),r[1]=e.l2r(c+1e3);break}}else{if(!s(r[i]))if(s(r[1-i]))r[i]=r[1-i]*(i?10:.1);else{e[t]=o;break}if(r[i]<-m?r[i]=-m:r[i]>m&&(r[i]=m),r[0]===r[1]){var l=Math.max(1,Math.abs(r[0]*1e-6));r[0]-=l,r[1]+=l}}},e.setScale=function(n){var r=t._size;e.overlaying&&(e.domain=S.getFromId({_fullLayout:t},e.overlaying).domain);var i=n&&e._r?`_r`:`range`,a=e.calendar;e.cleanRange(i);var o=e.r2l(e[i][0],a),s=e.r2l(e[i][1],a),c=p===`y`;if(c?(e._offset=r.t+(1-e.domain[1])*r.h,e._length=r.h*(e.domain[1]-e.domain[0]),e._m=e._length/(o-s),e._b=-e._m*s):(e._offset=r.l+e.domain[0]*r.w,e._length=r.w*(e.domain[1]-e.domain[0]),e._m=e._length/(s-o),e._b=-e._m*o),e._rangebreaks=[],e._lBreaks=0,e._m2=0,e._B=[],e.rangebreaks){var l,u;if(e._rangebreaks=e.locateBreaks(Math.min(o,s),Math.max(o,s)),e._rangebreaks.length){for(l=0;l<e._rangebreaks.length;l++)u=e._rangebreaks[l],e._lBreaks+=Math.abs(u.max-u.min);var d=c;o>s&&(d=!d),d&&e._rangebreaks.reverse();var f=d?-1:1;for(e._m2=f*e._length/(Math.abs(s-o)-e._lBreaks),e._B.push(-e._m2*(c?s:o)),l=0;l<e._rangebreaks.length;l++)u=e._rangebreaks[l],e._B.push(e._B[e._B.length-1]-f*e._m2*(u.max-u.min));for(l=0;l<e._rangebreaks.length;l++)u=e._rangebreaks[l],u.pmin=z(u.min),u.pmax=z(u.max)}}if(!isFinite(e._m)||!isFinite(e._b)||e._length<0)throw t._replotting=!1,Error(`Something went wrong with axis scaling`)},e.maskBreaks=function(t){var n=e.rangebreaks||[],r,i,o,s,l;n._cachedPatterns||=n.map(function(t){return t.enabled&&t.bounds?a.simpleMap(t.bounds,t.pattern?c:e.d2c):null}),n._cachedValues||=n.map(function(t){return t.enabled&&t.values?a.simpleMap(t.values,e.d2c).sort(a.sorterAsc):null});for(var u=0;u<n.length;u++){var d=n[u];if(d.enabled){if(d.bounds){var f=d.pattern;switch(r=n._cachedPatterns[u],i=r[0],o=r[1],f){case T:l=new Date(t),s=l.getUTCDay(),i>o&&(o+=7,s<i&&(s+=7));break;case w:l=new Date(t);var p=l.getUTCHours(),m=l.getUTCMinutes(),g=l.getUTCSeconds(),_=l.getUTCMilliseconds();s=p+(m/60+g/3600+_/36e5),i>o&&(o+=24,s<i&&(s+=24));break;case``:s=t;break}if(s>=i&&s<o)return h}else for(var v=n._cachedValues[u],y=0;y<v.length;y++)if(i=v[y],o=i+d.dvalue,t>=i&&t<o)return h}}return t},e.locateBreaks=function(t,n){var r,i,o,s,l=[];if(!e.rangebreaks)return l;var u=e.rangebreaks.slice().sort(function(e,t){return e.pattern===T&&t.pattern===w?-1:t.pattern===T&&e.pattern===w?1:0}),d=function(e,r){if(e=a.constrain(e,t,n),r=a.constrain(r,t,n),e!==r){for(var i=!0,o=0;o<l.length;o++){var s=l[o];e<s.max&&r>=s.min&&(e<s.min&&(s.min=e),r>s.max&&(s.max=r),i=!1)}i&&l.push({min:e,max:r})}};for(r=0;r<u.length;r++){var f=u[r];if(f.enabled)if(f.bounds){var p=t,m=n;f.pattern&&(p=Math.floor(p)),i=a.simpleMap(f.bounds,f.pattern?c:e.r2l),o=i[0],s=i[1];var h=new Date(p),g,S;switch(f.pattern){case T:S=_,g=((s<o?7:0)+(s-o))*v,p+=o*v-(h.getUTCDay()*v+h.getUTCHours()*y+h.getUTCMinutes()*b+h.getUTCSeconds()*x+h.getUTCMilliseconds());break;case w:S=v,g=((s<o?24:0)+(s-o))*y,p+=o*y-(h.getUTCHours()*y+h.getUTCMinutes()*b+h.getUTCSeconds()*x+h.getUTCMilliseconds());break;default:p=Math.min(i[0],i[1]),m=Math.max(i[0],i[1]),S=m-p,g=S}for(var C=p;C<m;C+=S)d(C,C+g)}else for(var E=a.simpleMap(f.values,e.d2c),D=0;D<E.length;D++)o=E[D],s=o+f.dvalue,d(o,s)}return l.sort(function(e,t){return e.min-t.min}),l},e.makeCalcdata=function(t,n,r){var i,o,s,c,l=e.type,u=l===`date`&&t[n+`calendar`];if(n in t){if(i=t[n],c=t._length||a.minRowLength(i),a.isTypedArray(i)&&(l===`linear`||l===`log`)){if(c===i.length)return i;if(i.subarray)return i.subarray(0,c)}if(l===`multicategory`)return N(i,c);for(o=Array(c),s=0;s<c;s++)o[s]=e.d2c(i[s],0,u,r)}else{var d=n+`0`in t?e.d2c(t[n+`0`],0,u):0,f=t[`d`+n]?Number(t[`d`+n]):1;for(i=t[{x:`y`,y:`x`}[n]],c=t._length||i.length,o=Array(c),s=0;s<c;s++)o[s]=d+s*f}if(e.rangebreaks)for(s=0;s<c;s++)o[s]=e.maskBreaks(o[s]);return o},e.isValidRange=function(t){return Array.isArray(t)&&t.length===2&&s(e.r2l(t[0]))&&s(e.r2l(t[1]))},e.isPtWithinRange=function(t,n){var r=e.c2l(t[p],null,n),i=e.r2l(e.range[0]),a=e.r2l(e.range[1]);return i<a?i<=r&&r<=a:a<=r&&r<=i},e._emptyCategories=function(){e._categories=[],e._categoriesMap={}},e.clearCalc=function(){var n=e._matchGroup;if(n){var r=null,i=null;for(var a in n){var o=t[S.id2name(a)];if(o._categories){r=o._categories,i=o._categoriesMap;break}}r&&i?(e._categories=r,e._categoriesMap=i):e._emptyCategories()}else e._emptyCategories();if(e._initialCategories)for(var s=0;s<e._initialCategories.length;s++)M(e._initialCategories[s])},e.sortByInitialCategories=function(){var r=[];if(e._emptyCategories(),e._initialCategories)for(var i=0;i<e._initialCategories.length;i++)M(e._initialCategories[i]);for(var a in r=r.concat(e._traceIndices),e._matchGroup)if(n!==a){var o=t[S.id2name(a)];o._categories=e._categories,o._categoriesMap=e._categoriesMap,r=r.concat(o._traceIndices)}return r};var H=t._d3locale;e.type===`date`&&(e._dateFormat=H?H.timeFormat:i,e._extraFormat=t._extraFormat),e._separators=t.separators,e._numFormat=H?H.numberFormat:o,delete e._minDtick,delete e._forceTick0}}),59652:(function(e){e.exports=function(e){var t=[`showexponent`,`showtickprefix`,`showticksuffix`].filter(function(t){return e[t]!==void 0});if(t.every(function(n){return e[n]===e[t[0]]})||t.length===1)return e[t[0]]}}),96115:(function(e,t,n){var r=n(71828),i=n(7901).contrast,a=n(13838),o=n(59652),s=n(85501);e.exports=function(e,t,n,l,u){u||={};var d=n(`labelalias`);r.isPlainObject(d)||delete t.labelalias;var f=o(e);if(n(`showticklabels`)){var p=u.font||{},m=t.color,h=(t.ticklabelposition||``).indexOf(`inside`)===-1?m&&m!==a.color.dflt?m:p.color:i(u.bgColor);if(r.coerceFont(n,`tickfont`,{family:p.family,size:p.size,color:h}),!u.noTicklabelstep&&l!==`multicategory`&&l!==`log`&&n(`ticklabelstep`),u.noAng||n(`tickangle`),l!==`category`){var g=n(`tickformat`);s(e,t,{name:`tickformatstops`,inclusionAttr:`enabled`,handleItemDefaults:c}),t.tickformatstops.length||delete t.tickformatstops,!u.noExp&&!g&&l!==`date`&&(n(`showexponent`,f),n(`exponentformat`),n(`minexponent`),n(`separatethousands`))}}};function c(e,t){function n(n,i){return r.coerce(e,t,a.tickformatstops,n,i)}n(`enabled`)&&(n(`dtickrange`),n(`value`))}}),38701:(function(e,t,n){var r=n(71828),i=n(13838);e.exports=function(e,t,n,a){var o=a.isMinor,s=o?e.minor||{}:e,c=o?t.minor:t,l=o?i.minor:i,u=o?`minor.`:``,d=r.coerce2(s,c,l,`ticklen`,o?(t.ticklen||5)*.6:void 0),f=r.coerce2(s,c,l,`tickwidth`,o?t.tickwidth||1:void 0),p=r.coerce2(s,c,l,`tickcolor`,(o?t.tickcolor:void 0)||c.color);n(u+`ticks`,!o&&a.outerTicks||d||f||p?`outside`:``)||(delete c.ticklen,delete c.tickwidth,delete c.tickcolor)}}),26218:(function(e,t,n){var r=n(66287),i=n(71828).isArrayOrTypedArray;e.exports=function(e,t,n,a,o){o||={};var s=o.isMinor,c=s?e.minor||{}:e,l=s?t.minor:t,u=s?`minor.`:``;function d(e){var t=c[e];return t===void 0?(l._template||{})[e]:t}var f=d(`tick0`),p=d(`dtick`),m=i(d(`tickvals`))?`array`:p?`linear`:`auto`,h=n(u+`tickmode`,m);if(h===`auto`||h===`sync`)n(u+`nticks`);else if(h===`linear`){var g=l.dtick=r.dtick(p,a);l.tick0=r.tick0(f,a,t.calendar,g)}else a!==`multicategory`&&(n(u+`tickvals`)===void 0?l.tickmode=`auto`:s||n(`ticktext`))}}),66847:(function(e,t,n){var r=n(39898),i=n(73972),a=n(71828),o=n(91424),s=n(89298);e.exports=function(e,t,n,c){var l=e._fullLayout;if(t.length===0){s.redrawComponents(e);return}function u(e){var t=e.xaxis,n=e.yaxis;l._defs.select(`#`+e.clipId+`> rect`).call(o.setTranslate,0,0).call(o.setScale,1,1),e.plot.call(o.setTranslate,t._offset,n._offset).call(o.setScale,1,1);var r=e.plot.selectAll(`.scatterlayer .trace`);r.selectAll(`.point`).call(o.setPointGroupScale,1,1),r.selectAll(`.textpoint`).call(o.setTextPointsScale,1,1),r.call(o.hideOutsideRangePoints,e)}function d(t,n){var r=t.plotinfo,i=r.xaxis,c=r.yaxis,l=i._length,u=c._length,d=!!t.xr1,f=!!t.yr1,p=[];if(d){var m=a.simpleMap(t.xr0,i.r2l),h=a.simpleMap(t.xr1,i.r2l),g=m[1]-m[0],_=h[1]-h[0];p[0]=(m[0]*(1-n)+n*h[0]-m[0])/(m[1]-m[0])*l,p[2]=l*(1-n+n*_/g),i.range[0]=i.l2r(m[0]*(1-n)+n*h[0]),i.range[1]=i.l2r(m[1]*(1-n)+n*h[1])}else p[0]=0,p[2]=l;if(f){var v=a.simpleMap(t.yr0,c.r2l),y=a.simpleMap(t.yr1,c.r2l),b=v[1]-v[0],x=y[1]-y[0];p[1]=(v[1]*(1-n)+n*y[1]-v[1])/(v[0]-v[1])*u,p[3]=u*(1-n+n*x/b),c.range[0]=i.l2r(v[0]*(1-n)+n*y[0]),c.range[1]=c.l2r(v[1]*(1-n)+n*y[1])}else p[1]=0,p[3]=u;s.drawOne(e,i,{skipTitle:!0}),s.drawOne(e,c,{skipTitle:!0}),s.redrawComponents(e,[i._id,c._id]);var S=d?l/p[2]:1,C=f?u/p[3]:1,w=d?p[0]:0,T=f?p[1]:0,E=d?p[0]/p[2]*l:0,D=f?p[1]/p[3]*u:0,O=i._offset-E,k=c._offset-D;r.clipRect.call(o.setTranslate,w,T).call(o.setScale,1/S,1/C),r.plot.call(o.setTranslate,O,k).call(o.setScale,S,C),o.setPointGroupScale(r.zoomScalePts,1/S,1/C),o.setTextPointsScale(r.zoomScaleTxt,1/S,1/C)}var f;c&&(f=c());function p(){for(var n={},r=0;r<t.length;r++){var a=t[r],o=a.plotinfo.xaxis,s=a.plotinfo.yaxis;a.xr1&&(n[o._name+`.range`]=a.xr1.slice()),a.yr1&&(n[s._name+`.range`]=a.yr1.slice())}return f&&f(),i.call(`relayout`,e,n).then(function(){for(var e=0;e<t.length;e++)u(t[e].plotinfo)})}function m(){for(var n={},r=0;r<t.length;r++){var a=t[r],o=a.plotinfo.xaxis,s=a.plotinfo.yaxis;a.xr0&&(n[o._name+`.range`]=a.xr0.slice()),a.yr0&&(n[s._name+`.range`]=a.yr0.slice())}return i.call(`relayout`,e,n).then(function(){for(var e=0;e<t.length;e++)u(t[e].plotinfo)})}var h,g,_,v=r.ease(n.easing);e._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(_),_=null,m()});function y(){g=Date.now();for(var e=v(Math.min(1,(g-h)/n.duration)),r=0;r<t.length;r++)d(t[r],e);g-h>n.duration?(p(),_=window.cancelAnimationFrame(y)):_=window.requestAnimationFrame(y)}return h=Date.now(),_=window.requestAnimationFrame(y),Promise.resolve()}}),951:(function(e,t,n){var r=n(73972).traceIs,i=n(4322);e.exports=function(e,t,n,r){n(`autotypenumbers`,r.autotypenumbersDflt),n(`type`,(r.splomStash||{}).type)===`-`&&(a(t,r.data),t.type===`-`?t.type=`linear`:e.type=t.type)};function a(e,t){if(e.type===`-`){var n=e._id,a=n.charAt(0),l;n.indexOf(`scene`)!==-1&&(n=a);var u=o(t,n,a);if(u){if(u.type===`histogram`&&a==={v:`y`,h:`x`}[u.orientation||`v`]){e.type=`linear`;return}var d=a+`calendar`,f=u[d],p={noMultiCategory:!r(u,`cartesian`)||r(u,`noMultiCategory`)};if(u.type===`box`&&u._hasPreCompStats&&a==={h:`x`,v:`y`}[u.orientation||`v`]&&(p.noMultiCategory=!0),p.autotypenumbers=e.autotypenumbers,c(u,a)){var m=s(u),h=[];for(l=0;l<t.length;l++){var g=t[l];!r(g,`box-violin`)||(g[a+`axis`]||a)!==n||(g[m]===void 0?g.name===void 0?h.push(`text`):h.push(g.name):h.push(g[m][0]),g[d]!==f&&(f=void 0))}e.type=i(h,f,p)}else if(u.type===`splom`){var _=u.dimensions[u._axesDim[n]];_.visible&&(e.type=i(_.values,f,p))}else e.type=i(u[a]||[u[a+`0`]],f,p)}}}function o(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(i.type===`splom`&&i._length>0&&(i[`_`+n+`axes`]||{})[t]||(i[n+`axis`]||n)===t&&(c(i,n)||(i[n]||[]).length||i[n+`0`]))return i}}function s(e){return{v:`x`,h:`y`}[e.orientation||`v`]}function c(e,t){var n=s(e),i=r(e,`box-violin`),a=r(e._fullInput||{},`candlestick`);return i&&!a&&t===n&&e[n]===void 0&&e[n+`0`]===void 0}}),31137:(function(e,t,n){var r=n(73972),i=n(71828);t.manageCommandObserver=function(e,n,r,o){var s={},c=!0;n&&n._commandObserver&&(s=n._commandObserver),s.cache||={},s.lookupTable={};var l=t.hasSimpleAPICommandBindings(e,r,s.lookupTable);if(n&&n._commandObserver){if(l)return s;if(n._commandObserver.remove)return n._commandObserver.remove(),n._commandObserver=null,s}if(l){a(e,l,s.cache),s.check=function(){if(c){var t=a(e,l,s.cache);return t.changed&&o&&s.lookupTable[t.value]!==void 0&&(s.disable(),Promise.resolve(o({value:t.value,type:l.type,prop:l.prop,traces:l.traces,index:s.lookupTable[t.value]})).then(s.enable,s.enable)),t.changed}};for(var u=[`plotly_relayout`,`plotly_redraw`,`plotly_restyle`,`plotly_update`,`plotly_animatingframe`,`plotly_afterplot`],d=0;d<u.length;d++)e._internalOn(u[d],s.check);s.remove=function(){for(var t=0;t<u.length;t++)e._removeInternalListener(u[t],s.check)}}else i.log(`Unable to automatically bind plot updates to API command`),s.lookupTable={},s.remove=function(){};return s.disable=function(){c=!1},s.enable=function(){c=!0},n&&(n._commandObserver=s),s},t.hasSimpleAPICommandBindings=function(e,n,r){var i,a=n.length,o;for(i=0;i<a;i++){var s,c=n[i],l=c.method,u=c.args;if(Array.isArray(u)||(u=[]),!l)return!1;var d=t.computeAPICommandBindings(e,l,u);if(d.length!==1)return!1;if(!o)o=d[0],Array.isArray(o.traces)&&o.traces.sort();else{if(s=d[0],s.type!==o.type||s.prop!==o.prop)return!1;if(Array.isArray(o.traces))if(Array.isArray(s.traces)){s.traces.sort();for(var f=0;f<o.traces.length;f++)if(o.traces[f]!==s.traces[f])return!1}else return!1;else if(s.prop!==o.prop)return!1}s=d[0];var p=s.value;if(Array.isArray(p))if(p.length===1)p=p[0];else return!1;r&&(r[p]=i)}return o};function a(e,t,n){var r,a,o,s=!1;if(t.type===`data`)r=e._fullData[t.traces===null?0:t.traces[0]];else if(t.type===`layout`)r=e._fullLayout;else return!1;return a=i.nestedProperty(r,t.prop).get(),o=n[t.type]=n[t.type]||{},o.hasOwnProperty(t.prop)&&o[t.prop]!==a&&(s=!0),o[t.prop]=a,{changed:s,value:a}}t.executeAPICommand=function(e,t,n){if(t===`skip`)return Promise.resolve();var a=r.apiMethodRegistry[t],o=[e];Array.isArray(n)||(n=[]);for(var s=0;s<n.length;s++)o.push(n[s]);return a.apply(null,o).catch(function(e){return i.warn(`API call to Plotly.`+t+` rejected.`,e),Promise.reject(e)})},t.computeAPICommandBindings=function(e,t,n){var r;switch(Array.isArray(n)||(n=[]),t){case`restyle`:r=c(e,n);break;case`relayout`:r=s(e,n);break;case`update`:r=c(e,[n[0],n[2]]).concat(s(e,[n[1]]));break;case`animate`:r=o(e,n);break;default:r=[]}return r};function o(e,t){return Array.isArray(t[0])&&t[0].length===1&&[`string`,`number`].indexOf(typeof t[0][0])!==-1?[{type:`layout`,prop:`_currentFrame`,value:t[0][0].toString()}]:[]}function s(e,t){var n=[],r=t[0],a={};if(typeof r==`string`)a[r]=t[1];else if(i.isPlainObject(r))a=r;else return n;return l(a,function(e,t,r){n.push({type:`layout`,prop:e,value:r})},``,0),n}function c(e,t){var n,r,a,o,s=[];if(r=t[0],a=t[1],n=t[2],o={},typeof r==`string`)o[r]=a;else if(i.isPlainObject(r))o=r,n===void 0&&(n=a);else return s;return n===void 0&&(n=null),l(o,function(t,r,i){var a,o;if(Array.isArray(i)){o=i.slice();var c=Math.min(o.length,e.data.length);n&&(c=Math.min(c,n.length)),a=[];for(var l=0;l<c;l++)a[l]=n?n[l]:l}else o=i,a=n?n.slice():null;if(a===null)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(a)){if(!Array.isArray(o)){var u=o;o=[];for(var d=0;d<a.length;d++)o[d]=u}o.length=Math.min(a.length,o.length)}s.push({type:`data`,prop:t,traces:a,value:o})},``,0),s}function l(e,t,n,r){Object.keys(e).forEach(function(a){var o=e[a];if(a[0]!==`_`){var s=n+(r>0?`.`:``)+a;i.isPlainObject(o)?l(o,t,s,r+1):t(s,a,o)}})}}),27670:(function(e,t,n){var r=n(1426).extendFlat;t.Y=function(e,t){e||={},t||={};var n={valType:`info_array`,editType:e.editType,items:[{valType:`number`,min:0,max:1,editType:e.editType},{valType:`number`,min:0,max:1,editType:e.editType}],dflt:[0,1]};e.name&&e.name+``,e.trace,t.description&&``+t.description;var i={x:r({},n,{}),y:r({},n,{}),editType:e.editType};return e.noGridCell||(i.row={valType:`integer`,min:0,dflt:0,editType:e.editType},i.column={valType:`integer`,min:0,dflt:0,editType:e.editType}),i},t.c=function(e,t,n,r){var i=r&&r.x||[0,1],a=r&&r.y||[0,1],o=t.grid;if(o){var s=n(`domain.column`);s!==void 0&&(s<o.columns?i=o._domains.x[s]:delete e.domain.column);var c=n(`domain.row`);c!==void 0&&(c<o.rows?a=o._domains.y[c]:delete e.domain.row)}var l=n(`domain.x`,i),u=n(`domain.y`,a);l[0]<l[1]||(e.domain.x=i.slice()),u[0]<u[1]||(e.domain.y=a.slice())}}),41940:(function(e){e.exports=function(e){var t=e.editType,n=e.colorEditType;n===void 0&&(n=t);var r={family:{valType:`string`,noBlank:!0,strict:!0,editType:t},size:{valType:`number`,min:1,editType:t},color:{valType:`color`,editType:n},editType:t};return e.autoSize&&(r.size.dflt=`auto`),e.autoColor&&(r.color.dflt=`auto`),e.arrayOk&&(r.family.arrayOk=!0,r.size.arrayOk=!0,r.color.arrayOk=!0),r}}),31391:(function(e){e.exports={_isLinkedToArray:`frames_entry`,group:{valType:`string`},name:{valType:`string`},traces:{valType:`any`},baseframe:{valType:`string`},data:{valType:`any`},layout:{valType:`any`}}}),78776:(function(e,t){t.projNames={airy:`airy`,aitoff:`aitoff`,"albers usa":`albersUsa`,albers:`albers`,august:`august`,"azimuthal equal area":`azimuthalEqualArea`,"azimuthal equidistant":`azimuthalEquidistant`,baker:`baker`,bertin1953:`bertin1953`,boggs:`boggs`,bonne:`bonne`,bottomley:`bottomley`,bromley:`bromley`,collignon:`collignon`,"conic conformal":`conicConformal`,"conic equal area":`conicEqualArea`,"conic equidistant":`conicEquidistant`,craig:`craig`,craster:`craster`,"cylindrical equal area":`cylindricalEqualArea`,"cylindrical stereographic":`cylindricalStereographic`,eckert1:`eckert1`,eckert2:`eckert2`,eckert3:`eckert3`,eckert4:`eckert4`,eckert5:`eckert5`,eckert6:`eckert6`,eisenlohr:`eisenlohr`,equirectangular:`equirectangular`,fahey:`fahey`,"foucaut sinusoidal":`foucautSinusoidal`,foucaut:`foucaut`,ginzburg4:`ginzburg4`,ginzburg5:`ginzburg5`,ginzburg6:`ginzburg6`,ginzburg8:`ginzburg8`,ginzburg9:`ginzburg9`,gnomonic:`gnomonic`,"gringorten quincuncial":`gringortenQuincuncial`,gringorten:`gringorten`,guyou:`guyou`,hammer:`hammer`,hill:`hill`,homolosine:`homolosine`,hufnagel:`hufnagel`,hyperelliptical:`hyperelliptical`,kavrayskiy7:`kavrayskiy7`,lagrange:`lagrange`,larrivee:`larrivee`,laskowski:`laskowski`,loximuthal:`loximuthal`,mercator:`mercator`,miller:`miller`,mollweide:`mollweide`,"mt flat polar parabolic":`mtFlatPolarParabolic`,"mt flat polar quartic":`mtFlatPolarQuartic`,"mt flat polar sinusoidal":`mtFlatPolarSinusoidal`,"natural earth":`naturalEarth`,"natural earth1":`naturalEarth1`,"natural earth2":`naturalEarth2`,"nell hammer":`nellHammer`,nicolosi:`nicolosi`,orthographic:`orthographic`,patterson:`patterson`,"peirce quincuncial":`peirceQuincuncial`,polyconic:`polyconic`,"rectangular polyconic":`rectangularPolyconic`,robinson:`robinson`,satellite:`satellite`,"sinu mollweide":`sinuMollweide`,sinusoidal:`sinusoidal`,stereographic:`stereographic`,times:`times`,"transverse mercator":`transverseMercator`,"van der grinten":`vanDerGrinten`,"van der grinten2":`vanDerGrinten2`,"van der grinten3":`vanDerGrinten3`,"van der grinten4":`vanDerGrinten4`,wagner4:`wagner4`,wagner6:`wagner6`,wiechel:`wiechel`,"winkel tripel":`winkel3`,winkel3:`winkel3`},t.axesNames=[`lonaxis`,`lataxis`],t.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},t.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},t.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:`equirectangular`,projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:`albers usa`},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:`conic conformal`,projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:`mercator`,projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:`mercator`,projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:`conic conformal`,projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:`mercator`,projRotate:[0,0,0]}},t.clipPad=.001,t.precision=.1,t.landColor=`#F0DC82`,t.waterColor=`#3399FF`,t.locationmodeToLayer={"ISO-3":`countries`,"USA-states":`subunits`,"country names":`countries`},t.sphereSVG={type:`Sphere`},t.fillLayers={ocean:1,land:1,lakes:1},t.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},t.layers=[`bg`,`ocean`,`land`,`lakes`,`subunits`,`countries`,`coastlines`,`rivers`,`lataxis`,`lonaxis`,`frame`,`backplot`,`frontplot`],t.layersForChoropleth=[`bg`,`ocean`,`land`,`subunits`,`countries`,`coastlines`,`lataxis`,`lonaxis`,`frame`,`backplot`,`rivers`,`lakes`,`frontplot`],t.layerNameToAdjective={ocean:`ocean`,land:`land`,lakes:`lake`,subunits:`subunit`,countries:`country`,coastlines:`coastline`,rivers:`river`,frame:`frame`}}),69082:(function(e,t,n){var r=n(39898),i=n(27362),a=i.geoPath,o=i.geoDistance,s=n(65704),c=n(73972),l=n(71828),u=l.strTranslate,d=n(7901),f=n(91424),p=n(30211),m=n(74875),h=n(89298),g=n(71739).getAutoRange,_=n(28569),v=n(47322).prepSelect,y=n(47322).clearOutline,b=n(47322).selectOnClick,x=n(74455),S=n(78776),C=n(41327),w=n(90973),T=n(96892).zL;function E(e){this.id=e.id,this.graphDiv=e.graphDiv,this.container=e.container,this.topojsonURL=e.topojsonURL,this.isStatic=e.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var D=E.prototype;e.exports=function(e){return new E(e)},D.plot=function(e,t,n,r){var i=this;if(r)return i.update(e,t,!0);i._geoCalcData=e,i._fullLayout=t;var a=t[this.id],o=[],s=!1;for(var c in S.layerNameToAdjective)if(c!==`frame`&&a[`show`+c]){s=!0;break}for(var l=!1,u=0;u<e.length;u++){var d=e[0][0].trace;d._geo=i,d.locationmode&&(s=!0);var f=d.marker;if(f){var p=f.angle,m=f.angleref;(p||m===`north`||m===`previous`)&&(l=!0)}}if(this._hasMarkerAngles=l,s){var h=w.getTopojsonName(a);(i.topojson===null||h!==i.topojsonName)&&(i.topojsonName=h,PlotlyGeoAssets.topojson[i.topojsonName]===void 0&&o.push(i.fetchTopojson()))}o=o.concat(C.fetchTraceGeoData(e)),n.push(new Promise(function(n,r){Promise.all(o).then(function(){i.topojson=PlotlyGeoAssets.topojson[i.topojsonName],i.update(e,t),n()}).catch(r)}))},D.fetchTopojson=function(){var e=this,t=w.getTopojsonPath(e.topojsonURL,e.topojsonName);return new Promise(function(n,i){r.json(t,function(r,a){if(r)return r.status===404?i(Error([`plotly.js could not find topojson file at`,t+`.`,`Make sure the *topojsonURL* plot config option`,`is set properly.`].join(` `))):i(Error([`unexpected error while fetching topojson file at`,t].join(` `)));PlotlyGeoAssets.topojson[e.topojsonName]=a,n()})})},D.update=function(e,t,n){var r=t[this.id];this.hasChoropleth=!1;for(var i=0;i<e.length;i++){var a=e[i],o=a[0].trace;o.type===`choropleth`&&(this.hasChoropleth=!0),o.visible===!0&&o._length>0&&o._module.calcGeoJSON(a,t)}if(!n){if(this.updateProjection(e,t))return;(!this.viewInitial||this.scope!==r.scope)&&this.saveViewInitial(r)}this.scope=r.scope,this.updateBaseLayers(t,r),this.updateDims(t,r),this.updateFx(t,r),m.generalUpdatePerTraceModule(this.graphDiv,this,e,r);var s=this.layers.frontplot.select(`.scatterlayer`);this.dataPoints.point=s.selectAll(`.point`),this.dataPoints.text=s.selectAll(`text`),this.dataPaths.line=s.selectAll(`.js-line`);var c=this.layers.backplot.select(`.choroplethlayer`);this.dataPaths.choropleth=c.selectAll(`path`),this._render()},D.updateProjection=function(e,t){var n=this.graphDiv,r=t[this.id],i=t._size,a=r.domain,o=r.projection,s=r.lonaxis,c=r.lataxis,u=s._ax,d=c._ax,f=this.projection=O(r),p=[[i.l+i.w*a.x[0],i.t+i.h*(1-a.y[1])],[i.l+i.w*a.x[1],i.t+i.h*(1-a.y[0])]],m=r.center||{},h=o.rotation||{},_=s.range||[],v=c.range||[];if(r.fitbounds){u._length=p[1][0]-p[0][0],d._length=p[1][1]-p[0][1],u.range=g(n,u),d.range=g(n,d);var y=(u.range[0]+u.range[1])/2,b=(d.range[0]+d.range[1])/2;if(r._isScoped)m={lon:y,lat:b};else if(r._isClipped){m={lon:y,lat:b},h={lon:y,lat:b,roll:h.roll};var x=o.type,C=S.lonaxisSpan[x]/2||180,w=S.lataxisSpan[x]/2||90;_=[y-C,y+C],v=[b-w,b+w]}else m={lon:y,lat:b},h={lon:y,lat:h.lat,roll:h.roll}}f.center([m.lon-h.lon,m.lat-h.lat]).rotate([-h.lon,-h.lat,h.roll]).parallels(o.parallels);var T=A(_,v);f.fitExtent(p,T);var E=this.bounds=f.getBounds(T),D=this.fitScale=f.scale(),k=f.translate();if(r.fitbounds){var j=f.getBounds(A(u.range,d.range)),M=Math.min((E[1][0]-E[0][0])/(j[1][0]-j[0][0]),(E[1][1]-E[0][1])/(j[1][1]-j[0][1]));isFinite(M)?f.scale(M*D):l.warn(`Something went wrong during`+this.id+`fitbounds computations.`)}else f.scale(o.scale*D);var N=this.midPt=[(E[0][0]+E[1][0])/2,(E[0][1]+E[1][1])/2];if(f.translate([k[0]+(N[0]-k[0]),k[1]+(N[1]-k[1])]).clipExtent(E),r._isAlbersUsa){var P=f([m.lon,m.lat]),F=f.translate();f.translate([F[0]-(P[0]-F[0]),F[1]-(P[1]-F[1])])}},D.updateBaseLayers=function(e,t){var n=this,i=n.topojson,a=n.layers,o=n.basePaths;function s(e){return e===`lonaxis`||e===`lataxis`}function c(e){return!!S.lineLayers[e]}function l(e){return!!S.fillLayers[e]}var u=(this.hasChoropleth?S.layersForChoropleth:S.layers).filter(function(e){return c(e)||l(e)?t[`show`+e]:s(e)?t[e].showgrid:!0}),p=n.framework.selectAll(`.layer`).data(u,String);p.exit().each(function(e){delete a[e],delete o[e],r.select(this).remove()}),p.enter().append(`g`).attr(`class`,function(e){return`layer `+e}).each(function(e){var t=a[e]=r.select(this);e===`bg`?n.bgRect=t.append(`rect`).style(`pointer-events`,`all`):s(e)?o[e]=t.append(`path`).style(`fill`,`none`):e===`backplot`?t.append(`g`).classed(`choroplethlayer`,!0):e===`frontplot`?t.append(`g`).classed(`scatterlayer`,!0):c(e)?o[e]=t.append(`path`).style(`fill`,`none`).style(`stroke-miterlimit`,2):l(e)&&(o[e]=t.append(`path`).style(`stroke`,`none`))}),p.order(),p.each(function(n){var r=o[n],a=S.layerNameToAdjective[n];n===`frame`?r.datum(S.sphereSVG):c(n)||l(n)?r.datum(T(i,i.objects[n])):s(n)&&r.datum(k(n,t,e)).call(d.stroke,t[n].gridcolor).call(f.dashLine,t[n].griddash,t[n].gridwidth),c(n)?r.call(d.stroke,t[a+`color`]).call(f.dashLine,``,t[a+`width`]):l(n)&&r.call(d.fill,t[a+`color`])})},D.updateDims=function(e,t){var n=this.bounds,r=(t.framewidth||0)/2,i=n[0][0]-r,a=n[0][1]-r,o=n[1][0]-i+r,s=n[1][1]-a+r;f.setRect(this.clipRect,i,a,o,s),this.bgRect.call(f.setRect,i,a,o,s).call(d.fill,t.bgcolor),this.xaxis._offset=i,this.xaxis._length=o,this.yaxis._offset=a,this.yaxis._length=s},D.updateFx=function(e,t){var n=this,i=n.graphDiv,a=n.bgRect,o=e.dragmode,s=e.clickmode;if(n.isStatic)return;function u(){var e=n.viewInitial,t={};for(var r in e)t[n.id+`.`+r]=e[r];c.call(`_guiRelayout`,i,t),i.emit(`plotly_doubleclick`,null)}function d(e){return n.projection.invert([e[0]+n.xaxis._offset,e[1]+n.yaxis._offset])}var f={element:n.bgRect.node(),gd:i,plotinfo:{id:n.id,xaxis:n.xaxis,yaxis:n.yaxis,fillRangeItems:function(e,t){if(t.isRect){var r=e.range={};r[n.id]=[d([t.xmin,t.ymin]),d([t.xmax,t.ymax])]}else{var i=e.lassoPoints={};i[n.id]=t.map(d)}}},xaxes:[n.xaxis],yaxes:[n.yaxis],subplot:n.id,clickFn:function(e){e===2&&y(i)}};o===`pan`?(a.node().onmousedown=null,a.call(x(n,t)),a.on(`dblclick.zoom`,u),i._context._scrollZoom.geo||a.on(`wheel.zoom`,null)):(o===`select`||o===`lasso`)&&(a.on(`.zoom`,null),f.prepFn=function(e,t,n){v(e,t,n,f,o)},_.init(f)),a.on(`mousemove`,function(){var e=n.projection.invert(l.getPositionFromD3Event());if(!e)return _.unhover(i,r.event);n.xaxis.p2c=function(){return e[0]},n.yaxis.p2c=function(){return e[1]},p.hover(i,r.event,n.id)}),a.on(`mouseout`,function(){i._dragging||_.unhover(i,r.event)}),a.on(`click`,function(){o!==`select`&&o!==`lasso`&&(s.indexOf(`select`)>-1&&b(r.event,i,[n.xaxis],[n.yaxis],n.id,f),s.indexOf(`event`)>-1&&p.click(i,r.event))})},D.makeFramework=function(){var e=this,t=e.graphDiv,n=t._fullLayout,i=`clip`+n._uid+e.id;e.clipDef=n._clips.append(`clipPath`).attr(`id`,i),e.clipRect=e.clipDef.append(`rect`),e.framework=r.select(e.container).append(`g`).attr(`class`,`geo `+e.id).call(f.setClipUrl,i,t),e.project=function(t){var n=e.projection(t);return n?[n[0]-e.xaxis._offset,n[1]-e.yaxis._offset]:[null,null]},e.xaxis={_id:`x`,c2p:function(t){return e.project(t)[0]}},e.yaxis={_id:`y`,c2p:function(t){return e.project(t)[1]}},e.mockAxis={type:`linear`,showexponent:`all`,exponentformat:`B`},h.setConvert(e.mockAxis,n)},D.saveViewInitial=function(e){var t=e.center||{},n=e.projection,r=n.rotation||{};this.viewInitial={fitbounds:e.fitbounds,"projection.scale":n.scale};var i=e._isScoped?{"center.lon":t.lon,"center.lat":t.lat}:e._isClipped?{"projection.rotation.lon":r.lon,"projection.rotation.lat":r.lat}:{"center.lon":t.lon,"center.lat":t.lat,"projection.rotation.lon":r.lon};l.extendFlat(this.viewInitial,i)},D.render=function(e){this._hasMarkerAngles&&e?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},D._render=function(){var e=this.projection,t=e.getPath(),n;function r(t){var n=e(t.lonlat);return n?u(n[0],n[1]):null}function i(t){return e.isLonLatOverEdges(t.lonlat)?`none`:null}for(n in this.basePaths)this.basePaths[n].attr(`d`,t);for(n in this.dataPaths)this.dataPaths[n].attr(`d`,function(e){return t(e.geojson)});for(n in this.dataPoints)this.dataPoints[n].attr(`display`,i).attr(`transform`,r)};function O(e){var t=e.projection,n=t.type,r=S.projNames[n];r=`geo`+l.titleCase(r);for(var c=(i[r]||s[r])(),u=e._isSatellite?Math.acos(1/t.distance)*180/Math.PI:e._isClipped?S.lonaxisSpan[n]/2:null,d=[`center`,`rotate`,`parallels`,`clipExtent`],f=function(e){return e?c:[]},p=0;p<d.length;p++){var m=d[p];typeof c[m]!=`function`&&(c[m]=f)}return c.isLonLatOverEdges=function(e){if(c(e)===null)return!0;if(u){var t=c.rotate();return o(e,[-t[0],-t[1]])>u*Math.PI/180}else return!1},c.getPath=function(){return a().projection(c)},c.getBounds=function(e){return c.getPath().bounds(e)},c.precision(S.precision),e._isSatellite&&c.tilt(t.tilt).distance(t.distance),u&&c.clipAngle(u-S.clipPad),c}function k(e,t,n){var r=1e-6,i=2.5,a=t[e],o=S.scopeDefaults[t.scope],s,c,l;e===`lonaxis`?(s=o.lonaxisRange,c=o.lataxisRange,l=function(e,t){return[e,t]}):e===`lataxis`&&(s=o.lataxisRange,c=o.lonaxisRange,l=function(e,t){return[t,e]});var u={type:`linear`,range:[s[0],s[1]-r],tick0:a.tick0,dtick:a.dtick};h.setConvert(u,n);var d=h.calcTicks(u);!t.isScoped&&e===`lonaxis`&&d.pop();for(var f=d.length,p=Array(f),m=0;m<f;m++)for(var g=d[m].x,_=p[m]=[],v=c[0];v<c[1]+i;v+=i)_.push(l(g,v));return{type:`MultiLineString`,coordinates:p}}function A(e,t){var n=S.clipPad,r=e[0]+n,i=e[1]-n,a=t[0]+n,o=t[1]-n;r>0&&i<0&&(i+=360);var s=(i-r)/4;return{type:`Polygon`,coordinates:[[[r,a],[r,o],[r+s,o],[r+2*s,o],[r+3*s,o],[i,o],[i,a],[i-s,a],[i-2*s,a],[i-3*s,a],[r,a]]]}}}),44622:(function(e,t,n){var r=n(27659).AU,i=n(71828).counterRegex,a=n(69082),o=`geo`,s=i(o),c={};c[o]={valType:`subplotid`,dflt:o,editType:`calc`};function l(e){for(var t=e._fullLayout,n=e.calcdata,i=t._subplots[o],s=0;s<i.length;s++){var c=i[s],l=r(n,o,c),u=t[c]._subplot;u||(u=a({id:c,graphDiv:e,container:t._geolayer.node(),topojsonURL:e._context.topojsonURL,staticPlot:e._context.staticPlot}),t[c]._subplot=u),u.plot(l,t,e._promises)}}function u(e,t,n,r){for(var i=r._subplots[o]||[],a=0;a<i.length;a++){var s=i[a],c=r[s]._subplot;!t[s]&&c&&(c.framework.remove(),c.clipDef.remove())}}function d(e){for(var t=e._fullLayout,n=t._subplots[o],r=0;r<n.length;r++){var i=t[n[r]];i._subplot.updateFx(t,i)}}e.exports={attr:o,name:o,idRoot:o,idRegex:s,attrRegex:s,attributes:c,layoutAttributes:n(77519),supplyLayoutDefaults:n(82161),plot:l,updateFx:d,clean:u}}),77519:(function(e,t,n){var r=n(22399),i=n(27670).Y,a=n(79952).P,o=n(78776),s=n(30962).overrideAll,c=n(78607),l={range:{valType:`info_array`,items:[{valType:`number`},{valType:`number`}]},showgrid:{valType:`boolean`,dflt:!1},tick0:{valType:`number`,dflt:0},dtick:{valType:`number`},gridcolor:{valType:`color`,dflt:r.lightLine},gridwidth:{valType:`number`,min:0,dflt:1},griddash:a},u=e.exports=s({domain:i({name:`geo`},{}),fitbounds:{valType:`enumerated`,values:[!1,`locations`,`geojson`],dflt:!1,editType:`plot`},resolution:{valType:`enumerated`,values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:`enumerated`,values:c(o.scopeDefaults),dflt:`world`},projection:{type:{valType:`enumerated`,values:c(o.projNames)},rotation:{lon:{valType:`number`},lat:{valType:`number`},roll:{valType:`number`}},tilt:{valType:`number`,dflt:0},distance:{valType:`number`,min:1.001,dflt:2},parallels:{valType:`info_array`,items:[{valType:`number`},{valType:`number`}]},scale:{valType:`number`,min:0,dflt:1}},center:{lon:{valType:`number`},lat:{valType:`number`}},visible:{valType:`boolean`,dflt:!0},showcoastlines:{valType:`boolean`},coastlinecolor:{valType:`color`,dflt:r.defaultLine},coastlinewidth:{valType:`number`,min:0,dflt:1},showland:{valType:`boolean`,dflt:!1},landcolor:{valType:`color`,dflt:o.landColor},showocean:{valType:`boolean`,dflt:!1},oceancolor:{valType:`color`,dflt:o.waterColor},showlakes:{valType:`boolean`,dflt:!1},lakecolor:{valType:`color`,dflt:o.waterColor},showrivers:{valType:`boolean`,dflt:!1},rivercolor:{valType:`color`,dflt:o.waterColor},riverwidth:{valType:`number`,min:0,dflt:1},showcountries:{valType:`boolean`},countrycolor:{valType:`color`,dflt:r.defaultLine},countrywidth:{valType:`number`,min:0,dflt:1},showsubunits:{valType:`boolean`},subunitcolor:{valType:`color`,dflt:r.defaultLine},subunitwidth:{valType:`number`,min:0,dflt:1},showframe:{valType:`boolean`},framecolor:{valType:`color`,dflt:r.defaultLine},framewidth:{valType:`number`,min:0,dflt:1},bgcolor:{valType:`color`,dflt:r.background},lonaxis:l,lataxis:l},`plot`,`from-root`);u.uirevision={valType:`any`,editType:`none`}}),82161:(function(e,t,n){var r=n(71828),i=n(49119),a=n(27659).NG,o=n(78776),s=n(77519),c=o.axesNames;e.exports=function(e,t,n){i(e,t,n,{type:`geo`,attributes:s,handleDefaults:l,fullData:n,partition:`y`})};function l(e,t,n,i){var s=a(i.fullData,`geo`,i.id).map(function(e){return e._expandedIndex}),l=n(`resolution`),u=n(`scope`),d=o.scopeDefaults[u],f=n(`projection.type`,d.projType),p=t._isAlbersUsa=f===`albers usa`;p&&(u=t.scope=`usa`);var m=t._isScoped=u!==`world`,h=t._isSatellite=f===`satellite`,g=t._isConic=f.indexOf(`conic`)!==-1||f===`albers`,_=t._isClipped=!!o.lonaxisSpan[f];if(e.visible===!1){var v=r.extendDeep({},t._template);v.showcoastlines=!1,v.showcountries=!1,v.showframe=!1,v.showlakes=!1,v.showland=!1,v.showocean=!1,v.showrivers=!1,v.showsubunits=!1,v.lonaxis&&(v.lonaxis.showgrid=!1),v.lataxis&&(v.lataxis.showgrid=!1),t._template=v}for(var y=n(`visible`),b,x=0;x<c.length;x++){var S=c[x],C=[30,10][x],w;if(m)w=d[S+`Range`];else{var T=o[S+`Span`],E=(T[f]||T[`*`])/2,D=n(`projection.rotation.`+S.substr(0,3),d.projRotate[x]);w=[D-E,D+E]}var O=n(S+`.range`,w);n(S+`.tick0`),n(S+`.dtick`,C),b=n(S+`.showgrid`,y?void 0:!1),b&&(n(S+`.gridcolor`),n(S+`.gridwidth`),n(S+`.griddash`)),t[S]._ax={type:`linear`,_id:S.slice(0,3),_traceIndices:s,setScale:r.identity,c2l:r.identity,r2l:r.identity,autorange:!0,range:O.slice(),_m:1,_input:{}}}var k=t.lonaxis.range,A=t.lataxis.range,j=k[0],M=k[1];j>0&&M<0&&(M+=360);var N=(j+M)/2,P;if(!p){var F=m?d.projRotate:[N,0,0];P=n(`projection.rotation.lon`,F[0]),n(`projection.rotation.lat`,F[1]),n(`projection.rotation.roll`,F[2]),b=n(`showcoastlines`,!m&&y),b&&(n(`coastlinecolor`),n(`coastlinewidth`)),b=n(`showocean`,y?void 0:!1),b&&n(`oceancolor`)}var I,L;p?(I=-96.6,L=38.7):(I=m?N:P,L=(A[0]+A[1])/2),n(`center.lon`,I),n(`center.lat`,L),h&&(n(`projection.tilt`),n(`projection.distance`)),g&&n(`projection.parallels`,d.projParallels||[0,60]),n(`projection.scale`),b=n(`showland`,y?void 0:!1),b&&n(`landcolor`),b=n(`showlakes`,y?void 0:!1),b&&n(`lakecolor`),b=n(`showrivers`,y?void 0:!1),b&&(n(`rivercolor`),n(`riverwidth`)),b=n(`showcountries`,m&&u!==`usa`&&y),b&&(n(`countrycolor`),n(`countrywidth`)),(u===`usa`||u===`north america`&&l===50)&&(n(`showsubunits`,y),n(`subunitcolor`),n(`subunitwidth`)),m||(b=n(`showframe`,y),b&&(n(`framecolor`),n(`framewidth`))),n(`bgcolor`),n(`fitbounds`)&&(delete t.projection.scale,m?(delete t.center.lon,delete t.center.lat):_?(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon,delete t.projection.rotation.lat,delete t.lonaxis.range,delete t.lataxis.range):(delete t.center.lon,delete t.center.lat,delete t.projection.rotation.lon))}}),74455:(function(e,t,n){var r=n(39898),i=n(71828),a=n(73972),o=Math.PI/180,s=180/Math.PI,c={cursor:`pointer`},l={cursor:`auto`};function u(e,t){var n=e.projection;return(t._isScoped?p:t._isClipped?h:m)(e,n)}e.exports=u;function d(e,t){return r.behavior.zoom().translate(t.translate()).scale(t.scale())}function f(e,t,n){var r=e.id,o=e.graphDiv,s=o.layout,c=s[r],l=o._fullLayout,u=l[r],d={},f={};function p(e,t){d[r+`.`+e]=i.nestedProperty(c,e).get(),a.call(`_storeDirectGUIEdit`,s,l._preGUI,d);var n=i.nestedProperty(u,e);n.get()!==t&&(n.set(t),i.nestedProperty(c,e).set(t),f[r+`.`+e]=t)}n(p),p(`projection.scale`,t.scale()/e.fitScale),p(`fitbounds`,!1),o.emit(`plotly_relayout`,f)}function p(e,t){var n=d(e,t);function i(){r.select(this).style(c)}function a(){t.scale(r.event.scale).translate(r.event.translate),e.render(!0);var n=t.invert(e.midPt);e.graphDiv.emit(`plotly_relayouting`,{"geo.projection.scale":t.scale()/e.fitScale,"geo.center.lon":n[0],"geo.center.lat":n[1]})}function o(n){var r=t.invert(e.midPt);n(`center.lon`,r[0]),n(`center.lat`,r[1])}function s(){r.select(this).style(l),f(e,t,o)}return n.on(`zoomstart`,i).on(`zoom`,a).on(`zoomend`,s),n}function m(e,t){var n=d(e,t),i=2,a,o,s,u,p,m,h,g,_;function v(e){return t.invert(e)}function y(e){var n=v(e);if(!n)return!0;var r=t(n);return Math.abs(r[0]-e[0])>i||Math.abs(r[1]-e[1])>i}function b(){r.select(this).style(c),a=r.mouse(this),o=t.rotate(),s=t.translate(),u=o,p=v(a)}function x(){if(m=r.mouse(this),y(a)){n.scale(t.scale()),n.translate(t.translate());return}t.scale(r.event.scale),t.translate([s[0],r.event.translate[1]]),p?v(m)&&(g=v(m),h=[u[0]+(g[0]-p[0]),o[1],o[2]],t.rotate(h),u=h):(a=m,p=v(a)),_=!0,e.render(!0);var i=t.rotate(),c=t.invert(e.midPt);e.graphDiv.emit(`plotly_relayouting`,{"geo.projection.scale":t.scale()/e.fitScale,"geo.center.lon":c[0],"geo.center.lat":c[1],"geo.projection.rotation.lon":-i[0]})}function S(){r.select(this).style(l),_&&f(e,t,C)}function C(n){var r=t.rotate(),i=t.invert(e.midPt);n(`projection.rotation.lon`,-r[0]),n(`center.lon`,i[0]),n(`center.lat`,i[1])}return n.on(`zoomstart`,b).on(`zoom`,x).on(`zoomend`,S),n}function h(e,t){var n={r:t.rotate(),k:t.scale()},i=d(e,t),a=O(i,`zoomstart`,`zoom`,`zoomend`),o=0,s=i.on,u;i.on(`zoomstart`,function(){r.select(this).style(c);var e=r.mouse(this),o=t.rotate(),l=o,d=t.translate(),f=_(o);u=g(t,e),s.call(i,`zoom`,function(){var i=r.mouse(this);if(t.scale(n.k=r.event.scale),!u)e=i,u=g(t,e);else if(g(t,i)){t.rotate(o).translate(d);var s=g(t,i),c=n.r=b(w(v(f,y(u,s))),u,l);(!isFinite(c[0])||!isFinite(c[1])||!isFinite(c[2]))&&(c=l),t.rotate(c),l=c}m(a.of(this,arguments))}),p(a.of(this,arguments))}).on(`zoomend`,function(){r.select(this).style(l),s.call(i,`zoom`,null),h(a.of(this,arguments)),f(e,t,x)}).on(`zoom.redraw`,function(){e.render(!0);var n=t.rotate();e.graphDiv.emit(`plotly_relayouting`,{"geo.projection.scale":t.scale()/e.fitScale,"geo.projection.rotation.lon":-n[0],"geo.projection.rotation.lat":-n[1]})});function p(e){o++||e({type:`zoomstart`})}function m(e){e({type:`zoom`})}function h(e){--o||e({type:`zoomend`})}function x(e){var n=t.rotate();e(`projection.rotation.lon`,-n[0]),e(`projection.rotation.lat`,-n[1])}return r.rebind(i,a,`on`)}function g(e,t){var n=e.invert(t);return n&&isFinite(n[0])&&isFinite(n[1])&&T(n)}function _(e){var t=.5*e[0]*o,n=.5*e[1]*o,r=.5*e[2]*o,i=Math.sin(t),a=Math.cos(t),s=Math.sin(n),c=Math.cos(n),l=Math.sin(r),u=Math.cos(r);return[a*c*u+i*s*l,i*c*u-a*s*l,a*s*u+i*c*l,a*c*l-i*s*u]}function v(e,t){var n=e[0],r=e[1],i=e[2],a=e[3],o=t[0],s=t[1],c=t[2],l=t[3];return[n*o-r*s-i*c-a*l,n*s+r*o+i*l-a*c,n*c-r*l+i*o+a*s,n*l+r*c-i*s+a*o]}function y(e,t){if(!(!e||!t)){var n=D(e,t),r=Math.sqrt(E(n,n)),i=.5*Math.acos(Math.max(-1,Math.min(1,E(e,t)))),a=Math.sin(i)/r;return r&&[Math.cos(i),n[2]*a,-n[1]*a,n[0]*a]}}function b(e,t,n){var r=C(t,2,e[0]);r=C(r,1,e[1]),r=C(r,0,e[2]-n[2]);var i=t[0],a=t[1],o=t[2],c=r[0],l=r[1],u=r[2],d=Math.atan2(a,i)*s,f=Math.sqrt(i*i+a*a),p,m;Math.abs(l)>f?(m=(l>0?90:-90)-d,p=0):(m=Math.asin(l/f)*s-d,p=Math.sqrt(f*f-l*l));var h=180-m-2*d,g=(Math.atan2(u,c)-Math.atan2(o,p))*s,_=(Math.atan2(u,c)-Math.atan2(o,-p))*s;return x(n[0],n[1],m,g)<=x(n[0],n[1],h,_)?[m,g,n[2]]:[h,_,n[2]]}function x(e,t,n,r){var i=S(n-e),a=S(r-t);return Math.sqrt(i*i+a*a)}function S(e){return(e%360+540)%360-180}function C(e,t,n){var r=n*o,i=e.slice(),a=t===0?1:0,s=t===2?1:2,c=Math.cos(r),l=Math.sin(r);return i[a]=e[a]*c-e[s]*l,i[s]=e[s]*c+e[a]*l,i}function w(e){return[Math.atan2(2*(e[0]*e[1]+e[2]*e[3]),1-2*(e[1]*e[1]+e[2]*e[2]))*s,Math.asin(Math.max(-1,Math.min(1,2*(e[0]*e[2]-e[3]*e[1]))))*s,Math.atan2(2*(e[0]*e[3]+e[1]*e[2]),1-2*(e[2]*e[2]+e[3]*e[3]))*s]}function T(e){var t=e[0]*o,n=e[1]*o,r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function E(e,t){for(var n=0,r=0,i=e.length;r<i;++r)n+=e[r]*t[r];return n}function D(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function O(e){for(var t=0,n=arguments.length,i=[];++t<n;)i.push(arguments[t]);var a=r.dispatch.apply(null,i);return a.of=function(t,n){return function(i){var o;try{o=i.sourceEvent=r.event,i.target=e,r.event=i,a[i.type].apply(t,n)}finally{r.event=o}}},a}}),27659:(function(e,t,n){var r=n(73972),i=n(85555).SUBPLOT_PATTERN;t.AU=function(e,t,n){var i=r.subplotsRegistry[t];if(!i)return[];for(var a=i.attr,o=[],s=0;s<e.length;s++){var c=e[s];c[0].trace[a]===n&&o.push(c)}return o},t.a0=function(e,t){var n=[],i=[],a=typeof t==`string`?r.getModule(t).plot:typeof t==`function`?t:t.plot;if(!a)return[n,e];for(var o=0;o<e.length;o++){var s=e[o],c=s[0].trace;c.visible!==!0||c._length===0||(c._module.plot===a?n.push(s):i.push(s))}return[n,i]},t.NG=function(e,t,n){if(!r.subplotsRegistry[t])return[];var a=r.subplotsRegistry[t].attr,o=[],s,c,l;if(t===`gl2d`){var u=n.match(i);c=`x`+u[1],l=`y`+u[2]}for(var d=0;d<e.length;d++)s=e[d],t===`gl2d`&&r.traceIs(s,`gl2d`)?s[a[0]]===c&&s[a[1]]===l&&o.push(s):s[a]===n&&o.push(s);return o}}),75071:(function(e,t,n){var r=n(16825),i=n(1195),a=n(48956),o=n(85555),s=n(38520);e.exports=l;function c(e,t){this.element=e,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function l(e){var t=e.mouseContainer,n=e.glplot,l=new c(t,n);function u(){e.xaxis.autorange=!1,e.yaxis.autorange=!1}function d(){for(var t=e.graphDiv._fullLayout._axisConstraintGroups,n=e.xaxis._id,r=e.yaxis._id,i=0;i<t.length;i++)if(t[i][n]!==-1){if(t[i][r]!==-1)return!0;break}return!1}l.mouseListener=r(t,f),t.addEventListener(`touchstart`,function(e){var n=a(e.changedTouches[0],t);f(0,n[0],n[1]),f(1,n[0],n[1]),e.preventDefault()},s?{passive:!1}:!1),t.addEventListener(`touchmove`,function(e){e.preventDefault();var n=a(e.changedTouches[0],t);f(1,n[0],n[1]),e.preventDefault()},s?{passive:!1}:!1),t.addEventListener(`touchend`,function(e){f(0,l.lastPos[0],l.lastPos[1]),e.preventDefault()},s?{passive:!1}:!1);function f(t,r,i){var a=e.calcDataBox(),s=n.viewBox,c=l.lastPos[0],f=l.lastPos[1],p=o.MINDRAG*n.pixelRatio,m=o.MINZOOM*n.pixelRatio,h,g;r*=n.pixelRatio,i*=n.pixelRatio,i=s[3]-s[1]-i;function _(t,n,r){var i=Math.min(n,r),o=Math.max(n,r);i===o?(e.selectBox.selectBox=[0,0,1,1],e.glplot.setDirty()):(a[t]=i,a[t+2]=o,l.dataBox=a,e.setRanges(a))}switch(e.fullLayout.dragmode){case`zoom`:if(t){var v=r/(s[2]-s[0])*(a[2]-a[0])+a[0],y=i/(s[3]-s[1])*(a[3]-a[1])+a[1];l.boxInited||(l.boxStart[0]=v,l.boxStart[1]=y,l.dragStart[0]=r,l.dragStart[1]=i),l.boxEnd[0]=v,l.boxEnd[1]=y,l.boxInited=!0,!l.boxEnabled&&(l.boxStart[0]!==l.boxEnd[0]||l.boxStart[1]!==l.boxEnd[1])&&(l.boxEnabled=!0);var b=Math.abs(l.dragStart[0]-r)<m,x=Math.abs(l.dragStart[1]-i)<m;if(d()&&!(b&&x)){h=l.boxEnd[0]-l.boxStart[0],g=l.boxEnd[1]-l.boxStart[1];var S=(a[3]-a[1])/(a[2]-a[0]);Math.abs(h*S)>Math.abs(g)?(l.boxEnd[1]=l.boxStart[1]+Math.abs(h)*S*(g>=0?1:-1),l.boxEnd[1]<a[1]?(l.boxEnd[1]=a[1],l.boxEnd[0]=l.boxStart[0]+(a[1]-l.boxStart[1])/Math.abs(S)):l.boxEnd[1]>a[3]&&(l.boxEnd[1]=a[3],l.boxEnd[0]=l.boxStart[0]+(a[3]-l.boxStart[1])/Math.abs(S))):(l.boxEnd[0]=l.boxStart[0]+Math.abs(g)/S*(h>=0?1:-1),l.boxEnd[0]<a[0]?(l.boxEnd[0]=a[0],l.boxEnd[1]=l.boxStart[1]+(a[0]-l.boxStart[0])*Math.abs(S)):l.boxEnd[0]>a[2]&&(l.boxEnd[0]=a[2],l.boxEnd[1]=l.boxStart[1]+(a[2]-l.boxStart[0])*Math.abs(S)))}else b&&(l.boxEnd[0]=l.boxStart[0]),x&&(l.boxEnd[1]=l.boxStart[1])}else l.boxEnabled?(h=l.boxStart[0]!==l.boxEnd[0],g=l.boxStart[1]!==l.boxEnd[1],h||g?(h&&(_(0,l.boxStart[0],l.boxEnd[0]),e.xaxis.autorange=!1),g&&(_(1,l.boxStart[1],l.boxEnd[1]),e.yaxis.autorange=!1),e.relayoutCallback()):e.glplot.setDirty(),l.boxEnabled=!1,l.boxInited=!1):l.boxInited&&=!1;break;case`pan`:l.boxEnabled=!1,l.boxInited=!1,t?(l.panning||(l.dragStart[0]=r,l.dragStart[1]=i),Math.abs(l.dragStart[0]-r)<p&&(r=l.dragStart[0]),Math.abs(l.dragStart[1]-i)<p&&(i=l.dragStart[1]),h=(c-r)*(a[2]-a[0])/(n.viewBox[2]-n.viewBox[0]),g=(f-i)*(a[3]-a[1])/(n.viewBox[3]-n.viewBox[1]),a[0]+=h,a[2]+=h,a[1]+=g,a[3]+=g,e.setRanges(a),l.panning=!0,l.lastInputTime=Date.now(),u(),e.cameraChanged(),e.handleAnnotations()):l.panning&&(l.panning=!1,e.relayoutCallback());break}l.lastPos[0]=r,l.lastPos[1]=i}return l.wheelListener=i(t,function(t,r){if(!e.scrollZoom)return!1;var i=e.calcDataBox(),a=n.viewBox,o=l.lastPos[0],s=l.lastPos[1],c=Math.exp(5*r/(a[3]-a[1])),d=o/(a[2]-a[0])*(i[2]-i[0])+i[0],f=s/(a[3]-a[1])*(i[3]-i[1])+i[1];return i[0]=(i[0]-d)*c+d,i[2]=(i[2]-d)*c+d,i[1]=(i[1]-f)*c+f,i[3]=(i[3]-f)*c+f,e.setRanges(i),l.lastInputTime=Date.now(),u(),e.cameraChanged(),e.handleAnnotations(),e.relayoutCallback(),!0},!0),l}}),82961:(function(e,t,n){var r=n(89298),i=n(78614);function a(e){this.scene=e,this.gl=e.gl,this.pixelRatio=e.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=[`x`,`y`],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=[`sans-serif`,`sans-serif`],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title=``,this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont=`sans-serif`,this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var o=a.prototype,s=[`xaxis`,`yaxis`];o.merge=function(e){this.titleEnable=!1,this.backgroundColor=i(e.plot_bgcolor);var t,n,r,a,o,c,l,u,d,f,p;for(f=0;f<2;++f){t=s[f];var m=t.charAt(0);for(n=e[this.scene[t]._name],r=n.title.text===this.scene.fullLayout._dfltTitle[m]?``:n.title.text,p=0;p<=2;p+=2)this.labelEnable[f+p]=!1,this.labels[f+p]=r,this.labelColor[f+p]=i(n.title.font.color),this.labelFont[f+p]=n.title.font.family,this.labelSize[f+p]=n.title.font.size,this.labelPad[f+p]=this.getLabelPad(t,n),this.tickEnable[f+p]=!1,this.tickColor[f+p]=i((n.tickfont||{}).color),this.tickAngle[f+p]=n.tickangle===`auto`?0:Math.PI*-n.tickangle/180,this.tickPad[f+p]=this.getTickPad(n),this.tickMarkLength[f+p]=0,this.tickMarkWidth[f+p]=n.tickwidth||0,this.tickMarkColor[f+p]=i(n.tickcolor),this.borderLineEnable[f+p]=!1,this.borderLineColor[f+p]=i(n.linecolor),this.borderLineWidth[f+p]=n.linewidth||0;l=this.hasSharedAxis(n),o=this.hasAxisInDfltPos(t,n)&&!l,c=this.hasAxisInAltrPos(t,n)&&!l,a=n.mirror||!1,u=l?String(a).indexOf(`all`)!==-1:!!a,d=l?a===`allticks`:String(a).indexOf(`ticks`)!==-1,o?this.labelEnable[f]=!0:c&&(this.labelEnable[f+2]=!0),o?this.tickEnable[f]=n.showticklabels:c&&(this.tickEnable[f+2]=n.showticklabels),(o||u)&&(this.borderLineEnable[f]=n.showline),(c||u)&&(this.borderLineEnable[f+2]=n.showline),(o||d)&&(this.tickMarkLength[f]=this.getTickMarkLength(n)),(c||d)&&(this.tickMarkLength[f+2]=this.getTickMarkLength(n)),this.gridLineEnable[f]=n.showgrid,this.gridLineColor[f]=i(n.gridcolor),this.gridLineWidth[f]=n.gridwidth,this.zeroLineEnable[f]=n.zeroline,this.zeroLineColor[f]=i(n.zerolinecolor),this.zeroLineWidth[f]=n.zerolinewidth}},o.hasSharedAxis=function(e){var t=this.scene,n=t.fullLayout._subplots.gl2d;return r.findSubplotsWithAxis(n,e).indexOf(t.id)!==0},o.hasAxisInDfltPos=function(e,t){var n=t.side;if(e===`xaxis`)return n===`bottom`;if(e===`yaxis`)return n===`left`},o.hasAxisInAltrPos=function(e,t){var n=t.side;if(e===`xaxis`)return n===`top`;if(e===`yaxis`)return n===`right`},o.getLabelPad=function(e,t){var n=1.5,r=t.title.font.size,i=t.showticklabels;if(e===`xaxis`)return t.side===`top`?-10+r*(n+(i?1:0)):-10+r*(n+(i?.5:0));if(e===`yaxis`)return t.side===`right`?10+r*(n+(i?1:.5)):10+r*(n+(i?.5:0))},o.getTickPad=function(e){return e.ticks===`outside`?10+e.ticklen:15},o.getTickMarkLength=function(e){if(!e.ticks)return 0;var t=e.ticklen;return e.ticks===`inside`?-t:t};function c(e){return new a(e)}e.exports=c}),4796:(function(e,t,n){var r=n(30962).overrideAll,i=n(92918),a=n(10820),o=n(77922),s=n(85555),c=n(93612),l=n(528),u=n(27659).NG;t.name=`gl2d`,t.attr=[`xaxis`,`yaxis`],t.idRoot=[`x`,`y`],t.idRegex=s.idRegex,t.attrRegex=s.attrRegex,t.attributes=n(89502),t.supplyLayoutDefaults=function(e,t,n){t._has(`cartesian`)||c.supplyLayoutDefaults(e,t,n)},t.layoutAttrOverrides=r(c.layoutAttributes,`plot`,`from-root`),t.baseLayoutAttrOverrides=r({plot_bgcolor:a.plot_bgcolor,hoverlabel:l.hoverlabel},`plot`,`nested`),t.plot=function(e){for(var t=e._fullLayout,n=e._fullData,r=t._subplots.gl2d,a=0;a<r.length;a++){var o=r[a],s=t._plots[o],c=u(n,`gl2d`,o),l=s._scene2d;l===void 0&&(l=new i({id:o,graphDiv:e,container:e.querySelector(`.gl-container`),staticPlot:e._context.staticPlot,plotGlPixelRatio:e._context.plotGlPixelRatio},t),s._scene2d=l),l.plot(c,e.calcdata,t,e.layout)}},t.clean=function(e,t,n,r){for(var i=r._subplots.gl2d||[],a=0;a<i.length;a++){var o=i[a],s=r._plots[o];s._scene2d&&u(e,`gl2d`,o).length===0&&(s._scene2d.destroy(),delete r._plots[o])}c.clean.apply(this,arguments)},t.drawFramework=function(e){e._context.staticPlot||c.drawFramework(e)},t.toSVG=function(e){for(var t=e._fullLayout,n=t._subplots.gl2d,r=0;r<n.length;r++){var i=t._plots[n[r]]._scene2d,a=i.toImage(`png`);t._glimages.append(`svg:image`).attr({xmlns:o.svg,"xlink:href":a,x:0,y:0,width:`100%`,height:`100%`,preserveAspectRatio:`none`}),i.destroy()}},t.updateFx=function(e){for(var t=e._fullLayout,n=t._subplots.gl2d,r=0;r<n.length;r++)t._plots[n[r]]._scene2d.updateFx(t.dragmode)}}),92918:(function(e,t,n){var r=n(73972),i=n(89298),a=n(30211),o=n(9330).gl_plot2d,s=n(9330).gl_spikes2d,c=n(9330).gl_select_box,l=n(40372),u=n(82961),d=n(75071),f=n(58617),p=n(99082),m=p.enforce,h=p.clean,g=n(71739).doAutoRange,_=n(64505),v=_.drawMode,y=_.selectMode,b=[`xaxis`,`yaxis`],x,S,C=n(85555).SUBPLOT_PATTERN;function w(e,t){this.container=e.container,this.graphDiv=e.graphDiv,this.pixelRatio=e.plotGlPixelRatio||window.devicePixelRatio,this.id=e.id,this.staticPlot=!!e.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(t),this.makeFramework(),!this.stopped&&(this.glplotOptions=u(this),this.glplotOptions.merge(t),this.glplot=o(this.glplotOptions),this.camera=d(this),this.traces={},this.spikes=s(this.glplot),this.selectBox=c(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}e.exports=w;var T=w.prototype;T.makeFramework=function(){if(this.staticPlot){if(!S&&(x=document.createElement(`canvas`),S=l({canvas:x,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!S))throw Error(`Error creating static canvas/context for image server`);this.canvas=x,this.gl=S}else{var e=this.container.querySelector(`.gl-canvas-focus`),t=l({canvas:e,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!t){f(this),this.stopped=!0;return}this.canvas=e,this.gl=t}var n=this.canvas;n.style.width=`100%`,n.style.height=`100%`,n.style.position=`absolute`,n.style.top=`0px`,n.style.left=`0px`,n.style[`pointer-events`]=`none`,this.updateSize(n);var r=this.svgContainer=document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);r.style.position=`absolute`,r.style.top=r.style.left=`0px`,r.style.width=r.style.height=`100%`,r.style[`z-index`]=20,r.style[`pointer-events`]=`none`;var i=this.mouseContainer=document.createElement(`div`);i.style.position=`absolute`,i.style[`pointer-events`]=`auto`,this.pickCanvas=this.container.querySelector(`.gl-canvas-pick`);var a=this.container;a.appendChild(r),a.appendChild(i);var o=this;i.addEventListener(`mouseout`,function(){o.isMouseOver=!1,o.unhover()}),i.addEventListener(`mouseover`,function(){o.isMouseOver=!0})},T.toImage=function(e){e||=`png`,this.stopped=!0,this.staticPlot&&this.container.appendChild(x),this.updateSize(this.canvas);var t=this.glplot.gl,n=t.drawingBufferWidth,r=t.drawingBufferHeight;t.clearColor(1,1,1,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),t.bindFramebuffer(t.FRAMEBUFFER,null);var i=new Uint8Array(n*r*4);t.readPixels(0,0,n,r,t.RGBA,t.UNSIGNED_BYTE,i);for(var a=0,o=r-1;a<o;++a,--o)for(var s=0;s<n;++s)for(var c=0;c<4;++c){var l=i[4*(n*a+s)+c];i[4*(n*a+s)+c]=i[4*(n*o+s)+c],i[4*(n*o+s)+c]=l}var u=document.createElement(`canvas`);u.width=n,u.height=r;var d=u.getContext(`2d`,{willReadFrequently:!0}),f=d.createImageData(n,r);f.data.set(i),d.putImageData(f,0,0);var p;switch(e){case`jpeg`:p=u.toDataURL(`image/jpeg`);break;case`webp`:p=u.toDataURL(`image/webp`);break;default:p=u.toDataURL(`image/png`)}return this.staticPlot&&this.container.removeChild(x),p},T.updateSize=function(e){e||=this.canvas;var t=this.pixelRatio,n=this.fullLayout,r=n.width,i=n.height,a=Math.ceil(t*r)|0,o=Math.ceil(t*i)|0;return(e.width!==a||e.height!==o)&&(e.width=a,e.height=o),e},T.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var e=[i.calcTicks(this.xaxis),i.calcTicks(this.yaxis)],t=0;t<2;++t)for(var n=0;n<e[t].length;++n)e[t][n].text=e[t][n].text+``;return e};function E(e,t){for(var n=0;n<2;++n){var r=e[n],i=t[n];if(r.length!==i.length)return!0;for(var a=0;a<r.length;++a)if(r[a].x!==i[a].x)return!0}return!1}T.updateRefs=function(e){this.fullLayout=e;var t=this.id.match(C),n=`xaxis`+t[1],r=`yaxis`+t[2];this.xaxis=this.fullLayout[n],this.yaxis=this.fullLayout[r]},T.relayoutCallback=function(){var e=this.graphDiv,t=this.xaxis,n=this.yaxis,i=e.layout,a={},o=a[t._name+`.range`]=t.range.slice(),s=a[n._name+`.range`]=n.range.slice();a[t._name+`.autorange`]=t.autorange,a[n._name+`.autorange`]=n.autorange,r.call(`_storeDirectGUIEdit`,e.layout,e._fullLayout._preGUI,a);var c=i[t._name];c.range=o,c.autorange=t.autorange;var l=i[n._name];l.range=s,l.autorange=n.autorange,a.lastInputTime=this.camera.lastInputTime,e.emit(`plotly_relayout`,a)},T.cameraChanged=function(){var e=this.camera;this.glplot.setDataBox(this.calcDataBox());var t=this.computeTickMarks(),n=this.glplotOptions.ticks;E(t,n)&&(this.glplotOptions.ticks=t,this.glplotOptions.dataBox=e.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},T.handleAnnotations=function(){for(var e=this.graphDiv,t=this.fullLayout.annotations,n=0;n<t.length;n++){var i=t[n];i.xref===this.xaxis._id&&i.yref===this.yaxis._id&&r.getComponentMethod(`annotations`,`drawOne`)(e,n)}},T.destroy=function(){if(this.glplot){var e=this.traces;e&&Object.keys(e).map(function(t){e[t].dispose(),delete e[t]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener(`wheel`,this.camera.wheelListener),this.camera=null}},T.plot=function(e,t,n){var r=this.glplot;this.updateRefs(n),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(e,t),this.updateFx(n.dragmode);var i=n.width,a=n.height;this.updateSize(this.canvas);var o=this.glplotOptions;o.merge(n),o.screenBox=[0,0,i,a];var s={_fullLayout:{_axisConstraintGroups:n._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:n._size}};h(s,this.xaxis),h(s,this.yaxis);var c=n._size,l=this.xaxis.domain,u=this.yaxis.domain;o.viewBox=[c.l+l[0]*c.w,c.b+u[0]*c.h,i-c.r-(1-l[1])*c.w,a-c.t-(1-u[1])*c.h],this.mouseContainer.style.width=c.w*(l[1]-l[0])+`px`,this.mouseContainer.style.height=c.h*(u[1]-u[0])+`px`,this.mouseContainer.height=c.h*(u[1]-u[0]),this.mouseContainer.style.left=c.l+l[0]*c.w+`px`,this.mouseContainer.style.top=c.t+(1-u[1])*c.h+`px`;var d,f;for(f=0;f<2;++f)d=this[b[f]],d._length=o.viewBox[f+2]-o.viewBox[f],g(this.graphDiv,d),d.setScale();m(s),o.ticks=this.computeTickMarks(),o.dataBox=this.calcDataBox(),o.merge(n),r.update(o),this.glplot.draw()},T.calcDataBox=function(){var e=this.xaxis,t=this.yaxis,n=e.range,r=t.range,i=e.r2l,a=t.r2l;return[i(n[0]),a(r[0]),i(n[1]),a(r[1])]},T.setRanges=function(e){var t=this.xaxis,n=this.yaxis,r=t.l2r,i=n.l2r;t.range=[r(e[0]),r(e[2])],n.range=[i(e[1]),i(e[3])]},T.updateTraces=function(e,t){var n=Object.keys(this.traces),r,i,a;this.fullData=e;traceIdLoop:for(r=0;r<n.length;r++){var o=n[r],s=this.traces[o];for(i=0;i<e.length;i++)if(a=e[i],a.uid===o&&a.type===s.type)continue traceIdLoop;s.dispose(),delete this.traces[o]}for(r=0;r<e.length;r++){a=e[r];var c=t[r],l=this.traces[a.uid];l?l.update(a,c):(l=a._module.plot(this,a,c),this.traces[a.uid]=l)}this.glplot.objects.sort(function(e,t){return e._trace.index-t._trace.index})},T.updateFx=function(e){y(e)||v(e)?(this.pickCanvas.style[`pointer-events`]=`none`,this.mouseContainer.style[`pointer-events`]=`none`):(this.pickCanvas.style[`pointer-events`]=`auto`,this.mouseContainer.style[`pointer-events`]=`auto`),e===`pan`?this.mouseContainer.style.cursor=`move`:e===`zoom`?this.mouseContainer.style.cursor=`crosshair`:this.mouseContainer.style.cursor=null},T.emitPointAction=function(e,t){for(var n=e.trace.uid,r=e.pointIndex,i,o=0;o<this.fullData.length;o++)this.fullData[o].uid===n&&(i=this.fullData[o]);var s={x:e.traceCoord[0],y:e.traceCoord[1],curveNumber:i.index,pointNumber:r,data:i._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};a.appendArrayPointValue(s,i,r),this.graphDiv.emit(t,{points:[s]})},T.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var e=this.glplot,t=this.camera,n=t.mouseListener,r=this.lastButtonState===1&&n.buttons===0,i=this.fullLayout;this.lastButtonState=n.buttons,this.cameraChanged();var o=n.x*e.pixelRatio,s=this.canvas.height-e.pixelRatio*n.y,c;if(t.boxEnabled&&i.dragmode===`zoom`){this.selectBox.enabled=!0;for(var l=this.selectBox.selectBox=[Math.min(t.boxStart[0],t.boxEnd[0]),Math.min(t.boxStart[1],t.boxEnd[1]),Math.max(t.boxStart[0],t.boxEnd[0]),Math.max(t.boxStart[1],t.boxEnd[1])],u=0;u<2;u++)t.boxStart[u]===t.boxEnd[u]&&(l[u]=e.dataBox[u],l[u+2]=e.dataBox[u+2]);e.setDirty()}else if(!t.panning&&this.isMouseOver){this.selectBox.enabled=!1;var d=i._size,f=this.xaxis.domain,p=this.yaxis.domain;c=e.pick(o/e.pixelRatio+d.l+f[0]*d.w,s/e.pixelRatio-(d.t+(1-p[1])*d.h));var m=c&&c.object._trace.handlePick(c);if(m&&r&&this.emitPointAction(m,`plotly_click`),c&&c.object._trace.hoverinfo!==`skip`&&i.hovermode&&m&&(!this.lastPickResult||this.lastPickResult.traceUid!==m.trace.uid||this.lastPickResult.dataCoord[0]!==m.dataCoord[0]||this.lastPickResult.dataCoord[1]!==m.dataCoord[1])){var h=m;this.lastPickResult={traceUid:m.trace?m.trace.uid:null,dataCoord:m.dataCoord.slice()},this.spikes.update({center:c.dataCoord}),h.screenCoord=[((e.viewBox[2]-e.viewBox[0])*(c.dataCoord[0]-e.dataBox[0])/(e.dataBox[2]-e.dataBox[0])+e.viewBox[0])/e.pixelRatio,(this.canvas.height-(e.viewBox[3]-e.viewBox[1])*(c.dataCoord[1]-e.dataBox[1])/(e.dataBox[3]-e.dataBox[1])-e.viewBox[1])/e.pixelRatio],this.emitPointAction(m,`plotly_hover`);var g=this.fullData[h.trace.index]||{},_=h.pointIndex,v=a.castHoverinfo(g,i,_);if(v&&v!==`all`){var y=v.split(`+`);y.indexOf(`x`)===-1&&(h.traceCoord[0]=void 0),y.indexOf(`y`)===-1&&(h.traceCoord[1]=void 0),y.indexOf(`z`)===-1&&(h.traceCoord[2]=void 0),y.indexOf(`text`)===-1&&(h.textLabel=void 0),y.indexOf(`name`)===-1&&(h.name=void 0)}a.loneHover({x:h.screenCoord[0],y:h.screenCoord[1],xLabel:this.hoverFormatter(`xaxis`,h.traceCoord[0]),yLabel:this.hoverFormatter(`yaxis`,h.traceCoord[1]),zLabel:h.traceCoord[2],text:h.textLabel,name:h.name,color:a.castHoverOption(g,_,`bgcolor`)||h.color,borderColor:a.castHoverOption(g,_,`bordercolor`),fontFamily:a.castHoverOption(g,_,`font.family`),fontSize:a.castHoverOption(g,_,`font.size`),fontColor:a.castHoverOption(g,_,`font.color`),nameLength:a.castHoverOption(g,_,`namelength`),textAlign:a.castHoverOption(g,_,`align`)},{container:this.svgContainer,gd:this.graphDiv})}}c||this.unhover(),e.draw()}},T.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit(`plotly_unhover`),a.loneUnhover(this.svgContainer))},T.hoverFormatter=function(e,t){if(t!==void 0){var n=this[e];return i.tickText(n,n.c2l(t),`hover`).text}}}),58547:(function(e,t,n){var r=n(30962).overrideAll,i=n(528),a=n(33539),o=n(27659).NG,s=n(71828),c=n(77922),l=`gl3d`,u=`scene`;t.name=l,t.attr=u,t.idRoot=u,t.idRegex=t.attrRegex=s.counterRegex(`scene`),t.attributes=n(59084),t.layoutAttributes=n(65500),t.baseLayoutAttrOverrides=r({hoverlabel:i.hoverlabel},`plot`,`nested`),t.supplyLayoutDefaults=n(24682),t.plot=function(e){for(var t=e._fullLayout,n=e._fullData,r=t._subplots[l],i=0;i<r.length;i++){var s=r[i],c=o(n,l,s),u=t[s],d=u.camera,f=u._scene;f||(f=new a({id:s,graphDiv:e,container:e.querySelector(`.gl-container`),staticPlot:e._context.staticPlot,plotGlPixelRatio:e._context.plotGlPixelRatio,camera:d},t),u._scene=f),f.viewInitial||={up:{x:d.up.x,y:d.up.y,z:d.up.z},eye:{x:d.eye.x,y:d.eye.y,z:d.eye.z},center:{x:d.center.x,y:d.center.y,z:d.center.z}},f.plot(c,t,e.layout)}},t.clean=function(e,t,n,r){for(var i=r._subplots[l]||[],a=0;a<i.length;a++){var o=i[a];!t[o]&&r[o]._scene&&(r[o]._scene.destroy(),r._infolayer&&r._infolayer.selectAll(`.annotation-`+o).remove())}},t.toSVG=function(e){for(var t=e._fullLayout,n=t._subplots[l],r=t._size,i=0;i<n.length;i++){var a=t[n[i]],o=a.domain,s=a._scene,u=s.toImage(`png`);t._glimages.append(`svg:image`).attr({xmlns:c.svg,"xlink:href":u,x:r.l+r.w*o.x[0],y:r.t+r.h*(1-o.y[1]),width:r.w*(o.x[1]-o.x[0]),height:r.h*(o.y[1]-o.y[0]),preserveAspectRatio:`none`}),s.destroy()}},t.cleanId=function(e){if(e.match(/^scene[0-9]*$/)){var t=e.substr(5);return t===`1`&&(t=``),u+t}},t.updateFx=function(e){for(var t=e._fullLayout,n=t._subplots[l],r=0;r<n.length;r++)t[n[r]]._scene.updateFx(t.dragmode,t.hovermode)}}),59084:(function(e){e.exports={scene:{valType:`subplotid`,dflt:`scene`,editType:`calc+clearAxisTypes`}}}),77894:(function(e,t,n){var r=n(7901),i=n(13838),a=n(1426).extendFlat,o=n(30962).overrideAll;e.exports=o({visible:i.visible,showspikes:{valType:`boolean`,dflt:!0},spikesides:{valType:`boolean`,dflt:!0},spikethickness:{valType:`number`,min:0,dflt:2},spikecolor:{valType:`color`,dflt:r.defaultLine},showbackground:{valType:`boolean`,dflt:!1},backgroundcolor:{valType:`color`,dflt:`rgba(204, 204, 204, 0.5)`},showaxeslabels:{valType:`boolean`,dflt:!0},color:i.color,categoryorder:i.categoryorder,categoryarray:i.categoryarray,title:{text:i.title.text,font:i.title.font},type:a({},i.type,{values:[`-`,`linear`,`log`,`date`,`category`]}),autotypenumbers:i.autotypenumbers,autorange:i.autorange,rangemode:i.rangemode,range:a({},i.range,{items:[{valType:`any`,editType:`plot`,impliedEdits:{"^autorange":!1}},{valType:`any`,editType:`plot`,impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:i.minor.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,mirror:i.mirror,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,showticklabels:i.showticklabels,labelalias:i.labelalias,tickfont:i.tickfont,tickangle:i.tickangle,tickprefix:i.tickprefix,showtickprefix:i.showtickprefix,ticksuffix:i.ticksuffix,showticksuffix:i.showticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickformat:i.tickformat,tickformatstops:i.tickformatstops,hoverformat:i.hoverformat,showline:i.showline,linecolor:i.linecolor,linewidth:i.linewidth,showgrid:i.showgrid,gridcolor:a({},i.gridcolor,{dflt:`rgb(204, 204, 204)`}),gridwidth:i.gridwidth,zeroline:i.zeroline,zerolinecolor:i.zerolinecolor,zerolinewidth:i.zerolinewidth,_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}},`plot`,`from-root`)}),3277:(function(e,t,n){var r=n(84267).mix,i=n(71828),a=n(44467),o=n(77894),s=n(951),c=n(71453),l=[`xaxis`,`yaxis`,`zaxis`],u=13600/187;e.exports=function(e,t,n){var d,f;function p(e,t){return i.coerce(d,f,o,e,t)}for(var m=0;m<l.length;m++){var h=l[m];d=e[h]||{},f=a.newContainer(t,h),f._id=h[0]+n.scene,f._name=h,s(d,f,p,n),c(d,f,p,{font:n.font,letter:h[0],data:n.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:n.bgColor,calendar:n.calendar},n.fullLayout),p(`gridcolor`,r(f.color,n.bgColor,u).toRgbString()),p(`title.text`,h[0]),f.setScale=i.noop,p(`showspikes`)&&(p(`spikesides`),p(`spikethickness`),p(`spikecolor`,f.color)),p(`showaxeslabels`),p(`showbackground`)&&p(`backgroundcolor`)}}}),30422:(function(e,t,n){var r=n(78614),i=n(71828),a=[`xaxis`,`yaxis`,`zaxis`];function o(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=[`sans-serif`,`sans-serif`,`sans-serif`],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=[`x`,`y`,`z`],this.labelEnable=[!0,!0,!0],this.labelFont=[`Open Sans`,`Open Sans`,`Open Sans`],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var s=o.prototype;s.merge=function(e,t){for(var n=this,o=0;o<3;++o){var s=t[a[o]];if(!s.visible){n.tickEnable[o]=!1,n.labelEnable[o]=!1,n.lineEnable[o]=!1,n.lineTickEnable[o]=!1,n.gridEnable[o]=!1,n.zeroEnable[o]=!1,n.backgroundEnable[o]=!1;continue}n.labels[o]=e._meta?i.templateString(s.title.text,e._meta):s.title.text,`font`in s.title&&(s.title.font.color&&(n.labelColor[o]=r(s.title.font.color)),s.title.font.family&&(n.labelFont[o]=s.title.font.family),s.title.font.size&&(n.labelSize[o]=s.title.font.size)),`showline`in s&&(n.lineEnable[o]=s.showline),`linecolor`in s&&(n.lineColor[o]=r(s.linecolor)),`linewidth`in s&&(n.lineWidth[o]=s.linewidth),`showgrid`in s&&(n.gridEnable[o]=s.showgrid),`gridcolor`in s&&(n.gridColor[o]=r(s.gridcolor)),`gridwidth`in s&&(n.gridWidth[o]=s.gridwidth),s.type===`log`?n.zeroEnable[o]=!1:`zeroline`in s&&(n.zeroEnable[o]=s.zeroline),`zerolinecolor`in s&&(n.zeroLineColor[o]=r(s.zerolinecolor)),`zerolinewidth`in s&&(n.zeroLineWidth[o]=s.zerolinewidth),`ticks`in s&&s.ticks?n.lineTickEnable[o]=!0:n.lineTickEnable[o]=!1,`ticklen`in s&&(n.lineTickLength[o]=n._defaultLineTickLength[o]=s.ticklen),`tickcolor`in s&&(n.lineTickColor[o]=r(s.tickcolor)),`tickwidth`in s&&(n.lineTickWidth[o]=s.tickwidth),`tickangle`in s&&(n.tickAngle[o]=s.tickangle===`auto`?-3600:Math.PI*-s.tickangle/180),`showticklabels`in s&&(n.tickEnable[o]=s.showticklabels),`tickfont`in s&&(s.tickfont.color&&(n.tickColor[o]=r(s.tickfont.color)),s.tickfont.family&&(n.tickFont[o]=s.tickfont.family),s.tickfont.size&&(n.tickSize[o]=s.tickfont.size)),`mirror`in s?[`ticks`,`all`,`allticks`].indexOf(s.mirror)===-1?s.mirror===!0?(n.lineTickMirror[o]=!1,n.lineMirror[o]=!0):(n.lineTickMirror[o]=!1,n.lineMirror[o]=!1):(n.lineTickMirror[o]=!0,n.lineMirror[o]=!0):n.lineMirror[o]=!1,`showbackground`in s&&s.showbackground!==!1?(n.backgroundEnable[o]=!0,n.backgroundColor[o]=r(s.backgroundcolor)):n.backgroundEnable[o]=!1}};function c(e,t){var n=new o;return n.merge(e,t),n}e.exports=c}),24682:(function(e,t,n){var r=n(71828),i=n(7901),a=n(73972),o=n(49119),s=n(3277),c=n(65500),l=n(27659).NG,u=`gl3d`;e.exports=function(e,t,n){var i=t._basePlotModules.length>1;function a(t){if(!i&&r.validate(e[t],c[t]))return e[t]}o(e,t,n,{type:u,attributes:c,handleDefaults:d,fullLayout:t,font:t.font,fullData:n,getDfltFromLayout:a,autotypenumbersDflt:t.autotypenumbers,paper_bgcolor:t.paper_bgcolor,calendar:t.calendar})};function d(e,t,n,r){for(var o=n(`bgcolor`),c=i.combine(o,r.paper_bgcolor),d=[`up`,`center`,`eye`],f=0;f<d.length;f++)n(`camera.`+d[f]+`.x`),n(`camera.`+d[f]+`.y`),n(`camera.`+d[f]+`.z`);n(`camera.projection.type`);var p=!!n(`aspectratio.x`)&&!!n(`aspectratio.y`)&&!!n(`aspectratio.z`),m=n(`aspectmode`,p?`manual`:`auto`);p||(e.aspectratio=t.aspectratio={x:1,y:1,z:1},m===`manual`&&(t.aspectmode=`auto`),e.aspectmode=t.aspectmode);var h=l(r.fullData,u,r.id);s(e,t,{font:r.font,scene:r.id,data:h,bgColor:c,calendar:r.calendar,autotypenumbersDflt:r.autotypenumbersDflt,fullLayout:r.fullLayout}),a.getComponentMethod(`annotations3d`,`handleDefaults`)(e,t,r);var g=r.getDfltFromLayout(`dragmode`);if(g!==!1&&!g)if(g=`orbit`,e.camera&&e.camera.up){var _=e.camera.up.x,v=e.camera.up.y,y=e.camera.up.z;y!==0&&(!_||!v||!y||y/Math.sqrt(_*_+v*v+y*y)>.999)&&(g=`turntable`)}else g=`turntable`;n(`dragmode`,g),n(`hovermode`,r.getDfltFromLayout(`hovermode`))}}),65500:(function(e,t,n){var r=n(77894),i=n(27670).Y,a=n(1426).extendFlat,o=n(71828).counterRegex;function s(e,t,n){return{x:{valType:`number`,dflt:e,editType:`camera`},y:{valType:`number`,dflt:t,editType:`camera`},z:{valType:`number`,dflt:n,editType:`camera`},editType:`camera`}}e.exports={_arrayAttrRegexps:[o(`scene`,`.annotations`,!0)],bgcolor:{valType:`color`,dflt:`rgba(0,0,0,0)`,editType:`plot`},camera:{up:a(s(0,0,1),{}),center:a(s(0,0,0),{}),eye:a(s(1.25,1.25,1.25),{}),projection:{type:{valType:`enumerated`,values:[`perspective`,`orthographic`],dflt:`perspective`,editType:`calc`},editType:`calc`},editType:`camera`},domain:i({name:`scene`,editType:`plot`}),aspectmode:{valType:`enumerated`,values:[`auto`,`cube`,`data`,`manual`],dflt:`auto`,editType:`plot`,impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:`number`,min:0,editType:`plot`,impliedEdits:{"^aspectmode":`manual`}},y:{valType:`number`,min:0,editType:`plot`,impliedEdits:{"^aspectmode":`manual`}},z:{valType:`number`,min:0,editType:`plot`,impliedEdits:{"^aspectmode":`manual`}},editType:`plot`,impliedEdits:{aspectmode:`manual`}},xaxis:r,yaxis:r,zaxis:r,dragmode:{valType:`enumerated`,values:[`orbit`,`turntable`,`zoom`,`pan`,!1],editType:`plot`},hovermode:{valType:`enumerated`,values:[`closest`,!1],dflt:`closest`,editType:`modebar`},uirevision:{valType:`any`,editType:`none`},editType:`plot`,_deprecated:{cameraposition:{valType:`info_array`,editType:`camera`}}}}),13133:(function(e,t,n){var r=n(78614),i=[`xaxis`,`yaxis`,`zaxis`];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var o=a.prototype;o.merge=function(e){for(var t=0;t<3;++t){var n=e[i[t]];if(!n.visible){this.enabled[t]=!1,this.drawSides[t]=!1;continue}this.enabled[t]=n.showspikes,this.colors[t]=r(n.spikecolor),this.drawSides[t]=n.spikesides,this.lineWidth[t]=n.spikethickness}};function s(e){var t=new a;return t.merge(e),t}e.exports=s}),96085:(function(e,t,n){e.exports=c;var r=n(89298),i=n(71828),a=[`xaxis`,`yaxis`,`zaxis`],o=[0,0,0];function s(e){for(var t=[,,,],n=0;n<3;++n){for(var r=e[n],i=Array(r.length),a=0;a<r.length;++a)i[a]=r[a].x;t[n]=i}return t}function c(e){for(var t=e.axesOptions,n=e.glplot.axesPixels,c=e.fullSceneLayout,l=[[],[],[]],u=0;u<3;++u){var d=c[a[u]];if(d._length=(n[u].hi-n[u].lo)*n[u].pixelsPerDataUnit/e.dataScale[u],Math.abs(d._length)===1/0||isNaN(d._length))l[u]=[];else{d._input_range=d.range.slice(),d.range[0]=n[u].lo/e.dataScale[u],d.range[1]=n[u].hi/e.dataScale[u],d._m=1/(e.dataScale[u]*n[u].pixelsPerDataUnit),d.range[0]===d.range[1]&&(--d.range[0],d.range[1]+=1);var f=d.tickmode;if(d.tickmode===`auto`){d.tickmode=`linear`;var p=d.nticks||i.constrain(d._length/40,4,9);r.autoTicks(d,Math.abs(d.range[1]-d.range[0])/p)}for(var m=r.calcTicks(d,{msUTC:!0}),h=0;h<m.length;++h)m[h].x=m[h].x*e.dataScale[u],d.type===`date`&&(m[h].text=m[h].text.replace(/\<br\>/g,` `));l[u]=m,d.tickmode=f}}t.ticks=l;for(var u=0;u<3;++u){o[u]=.5*(e.glplot.bounds[0][u]+e.glplot.bounds[1][u]);for(var h=0;h<2;++h)t.bounds[h][u]=e.glplot.bounds[h][u]}e.contourLevels=s(l)}}),63538:(function(e){function t(e,t){var n=[0,0,0,0],r,i;for(r=0;r<4;++r)for(i=0;i<4;++i)n[i]+=e[4*r+i]*t[r];return n}function n(e,n){return t(e.projection,t(e.view,t(e.model,[n[0],n[1],n[2],1])))}e.exports=n}),33539:(function(e,t,n){var r=n(9330).gl_plot3d,i=r.createCamera,a=r.createScene,o=n(40372),s=n(38520),c=n(73972),l=n(71828),u=l.preserveDrawingBuffer(),d=n(89298),f=n(30211),p=n(78614),m=n(58617),h=n(63538),g=n(30422),_=n(13133),v=n(96085),y,b;function x(e,t){var n=document.createElement(`div`),r=e.container;this.graphDiv=e.graphDiv;var i=document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);i.style.position=`absolute`,i.style.top=i.style.left=`0px`,i.style.width=i.style.height=`100%`,i.style[`z-index`]=20,i.style[`pointer-events`]=`none`,n.appendChild(i),this.svgContainer=i,n.id=e.id,n.style.position=`absolute`,n.style.top=n.style.left=`0px`,n.style.width=n.style.height=`100%`,r.appendChild(n),this.fullLayout=t,this.id=e.id||`scene`,this.fullSceneLayout=t[this.id],this.plotArgs=[[],{},{}],this.axesOptions=g(t,t[this.id]),this.spikeOptions=_(t[this.id]),this.container=n,this.staticMode=!!e.staticPlot,this.pixelRatio=this.pixelRatio||e.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=c.getComponentMethod(`annotations3d`,`convert`),this.drawAnnotations=c.getComponentMethod(`annotations3d`,`draw`),this.initializeGLPlot()}var S=x.prototype;S.prepareOptions=function(){var e=this,t={canvas:e.canvas,gl:e.gl,glOptions:{preserveDrawingBuffer:u,premultipliedAlpha:!0,antialias:!0},container:e.container,axes:e.axesOptions,spikes:e.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:e.camera,pixelRatio:e.pixelRatio};if(e.staticMode){if(!b&&(y=document.createElement(`canvas`),b=o({canvas:y,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!b))throw Error(`error creating static canvas/context for image server`);t.gl=b,t.canvas=y}return t};var C=!0;S.tryCreatePlot=function(){var e=this,t=e.prepareOptions(),n=!0;try{e.glplot=a(t)}catch{if(e.staticMode||!C||u)n=!1;else{l.warn([`webgl setup failed possibly due to`,`false preserveDrawingBuffer config.`,`The mobile/tablet device may not be detected by is-mobile module.`,`Enabling preserveDrawingBuffer in second attempt to create webgl scene...`].join(` `));try{u=t.glOptions.preserveDrawingBuffer=!0,e.glplot=a(t)}catch{u=t.glOptions.preserveDrawingBuffer=!1,n=!1}}}return C=!1,n},S.initializeGLCamera=function(){var e=this,t=e.fullSceneLayout.camera,n=t.projection.type===`orthographic`;e.camera=i(e.container,{center:[t.center.x,t.center.y,t.center.z],eye:[t.eye.x,t.eye.y,t.eye.z],up:[t.up.x,t.up.y,t.up.z],_ortho:n,zoomMin:.01,zoomMax:100,mode:`orbit`})},S.initializeGLPlot=function(){var e=this;if(e.initializeGLCamera(),!e.tryCreatePlot())return m(e);e.traces={},e.make4thDimension();var t=e.graphDiv,n=t.layout,r=function(){var t={};return e.isCameraChanged(n)&&(t[e.id+`.camera`]=e.getCamera()),e.isAspectChanged(n)&&(t[e.id+`.aspectratio`]=e.glplot.getAspectratio(),n[e.id].aspectmode!==`manual`&&(e.fullSceneLayout.aspectmode=n[e.id].aspectmode=t[e.id+`.aspectmode`]=`manual`)),t},i=function(e){if(e.fullSceneLayout.dragmode!==!1){var t=r();e.saveLayout(n),e.graphDiv.emit(`plotly_relayout`,t)}};return e.glplot.canvas&&(e.glplot.canvas.addEventListener(`mouseup`,function(){i(e)}),e.glplot.canvas.addEventListener(`wheel`,function(n){if(t._context._scrollZoom.gl3d){if(e.camera._ortho){var r=n.deltaX>n.deltaY?1.1:1/1.1,a=e.glplot.getAspectratio();e.glplot.setAspectratio({x:r*a.x,y:r*a.y,z:r*a.z})}i(e)}},s?{passive:!1}:!1),e.glplot.canvas.addEventListener(`mousemove`,function(){if(e.fullSceneLayout.dragmode!==!1&&e.camera.mouseListener.buttons!==0){var t=r();e.graphDiv.emit(`plotly_relayouting`,t)}}),e.staticMode||e.glplot.canvas.addEventListener(`webglcontextlost`,function(n){t&&t.emit&&t.emit(`plotly_webglcontextlost`,{event:n,layer:e.id})},!1)),e.glplot.oncontextloss=function(){e.recoverContext()},e.glplot.onrender=function(){e.render()},!0},S.render=function(){var e=this,t=e.graphDiv,n,r=e.svgContainer,i=e.container.getBoundingClientRect();t._fullLayout._calcInverseTransform(t);var a=t._fullLayout._invScaleX,o=t._fullLayout._invScaleY,s=i.width*a,c=i.height*o;r.setAttributeNS(null,`viewBox`,`0 0 `+s+` `+c),r.setAttributeNS(null,`width`,s),r.setAttributeNS(null,`height`,c),v(e),e.glplot.axes.update(e.axesOptions);for(var u=Object.keys(e.traces),p=null,m=e.glplot.selection,g=0;g<u.length;++g)n=e.traces[u[g]],n.data.hoverinfo!==`skip`&&n.handlePick(m)&&(p=n),n.setContourLevels&&n.setContourLevels();function _(t,n,r){var i=e.fullSceneLayout[t+`axis`];return i.type!==`log`&&(n=i.d2l(n)),d.hoverLabelText(i,n,r)}if(p!==null){var y=h(e.glplot.cameraParams,m.dataCoordinate);n=p.data;var b=t._fullData[n.index],x=m.index,S={xLabel:_(`x`,m.traceCoordinate[0],n.xhoverformat),yLabel:_(`y`,m.traceCoordinate[1],n.yhoverformat),zLabel:_(`z`,m.traceCoordinate[2],n.zhoverformat)},C=f.castHoverinfo(b,e.fullLayout,x),w=(C||``).split(`+`),T=C&&C===`all`;!b.hovertemplate&&!T&&(w.indexOf(`x`)===-1&&(S.xLabel=void 0),w.indexOf(`y`)===-1&&(S.yLabel=void 0),w.indexOf(`z`)===-1&&(S.zLabel=void 0),w.indexOf(`text`)===-1&&(m.textLabel=void 0),w.indexOf(`name`)===-1&&(p.name=void 0));var E,D=[];n.type===`cone`||n.type===`streamtube`?(S.uLabel=_(`x`,m.traceCoordinate[3],n.uhoverformat),(T||w.indexOf(`u`)!==-1)&&D.push(`u: `+S.uLabel),S.vLabel=_(`y`,m.traceCoordinate[4],n.vhoverformat),(T||w.indexOf(`v`)!==-1)&&D.push(`v: `+S.vLabel),S.wLabel=_(`z`,m.traceCoordinate[5],n.whoverformat),(T||w.indexOf(`w`)!==-1)&&D.push(`w: `+S.wLabel),S.normLabel=m.traceCoordinate[6].toPrecision(3),(T||w.indexOf(`norm`)!==-1)&&D.push(`norm: `+S.normLabel),n.type===`streamtube`&&(S.divergenceLabel=m.traceCoordinate[7].toPrecision(3),(T||w.indexOf(`divergence`)!==-1)&&D.push(`divergence: `+S.divergenceLabel)),m.textLabel&&D.push(m.textLabel),E=D.join(`<br>`)):n.type===`isosurface`||n.type===`volume`?(S.valueLabel=d.hoverLabelText(e._mockAxis,e._mockAxis.d2l(m.traceCoordinate[3]),n.valuehoverformat),D.push(`value: `+S.valueLabel),m.textLabel&&D.push(m.textLabel),E=D.join(`<br>`)):E=m.textLabel;var O={x:m.traceCoordinate[0],y:m.traceCoordinate[1],z:m.traceCoordinate[2],data:b._input,fullData:b,curveNumber:b.index,pointNumber:x};f.appendArrayPointValue(O,b,x),n._module.eventData&&(O=b._module.eventData(O,m,b,{},x));var k={points:[O]};if(e.fullSceneLayout.hovermode){var A=[];f.loneHover({trace:b,x:(.5+.5*y[0]/y[3])*s,y:(.5-.5*y[1]/y[3])*c,xLabel:S.xLabel,yLabel:S.yLabel,zLabel:S.zLabel,text:E,name:p.name,color:f.castHoverOption(b,x,`bgcolor`)||p.color,borderColor:f.castHoverOption(b,x,`bordercolor`),fontFamily:f.castHoverOption(b,x,`font.family`),fontSize:f.castHoverOption(b,x,`font.size`),fontColor:f.castHoverOption(b,x,`font.color`),nameLength:f.castHoverOption(b,x,`namelength`),textAlign:f.castHoverOption(b,x,`align`),hovertemplate:l.castOption(b,x,`hovertemplate`),hovertemplateLabels:l.extendFlat({},O,S),eventData:[O]},{container:r,gd:t,inOut_bbox:A}),O.bbox=A[0]}m.buttons&&m.distance<5?t.emit(`plotly_click`,k):t.emit(`plotly_hover`,k),this.oldEventData=k}else f.loneUnhover(r),this.oldEventData&&t.emit(`plotly_unhover`,this.oldEventData),this.oldEventData=void 0;e.drawAnnotations(e)},S.recoverContext=function(){var e=this;e.glplot.dispose();var t=function(){if(e.glplot.gl.isContextLost()){requestAnimationFrame(t);return}if(!e.initializeGLPlot()){l.error(`Catastrophic and unrecoverable WebGL error. Context lost.`);return}e.plot.apply(e,e.plotArgs)};requestAnimationFrame(t)};var w=[`xaxis`,`yaxis`,`zaxis`];function T(e,t,n){for(var r=e.fullSceneLayout,i=0;i<3;i++){var a=w[i],o=a.charAt(0),s=r[a],c=t[o],u=t[o+`calendar`],d=t[`_`+o+`length`];if(!l.isArrayOrTypedArray(c))n[0][i]=Math.min(n[0][i],0),n[1][i]=Math.max(n[1][i],d-1);else for(var f,p=0;p<(d||c.length);p++)if(l.isArrayOrTypedArray(c[p]))for(var m=0;m<c[p].length;++m)f=s.d2l(c[p][m],0,u),!isNaN(f)&&isFinite(f)&&(n[0][i]=Math.min(n[0][i],f),n[1][i]=Math.max(n[1][i],f));else f=s.d2l(c[p],0,u),!isNaN(f)&&isFinite(f)&&(n[0][i]=Math.min(n[0][i],f),n[1][i]=Math.max(n[1][i],f))}}function E(e,t){for(var n=e.fullSceneLayout,r=n.annotations||[],i=0;i<3;i++)for(var a=w[i],o=a.charAt(0),s=n[a],c=0;c<r.length;c++){var l=r[c];if(l.visible){var u=s.r2l(l[o]);!isNaN(u)&&isFinite(u)&&(t[0][i]=Math.min(t[0][i],u),t[1][i]=Math.max(t[1][i],u))}}}S.plot=function(e,t,n){var r=this;if(r.plotArgs=[e,t,n],!r.glplot.contextLost){var i,a,o,s,c,l,u=t[r.id],d=n[r.id];r.fullLayout=t,r.fullSceneLayout=u,r.axesOptions.merge(t,u),r.spikeOptions.merge(u),r.setViewport(u),r.updateFx(u.dragmode,u.hovermode),r.camera.enableWheel=r.graphDiv._context._scrollZoom.gl3d,r.glplot.setClearColor(p(u.bgcolor)),r.setConvert(c),e?Array.isArray(e)||(e=[e]):e=[];var f=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(o=0;o<e.length;++o)i=e[o],!(i.visible!==!0||i._length===0)&&T(this,i,f);E(this,f);var m=[1,1,1];for(s=0;s<3;++s)f[1][s]===f[0][s]?m[s]=1:m[s]=1/(f[1][s]-f[0][s]);for(r.dataScale=m,r.convertAnnotations(this),o=0;o<e.length;++o)i=e[o],!(i.visible!==!0||i._length===0)&&(a=r.traces[i.uid],a?a.data.type===i.type?a.update(i):(a.dispose(),a=i._module.plot(this,i),r.traces[i.uid]=a):(a=i._module.plot(this,i),r.traces[i.uid]=a),a.name=i.name);var h=Object.keys(r.traces);traceIdLoop:for(o=0;o<h.length;++o){for(s=0;s<e.length;++s)if(e[s].uid===h[o]&&e[s].visible===!0&&e[s]._length!==0)continue traceIdLoop;a=r.traces[h[o]],a.dispose(),delete r.traces[h[o]]}r.glplot.objects.sort(function(e,t){return e._trace.data.index-t._trace.data.index});var g=[[0,0,0],[0,0,0]],_=[],v={};for(o=0;o<3;++o){if(c=u[w[o]],l=c.type,l in v?(v[l].acc*=m[o],v[l].count+=1):v[l]={acc:m[o],count:1},c.autorange){g[0][o]=1/0,g[1][o]=-1/0;var y=r.glplot.objects,b=r.fullSceneLayout.annotations||[],x=c._name.charAt(0);for(s=0;s<y.length;s++){var S=y[s],C=S.bounds,D=S._trace.data._pad||0;S.constructor.name===`ErrorBars`&&c._lowerLogErrorBound?g[0][o]=Math.min(g[0][o],c._lowerLogErrorBound):g[0][o]=Math.min(g[0][o],C[0][o]/m[o]-D),g[1][o]=Math.max(g[1][o],C[1][o]/m[o]+D)}for(s=0;s<b.length;s++){var O=b[s];if(O.visible){var k=c.r2l(O[x]);g[0][o]=Math.min(g[0][o],k),g[1][o]=Math.max(g[1][o],k)}}if(`rangemode`in c&&c.rangemode===`tozero`&&(g[0][o]=Math.min(g[0][o],0),g[1][o]=Math.max(g[1][o],0)),g[0][o]>g[1][o])g[0][o]=-1,g[1][o]=1;else{var A=g[1][o]-g[0][o];g[0][o]-=A/32,g[1][o]+=A/32}if(c.autorange===`reversed`){var j=g[0][o];g[0][o]=g[1][o],g[1][o]=j}}else{var M=c.range;g[0][o]=c.r2l(M[0]),g[1][o]=c.r2l(M[1])}g[0][o]===g[1][o]&&(--g[0][o],g[1][o]+=1),_[o]=g[1][o]-g[0][o],r.glplot.setBounds(o,{min:g[0][o]*m[o],max:g[1][o]*m[o]})}var N,P=u.aspectmode;if(P===`cube`)N=[1,1,1];else if(P===`manual`){var F=u.aspectratio;N=[F.x,F.y,F.z]}else if(P===`auto`||P===`data`){var I=[1,1,1];for(o=0;o<3;++o){c=u[w[o]],l=c.type;var L=v[l];I[o]=L.acc**(1/L.count)/m[o]}N=P===`data`||Math.max.apply(null,I)/Math.min.apply(null,I)<=4?I:[1,1,1]}else throw Error(`scene.js aspectRatio was not one of the enumerated types`);u.aspectratio.x=d.aspectratio.x=N[0],u.aspectratio.y=d.aspectratio.y=N[1],u.aspectratio.z=d.aspectratio.z=N[2],r.glplot.setAspectratio(u.aspectratio),r.viewInitial.aspectratio||(r.viewInitial.aspectratio={x:u.aspectratio.x,y:u.aspectratio.y,z:u.aspectratio.z}),r.viewInitial.aspectmode||(r.viewInitial.aspectmode=u.aspectmode);var R=u.domain||null,z=t._size||null;if(R&&z){var B=r.container.style;B.position=`absolute`,B.left=z.l+R.x[0]*z.w+`px`,B.top=z.t+(1-R.y[1])*z.h+`px`,B.width=z.w*(R.x[1]-R.x[0])+`px`,B.height=z.h*(R.y[1]-R.y[0])+`px`}r.glplot.redraw()}},S.destroy=function(){var e=this;e.glplot&&=(e.camera.mouseListener.enabled=!1,e.container.removeEventListener(`wheel`,e.camera.wheelListener),e.camera=null,e.glplot.dispose(),e.container.parentNode.removeChild(e.container),null)};function D(e){return[[e.eye.x,e.eye.y,e.eye.z],[e.center.x,e.center.y,e.center.z],[e.up.x,e.up.y,e.up.z]]}function O(e){return{up:{x:e.up[0],y:e.up[1],z:e.up[2]},center:{x:e.center[0],y:e.center[1],z:e.center[2]},eye:{x:e.eye[0],y:e.eye[1],z:e.eye[2]},projection:{type:e._ortho===!0?`orthographic`:`perspective`}}}S.getCamera=function(){var e=this;return e.camera.view.recalcMatrix(e.camera.view.lastT()),O(e.camera)},S.setViewport=function(e){var t=this,n=e.camera;t.camera.lookAt.apply(this,D(n)),t.glplot.setAspectratio(e.aspectratio),n.projection.type===`orthographic`!==t.camera._ortho&&(t.glplot.redraw(),t.glplot.clearRGBA(),t.glplot.dispose(),t.initializeGLPlot())},S.isCameraChanged=function(e){var t=this,n=t.getCamera(),r=l.nestedProperty(e,t.id+`.camera`).get();function i(e,t,n,r){var i=[`up`,`center`,`eye`],a=[`x`,`y`,`z`];return t[i[n]]&&e[i[n]][a[r]]===t[i[n]][a[r]]}var a=!1;if(r===void 0)a=!0;else{for(var o=0;o<3;o++)for(var s=0;s<3;s++)if(!i(n,r,o,s)){a=!0;break}(!r.projection||n.projection&&n.projection.type!==r.projection.type)&&(a=!0)}return a},S.isAspectChanged=function(e){var t=this,n=t.glplot.getAspectratio(),r=l.nestedProperty(e,t.id+`.aspectratio`).get();return r===void 0||r.x!==n.x||r.y!==n.y||r.z!==n.z},S.saveLayout=function(e){var t=this,n=t.fullLayout,r,i,a,o,s,u,d=t.isCameraChanged(e),f=t.isAspectChanged(e),p=d||f;if(p){var m={};d&&(r=t.getCamera(),i=l.nestedProperty(e,t.id+`.camera`),a=i.get(),m[t.id+`.camera`]=a),f&&(o=t.glplot.getAspectratio(),s=l.nestedProperty(e,t.id+`.aspectratio`),u=s.get(),m[t.id+`.aspectratio`]=u),c.call(`_storeDirectGUIEdit`,e,n._preGUI,m),d&&(i.set(r),l.nestedProperty(n,t.id+`.camera`).set(r)),f&&(s.set(o),l.nestedProperty(n,t.id+`.aspectratio`).set(o),t.glplot.redraw())}return p},S.updateFx=function(e,t){var n=this,r=n.camera;if(r)if(e===`orbit`)r.mode=`orbit`,r.keyBindingMode=`rotate`;else if(e===`turntable`){r.up=[0,0,1],r.mode=`turntable`,r.keyBindingMode=`rotate`;var i=n.graphDiv,a=i._fullLayout,o=n.fullSceneLayout.camera,s=o.up.x,u=o.up.y,d=o.up.z;if(d/Math.sqrt(s*s+u*u+d*d)<.999){var f=n.id+`.camera.up`,p={x:0,y:0,z:1},m={};m[f]=p;var h=i.layout;c.call(`_storeDirectGUIEdit`,h,a._preGUI,m),o.up=p,l.nestedProperty(h,f).set(p)}}else r.keyBindingMode=e;n.fullSceneLayout.hovermode=t};function k(e,t,n){for(var r=0,i=n-1;r<i;++r,--i)for(var a=0;a<t;++a)for(var o=0;o<4;++o){var s=4*(t*r+a)+o,c=4*(t*i+a)+o,l=e[s];e[s]=e[c],e[c]=l}}function A(e,t,n){for(var r=0;r<n;++r)for(var i=0;i<t;++i){var a=4*(t*r+i),o=e[a+3];if(o>0)for(var s=255/o,c=0;c<3;++c)e[a+c]=Math.min(s*e[a+c],255)}}S.toImage=function(e){var t=this;e||=`png`,t.staticMode&&t.container.appendChild(y),t.glplot.redraw();var n=t.glplot.gl,r=n.drawingBufferWidth,i=n.drawingBufferHeight;n.bindFramebuffer(n.FRAMEBUFFER,null);var a=new Uint8Array(r*i*4);n.readPixels(0,0,r,i,n.RGBA,n.UNSIGNED_BYTE,a),k(a,r,i),A(a,r,i);var o=document.createElement(`canvas`);o.width=r,o.height=i;var s=o.getContext(`2d`,{willReadFrequently:!0}),c=s.createImageData(r,i);c.data.set(a),s.putImageData(c,0,0);var l;switch(e){case`jpeg`:l=o.toDataURL(`image/jpeg`);break;case`webp`:l=o.toDataURL(`image/webp`);break;default:l=o.toDataURL(`image/png`)}return t.staticMode&&t.container.removeChild(y),l},S.setConvert=function(){for(var e=this,t=0;t<3;t++){var n=e.fullSceneLayout[w[t]];d.setConvert(n,e.fullLayout),n.setScale=l.noop}},S.make4thDimension=function(){var e=this,t=e.graphDiv._fullLayout;e._mockAxis={type:`linear`,showexponent:`all`,exponentformat:`B`},d.setConvert(e._mockAxis,t)},e.exports=x}),90060:(function(e){e.exports=function(e,t,n,r){r||=e.length;for(var i=Array(r),a=0;a<r;a++)i[a]=[e[a],t[a],n[a]];return i}}),10820:(function(e,t,n){var r=n(41940),i=n(85594),a=n(22399),o=n(29241),s=n(53777),c=n(35025),l=n(1426).extendFlat,u=r({editType:`calc`});u.family.dflt=`"Open Sans", verdana, arial, sans-serif`,u.size.dflt=12,u.color.dflt=a.defaultLine,e.exports={font:u,title:{text:{valType:`string`,editType:`layoutstyle`},font:r({editType:`layoutstyle`}),xref:{valType:`enumerated`,dflt:`container`,values:[`container`,`paper`],editType:`layoutstyle`},yref:{valType:`enumerated`,dflt:`container`,values:[`container`,`paper`],editType:`layoutstyle`},x:{valType:`number`,min:0,max:1,dflt:.5,editType:`layoutstyle`},y:{valType:`number`,min:0,max:1,dflt:`auto`,editType:`layoutstyle`},xanchor:{valType:`enumerated`,dflt:`auto`,values:[`auto`,`left`,`center`,`right`],editType:`layoutstyle`},yanchor:{valType:`enumerated`,dflt:`auto`,values:[`auto`,`top`,`middle`,`bottom`],editType:`layoutstyle`},pad:l(c({editType:`layoutstyle`}),{}),editType:`layoutstyle`},uniformtext:{mode:{valType:`enumerated`,values:[!1,`hide`,`show`],dflt:!1,editType:`plot`},minsize:{valType:`number`,min:0,dflt:0,editType:`plot`},editType:`plot`},autosize:{valType:`boolean`,dflt:!1,editType:`none`},width:{valType:`number`,min:10,dflt:700,editType:`plot`},height:{valType:`number`,min:10,dflt:450,editType:`plot`},minreducedwidth:{valType:`number`,min:2,dflt:64,editType:`plot`},minreducedheight:{valType:`number`,min:2,dflt:64,editType:`plot`},margin:{l:{valType:`number`,min:0,dflt:80,editType:`plot`},r:{valType:`number`,min:0,dflt:80,editType:`plot`},t:{valType:`number`,min:0,dflt:100,editType:`plot`},b:{valType:`number`,min:0,dflt:80,editType:`plot`},pad:{valType:`number`,min:0,dflt:0,editType:`plot`},autoexpand:{valType:`boolean`,dflt:!0,editType:`plot`},editType:`plot`},computed:{valType:`any`,editType:`none`},paper_bgcolor:{valType:`color`,dflt:a.background,editType:`plot`},plot_bgcolor:{valType:`color`,dflt:a.background,editType:`layoutstyle`},autotypenumbers:{valType:`enumerated`,values:[`convert types`,`strict`],dflt:`convert types`,editType:`calc`},separators:{valType:`string`,editType:`plot`},hidesources:{valType:`boolean`,dflt:!1,editType:`plot`},showlegend:{valType:`boolean`,editType:`legend`},colorway:{valType:`colorlist`,dflt:a.defaults,editType:`calc`},datarevision:{valType:`any`,editType:`calc`},uirevision:{valType:`any`,editType:`none`},editrevision:{valType:`any`,editType:`none`},selectionrevision:{valType:`any`,editType:`none`},template:{valType:`any`,editType:`calc`},newshape:o.newshape,activeshape:o.activeshape,newselection:s.newselection,activeselection:s.activeselection,meta:{valType:`any`,arrayOk:!0,editType:`plot`},transition:l({},i.transition,{editType:`none`}),_deprecated:{title:{valType:`string`,editType:`layoutstyle`},titlefont:r({editType:`layoutstyle`})}}}),77734:(function(e,t,n){var r=n(78607),i=`1.10.1`,a=` <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors`,o=[` <a target="_blank" href="https://carto.com/">Carto</a>`,a].join(` `),s=[`Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>`,`under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>`,`|`,`Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors`,`under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>`].join(` `),c=[`Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>`,`under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>`,`|`,`Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors`,`under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>`].join(` `),l={"open-street-map":{id:`osm`,version:8,sources:{"plotly-osm-tiles":{type:`raster`,attribution:a,tiles:[`https://a.tile.openstreetmap.org/{z}/{x}/{y}.png`,`https://b.tile.openstreetmap.org/{z}/{x}/{y}.png`],tileSize:256}},layers:[{id:`plotly-osm-tiles`,type:`raster`,source:`plotly-osm-tiles`,minzoom:0,maxzoom:22}]},"white-bg":{id:`white-bg`,version:8,sources:{},layers:[{id:`white-bg`,type:`background`,paint:{"background-color":`#FFFFFF`},minzoom:0,maxzoom:22}]},"carto-positron":{id:`carto-positron`,version:8,sources:{"plotly-carto-positron":{type:`raster`,attribution:o,tiles:[`https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png`],tileSize:256}},layers:[{id:`plotly-carto-positron`,type:`raster`,source:`plotly-carto-positron`,minzoom:0,maxzoom:22}]},"carto-darkmatter":{id:`carto-darkmatter`,version:8,sources:{"plotly-carto-darkmatter":{type:`raster`,attribution:o,tiles:[`https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png`],tileSize:256}},layers:[{id:`plotly-carto-darkmatter`,type:`raster`,source:`plotly-carto-darkmatter`,minzoom:0,maxzoom:22}]},"stamen-terrain":{id:`stamen-terrain`,version:8,sources:{"plotly-stamen-terrain":{type:`raster`,attribution:s,tiles:[`https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png`],tileSize:256}},layers:[{id:`plotly-stamen-terrain`,type:`raster`,source:`plotly-stamen-terrain`,minzoom:0,maxzoom:22}]},"stamen-toner":{id:`stamen-toner`,version:8,sources:{"plotly-stamen-toner":{type:`raster`,attribution:s,tiles:[`https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png`],tileSize:256}},layers:[{id:`plotly-stamen-toner`,type:`raster`,source:`plotly-stamen-toner`,minzoom:0,maxzoom:22}]},"stamen-watercolor":{id:`stamen-watercolor`,version:8,sources:{"plotly-stamen-watercolor":{type:`raster`,attribution:c,tiles:[`https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png`],tileSize:256}},layers:[{id:`plotly-stamen-watercolor`,type:`raster`,source:`plotly-stamen-watercolor`,minzoom:0,maxzoom:22}]}},u=r(l);e.exports={requiredVersion:i,styleUrlPrefix:`mapbox://styles/mapbox/`,styleUrlSuffix:`v9`,styleValuesMapbox:[`basic`,`streets`,`outdoors`,`light`,`dark`,`satellite`,`satellite-streets`],styleValueDflt:`basic`,stylesNonMapbox:l,styleValuesNonMapbox:u,traceLayerPrefix:`plotly-trace-layer-`,layoutLayerPrefix:`plotly-layout-layer-`,wrongVersionErrorMsg:[`Your custom plotly.js bundle is not using the correct mapbox-gl version`,`Please install mapbox-gl@`+i+`.`].join(`
`),noAccessTokenErrorMsg:[`Missing Mapbox access token.`,`Mapbox trace type require a Mapbox access token to be registered.`,`For example:`,`  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });`,`More info here: https://www.mapbox.com/help/define-access-token/`].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",u.join(`, `),`or register a Mapbox access token to use a Mapbox-served style.`].join(`
`),multipleTokensErrorMsg:[`Set multiple mapbox access token across different mapbox subplot,`,`using first token found as mapbox-gl does not allow multipleaccess tokens on the same page.`].join(`
`),mapOnErrorMsg:`Mapbox error.`,mapboxLogo:{path0:`m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z`,path1:`M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z`,path2:`M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z`,polygon:`11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34`},styleRules:{map:`overflow:hidden;position:relative;`,"missing-css":`display:none;`,canary:`background-color:salmon;`,"ctrl-bottom-left":`position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;`,"ctrl-bottom-right":`position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;`,ctrl:`clear: both; pointer-events: auto; transform: translate(0, 0);`,"ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":`display: none;`,"ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":`display: block; margin-top:2px`,"ctrl-attrib.mapboxgl-compact:hover":`padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;`,"ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":`min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;`,"ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":`bottom: 0; right: 0`,"ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":`bottom: 0; left: 0`,"ctrl-bottom-left .mapboxgl-ctrl":`margin: 0 0 10px 10px; float: left;`,"ctrl-bottom-right .mapboxgl-ctrl":`margin: 0 10px 10px 0; float: right;`,"ctrl-attrib":`color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px`,"ctrl-attrib a":`color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px`,"ctrl-attrib a:hover":`color: inherit; text-decoration: underline;`,"ctrl-attrib .mapbox-improve-map":`font-weight: bold; margin-left: 2px;`,"attrib-empty":`display: none;`,"ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}}),13056:(function(e,t,n){var r=n(71828);e.exports=function(e,t){var n=e.split(` `),i=n[0],a=n[1],o=r.isArrayOrTypedArray(t)?r.mean(t):t,s=.5+o/100,c=1.5+o/100,l=[``,``],u=[0,0];switch(i){case`top`:l[0]=`top`,u[1]=-c;break;case`bottom`:l[0]=`bottom`,u[1]=c;break}switch(a){case`left`:l[1]=`right`,u[0]=-s;break;case`right`:l[1]=`left`,u[0]=s;break}return{anchor:l[0]&&l[1]?l.join(`-`):l[0]?l[0]:l[1]?l[1]:`center`,offset:u}}}),50101:(function(e,t,n){var r=n(44517),i=n(71828),a=i.strTranslate,o=i.strScale,s=n(27659).AU,c=n(77922),l=n(39898),u=n(91424),d=n(63893),f=n(10481),p=`mapbox`,m=t.constants=n(77734);t.name=p,t.attr=`subplot`,t.idRoot=p,t.idRegex=t.attrRegex=i.counterRegex(p),t.attributes={subplot:{valType:`subplotid`,dflt:`mapbox`,editType:`calc`}},t.layoutAttributes=n(23585),t.supplyLayoutDefaults=n(77882),t.plot=function(e){var t=e._fullLayout,n=e.calcdata,a=t._subplots[p];if(r.version!==m.requiredVersion)throw Error(m.wrongVersionErrorMsg);r.accessToken=h(e,a);for(var o=0;o<a.length;o++){var c=a[o],l=s(n,p,c),u=t[c],d=u._subplot;d||(d=new f(e,c),t[c]._subplot=d),d.viewInitial||={center:i.extendFlat({},u.center),zoom:u.zoom,bearing:u.bearing,pitch:u.pitch},d.plot(l,t,e._promises)}},t.clean=function(e,t,n,r){for(var i=r._subplots[p]||[],a=0;a<i.length;a++){var o=i[a];!t[o]&&r[o]._subplot&&r[o]._subplot.destroy()}},t.toSVG=function(e){for(var t=e._fullLayout,n=t._subplots[p],r=t._size,i=0;i<n.length;i++){var s=t[n[i]],f=s.domain,h=s._subplot.toImage(`png`);t._glimages.append(`svg:image`).attr({xmlns:c.svg,"xlink:href":h,x:r.l+r.w*f.x[0],y:r.t+r.h*(1-f.y[1]),width:r.w*(f.x[1]-f.x[0]),height:r.h*(f.y[1]-f.y[0]),preserveAspectRatio:`none`});var g=l.select(s._subplot.div);if(g.select(`.mapboxgl-ctrl-logo`).node().offsetParent!==null){var _=t._glimages.append(`g`);_.attr(`transform`,a(r.l+r.w*f.x[0]+10,r.t+r.h*(1-f.y[0])-31)),_.append(`path`).attr(`d`,m.mapboxLogo.path0).style({opacity:.9,fill:`#ffffff`,"enable-background":`new`}),_.append(`path`).attr(`d`,m.mapboxLogo.path1).style(`opacity`,.35).style(`enable-background`,`new`),_.append(`path`).attr(`d`,m.mapboxLogo.path2).style(`opacity`,.35).style(`enable-background`,`new`),_.append(`polygon`).attr(`points`,m.mapboxLogo.polygon).style({opacity:.9,fill:`#ffffff`,"enable-background":`new`})}var v=g.select(`.mapboxgl-ctrl-attrib`).text().replace(`Improve this map`,``),y=t._glimages.append(`g`),b=y.append(`text`);b.text(v).classed(`static-attribution`,!0).attr({"font-size":12,"font-family":`Arial`,color:`rgba(0, 0, 0, 0.75)`,"text-anchor":`end`,"data-unformatted":v});var x=u.bBox(b.node()),S=r.w*(f.x[1]-f.x[0]);if(x.width>S/2){var C=v.split(`|`).join(`<br>`);b.text(C).attr(`data-unformatted`,C).call(d.convertToTspans,e),x=u.bBox(b.node())}b.attr(`transform`,a(-3,-x.height+8)),y.insert(`rect`,`.static-attribution`).attr({x:-x.width-6,y:-x.height-3,width:x.width+6,height:x.height+3,fill:`rgba(255, 255, 255, 0.75)`});var w=1;x.width+6>S&&(w=S/(x.width+6));var T=[r.l+r.w*f.x[1],r.t+r.h*(1-f.y[0])];y.attr(`transform`,a(T[0],T[1])+o(w))}};function h(e,t){var n=e._fullLayout;if(e._context.mapboxAccessToken===``)return``;for(var r=[],a=[],o=!1,s=!1,c=0;c<t.length;c++){var l=n[t[c]],u=l.accesstoken;g(l.style)&&(u?i.pushUnique(r,u):(g(l._input.style)&&(i.error(`Uses Mapbox map style, but did not set an access token.`),o=!0),s=!0)),u&&i.pushUnique(a,u)}if(s){var d=o?m.noAccessTokenErrorMsg:m.missingStyleErrorMsg;throw i.error(d),Error(d)}return r.length?(r.length>1&&i.warn(m.multipleTokensErrorMsg),r[0]):(a.length&&i.log([`Listed mapbox access token(s)`,a.join(`,`),`but did not use a Mapbox map style, ignoring token(s).`].join(` `)),``)}function g(e){return typeof e==`string`&&(m.styleValuesMapbox.indexOf(e)!==-1||e.indexOf(`mapbox://`)===0)}t.updateFx=function(e){for(var t=e._fullLayout,n=t._subplots[p],r=0;r<n.length;r++)t[n[r]]._subplot.updateFx(t)}}),67911:(function(e,t,n){var r=n(71828),i=n(63893).sanitizeHTML,a=n(13056),o=n(77734);function s(e,t){this.subplot=e,this.uid=e.uid+`-`+t,this.index=t,this.idSource=`source-`+this.uid,this.idLayer=o.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var c=s.prototype;c.update=function(e){this.visible?this.needsNewImage(e)?this.updateImage(e):this.needsNewSource(e)?(this.removeLayer(),this.updateSource(e),this.updateLayer(e)):this.needsNewLayer(e)?this.updateLayer(e):this.updateStyle(e):(this.updateSource(e),this.updateLayer(e)),this.visible=l(e)},c.needsNewImage=function(e){return this.subplot.map.getSource(this.idSource)&&this.sourceType===`image`&&e.sourcetype===`image`&&(this.source!==e.source||JSON.stringify(this.coordinates)!==JSON.stringify(e.coordinates))},c.needsNewSource=function(e){return this.sourceType!==e.sourcetype||JSON.stringify(this.source)!==JSON.stringify(e.source)||this.layerType!==e.type},c.needsNewLayer=function(e){return this.layerType!==e.type||this.below!==this.subplot.belowLookup[`layout-`+this.index]},c.lookupBelow=function(){return this.subplot.belowLookup[`layout-`+this.index]},c.updateImage=function(e){this.subplot.map.getSource(this.idSource).updateImage({url:e.source,coordinates:e.coordinates});var t=this.findFollowingMapboxLayerId(this.lookupBelow());t!==null&&this.subplot.map.moveLayer(this.idLayer,t)},c.updateSource=function(e){var t=this.subplot.map;if(t.getSource(this.idSource)&&t.removeSource(this.idSource),this.sourceType=e.sourcetype,this.source=e.source,l(e)){var n=d(e);t.addSource(this.idSource,n)}},c.findFollowingMapboxLayerId=function(e){if(e===`traces`)for(var t=this.subplot.getMapLayers(),n=0;n<t.length;n++){var r=t[n].id;if(typeof r==`string`&&r.indexOf(o.traceLayerPrefix)===0){e=r;break}}return e},c.updateLayer=function(e){var t=this.subplot,n=u(e),r=this.lookupBelow(),i=this.findFollowingMapboxLayerId(r);this.removeLayer(),l(e)&&t.addLayer({id:this.idLayer,source:this.idSource,"source-layer":e.sourcelayer||``,type:e.type,minzoom:e.minzoom,maxzoom:e.maxzoom,layout:n.layout,paint:n.paint},i),this.layerType=e.type,this.below=r},c.updateStyle=function(e){if(l(e)){var t=u(e);this.subplot.setOptions(this.idLayer,`setLayoutProperty`,t.layout),this.subplot.setOptions(this.idLayer,`setPaintProperty`,t.paint)}},c.removeLayer=function(){var e=this.subplot.map;e.getLayer(this.idLayer)&&e.removeLayer(this.idLayer)},c.dispose=function(){var e=this.subplot.map;e.getLayer(this.idLayer)&&e.removeLayer(this.idLayer),e.getSource(this.idSource)&&e.removeSource(this.idSource)};function l(e){if(!e.visible)return!1;var t=e.source;if(Array.isArray(t)&&t.length>0){for(var n=0;n<t.length;n++)if(typeof t[n]!=`string`||t[n].length===0)return!1;return!0}return r.isPlainObject(t)||typeof t==`string`&&t.length>0}function u(e){var t={},n={};switch(e.type){case`circle`:r.extendFlat(n,{"circle-radius":e.circle.radius,"circle-color":e.color,"circle-opacity":e.opacity});break;case`line`:r.extendFlat(n,{"line-width":e.line.width,"line-color":e.color,"line-opacity":e.opacity,"line-dasharray":e.line.dash});break;case`fill`:r.extendFlat(n,{"fill-color":e.color,"fill-outline-color":e.fill.outlinecolor,"fill-opacity":e.opacity});break;case`symbol`:var i=e.symbol,o=a(i.textposition,i.iconsize);r.extendFlat(t,{"icon-image":i.icon+`-15`,"icon-size":i.iconsize/10,"text-field":i.text,"text-size":i.textfont.size,"text-anchor":o.anchor,"text-offset":o.offset,"symbol-placement":i.placement}),r.extendFlat(n,{"icon-color":e.color,"text-color":i.textfont.color,"text-opacity":e.opacity});break;case`raster`:r.extendFlat(n,{"raster-fade-duration":0,"raster-opacity":e.opacity});break}return{layout:t,paint:n}}function d(e){var t=e.sourcetype,n=e.source,r={type:t},a;return t===`geojson`?a=`data`:t===`vector`?a=typeof n==`string`?`url`:`tiles`:t===`raster`?(a=`tiles`,r.tileSize=256):t===`image`&&(a=`url`,r.coordinates=e.coordinates),r[a]=n,e.sourceattribution&&(r.attribution=i(e.sourceattribution)),r}e.exports=function(e,t,n){var r=new s(e,t);return r.update(n),r}}),23585:(function(e,t,n){var r=n(71828),i=n(7901).defaultLine,a=n(27670).Y,o=n(41940),s=n(82196).textposition,c=n(30962).overrideAll,l=n(44467).templatedArray,u=n(77734),d=o({});d.family.dflt=`Open Sans Regular, Arial Unicode MS Regular`;var f=e.exports=c({_arrayAttrRegexps:[r.counterRegex(`mapbox`,`.layers`,!0)],domain:a({name:`mapbox`}),accesstoken:{valType:`string`,noBlank:!0,strict:!0},style:{valType:`any`,values:u.styleValuesMapbox.concat(u.styleValuesNonMapbox),dflt:u.styleValueDflt},center:{lon:{valType:`number`,dflt:0},lat:{valType:`number`,dflt:0}},zoom:{valType:`number`,dflt:1},bearing:{valType:`number`,dflt:0},pitch:{valType:`number`,dflt:0},bounds:{west:{valType:`number`},east:{valType:`number`},south:{valType:`number`},north:{valType:`number`}},layers:l(`layer`,{visible:{valType:`boolean`,dflt:!0},sourcetype:{valType:`enumerated`,values:[`geojson`,`vector`,`raster`,`image`],dflt:`geojson`},source:{valType:`any`},sourcelayer:{valType:`string`,dflt:``},sourceattribution:{valType:`string`},type:{valType:`enumerated`,values:[`circle`,`line`,`fill`,`symbol`,`raster`],dflt:`circle`},coordinates:{valType:`any`},below:{valType:`string`},color:{valType:`color`,dflt:i},opacity:{valType:`number`,min:0,max:1,dflt:1},minzoom:{valType:`number`,min:0,max:24,dflt:0},maxzoom:{valType:`number`,min:0,max:24,dflt:24},circle:{radius:{valType:`number`,dflt:15}},line:{width:{valType:`number`,dflt:2},dash:{valType:`data_array`}},fill:{outlinecolor:{valType:`color`,dflt:i}},symbol:{icon:{valType:`string`,dflt:`marker`},iconsize:{valType:`number`,dflt:10},text:{valType:`string`,dflt:``},placement:{valType:`enumerated`,values:[`point`,`line`,`line-center`],dflt:`point`},textfont:d,textposition:r.extendFlat({},s,{arrayOk:!1})}})},`plot`,`from-root`);f.uirevision={valType:`any`,editType:`none`}}),77882:(function(e,t,n){var r=n(71828),i=n(49119),a=n(85501),o=n(23585);e.exports=function(e,t,n){i(e,t,n,{type:`mapbox`,attributes:o,handleDefaults:s,partition:`y`,accessToken:t._mapboxAccessToken})};function s(e,t,n,r){n(`accesstoken`,r.accessToken),n(`style`),n(`center.lon`),n(`center.lat`),n(`zoom`),n(`bearing`),n(`pitch`);var i=n(`bounds.west`),o=n(`bounds.east`),s=n(`bounds.south`),l=n(`bounds.north`);(i===void 0||o===void 0||s===void 0||l===void 0)&&delete t.bounds,a(e,t,{name:`layers`,handleItemDefaults:c}),t._input=e}function c(e,t){function n(n,i){return r.coerce(e,t,o.layers,n,i)}if(n(`visible`)){var i=n(`sourcetype`),a=i===`raster`||i===`image`;n(`source`),n(`sourceattribution`),i===`vector`&&n(`sourcelayer`),i===`image`&&n(`coordinates`);var s;a&&(s=`raster`);var c=n(`type`,s);a&&c!==`raster`&&(c=t.type=`raster`,r.log(`Source types *raster* and *image* must drawn *raster* layer type.`)),n(`below`),n(`color`),n(`opacity`),n(`minzoom`),n(`maxzoom`),c===`circle`&&n(`circle.radius`),c===`line`&&(n(`line.width`),n(`line.dash`)),c===`fill`&&n(`fill.outlinecolor`),c===`symbol`&&(n(`symbol.icon`),n(`symbol.iconsize`),n(`symbol.text`),r.coerceFont(n,`symbol.textfont`),n(`symbol.textposition`),n(`symbol.placement`))}}}),10481:(function(e,t,n){var r=n(44517),i=n(71828),a=n(41327),o=n(73972),s=n(89298),c=n(28569),l=n(30211),u=n(64505),d=u.drawMode,f=u.selectMode,p=n(47322).prepSelect,m=n(47322).clearOutline,h=n(47322).clearSelectionsCache,g=n(47322).selectOnClick,_=n(77734),v=n(67911);function y(e,t){this.id=t,this.gd=e;var n=e._fullLayout,r=e._context;this.container=n._glcontainer.node(),this.isStatic=r.staticPlot,this.uid=n._uid+`-`+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(n),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var b=y.prototype;b.plot=function(e,t,n){var r=this,i=t[r.id];r.map&&i.accesstoken!==r.accessToken&&(r.map.remove(),r.map=null,r.styleObj=null,r.traceHash={},r.layerList=[]);var a=r.map?new Promise(function(n,i){r.updateMap(e,t,n,i)}):new Promise(function(n,i){r.createMap(e,t,n,i)});n.push(a)},b.createMap=function(e,t,n,i){var o=this,s=t[o.id],c=o.styleObj=S(s.style);o.accessToken=s.accesstoken;var l=s.bounds,u=l?[[l.west,l.south],[l.east,l.north]]:null,d=o.map=new r.Map({container:o.div,style:c.style,center:w(s.center),zoom:s.zoom,bearing:s.bearing,pitch:s.pitch,maxBounds:u,interactive:!o.isStatic,preserveDrawingBuffer:o.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new r.AttributionControl({compact:!0}));d._canvas.style.left=`0px`,d._canvas.style.top=`0px`,o.rejectOnError(i),o.isStatic||o.initFx(e,t);var f=[];f.push(new Promise(function(e){d.once(`load`,e)})),f=f.concat(a.fetchTraceGeoData(e)),Promise.all(f).then(function(){o.fillBelowLookup(e,t),o.updateData(e),o.updateLayout(t),o.resolveOnRender(n)}).catch(i)},b.updateMap=function(e,t,n,r){var i=this,o=i.map,s=t[this.id];i.rejectOnError(r);var c=[],l=S(s.style);JSON.stringify(i.styleObj)!==JSON.stringify(l)&&(i.styleObj=l,o.setStyle(l.style),i.traceHash={},c.push(new Promise(function(e){o.once(`styledata`,e)}))),c=c.concat(a.fetchTraceGeoData(e)),Promise.all(c).then(function(){i.fillBelowLookup(e,t),i.updateData(e),i.updateLayout(t),i.resolveOnRender(n)}).catch(r)},b.fillBelowLookup=function(e,t){var n=t[this.id].layers,r,i,a=this.belowLookup={},o=!1;for(r=0;r<e.length;r++){var s=e[r][0].trace,c=s._module;typeof s.below==`string`?i=s.below:c.getBelow&&(i=c.getBelow(s,this)),i===``&&(o=!0),a[`trace-`+s.uid]=i||``}for(r=0;r<n.length;r++){var l=n[r];i=typeof l.below==`string`?l.below:o?`traces`:``,a[`layout-`+r]=i}var u={},d,f;for(d in a)i=a[d],u[i]?u[i].push(d):u[i]=[d];for(i in u){var p=u[i];if(p.length>1)for(r=0;r<p.length;r++)d=p[r],d.indexOf(`trace-`)===0?(f=d.split(`trace-`)[1],this.traceHash[f]&&(this.traceHash[f].below=null)):d.indexOf(`layout-`)===0&&(f=d.split(`layout-`)[1],this.layerList[f]&&(this.layerList[f].below=null))}};var x={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};b.updateData=function(e){var t=this.traceHash,n,r,i,a,o=e.slice().sort(function(e,t){return x[e[0].trace.type]-x[t[0].trace.type]});for(i=0;i<o.length;i++){var s=o[i];r=s[0].trace,n=t[r.uid];var c=!1;n&&(n.type===r.type?(n.update(s),c=!0):n.dispose()),!c&&r._module&&(t[r.uid]=r._module.plot(this,s))}var l=Object.keys(t);idLoop:for(i=0;i<l.length;i++){var u=l[i];for(a=0;a<e.length;a++)if(r=e[a][0].trace,u===r.uid)continue idLoop;n=t[u],n.dispose(),delete t[u]}},b.updateLayout=function(e){var t=this.map,n=e[this.id];!this.dragging&&!this.wheeling&&(t.setCenter(w(n.center)),t.setZoom(n.zoom),t.setBearing(n.bearing),t.setPitch(n.pitch)),this.updateLayers(e),this.updateFramework(e),this.updateFx(e),this.map.resize(),this.gd._context._scrollZoom.mapbox?t.scrollZoom.enable():t.scrollZoom.disable()},b.resolveOnRender=function(e){var t=this.map;t.on(`render`,function n(){t.loaded()&&(t.off(`render`,n),setTimeout(e,10))})},b.rejectOnError=function(e){var t=this.map;function n(){e(Error(_.mapOnErrorMsg))}t.once(`error`,n),t.once(`style.error`,n),t.once(`source.error`,n),t.once(`tile.error`,n),t.once(`layer.error`,n)},b.createFramework=function(e){var t=this,n=t.div=document.createElement(`div`);n.id=t.uid,n.style.position=`absolute`,t.container.appendChild(n),t.xaxis={_id:`x`,c2p:function(e){return t.project(e).x}},t.yaxis={_id:`y`,c2p:function(e){return t.project(e).y}},t.updateFramework(e),t.mockAxis={type:`linear`,showexponent:`all`,exponentformat:`B`},s.setConvert(t.mockAxis,e)},b.initFx=function(e,t){var n=this,r=n.gd,i=n.map;i.on(`moveend`,function(e){if(n.map){var t=r._fullLayout;if(e.originalEvent||n.wheeling){var i=t[n.id];o.call(`_storeDirectGUIEdit`,r.layout,t._preGUI,n.getViewEdits(i));var a=n.getView();i._input.center=i.center=a.center,i._input.zoom=i.zoom=a.zoom,i._input.bearing=i.bearing=a.bearing,i._input.pitch=i.pitch=a.pitch,r.emit(`plotly_relayout`,n.getViewEditsWithDerived(a))}e.originalEvent&&e.originalEvent.type===`mouseup`?n.dragging=!1:n.wheeling&&=!1,t._rehover&&t._rehover()}}),i.on(`wheel`,function(){n.wheeling=!0}),i.on(`mousemove`,function(e){var t=n.div.getBoundingClientRect(),a=[e.originalEvent.offsetX,e.originalEvent.offsetY];e.target.getBoundingClientRect=function(){return t},n.xaxis.p2c=function(){return i.unproject(a).lng},n.yaxis.p2c=function(){return i.unproject(a).lat},r._fullLayout._rehover=function(){r._fullLayout._hoversubplot===n.id&&r._fullLayout[n.id]&&l.hover(r,e,n.id)},l.hover(r,e,n.id),r._fullLayout._hoversubplot=n.id});function a(){l.loneUnhover(t._hoverlayer)}i.on(`dragstart`,function(){n.dragging=!0,a()}),i.on(`zoomstart`,a),i.on(`mouseout`,function(){r._fullLayout._hoversubplot=null});function s(){var e=n.getView();r.emit(`plotly_relayouting`,n.getViewEditsWithDerived(e))}i.on(`drag`,s),i.on(`zoom`,s),i.on(`dblclick`,function(){var e=r._fullLayout[n.id];o.call(`_storeDirectGUIEdit`,r.layout,r._fullLayout._preGUI,n.getViewEdits(e));var t=n.viewInitial;i.setCenter(w(t.center)),i.setZoom(t.zoom),i.setBearing(t.bearing),i.setPitch(t.pitch);var a=n.getView();e._input.center=e.center=a.center,e._input.zoom=e.zoom=a.zoom,e._input.bearing=e.bearing=a.bearing,e._input.pitch=e.pitch=a.pitch,r.emit(`plotly_doubleclick`,null),r.emit(`plotly_relayout`,n.getViewEditsWithDerived(a))}),n.clearOutline=function(){h(n.dragOptions),m(n.dragOptions.gd)},n.onClickInPanFn=function(e){return function(t){var i=r._fullLayout.clickmode;i.indexOf(`select`)>-1&&g(t.originalEvent,r,[n.xaxis],[n.yaxis],n.id,e),i.indexOf(`event`)>-1&&l.click(r,t.originalEvent)}}},b.updateFx=function(e){var t=this,n=t.map,r=t.gd;if(t.isStatic)return;function a(e){var n=t.map.unproject(e);return[n.lng,n.lat]}var o=e.dragmode,s=function(e,n){if(n.isRect){var r=e.range={};r[t.id]=[a([n.xmin,n.ymin]),a([n.xmax,n.ymax])]}else{var i=e.lassoPoints={};i[t.id]=n.map(a)}},l=t.dragOptions;t.dragOptions=i.extendDeep(l||{},{dragmode:e.dragmode,element:t.div,gd:r,plotinfo:{id:t.id,domain:e[t.id].domain,xaxis:t.xaxis,yaxis:t.yaxis,fillRangeItems:s},xaxes:[t.xaxis],yaxes:[t.yaxis],subplot:t.id}),n.off(`click`,t.onClickInPanHandler),f(o)||d(o)?(n.dragPan.disable(),n.on(`zoomstart`,t.clearOutline),t.dragOptions.prepFn=function(e,n,r){p(e,n,r,t.dragOptions,o)},c.init(t.dragOptions)):(n.dragPan.enable(),n.off(`zoomstart`,t.clearOutline),t.div.onmousedown=null,t.div.ontouchstart=null,t.div.removeEventListener(`touchstart`,t.div._ontouchstart),t.onClickInPanHandler=t.onClickInPanFn(t.dragOptions),n.on(`click`,t.onClickInPanHandler))},b.updateFramework=function(e){var t=e[this.id].domain,n=e._size,r=this.div.style;r.width=n.w*(t.x[1]-t.x[0])+`px`,r.height=n.h*(t.y[1]-t.y[0])+`px`,r.left=n.l+t.x[0]*n.w+`px`,r.top=n.t+(1-t.y[1])*n.h+`px`,this.xaxis._offset=n.l+t.x[0]*n.w,this.xaxis._length=n.w*(t.x[1]-t.x[0]),this.yaxis._offset=n.t+(1-t.y[1])*n.h,this.yaxis._length=n.h*(t.y[1]-t.y[0])},b.updateLayers=function(e){var t=e[this.id].layers,n=this.layerList,r;if(t.length!==n.length){for(r=0;r<n.length;r++)n[r].dispose();for(n=this.layerList=[],r=0;r<t.length;r++)n.push(v(this,r,t[r]))}else for(r=0;r<t.length;r++)n[r].update(t[r])},b.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},b.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},b.setOptions=function(e,t,n){for(var r in n)this.map[t](e,r,n[r])},b.getMapLayers=function(){return this.map.getStyle().layers},b.addLayer=function(e,t){var n=this.map;if(typeof t==`string`){if(t===``){n.addLayer(e,t);return}for(var r=this.getMapLayers(),a=0;a<r.length;a++)if(t===r[a].id){n.addLayer(e,t);return}i.warn([`Trying to add layer with *below* value`,t,`referencing a layer that does not exist`,`or that does not yet exist.`].join(` `))}n.addLayer(e)},b.project=function(e){return this.map.project(new r.LngLat(e[0],e[1]))},b.getView=function(){var e=this.map,t=e.getCenter(),n={lon:t.lng,lat:t.lat},r=e.getCanvas(),i=parseInt(r.style.width),a=parseInt(r.style.height);return{center:n,zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch(),_derived:{coordinates:[e.unproject([0,0]).toArray(),e.unproject([i,0]).toArray(),e.unproject([i,a]).toArray(),e.unproject([0,a]).toArray()]}}},b.getViewEdits=function(e){for(var t=this.id,n=[`center`,`zoom`,`bearing`,`pitch`],r={},i=0;i<n.length;i++){var a=n[i];r[t+`.`+a]=e[a]}return r},b.getViewEditsWithDerived=function(e){var t=this.id,n=this.getViewEdits(e);return n[t+`._derived`]=e._derived,n};function S(e){var t={};return i.isPlainObject(e)?(t.id=e.id,t.style=e):typeof e==`string`?(t.id=e,_.styleValuesMapbox.indexOf(e)===-1?_.stylesNonMapbox[e]?t.style=_.stylesNonMapbox[e]:t.style=e:t.style=C(e)):(t.id=_.styleValueDflt,t.style=C(_.styleValueDflt)),t.transition={duration:0,delay:0},t}function C(e){return _.styleUrlPrefix+e+`-`+_.styleUrlSuffix}function w(e){return[e.lon,e.lat]}e.exports=y}),35025:(function(e){e.exports=function(e){var t=e.editType;return{t:{valType:`number`,dflt:0,editType:t},r:{valType:`number`,dflt:0,editType:t},b:{valType:`number`,dflt:0,editType:t},l:{valType:`number`,dflt:0,editType:t},editType:t}}}),74875:(function(e,t,n){var r=n(39898),i=n(84096).Dq,a=n(60721).FF,o=n(92770),s=n(73972),c=n(86281),l=n(44467),u=n(71828),d=n(7901),f=n(50606).BADNUM,p=n(41675),m=n(51873).clearOutline,h=n(21479),g=n(85594),_=n(31391),v=n(27659).a0,y=u.relinkPrivateKeys,b=u._,x=e.exports={};u.extendFlat(x,s),x.attributes=n(9012),x.attributes.type.values=x.allTypes,x.fontAttrs=n(41940),x.layoutAttributes=n(10820),x.fontWeight=`normal`;var S=x.transformsRegistry,C=n(31137);x.executeAPICommand=C.executeAPICommand,x.computeAPICommandBindings=C.computeAPICommandBindings,x.manageCommandObserver=C.manageCommandObserver,x.hasSimpleAPICommandBindings=C.hasSimpleAPICommandBindings,x.redrawText=function(e){return e=u.getGraphDiv(e),new Promise(function(t){setTimeout(function(){e._fullLayout&&(s.getComponentMethod(`annotations`,`draw`)(e),s.getComponentMethod(`legend`,`draw`)(e),s.getComponentMethod(`colorbar`,`draw`)(e),t(x.previousPromises(e)))},300)})},x.resize=function(e){e=u.getGraphDiv(e);var t,n=new Promise(function(n,r){(!e||u.isHidden(e))&&r(Error(`Resize must be passed a displayed plot div element.`)),e._redrawTimer&&clearTimeout(e._redrawTimer),e._resolveResize&&(t=e._resolveResize),e._resolveResize=n,e._redrawTimer=setTimeout(function(){if(!e.layout||e.layout.width&&e.layout.height||u.isHidden(e)){n(e);return}delete e.layout.width,delete e.layout.height;var t=e.changed;e.autoplay=!0,s.call(`relayout`,e,{autosize:!0}).then(function(){e.changed=t,e._resolveResize===n&&(delete e._resolveResize,n(e))})},100)});return t&&t(n),n},x.previousPromises=function(e){if((e._promises||[]).length)return Promise.all(e._promises).then(function(){e._promises=[]})},x.addLinks=function(e){if(!(!e._context.showLink&&!e._context.showSources)){var t=e._fullLayout,n=u.ensureSingle(t._paper,`text`,`js-plot-link-container`,function(e){e.style({"font-family":`"Open Sans", Arial, sans-serif`,"font-size":`12px`,fill:d.defaultLine,"pointer-events":`all`}).each(function(){var e=r.select(this);e.append(`tspan`).classed(`js-link-to-tool`,!0),e.append(`tspan`).classed(`js-link-spacer`,!0),e.append(`tspan`).classed(`js-sourcelinks`,!0)})}),i=n.node(),a={y:t._paper.attr(`height`)-9};document.body.contains(i)&&i.getComputedTextLength()>=t.width-20?(a[`text-anchor`]=`start`,a.x=5):(a[`text-anchor`]=`end`,a.x=t._paper.attr(`width`)-7),n.attr(a);var o=n.select(`.js-link-to-tool`),s=n.select(`.js-link-spacer`),c=n.select(`.js-sourcelinks`);e._context.showSources&&e._context.showSources(e),e._context.showLink&&w(e,o),s.text(o.text()&&c.text()?` - `:``)}};function w(e,t){t.text(``);var n=t.append(`a`).attr({"xlink:xlink:href":`#`,class:`link--impt link--embedview`,"font-weight":`bold`}).text(e._context.linkText+` `);if(e._context.sendData)n.on(`click`,function(){x.sendDataToCloud(e)});else{var r=window.location.pathname.split(`/`),i=window.location.search;n.attr({"xlink:xlink:show":`new`,"xlink:xlink:href":`/`+r[2].split(`.`)[0]+`/`+r[1]+i})}}x.sendDataToCloud=function(e){var t=(window.PLOTLYENV||{}).BASE_URL||e._context.plotlyServerURL;if(t){e.emit(`plotly_beforeexport`);var n=r.select(e).append(`div`).attr(`id`,`hiddenform`).style(`display`,`none`),i=n.append(`form`).attr({action:t+`/external`,method:`post`,target:`_blank`}),a=i.append(`input`).attr({type:`text`,name:`data`});return a.node().value=x.graphJson(e,!1,`keepdata`),i.node().submit(),n.remove(),e.emit(`plotly_afterexport`),!1}};var T=[`days`,`shortDays`,`months`,`shortMonths`,`periods`,`dateTime`,`date`,`time`,`decimal`,`thousands`,`grouping`,`currency`],E=[`year`,`month`,`dayMonth`,`dayMonthYear`];x.supplyDefaults=function(e,t){var n=t&&t.skipUpdateCalc,r=e._fullLayout||{};if(r._skipDefaults){delete r._skipDefaults;return}var i=e._fullLayout={},a=e.layout||{},o=e._fullData||[],c=e._fullData=[],l=e.data||[],d=e.calcdata||[],f=e._context||{},p;e._transitionData||x.createTransitionData(e),i._dfltTitle={plot:b(e,`Click to enter Plot title`),x:b(e,`Click to enter X axis title`),y:b(e,`Click to enter Y axis title`),colorbar:b(e,`Click to enter Colorscale title`),annotation:b(e,`new text`)},i._traceWord=b(e,`trace`);var h=k(e,T);if(i._mapboxAccessToken=f.mapboxAccessToken,r._initialAutoSizeIsDone){var g=r.width,_=r.height;x.supplyLayoutGlobalDefaults(a,i,h),a.width||(i.width=g),a.height||(i.height=_),x.sanitizeMargins(i)}else{x.supplyLayoutGlobalDefaults(a,i,h);var v=!a.width||!a.height,S=i.autosize,C=f.autosizable;v&&(S||C)?x.plotAutoSize(e,a,i):v&&x.sanitizeMargins(i),!S&&v&&(a.width=i.width,a.height=i.height)}i._d3locale=A(h,i.separators),i._extraFormat=k(e,E),i._initialAutoSizeIsDone=!0,i._dataLength=l.length,i._modules=[],i._visibleModules=[],i._basePlotModules=[];var w=i._subplots=O(),M=i._splomAxes={x:{},y:{}},N=i._splomSubplots={};i._splomGridDflt={},i._scatterStackOpts={},i._firstScatter={},i._alignmentOpts={},i._colorAxes={},i._requestRangeslider={},i._traceUids=D(o,l),i._globalTransforms=(e._context||{}).globalTransforms,x.supplyDataDefaults(l,c,a,i);var P=Object.keys(M.x),F=Object.keys(M.y);if(P.length>1&&F.length>1){for(s.getComponentMethod(`grid`,`sizeDefaults`)(a,i),p=0;p<P.length;p++)u.pushUnique(w.xaxis,P[p]);for(p=0;p<F.length;p++)u.pushUnique(w.yaxis,F[p]);for(var L in N)u.pushUnique(w.cartesian,L)}if(i._has=x._hasPlotType.bind(i),o.length===c.length)for(p=0;p<c.length;p++)y(c[p],o[p]);x.supplyLayoutModuleDefaults(a,i,c,e._transitionData);var R=i._visibleModules,z=[];for(p=0;p<R.length;p++){var B=R[p].crossTraceDefaults;B&&u.pushUnique(z,B)}for(p=0;p<z.length;p++)z[p](c,i);i._hasOnlyLargeSploms=i._basePlotModules.length===1&&i._basePlotModules[0].name===`splom`&&P.length>15&&F.length>15&&i.shapes.length===0&&i.images.length===0,x.linkSubplots(c,i,o,r),x.cleanPlot(c,i,o,r);var V=!!(r._has&&r._has(`gl2d`)),H=!!(i._has&&i._has(`gl2d`)),U=!!(r._has&&r._has(`cartesian`)),W=!!(i._has&&i._has(`cartesian`)),G=U||V,K=W||H;G&&!K?r._bgLayer.remove():K&&!G&&(i._shouldCreateBgLayer=!0),r._zoomlayer&&!e._dragging&&m({_fullLayout:r}),j(c,i),y(i,r),s.getComponentMethod(`colorscale`,`crossTraceDefaults`)(c,i),i._preGUI||={},i._tracePreGUI||={};var ee=i._tracePreGUI,q={},J;for(J in ee)q[J]=`old`;for(p=0;p<c.length;p++)J=c[p]._fullInput.uid,q[J]||(ee[J]={}),q[J]=`new`;for(J in q)q[J]===`old`&&delete ee[J];I(i),s.getComponentMethod(`rangeslider`,`makeData`)(i),!n&&d.length===c.length&&x.supplyDefaultsUpdateCalc(d,c)},x.supplyDefaultsUpdateCalc=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=(e[n]||[])[0];if(i&&i.trace){var a=i.trace;if(a._hasCalcTransform){var o=a._arrayAttrs,s,c,l;for(s=0;s<o.length;s++)c=o[s],l=u.nestedProperty(a,c).get().slice(),u.nestedProperty(r,c).set(l)}i.trace=r}}};function D(e,t){var n=t.length,r=[],i,a;for(i=0;i<e.length;i++){var o=e[i]._fullInput;o!==a&&r.push(o),a=o}var s=r.length,c=Array(n),l={};function d(e,t){c[t]=e,l[e]=1}function f(e,t){if(e&&typeof e==`string`&&!l[e])return d(e,t),!0}for(i=0;i<n;i++){var p=t[i].uid;typeof p==`number`&&(p=String(p)),!f(p,i)&&(i<s&&f(r[i].uid,i)||d(u.randstr(l),i))}return c}function O(){var e=s.collectableSubplotTypes,t={},n,r;if(!e){e=[];var i=s.subplotsRegistry;for(var a in i){var o=i[a].attr;if(o&&(e.push(a),Array.isArray(o)))for(r=0;r<o.length;r++)u.pushUnique(e,o[r])}}for(n=0;n<e.length;n++)t[e[n]]=[];return t}function k(e,t){var n=e._context.locale;n||=`en-US`;var r=!1,i={};function a(e){for(var n=!0,a=0;a<t.length;a++){var o=t[a];i[o]||(e[o]?i[o]=e[o]:n=!1)}n&&(r=!0)}for(var o=0;o<2;o++){for(var c=e._context.locales,l=0;l<2;l++){var u=(c[n]||{}).format;if(u&&(a(u),r))break;c=s.localeRegistry}var d=n.split(`-`)[0];if(r||d===n)break;n=d}return r||a(s.localeRegistry.en.format),i}function A(e,t){return e.decimal=t.charAt(0),e.thousands=t.charAt(1),{numberFormat:function(t){try{t=a(e).format(u.adjustFormat(t))}catch{return u.warnBadFormat(t),u.noFormat}return t},timeFormat:i(e).utcFormat}}function j(e,t){var n,r=[];t.meta&&(n=t._meta={meta:t.meta,layout:{meta:t.meta}});for(var i=0;i<e.length;i++){var a=e[i];a.meta?r[a.index]=a._meta={meta:a.meta}:t.meta&&(a._meta={meta:t.meta}),t.meta&&(a._meta.layout={meta:t.meta})}r.length&&(n||=t._meta={},n.data=r)}x.createTransitionData=function(e){e._transitionData||={},e._transitionData._frames||(e._transitionData._frames=[]),e._transitionData._frameHash||(e._transitionData._frameHash={}),e._transitionData._counter||(e._transitionData._counter=0),e._transitionData._interruptCallbacks||(e._transitionData._interruptCallbacks=[])},x._hasPlotType=function(e){var t,n=this._basePlotModules||[];for(t=0;t<n.length;t++)if(n[t].name===e)return!0;var r=this._modules||[];for(t=0;t<r.length;t++){var i=r[t].name;if(i===e)return!0;var a=s.modules[i];if(a&&a.categories[e])return!0}return!1},x.cleanPlot=function(e,t,n,r){var i,a,o=r._basePlotModules||[];for(i=0;i<o.length;i++){var s=o[i];s.clean&&s.clean(e,t,n,r)}var c=r._has&&r._has(`gl`),l=t._has&&t._has(`gl`);c&&!l&&r._glcontainer!==void 0&&(r._glcontainer.selectAll(`.gl-canvas`).remove(),r._glcontainer.selectAll(`.no-webgl`).remove(),r._glcanvas=null);var u=!!r._infolayer;oldLoop:for(i=0;i<n.length;i++){var d=n[i].uid;for(a=0;a<e.length;a++)if(d===e[a].uid)continue oldLoop;u&&r._infolayer.select(`.cb`+d).remove()}},x.linkSubplots=function(e,t,n,r){var i,a,o=r._plots||{},c=t._plots={},l=t._subplots,d={_fullData:e,_fullLayout:t},f=l.cartesian.concat(l.gl2d||[]);for(i=0;i<f.length;i++){var m=f[i],h=o[m],g=p.getFromId(d,m,`x`),_=p.getFromId(d,m,`y`),v;for(h?v=c[m]=h:(v=c[m]={},v.id=m),g._counterAxes.push(_._id),_._counterAxes.push(g._id),g._subplotsWith.push(m),_._subplotsWith.push(m),v.xaxis=g,v.yaxis=_,v._hasClipOnAxisFalse=!1,a=0;a<e.length;a++){var y=e[a];if(y.xaxis===v.xaxis._id&&y.yaxis===v.yaxis._id&&y.cliponaxis===!1){v._hasClipOnAxisFalse=!0;break}}}var b=p.list(d,null,!0),x;for(i=0;i<b.length;i++){x=b[i];var S=null;x.overlaying&&(S=p.getFromId(d,x.overlaying),S&&S.overlaying&&(x.overlaying=!1,S=null)),x._mainAxis=S||x,S&&(x.domain=S.domain.slice()),x._anchorAxis=x.anchor===`free`?null:p.getFromId(d,x.anchor)}for(i=0;i<b.length;i++)if(x=b[i],x._counterAxes.sort(p.idSort),x._subplotsWith.sort(u.subplotSort),x._mainSubplot=M(x,t),x._counterAxes.length&&(x.spikemode&&x.spikemode.indexOf(`across`)!==-1||x.automargin&&x.mirror&&x.anchor!==`free`||s.getComponentMethod(`rangeslider`,`isVisible`)(x))){var C=1,w=0;for(a=0;a<x._counterAxes.length;a++){var T=p.getFromId(d,x._counterAxes[a]);C=Math.min(C,T.domain[0]),w=Math.max(w,T.domain[1])}C<w&&(x._counterDomainMin=C,x._counterDomainMax=w)}};function M(e,t){var n={_fullLayout:t},r=e._id.charAt(0)===`x`,i=e._mainAxis._anchorAxis,a=``,o=``,s=``;if(i&&(s=i._mainAxis._id,a=r?e._id+s:s+e._id),!a||!t._plots[a]){a=``;for(var c=e._counterAxes,l=0;l<c.length;l++){var u=c[l],d=r?e._id+u:u+e._id;o||=d;var f=p.getFromId(n,u);if(s&&f.overlaying===s){a=d;break}}}return a||o}x.clearExpandedTraceDefaultColors=function(e){var t,n,r;function i(e,r,i,a){n[a]=r,n.length=a+1,e.valType===`color`&&e.dflt===void 0&&t.push(n.join(`.`))}for(n=[],t=e._module._colorAttrs,t||(e._module._colorAttrs=t=[],c.crawl(e._module.attributes,i)),r=0;r<t.length;r++)u.nestedProperty(e,`_input.`+t[r]).get()||u.nestedProperty(e,t[r]).set(null)},x.supplyDataDefaults=function(e,t,n,r){var i=r._modules,a=r._visibleModules,o=r._basePlotModules,c=0,d=0,f,p,m;r._transformModules=[];function h(e){t.push(e);var n=e._module;n&&(u.pushUnique(i,n),e.visible===!0&&u.pushUnique(a,n),u.pushUnique(o,e._module.basePlotModule),c++,e._input.visible!==!1&&d++)}var g={},_=[],v=(n.template||{}).data||{},b=l.traceTemplater(v);for(f=0;f<e.length;f++){if(m=e[f],p=b.newTrace(m),p.uid=r._traceUids[f],x.supplyTraceDefaults(m,p,d,r,f),p.index=f,p._input=m,p._expandedIndex=c,p.transforms&&p.transforms.length)for(var S=m.visible!==!1&&p.visible===!1,C=P(p,t,n,r),w=0;w<C.length;w++){var T=C[w],E={_template:p._template,type:p.type,uid:p.uid+w};S&&T.visible===!1&&delete T.visible,x.supplyTraceDefaults(T,E,c,r,f),y(E,T),E.index=f,E._input=m,E._fullInput=p,E._expandedIndex=c,E._expandedInput=T,h(E)}else p._fullInput=p,p._expandedInput=p,h(p);s.traceIs(p,`carpetAxis`)&&(g[p.carpet]=p),s.traceIs(p,`carpetDependent`)&&_.push(f)}for(f=0;f<_.length;f++)if(p=t[_[f]],p.visible){var D=g[p.carpet];if(p._carpet=D,!D||!D.visible){p.visible=!1;continue}p.xaxis=D.xaxis,p.yaxis=D.yaxis}},x.supplyAnimationDefaults=function(e){e||={};var t,n={};function r(t,r){return u.coerce(e||{},n,g,t,r)}if(r(`mode`),r(`direction`),r(`fromcurrent`),Array.isArray(e.frame))for(n.frame=[],t=0;t<e.frame.length;t++)n.frame[t]=x.supplyAnimationFrameDefaults(e.frame[t]||{});else n.frame=x.supplyAnimationFrameDefaults(e.frame||{});if(Array.isArray(e.transition))for(n.transition=[],t=0;t<e.transition.length;t++)n.transition[t]=x.supplyAnimationTransitionDefaults(e.transition[t]||{});else n.transition=x.supplyAnimationTransitionDefaults(e.transition||{});return n},x.supplyAnimationFrameDefaults=function(e){var t={};function n(n,r){return u.coerce(e||{},t,g.frame,n,r)}return n(`duration`),n(`redraw`),t},x.supplyAnimationTransitionDefaults=function(e){var t={};function n(n,r){return u.coerce(e||{},t,g.transition,n,r)}return n(`duration`),n(`easing`),t},x.supplyFrameDefaults=function(e){var t={};function n(n,r){return u.coerce(e,t,_,n,r)}return n(`group`),n(`name`),n(`traces`),n(`baseframe`),n(`data`),n(`layout`),t},x.supplyTraceDefaults=function(e,t,n,r,i){var a=r.colorway||d.defaults,o=a[n%a.length],c;function l(n,r){return u.coerce(e,t,x.attributes,n,r)}var f=l(`visible`);l(`type`),l(`name`,r._traceWord+` `+i),l(`uirevision`,r.uirevision);var p=x.getModule(t);if(t._module=p,p){var m=p.basePlotModule,h=m.attr,g=m.attributes;if(h&&g){var _=r._subplots,v=``;if(f||m.name!==`gl2d`){if(Array.isArray(h))for(c=0;c<h.length;c++){var y=h[c],b=u.coerce(e,t,g,y);_[y]&&u.pushUnique(_[y],b),v+=b}else v=u.coerce(e,t,g,h);_[m.name]&&u.pushUnique(_[m.name],v)}}}return f&&(l(`customdata`),l(`ids`),l(`meta`),s.traceIs(t,`showLegend`)?(u.coerce(e,t,p.attributes.showlegend?p.attributes:x.attributes,`showlegend`),l(`legendwidth`),l(`legendgroup`),l(`legendgrouptitle.text`),l(`legendrank`),t._dfltShowLegend=!0):t._dfltShowLegend=!1,p&&p.supplyDefaults(e,t,o,r),s.traceIs(t,`noOpacity`)||l(`opacity`),s.traceIs(t,`notLegendIsolatable`)&&(t.visible=!!t.visible),s.traceIs(t,`noHover`)||(t.hovertemplate||u.coerceHoverinfo(e,t,r),t.type!==`parcats`&&s.getComponentMethod(`fx`,`supplyDefaults`)(e,t,o,r)),p&&p.selectPoints&&l(`selectedpoints`),x.supplyTransformDefaults(e,t,r)),t};function N(e){var t=e.transforms;if(Array.isArray(t)&&t.length)for(var n=0;n<t.length;n++){var r=t[n],i=r._module||S[r.type];if(i&&i.makesData)return!0}return!1}x.hasMakesDataTransform=N,x.supplyTransformDefaults=function(e,t,n){if(t._length||N(e)){var r=n._globalTransforms||[],i=n._transformModules||[];if(!(!Array.isArray(e.transforms)&&r.length===0))for(var a=e.transforms||[],o=r.concat(a),s=t.transforms=[],c=0;c<o.length;c++){var l=o[c],d=l.type,f=S[d],p,m=!(l._module&&l._module===f),h=f&&typeof f.transform==`function`;f||u.warn(`Unrecognized transform type `+d+`.`),f&&f.supplyDefaults&&(m||h)?(p=f.supplyDefaults(l,t,n,e),p.type=d,p._module=f,u.pushUnique(i,f)):p=u.extendFlat({},l),s.push(p)}}};function P(e,t,n,r){for(var i=e.transforms,a=[e],o=0;o<i.length;o++){var s=i[o],c=S[s.type];c&&c.transform&&(a=c.transform(a,{transform:s,fullTrace:e,fullData:t,layout:n,fullLayout:r,transformIndex:o}))}return a}x.supplyLayoutGlobalDefaults=function(e,t,n){function r(n,r){return u.coerce(e,t,x.layoutAttributes,n,r)}var i=e.template;u.isPlainObject(i)&&(t.template=i,t._template=i.layout,t._dataTemplate=i.data),r(`autotypenumbers`);var a=u.coerceFont(r,`font`),o=a.size;u.coerceFont(r,`title.font`,u.extendFlat({},a,{size:Math.round(o*1.4)})),r(`title.text`,t._dfltTitle.plot),r(`title.xref`),r(`title.yref`),r(`title.x`),r(`title.y`),r(`title.xanchor`),r(`title.yanchor`),r(`title.pad.t`),r(`title.pad.r`),r(`title.pad.b`),r(`title.pad.l`),r(`uniformtext.mode`)&&r(`uniformtext.minsize`),r(`autosize`,!(e.width&&e.height)),r(`width`),r(`height`),r(`minreducedwidth`),r(`minreducedheight`),r(`margin.l`),r(`margin.r`),r(`margin.t`),r(`margin.b`),r(`margin.pad`),r(`margin.autoexpand`),e.width&&e.height&&x.sanitizeMargins(t),s.getComponentMethod(`grid`,`sizeDefaults`)(e,t),r(`paper_bgcolor`),r(`separators`,n.decimal+n.thousands),r(`hidesources`),r(`colorway`),r(`datarevision`);var c=r(`uirevision`);r(`editrevision`,c),r(`selectionrevision`,c),s.getComponentMethod(`modebar`,`supplyLayoutDefaults`)(e,t),s.getComponentMethod(`shapes`,`supplyDrawNewShapeDefaults`)(e,t,r),s.getComponentMethod(`selections`,`supplyDrawNewSelectionDefaults`)(e,t,r),r(`meta`),u.isPlainObject(e.transition)&&(r(`transition.duration`),r(`transition.easing`),r(`transition.ordering`)),s.getComponentMethod(`calendars`,`handleDefaults`)(e,t,`calendar`),s.getComponentMethod(`fx`,`supplyLayoutGlobalDefaults`)(e,t,r),u.coerce(e,t,h,`scattermode`)};function F(e){return typeof e==`string`&&e.substr(e.length-2)===`px`&&parseFloat(e)}x.plotAutoSize=function(e,t,n){var r=e._context||{},i=r.frameMargins,a,s,c=u.isPlotDiv(e);if(c&&e.emit(`plotly_autosize`),r.fillFrame)a=window.innerWidth,s=window.innerHeight,document.body.style.overflow=`hidden`;else{var l=c?window.getComputedStyle(e):{};if(a=F(l.width)||F(l.maxWidth)||n.width,s=F(l.height)||F(l.maxHeight)||n.height,o(i)&&i>0){var d=1-2*i;a=Math.round(d*a),s=Math.round(d*s)}}var f=x.layoutAttributes.width.min,p=x.layoutAttributes.height.min;a<f&&(a=f),s<p&&(s=p);var m=!t.width&&Math.abs(n.width-a)>1,h=!t.height&&Math.abs(n.height-s)>1;(h||m)&&(m&&(n.width=a),h&&(n.height=s)),e._initialAutoSize||={width:a,height:s},x.sanitizeMargins(n)},x.supplyLayoutModuleDefaults=function(e,t,n,r){var i=s.componentsRegistry,a=t._basePlotModules,o,c,l,d=s.subplotsRegistry.cartesian;for(o in i)l=i[o],l.includeBasePlot&&l.includeBasePlot(e,t);for(var f in a.length||a.push(d),t._has(`cartesian`)&&(s.getComponentMethod(`grid`,`contentDefaults`)(e,t),d.finalizeSubplots(e,t)),t._subplots)t._subplots[f].sort(u.subplotSort);for(c=0;c<a.length;c++)l=a[c],l.supplyLayoutDefaults&&l.supplyLayoutDefaults(e,t,n);var p=t._modules;for(c=0;c<p.length;c++)l=p[c],l.supplyLayoutDefaults&&l.supplyLayoutDefaults(e,t,n);var m=t._transformModules;for(c=0;c<m.length;c++)l=m[c],l.supplyLayoutDefaults&&l.supplyLayoutDefaults(e,t,n,r);for(o in i)l=i[o],l.supplyLayoutDefaults&&l.supplyLayoutDefaults(e,t,n)},x.purge=function(e){var t=e._fullLayout||{};t._glcontainer!==void 0&&(t._glcontainer.selectAll(`.gl-canvas`).remove(),t._glcontainer.remove(),t._glcanvas=null),t._modeBar&&t._modeBar.destroy(),e._transitionData&&(e._transitionData._interruptCallbacks&&(e._transitionData._interruptCallbacks.length=0),e._transitionData._animationRaf&&window.cancelAnimationFrame(e._transitionData._animationRaf)),u.clearThrottle(),u.clearResponsive(e),delete e.data,delete e.layout,delete e._fullData,delete e._fullLayout,delete e.calcdata,delete e.empty,delete e.fid,delete e.undoqueue,delete e.undonum,delete e.autoplay,delete e.changed,delete e._promises,delete e._redrawTimer,delete e._hmlumcount,delete e._hmpixcount,delete e._transitionData,delete e._transitioning,delete e._initialAutoSize,delete e._transitioningWithDuration,delete e._dragging,delete e._dragged,delete e._dragdata,delete e._hoverdata,delete e._snapshotInProgress,delete e._editing,delete e._mouseDownTime,delete e._legendMouseDownTime,e.removeAllListeners&&e.removeAllListeners()},x.style=function(e){var t=e._fullLayout._visibleModules,n=[],r;for(r=0;r<t.length;r++){var i=t[r];i.style&&u.pushUnique(n,i.style)}for(r=0;r<n.length;r++)n[r](e)},x.sanitizeMargins=function(e){if(!(!e||!e.margin)){var t=e.width,n=e.height,r=e.margin,i=t-(r.l+r.r),a=n-(r.t+r.b),o;i<0&&(o=(t-1)/(r.l+r.r),r.l=Math.floor(o*r.l),r.r=Math.floor(o*r.r)),a<0&&(o=(n-1)/(r.t+r.b),r.t=Math.floor(o*r.t),r.b=Math.floor(o*r.b))}},x.clearAutoMarginIds=function(e){e._fullLayout._pushmarginIds={}},x.allowAutoMargin=function(e,t){e._fullLayout._pushmarginIds[t]=1};function I(e){var t=e.margin;if(!e._size){var n=e._size={l:Math.round(t.l),r:Math.round(t.r),t:Math.round(t.t),b:Math.round(t.b),p:Math.round(t.pad)};n.w=Math.round(e.width)-n.l-n.r,n.h=Math.round(e.height)-n.t-n.b}e._pushmargin||={},e._pushmarginIds||={}}var L=2,R=2;x.autoMargin=function(e,t,n){var r=e._fullLayout,i=r.width,a=r.height,o=r.margin,s=r.minreducedwidth,c=r.minreducedheight,l=u.constrain(i-o.l-o.r,L,s),d=u.constrain(a-o.t-o.b,R,c),f=Math.max(0,i-l),p=Math.max(0,a-d),m=r._pushmargin,h=r._pushmarginIds;if(o.autoexpand!==!1){if(!n)delete m[t],delete h[t];else{var g=n.pad;if(g===void 0&&(g=Math.min(12,o.l,o.r,o.t,o.b)),f){var _=(n.l+n.r)/f;_>1&&(n.l/=_,n.r/=_)}if(p){var v=(n.t+n.b)/p;v>1&&(n.t/=v,n.b/=v)}var y=n.xl===void 0?n.x:n.xl,b=n.xr===void 0?n.x:n.xr,S=n.yt===void 0?n.y:n.yt,C=n.yb===void 0?n.y:n.yb;m[t]={l:{val:y,size:n.l+g},r:{val:b,size:n.r+g},b:{val:C,size:n.b+g},t:{val:S,size:n.t+g}},h[t]=1}if(!r._replotting)return x.doAutoMargin(e)}};function z(e){if(`_redrawFromAutoMarginCount`in e._fullLayout)return!1;var t=p.list(e,``,!0);for(var n in t)if(t[n].autoshift||t[n].shift)return!0;return!1}x.doAutoMargin=function(e){var t=e._fullLayout,n=t.width,r=t.height;t._size||={},I(t);var i=t._size,a=t.margin,c=u.extendFlat({},i),l=a.l,d=a.r,f=a.t,p=a.b,m=t._pushmargin,h=t._pushmarginIds,g=t.minreducedwidth,_=t.minreducedheight;if(t.margin.autoexpand!==!1){for(var v in m)h[v]||delete m[v];for(var y in m.base={l:{val:0,size:l},r:{val:1,size:d},t:{val:1,size:f},b:{val:0,size:p}},m){var b=m[y].l||{},S=m[y].b||{},C=b.val,w=b.size,T=S.val,E=S.size;for(var D in m){if(o(w)&&m[D].r){var O=m[D].r.val,k=m[D].r.size;if(O>C){var A=(w*O+(k-n)*C)/(O-C),j=(k*(1-C)+(w-n)*(1-O))/(O-C);A+j>l+d&&(l=A,d=j)}}if(o(E)&&m[D].t){var M=m[D].t.val,N=m[D].t.size;if(M>T){var P=(E*M+(N-r)*T)/(M-T),F=(N*(1-T)+(E-r)*(1-M))/(M-T);P+F>p+f&&(p=P,f=F)}}}}}var V=u.constrain(n-a.l-a.r,L,g),H=u.constrain(r-a.t-a.b,R,_),U=Math.max(0,n-V),W=Math.max(0,r-H);if(U){var G=(l+d)/U;G>1&&(l/=G,d/=G)}if(W){var K=(p+f)/W;K>1&&(p/=K,f/=K)}if(i.l=Math.round(l),i.r=Math.round(d),i.t=Math.round(f),i.b=Math.round(p),i.p=Math.round(a.pad),i.w=Math.round(n)-i.l-i.r,i.h=Math.round(r)-i.t-i.b,!t._replotting&&(x.didMarginChange(c,i)||z(e))){`_redrawFromAutoMarginCount`in t?t._redrawFromAutoMarginCount++:t._redrawFromAutoMarginCount=1;var ee=3*(1+Object.keys(h).length);if(t._redrawFromAutoMarginCount<ee)return s.call(`_doPlot`,e);t._size=c,u.warn(`Too many auto-margin redraws.`)}B(e)};function B(e){var t=p.list(e,``,!0);[`_adjustTickLabelsOverflow`,`_hideCounterAxisInsideTickLabels`].forEach(function(e){for(var n=0;n<t.length;n++){var r=t[n][e];r&&r()}})}var V=[`l`,`r`,`t`,`b`,`p`,`w`,`h`];x.didMarginChange=function(e,t){for(var n=0;n<V.length;n++){var r=V[n],i=e[r],a=t[r];if(!o(i)||Math.abs(a-i)>1)return!0}return!1},x.graphJson=function(e,t,n,r,i,a){(i&&t&&!e._fullData||i&&!t&&!e._fullLayout)&&x.supplyDefaults(e);var o=i?e._fullData:e.data,s=i?e._fullLayout:e.layout,c=(e._transitionData||{})._frames;function l(e,t){if(typeof e==`function`)return t?`_function_`:null;if(u.isPlainObject(e)){var r={},i;return Object.keys(e).sort().forEach(function(a){if([`_`,`[`].indexOf(a.charAt(0))===-1){if(typeof e[a]==`function`){t&&(r[a]=`_function`);return}if(n===`keepdata`){if(a.substr(a.length-3)===`src`)return}else if(n===`keepstream`){if(i=e[a+`src`],typeof i==`string`&&i.indexOf(`:`)>0&&!u.isPlainObject(e.stream))return}else if(n!==`keepall`&&(i=e[a+`src`],typeof i==`string`&&i.indexOf(`:`)>0))return;r[a]=l(e[a],t)}}),r}return Array.isArray(e)?e.map(function(e){return l(e,t)}):u.isTypedArray(e)?u.simpleMap(e,u.identity):u.isJSDate(e)?u.ms2DateTimeLocal(+e):e}var d={data:(o||[]).map(function(e){var n=l(e);return t&&delete n.fit,n})};if(!t&&(d.layout=l(s),i)){var f=s._size;d.layout.computed={margin:{b:f.b,l:f.l,r:f.r,t:f.t}}}return c&&(d.frames=l(c)),a&&(d.config=l(e._context,!0)),r===`object`?d:JSON.stringify(d)},x.modifyFrames=function(e,t){var n,r,i,a=e._transitionData._frames,o=e._transitionData._frameHash;for(n=0;n<t.length;n++)switch(r=t[n],r.type){case`replace`:i=r.value;var s=(a[r.index]||{}).name,c=i.name;a[r.index]=o[c]=i,c!==s&&(delete o[s],o[c]=i);break;case`insert`:i=r.value,o[i.name]=i,a.splice(r.index,0,i);break;case`delete`:i=a[r.index],delete o[i.name],a.splice(r.index,1);break}return Promise.resolve()},x.computeFrame=function(e,t){var n=e._transitionData._frameHash,r,i,a,o;if(!t)throw Error(`computeFrame must be given a string frame name`);var s=n[t.toString()];if(!s)return!1;for(var c=[s],l=[s.name];s.baseframe&&(s=n[s.baseframe.toString()])&&l.indexOf(s.name)===-1;)c.push(s),l.push(s.name);for(var u={};s=c.pop();)if(s.layout&&(u.layout=x.extendLayout(u.layout,s.layout)),s.data){if(u.data||=[],i=s.traces,!i)for(i=[],r=0;r<s.data.length;r++)i[r]=r;for(u.traces||=[],r=0;r<s.data.length;r++)a=i[r],a!=null&&(o=u.traces.indexOf(a),o===-1&&(o=u.data.length,u.traces[o]=a),u.data[o]=x.extendTrace(u.data[o],s.data[r]))}return u},x.recomputeFrameHash=function(e){for(var t=e._transitionData._frameHash={},n=e._transitionData._frames,r=0;r<n.length;r++){var i=n[r];i&&i.name&&(t[i.name]=i)}},x.extendObjectWithContainers=function(e,t,n){var r,i,a,o,s,c,l,d,f=u.extendDeepNoArrays({},t||{}),p=u.expandObjectPaths(f),m={};if(n&&n.length)for(a=0;a<n.length;a++)r=u.nestedProperty(p,n[a]),i=r.get(),i===void 0?u.nestedProperty(m,n[a]).set(null):(r.set(null),u.nestedProperty(m,n[a]).set(i));if(e=u.extendDeepNoArrays(e||{},p),n&&n.length){for(a=0;a<n.length;a++)if(s=u.nestedProperty(m,n[a]),l=s.get(),l){for(c=u.nestedProperty(e,n[a]),d=c.get(),Array.isArray(d)||(d=[],c.set(d)),o=0;o<l.length;o++){var h=l[o];h===null?d[o]=null:d[o]=x.extendObjectWithContainers(d[o],h)}c.set(d)}}return e},x.dataArrayContainers=[`transforms`,`dimensions`],x.layoutArrayContainers=s.layoutArrayContainers,x.extendTrace=function(e,t){return x.extendObjectWithContainers(e,t,x.dataArrayContainers)},x.extendLayout=function(e,t){return x.extendObjectWithContainers(e,t,x.layoutArrayContainers)},x.transition=function(e,t,n,r,i,a){var o={redraw:i.redraw},s={},c=[];return o.prepareFn=function(){for(var i=Array.isArray(t)?t.length:0,a=r.slice(0,i),o=0;o<a.length;o++){var l=a[o],d=e._fullData[l]._module;if(d){if(d.animatable){var f=d.basePlotModule.name;s[f]||(s[f]=[]),s[f].push(l)}e.data[a[o]]=x.extendTrace(e.data[a[o]],t[o])}}var p=u.expandObjectPaths(u.extendDeepNoArrays({},n)),m=/^[xy]axis[0-9]*$/;for(var h in p)m.test(h)&&delete p[h].range;x.extendLayout(e.layout,p),delete e.calcdata,x.supplyDefaults(e),x.doCalcdata(e);var g=u.expandObjectPaths(n);if(g){var _=e._fullLayout._plots;for(var v in _){var y=_[v],b=y.xaxis,S=y.yaxis,C=b.range.slice(),w=S.range.slice(),T=null,E=null,D=null,O=null;Array.isArray(g[b._name+`.range`])?T=g[b._name+`.range`].slice():Array.isArray((g[b._name]||{}).range)&&(T=g[b._name].range.slice()),Array.isArray(g[S._name+`.range`])?E=g[S._name+`.range`].slice():Array.isArray((g[S._name]||{}).range)&&(E=g[S._name].range.slice()),C&&T&&(b.r2l(C[0])!==b.r2l(T[0])||b.r2l(C[1])!==b.r2l(T[1]))&&(D={xr0:C,xr1:T}),w&&E&&(S.r2l(w[0])!==S.r2l(E[0])||S.r2l(w[1])!==S.r2l(E[1]))&&(O={yr0:w,yr1:E}),(D||O)&&c.push(u.extendFlat({plotinfo:y},D,O))}}return Promise.resolve()},o.runFn=function(t){var r,i=e._fullLayout._basePlotModules,o=c.length,l;if(n)for(l=0;l<i.length;l++)i[l].transitionAxes&&i[l].transitionAxes(e,c,a,t);for(var d in o?(r=u.extendFlat({},a),r.duration=0,delete s.cartesian):r=a,s){var f=s[d];e._fullData[f[0]]._module.basePlotModule.plot(e,f,r,t)}},H(e,a,o)},x.transitionFromReact=function(e,t,n,r){var i=e._fullLayout,a=i.transition,o={},s=[];return o.prepareFn=function(){var e=i._plots;for(var a in o.redraw=!1,t.anim===`some`&&(o.redraw=!0),n.anim===`some`&&(o.redraw=!0),e){var c=e[a],l=c.xaxis,d=c.yaxis,f=r[l._name].range.slice(),p=r[d._name].range.slice(),m=l.range.slice(),h=d.range.slice();l.setScale(),d.setScale();var g=null,_=null;(l.r2l(f[0])!==l.r2l(m[0])||l.r2l(f[1])!==l.r2l(m[1]))&&(g={xr0:f,xr1:m}),(d.r2l(p[0])!==d.r2l(h[0])||d.r2l(p[1])!==d.r2l(h[1]))&&(_={yr0:p,yr1:h}),(g||_)&&s.push(u.extendFlat({plotinfo:c},g,_))}return Promise.resolve()},o.runFn=function(n){for(var r=e._fullData,i=e._fullLayout._basePlotModules,o,c,l,d=[],f=0;f<r.length;f++)d.push(f);function p(){if(e._fullLayout)for(var t=0;t<i.length;t++)i[t].transitionAxes&&i[t].transitionAxes(e,s,o,n)}function m(){if(e._fullLayout)for(var t=0;t<i.length;t++)i[t].plot(e,l,c,n)}s.length&&t.anim?a.ordering===`traces first`?(o=u.extendFlat({},a,{duration:0}),l=d,c=a,setTimeout(p,a.duration),m()):(o=a,l=null,c=u.extendFlat({},a,{duration:0}),setTimeout(m,o.duration),p()):s.length?(o=a,p()):t.anim&&(l=d,c=a,m())},H(e,a,o)};function H(e,t,n){var r=!1;function i(e){var t=Promise.resolve();if(!e)return t;for(;e.length;)t=t.then(e.shift());return t}function a(e){if(e)for(;e.length;)e.shift()}function o(){return e.emit(`plotly_transitioning`,[]),new Promise(function(i){e._transitioning=!0,t.duration>0&&(e._transitioningWithDuration=!0),e._transitionData._interruptCallbacks.push(function(){r=!0}),n.redraw&&e._transitionData._interruptCallbacks.push(function(){return s.call(`redraw`,e)}),e._transitionData._interruptCallbacks.push(function(){e.emit(`plotly_transitioninterrupted`,[])});var a=0,o=0;function l(){return a++,function(){o++,!r&&o===a&&c(i)}}n.runFn(l),setTimeout(l())})}function c(t){if(e._transitionData)return a(e._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(n.redraw)return s.call(`redraw`,e)}).then(function(){e._transitioning=!1,e._transitioningWithDuration=!1,e.emit(`plotly_transitioned`,[])}).then(t)}function l(){if(e._transitionData)return e._transitioning=!1,i(e._transitionData._interruptCallbacks)}var d=[x.previousPromises,l,n.prepareFn,x.rehover,x.reselect,o],f=u.syncOrAsync(d,e);return(!f||!f.then)&&(f=Promise.resolve()),f.then(function(){return e})}x.doCalcdata=function(e,t){var n=p.list(e),r=e._fullData,i=e._fullLayout,a,o,l,u,d=Array(r.length),m=(e.calcdata||[]).slice();for(e.calcdata=d,i._numBoxes=0,i._numViolins=0,i._violinScaleGroupStats={},e._hmpixcount=0,e._hmlumcount=0,i._piecolormap={},i._sunburstcolormap={},i._treemapcolormap={},i._iciclecolormap={},i._funnelareacolormap={},l=0;l<r.length;l++)if(Array.isArray(t)&&t.indexOf(l)===-1){d[l]=m[l];continue}for(l=0;l<r.length;l++)a=r[l],a._arrayAttrs=c.findArrayAttributes(a),a._extremes={};var h=i._subplots.polar||[];for(l=0;l<h.length;l++)n.push(i[h[l]].radialaxis,i[h[l]].angularaxis);for(var g in i._colorAxes){var _=i[g];_.cauto!==!1&&(delete _.cmin,delete _.cmax)}var v=!1;function y(t){if(a=r[t],o=a._module,a.visible===!0&&a.transforms){if(o&&o.calc){var n=o.calc(e,a);n[0]&&n[0].t&&n[0].t._scene&&delete n[0].t._scene.dirty}for(u=0;u<a.transforms.length;u++){var i=a.transforms[u];o=S[i.type],o&&o.calcTransform&&(a._hasCalcTransform=!0,v=!0,o.calcTransform(e,a,i))}}}function b(t,n){if(a=r[t],o=a._module,!!o.isContainer===n){var i=[];if(a.visible===!0&&a._length!==0){delete a._indexToPoints;var s=a.transforms||[];for(u=s.length-1;u>=0;u--)if(s[u].enabled){a._indexToPoints=s[u]._indexToPoints;break}o&&o.calc&&(i=o.calc(e,a))}(!Array.isArray(i)||!i[0])&&(i=[{x:f,y:f}]),i[0].t||(i[0].t={}),i[0].trace=a,d[t]=i}}for(G(n,r,i),l=0;l<r.length;l++)b(l,!0);for(l=0;l<r.length;l++)y(l);for(v&&G(n,r,i),l=0;l<r.length;l++)b(l,!0);for(l=0;l<r.length;l++)b(l,!1);K(e);var x=W(n,e);if(x.length){for(i._numBoxes=0,i._numViolins=0,l=0;l<x.length;l++)b(x[l],!0);for(l=0;l<x.length;l++)b(x[l],!1);K(e)}s.getComponentMethod(`fx`,`calc`)(e),s.getComponentMethod(`errorbars`,`calc`)(e)};var U=/(total|sum|min|max|mean|median) (ascending|descending)/;function W(e,t){var n=[],r,i,a,o,c;function l(e,n,r){var i=n._id.charAt(0);if(e===`histogram2dcontour`){var a=n._counterAxes[0],o=p.getFromId(t,a),s=i===`x`||a===`x`&&o.type===`category`,c=i===`y`||a===`y`&&o.type===`category`;return function(e,t){return e===0||t===0||s&&e===r[t].length-1||c&&t===r.length-1?-1:(i===`y`?t:e)-1}}else return function(e,t){return i===`y`?t:e}}var d={min:function(e){return u.aggNums(Math.min,null,e)},max:function(e){return u.aggNums(Math.max,null,e)},sum:function(e){return u.aggNums(function(e,t){return e+t},null,e)},total:function(e){return u.aggNums(function(e,t){return e+t},null,e)},mean:function(e){return u.mean(e)},median:function(e){return u.median(e)}};for(r=0;r<e.length;r++){var f=e[r];if(f.type===`category`){var m=f.categoryorder.match(U);if(m){var h=m[1],g=m[2],_=f._id.charAt(0),v=_===`x`,y=[];for(i=0;i<f._categories.length;i++)y.push([f._categories[i],[]]);for(i=0;i<f._traceIndices.length;i++){var b=f._traceIndices[i],x=t._fullData[b];if(x.visible===!0){var S=x.type;s.traceIs(x,`histogram`)&&(delete x._xautoBinFinished,delete x._yautoBinFinished);var C=S===`splom`,w=S===`scattergl`,T=t.calcdata[b];for(a=0;a<T.length;a++){var E=T[a],D,O;if(C){var k=x._axesDim[f._id];if(!v){var A=x._diag[k][0];A&&(f=t._fullLayout[p.id2name(A)])}var j=E.trace.dimensions[k].values;for(o=0;o<j.length;o++)for(D=f._categoriesMap[j[o]],c=0;c<E.trace.dimensions.length;c++)if(c!==k){var M=E.trace.dimensions[c];y[D][1].push(M.values[o])}}else if(w){for(o=0;o<E.t.x.length;o++)v?(D=E.t.x[o],O=E.t.y[o]):(D=E.t.y[o],O=E.t.x[o]),y[D][1].push(O);E.t&&E.t._scene&&delete E.t._scene.dirty}else if(E.hasOwnProperty(`z`)){O=E.z;var N=l(x.type,f,O);for(o=0;o<O.length;o++)for(c=0;c<O[o].length;c++)D=N(c,o),D+1&&y[D][1].push(O[o][c])}else for(D=E.p,D===void 0&&(D=E[_]),O=E.s,O===void 0&&(O=E.v),O===void 0&&(O=v?E.y:E.x),Array.isArray(O)||(O=O===void 0?[]:[O]),o=0;o<O.length;o++)y[D][1].push(O[o])}}}f._categoriesValue=y;var P=[];for(i=0;i<y.length;i++)P.push([y[i][0],d[h](y[i][1])]);P.sort(function(e,t){return e[1]-t[1]}),f._categoriesAggregatedValue=P,f._initialCategories=P.map(function(e){return e[0]}),g===`descending`&&f._initialCategories.reverse(),n=n.concat(f.sortByInitialCategories())}}}return n}function G(e,t,n){var r={};function i(e){e.clearCalc(),e.type===`multicategory`&&e.setupMultiCategory(t),r[e._id]=1}u.simpleMap(e,i);for(var a=n._axisMatchGroups||[],o=0;o<a.length;o++)for(var s in a[o])r[s]||i(n[p.id2name(s)])}function K(e){var t=e._fullLayout,n=t._visibleModules,r={},i,a,o;for(a=0;a<n.length;a++){var s=n[a],c=s.crossTraceCalc;if(c){var l=s.basePlotModule.name;r[l]?u.pushUnique(r[l],c):r[l]=[c]}}for(o in r){var d=r[o],f=t._subplots[o];if(Array.isArray(f))for(i=0;i<f.length;i++){var p=f[i],m=o===`cartesian`?t._plots[p]:t[p];for(a=0;a<d.length;a++)d[a](e,m,p)}else for(a=0;a<d.length;a++)d[a](e)}}x.rehover=function(e){e._fullLayout._rehover&&e._fullLayout._rehover()},x.redrag=function(e){e._fullLayout._redrag&&e._fullLayout._redrag()},x.reselect=function(e){var t=e._fullLayout,n=(e.layout||{}).selections,r=t._previousSelections;t._previousSelections=n;var i=t._reselect||JSON.stringify(n)!==JSON.stringify(r);s.getComponentMethod(`selections`,`reselect`)(e,i)},x.generalUpdatePerTraceModule=function(e,t,n,r){var i=t.traceHash,a={},o;for(o=0;o<n.length;o++){var s=n[o],c=s[0].trace;c.visible&&(a[c.type]=a[c.type]||[],a[c.type].push(s))}for(var l in i)if(!a[l]){var d=i[l][0],f=d[0].trace;f.visible=!1,a[l]=[d]}for(var p in a){var m=a[p];m[0][0].trace._module.plot(e,t,u.filterVisible(m),r)}t.traceHash=a},x.plotBasePlot=function(e,t,n,r,i){var a=s.getModule(e),o=v(t.calcdata,a)[0];a.plot(t,o,r,i)},x.cleanBasePlot=function(e,t,n,r,i){var a=i._has&&i._has(e),o=n._has&&n._has(e);a&&!o&&i[`_`+e+`layer`].selectAll(`g.trace`).remove()}}),9813:(function(e){e.exports={attr:`subplot`,name:`polar`,axisNames:[`angularaxis`,`radialaxis`],axisName2dataArray:{angularaxis:`theta`,radialaxis:`r`},layerNames:[`draglayer`,`plotbg`,`backplot`,`angular-grid`,`radial-grid`,`frontplot`,`angular-line`,`radial-line`,`angular-axis`,`radial-axis`],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}}),10869:(function(e,t,n){var r=n(71828),i=n(61082).tester,a=r.findIndexOfMin,o=r.isAngleInsideSector,s=r.angleDelta,c=r.angleDist;function l(e,t,n,r,a){if(!o(t,r))return!1;var s,c;n[0]<n[1]?(s=n[0],c=n[1]):(s=n[1],c=n[0]);var l=i(m(s,r[0],r[1],a)),u=i(m(c,r[0],r[1],a)),d=[e*Math.cos(t),e*Math.sin(t)];return u.contains(d)&&!l.contains(d)}function u(e,t,n,r){var i,a,o=r[0],s=r[1],c=_(Math.sin(t)-Math.sin(e)),l=_(Math.cos(t)-Math.cos(e)),u=Math.tan(n),d=_(1/u),f=c/l,p=s-f*o;return d?c&&l?(i=p/(u-f),a=u*i):l?(i=s*d,a=s):(i=o,a=o*u):c&&l?(i=0,a=p):l?(i=0,a=s):i=a=NaN,[i,a]}function d(e,t,n,r){var i=-t*n,a=t*t+1,o=2*(t*i-n),s=i*i+n*n-e*e,c=Math.sqrt(o*o-4*a*s),l=(-o+c)/(2*a),u=(-o-c)/(2*a);return[[l,t*l+i+r],[u,t*u+i+r]]}function f(e,t){var n=t.length,r=Array(n+1),i;for(i=0;i<n;i++){var a=t[i];r[i]=[e*Math.cos(a),e*Math.sin(a)]}return r[i]=r[0].slice(),r}function p(e,t,n,i){var s=i.length,l=[],d,f;function p(t){return[e*Math.cos(t),e*Math.sin(t)]}function m(e,t,n){return u(e,t,n,p(e))}function h(e){return r.mod(e,s)}function g(e){return o(e,[t,n])}var _=a(i,function(e){return g(e)?c(e,t):1/0}),v=m(i[_],i[h(_-1)],t);for(l.push(v),d=_,f=0;f<s;d++,f++){var y=i[h(d)];if(!g(y))break;l.push(p(y))}var b=a(i,function(e){return g(e)?c(e,n):1/0}),x=m(i[b],i[h(b+1)],n);return l.push(x),l.push([0,0]),l.push(l[0].slice()),l}function m(e,t,n,i){return r.isFullCircle([t,n])?f(e,i):p(e,t,n,i)}function h(e,t,n,r){for(var i=1/0,a=1/0,o=m(e,t,n,r),s=0;s<o.length;s++){var c=o[s];i=Math.min(i,c[0]),a=Math.min(a,-c[1])}return[i,a]}function g(e,t){var n=a(t,function(t){var n=s(t,e);return n>0?n:1/0}),i=r.mod(n+1,t.length);return[t[n],t[i]]}function _(e){return Math.abs(e)>1e-10?e:0}function v(e,t,n){t||=0,n||=0;for(var r=e.length,i=Array(r),a=0;a<r;a++){var o=e[a];i[a]=[t+o[0],n-o[1]]}return i}function y(e,t,n,r,i,a){return`M`+v(m(e,t,n,r),i,a).join(`L`)}function b(e,t,n,r,i,a,o){var s,c;e<t?(s=e,c=t):(s=t,c=e);var l=v(m(s,n,r,i),a,o);return`M`+v(m(c,n,r,i),a,o).reverse().join(`L`)+`M`+l.join(`L`)}e.exports={isPtInsidePolygon:l,findPolygonOffset:h,findEnclosingVertexAngles:g,findIntersectionXY:u,findXYatLength:d,clampTiny:_,pathPolygon:y,pathPolygonAnnulus:b}}),23580:(function(e,t,n){var r=n(27659).AU,i=n(71828).counterRegex,a=n(77997),o=n(9813),s=o.attr,c=o.name,l=i(c),u={};u[s]={valType:`subplotid`,dflt:c,editType:`calc`};function d(e){for(var t=e._fullLayout,n=e.calcdata,i=t._subplots[c],o=0;o<i.length;o++){var s=i[o],l=r(n,c,s),u=t[s]._subplot;u||(u=a(e,s),t[s]._subplot=u),u.plot(l,t,e._promises)}}function f(e,t,n,r){for(var i=r._subplots[c]||[],a=r._has&&r._has(`gl`),o=t._has&&t._has(`gl`),s=a&&!o,l=0;l<i.length;l++){var u=i[l],d=r[u]._subplot;if(!t[u]&&d)for(var f in d.framework.remove(),d.layers[`radial-axis-title`].remove(),d.clipPaths)d.clipPaths[f].remove();s&&d._scene&&(d._scene.destroy(),d._scene=null)}}e.exports={attr:s,name:c,idRoot:c,idRegex:l,attrRegex:l,attributes:u,layoutAttributes:n(73812),supplyLayoutDefaults:n(68993),plot:d,clean:f,toSVG:n(93612).toSVG}}),73812:(function(e,t,n){var r=n(22399),i=n(13838),a=n(27670).Y,o=n(71828).extendFlat,s=n(30962).overrideAll,c=s({color:i.color,showline:o({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:o({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth,griddash:i.griddash},`plot`,`from-root`),l=s({tickmode:i.minor.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:i.ticks,ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,showexponent:i.showexponent,exponentformat:i.exponentformat,minexponent:i.minexponent,separatethousands:i.separatethousands,tickfont:i.tickfont,tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,layer:i.layer},`plot`,`from-root`),u={visible:o({},i.visible,{dflt:!0}),type:o({},i.type,{values:[`-`,`linear`,`log`,`date`,`category`]}),autotypenumbers:i.autotypenumbers,autorange:o({},i.autorange,{editType:`plot`}),rangemode:{valType:`enumerated`,values:[`tozero`,`nonnegative`,`normal`],dflt:`tozero`,editType:`calc`},range:o({},i.range,{items:[{valType:`any`,editType:`plot`,impliedEdits:{"^autorange":!1}},{valType:`any`,editType:`plot`,impliedEdits:{"^autorange":!1}}],editType:`plot`}),categoryorder:i.categoryorder,categoryarray:i.categoryarray,angle:{valType:`angle`,editType:`plot`},side:{valType:`enumerated`,values:[`clockwise`,`counterclockwise`],dflt:`clockwise`,editType:`plot`},title:{text:o({},i.title.text,{editType:`plot`,dflt:``}),font:o({},i.title.font,{editType:`plot`}),editType:`plot`},hoverformat:i.hoverformat,uirevision:{valType:`any`,editType:`none`},editType:`calc`,_deprecated:{title:i._deprecated.title,titlefont:i._deprecated.titlefont}};o(u,c,l);var d={visible:o({},i.visible,{dflt:!0}),type:{valType:`enumerated`,values:[`-`,`linear`,`category`],dflt:`-`,editType:`calc`,_noTemplating:!0},autotypenumbers:i.autotypenumbers,categoryorder:i.categoryorder,categoryarray:i.categoryarray,thetaunit:{valType:`enumerated`,values:[`radians`,`degrees`],dflt:`degrees`,editType:`calc`},period:{valType:`number`,editType:`calc`,min:0},direction:{valType:`enumerated`,values:[`counterclockwise`,`clockwise`],dflt:`counterclockwise`,editType:`calc`},rotation:{valType:`angle`,editType:`calc`},hoverformat:i.hoverformat,uirevision:{valType:`any`,editType:`none`},editType:`calc`};o(d,c,l),e.exports={domain:a({name:`polar`,editType:`plot`}),sector:{valType:`info_array`,items:[{valType:`number`,editType:`plot`},{valType:`number`,editType:`plot`}],dflt:[0,360],editType:`plot`},hole:{valType:`number`,min:0,max:1,dflt:0,editType:`plot`},bgcolor:{valType:`color`,editType:`plot`,dflt:r.background},radialaxis:u,angularaxis:d,gridshape:{valType:`enumerated`,values:[`circular`,`linear`],dflt:`circular`,editType:`plot`},uirevision:{valType:`any`,editType:`none`},editType:`calc`}}),68993:(function(e,t,n){var r=n(71828),i=n(7901),a=n(44467),o=n(49119),s=n(27659).NG,c=n(26218),l=n(38701),u=n(96115),d=n(89426),f=n(15258),p=n(92128),m=n(4322),h=n(73812),g=n(12101),_=n(9813),v=_.axisNames;function y(e,t,n,o){var m=n(`bgcolor`);o.bgColor=i.combine(m,o.paper_bgcolor);var y=n(`sector`);n(`hole`);var x=s(o.fullData,_.name,o.id),S=o.layoutOut,C;function w(e,t){return n(C+`.`+e,t)}for(var T=0;T<v.length;T++){C=v[T],r.isPlainObject(e[C])||(e[C]={});var E=e[C],D=a.newContainer(t,C);D._id=D._name=C,D._attr=o.id+`.`+C,D._traceIndices=x.map(function(e){return e._expandedIndex});var O=_.axisName2dataArray[C],k=b(E,D,w,x,O,o);f(E,D,w,{axData:x,dataAttr:O});var A=w(`visible`);switch(g(D,t,S),w(`uirevision`,t.uirevision),D._m=1,C){case`radialaxis`:var j=w(`autorange`,!D.isValidRange(E.range));E.autorange=j,j&&(k===`linear`||k===`-`)&&w(`rangemode`),j===`reversed`&&(D._m=-1),w(`range`),D.cleanRange(`range`,{dfltRange:[0,1]});break;case`angularaxis`:if(k===`date`){r.log(`Polar plots do not support date angular axes yet.`);for(var M=0;M<x.length;M++)x[M].visible=!1;k=E.type=D.type=`linear`}w(k===`linear`?`thetaunit`:`period`),w(`rotation`,{counterclockwise:0,clockwise:90}[w(`direction`)]);break}if(d(E,D,w,D.type,{tickSuffixDflt:D.thetaunit===`degrees`?``:void 0}),A){var N,P,F,I,L=o.font||{};N=w(`color`),P=N===E.color?N:L.color,F=L.size,I=L.family,c(E,D,w,D.type),u(E,D,w,D.type,{font:{color:P,size:F,family:I}}),l(E,D,w,{outerTicks:!0}),p(E,D,w,{dfltColor:N,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:h[C]}),w(`layer`),C===`radialaxis`&&(w(`side`),w(`angle`,y[0]),w(`title.text`),r.coerceFont(w,`title.font`,{color:P,size:r.bigFont(F),family:I}))}k!==`category`&&w(`hoverformat`),D._input=E}t.angularaxis.type===`category`&&n(`gridshape`)}function b(e,t,n,r,i,a){var o=n(`autotypenumbers`,a.autotypenumbersDflt);if(n(`type`)===`-`){for(var s,c=0;c<r.length;c++)if(r[c].visible){s=r[c];break}s&&s[i]&&(t.type=m(s[i],`gregorian`,{noMultiCategory:!0,autotypenumbers:o})),t.type===`-`?t.type=`linear`:e.type=t.type}return t.type}e.exports=function(e,t,n){o(e,t,n,{type:_.name,attributes:h,handleDefaults:y,font:t.font,autotypenumbersDflt:t.autotypenumbers,paper_bgcolor:t.paper_bgcolor,fullData:n,layoutOut:t})}}),77997:(function(e,t,n){var r=n(39898),i=n(84267),a=n(73972),o=n(71828),s=o.strRotate,c=o.strTranslate,l=n(7901),u=n(91424),d=n(74875),f=n(89298),p=n(21994),m=n(12101),h=n(71739).doAutoRange,g=n(29323),_=n(28569),v=n(30211),y=n(92998),b=n(47322).prepSelect,x=n(47322).selectOnClick,S=n(47322).clearOutline,C=n(6964),w=n(33306),T=n(61549).redrawReglTraces,E=n(18783).MID_SHIFT,D=n(9813),O=n(10869),k=n(23893),A=k.smith,j=k.reactanceArc,M=k.resistanceArc,N=k.smithTransform,P=o._,F=o.mod,I=o.deg2rad,L=o.rad2deg;function R(e,t,n){this.isSmith=n||!1,this.id=t,this.gd=e,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var r=e._fullLayout,i=`clip`+r._uid+t;this.clipIds.forTraces=i+`-for-traces`,this.clipPaths.forTraces=r._clips.append(`clipPath`).attr(`id`,this.clipIds.forTraces),this.clipPaths.forTraces.append(`path`),this.framework=r[`_`+(n?`smith`:`polar`)+`layer`].append(`g`).attr(`class`,t),this.getHole=function(e){return this.isSmith?0:e.hole},this.getSector=function(e){return this.isSmith?[0,360]:e.sector},this.getRadial=function(e){return this.isSmith?e.realaxis:e.radialaxis},this.getAngular=function(e){return this.isSmith?e.imaginaryaxis:e.angularaxis},n||(this.radialTickLayout=null,this.angularTickLayout=null)}var z=R.prototype;e.exports=function(e,t,n){return new R(e,t,n)},z.plot=function(e,t){for(var n=this,r=t[n.id],i=!1,a=0;a<e.length;a++)if(e[a][0].trace.cliponaxis===!1){i=!0;break}n._hasClipOnAxisFalse=i,n.updateLayers(t,r),n.updateLayout(t,r),d.generalUpdatePerTraceModule(n.gd,n,e,r),n.updateFx(t,r),n.isSmith&&(delete r.realaxis.range,delete r.imaginaryaxis.range)},z.updateLayers=function(e,t){var n=this,i=n.isSmith,a=n.layers,o=n.getRadial(t),s=n.getAngular(t),c=D.layerNames,l=c.indexOf(`frontplot`),u=c.slice(0,l),d=s.layer===`below traces`,f=o.layer===`below traces`;d&&u.push(`angular-line`),f&&u.push(`radial-line`),d&&u.push(`angular-axis`),f&&u.push(`radial-axis`),u.push(`frontplot`),d||u.push(`angular-line`),f||u.push(`radial-line`),d||u.push(`angular-axis`),f||u.push(`radial-axis`);var p=(i?`smith`:`polar`)+`sublayer`,m=n.framework.selectAll(`.`+p).data(u,String);m.enter().append(`g`).attr(`class`,function(e){return p+` `+e}).each(function(e){var t=a[e]=r.select(this);switch(e){case`frontplot`:i||t.append(`g`).classed(`barlayer`,!0),t.append(`g`).classed(`scatterlayer`,!0);break;case`backplot`:t.append(`g`).classed(`maplayer`,!0);break;case`plotbg`:a.bg=t.append(`path`);break;case`radial-grid`:t.style(`fill`,`none`);break;case`angular-grid`:t.style(`fill`,`none`);break;case`radial-line`:t.append(`line`).style(`fill`,`none`);break;case`angular-line`:t.append(`path`).style(`fill`,`none`);break}}),m.order()},z.updateLayout=function(e,t){var n=this,r=n.layers,i=e._size,a=n.getRadial(t),o=n.getAngular(t),s=t.domain.x,d=t.domain.y;n.xOffset=i.l+i.w*s[0],n.yOffset=i.t+i.h*(1-d[1]);var f=n.xLength=i.w*(s[1]-s[0]),p=n.yLength=i.h*(d[1]-d[0]),m=n.getSector(t);n.sectorInRad=m.map(I);var h=n.sectorBBox=V(m),g=h[2]-h[0],_=h[3]-h[1],v=p/f,y=Math.abs(_/g),b,x,S,C,w;v>y?(b=f,x=f*y,w=(p-x)/i.h/2,S=[s[0],s[1]],C=[d[0]+w,d[1]-w]):(b=p/y,x=p,w=(f-b)/i.w/2,S=[s[0]+w,s[1]-w],C=[d[0],d[1]]),n.xLength2=b,n.yLength2=x,n.xDomain2=S,n.yDomain2=C;var T=n.xOffset2=i.l+i.w*S[0],E=n.yOffset2=i.t+i.h*(1-C[1]),D=n.radius=b/g,O=n.innerRadius=n.getHole(t)*D,k=n.cx=T-D*h[0],A=n.cy=E+D*h[3],j=n.cxx=k-T,M=n.cyy=A-E,N=a.side,P;N===`counterclockwise`?(P=N,N=`top`):N===`clockwise`&&(P=N,N=`bottom`),n.radialAxis=n.mockAxis(e,t,a,{_id:`x`,side:N,_trueSide:P,domain:[O/i.w,D/i.w]}),n.angularAxis=n.mockAxis(e,t,o,{side:`right`,domain:[0,Math.PI],autorange:!1}),n.doAutoRange(e,t),n.updateAngularAxis(e,t),n.updateRadialAxis(e,t),n.updateRadialAxisTitle(e,t),n.xaxis=n.mockCartesianAxis(e,t,{_id:`x`,domain:S}),n.yaxis=n.mockCartesianAxis(e,t,{_id:`y`,domain:C});var F=n.pathSubplot();n.clipPaths.forTraces.select(`path`).attr(`d`,F).attr(`transform`,c(j,M)),r.frontplot.attr(`transform`,c(T,E)).call(u.setClipUrl,n._hasClipOnAxisFalse?null:n.clipIds.forTraces,n.gd),r.bg.attr(`d`,F).attr(`transform`,c(k,A)).call(l.fill,t.bgcolor)},z.mockAxis=function(e,t,n,r){var i=o.extendFlat({},n,r);return m(i,t,e),i},z.mockCartesianAxis=function(e,t,n){var r=this,i=r.isSmith,a=n._id,s=o.extendFlat({type:`linear`},n);p(s,e);var c={x:[0,2],y:[1,3]};return s.setRange=function(){var e=r.sectorBBox,n=c[a],i=r.radialAxis._rl,o=(i[1]-i[0])/(1-r.getHole(t));s.range=[e[n[0]]*o,e[n[1]]*o]},s.isPtWithinRange=a===`x`&&!i?function(e){return r.isPtInside(e)}:function(){return!0},s.setRange(),s.setScale(),s},z.doAutoRange=function(e,t){var n=this,r=n.gd,i=n.radialAxis,a=n.getRadial(t);h(r,i);var o=i.range;a.range=o.slice(),a._input.range=o.slice(),i._rl=[i.r2l(o[0],null,`gregorian`),i.r2l(o[1],null,`gregorian`)]},z.updateRadialAxis=function(e,t){var n=this,r=n.gd,i=n.layers,a=n.radius,u=n.innerRadius,d=n.cx,p=n.cy,m=n.getRadial(t),h=F(n.getSector(t)[0],360),g=n.radialAxis,_=u<a,v=n.isSmith;v||(n.fillViewInitialKey(`radialaxis.angle`,m.angle),n.fillViewInitialKey(`radialaxis.range`,g.range.slice()),g.setGeometry()),g.tickangle===`auto`&&h>90&&h<=270&&(g.tickangle=180);var y=v?function(e){var t=N(n,A([e.x,0]));return c(t[0]-d,t[1]-p)}:function(e){return c(g.l2p(e.x)+u,0)},b=v?function(e){return M(n,e.x,-1/0,1/0)}:function(e){return n.pathArc(g.r2p(e.x)+u)},x=B(m);if(n.radialTickLayout!==x&&(i[`radial-axis`].selectAll(`.xtick`).remove(),n.radialTickLayout=x),_){g.setScale();var S=0,C=v?(g.tickvals||[]).filter(function(e){return e>=0}).map(function(e){return f.tickText(g,e,!0,!1)}):f.calcTicks(g),w=v?C:f.clipEnds(g,C),T=f.getTickSigns(g)[2];v&&((g.ticks===`top`&&g.side===`bottom`||g.ticks===`bottom`&&g.side===`top`)&&(T=-T),g.ticks===`top`&&g.side===`top`&&(S=-g.ticklen),g.ticks===`bottom`&&g.side===`bottom`&&(S=g.ticklen)),f.drawTicks(r,g,{vals:C,layer:i[`radial-axis`],path:f.makeTickPath(g,0,T),transFn:y,crisp:!1}),f.drawGrid(r,g,{vals:w,layer:i[`radial-grid`],path:b,transFn:o.noop,crisp:!1}),f.drawLabels(r,g,{vals:C,layer:i[`radial-axis`],transFn:y,labelFns:f.makeLabelFns(g,S)})}var E=n.radialAxisAngle=n.vangles?L(H(I(m.angle),n.vangles)):m.angle,D=c(d,p),O=D+s(-E);U(i[`radial-axis`],_&&(m.showticklabels||m.ticks),{transform:O}),U(i[`radial-grid`],_&&m.showgrid,{transform:v?``:D}),U(i[`radial-line`].select(`line`),_&&m.showline,{x1:v?-a:u,y1:0,x2:a,y2:0,transform:O}).attr(`stroke-width`,m.linewidth).call(l.stroke,m.linecolor)},z.updateRadialAxisTitle=function(e,t,n){if(!this.isSmith){var r=this,i=r.gd,a=r.radius,o=r.cx,s=r.cy,c=r.getRadial(t),l=r.id+`title`,d=0;if(c.title){var f=u.bBox(r.layers[`radial-axis`].node()).height,p=c.title.font.size,m=c.side;d=m===`top`?p:m===`counterclockwise`?-(f+p*.4):f+p*.8}var h=n===void 0?r.radialAxisAngle:n,g=I(h),_=Math.cos(g),v=Math.sin(g),b=o+a/2*_+d*v,x=s-a/2*v+d*_;r.layers[`radial-axis-title`]=y.draw(i,l,{propContainer:c,propName:r.id+`.radialaxis.title`,placeholder:P(i,`Click to enter radial axis title`),attributes:{x:b,y:x,"text-anchor":`middle`},transform:{rotate:-h}})}},z.updateAngularAxis=function(e,t){var n=this,r=n.gd,i=n.layers,a=n.radius,u=n.innerRadius,d=n.cx,p=n.cy,m=n.getAngular(t),h=n.angularAxis,g=n.isSmith;g||(n.fillViewInitialKey(`angularaxis.rotation`,m.rotation),h.setGeometry(),h.setScale());var _=g?function(e){var t=N(n,A([0,e.x]));return Math.atan2(t[0]-d,t[1]-p)-Math.PI/2}:function(e){return h.t2g(e.x)};h.type===`linear`&&h.thetaunit===`radians`&&(h.tick0=L(h.tick0),h.dtick=L(h.dtick));var v=function(e){return c(d+a*Math.cos(e),p-a*Math.sin(e))},y=g?function(e){var t=N(n,A([0,e.x]));return c(t[0],t[1])}:function(e){return v(_(e))},b=g?function(e){var t=N(n,A([0,e.x])),r=Math.atan2(t[0]-d,t[1]-p)-Math.PI/2;return c(t[0],t[1])+s(-L(r))}:function(e){var t=_(e);return v(t)+s(-L(t))},x=g?function(e){return j(n,e.x,0,1/0)}:function(e){var t=_(e),n=Math.cos(t),r=Math.sin(t);return`M`+[d+u*n,p-u*r]+`L`+[d+a*n,p-a*r]},S=f.makeLabelFns(h,0).labelStandoff,C={};C.xFn=function(e){var t=_(e);return Math.cos(t)*S},C.yFn=function(e){var t=_(e),n=Math.sin(t)>0?.2:1;return-Math.sin(t)*(S+e.fontSize*n)+Math.abs(Math.cos(t))*(e.fontSize*E)},C.anchorFn=function(e){var t=_(e),n=Math.cos(t);return Math.abs(n)<.1?`middle`:n>0?`start`:`end`},C.heightFn=function(e,t,n){var r=_(e);return-.5*(1+Math.sin(r))*n};var w=B(m);n.angularTickLayout!==w&&(i[`angular-axis`].selectAll(`.`+h._id+`tick`).remove(),n.angularTickLayout=w);var T=g?[1/0].concat(h.tickvals||[]).map(function(e){return f.tickText(h,e,!0,!1)}):f.calcTicks(h);g&&(T[0].text=``,T[0].fontSize*=1.75);var D;if(t.gridshape===`linear`?(D=T.map(_),o.angleDelta(D[0],D[1])<0&&(D=D.slice().reverse())):D=null,n.vangles=D,h.type===`category`&&(T=T.filter(function(e){return o.isAngleInsideSector(_(e),n.sectorInRad)})),h.visible){var O=h.ticks===`inside`?-1:1,k=(h.linewidth||1)/2;f.drawTicks(r,h,{vals:T,layer:i[`angular-axis`],path:`M`+O*k+`,0h`+O*h.ticklen,transFn:b,crisp:!1}),f.drawGrid(r,h,{vals:T,layer:i[`angular-grid`],path:x,transFn:o.noop,crisp:!1}),f.drawLabels(r,h,{vals:T,layer:i[`angular-axis`],repositionOnUpdate:!0,transFn:y,labelFns:C})}U(i[`angular-line`].select(`path`),m.showline,{d:n.pathSubplot(),transform:c(d,p)}).attr(`stroke-width`,m.linewidth).call(l.stroke,m.linecolor)},z.updateFx=function(e,t){this.gd._context.staticPlot||(this.isSmith||(this.updateAngularDrag(e),this.updateRadialDrag(e,t,0),this.updateRadialDrag(e,t,1)),this.updateHoverAndMainDrag(e))},z.updateHoverAndMainDrag=function(e){var t=this,n=t.isSmith,s=t.gd,l=t.layers,u=e._zoomlayer,d=D.MINZOOM,f=D.OFFEDGE,p=t.radius,m=t.innerRadius,h=t.cx,y=t.cy,C=t.cxx,w=t.cyy,T=t.sectorInRad,E=t.vangles,k=t.radialAxis,A=O.clampTiny,j=O.findXYatLength,M=O.findEnclosingVertexAngles,N=D.cornerHalfWidth,P=D.cornerLen/2,F,I,L=g.makeDragger(l,`path`,`maindrag`,e.dragmode===!1?`none`:`crosshair`);r.select(L).attr(`d`,t.pathSubplot()).attr(`transform`,c(h,y)),L.onmousemove=function(e){v.hover(s,e,t.id),s._fullLayout._lasthover=L,s._fullLayout._hoversubplot=t.id},L.onmouseout=function(e){s._dragging||_.unhover(s,e)};var R={element:L,gd:s,subplot:t.id,plotinfo:{id:t.id,xaxis:t.xaxis,yaxis:t.yaxis},xaxes:[t.xaxis],yaxes:[t.yaxis]},z,B,V,H,U,W,G,K,ee;function q(e,t){return Math.sqrt(e*e+t*t)}function J(e,t){return q(e-C,t-w)}function Y(e,t){return Math.atan2(w-t,e-C)}function te(e,t){return[e*Math.cos(t),e*Math.sin(-t)]}function ne(e,n){if(e===0)return t.pathSector(2*N);var r=P/e,i=n-r,a=n+r,o=Math.max(0,Math.min(e,p)),s=o-N,c=o+N;return`M`+te(s,i)+`A`+[s,s]+` 0,0,0 `+te(s,a)+`L`+te(c,a)+`A`+[c,c]+` 0,0,1 `+te(c,i)+`Z`}function re(e,n,r){if(e===0)return t.pathSector(2*N);var i=te(e,n),a=te(e,r),o=A((i[0]+a[0])/2),s=A((i[1]+a[1])/2),c,l;if(o&&s){var u=s/o,d=-1/u,f=j(N,u,o,s);c=j(P,d,f[0][0],f[0][1]),l=j(P,d,f[1][0],f[1][1])}else{var p,m;s?(p=P,m=N):(p=N,m=P),c=[[o-p,s-m],[o+p,s-m]],l=[[o-p,s+m],[o+p,s+m]]}return`M`+c.join(`L`)+`L`+l.reverse().join(`L`)+`Z`}function ie(){V=null,H=null,U=t.pathSubplot(),W=!1;var e=s._fullLayout[t.id];G=i(e.bgcolor).getLuminance(),K=g.makeZoombox(u,G,h,y,U),K.attr(`fill-rule`,`evenodd`),ee=g.makeCorners(u,h,y),S(s)}function ae(e,t){return t=Math.max(Math.min(t,p),m),e<f?e=0:p-e<f?e=p:t<f?t=0:p-t<f&&(t=p),Math.abs(t-e)>d?(e<t?(V=e,H=t):(V=t,H=e),!0):(V=null,H=null,!1)}function oe(e,t){e||=U,t||=`M0,0Z`,K.attr(`d`,e),ee.attr(`d`,t),g.transitionZoombox(K,ee,W,G),W=!0;var n={};de(n),s.emit(`plotly_relayouting`,n)}function se(e,n){e*=F,n*=I;var r=z+e,i=B+n,a=J(z,B),o=Math.min(J(r,i),p),s=Y(z,B),c,l;ae(a,o)&&(c=U+t.pathSector(H),V&&(c+=t.pathSector(V)),l=ne(V,s)+ne(H,s)),oe(c,l)}function ce(e,t,n,r){var i=O.findIntersectionXY(n,r,n,[e-C,w-t]);return q(i[0],i[1])}function le(e,n){var r=z+e,i=B+n,a=Y(z,B),o=Y(r,i),s=M(a,E),c=M(o,E),l=ce(z,B,s[0],s[1]),u=Math.min(ce(r,i,c[0],c[1]),p),d,f;ae(l,u)&&(d=U+t.pathSector(H),V&&(d+=t.pathSector(V)),f=[re(V,s[0],s[1]),re(H,s[0],s[1])].join(` `)),oe(d,f)}function ue(){if(g.removeZoombox(s),!(V===null||H===null)){var e={};de(e),g.showDoubleClickNotifier(s),a.call(`_guiRelayout`,s,e)}}function de(e){var n=k._rl,r=(n[1]-n[0])/(1-m/p)/p,i=[n[0]+(V-m)*r,n[0]+(H-m)*r];e[t.id+`.radialaxis.range`]=i}function fe(e,n){var r=s._fullLayout.clickmode;if(g.removeZoombox(s),e===2){var i={};for(var o in t.viewInitial)i[t.id+`.`+o]=t.viewInitial[o];s.emit(`plotly_doubleclick`,null),a.call(`_guiRelayout`,s,i)}r.indexOf(`select`)>-1&&e===1&&x(n,s,[t.xaxis],[t.yaxis],t.id,R),r.indexOf(`event`)>-1&&v.click(s,n,t.id)}R.prepFn=function(e,t,r){var i=s._fullLayout.dragmode,a=L.getBoundingClientRect();s._fullLayout._calcInverseTransform(s);var c=s._fullLayout._invTransform;F=s._fullLayout._invScaleX,I=s._fullLayout._invScaleY;var l=o.apply3DTransform(c)(t-a.left,r-a.top);if(z=l[0],B=l[1],E){var u=O.findPolygonOffset(p,T[0],T[1],E);z+=C+u[0],B+=w+u[1]}switch(i){case`zoom`:R.clickFn=fe,n||(E?R.moveFn=le:R.moveFn=se,R.doneFn=ue,ie(e,t,r));break;case`select`:case`lasso`:b(e,t,r,R,i);break}},_.init(R)},z.updateRadialDrag=function(e,t,n){var i=this,l=i.gd,u=i.layers,d=i.radius,f=i.innerRadius,p=i.cx,m=i.cy,h=i.radialAxis,v=D.radialDragBoxSize,y=v/2;if(!h.visible)return;var b=I(i.radialAxisAngle),x=h._rl,C=x[0],E=x[1],O=x[n],k=.75*(x[1]-x[0])/(1-i.getHole(t))/d,A,j,M;n?(A=p+(d+y)*Math.cos(b),j=m-(d+y)*Math.sin(b),M=`radialdrag`):(A=p+(f-y)*Math.cos(b),j=m-(f-y)*Math.sin(b),M=`radialdrag-inner`);var N=g.makeRectDragger(u,M,`crosshair`,-y,-y,v,v),P={element:N,gd:l};e.dragmode===!1&&(P.dragmode=!1),U(r.select(N),h.visible&&f<d,{transform:c(A,j)});var F,R,z;function B(e,t){if(F)F(e,t);else{var n=[e,-t],r=[Math.cos(b),Math.sin(b)],i=Math.abs(o.dot(n,r)/Math.sqrt(o.dot(n,n)));isNaN(i)||(F=i<.5?G:K)}var a={};V(a),l.emit(`plotly_relayouting`,a)}function V(e){R===null?z!==null&&(e[i.id+`.radialaxis.range[`+n+`]`]=z):e[i.id+`.radialaxis.angle`]=R}function W(){R===null?z!==null&&a.call(`_guiRelayout`,l,i.id+`.radialaxis.range[`+n+`]`,z):a.call(`_guiRelayout`,l,i.id+`.radialaxis.angle`,R)}function G(e,t){if(n!==0){var r=A+e,a=j+t;R=Math.atan2(m-a,r-p),i.vangles&&(R=H(R,i.vangles)),R=L(R);var o=c(p,m)+s(-R);u[`radial-axis`].attr(`transform`,o),u[`radial-line`].select(`line`).attr(`transform`,o);var l=i.gd._fullLayout,d=l[i.id];i.updateRadialAxisTitle(l,d,R)}}function K(e,t){if(z=O-k*o.dot([e,-t],[Math.cos(b),Math.sin(b)]),k>0!=(n?z>C:z<E)){z=null;return}var r=l._fullLayout,s=r[i.id];h.range[n]=z,h._rl[n]=z,i.updateRadialAxis(r,s),i.xaxis.setRange(),i.xaxis.setScale(),i.yaxis.setRange(),i.yaxis.setScale();var c=!1;for(var u in i.traceHash){var d=i.traceHash[u],f=o.filterVisible(d);d[0][0].trace._module.plot(l,i,f,s),a.traceIs(u,`gl`)&&f.length&&(c=!0)}c&&(w(l),T(l))}P.prepFn=function(){F=null,R=null,z=null,P.moveFn=B,P.doneFn=W,S(l)},P.clampFn=function(e,t){return Math.sqrt(e*e+t*t)<D.MINDRAG&&(e=0,t=0),[e,t]},_.init(P)},z.updateAngularDrag=function(e){var t=this,n=t.gd,i=t.layers,l=t.radius,d=t.angularAxis,f=t.cx,p=t.cy,m=t.cxx,h=t.cyy,v=D.angularDragBoxSize,y=g.makeDragger(i,`path`,`angulardrag`,e.dragmode===!1?`none`:`move`),b={element:y,gd:n};e.dragmode===!1?b.dragmode=!1:r.select(y).attr(`d`,t.pathAnnulus(l,l+v)).attr(`transform`,c(f,p)).call(C,`move`);function x(e,t){return Math.atan2(h+v-t,e-m-v)}var E=i.frontplot.select(`.scatterlayer`).selectAll(`.trace`),O=E.selectAll(`.point`),k=E.selectAll(`.textpoint`),A,j,M,N,P,F;function I(l,g){var _=t.gd._fullLayout,v=_[t.id],y=L(x(A+l*e._invScaleX,j+g*e._invScaleY)-F);if(N=M+y,i.frontplot.attr(`transform`,c(t.xOffset2,t.yOffset2)+s([-y,m,h])),t.vangles){P=t.radialAxisAngle+y;var b=c(f,p)+s(-y),S=c(f,p)+s(-P);i.bg.attr(`transform`,b),i[`radial-grid`].attr(`transform`,b),i[`radial-axis`].attr(`transform`,S),i[`radial-line`].select(`line`).attr(`transform`,S),t.updateRadialAxisTitle(_,v,P)}else t.clipPaths.forTraces.select(`path`).attr(`transform`,c(m,h)+s(y));O.each(function(){var e=r.select(this),t=u.getTranslate(e);e.attr(`transform`,c(t.x,t.y)+s([y]))}),k.each(function(){var e=r.select(this),t=e.select(`text`),n=u.getTranslate(e);e.attr(`transform`,s([y,t.attr(`x`),t.attr(`y`)])+c(n.x,n.y))}),d.rotation=o.modHalf(N,360),t.updateAngularAxis(_,v),t._hasClipOnAxisFalse&&!o.isFullCircle(t.sectorInRad)&&E.call(u.hideOutsideRangePoints,t);var C=!1;for(var D in t.traceHash)if(a.traceIs(D,`gl`)){var I=t.traceHash[D],z=o.filterVisible(I);I[0][0].trace._module.plot(n,t,z,v),z.length&&(C=!0)}C&&(w(n),T(n));var B={};R(B),n.emit(`plotly_relayouting`,B)}function R(e){e[t.id+`.angularaxis.rotation`]=N,t.vangles&&(e[t.id+`.radialaxis.angle`]=P)}function z(){k.select(`text`).attr(`transform`,null);var e={};R(e),a.call(`_guiRelayout`,n,e)}b.prepFn=function(r,i,a){M=e[t.id].angularaxis.rotation;var s=y.getBoundingClientRect();A=i-s.left,j=a-s.top,n._fullLayout._calcInverseTransform(n);var c=o.apply3DTransform(e._invTransform)(A,j);A=c[0],j=c[1],F=x(A,j),b.moveFn=I,b.doneFn=z,S(n)},t.vangles&&!o.isFullCircle(t.sectorInRad)&&(b.prepFn=o.noop,C(r.select(y),null)),_.init(b)},z.isPtInside=function(e){if(this.isSmith)return!0;var t=this.sectorInRad,n=this.vangles,r=this.angularAxis.c2g(e.theta),i=this.radialAxis,a=i.c2l(e.r),s=i._rl;return(n?O.isPtInsidePolygon:o.isPtInsideSector)(a,r,s,t,n)},z.pathArc=function(e){var t=this.sectorInRad,n=this.vangles;return(n?O.pathPolygon:o.pathArc)(e,t[0],t[1],n)},z.pathSector=function(e){var t=this.sectorInRad,n=this.vangles;return(n?O.pathPolygon:o.pathSector)(e,t[0],t[1],n)},z.pathAnnulus=function(e,t){var n=this.sectorInRad,r=this.vangles;return(r?O.pathPolygonAnnulus:o.pathAnnulus)(e,t,n[0],n[1],r)},z.pathSubplot=function(){var e=this.innerRadius,t=this.radius;return e?this.pathAnnulus(e,t):this.pathSector(t)},z.fillViewInitialKey=function(e,t){e in this.viewInitial||(this.viewInitial[e]=t)};function B(e){var t=e.ticks+String(e.ticklen)+String(e.showticklabels);return`side`in e&&(t+=e.side),t}function V(e){var t=e[0],n=e[1]-t,r=F(t,360),i=r+n,a=Math.cos(I(r)),o=Math.sin(I(r)),s=Math.cos(I(i)),c=Math.sin(I(i)),l,u,d,f=r<=90&&i>=90||r>90&&i>=450?1:o<=0&&c<=0?0:Math.max(o,c);return l=r<=180&&i>=180||r>180&&i>=540?-1:a>=0&&s>=0?0:Math.min(a,s),u=r<=270&&i>=270||r>270&&i>=630?-1:o>=0&&c>=0?0:Math.min(o,c),d=i>=360?1:a<=0&&s<=0?0:Math.max(a,s),[l,u,d,f]}function H(e,t){return t[o.findIndexOfMin(t,function(t){return o.angleDist(e,t)})]}function U(e,t,n){return t?(e.attr(`display`,null),e.attr(n)):e&&e.attr(`display`,`none`),e}}),12101:(function(e,t,n){var r=n(71828),i=n(21994),a=r.deg2rad,o=r.rad2deg;e.exports=function(e,t,n){switch(i(e,n),e._id){case`x`:case`radialaxis`:s(e,t);break;case`angularaxis`:u(e,t);break}};function s(e,t){var n=t._subplot;e.setGeometry=function(){var t=e._rl[0],r=e._rl[1],i=n.innerRadius,a=(n.radius-i)/(r-t),o=i/a,s=t>r?function(e){return e<=0}:function(e){return e>=0};e.c2g=function(n){var r=e.c2l(n)-t;return(s(r)?r:0)+o},e.g2c=function(n){return e.l2c(n+t-o)},e.g2p=function(e){return e*a},e.c2p=function(t){return e.g2p(e.c2g(t))}}}function c(e,t){return t===`degrees`?a(e):e}function l(e,t){return t===`degrees`?o(e):e}function u(e,t){var n=e.type;if(n===`linear`){var i=e.d2c,s=e.c2d;e.d2c=function(e,t){return c(i(e),t)},e.c2d=function(e,t){return s(l(e,t))}}e.makeCalcdata=function(t,i){var a=t[i],o=t._length,s,c,l=function(n){return e.d2c(n,t.thetaunit)};if(a){if(r.isTypedArray(a)&&n===`linear`){if(o===a.length)return a;if(a.subarray)return a.subarray(0,o)}for(s=Array(o),c=0;c<o;c++)s[c]=l(a[c])}else{var u=i+`0`,d=`d`+i,f=u in t?l(t[u]):0,p=t[d]?l(t[d]):(e.period||2*Math.PI)/o;for(s=Array(o),c=0;c<o;c++)s[c]=f+c*p}return s},e.setGeometry=function(){var i=t.sector,s=i.map(a),c={clockwise:-1,counterclockwise:1}[e.direction],l=a(e.rotation),u=function(e){return c*e+l},d=function(e){return(e-l)/c},f,p,m,h;switch(n){case`linear`:p=f=r.identity,h=a,m=o,e.range=r.isFullCircle(s)?[i[0],i[0]+360]:s.map(d).map(o);break;case`category`:var g=e._categories.length,_=e.period?Math.max(e.period,g):g;_===0&&(_=1),p=h=function(e){return e*2*Math.PI/_},f=m=function(e){return e*_/Math.PI/2},e.range=[0,_];break}e.c2g=function(e){return u(p(e))},e.g2c=function(e){return f(d(e))},e.t2g=function(e){return u(h(e))},e.g2t=function(e){return m(d(e))}}}}),39779:(function(e){e.exports={attr:`subplot`,name:`smith`,axisNames:[`realaxis`,`imaginaryaxis`],axisName2dataArray:{imaginaryaxis:`imag`,realaxis:`real`}}}),23893:(function(e){function t(e){return e<0?-1:e>0?1:0}function n(e){var t=e[0],n=e[1];if(!isFinite(t)||!isFinite(n))return[1,0];var r=(t+1)*(t+1)+n*n;return[(t*t+n*n-1)/r,2*n/r]}function r(e,t){var n=t[0],r=t[1];return[n*e.radius+e.cx,-r*e.radius+e.cy]}function i(e,t){return t*e.radius}function a(e,t,a,o){var s=r(e,n([a,t])),c=s[0],l=s[1],u=r(e,n([o,t])),d=u[0],f=u[1];if(t===0)return[`M`+c+`,`+l,`L`+d+`,`+f].join(` `);var p=i(e,1/Math.abs(t));return[`M`+c+`,`+l,`A`+p+`,`+p+` 0 0,`+(t<0?1:0)+` `+d+`,`+f].join(` `)}function o(e,a,o,s){var c=i(e,1/(a+1)),l=r(e,n([a,o])),u=l[0],d=l[1],f=r(e,n([a,s])),p=f[0],m=f[1];if(t(o)!==t(s)){var h=r(e,n([a,0])),g=h[0],_=h[1];return[`M`+u+`,`+d,`A`+c+`,`+c+` 0 0,`+(0<o?0:1)+` `+g+`,`+_,`A`+c+`,`+c+` 0 0,`+(s<0?0:1)+p+`,`+m].join(` `)}return[`M`+u+`,`+d,`A`+c+`,`+c+` 0 0,`+(s<o?0:1)+` `+p+`,`+m].join(` `)}e.exports={smith:n,reactanceArc:a,resistanceArc:o,smithTransform:r}}),7504:(function(e,t,n){var r=n(27659).AU,i=n(71828).counterRegex,a=n(77997),o=n(39779),s=o.attr,c=o.name,l=i(c),u={};u[s]={valType:`subplotid`,dflt:c,editType:`calc`};function d(e){for(var t=e._fullLayout,n=e.calcdata,i=t._subplots[c],o=0;o<i.length;o++){var s=i[o],l=r(n,c,s),u=t[s]._subplot;u||(u=a(e,s,!0),t[s]._subplot=u),u.plot(l,t,e._promises)}}function f(e,t,n,r){for(var i=r._subplots[c]||[],a=0;a<i.length;a++){var o=i[a],s=r[o]._subplot;if(!t[o]&&s)for(var l in s.framework.remove(),s.clipPaths)s.clipPaths[l].remove()}}e.exports={attr:s,name:c,idRoot:c,idRegex:l,attrRegex:l,attributes:u,layoutAttributes:n(33419),supplyLayoutDefaults:n(9558),plot:d,clean:f,toSVG:n(93612).toSVG}}),33419:(function(e,t,n){var r=n(22399),i=n(13838),a=n(27670).Y,o=n(71828).extendFlat,s=n(30962).overrideAll,c=s({color:i.color,showline:o({},i.showline,{dflt:!0}),linecolor:i.linecolor,linewidth:i.linewidth,showgrid:o({},i.showgrid,{dflt:!0}),gridcolor:i.gridcolor,gridwidth:i.gridwidth,griddash:i.griddash},`plot`,`from-root`),l=s({ticklen:i.ticklen,tickwidth:o({},i.tickwidth,{dflt:2}),tickcolor:i.tickcolor,showticklabels:i.showticklabels,labelalias:i.labelalias,showtickprefix:i.showtickprefix,tickprefix:i.tickprefix,showticksuffix:i.showticksuffix,ticksuffix:i.ticksuffix,tickfont:i.tickfont,tickformat:i.tickformat,hoverformat:i.hoverformat,layer:i.layer},`plot`,`from-root`),u=o({visible:o({},i.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:`data_array`,editType:`plot`},tickangle:o({},i.tickangle,{dflt:90}),ticks:{valType:`enumerated`,values:[`top`,`bottom`,``],editType:`ticks`},side:{valType:`enumerated`,values:[`top`,`bottom`],dflt:`top`,editType:`plot`},editType:`calc`},c,l),d=o({visible:o({},i.visible,{dflt:!0}),tickvals:{valType:`data_array`,editType:`plot`},ticks:i.ticks,editType:`calc`},c,l);e.exports={domain:a({name:`smith`,editType:`plot`}),bgcolor:{valType:`color`,editType:`plot`,dflt:r.background},realaxis:u,imaginaryaxis:d,editType:`calc`}}),9558:(function(e,t,n){var r=n(71828),i=n(7901),a=n(44467),o=n(49119),s=n(27659).NG,c=n(89426),l=n(96115),u=n(92128),d=n(21994),f=n(33419),p=n(39779),m=p.axisNames,h=_(function(e){return e.slice().reverse().map(function(e){return-e}).concat([0]).concat(e)},String);function g(e,t,n,o){var g=n(`bgcolor`);o.bgColor=i.combine(g,o.paper_bgcolor);var _=s(o.fullData,p.name,o.id),v=o.layoutOut,y;function b(e,t){return n(y+`.`+e,t)}for(var x=0;x<m.length;x++){y=m[x],r.isPlainObject(e[y])||(e[y]={});var S=e[y],C=a.newContainer(t,y);C._id=C._name=y,C._attr=o.id+`.`+y,C._traceIndices=_.map(function(e){return e._expandedIndex});var w=b(`visible`);if(C.type=`linear`,d(C,v),c(S,C,b,C.type),w){var T=y===`realaxis`;T&&b(`side`),T?b(`tickvals`):b(`tickvals`,h(t.realaxis.tickvals||f.realaxis.tickvals.dflt));var E,D,O,k,A=o.font||{};w&&(E=b(`color`),D=E===S.color?E:A.color,O=A.size,k=A.family),l(S,C,b,C.type,{noTicklabelstep:!0,noAng:!T,noExp:!0,font:{color:D,size:O,family:k}}),r.coerce2(e,t,f,y+`.ticklen`),r.coerce2(e,t,f,y+`.tickwidth`),r.coerce2(e,t,f,y+`.tickcolor`,t.color),b(`ticks`)||(delete t[y].ticklen,delete t[y].tickwidth,delete t[y].tickcolor),u(S,C,b,{dfltColor:E,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:f[y]}),b(`layer`)}b(`hoverformat`),delete C.type,C._input=S}}e.exports=function(e,t,n){o(e,t,n,{noUirevision:!0,type:p.name,attributes:f,handleDefaults:g,font:t.font,paper_bgcolor:t.paper_bgcolor,fullData:n,layoutOut:t})};function _(e,t){var n={};return function(r){var i=t?t(r):r;if(i in n)return n[i];var a=e(r);return n[i]=a,a}}}),49119:(function(e,t,n){var r=n(71828),i=n(44467),a=n(27670).c;e.exports=function(e,t,n,o){var s=o.type,c=o.attributes,l=o.handleDefaults,u=o.partition||`x`,d=t._subplots[s],f=d.length,p=f&&d[0].replace(/\d+$/,``),m,h;function g(e,t){return r.coerce(m,h,c,e,t)}for(var _=0;_<f;_++){var v=d[_];m=e[v]?e[v]:e[v]={},h=i.newContainer(t,v,p),o.noUirevision||g(`uirevision`,t.uirevision);var y={};y[u]=[_/f,(_+1)/f],a(h,t,g,y),o.id=v,l(m,h,g,o)}}}),5386:(function(e,t,n){var r=n(31562);r.FORMAT_LINK,r.DATE_FORMAT_LINK;function i(e){var t=e.description?` `+e.description:``,n=e.keys||[];if(n.length>0){for(var r=[],i=0;i<n.length;i++)r[i]="`"+n[i]+"`";t+=`Finally, the template string has access to `,t=n.length===1?`variable `+r[0]:`variables `+r.slice(0,-1).join(`, `)+` and `+r.slice(-1)+`.`}return t}t.f=function(e,t){e||={},t||={},i(t);var n={valType:`string`,dflt:``,editType:e.editType||`none`};return e.arrayOk!==!1&&(n.arrayOk=!0),n},t.s=function(e,t){e||={},t||={},i(t);var n={valType:`string`,dflt:``,editType:e.editType||`calc`};return e.arrayOk!==!1&&(n.arrayOk=!0),n}}),61639:(function(e,t,n){var r=n(64380),i=n(27659).AU,a=n(71828).counterRegex,o=`ternary`;t.name=o;var s=t.attr=`subplot`;t.idRoot=o,t.idRegex=t.attrRegex=a(o);var c=t.attributes={};c[s]={valType:`subplotid`,dflt:`ternary`,editType:`calc`},t.layoutAttributes=n(81367),t.supplyLayoutDefaults=n(25369),t.plot=function(e){for(var t=e._fullLayout,n=e.calcdata,a=t._subplots[o],s=0;s<a.length;s++){var c=a[s],l=i(n,o,c),u=t[c]._subplot;u||(u=new r({id:c,graphDiv:e,container:t._ternarylayer.node()},t),t[c]._subplot=u),u.plot(l,t,e._promises)}},t.clean=function(e,t,n,r){for(var i=r._subplots[o]||[],a=0;a<i.length;a++){var s=i[a],c=r[s]._subplot;!t[s]&&c&&(c.plotContainer.remove(),c.clipDef.remove(),c.clipDefRelative.remove(),c.layers[`a-title`].remove(),c.layers[`b-title`].remove(),c.layers[`c-title`].remove())}}}),81367:(function(e,t,n){var r=n(22399),i=n(27670).Y,a=n(13838),o=n(30962).overrideAll,s=n(1426).extendFlat,c={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:s({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:s({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:s({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:`number`,dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},l=e.exports=o({domain:i({name:`ternary`}),bgcolor:{valType:`color`,dflt:r.background},sum:{valType:`number`,dflt:1,min:0},aaxis:c,baxis:c,caxis:c},`plot`,`from-root`);l.uirevision={valType:`any`,editType:`none`},l.aaxis.uirevision=l.baxis.uirevision=l.caxis.uirevision={valType:`any`,editType:`none`}}),25369:(function(e,t,n){var r=n(7901),i=n(44467),a=n(71828),o=n(49119),s=n(96115),c=n(89426),l=n(38701),u=n(26218),d=n(92128),f=n(81367),p=[`aaxis`,`baxis`,`caxis`];e.exports=function(e,t,n){o(e,t,n,{type:`ternary`,attributes:f,handleDefaults:m,font:t.font,paper_bgcolor:t.paper_bgcolor})};function m(e,t,n,a){var o=n(`bgcolor`),s=n(`sum`);a.bgColor=r.combine(o,a.paper_bgcolor);for(var c,l,u,d=0;d<p.length;d++)c=p[d],l=e[c]||{},u=i.newContainer(t,c),u._name=c,h(l,u,a,t);var f=t.aaxis,m=t.baxis,g=t.caxis;f.min+m.min+g.min>=s&&(f.min=0,m.min=0,g.min=0,e.aaxis&&delete e.aaxis.min,e.baxis&&delete e.baxis.min,e.caxis&&delete e.caxis.min)}function h(e,t,n,r){var i=f[t._name];function o(n,r){return a.coerce(e,t,i,n,r)}o(`uirevision`,r.uirevision),t.type=`linear`;var p=o(`color`),m=p===i.color.dflt?n.font.color:p,h=t._name.charAt(0).toUpperCase(),g=`Component `+h,_=o(`title.text`,g);t._hovertitle=_===g?_:h,a.coerceFont(o,`title.font`,{family:n.font.family,size:a.bigFont(n.font.size),color:m}),o(`min`),u(e,t,o,`linear`),c(e,t,o,`linear`),s(e,t,o,`linear`),l(e,t,o,{outerTicks:!0}),o(`showticklabels`)&&(a.coerceFont(o,`tickfont`,{family:n.font.family,size:n.font.size,color:m}),o(`tickangle`),o(`tickformat`)),d(e,t,o,{dfltColor:p,bgColor:n.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:i}),o(`hoverformat`),o(`layer`)}}),64380:(function(e,t,n){var r=n(39898),i=n(84267),a=n(73972),o=n(71828),s=o.strTranslate,c=o._,l=n(7901),u=n(91424),d=n(21994),f=n(1426).extendFlat,p=n(74875),m=n(89298),h=n(28569),g=n(30211),_=n(64505),v=_.freeMode,y=_.rectMode,b=n(92998),x=n(47322).prepSelect,S=n(47322).selectOnClick,C=n(47322).clearOutline,w=n(47322).clearSelectionsCache,T=n(85555);function E(e,t){this.id=e.id,this.graphDiv=e.graphDiv,this.init(t),this.makeFramework(t),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}e.exports=E;var D=E.prototype;D.init=function(e){this.container=e._ternarylayer,this.defs=e._defs,this.layoutId=e._uid,this.traceHash={},this.layers={}},D.plot=function(e,t){var n=this,r=t[n.id],i=t._size;n._hasClipOnAxisFalse=!1;for(var a=0;a<e.length;a++)if(e[a][0].trace.cliponaxis===!1){n._hasClipOnAxisFalse=!0;break}n.updateLayers(r),n.adjustLayout(r,i),p.generalUpdatePerTraceModule(n.graphDiv,n,e,r),n.layers.plotbg.select(`path`).call(l.fill,r.bgcolor)},D.makeFramework=function(e){var t=this,n=t.graphDiv,r=e[t.id],i=t.clipId=`clip`+t.layoutId+t.id,a=t.clipIdRelative=`clip-relative`+t.layoutId+t.id;t.clipDef=o.ensureSingleById(e._clips,`clipPath`,i,function(e){e.append(`path`).attr(`d`,`M0,0Z`)}),t.clipDefRelative=o.ensureSingleById(e._clips,`clipPath`,a,function(e){e.append(`path`).attr(`d`,`M0,0Z`)}),t.plotContainer=o.ensureSingle(t.container,`g`,t.id),t.updateLayers(r),u.setClipUrl(t.layers.backplot,i,n),u.setClipUrl(t.layers.grids,i,n)},D.updateLayers=function(e){var t=this,n=t.layers,i=[`draglayer`,`plotbg`,`backplot`,`grids`];e.aaxis.layer===`below traces`&&i.push(`aaxis`,`aline`),e.baxis.layer===`below traces`&&i.push(`baxis`,`bline`),e.caxis.layer===`below traces`&&i.push(`caxis`,`cline`),i.push(`frontplot`),e.aaxis.layer===`above traces`&&i.push(`aaxis`,`aline`),e.baxis.layer===`above traces`&&i.push(`baxis`,`bline`),e.caxis.layer===`above traces`&&i.push(`caxis`,`cline`);var a=t.plotContainer.selectAll(`g.toplevel`).data(i,String),o=[`agrid`,`bgrid`,`cgrid`];a.enter().append(`g`).attr(`class`,function(e){return`toplevel `+e}).each(function(e){var t=r.select(this);n[e]=t,e===`frontplot`?t.append(`g`).classed(`scatterlayer`,!0):e===`backplot`?t.append(`g`).classed(`maplayer`,!0):e===`plotbg`?t.append(`path`).attr(`d`,`M0,0Z`):e===`aline`||e===`bline`||e===`cline`?t.append(`path`):e===`grids`&&o.forEach(function(e){n[e]=t.append(`g`).classed(`grid `+e,!0)})}),a.order()};var O=Math.sqrt(4/3);D.adjustLayout=function(e,t){var n=this,r=e.domain,i=(r.x[0]+r.x[1])/2,a=(r.y[0]+r.y[1])/2,o=r.x[1]-r.x[0],c=r.y[1]-r.y[0],p=o*t.w,m=c*t.h,h=e.sum,g=e.aaxis.min,_=e.baxis.min,v=e.caxis.min,y,b,x,S,C,w;p>O*m?(S=m,x=S*O):(x=p,S=x/O),C=o*x/p,w=c*S/m,y=t.l+t.w*i-x/2,b=t.t+t.h*(1-a)-S/2,n.x0=y,n.y0=b,n.w=x,n.h=S,n.sum=h,n.xaxis={type:`linear`,range:[g+2*v-h,h-g-2*_],domain:[i-C/2,i+C/2],_id:`x`},d(n.xaxis,n.graphDiv._fullLayout),n.xaxis.setScale(),n.xaxis.isPtWithinRange=function(e){return e.a>=n.aaxis.range[0]&&e.a<=n.aaxis.range[1]&&e.b>=n.baxis.range[1]&&e.b<=n.baxis.range[0]&&e.c>=n.caxis.range[1]&&e.c<=n.caxis.range[0]},n.yaxis={type:`linear`,range:[g,h-_-v],domain:[a-w/2,a+w/2],_id:`y`},d(n.yaxis,n.graphDiv._fullLayout),n.yaxis.setScale(),n.yaxis.isPtWithinRange=function(){return!0};var T=n.yaxis.domain[0],E=n.aaxis=f({},e.aaxis,{range:[g,h-_-v],side:`left`,tickangle:(+e.aaxis.tickangle||0)-30,domain:[T,T+w*O],anchor:`free`,position:0,_id:`y`,_length:x});d(E,n.graphDiv._fullLayout),E.setScale();var D=n.baxis=f({},e.baxis,{range:[h-g-v,_],side:`bottom`,domain:n.xaxis.domain,anchor:`free`,position:0,_id:`x`,_length:x});d(D,n.graphDiv._fullLayout),D.setScale();var k=n.caxis=f({},e.caxis,{range:[h-g-_,v],side:`right`,tickangle:(+e.caxis.tickangle||0)+30,domain:[T,T+w*O],anchor:`free`,position:0,_id:`y`,_length:x});d(k,n.graphDiv._fullLayout),k.setScale();var A=`M`+y+`,`+(b+S)+`h`+x+`l-`+x/2+`,-`+S+`Z`;n.clipDef.select(`path`).attr(`d`,A),n.layers.plotbg.select(`path`).attr(`d`,A);var j=`M0,`+S+`h`+x+`l-`+x/2+`,-`+S+`Z`;n.clipDefRelative.select(`path`).attr(`d`,j);var M=s(y,b);n.plotContainer.selectAll(`.scatterlayer,.maplayer`).attr(`transform`,M),n.clipDefRelative.select(`path`).attr(`transform`,null);var N=s(y-D._offset,b+S);n.layers.baxis.attr(`transform`,N),n.layers.bgrid.attr(`transform`,N);var P=s(y+x/2,b)+`rotate(30)`+s(0,-E._offset);n.layers.aaxis.attr(`transform`,P),n.layers.agrid.attr(`transform`,P);var F=s(y+x/2,b)+`rotate(-30)`+s(0,-k._offset);n.layers.caxis.attr(`transform`,F),n.layers.cgrid.attr(`transform`,F),n.drawAxes(!0),n.layers.aline.select(`path`).attr(`d`,E.showline?`M`+y+`,`+(b+S)+`l`+x/2+`,-`+S:`M0,0`).call(l.stroke,E.linecolor||`#000`).style(`stroke-width`,(E.linewidth||0)+`px`),n.layers.bline.select(`path`).attr(`d`,D.showline?`M`+y+`,`+(b+S)+`h`+x:`M0,0`).call(l.stroke,D.linecolor||`#000`).style(`stroke-width`,(D.linewidth||0)+`px`),n.layers.cline.select(`path`).attr(`d`,k.showline?`M`+(y+x/2)+`,`+b+`l`+x/2+`,`+S:`M0,0`).call(l.stroke,k.linecolor||`#000`).style(`stroke-width`,(k.linewidth||0)+`px`),n.graphDiv._context.staticPlot||n.initInteractions(),u.setClipUrl(n.layers.frontplot,n._hasClipOnAxisFalse?null:n.clipId,n.graphDiv)},D.drawAxes=function(e){var t=this,n=t.graphDiv,r=t.id.substr(7)+`title`,i=t.layers,a=t.aaxis,o=t.baxis,s=t.caxis;if(t.drawAx(a),t.drawAx(o),t.drawAx(s),e){var l=Math.max(a.showticklabels?a.tickfont.size/2:0,(s.showticklabels?s.tickfont.size*.75:0)+(s.ticks===`outside`?s.ticklen*.87:0)),u=(o.showticklabels?o.tickfont.size:0)+(o.ticks===`outside`?o.ticklen:0)+3;i[`a-title`]=b.draw(n,`a`+r,{propContainer:a,propName:t.id+`.aaxis.title`,placeholder:c(n,`Click to enter Component A title`),attributes:{x:t.x0+t.w/2,y:t.y0-a.title.font.size/3-l,"text-anchor":`middle`}}),i[`b-title`]=b.draw(n,`b`+r,{propContainer:o,propName:t.id+`.baxis.title`,placeholder:c(n,`Click to enter Component B title`),attributes:{x:t.x0-u,y:t.y0+t.h+o.title.font.size*.83+u,"text-anchor":`middle`}}),i[`c-title`]=b.draw(n,`c`+r,{propContainer:s,propName:t.id+`.caxis.title`,placeholder:c(n,`Click to enter Component C title`),attributes:{x:t.x0+t.w+u,y:t.y0+t.h+s.title.font.size*.83+u,"text-anchor":`middle`}})}},D.drawAx=function(e){var t=this,n=t.graphDiv,r=e._name,i=r.charAt(0),a=e._id,s=t.layers[r],c=30,l=i+`tickLayout`,u=k(e);t[l]!==u&&(s.selectAll(`.`+a+`tick`).remove(),t[l]=u),e.setScale();var d=m.calcTicks(e),f=m.clipEnds(e,d),p=m.makeTransTickFn(e),h=m.getTickSigns(e)[2],g=o.deg2rad(c),_=h*(e.linewidth||1)/2,v=h*e.ticklen,y=t.w,b=t.h,x=i===`b`?`M0,`+_+`l`+Math.sin(g)*v+`,`+Math.cos(g)*v:`M`+_+`,0l`+Math.cos(g)*v+`,`+-Math.sin(g)*v,S={a:`M0,0l`+b+`,-`+y/2,b:`M0,0l-`+y/2+`,-`+b,c:`M0,0l-`+b+`,`+y/2}[i];m.drawTicks(n,e,{vals:e.ticks===`inside`?f:d,layer:s,path:x,transFn:p,crisp:!1}),m.drawGrid(n,e,{vals:f,layer:t.layers[i+`grid`],path:S,transFn:p,crisp:!1}),m.drawLabels(n,e,{vals:d,layer:s,transFn:p,labelFns:m.makeLabelFns(e,0,c)})};function k(e){return e.ticks+String(e.ticklen)+String(e.showticklabels)}var A=T.MINZOOM/2+.87,j=`m-0.87,.5h`+A+`v3h-`+(A+5.2)+`l`+(A/2+2.6)+`,-`+(A*.87+4.5)+`l2.6,1.5l-`+A/2+`,`+A*.87+`Z`,M=`m0.87,.5h-`+A+`v3h`+(A+5.2)+`l-`+(A/2+2.6)+`,-`+(A*.87+4.5)+`l-2.6,1.5l`+A/2+`,`+A*.87+`Z`,N=`m0,1l`+A/2+`,`+A*.87+`l2.6,-1.5l-`+(A/2+2.6)+`,-`+(A*.87+4.5)+`l-`+(A/2+2.6)+`,`+(A*.87+4.5)+`l2.6,1.5l`+A/2+`,-`+A*.87+`Z`,P=`m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z`,F=!0;D.clearOutline=function(){w(this.dragOptions),C(this.dragOptions.gd)},D.initInteractions=function(){var e=this,t=e.layers.plotbg.select(`path`).node(),n=e.graphDiv,r=n._fullLayout._zoomlayer,d,f;this.dragOptions={element:t,gd:n,plotinfo:{id:e.id,domain:n._fullLayout[e.id].domain,xaxis:e.xaxis,yaxis:e.yaxis},subplot:e.id,prepFn:function(t,r,i){e.dragOptions.xaxes=[e.xaxis],e.dragOptions.yaxes=[e.yaxis],d=n._fullLayout._invScaleX,f=n._fullLayout._invScaleY;var a=e.dragOptions.dragmode=n._fullLayout.dragmode;v(a)?e.dragOptions.minDrag=1:e.dragOptions.minDrag=void 0,a===`zoom`?(e.dragOptions.moveFn=U,e.dragOptions.clickFn=R,e.dragOptions.doneFn=W,z(t,r,i)):a===`pan`?(e.dragOptions.moveFn=K,e.dragOptions.clickFn=R,e.dragOptions.doneFn=ee,G(),e.clearOutline(n)):(y(a)||v(a))&&x(t,r,i,e.dragOptions,a)}};var p,m,_,b,C,w,E,D,k,A;function L(t){var n={};return n[e.id+`.aaxis.min`]=t.a,n[e.id+`.baxis.min`]=t.b,n[e.id+`.caxis.min`]=t.c,n}function R(t,r){var i=n._fullLayout.clickmode;I(n),t===2&&(n.emit(`plotly_doubleclick`,null),a.call(`_guiRelayout`,n,L({a:0,b:0,c:0}))),i.indexOf(`select`)>-1&&t===1&&S(r,n,[e.xaxis],[e.yaxis],e.id,e.dragOptions),i.indexOf(`event`)>-1&&g.click(n,r,e.id)}function z(a,c,u){var d=t.getBoundingClientRect();p=c-d.left,m=u-d.top,n._fullLayout._calcInverseTransform(n);var f=n._fullLayout._invTransform,h=o.apply3DTransform(f)(p,m);p=h[0],m=h[1],_={a:e.aaxis.range[0],b:e.baxis.range[1],c:e.caxis.range[1]},C=_,b=e.aaxis.range[1]-_.a,w=i(e.graphDiv._fullLayout[e.id].bgcolor).getLuminance(),E=`M0,`+e.h+`L`+e.w/2+`, 0L`+e.w+`,`+e.h+`Z`,D=!1,k=r.append(`path`).attr(`class`,`zoombox`).attr(`transform`,s(e.x0,e.y0)).style({fill:w>.2?`rgba(0,0,0,0)`:`rgba(255,255,255,0)`,"stroke-width":0}).attr(`d`,E),A=r.append(`path`).attr(`class`,`zoombox-corners`).attr(`transform`,s(e.x0,e.y0)).style({fill:l.background,stroke:l.defaultLine,"stroke-width":1,opacity:0}).attr(`d`,`M0,0Z`),e.clearOutline(n)}function B(t,n){return 1-n/e.h}function V(t,n){return 1-(t+(e.h-n)/Math.sqrt(3))/e.w}function H(t,n){return(t-(e.h-n)/Math.sqrt(3))/e.w}function U(t,r){var i=p+t*d,a=m+r*f,o=Math.max(0,Math.min(1,B(p,m),B(i,a))),s=Math.max(0,Math.min(1,V(p,m),V(i,a))),c=Math.max(0,Math.min(1,H(p,m),H(i,a))),l=(o/2+c)*e.w,u=(1-o/2-s)*e.w,h=(l+u)/2,g=u-l,v=(1-o)*e.h,y=v-g/O;g<T.MINZOOM?(C=_,k.attr(`d`,E),A.attr(`d`,`M0,0Z`)):(C={a:_.a+o*b,b:_.b+s*b,c:_.c+c*b},k.attr(`d`,E+`M`+l+`,`+v+`H`+u+`L`+h+`,`+y+`L`+l+`,`+v+`Z`),A.attr(`d`,`M`+p+`,`+m+P+`M`+l+`,`+v+j+`M`+u+`,`+v+M+`M`+h+`,`+y+N)),D||=(k.transition().style(`fill`,w>.2?`rgba(0,0,0,0.4)`:`rgba(255,255,255,0.3)`).duration(200),A.transition().style(`opacity`,1).duration(200),!0),n.emit(`plotly_relayouting`,L(C))}function W(){I(n),C!==_&&(a.call(`_guiRelayout`,n,L(C)),F&&n.data&&n._context.showTips&&(o.notifier(c(n,`Double-click to zoom back out`),`long`),F=!1))}function G(){_={a:e.aaxis.range[0],b:e.baxis.range[1],c:e.caxis.range[1]},C=_}function K(t,r){var i=t/e.xaxis._m,a=r/e.yaxis._m;C={a:_.a-a,b:_.b+(i+a)/2,c:_.c-(i-a)/2};var c=[C.a,C.b,C.c].sort(o.sorterAsc),l={a:c.indexOf(C.a),b:c.indexOf(C.b),c:c.indexOf(C.c)};c[0]<0&&(c[1]+c[0]/2<0?(c[2]+=c[0]+c[1],c[0]=c[1]=0):(c[2]+=c[0]/2,c[1]+=c[0]/2,c[0]=0),C={a:c[l.a],b:c[l.b],c:c[l.c]},r=(_.a-C.a)*e.yaxis._m,t=(_.c-C.c-_.b+C.b)*e.xaxis._m);var d=s(e.x0+t,e.y0+r);e.plotContainer.selectAll(`.scatterlayer,.maplayer`).attr(`transform`,d);var f=s(-t,-r);e.clipDefRelative.select(`path`).attr(`transform`,f),e.aaxis.range=[C.a,e.sum-C.b-C.c],e.baxis.range=[e.sum-C.a-C.c,C.b],e.caxis.range=[e.sum-C.a-C.b,C.c],e.drawAxes(!1),e._hasClipOnAxisFalse&&e.plotContainer.select(`.scatterlayer`).selectAll(`.trace`).call(u.hideOutsideRangePoints,e),n.emit(`plotly_relayouting`,L(C))}function ee(){a.call(`_guiRelayout`,n,L(C))}t.onmousemove=function(r){g.hover(n,r,e.id),n._fullLayout._lasthover=t,n._fullLayout._hoversubplot=e.id},t.onmouseout=function(e){n._dragging||h.unhover(n,e)},h.init(this.dragOptions)};function I(e){r.select(e).selectAll(`.zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners`).remove()}}),73972:(function(e,t,n){var r=n(47769),i=n(64213),a=n(75138),o=n(41965),s=n(24401).addStyleRule,c=n(1426),l=n(9012),u=n(10820),d=c.extendFlat,f=c.extendDeepAll;t.modules={},t.allCategories={},t.allTypes=[],t.subplotsRegistry={},t.transformsRegistry={},t.componentsRegistry={},t.layoutArrayContainers=[],t.layoutArrayRegexes=[],t.traceLayoutAttributes={},t.localeRegistry={},t.apiMethodRegistry={},t.collectableSubplotTypes=null,t.register=function(e){if(t.collectableSubplotTypes=null,e)e&&!Array.isArray(e)&&(e=[e]);else throw Error(`No argument passed to Plotly.register.`);for(var n=0;n<e.length;n++){var r=e[n];if(!r)throw Error(`Invalid module was attempted to be registered!`);switch(r.moduleType){case`trace`:p(r);break;case`transform`:g(r);break;case`component`:h(r);break;case`locale`:_(r);break;case`apiMethod`:var i=r.name;t.apiMethodRegistry[i]=r.fn;break;default:throw Error(`Invalid module was attempted to be registered!`)}}},t.getModule=function(e){var n=t.modules[S(e)];return n?n._module:!1},t.traceIs=function(e,n){if(e=S(e),e===`various`)return!1;var i=t.modules[e];return i||=(e&&r.log(`Unrecognized trace type `+e+`.`),t.modules[l.type.dflt]),!!i.categories[n]},t.getTransformIndices=function(e,t){for(var n=[],r=e.transforms||[],i=0;i<r.length;i++)r[i].type===t&&n.push(i);return n},t.hasTransform=function(e,t){for(var n=e.transforms||[],r=0;r<n.length;r++)if(n[r].type===t)return!0;return!1},t.getComponentMethod=function(e,n){var r=t.componentsRegistry[e];return r&&r[n]||i},t.call=function(){var e=arguments[0],n=[].slice.call(arguments,1);return t.apiMethodRegistry[e].apply(null,n)};function p(e){var n=e.name,i=e.categories,a=e.meta;if(t.modules[n]){r.log(`Type `+n+` already registered`);return}t.subplotsRegistry[e.basePlotModule.name]||m(e.basePlotModule);for(var o={},c=0;c<i.length;c++)o[i[c]]=!0,t.allCategories[i[c]]=!0;for(var l in t.modules[n]={_module:e,categories:o},a&&Object.keys(a).length&&(t.modules[n].meta=a),t.allTypes.push(n),t.componentsRegistry)y(l,n);e.layoutAttributes&&d(t.traceLayoutAttributes,e.layoutAttributes);var u=e.basePlotModule,f=u.name;if(f===`mapbox`){var p=u.constants.styleRules;for(var h in p)s(`.js-plotly-plot .plotly .mapboxgl-`+h,p[h])}(f===`geo`||f===`mapbox`)&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function m(e){var n=e.name;if(t.subplotsRegistry[n]){r.log(`Plot type `+n+` already registered.`);return}for(var i in v(e),t.subplotsRegistry[n]=e,t.componentsRegistry)x(i,e.name)}function h(e){if(typeof e.name!=`string`)throw Error(`Component module *name* must be a string.`);var n=e.name;for(var r in t.componentsRegistry[n]=e,e.layoutAttributes&&(e.layoutAttributes._isLinkedToArray&&a(t.layoutArrayContainers,n),v(e)),t.modules)y(n,r);for(var i in t.subplotsRegistry)x(n,i);for(var o in t.transformsRegistry)b(n,o);e.schema&&e.schema.layout&&f(u,e.schema.layout)}function g(e){if(typeof e.name!=`string`)throw Error(`Transform module *name* must be a string.`);var n=`Transform module `+e.name,i=typeof e.transform==`function`,a=typeof e.calcTransform==`function`;if(!i&&!a)throw Error(n+` is missing a *transform* or *calcTransform* method.`);for(var s in i&&a&&r.log([n+` has both a *transform* and *calcTransform* methods.`,`Please note that all *transform* methods are executed`,`before all *calcTransform* methods.`].join(` `)),o(e.attributes)||r.log(n+` registered without an *attributes* object.`),typeof e.supplyDefaults!=`function`&&r.log(n+` registered without a *supplyDefaults* method.`),t.transformsRegistry[e.name]=e,t.componentsRegistry)b(s,e.name)}function _(e){var n=e.name,r=n.split(`-`)[0],i=e.dictionary,a=e.format,o=i&&Object.keys(i).length,s=a&&Object.keys(a).length,c=t.localeRegistry,l=c[n];if(l||(c[n]=l={}),r!==n){var u=c[r];u||(c[r]=u={}),o&&u.dictionary===l.dictionary&&(u.dictionary=i),s&&u.format===l.format&&(u.format=a)}o&&(l.dictionary=i),s&&(l.format=a)}function v(e){if(e.layoutAttributes){var n=e.layoutAttributes._arrayAttrRegexps;if(n)for(var r=0;r<n.length;r++)a(t.layoutArrayRegexes,n[r])}}function y(e,n){var r=t.componentsRegistry[e].schema;if(!(!r||!r.traces)){var i=r.traces[n];i&&f(t.modules[n]._module.attributes,i)}}function b(e,n){var r=t.componentsRegistry[e].schema;if(!(!r||!r.transforms)){var i=r.transforms[n];i&&f(t.transformsRegistry[n].attributes,i)}}function x(e,n){var r=t.componentsRegistry[e].schema;if(!(!r||!r.subplots)){var i=t.subplotsRegistry[n],a=i.layoutAttributes,o=i.attr===`subplot`?i.name:i.attr;Array.isArray(o)&&(o=o[0]);var s=r.subplots[o];a&&s&&f(a,s)}}function S(e){return typeof e==`object`&&(e=e.type),e}}),61914:(function(e,t,n){var r=n(73972),i=n(71828),a=i.extendFlat,o=i.extendDeep;function s(e){var t;switch(e){case`themes__thumb`:t={autosize:!0,width:150,height:150,title:{text:``},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case`thumbnail`:t={title:{text:``},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:``,margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function c(e){return[`xaxis`,`yaxis`,`zaxis`].indexOf(e.slice(0,5))>-1}e.exports=function(e,t){var n,i=e.data,l=e.layout,u=o([],i),d=o({},l,s(t.tileClass)),f=e._context||{};if(t.width&&(d.width=t.width),t.height&&(d.height=t.height),t.tileClass===`thumbnail`||t.tileClass===`themes__thumb`){d.annotations=[];var p=Object.keys(d);for(n=0;n<p.length;n++)c(p[n])&&(d[p[n]].title={text:``});for(n=0;n<u.length;n++){var m=u[n];m.showscale=!1,m.marker&&(m.marker.showscale=!1),r.traceIs(m,`pie-like`)&&(m.textposition=`none`)}}if(Array.isArray(t.annotations))for(n=0;n<t.annotations.length;n++)d.annotations.push(t.annotations[n]);var h=Object.keys(d).filter(function(e){return e.match(/^scene\d*$/)});if(h.length){var g={};for(t.tileClass===`thumbnail`&&(g={title:{text:``},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<h.length;n++){var _=d[h[n]];_.xaxis||={},_.yaxis||={},_.zaxis||={},a(_.xaxis,g),a(_.yaxis,g),a(_.zaxis,g),_._scene=null}}var v=document.createElement(`div`);t.tileClass&&(v.className=t.tileClass);var y={gd:v,td:v,layout:d,data:u,config:{staticPlot:t.staticPlot===void 0?!0:t.staticPlot,plotGlPixelRatio:t.plotGlPixelRatio===void 0?2:t.plotGlPixelRatio,displaylogo:t.displaylogo||!1,showLink:t.showLink||!1,showTips:t.showTips||!1,mapboxAccessToken:f.mapboxAccessToken}};return t.setBackground!==`transparent`&&(y.config.setBackground=t.setBackground||`opaque`),y.gd.defaultLayout=s(t.tileClass),y}}),7239:(function(e,t,n){var r=n(71828),i=n(403),a=n(22435),o=n(25095);function s(e,t){var n;return r.isPlainObject(e)||(n=r.getGraphDiv(e)),t||={},t.format=t.format||`png`,t.width=t.width||null,t.height=t.height||null,t.imageDataOnly=!0,new Promise(function(s,c){n&&n._snapshotInProgress&&c(Error(`Snapshotting already in progress.`)),r.isIE()&&t.format!==`svg`&&c(Error(o.MSG_IE_BAD_FORMAT)),n&&(n._snapshotInProgress=!0);var l=i(e,t),u=t.filename||e.fn||`newplot`;u+=`.`+t.format.replace(`-`,`.`),l.then(function(e){return n&&(n._snapshotInProgress=!1),a(e,u,t.format)}).then(function(e){s(e)}).catch(function(e){n&&(n._snapshotInProgress=!1),c(e)})})}e.exports=s}),22435:(function(e,t,n){var r=n(71828),i=n(25095);function a(e,t,n){var a=document.createElement(`a`),o=`download`in a;return new Promise(function(s,c){var l,u;if(r.isIE())return l=i.createBlob(e,`svg`),window.navigator.msSaveBlob(l,t),l=null,s(t);if(o)return l=i.createBlob(e,n),u=i.createObjectURL(l),a.href=u,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),i.revokeObjectURL(u),l=null,s(t);if(r.isSafari()){var d=n===`svg`?`,`:`;base64,`;return i.octetStream(d+encodeURIComponent(e)),s(t)}c(Error(`download error`))})}e.exports=a}),25095:(function(e,t,n){var r=n(73972);t.getDelay=function(e){return e._has&&(e._has(`gl3d`)||e._has(`gl2d`)||e._has(`mapbox`))?500:0},t.getRedrawFunc=function(e){return function(){r.getComponentMethod(`colorbar`,`draw`)(e)}},t.encodeSVG=function(e){return`data:image/svg+xml,`+encodeURIComponent(e)},t.encodeJSON=function(e){return`data:application/json,`+encodeURIComponent(e)};var i=window.URL||window.webkitURL;t.createObjectURL=function(e){return i.createObjectURL(e)},t.revokeObjectURL=function(e){return i.revokeObjectURL(e)},t.createBlob=function(e,t){if(t===`svg`)return new window.Blob([e],{type:`image/svg+xml;charset=utf-8`});if(t===`full-json`)return new window.Blob([e],{type:`application/json;charset=utf-8`});var n=a(window.atob(e));return new window.Blob([n],{type:`image/`+t})},t.octetStream=function(e){document.location.href=`data:application/octet-stream`+e};function a(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}t.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,t.MSG_IE_BAD_FORMAT=`Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.`}),44511:(function(e,t,n){var r=n(25095);e.exports={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:n(61914),toSVG:n(5900),svgToImg:n(70942),toImage:n(56395),downloadImage:n(7239)}}),70942:(function(e,t,n){var r=n(71828),i=n(15398).EventEmitter,a=n(25095);function o(e){var t=e.emitter||new i,n=new Promise(function(i,o){var s=window.Image,c=e.svg,l=e.format||`png`;if(r.isIE()&&l!==`svg`){var u=Error(a.MSG_IE_BAD_FORMAT);return o(u),e.promise?n:t.emit(`error`,u)}var d=e.canvas,f=e.scale||1,p=e.width||300,m=e.height||150,h=f*p,g=f*m,_=d.getContext(`2d`,{willReadFrequently:!0}),v=new s,y,b;l===`svg`||r.isSafari()?b=a.encodeSVG(c):(y=a.createBlob(c,`svg`),b=a.createObjectURL(y)),d.width=h,d.height=g,v.onload=function(){var n;switch(y=null,a.revokeObjectURL(b),l!==`svg`&&_.drawImage(v,0,0,h,g),l){case`jpeg`:n=d.toDataURL(`image/jpeg`);break;case`png`:n=d.toDataURL(`image/png`);break;case`webp`:n=d.toDataURL(`image/webp`);break;case`svg`:n=b;break;default:var r=`Image format is not jpeg, png, svg or webp.`;if(o(Error(r)),!e.promise)return t.emit(`error`,r)}i(n),e.promise||t.emit(`success`,n)},v.onerror=function(n){if(y=null,a.revokeObjectURL(b),o(n),!e.promise)return t.emit(`error`,n)},v.src=b});return e.promise?n:t}e.exports=o}),56395:(function(e,t,n){var r=n(15398).EventEmitter,i=n(73972),a=n(71828),o=n(25095),s=n(61914),c=n(5900),l=n(70942);function u(e,t){var n=new r,u=s(e,{format:`png`}),d=u.gd;d.style.position=`absolute`,d.style.left=`-5000px`,document.body.appendChild(d);function f(){var e=o.getDelay(d._fullLayout);setTimeout(function(){var e=c(d),r=document.createElement(`canvas`);r.id=a.randstr(),n=l({format:t.format,width:d._fullLayout.width,height:d._fullLayout.height,canvas:r,emitter:n,svg:e}),n.clean=function(){d&&document.body.removeChild(d)}},e)}var p=o.getRedrawFunc(d);return i.call(`_doPlot`,d,u.data,u.layout,u.config).then(p).then(f).catch(function(e){n.emit(`error`,e)}),n}e.exports=u}),5900:(function(e,t,n){var r=n(39898),i=n(71828),a=n(91424),o=n(7901),s=n(77922),c=/"/g,l=`TOBESTRIPPED`,u=RegExp(`("`+l+`)|(`+l+`")`,`g`);function d(e){var t=r.select(`body`).append(`div`).style({display:`none`}).html(``),n=e.replace(/(&[^;]*;)/gi,function(e){return e===`&lt;`?`&#60;`:e===`&rt;`?`&#62;`:e.indexOf(`<`)!==-1||e.indexOf(`>`)!==-1?``:t.html(e).text()});return t.remove(),n}function f(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,`&amp;`)}e.exports=function(e,t,n){var p=e._fullLayout,m=p._paper,h=p._toppaper,g=p.width,_=p.height,v;m.insert(`rect`,`:first-child`).call(a.setRect,0,0,g,_).call(o.fill,p.paper_bgcolor);var y=p._basePlotModules||[];for(v=0;v<y.length;v++){var b=y[v];b.toSVG&&b.toSVG(e)}if(h){var x=h.node().childNodes,S=Array.prototype.slice.call(x);for(v=0;v<S.length;v++){var C=S[v];C.childNodes.length&&m.node().appendChild(C)}}p._draggers&&p._draggers.remove(),m.node().style.background=``,m.selectAll(`text`).attr({"data-unformatted":null,"data-math":null}).each(function(){var e=r.select(this);if(this.style.visibility===`hidden`||this.style.display===`none`){e.remove();return}else e.style({visibility:null,display:null});var t=this.style.fontFamily;t&&t.indexOf(`"`)!==-1&&e.style(`font-family`,t.replace(c,l))}),m.selectAll(`.gradient_filled,.pattern_filled`).each(function(){var e=r.select(this),t=this.style.fill;t&&t.indexOf(`url(`)!==-1&&e.style(`fill`,t.replace(c,l));var n=this.style.stroke;n&&n.indexOf(`url(`)!==-1&&e.style(`stroke`,n.replace(c,l))}),(t===`pdf`||t===`eps`)&&m.selectAll(`#MathJax_SVG_glyphs path`).attr(`stroke-width`,0),m.node().setAttributeNS(s.xmlns,`xmlns`,s.svg),m.node().setAttributeNS(s.xmlns,`xmlns:xlink`,s.xlink),t===`svg`&&n&&(m.attr(`width`,n*g),m.attr(`height`,n*_),m.attr(`viewBox`,`0 0 `+g+` `+_));var w=new window.XMLSerializer().serializeToString(m.node());return w=d(w),w=f(w),w=w.replace(u,`'`),i.isIE()&&(w=w.replace(/"/gi,`'`),w=w.replace(/(\('#)([^']*)('\))/gi,`("#$2")`),w=w.replace(/(\\')/gi,`"`)),w}}),75341:(function(e,t,n){var r=n(71828);e.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,`tx`),r.mergeArray(t.hovertext,e,`htx`);var i=t.marker;if(i){r.mergeArray(i.opacity,e,`mo`,!0),r.mergeArray(i.color,e,`mc`);var a=i.line;a&&(r.mergeArray(a.color,e,`mlc`),r.mergeArrayCastPositive(a.width,e,`mlw`))}}}),1486:(function(e,t,n){var r=n(82196),i=n(12663).axisHoverFormat,a=n(5386).f,o=n(5386).s,s=n(50693),c=n(41940),l=n(97313),u=n(79952).u,d=n(1426).extendFlat,f=c({editType:`calc`,arrayOk:!0,colorEditType:`style`}),p=r.marker.line,m=d({line:d({width:d({},p.width,{dflt:0}),editType:`calc`},s(`marker.line`)),editType:`calc`},s(`marker`),{opacity:{valType:`number`,arrayOk:!0,dflt:1,min:0,max:1,editType:`style`},pattern:u});e.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,xperiod:r.xperiod,yperiod:r.yperiod,xperiod0:r.xperiod0,yperiod0:r.yperiod0,xperiodalignment:r.xperiodalignment,yperiodalignment:r.yperiodalignment,xhoverformat:i(`x`),yhoverformat:i(`y`),text:r.text,texttemplate:o({editType:`plot`},{keys:l.eventDataKeys}),hovertext:r.hovertext,hovertemplate:a({},{keys:l.eventDataKeys}),textposition:{valType:`enumerated`,values:[`inside`,`outside`,`auto`,`none`],dflt:`auto`,arrayOk:!0,editType:`calc`},insidetextanchor:{valType:`enumerated`,values:[`end`,`middle`,`start`],dflt:`end`,editType:`plot`},textangle:{valType:`angle`,dflt:`auto`,editType:`plot`},textfont:d({},f,{}),insidetextfont:d({},f,{}),outsidetextfont:d({},f,{}),constraintext:{valType:`enumerated`,values:[`inside`,`outside`,`both`,`none`],dflt:`both`,editType:`calc`},cliponaxis:d({},r.cliponaxis,{}),orientation:{valType:`enumerated`,values:[`v`,`h`],editType:`calc+clearAxisTypes`},base:{valType:`any`,dflt:null,arrayOk:!0,editType:`calc`},offset:{valType:`number`,dflt:null,arrayOk:!0,editType:`calc`},width:{valType:`number`,dflt:null,min:0,arrayOk:!0,editType:`calc`},marker:m,offsetgroup:r.offsetgroup,alignmentgroup:r.alignmentgroup,selected:{marker:{opacity:r.selected.marker.opacity,color:r.selected.marker.color,editType:`style`},textfont:r.selected.textfont,editType:`style`},unselected:{marker:{opacity:r.unselected.marker.opacity,color:r.unselected.marker.color,editType:`style`},textfont:r.unselected.textfont,editType:`style`},_deprecated:{bardir:{valType:`enumerated`,editType:`calc`,values:[`v`,`h`]}}}}),92290:(function(e,t,n){var r=n(89298),i=n(42973),a=n(52075).hasColorscale,o=n(78803),s=n(75341),c=n(66279);e.exports=function(e,t){var n=r.getFromId(e,t.xaxis||`x`),l=r.getFromId(e,t.yaxis||`y`),u,d,f,p,m,h,g={msUTC:!!(t.base||t.base===0)};t.orientation===`h`?(u=n.makeCalcdata(t,`x`,g),f=l.makeCalcdata(t,`y`),p=i(t,l,`y`,f),m=!!t.yperiodalignment,h=`y`):(u=l.makeCalcdata(t,`y`,g),f=n.makeCalcdata(t,`x`),p=i(t,n,`x`,f),m=!!t.xperiodalignment,h=`x`),d=p.vals;for(var _=Math.min(d.length,u.length),v=Array(_),y=0;y<_;y++)v[y]={p:d[y],s:u[y]},m&&(v[y].orig_p=f[y],v[y][h+`End`]=p.ends[y],v[y][h+`Start`]=p.starts[y]),t.ids&&(v[y].id=String(t.ids[y]));return a(t,`marker`)&&o(e,t,{vals:t.marker.color,containerStr:`marker`,cLetter:`c`}),a(t,`marker.line`)&&o(e,t,{vals:t.marker.line.color,containerStr:`marker.line`,cLetter:`c`}),s(v,t),c(v,t),v}}),97313:(function(e){e.exports={TEXTPAD:3,eventDataKeys:[`value`,`label`]}}),11661:(function(e,t,n){var r=n(92770),i=n(71828).isArrayOrTypedArray,a=n(50606).BADNUM,o=n(73972),s=n(89298),c=n(99082).getAxisGroup,l=n(61546);function u(e,t){for(var n=t.xaxis,r=t.yaxis,i=e._fullLayout,a=e._fullData,s=e.calcdata,c=[],l=[],u=0;u<a.length;u++){var f=a[u];if(f.visible===!0&&o.traceIs(f,`bar`)&&f.xaxis===n._id&&f.yaxis===r._id&&(f.orientation===`h`?c.push(s[u]):l.push(s[u]),f._computePh))for(var p=e.calcdata[u],m=0;m<p.length;m++)typeof p[m].ph0==`function`&&(p[m].ph0=p[m].ph0()),typeof p[m].ph1==`function`&&(p[m].ph1=p[m].ph1())}var h={xCat:n.type===`category`||n.type===`multicategory`,yCat:r.type===`category`||r.type===`multicategory`,mode:i.barmode,norm:i.barnorm,gap:i.bargap,groupgap:i.bargroupgap};d(e,n,r,l,h),d(e,r,n,c,h)}function d(e,t,n,r,i){if(r.length){var a,o,s,c,l;switch(f(n,r),i.mode){case`overlay`:p(t,n,r,i);break;case`group`:for(a=[],o=[],s=0;s<r.length;s++)c=r[s],l=c[0].trace,l.offset===void 0?o.push(c):a.push(c);o.length&&m(e,t,n,o,i),a.length&&p(t,n,a,i);break;case`stack`:case`relative`:for(a=[],o=[],s=0;s<r.length;s++)c=r[s],l=c[0].trace,l.base===void 0?o.push(c):a.push(c);o.length&&h(e,t,n,o,i),a.length&&p(t,n,a,i);break}E(r,t)}}function f(e,t){var n,a;for(n=0;n<t.length;n++){var o=t[n],s=o[0].trace,c=s.type===`funnel`?s._base:s.base,l,u=s.orientation===`h`?s.xcalendar:s.ycalendar,d=e.type===`category`||e.type===`multicategory`?function(){return null}:e.d2c;if(i(c)){for(a=0;a<Math.min(c.length,o.length);a++)l=d(c[a],0,u),r(l)?(o[a].b=+l,o[a].hasB=1):o[a].b=0;for(;a<o.length;a++)o[a].b=0}else{l=d(c,0,u);var f=r(l);for(l=f?l:0,a=0;a<o.length;a++)o[a].b=l,f&&(o[a].hasB=1)}}}function p(e,t,n,r){for(var i=0;i<n.length;i++){var a=n[i],o=new l([a],{posAxis:e,sepNegVal:!1,overlapNoMerge:!r.norm});g(e,o,r),r.norm?(C(o),T(t,o,r)):x(t,o)}}function m(e,t,n,r,i){var a=new l(r,{posAxis:t,sepNegVal:!1,overlapNoMerge:!i.norm});_(e,t,a,i),w(a,t),i.norm?(C(a),T(n,a,i)):x(n,a)}function h(e,t,n,r,i){var o=new l(r,{posAxis:t,sepNegVal:i.mode===`relative`,overlapNoMerge:!(i.norm||i.mode===`stack`||i.mode===`relative`)});g(t,o,i),S(n,o,i);for(var s=0;s<r.length;s++)for(var c=r[s],u=0;u<c.length;u++){var d=c[u];d.s!==a&&d.b+d.s===o.get(d.p,d.s)&&(d._outmost=!0)}i.norm&&T(n,o,i)}function g(e,t,n){for(var r=t.minDiff,i=t.traces,a=r*(1-n.gap),o=a*(1-(n.groupgap||0)),s=-o/2,c=0;c<i.length;c++){var l=i[c][0].t;l.barwidth=o,l.poffset=s,l.bargroupwidth=a,l.bardelta=r}t.binWidth=i[0][0].t.barwidth/100,v(t),y(e,t),b(e,t)}function _(e,t,n,r){for(var i=e._fullLayout,a=n.positions,o=n.distinctPositions,s=n.minDiff,l=n.traces,u=l.length,d=a.length!==o.length,f=s*(1-r.gap),p=c(i,t._id)+l[0][0].trace.orientation,m=i._alignmentOpts[p]||{},h=0;h<u;h++){var g=l[h],_=g[0].trace,x=m[_.alignmentgroup]||{},S=Object.keys(x.offsetGroups||{}).length,C=S?f/S:d?f/u:f,w=C*(1-(r.groupgap||0)),T=S?((2*_._offsetIndex+1-S)*C-w)/2:d?((2*h+1-u)*C-w)/2:-w/2,E=g[0].t;E.barwidth=w,E.poffset=T,E.bargroupwidth=f,E.bardelta=s}n.binWidth=l[0][0].t.barwidth/100,v(n),y(t,n),b(t,n,d)}function v(e){var t=e.traces,n,a;for(n=0;n<t.length;n++){var o=t[n],s=o[0],c=s.trace,l=s.t,u=c._offset||c.offset,d=l.poffset,f;if(i(u)){for(f=Array.prototype.slice.call(u,0,o.length),a=0;a<f.length;a++)r(f[a])||(f[a]=d);for(a=f.length;a<o.length;a++)f.push(d);l.poffset=f}else u!==void 0&&(l.poffset=u);var p=c._width||c.width,m=l.barwidth;if(i(p)){var h=Array.prototype.slice.call(p,0,o.length);for(a=0;a<h.length;a++)r(h[a])||(h[a]=m);for(a=h.length;a<o.length;a++)h.push(m);if(l.barwidth=h,u===void 0){for(f=[],a=0;a<o.length;a++)f.push(d+(m-h[a])/2);l.poffset=f}}else p!==void 0&&(l.barwidth=p,u===void 0&&(l.poffset=d+(m-p)/2))}}function y(e,t){for(var n=t.traces,r=D(e),i=0;i<n.length;i++)for(var a=n[i],o=a[0].t,s=o.poffset,c=Array.isArray(s),l=o.barwidth,u=Array.isArray(l),d=0;d<a.length;d++){var f=a[d],p=f.w=u?l[d]:l;f.p===void 0&&(f.p=f[r],f[`orig_`+r]=f[r]);var m=(c?s[d]:s)+p/2;f[r]=f.p+m}}function b(e,t,n){var r=t.traces,i=t.minDiff/2;s.minDtick(e,t.minDiff,t.distinctPositions[0],n);for(var a=0;a<r.length;a++){var o=r[a],c=o[0],l=c.trace,u=[],d,f,p,m;for(m=0;m<o.length;m++)d=o[m],f=d.p-i,p=d.p+i,u.push(f,p);if(l.width||l.offset){var h=c.t,g=h.poffset,_=h.barwidth,v=Array.isArray(g),y=Array.isArray(_);for(m=0;m<o.length;m++){d=o[m];var b=v?g[m]:g,x=y?_[m]:_;f=d.p+b,p=f+x,u.push(f,p)}}l._extremes[e._id]=s.findExtremes(e,u,{padded:!1})}}function x(e,t){for(var n=t.traces,r=D(e),i=0;i<n.length;i++){for(var a=n[i],o=a[0].trace,c=o.type===`scatter`,l=o.orientation===`v`,u=[],d=!1,f=0;f<a.length;f++){var p=a[f],m=c?0:p.b,h=c?l?p.y:p.x:m+p.s;p[r]=h,u.push(h),p.hasB&&u.push(m),(!p.hasB||!p.b)&&(d=!0)}o._extremes[e._id]=s.findExtremes(e,u,{tozero:d,padded:!0})}}function S(e,t,n){var r=D(e),i=t.traces,o,c,l,u,d,f;for(u=0;u<i.length;u++)if(o=i[u],c=o[0].trace,c.type===`funnel`)for(d=0;d<o.length;d++)f=o[d],f.s!==a&&t.put(f.p,-.5*f.s);for(u=0;u<i.length;u++){o=i[u],c=o[0].trace,l=c.type===`funnel`;var p=[];for(d=0;d<o.length;d++)if(f=o[d],f.s!==a){var m=l?f.s:f.s+f.b,h=t.put(f.p,m),g=h+m;f.b=h,f[r]=g,n.norm||(p.push(g),f.hasB&&p.push(h))}n.norm||(c._extremes[e._id]=s.findExtremes(e,p,{tozero:!0,padded:!0}))}}function C(e){for(var t=e.traces,n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++){var o=r[i];o.s!==a&&e.put(o.p,o.b+o.s)}}function w(e,t){for(var n=e.traces,r=0;r<n.length;r++){var i=n[r];if(i[0].trace.base===void 0)for(var o=new l([i],{posAxis:t,sepNegVal:!0,overlapNoMerge:!0}),s=0;s<i.length;s++){var c=i[s];if(c.p!==a){var u=o.put(c.p,c.b+c.s);u&&(c.b=u)}}}}function T(e,t,n){var i=t.traces,o=D(e),c=n.norm===`fraction`?1:100,l=c/1e9,u=e.l2c(e.c2l(0)),d=n.mode===`stack`?c:u;function f(t){return r(e.c2l(t))&&(t<u-l||t>d+l||!r(u))}for(var p=0;p<i.length;p++){for(var m=i[p],h=m[0].trace,g=[],_=!1,v=!1,y=0;y<m.length;y++){var b=m[y];if(b.s!==a){var x=Math.abs(c/t.get(b.p,b.s));b.b*=x,b.s*=x;var S=b.b,C=S+b.s;b[o]=C,g.push(C),v||=f(C),b.hasB&&(g.push(S),v||=f(S)),(!b.hasB||!b.b)&&(_=!0)}}h._extremes[e._id]=s.findExtremes(e,g,{tozero:_,padded:v})}}function E(e,t){var n=D(t),i={},a,o,s,c=1/0,l=-1/0;for(a=0;a<e.length;a++)for(s=e[a],o=0;o<s.length;o++){var u=s[o].p;r(u)&&(c=Math.min(c,u),l=Math.max(l,u))}var d=1e4/(l-c),f=i.round=function(e){return String(Math.round(d*(e-c)))};for(a=0;a<e.length;a++){s=e[a],s[0].t.extents=i;var p=s[0].t.poffset,m=Array.isArray(p);for(o=0;o<s.length;o++){var h=s[o],g=h[n]-h.w/2;if(r(g)){var _=h[n]+h.w/2,v=f(h.p);i[v]?i[v]=[Math.min(g,i[v][0]),Math.max(_,i[v][1])]:i[v]=[g,_]}h.p0=h.p+(m?p[o]:p),h.p1=h.p0+h.w,h.s0=h.b,h.s1=h.s0+h.s}}}function D(e){return e._id.charAt(0)}e.exports={crossTraceCalc:u,setGroupPositions:d}}),90769:(function(e,t,n){var r=n(71828),i=n(7901),a=n(73972),o=n(67513),s=n(73927),c=n(98340),l=n(26125),u=n(1486),d=r.coerceFont;function f(e,t,n,l){function d(n,i){return r.coerce(e,t,u,n,i)}if(!o(e,t,l,d)){t.visible=!1;return}s(e,t,l,d),d(`xhoverformat`),d(`yhoverformat`),d(`orientation`,t.x&&!t.y?`h`:`v`),d(`base`),d(`offset`),d(`width`),d(`text`),d(`hovertext`),d(`hovertemplate`),m(e,t,l,d,d(`textposition`),{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c(e,t,d,n,l);var f=(t.marker.line||{}).color,p=a.getComponentMethod(`errorbars`,`supplyDefaults`);p(e,t,f||i.defaultLine,{axis:`y`}),p(e,t,f||i.defaultLine,{axis:`x`,inherit:`y`}),r.coerceSelectionMarkerOpacity(t,d)}function p(e,t){var n,i;function a(e){return r.coerce(i._input,i,u,e)}if(t.barmode===`group`)for(var o=0;o<e.length;o++)i=e[o],i.type===`bar`&&(n=i._input,l(n,i,t,a))}function m(e,t,n,i,a,o){o||={};var s=o.moduleHasSelected!==!1,c=o.moduleHasUnselected!==!1,l=o.moduleHasConstrain!==!1,u=o.moduleHasCliponaxis!==!1,f=o.moduleHasTextangle!==!1,p=o.moduleHasInsideanchor!==!1,m=!!o.hasPathbar,h=Array.isArray(a)||a===`auto`,g=h||a===`inside`,_=h||a===`outside`;if(g||_){var v=d(i,`textfont`,n.font),y=r.extendFlat({},v),b=!(e.textfont&&e.textfont.color);if(b&&delete y.color,d(i,`insidetextfont`,y),m){var x=r.extendFlat({},v);b&&delete x.color,d(i,`pathbar.textfont`,x)}_&&d(i,`outsidetextfont`,v),s&&i(`selected.textfont.color`),c&&i(`unselected.textfont.color`),l&&i(`constraintext`),u&&i(`cliponaxis`),f&&i(`textangle`),i(`texttemplate`)}g&&p&&i(`insidetextanchor`)}e.exports={supplyDefaults:f,crossTraceDefaults:p,handleText:m}}),58065:(function(e){e.exports=function(e,t,n){return e.x=`xVal`in t?t.xVal:t.x,e.y=`yVal`in t?t.yVal:t.y,t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),n.orientation===`h`?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}}),69383:(function(e,t,n){var r=n(92770),i=n(84267),a=n(71828).isArrayOrTypedArray;t.coerceString=function(e,t,n){if(typeof t==`string`){if(t||!e.noBlank)return t}else if((typeof t==`number`||t===!0)&&!e.strict)return String(t);return n===void 0?e.dflt:n},t.coerceNumber=function(e,t,n){if(r(t)){t=+t;var i=e.min,a=e.max;if(!(i!==void 0&&t<i||a!==void 0&&t>a))return t}return n===void 0?e.dflt:n},t.coerceColor=function(e,t,n){return i(t).isValid()?t:n===void 0?e.dflt:n},t.coerceEnumerated=function(e,t,n){return e.coerceNumber&&(t=+t),e.values.indexOf(t)===-1?n===void 0?e.dflt:n:t},t.getValue=function(e,t){var n;return Array.isArray(e)?t<e.length&&(n=e[t]):n=e,n},t.getLineWidth=function(e,t){return 0<t.mlw?t.mlw:a(e.marker.line.width)?0:e.marker.line.width}}),95423:(function(e,t,n){var r=n(30211),i=n(73972),a=n(7901),o=n(71828).fillText,s=n(69383).getLineWidth,c=n(89298).hoverLabelText,l=n(50606).BADNUM;function u(e,t,n,r,a){var o=d(e,t,n,r,a);if(o){var s=o.cd,c=s[0].trace,l=s[o.index];return o.color=f(c,l),i.getComponentMethod(`errorbars`,`hoverInfo`)(l,c,o),[o]}}function d(e,t,n,i,a){var s=e.cd,u=s[0].trace,d=s[0].t,f=i===`closest`,p=u.type===`waterfall`,m=e.maxHoverDistance,h=e.maxSpikeDistance,g,_,v,y,b,x,S;u.orientation===`h`?(g=n,_=t,v=`y`,y=`x`,b=F,x=M):(g=t,_=n,v=`x`,y=`y`,x=F,b=M);var C=u[v+`period`],w=f||C;function T(e){return D(e,-1)}function E(e){return D(e,1)}function D(e,t){var n=e.w;return e[v]+t*n/2}function O(e){return e[v+`End`]-e[v+`Start`]}var k=f?T:C?function(e){return e.p-O(e)/2}:function(e){return Math.min(T(e),e.p-d.bardelta/2)},A=f?E:C?function(e){return e.p+O(e)/2}:function(e){return Math.max(E(e),e.p+d.bardelta/2)};function j(e,t,n){return a.finiteRange&&(n=0),r.inbox(e-g,t-g,n+Math.min(1,Math.abs(t-e)/S)-1)}function M(e){return j(k(e),A(e),m)}function N(e){return j(T(e),E(e),h)}function P(e){var t=e[y];if(p){var n=Math.abs(e.rawS)||0;_>0?t+=n:_<0&&(t-=n)}return t}function F(e){var t=_,n=e.b,i=P(e);return r.inbox(n-t,i-t,m+(i-t)/(i-n)-1)}function I(e){var t=_,n=e.b,i=P(e);return r.inbox(n-t,i-t,h+(i-t)/(i-n)-1)}var L=e[v+`a`],R=e[y+`a`];S=Math.abs(L.r2c(L.range[1])-L.r2c(L.range[0]));function z(e){return(b(e)+x(e))/2}var B=r.getDistanceFunction(i,b,x,z);if(r.getClosest(s,B,e),e.index!==!1&&s[e.index].p!==l){w||(k=function(e){return Math.min(T(e),e.p-d.bargroupwidth/2)},A=function(e){return Math.max(E(e),e.p+d.bargroupwidth/2)});var V=s[e.index],H=u.base?V.b+V.s:V.s;e[y+`0`]=e[y+`1`]=R.c2p(V[y],!0),e[y+`LabelVal`]=H;var U=d.extents[d.extents.round(V.p)];e[v+`0`]=L.c2p(f?k(V):U[0],!0),e[v+`1`]=L.c2p(f?A(V):U[1],!0);var W=V.orig_p!==void 0;return e[v+`LabelVal`]=W?V.orig_p:V.p,e.labelLabel=c(L,e[v+`LabelVal`],u[v+`hoverformat`]),e.valueLabel=c(R,e[y+`LabelVal`],u[y+`hoverformat`]),e.baseLabel=c(R,V.b,u[y+`hoverformat`]),e.spikeDistance=(I(V)+N(V))/2,e[v+`Spike`]=L.c2p(V.p,!0),o(V,u,e),e.hovertemplate=u.hovertemplate,e}}function f(e,t){var n=t.mcc||e.marker.color,r=t.mlcc||e.marker.line.color,i=s(e,t);if(a.opacity(n))return n;if(a.opacity(r)&&i)return r}e.exports={hoverPoints:u,hoverOnBars:d,getTraceColor:f}}),60822:(function(e,t,n){e.exports={attributes:n(1486),layoutAttributes:n(43641),supplyDefaults:n(90769).supplyDefaults,crossTraceDefaults:n(90769).crossTraceDefaults,supplyLayoutDefaults:n(13957),calc:n(92290),crossTraceCalc:n(11661).crossTraceCalc,colorbar:n(4898),arraysToCalcdata:n(75341),plot:n(17295).plot,style:n(16688).style,styleOnSelect:n(16688).styleOnSelect,hoverPoints:n(95423).hoverPoints,eventData:n(58065),selectPoints:n(81974),moduleType:`trace`,name:`bar`,basePlotModule:n(93612),categories:[`bar-like`,`cartesian`,`svg`,`bar`,`oriented`,`errorBarsOK`,`showLegend`,`zoomScale`],animatable:!0,meta:{}}}),43641:(function(e){e.exports={barmode:{valType:`enumerated`,values:[`stack`,`group`,`overlay`,`relative`],dflt:`group`,editType:`calc`},barnorm:{valType:`enumerated`,values:[``,`fraction`,`percent`],dflt:``,editType:`calc`},bargap:{valType:`number`,min:0,max:1,editType:`calc`},bargroupgap:{valType:`number`,min:0,max:1,dflt:0,editType:`calc`}}}),13957:(function(e,t,n){var r=n(73972),i=n(89298),a=n(71828),o=n(43641);e.exports=function(e,t,n){function s(n,r){return a.coerce(e,t,o,n,r)}for(var c=!1,l=!1,u=!1,d={},f=s(`barmode`),p=0;p<n.length;p++){var m=n[p];if(r.traceIs(m,`bar`)&&m.visible)c=!0;else continue;if(f===`group`){var h=m.xaxis+m.yaxis;d[h]&&(u=!0),d[h]=!0}m.visible&&m.type===`histogram`&&i.getFromId({_fullLayout:t},m[m.orientation===`v`?`xaxis`:`yaxis`]).type!==`category`&&(l=!0)}if(!c){delete t.barmode;return}f!==`overlay`&&s(`barnorm`),s(`bargap`,l&&!u?0:.2),s(`bargroupgap`)}}),17295:(function(e,t,n){var r=n(39898),i=n(92770),a=n(71828),o=n(63893),s=n(7901),c=n(91424),l=n(73972),u=n(89298).tickText,d=n(72597),f=d.recordMinTextSize,p=d.clearMinTextSize,m=n(16688),h=n(69383),g=n(97313),_=n(1486),v=_.text,y=_.textposition,b=n(23469).appendArrayPointValue,x=g.TEXTPAD;function S(e){return e.id}function C(e){if(e.ids)return S}function w(e,t){return e<t?1:-1}function T(e,t,n,r){var i=[],a=[],o=r?t:n,s=r?n:t;return i[0]=o.c2p(e.s0,!0),a[0]=s.c2p(e.p0,!0),i[1]=o.c2p(e.s1,!0),a[1]=s.c2p(e.p1,!0),r?[i,a]:[a,i]}function E(e,t,n,r){if(!t.uniformtext.mode&&D(n)){var i;return r&&(i=r()),e.transition().duration(n.duration).ease(n.easing).each(`end`,function(){i&&i()}).each(`interrupt`,function(){i&&i()})}else return e}function D(e){return e&&e.duration>0}function O(e,t,n,o,u,d){var f=t.xaxis,m=t.yaxis,g=e._fullLayout,_=e._context.staticPlot;u||(u={mode:g.barmode,norm:g.barmode,gap:g.bargap,groupgap:g.bargroupgap},p(`bar`,g));var v=a.makeTraceGroups(o,n,`trace bars`).each(function(n){var o=r.select(this),l=n[0].trace,p=l.type===`waterfall`,v=l.type===`funnel`,y=l.type===`bar`||v,b=0;p&&l.connector.visible&&l.connector.mode===`between`&&(b=l.connector.line.width/2);var x=l.orientation===`h`,S=D(u),O=a.ensureSingle(o,`g`,`points`),A=C(l),j=O.selectAll(`g.point`).data(a.identity,A);j.enter().append(`g`).classed(`point`,!0),j.exit().remove(),j.each(function(o,p){var v=r.select(this),C=T(o,f,m,x),D=C[0][0],O=C[0][1],A=C[1][0],j=C[1][1],M=(x?O-D:j-A)===0;M&&y&&h.getLineWidth(l,o)&&(M=!1),M||=!i(D)||!i(O)||!i(A)||!i(j),o.isBlank=M,M&&(x?O=D:j=A),b&&!M&&(x?(D-=w(D,O)*b,O+=w(D,O)*b):(A-=w(A,j)*b,j+=w(A,j)*b));var N,P;if(l.type===`waterfall`){if(!M){var F=l[o.dir].marker;N=F.line.width,P=F.color}}else N=h.getLineWidth(l,o),P=o.mc||l.marker.color;function I(e){var t=r.round(N/2%1,2);return u.gap===0&&u.groupgap===0?r.round(Math.round(e)-t,2):e}function L(e,t,n){return n&&e===t?e:Math.abs(e-t)>=2?I(e):e>t?Math.ceil(e):Math.floor(e)}if(!e._context.staticPlot){var R=s.opacity(P)<1||N>.01?I:L;D=R(D,O,x),O=R(O,D,x),A=R(A,j,!x),j=R(j,A,!x)}var z=E(a.ensureSingle(v,`path`),g,u,d);if(z.style(`vector-effect`,_?`none`:`non-scaling-stroke`).attr(`d`,isNaN((O-D)*(j-A))||M&&e._context.staticPlot?`M0,0Z`:`M`+D+`,`+A+`V`+j+`H`+O+`V`+A+`Z`).call(c.setClipUrl,t.layerClipId,e),!g.uniformtext.mode&&S){var B=c.makePointStyleFns(l);c.singlePointStyle(o,z,l,B,e)}k(e,t,v,n,p,D,O,A,j,u,d),t.layerClipId&&c.hideOutsideRangePoint(o,v.select(`text`),f,m,l.xcalendar,l.ycalendar)});var M=l.cliponaxis===!1;c.setClipUrl(o,M?null:t.layerClipId,e)});l.getComponentMethod(`errorbars`,`plot`)(e,v,t,u)}function k(e,t,n,r,i,s,l,u,d,p,h){var g=t.xaxis,_=t.yaxis,v=e._fullLayout,y;function b(t,n,r){return a.ensureSingle(t,`text`).text(n).attr({class:`bartext bartext-`+y,"text-anchor":`middle`,"data-notex":1}).call(c.font,r).call(o.convertToTspans,e)}var S=r[0].trace,C=S.orientation===`h`,w=P(v,r,i,g,_);y=F(S,i);var T=p.mode===`stack`||p.mode===`relative`,D=r[i],O=!T||D._outmost;if(!w||y===`none`||(D.isBlank||s===l||u===d)&&(y===`auto`||y===`inside`)){n.select(`text`).remove();return}var k=v.font,A=m.getBarColor(r[i],S),j=m.getInsideTextFont(S,i,k,A),I=m.getOutsideTextFont(S,i,k),L=n.datum();C?g.type===`log`&&L.s0<=0&&(s=g.range[0]<g.range[1]?0:g._length):_.type===`log`&&L.s0<=0&&(u=_.range[0]<_.range[1]?_._length:0);var R=Math.abs(l-s)-2*x,z=Math.abs(d-u)-2*x,B,V,H,U,W;if(y===`outside`&&!O&&!D.hasB&&(y=`inside`),y===`auto`)if(O){y=`inside`,W=a.ensureUniformFontSize(e,j),B=b(n,w,W),V=c.bBox(B.node()),H=V.width,U=V.height;var G=H>0&&U>0,K=H<=R&&U<=z,ee=H<=z&&U<=R,q=C?R>=H*(z/U):z>=U*(R/H);G&&(K||ee||q)?y=`inside`:(y=`outside`,B.remove(),B=null)}else y=`inside`;if(!B){W=a.ensureUniformFontSize(e,y===`outside`?I:j),B=b(n,w,W);var J=B.attr(`transform`);if(B.attr(`transform`,``),V=c.bBox(B.node()),H=V.width,U=V.height,B.attr(`transform`,J),H<=0||U<=0){B.remove();return}}var Y=S.textangle,te,ne;y===`outside`?(ne=S.constraintext===`both`||S.constraintext===`outside`,te=N(s,l,u,d,V,{isHorizontal:C,constrained:ne,angle:Y})):(ne=S.constraintext===`both`||S.constraintext===`inside`,te=M(s,l,u,d,V,{isHorizontal:C,constrained:ne,angle:Y,anchor:S.insidetextanchor})),te.fontSize=W.size,f(S.type===`histogram`?`bar`:S.type,te,v),D.transform=te;var re=E(B,v,p,h);a.setTransormAndDisplay(re,te)}function A(e){return e===`auto`?0:e}function j(e,t){var n=Math.PI/180*t,r=Math.abs(Math.sin(n)),i=Math.abs(Math.cos(n));return{x:e.width*i+e.height*r,y:e.width*r+e.height*i}}function M(e,t,n,r,i,a){var o=!!a.isHorizontal,s=!!a.constrained,c=a.angle||0,l=a.anchor||`end`,u=l===`end`,d=l===`start`,f=((a.leftToRight||0)+1)/2,p=1-f,m=i.width,h=i.height,g=Math.abs(t-e),_=Math.abs(r-n),v=g>2*x&&_>2*x?x:0;g-=2*v,_-=2*v;var y=A(c);c===`auto`&&!(m<=g&&h<=_)&&(m>g||h>_)&&(!(m>_||h>g)||m<h!=g<_)&&(y+=90);var b=j(i,y),S=1;s&&(S=Math.min(1,g/b.x,_/b.y));var C=i.left*p+i.right*f,T=(i.top+i.bottom)/2,E=(e+x)*p+(t-x)*f,D=(n+r)/2,O=0,k=0;if(d||u){var M=(o?b.x:b.y)/2,N=o?w(e,t):w(n,r);o?d?(E=e+N*v,O=-N*M):(E=t-N*v,O=N*M):d?(D=n+N*v,k=-N*M):(D=r-N*v,k=N*M)}return{textX:C,textY:T,targetX:E,targetY:D,anchorX:O,anchorY:k,scale:S,rotate:y}}function N(e,t,n,r,i,a){var o=!!a.isHorizontal,s=!!a.constrained,c=a.angle||0,l=i.width,u=i.height,d=Math.abs(t-e),f=Math.abs(r-n),p=o?f>2*x?x:0:d>2*x?x:0,m=1;s&&(m=o?Math.min(1,f/u):Math.min(1,d/l));var h=A(c),g=j(i,h),_=(o?g.x:g.y)/2,v=(i.left+i.right)/2,y=(i.top+i.bottom)/2,b=(e+t)/2,S=(n+r)/2,C=0,T=0,E=o?w(t,e):w(n,r);return o?(b=t-E*p,C=E*_):(S=r+E*p,T=-E*_),{textX:v,textY:y,targetX:b,targetY:S,anchorX:C,anchorY:T,scale:m,rotate:h}}function P(e,t,n,r,i){var a=t[0].trace,o=a.texttemplate?I(e,t,n,r,i):a.textinfo?L(t,n,r,i):h.getValue(a.text,n);return h.coerceString(v,o)}function F(e,t){var n=h.getValue(e.textposition,t);return h.coerceEnumerated(y,n)}function I(e,t,n,r,i){var o=t[0].trace,s=a.castOption(o,n,`texttemplate`);if(!s)return``;var c=o.type===`histogram`,l=o.type===`waterfall`,d=o.type===`funnel`,f=o.orientation===`h`,p,m,h,g;f?(p=`y`,m=i,h=`x`,g=r):(p=`x`,m=r,h=`y`,g=i);function _(e){return u(m,m.c2l(e),!0).text}function v(e){return u(g,g.c2l(e),!0).text}var y=t[n],x={};x.label=y.p,x.labelLabel=x[p+`Label`]=_(y.p);var S=a.castOption(o,y.i,`text`);(S===0||S)&&(x.text=S),x.value=y.s,x.valueLabel=x[h+`Label`]=v(y.s);var C={};b(C,o,y.i),(c||C.x===void 0)&&(C.x=f?x.value:x.label),(c||C.y===void 0)&&(C.y=f?x.label:x.value),(c||C.xLabel===void 0)&&(C.xLabel=f?x.valueLabel:x.labelLabel),(c||C.yLabel===void 0)&&(C.yLabel=f?x.labelLabel:x.valueLabel),l&&(x.delta=+y.rawS||y.s,x.deltaLabel=v(x.delta),x.final=y.v,x.finalLabel=v(x.final),x.initial=x.final-x.delta,x.initialLabel=v(x.initial)),d&&(x.value=y.s,x.valueLabel=v(x.value),x.percentInitial=y.begR,x.percentInitialLabel=a.formatPercent(y.begR),x.percentPrevious=y.difR,x.percentPreviousLabel=a.formatPercent(y.difR),x.percentTotal=y.sumR,x.percenTotalLabel=a.formatPercent(y.sumR));var w=a.castOption(o,y.i,`customdata`);return w&&(x.customdata=w),a.texttemplateString(s,x,e._d3locale,C,x,o._meta||{})}function L(e,t,n,r){var i=e[0].trace,o=i.orientation===`h`,s=i.type===`waterfall`,c=i.type===`funnel`;function l(e){return u(o?r:n,e,!0).text}function d(e){return u(o?n:r,+e,!0).text}var f=i.textinfo,p=e[t],m=f.split(`+`),h=[],g,_=function(e){return m.indexOf(e)!==-1};if(_(`label`)&&h.push(l(e[t].p)),_(`text`)&&(g=a.castOption(i,p.i,`text`),(g===0||g)&&h.push(g)),s){var v=+p.rawS||p.s,y=p.v,b=y-v;_(`initial`)&&h.push(d(b)),_(`delta`)&&h.push(d(v)),_(`final`)&&h.push(d(y))}if(c){_(`value`)&&h.push(d(p.s));var x=0;_(`percent initial`)&&x++,_(`percent previous`)&&x++,_(`percent total`)&&x++;var S=x>1;_(`percent initial`)&&(g=a.formatPercent(p.begR),S&&(g+=` of initial`),h.push(g)),_(`percent previous`)&&(g=a.formatPercent(p.difR),S&&(g+=` of previous`),h.push(g)),_(`percent total`)&&(g=a.formatPercent(p.sumR),S&&(g+=` of total`),h.push(g))}return h.join(`<br>`)}e.exports={plot:O,toMoveInsideBar:M}}),81974:(function(e){e.exports=function(e,n){var r=e.cd,i=e.xaxis,a=e.yaxis,o=r[0].trace,s=o.type===`funnel`,c=o.orientation===`h`,l=[],u;if(n===!1)for(u=0;u<r.length;u++)r[u].selected=0;else for(u=0;u<r.length;u++){var d=r[u],f=`ct`in d?d.ct:t(d,i,a,c,s);n.contains(f,!1,u,e)?(l.push({pointNumber:u,x:i.c2d(d.x),y:a.c2d(d.y)}),d.selected=1):d.selected=0}return l};function t(e,t,n,r,i){var a=t.c2p(r?e.s0:e.p0,!0),o=t.c2p(r?e.s1:e.p1,!0),s=n.c2p(r?e.p0:e.s0,!0),c=n.c2p(r?e.p1:e.s1,!0);return i?[(a+o)/2,(s+c)/2]:r?[o,(s+c)/2]:[(a+o)/2,c]}}),61546:(function(e,t,n){e.exports=i;var r=n(71828).distinctVals;function i(e,t){this.traces=e,this.sepNegVal=t.sepNegVal,this.overlapNoMerge=t.overlapNoMerge;for(var n=1/0,i=t.posAxis._id.charAt(0),a=[],o=0;o<e.length;o++){for(var s=e[o],c=0;c<s.length;c++){var l=s[c],u=l.p;u===void 0&&(u=l[i]),u!==void 0&&a.push(u)}s[0]&&s[0].width1&&(n=Math.min(s[0].width1,n))}this.positions=a;var d=r(a);this.distinctPositions=d.vals,d.vals.length===1&&n!==1/0?this.minDiff=n:this.minDiff=Math.min(d.minDiff,n);var f=(t.posAxis||{}).type;(f===`category`||f===`multicategory`)&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}i.prototype.put=function(e,t){var n=this.getLabel(e,t),r=this.bins[n]||0;return this.bins[n]=r+t,r},i.prototype.get=function(e,t){var n=this.getLabel(e,t);return this.bins[n]||0},i.prototype.getLabel=function(e,t){return(t<0&&this.sepNegVal?`v`:`^`)+(this.overlapNoMerge?e:Math.round(e/this.binWidth))}}),16688:(function(e,t,n){var r=n(39898),i=n(7901),a=n(91424),o=n(71828),s=n(73972),c=n(72597).resizeText,l=n(1486),u=l.textfont,d=l.insidetextfont,f=l.outsidetextfont,p=n(69383);function m(e){var t=r.select(e).selectAll(`g.barlayer`).selectAll(`g.trace`);c(e,t,`bar`);var n=t.size(),i=e._fullLayout;t.style(`opacity`,function(e){return e[0].trace.opacity}).each(function(e){(i.barmode===`stack`&&n>1||i.bargap===0&&i.bargroupgap===0&&!e[0].trace.marker.line.width)&&r.select(this).attr(`shape-rendering`,`crispEdges`)}),t.selectAll(`g.points`).each(function(t){var n=r.select(this),i=t[0].trace;h(n,i,e)}),s.getComponentMethod(`errorbars`,`style`)(t)}function h(e,t,n){a.pointStyle(e.selectAll(`path`),t,n),g(e,t,n)}function g(e,t,n){e.selectAll(`text`).each(function(e){var i=r.select(this),s=o.ensureUniformFontSize(n,b(i,e,t,n));a.font(i,s)})}function _(e,t,n){var r=t[0].trace;r.selectedpoints?v(n,r,e):(h(n,r,e),s.getComponentMethod(`errorbars`,`style`)(n))}function v(e,t,n){a.selectedPointStyle(e.selectAll(`path`),t),y(e.selectAll(`text`),t,n)}function y(e,t,n){e.each(function(e){var i=r.select(this),s;if(e.selected){s=o.ensureUniformFontSize(n,b(i,e,t,n));var c=t.selected.textfont&&t.selected.textfont.color;c&&(s.color=c),a.font(i,s)}else a.selectedTextStyle(i,t)})}function b(e,t,n,r){var i=r._fullLayout.font,a=n.textfont;if(e.classed(`bartext-inside`)){var o=T(t,n);a=S(n,t.i,i,o)}else e.classed(`bartext-outside`)&&(a=C(n,t.i,i));return a}function x(e,t,n){return w(u,e.textfont,t,n)}function S(e,t,n,r){var a=x(e,t,n);return(e._input.textfont===void 0||e._input.textfont.color===void 0||Array.isArray(e.textfont.color)&&e.textfont.color[t]===void 0)&&(a={color:i.contrast(r),family:a.family,size:a.size}),w(d,e.insidetextfont,t,a)}function C(e,t,n){var r=x(e,t,n);return w(f,e.outsidetextfont,t,r)}function w(e,t,n,r){t||={};var i=p.getValue(t.family,n),a=p.getValue(t.size,n),o=p.getValue(t.color,n);return{family:p.coerceString(e.family,i,r.family),size:p.coerceNumber(e.size,a,r.size),color:p.coerceColor(e.color,o,r.color)}}function T(e,t){return t.type===`waterfall`?t[e.dir].marker.color:e.mcc||e.mc||t.marker.color}e.exports={style:m,styleTextPoints:g,styleOnSelect:_,getInsideTextFont:S,getOutsideTextFont:C,getBarColor:T,resizeText:c}}),98340:(function(e,t,n){var r=n(7901),i=n(52075).hasColorscale,a=n(1586),o=n(71828).coercePattern;e.exports=function(e,t,n,s,c){var l=n(`marker.color`,s),u=i(e,`marker`);u&&a(e,t,c,n,{prefix:`marker.`,cLetter:`c`}),n(`marker.line.color`,r.defaultLine),i(e,`marker.line`)&&a(e,t,c,n,{prefix:`marker.line.`,cLetter:`c`}),n(`marker.line.width`),n(`marker.opacity`),o(n,`marker.pattern`,l,u),n(`selected.marker.color`),n(`unselected.marker.color`)}}),72597:(function(e,t,n){var r=n(39898),i=n(71828);function a(e,t,n){var a=e._fullLayout,o=a[`_`+n+`Text_minsize`];if(o){var s=a.uniformtext.mode===`hide`,c;switch(n){case`funnelarea`:case`pie`:case`sunburst`:c=`g.slice`;break;case`treemap`:case`icicle`:c=`g.slice, g.pathbar`;break;default:c=`g.points > g.point`}t.selectAll(c).each(function(e){var t=e.transform;if(t){t.scale=s&&t.hide?0:o/t.fontSize;var n=r.select(this).select(`text`);i.setTransormAndDisplay(n,t)}})}}function o(e,t,n){if(n.uniformtext.mode){var r=c(e),i=n.uniformtext.minsize,a=t.scale*t.fontSize;t.hide=a<i,n[r]=n[r]||1/0,t.hide||(n[r]=Math.min(n[r],Math.max(a,i)))}}function s(e,t){var n=c(e);t[n]=void 0}function c(e){return`_`+e+`Text_minsize`}e.exports={recordMinTextSize:o,clearMinTextSize:s,resizeText:a}}),55023:(function(e,t,n){var r=n(5386).f,i=n(1426).extendFlat,a=n(81245),o=n(1486);e.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:i({},o.base,{}),offset:i({},o.offset,{}),width:i({},o.width,{}),text:i({},o.text,{}),hovertext:i({},o.hovertext,{}),marker:o.marker,hoverinfo:a.hoverinfo,hovertemplate:r(),selected:o.selected,unselected:o.unselected}}),74692:(function(e,t,n){var r=n(52075).hasColorscale,i=n(78803),a=n(75341),o=n(11661).setGroupPositions,s=n(66279),c=n(73972).traceIs,l=n(71828).extendFlat;function u(e,t){for(var n=e._fullLayout,o=t.subplot,c=n[o].radialaxis,l=n[o].angularaxis,u=c.makeCalcdata(t,`r`),d=l.makeCalcdata(t,`theta`),f=t._length,p=Array(f),m=u,h=d,g=0;g<f;g++)p[g]={p:h[g],s:m[g]};function _(e){var n=t[e];n!==void 0&&(t[`_`+e]=Array.isArray(n)?l.makeCalcdata(t,e):l.d2c(n,t.thetaunit))}return l.type===`linear`&&(_(`width`),_(`offset`)),r(t,`marker`)&&i(e,t,{vals:t.marker.color,containerStr:`marker`,cLetter:`c`}),r(t,`marker.line`)&&i(e,t,{vals:t.marker.line.color,containerStr:`marker.line`,cLetter:`c`}),a(p,t),s(p,t),p}function d(e,t,n){for(var r=e.calcdata,i=[],a=0;a<r.length;a++){var s=r[a],u=s[0].trace;u.visible===!0&&c(u,`bar`)&&u.subplot===n&&i.push(s)}var d=l({},t.radialaxis,{_id:`x`}),f=t.angularaxis;o(e,f,d,i,{mode:t.barmode,norm:t.barnorm,gap:t.bargap,groupgap:t.bargroupgap})}e.exports={calc:u,crossTraceCalc:d}}),6135:(function(e,t,n){var r=n(71828),i=n(22184).handleRThetaDefaults,a=n(98340),o=n(55023);e.exports=function(e,t,n,s){function c(n,i){return r.coerce(e,t,o,n,i)}if(!i(e,t,s,c)){t.visible=!1;return}c(`thetaunit`),c(`base`),c(`offset`),c(`width`),c(`text`),c(`hovertext`),c(`hovertemplate`),a(e,t,c,n,s),r.coerceSelectionMarkerOpacity(t,c)}}),27379:(function(e,t,n){var r=n(30211),i=n(71828),a=n(95423).getTraceColor,o=i.fillText,s=n(59150).makeHoverPointText,c=n(10869).isPtInsidePolygon;e.exports=function(e,t,n){var l=e.cd,u=l[0].trace,d=e.subplot,f=d.radialAxis,p=d.angularAxis,m=d.vangles,h=m?c:i.isPtInsideSector,g=e.maxHoverDistance,_=p._period||2*Math.PI,v=Math.abs(f.g2p(Math.sqrt(t*t+n*n))),y=Math.atan2(n,t);if(f.range[0]>f.range[1]&&(y+=Math.PI),r.getClosest(l,function(e){return h(v,y,[e.rp0,e.rp1],[e.thetag0,e.thetag1],m)?g+Math.min(1,Math.abs(e.thetag1-e.thetag0)/_)-1+(e.rp1-v)/(e.rp1-e.rp0)-1:1/0},e),e.index!==!1){var b=l[e.index];e.x0=e.x1=b.ct[0],e.y0=e.y1=b.ct[1];var x=i.extendFlat({},b,{r:b.s,theta:b.p});return o(b,u,e),s(x,u,d,e),e.hovertemplate=u.hovertemplate,e.color=a(u,b),e.xLabelVal=e.yLabelVal=void 0,b.s<0&&(e.idealAlign=`left`),[e]}}}),23381:(function(e,t,n){e.exports={moduleType:`trace`,name:`barpolar`,basePlotModule:n(23580),categories:[`polar`,`bar`,`showLegend`],attributes:n(55023),layoutAttributes:n(40151),supplyDefaults:n(6135),supplyLayoutDefaults:n(19860),calc:n(74692).calc,crossTraceCalc:n(74692).crossTraceCalc,plot:n(60173),colorbar:n(4898),formatLabels:n(98608),style:n(16688).style,styleOnSelect:n(16688).styleOnSelect,hoverPoints:n(27379),selectPoints:n(81974),meta:{}}}),40151:(function(e){e.exports={barmode:{valType:`enumerated`,values:[`stack`,`overlay`],dflt:`stack`,editType:`calc`},bargap:{valType:`number`,dflt:.1,min:0,max:1,editType:`calc`}}}),19860:(function(e,t,n){var r=n(71828),i=n(40151);e.exports=function(e,t,n){var a={},o;function s(n,a){return r.coerce(e[o]||{},t[o],i,n,a)}for(var c=0;c<n.length;c++){var l=n[c];l.type===`barpolar`&&l.visible===!0&&(o=l.subplot,a[o]||(s(`barmode`),s(`bargap`),a[o]=1))}}}),60173:(function(e,t,n){var r=n(39898),i=n(92770),a=n(71828),o=n(91424),s=n(10869);e.exports=function(e,t,n){var s=e._context.staticPlot,l=t.xaxis,u=t.yaxis,d=t.radialAxis,f=t.angularAxis,p=c(t),m=t.layers.frontplot.select(`g.barlayer`);a.makeTraceGroups(m,n,`trace bars`).each(function(){var n=r.select(this),c=a.ensureSingle(n,`g`,`points`).selectAll(`g.point`).data(a.identity);c.enter().append(`g`).style(`vector-effect`,s?`none`:`non-scaling-stroke`).style(`stroke-miterlimit`,2).classed(`point`,!0),c.exit().remove(),c.each(function(e){var t=r.select(this),n=e.rp0=d.c2p(e.s0),o=e.rp1=d.c2p(e.s1),s=e.thetag0=f.c2g(e.p0),c=e.thetag1=f.c2g(e.p1),m;if(!i(n)||!i(o)||!i(s)||!i(c)||n===o||s===c)m=`M0,0Z`;else{var h=d.c2g(e.s1),g=(s+c)/2;e.ct=[l.c2p(h*Math.cos(g)),u.c2p(h*Math.sin(g))],m=p(n,o,s,c)}a.ensureSingle(t,`path`).attr(`d`,m)}),o.setClipUrl(n,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,e)})};function c(e){var t=e.cxx,n=e.cyy;return e.vangles?function(r,i,o,c){var l,u;a.angleDelta(o,c)>0?(l=o,u=c):(l=c,u=o);var d=s.findEnclosingVertexAngles(l,e.vangles)[0],f=s.findEnclosingVertexAngles(u,e.vangles)[1],p=[d,(l+u)/2,f];return s.pathPolygonAnnulus(r,i,l,u,p,t,n)}:function(e,r,i,o){return a.pathAnnulus(e,r,i,o,t,n)}}}),53522:(function(e,t,n){var r=n(82196),i=n(1486),a=n(22399),o=n(12663).axisHoverFormat,s=n(5386).f,c=n(1426).extendFlat,l=r.marker,u=l.line;e.exports={y:{valType:`data_array`,editType:`calc+clearAxisTypes`},x:{valType:`data_array`,editType:`calc+clearAxisTypes`},x0:{valType:`any`,editType:`calc+clearAxisTypes`},y0:{valType:`any`,editType:`calc+clearAxisTypes`},dx:{valType:`number`,editType:`calc`},dy:{valType:`number`,editType:`calc`},xperiod:r.xperiod,yperiod:r.yperiod,xperiod0:r.xperiod0,yperiod0:r.yperiod0,xperiodalignment:r.xperiodalignment,yperiodalignment:r.yperiodalignment,xhoverformat:o(`x`),yhoverformat:o(`y`),name:{valType:`string`,editType:`calc+clearAxisTypes`},q1:{valType:`data_array`,editType:`calc+clearAxisTypes`},median:{valType:`data_array`,editType:`calc+clearAxisTypes`},q3:{valType:`data_array`,editType:`calc+clearAxisTypes`},lowerfence:{valType:`data_array`,editType:`calc`},upperfence:{valType:`data_array`,editType:`calc`},notched:{valType:`boolean`,editType:`calc`},notchwidth:{valType:`number`,min:0,max:.5,dflt:.25,editType:`calc`},notchspan:{valType:`data_array`,editType:`calc`},boxpoints:{valType:`enumerated`,values:[`all`,`outliers`,`suspectedoutliers`,!1],editType:`calc`},jitter:{valType:`number`,min:0,max:1,editType:`calc`},pointpos:{valType:`number`,min:-2,max:2,editType:`calc`},boxmean:{valType:`enumerated`,values:[!0,`sd`,!1],editType:`calc`},mean:{valType:`data_array`,editType:`calc`},sd:{valType:`data_array`,editType:`calc`},orientation:{valType:`enumerated`,values:[`v`,`h`],editType:`calc+clearAxisTypes`},quartilemethod:{valType:`enumerated`,values:[`linear`,`exclusive`,`inclusive`],dflt:`linear`,editType:`calc`},width:{valType:`number`,min:0,dflt:0,editType:`calc`},marker:{outliercolor:{valType:`color`,dflt:`rgba(0, 0, 0, 0)`,editType:`style`},symbol:c({},l.symbol,{arrayOk:!1,editType:`plot`}),opacity:c({},l.opacity,{arrayOk:!1,dflt:1,editType:`style`}),angle:c({},l.angle,{arrayOk:!1,editType:`calc`}),size:c({},l.size,{arrayOk:!1,editType:`calc`}),color:c({},l.color,{arrayOk:!1,editType:`style`}),line:{color:c({},u.color,{arrayOk:!1,dflt:a.defaultLine,editType:`style`}),width:c({},u.width,{arrayOk:!1,dflt:0,editType:`style`}),outliercolor:{valType:`color`,editType:`style`},outlierwidth:{valType:`number`,min:0,dflt:1,editType:`style`},editType:`style`},editType:`plot`},line:{color:{valType:`color`,editType:`style`},width:{valType:`number`,min:0,dflt:2,editType:`style`},editType:`plot`},fillcolor:r.fillcolor,whiskerwidth:{valType:`number`,min:0,max:1,dflt:.5,editType:`calc`},offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup,selected:{marker:r.selected.marker,editType:`style`},unselected:{marker:r.unselected.marker,editType:`style`},text:c({},r.text,{}),hovertext:c({},r.hovertext,{}),hovertemplate:s({}),hoveron:{valType:`flaglist`,flags:[`boxes`,`points`],dflt:`boxes+points`,editType:`style`}}}),48518:(function(e,t,n){var r=n(92770),i=n(89298),a=n(42973),o=n(71828),s=n(50606).BADNUM,c=o._;e.exports=function(e,t){var n=e._fullLayout,a=i.getFromId(e,t.xaxis||`x`),f=i.getFromId(e,t.yaxis||`y`),S=[],C=t.type===`violin`?`_numViolins`:`_numBoxes`,w,T,E,D,O,k,A;t.orientation===`h`?(E=a,D=`x`,O=f,k=`y`,A=!!t.yperiodalignment):(E=f,D=`y`,O=a,k=`x`,A=!!t.xperiodalignment);var j=l(t,k,O,n[C]),M=j[0],N=j[1],P=o.distinctVals(M,O),F=P.vals,I=P.minDiff/2,L,R,z,B,V,H,U=(t.boxpoints||t.points)===`all`?o.identity:function(e){return e.v<L.lf||e.v>L.uf};if(t._hasPreCompStats){var W=t[D],G=function(e){return E.d2c((t[e]||[])[w])},K=1/0,ee=-1/0;for(w=0;w<t._length;w++){var q=M[w];if(r(q)){if(L={},L.pos=L[k]=q,A&&N&&(L.orig_p=N[w]),L.q1=G(`q1`),L.med=G(`median`),L.q3=G(`q3`),R=[],W&&o.isArrayOrTypedArray(W[w]))for(T=0;T<W[w].length;T++)H=E.d2c(W[w][T]),H!==s&&(V={v:H,i:[w,T]},p(V,t,[w,T]),R.push(V));if(L.pts=R.sort(h),z=L[D]=R.map(g),B=z.length,L.med!==s&&L.q1!==s&&L.q3!==s&&L.med>=L.q1&&L.q3>=L.med){var J=G(`lowerfence`);L.lf=J!==s&&J<=L.q1?J:_(L,z,B);var Y=G(`upperfence`);L.uf=Y!==s&&Y>=L.q3?Y:v(L,z,B);var te=G(`mean`);L.mean=te===s?B?o.mean(z,B):(L.q1+L.q3)/2:te;var ne=G(`sd`);L.sd=te!==s&&ne>=0?ne:B?o.stdev(z,B,L.mean):L.q3-L.q1,L.lo=y(L),L.uo=b(L);var re=G(`notchspan`);re=re!==s&&re>0?re:x(L,B),L.ln=L.med-re,L.un=L.med+re;var ie=L.lf,ae=L.uf;t.boxpoints&&z.length&&(ie=Math.min(ie,z[0]),ae=Math.max(ae,z[B-1])),t.notched&&(ie=Math.min(ie,L.ln),ae=Math.max(ae,L.un)),L.min=ie,L.max=ae}else{o.warn([`Invalid input - make sure that q1 <= median <= q3`,`q1 = `+L.q1,`median = `+L.med,`q3 = `+L.q3].join(`
`));var oe=L.med===s?L.q1===s?L.q3===s?0:L.q3:L.q3===s?L.q1:(L.q1+L.q3)/2:L.med;L.med=oe,L.q1=L.q3=oe,L.lf=L.uf=oe,L.mean=L.sd=oe,L.ln=L.un=oe,L.min=L.max=oe}K=Math.min(K,L.min),ee=Math.max(ee,L.max),L.pts2=R.filter(U),S.push(L)}}t._extremes[E._id]=i.findExtremes(E,[K,ee],{padded:!0})}else{var se=E.makeCalcdata(t,D),ce=u(F,I),le=F.length,ue=d(le);for(w=0;w<t._length;w++)if(H=se[w],r(H)){var de=o.findBin(M[w],ce);de>=0&&de<le&&(V={v:H,i:w},p(V,t,w),ue[de].push(V))}var fe=1/0,pe=-1/0,me=t.quartilemethod,he=me===`exclusive`,ge=me===`inclusive`;for(w=0;w<le;w++)if(ue[w].length>0){if(L={},L.pos=L[k]=F[w],R=L.pts=ue[w].sort(h),z=L[D]=R.map(g),B=z.length,L.min=z[0],L.max=z[B-1],L.mean=o.mean(z,B),L.sd=o.stdev(z,B,L.mean),L.med=o.interp(z,.5),B%2&&(he||ge)){var _e,ve;he?(_e=z.slice(0,B/2),ve=z.slice(B/2+1)):ge&&(_e=z.slice(0,B/2+1),ve=z.slice(B/2)),L.q1=o.interp(_e,.5),L.q3=o.interp(ve,.5)}else L.q1=o.interp(z,.25),L.q3=o.interp(z,.75);L.lf=_(L,z,B),L.uf=v(L,z,B),L.lo=y(L),L.uo=b(L);var ye=x(L,B);L.ln=L.med-ye,L.un=L.med+ye,fe=Math.min(fe,L.ln),pe=Math.max(pe,L.un),L.pts2=R.filter(U),S.push(L)}t._extremes[E._id]=i.findExtremes(E,t.notched?se.concat([fe,pe]):se,{padded:!0})}return m(S,t),S.length>0?(S[0].t={num:n[C],dPos:I,posLetter:k,valLetter:D,labels:{med:c(e,`median:`),min:c(e,`min:`),q1:c(e,`q1:`),q3:c(e,`q3:`),max:c(e,`max:`),mean:t.boxmean===`sd`?c(e,`mean  :`):c(e,`mean:`),lf:c(e,`lower fence:`),uf:c(e,`upper fence:`)}},n[C]++,S):[{t:{empty:!0}}]};function l(e,t,n,i){var s=t in e,c=t+`0`in e,l=`d`+t in e;if(s||c&&l){var u=n.makeCalcdata(e,t);return[a(e,n,t,u).vals,u]}for(var d=c?e[t+`0`]:(`name`in e)&&(n.type===`category`||r(e.name)&&[`linear`,`log`].indexOf(n.type)!==-1||o.isDateTime(e.name)&&n.type===`date`)?e.name:i,f=n.type===`multicategory`?n.r2c_just_indices(d):n.d2c(d,0,e[t+`calendar`]),p=e._length,m=Array(p),h=0;h<p;h++)m[h]=f;return[m]}function u(e,t){for(var n=e.length,r=Array(n+1),i=0;i<n;i++)r[i]=e[i]-t;return r[n]=e[n-1]+t,r}function d(e){for(var t=Array(e),n=0;n<e;n++)t[n]=[];return t}var f={text:`tx`,hovertext:`htx`};function p(e,t,n){for(var r in f)o.isArrayOrTypedArray(t[r])&&(Array.isArray(n)?o.isArrayOrTypedArray(t[r][n[0]])&&(e[f[r]]=t[r][n[0]][n[1]]):e[f[r]]=t[r][n])}function m(e,t){if(o.isArrayOrTypedArray(t.selectedpoints))for(var n=0;n<e.length;n++){for(var r=e[n].pts||[],i={},a=0;a<r.length;a++)i[r[a].i]=a;o.tagSelected(r,t,i)}}function h(e,t){return e.v-t.v}function g(e){return e.v}function _(e,t,n){return n===0?e.q1:Math.min(e.q1,t[Math.min(o.findBin(2.5*e.q1-1.5*e.q3,t,!0)+1,n-1)])}function v(e,t,n){return n===0?e.q3:Math.max(e.q3,t[Math.max(o.findBin(2.5*e.q3-1.5*e.q1,t),0)])}function y(e){return 4*e.q1-3*e.q3}function b(e){return 4*e.q3-3*e.q1}function x(e,t){return t===0?0:1.57*(e.q3-e.q1)/Math.sqrt(t)}}),37188:(function(e,t,n){var r=n(89298),i=n(71828),a=n(99082).getAxisGroup,o=[`v`,`h`];function s(e,t){for(var n=e.calcdata,r=t.xaxis,i=t.yaxis,a=0;a<o.length;a++){for(var s=o[a],l=s===`h`?i:r,u=[],d=0;d<n.length;d++){var f=n[d],p=f[0].t,m=f[0].trace;m.visible===!0&&(m.type===`box`||m.type===`candlestick`)&&!p.empty&&(m.orientation||`v`)===s&&m.xaxis===r._id&&m.yaxis===i._id&&u.push(d)}c(`box`,e,u,l)}}function c(e,t,n,o){var s=t.calcdata,c=t._fullLayout,l=o._id,u=l.charAt(0),d,f,p,m=[],h=0;for(d=0;d<n.length;d++)for(p=s[n[d]],f=0;f<p.length;f++)m.push(o.c2l(p[f].pos,!0)),h+=(p[f].pts2||[]).length;if(m.length){var g=i.distinctVals(m);(o.type===`category`||o.type===`multicategory`)&&(g.minDiff=1);var _=g.minDiff/2;r.minDtick(o,g.minDiff,g.vals[0],!0);var v=c[e===`violin`?`_numViolins`:`_numBoxes`],y=c[e+`mode`]===`group`&&v>1,b=1-c[e+`gap`],x=1-c[e+`groupgap`];for(d=0;d<n.length;d++){p=s[n[d]];var S=p[0].trace,C=p[0].t,w=S.width,T=S.side,E,D,O,k;if(w)E=D=k=w/2,O=0;else if(E=_,y){var A=a(c,o._id)+S.orientation,j=(c._alignmentOpts[A]||{})[S.alignmentgroup]||{},M=Object.keys(j.offsetGroups||{}).length,N=M||v,P=M?S._offsetIndex:C.num;D=E*b*x/N,O=2*E*(-.5+(P+.5)/N)*b,k=E*b/N}else D=E*b*x,O=0,k=E;C.dPos=E,C.bPos=O,C.bdPos=D,C.wHover=k;var F,I,L=O+D,R,z,B,V,H,U,W=!!w,G=(S.boxpoints||S.points)&&h>0;if(T===`positive`?(F=E*(w?1:.5),R=L,I=R=O):T===`negative`?(F=R=O,I=E*(w?1:.5),z=L):(F=I=E,R=z=L),G){var K=S.pointpos,ee=S.jitter,q=S.marker.size/2,J=0;K+ee>=0&&(J=L*(K+ee),J>F?(W=!0,H=q,B=J):J>R&&(H=q,B=F)),J<=F&&(B=F);var Y=0;K-ee<=0&&(Y=-L*(K-ee),Y>I?(W=!0,U=q,V=Y):Y>z&&(U=q,V=I)),Y<=I&&(V=I)}else B=F,V=I;var te=Array(p.length);for(f=0;f<p.length;f++)te[f]=p[f].pos;S._extremes[l]=r.findExtremes(o,te,{padded:W,vpadminus:V,vpadplus:B,vpadLinearized:!0,ppadminus:{x:U,y:H}[u],ppadplus:{x:H,y:U}[u]})}}}e.exports={crossTraceCalc:s,setPositionOffset:c}}),36411:(function(e,t,n){var r=n(71828),i=n(73972),a=n(7901),o=n(73927),s=n(26125),c=n(4322),l=n(53522);function u(e,t,n,i){function s(n,i){return r.coerce(e,t,l,n,i)}if(d(e,t,s,i),t.visible!==!1){o(e,t,i,s),s(`xhoverformat`),s(`yhoverformat`);var c=t._hasPreCompStats;c&&(s(`lowerfence`),s(`upperfence`)),s(`line.color`,(e.marker||{}).color||n),s(`line.width`),s(`fillcolor`,a.addOpacity(t.line.color,.5));var u=!1;if(c){var p=s(`mean`),m=s(`sd`);p&&p.length&&(u=!0,m&&m.length&&(u=`sd`))}s(`boxmean`,u),s(`whiskerwidth`),s(`width`),s(`quartilemethod`);var h=!1;if(c){var g=s(`notchspan`);g&&g.length&&(h=!0)}else r.validate(e.notchwidth,l.notchwidth)&&(h=!0);s(`notched`,h)&&s(`notchwidth`),f(e,t,s,{prefix:`box`})}}function d(e,t,n,a){function o(e){var t=0;return e&&e.length&&(t+=1,r.isArrayOrTypedArray(e[0])&&e[0].length&&(t+=1)),t}function s(t){return r.validate(e[t],l[t])}var u=n(`y`),d=n(`x`),f;if(t.type===`box`){var p=n(`q1`),m=n(`median`),h=n(`q3`);t._hasPreCompStats=p&&p.length&&m&&m.length&&h&&h.length,f=Math.min(r.minRowLength(p),r.minRowLength(m),r.minRowLength(h))}var g=o(u),_=o(d),v=g&&r.minRowLength(u),y=_&&r.minRowLength(d),b=a.calendar,x={autotypenumbers:a.autotypenumbers},S,C;if(t._hasPreCompStats)switch(String(_)+String(g)){case`00`:var w=s(`x0`)||s(`dx`);S=(s(`y0`)||s(`dy`))&&!w?`h`:`v`,C=f;break;case`10`:S=`v`,C=Math.min(f,y);break;case`20`:S=`h`,C=Math.min(f,d.length);break;case`01`:S=`h`,C=Math.min(f,v);break;case`02`:S=`v`,C=Math.min(f,u.length);break;case`12`:S=`v`,C=Math.min(f,y,u.length);break;case`21`:S=`h`,C=Math.min(f,d.length,v);break;case`11`:C=0;break;case`22`:var T=!1,E;for(E=0;E<d.length;E++)if(c(d[E],b,x)===`category`){T=!0;break}if(T)S=`v`,C=Math.min(f,y,u.length);else{for(E=0;E<u.length;E++)if(c(u[E],b,x)===`category`){T=!0;break}T?(S=`h`,C=Math.min(f,d.length,v)):(S=`v`,C=Math.min(f,y,u.length))}break}else g>0?(S=`v`,C=_>0?Math.min(y,v):Math.min(v)):_>0?(S=`h`,C=Math.min(y)):C=0;if(!C){t.visible=!1;return}t._length=C;var D=n(`orientation`,S);t._hasPreCompStats?D===`v`&&_===0?(n(`x0`,0),n(`dx`,1)):D===`h`&&g===0&&(n(`y0`,0),n(`dy`,1)):D===`v`&&_===0?n(`x0`):D===`h`&&g===0&&n(`y0`),i.getComponentMethod(`calendars`,`handleTraceDefaults`)(e,t,[`x`,`y`],a)}function f(e,t,n,i){var a=i.prefix,o=r.coerce2(e,t,l,`marker.outliercolor`),s=n(`marker.line.outliercolor`),c=`outliers`;t._hasPreCompStats?c=`all`:(o||s)&&(c=`suspectedoutliers`);var u=n(a+`points`,c);u?(n(`jitter`,u===`all`?.3:0),n(`pointpos`,u===`all`?-1.5:0),n(`marker.symbol`),n(`marker.opacity`),n(`marker.size`),n(`marker.angle`),n(`marker.color`,t.line.color),n(`marker.line.color`),n(`marker.line.width`),u===`suspectedoutliers`&&(n(`marker.line.outliercolor`,t.marker.color),n(`marker.line.outlierwidth`)),n(`selected.marker.color`),n(`unselected.marker.color`),n(`selected.marker.size`),n(`unselected.marker.size`),n(`text`),n(`hovertext`)):delete t.marker;var d=n(`hoveron`);(d===`all`||d.indexOf(`points`)!==-1)&&n(`hovertemplate`),r.coerceSelectionMarkerOpacity(t,n)}function p(e,t){var n,i;function a(e){return r.coerce(i._input,i,l,e)}for(var o=0;o<e.length;o++){i=e[o];var c=i.type;(c===`box`||c===`violin`)&&(n=i._input,t[c+`mode`]===`group`&&s(n,i,t,a))}}e.exports={supplyDefaults:u,crossTraceDefaults:p,handleSampleDefaults:d,handlePointsDefaults:f}}),74907:(function(e){e.exports=function(e,t){return t.hoverOnBox&&(e.hoverOnBox=t.hoverOnBox),`xVal`in t&&(e.x=t.xVal),`yVal`in t&&(e.y=t.yVal),t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),e}}),41868:(function(e,t,n){var r=n(89298),i=n(71828),a=n(30211),o=n(7901),s=i.fillText;function c(e,t,n,r){var i=e.cd[0].trace.hoveron,a=[],o;return i.indexOf(`boxes`)!==-1&&(a=a.concat(l(e,t,n,r))),i.indexOf(`points`)!==-1&&(o=u(e,t,n)),r===`closest`?o?[o]:a:(o&&a.push(o),a)}function l(e,t,n,s){var c=e.cd,l=e.xa,u=e.ya,d=c[0].trace,f=c[0].t,p=d.type===`violin`,m,h,g,_,v,y,b,x,S,C,w,T=f.bdPos,E,D,O=f.wHover,k=function(e){return g.c2l(e.pos)+f.bPos-g.c2l(y)};p&&d.side!==`both`?(d.side===`positive`&&(S=function(e){var t=k(e);return a.inbox(t,t+O,C)},E=T,D=0),d.side===`negative`&&(S=function(e){var t=k(e);return a.inbox(t-O,t,C)},E=0,D=T)):(S=function(e){var t=k(e);return a.inbox(t-O,t+O,C)},E=D=T);var A=p?function(e){return a.inbox(e.span[0]-v,e.span[1]-v,C)}:function(e){return a.inbox(e.min-v,e.max-v,C)};d.orientation===`h`?(v=t,y=n,b=A,x=S,m=`y`,g=u,h=`x`,_=l):(v=n,y=t,b=S,x=A,m=`x`,g=l,h=`y`,_=u);var j=Math.min(1,T/Math.abs(g.r2c(g.range[1])-g.r2c(g.range[0])));C=e.maxHoverDistance-j,w=e.maxSpikeDistance-j;function M(e){return(b(e)+x(e))/2}var N=a.getDistanceFunction(s,b,x,M);if(a.getClosest(c,N,e),e.index===!1)return[];var P=c[e.index],F=d.line.color,I=(d.marker||{}).color;o.opacity(F)&&d.line.width?e.color=F:o.opacity(I)&&d.boxpoints?e.color=I:e.color=d.fillcolor,e[m+`0`]=g.c2p(P.pos+f.bPos-D,!0),e[m+`1`]=g.c2p(P.pos+f.bPos+E,!0),e[m+`LabelVal`]=P.orig_p===void 0?P.pos:P.orig_p;var L=m+`Spike`;e.spikeDistance=M(P)*w/C,e[L]=g.c2p(P.pos,!0);var R=d.boxmean||(d.meanline||{}).visible,z=d.boxpoints||d.points,B=z&&R?[`max`,`uf`,`q3`,`med`,`mean`,`q1`,`lf`,`min`]:z&&!R?[`max`,`uf`,`q3`,`med`,`q1`,`lf`,`min`]:!z&&R?[`max`,`q3`,`med`,`mean`,`q1`,`min`]:[`max`,`q3`,`med`,`q1`,`min`],V=_.range[1]<_.range[0];d.orientation===(V?`v`:`h`)&&B.reverse();for(var H=e.spikeDistance,U=e[L],W=[],G=0;G<B.length;G++){var K=B[G];if(K in P){var ee=P[K],q=_.c2p(ee,!0),J=i.extendFlat({},e);J.attr=K,J[h+`0`]=J[h+`1`]=q,J[h+`LabelVal`]=ee,J[h+`Label`]=(f.labels?f.labels[K]+` `:``)+r.hoverLabelText(_,ee,d[h+`hoverformat`]),J.hoverOnBox=!0,K===`mean`&&`sd`in P&&d.boxmean===`sd`&&(J[h+`err`]=P.sd),J.hovertemplate=!1,W.push(J)}}e.name=``,e.spikeDistance=void 0,e[L]=void 0;for(var Y=0;Y<W.length;Y++)W[Y].attr===`med`?(W[Y].spikeDistance=H,W[Y][L]=U):(W[Y].name=``,W[Y].spikeDistance=void 0,W[Y][L]=void 0);return W}function u(e,t,n){for(var r=e.cd,o=e.xa,c=e.ya,l=r[0].trace,u=o.c2p(t),d=c.c2p(n),f,p=a.quadrature(function(e){var t=Math.max(3,e.mrc||0);return Math.max(Math.abs(o.c2p(e.x)-u)-t,1-3/t)},function(e){var t=Math.max(3,e.mrc||0);return Math.max(Math.abs(c.c2p(e.y)-d)-t,1-3/t)}),m=!1,h,g,_=0;_<r.length;_++){h=r[_];for(var v=0;v<(h.pts||[]).length;v++){g=h.pts[v];var y=p(g);y<=e.distance&&(e.distance=y,m=[_,v])}}if(!m)return!1;h=r[m[0]],g=h.pts[m[1]];var b=o.c2p(g.x,!0),x=c.c2p(g.y,!0),S=g.mrc||1;f=i.extendFlat({},e,{index:g.i,color:(l.marker||{}).color,name:l.name,x0:b-S,x1:b+S,y0:x-S,y1:x+S,spikeDistance:e.distance,hovertemplate:l.hovertemplate});var C=h.orig_p,w=C===void 0?h.pos:C,T;l.orientation===`h`?(T=c,f.xLabelVal=g.x,f.yLabelVal=w):(T=o,f.xLabelVal=w,f.yLabelVal=g.y);var E=T._id.charAt(0);return f[E+`Spike`]=T.c2p(h.pos,!0),s(g,l,f),f}e.exports={hoverPoints:c,hoverOnBoxes:l,hoverOnPoints:u}}),83832:(function(e,t,n){e.exports={attributes:n(53522),layoutAttributes:n(40094),supplyDefaults:n(36411).supplyDefaults,crossTraceDefaults:n(36411).crossTraceDefaults,supplyLayoutDefaults:n(4199).supplyLayoutDefaults,calc:n(48518),crossTraceCalc:n(37188).crossTraceCalc,plot:n(86047).plot,style:n(58063).style,styleOnSelect:n(58063).styleOnSelect,hoverPoints:n(41868).hoverPoints,eventData:n(74907),selectPoints:n(24626),moduleType:`trace`,name:`box`,basePlotModule:n(93612),categories:[`cartesian`,`svg`,`symbols`,`oriented`,`box-violin`,`showLegend`,`boxLayout`,`zoomScale`],meta:{}}}),40094:(function(e){e.exports={boxmode:{valType:`enumerated`,values:[`group`,`overlay`],dflt:`overlay`,editType:`calc`},boxgap:{valType:`number`,min:0,max:1,dflt:.3,editType:`calc`},boxgroupgap:{valType:`number`,min:0,max:1,dflt:.3,editType:`calc`}}}),4199:(function(e,t,n){var r=n(73972),i=n(71828),a=n(40094);function o(e,t,n,i,a){for(var o=a+`Layout`,s=!1,c=0;c<n.length;c++){var l=n[c];if(r.traceIs(l,o)){s=!0;break}}s&&(i(a+`mode`),i(a+`gap`),i(a+`groupgap`))}function s(e,t,n){function r(n,r){return i.coerce(e,t,a,n,r)}o(e,t,n,r,`box`)}e.exports={supplyLayoutDefaults:s,_supply:o}}),86047:(function(e,t,n){var r=n(39898),i=n(71828),a=n(91424),o=5,s=.01;function c(e,t,n,a){var o=e._context.staticPlot,s=t.xaxis,c=t.yaxis;i.makeTraceGroups(a,n,`trace boxes`).each(function(e){var t=r.select(this),n=e[0],i=n.t,a=n.trace;if(i.wdPos=i.bdPos*a.whiskerwidth,a.visible!==!0||i.empty){t.remove();return}var f,p;a.orientation===`h`?(f=c,p=s):(f=s,p=c),l(t,{pos:f,val:p},a,i,o),u(t,{x:s,y:c},a,i),d(t,{pos:f,val:p},a,i)})}function l(e,t,n,a,o){var s=n.orientation===`h`,c=t.val,l=t.pos,u=!!l.rangebreaks,d=a.bPos,f=a.wdPos||0,p=a.bPosPxOffset||0,m=n.whiskerwidth||0,h=n.notched||!1,g=h?1-2*n.notchwidth:1,_,v;Array.isArray(a.bdPos)?(_=a.bdPos[0],v=a.bdPos[1]):(_=a.bdPos,v=a.bdPos);var y=e.selectAll(`path.box`).data(n.type!==`violin`||n.box.visible?i.identity:[]);y.enter().append(`path`).style(`vector-effect`,o?`none`:`non-scaling-stroke`).attr(`class`,`box`),y.exit().remove(),y.each(function(e){if(e.empty)return`M0,0Z`;var t=l.c2l(e.pos+d,!0),a=l.l2p(t-_)+p,o=l.l2p(t+v)+p,y=u?(a+o)/2:l.l2p(t)+p,b=n.whiskerwidth,x=u?a*b+(1-b)*y:l.l2p(t-f)+p,S=u?o*b+(1-b)*y:l.l2p(t+f)+p,C=l.l2p(t-_*g)+p,w=l.l2p(t+v*g)+p,T=c.c2p(e.q1,!0),E=c.c2p(e.q3,!0),D=i.constrain(c.c2p(e.med,!0),Math.min(T,E)+1,Math.max(T,E)-1),O=e.lf===void 0||n.boxpoints===!1,k=c.c2p(O?e.min:e.lf,!0),A=c.c2p(O?e.max:e.uf,!0),j=c.c2p(e.ln,!0),M=c.c2p(e.un,!0);s?r.select(this).attr(`d`,`M`+D+`,`+C+`V`+w+`M`+T+`,`+a+`V`+o+(h?`H`+j+`L`+D+`,`+w+`L`+M+`,`+o:``)+`H`+E+`V`+a+(h?`H`+M+`L`+D+`,`+C+`L`+j+`,`+a:``)+`ZM`+T+`,`+y+`H`+k+`M`+E+`,`+y+`H`+A+(m===0?``:`M`+k+`,`+x+`V`+S+`M`+A+`,`+x+`V`+S)):r.select(this).attr(`d`,`M`+C+`,`+D+`H`+w+`M`+a+`,`+T+`H`+o+(h?`V`+j+`L`+w+`,`+D+`L`+o+`,`+M:``)+`V`+E+`H`+a+(h?`V`+M+`L`+C+`,`+D+`L`+a+`,`+j:``)+`ZM`+y+`,`+T+`V`+k+`M`+y+`,`+E+`V`+A+(m===0?``:`M`+x+`,`+k+`H`+S+`M`+x+`,`+A+`H`+S))})}function u(e,t,n,r){var c=t.x,l=t.y,u=r.bdPos,d=r.bPos,f=n.boxpoints||n.points;i.seedPseudoRandom();var p=e.selectAll(`g.points`).data(f?function(e){return e.forEach(function(e){e.t=r,e.trace=n}),e}:[]);p.enter().append(`g`).attr(`class`,`points`),p.exit().remove();var m=p.selectAll(`path`).data(function(e){var t,r=e.pts2,a=Math.max((e.max-e.min)/10,e.q3-e.q1),c=a*1e-9,l=a*s,p=[],m=0,h;if(n.jitter){if(a===0)for(m=1,p=Array(r.length),t=0;t<r.length;t++)p[t]=1;else for(t=0;t<r.length;t++){var g=Math.max(0,t-o),_=r[g].v,v=Math.min(r.length-1,t+o),y=r[v].v;f!==`all`&&(r[t].v<e.lf?y=Math.min(y,e.lf):_=Math.max(_,e.uf));var b=Math.sqrt(l*(v-g)/(y-_+c))||0;b=i.constrain(Math.abs(b),0,1),p.push(b),m=Math.max(b,m)}h=n.jitter*2/(m||1)}for(t=0;t<r.length;t++){var x=r[t],S=x.v,C=n.jitter?h*p[t]*(i.pseudoRandom()-.5):0,w=e.pos+d+u*(n.pointpos+C);n.orientation===`h`?(x.y=w,x.x=S):(x.x=w,x.y=S),f===`suspectedoutliers`&&S<e.uo&&S>e.lo&&(x.so=!0)}return r});m.enter().append(`path`).classed(`point`,!0),m.exit().remove(),m.call(a.translatePoints,c,l)}function d(e,t,n,a){var o=t.val,s=t.pos,c=!!s.rangebreaks,l=a.bPos,u=a.bPosPxOffset||0,d=n.boxmean||(n.meanline||{}).visible,f,p;Array.isArray(a.bdPos)?(f=a.bdPos[0],p=a.bdPos[1]):(f=a.bdPos,p=a.bdPos);var m=e.selectAll(`path.mean`).data(n.type===`box`&&n.boxmean||n.type===`violin`&&n.box.visible&&n.meanline.visible?i.identity:[]);m.enter().append(`path`).attr(`class`,`mean`).style({fill:`none`,"vector-effect":`non-scaling-stroke`}),m.exit().remove(),m.each(function(e){var t=s.c2l(e.pos+l,!0),i=s.l2p(t-f)+u,a=s.l2p(t+p)+u,m=c?(i+a)/2:s.l2p(t)+u,h=o.c2p(e.mean,!0),g=o.c2p(e.mean-e.sd,!0),_=o.c2p(e.mean+e.sd,!0);n.orientation===`h`?r.select(this).attr(`d`,`M`+h+`,`+i+`V`+a+(d===`sd`?`m0,0L`+g+`,`+m+`L`+h+`,`+i+`L`+_+`,`+m+`Z`:``)):r.select(this).attr(`d`,`M`+i+`,`+h+`H`+a+(d===`sd`?`m0,0L`+m+`,`+g+`L`+i+`,`+h+`L`+m+`,`+_+`Z`:``))})}e.exports={plot:c,plotBoxAndWhiskers:l,plotPoints:u,plotBoxMean:d}}),24626:(function(e){e.exports=function(e,t){var n=e.cd,r=e.xaxis,i=e.yaxis,a=[],o,s;if(t===!1)for(o=0;o<n.length;o++)for(s=0;s<(n[o].pts||[]).length;s++)n[o].pts[s].selected=0;else for(o=0;o<n.length;o++)for(s=0;s<(n[o].pts||[]).length;s++){var c=n[o].pts[s],l=r.c2p(c.x),u=i.c2p(c.y);t.contains([l,u],null,c.i,e)?(a.push({pointNumber:c.i,x:r.c2d(c.x),y:i.c2d(c.y)}),c.selected=1):c.selected=0}return a}}),58063:(function(e,t,n){var r=n(39898),i=n(7901),a=n(91424);function o(e,t,n){var o=n||r.select(e).selectAll(`g.trace.boxes`);o.style(`opacity`,function(e){return e[0].trace.opacity}),o.each(function(t){var n=r.select(this),o=t[0].trace,s=o.line.width;function c(e,t,n,r){e.style(`stroke-width`,t+`px`).call(i.stroke,n).call(i.fill,r)}var l=n.selectAll(`path.box`);if(o.type===`candlestick`)l.each(function(e){if(!e.empty){var t=r.select(this),n=o[e.dir];c(t,n.line.width,n.line.color,n.fillcolor),t.style(`opacity`,o.selectedpoints&&!e.selected?.3:1)}});else{c(l,s,o.line.color,o.fillcolor),n.selectAll(`path.mean`).style({"stroke-width":s,"stroke-dasharray":2*s+`px,`+s+`px`}).call(i.stroke,o.line.color);var u=n.selectAll(`path.point`);a.pointStyle(u,o,e)}})}function s(e,t,n){var r=t[0].trace,i=n.selectAll(`path.point`);r.selectedpoints?a.selectedPointStyle(i,r):a.pointStyle(i,r,e)}e.exports={style:o,styleOnSelect:s}}),75343:(function(e,t,n){var r=n(71828).extendFlat,i=n(12663).axisHoverFormat,a=n(2522),o=n(53522);function s(e){return{line:{color:r({},o.line.color,{dflt:e}),width:o.line.width,editType:`style`},fillcolor:o.fillcolor,editType:`style`}}e.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:i(`x`),yhoverformat:i(`y`),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:r({},o.line.width,{}),editType:`style`},increasing:s(a.increasing.line.color.dflt),decreasing:s(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:r({},o.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}}),41197:(function(e,t,n){var r=n(71828),i=n(89298),a=n(42973),o=n(3485).calcCommon;e.exports=function(e,t){var n=e._fullLayout,c=i.getFromId(e,t.xaxis),l=i.getFromId(e,t.yaxis),u=c.makeCalcdata(t,`x`),d=a(t,c,`x`,u).vals,f=o(e,t,u,d,l,s);return f.length?(r.extendFlat(f[0].t,{num:n._numBoxes,dPos:r.distinctVals(d).minDiff/2,posLetter:`x`,valLetter:`y`}),n._numBoxes++,f):[{t:{empty:!0}}]};function s(e,t,n,r){return{min:n,q1:Math.min(e,r),med:r,q3:Math.max(e,r),max:t}}}),1026:(function(e,t,n){var r=n(71828),i=n(7901),a=n(14555),o=n(73927),s=n(75343);e.exports=function(e,t,n,i){function l(n,i){return r.coerce(e,t,s,n,i)}if(!a(e,t,l,i)){t.visible=!1;return}o(e,t,i,l,{x:!0}),l(`xhoverformat`),l(`yhoverformat`),l(`line.width`),c(e,t,l,`increasing`),c(e,t,l,`decreasing`),l(`text`),l(`hovertext`),l(`whiskerwidth`),i._requestRangeslider[t.xaxis]=!0};function c(e,t,n,r){var a=n(r+`.line.color`);n(r+`.line.width`,t.line.width),n(r+`.fillcolor`,i.addOpacity(a,.5))}}),91815:(function(e,t,n){e.exports={moduleType:`trace`,name:`candlestick`,basePlotModule:n(93612),categories:[`cartesian`,`svg`,`showLegend`,`candlestick`,`boxLayout`],meta:{},attributes:n(75343),layoutAttributes:n(40094),supplyLayoutDefaults:n(4199).supplyLayoutDefaults,crossTraceCalc:n(37188).crossTraceCalc,supplyDefaults:n(1026),calc:n(41197),plot:n(86047).plot,layerName:`boxlayer`,style:n(58063).style,hoverPoints:n(66449).hoverPoints,selectPoints:n(67324)}}),13145:(function(e,t,n){var r=n(11500),i=n(44467);e.exports=function(e,t,n,r,i){r(`a`)||(r(`da`),r(`a0`)),r(`b`)||(r(`db`),r(`b0`)),a(e,t,n,i)};function a(e,t,n,a){[`aaxis`,`baxis`].forEach(function(o){var s=o.charAt(0),c=e[o]||{},l=i.newContainer(t,o);r(c,l,{noTicklabelstep:!0,tickfont:`x`,id:s+`axis`,letter:s,font:t.font,name:o,data:e[s],calendar:t.calendar,dfltColor:a,bgColor:n.paper_bgcolor,autotypenumbersDflt:n.autotypenumbers,fullLayout:n}),l._categories=l._categories||[],!e[o]&&c.type!==`-`&&(e[o]={type:c.type})})}}),402:(function(e,t,n){var r=n(71828).isArrayOrTypedArray;e.exports=function(e){return i(e,0)};function i(e,t){if(!r(e)||t>=10)return null;for(var n=1/0,a=-1/0,o=e.length,s=0;s<o;s++){var c=e[s];if(r(c)){var l=i(c,t+1);l&&(n=Math.min(l[0],n),a=Math.max(l[1],a))}else n=Math.min(c,n),a=Math.max(c,a)}return[n,a]}}),99798:(function(e,t,n){var r=n(41940),i=n(1928),a=n(22399),o=r({editType:`calc`});o.family.dflt=`"Open Sans", verdana, arial, sans-serif`,o.size.dflt=12,o.color.dflt=a.defaultLine,e.exports={carpet:{valType:`string`,editType:`calc`},x:{valType:`data_array`,editType:`calc+clearAxisTypes`},y:{valType:`data_array`,editType:`calc+clearAxisTypes`},a:{valType:`data_array`,editType:`calc`},a0:{valType:`number`,dflt:0,editType:`calc`},da:{valType:`number`,dflt:1,editType:`calc`},b:{valType:`data_array`,editType:`calc`},b0:{valType:`number`,dflt:0,editType:`calc`},db:{valType:`number`,dflt:1,editType:`calc`},cheaterslope:{valType:`number`,dflt:1,editType:`calc`},aaxis:i,baxis:i,font:o,color:{valType:`color`,dflt:a.defaultLine,editType:`plot`},transforms:void 0}}),4536:(function(e,t,n){var r=n(71828).isArrayOrTypedArray;e.exports=function(e,t,n,i){var a,o,s,c,l,u,d,f,p,m,h,g,_,v=r(n)?`a`:`b`,y=(v===`a`?e.aaxis:e.baxis).smoothing,b=v===`a`?e.a2i:e.b2j,x=v===`a`?n:i,S=v===`a`?i:n,C=v===`a`?t.a.length:t.b.length,w=v===`a`?t.b.length:t.a.length,T=Math.floor(v===`a`?e.b2j(S):e.a2i(S)),E=v===`a`?function(t){return e.evalxy([],t,T)}:function(t){return e.evalxy([],T,t)};y&&(s=Math.max(0,Math.min(w-2,T)),c=T-s,o=v===`a`?function(t,n){return e.dxydi([],t,s,n,c)}:function(t,n){return e.dxydj([],s,t,c,n)});var D=b(x[0]),O=b(x[1]),k=D<O?1:-1,A=(O-D)*1e-8,j=k>0?Math.floor:Math.ceil,M=k>0?Math.ceil:Math.floor,N=k>0?Math.min:Math.max,P=k>0?Math.max:Math.min,F=j(D+A),I=M(O-A);d=E(D);var L=[[d]];for(a=F;a*k<I*k;a+=k)l=[],h=P(D,a),g=N(O,a+k),_=g-h,u=Math.max(0,Math.min(C-2,Math.floor(.5*(h+g)))),f=E(g),y&&(p=o(u,h-u),m=o(u,g-u),l.push([d[0]+p[0]/3*_,d[1]+p[1]/3*_]),l.push([f[0]-m[0]/3*_,f[1]-m[1]/3*_])),l.push(f),L.push(l),d=f;return L}}),1928:(function(e,t,n){var r=n(41940),i=n(22399),a=n(13838),o=n(12663).descriptionWithDates,s=n(30962).overrideAll,c=n(79952).P,l=n(1426).extendFlat;e.exports={color:{valType:`color`,editType:`calc`},smoothing:{valType:`number`,dflt:1,min:0,max:1.3,editType:`calc`},title:{text:{valType:`string`,dflt:``,editType:`calc`},font:r({editType:`calc`}),offset:{valType:`number`,dflt:10,editType:`calc`},editType:`calc`},type:{valType:`enumerated`,values:[`-`,`linear`,`date`,`category`],dflt:`-`,editType:`calc`},autotypenumbers:a.autotypenumbers,autorange:{valType:`enumerated`,values:[!0,!1,`reversed`],dflt:!0,editType:`calc`},rangemode:{valType:`enumerated`,values:[`normal`,`tozero`,`nonnegative`],dflt:`normal`,editType:`calc`},range:{valType:`info_array`,editType:`calc`,items:[{valType:`any`,editType:`calc`},{valType:`any`,editType:`calc`}]},fixedrange:{valType:`boolean`,dflt:!1,editType:`calc`},cheatertype:{valType:`enumerated`,values:[`index`,`value`],dflt:`value`,editType:`calc`},tickmode:{valType:`enumerated`,values:[`linear`,`array`],dflt:`array`,editType:`calc`},nticks:{valType:`integer`,min:0,dflt:0,editType:`calc`},tickvals:{valType:`data_array`,editType:`calc`},ticktext:{valType:`data_array`,editType:`calc`},showticklabels:{valType:`enumerated`,values:[`start`,`end`,`both`,`none`],dflt:`start`,editType:`calc`},labelalias:l({},a.labelalias,{editType:`calc`}),tickfont:r({editType:`calc`}),tickangle:{valType:`angle`,dflt:`auto`,editType:`calc`},tickprefix:{valType:`string`,dflt:``,editType:`calc`},showtickprefix:{valType:`enumerated`,values:[`all`,`first`,`last`,`none`],dflt:`all`,editType:`calc`},ticksuffix:{valType:`string`,dflt:``,editType:`calc`},showticksuffix:{valType:`enumerated`,values:[`all`,`first`,`last`,`none`],dflt:`all`,editType:`calc`},showexponent:{valType:`enumerated`,values:[`all`,`first`,`last`,`none`],dflt:`all`,editType:`calc`},exponentformat:{valType:`enumerated`,values:[`none`,`e`,`E`,`power`,`SI`,`B`],dflt:`B`,editType:`calc`},minexponent:{valType:`number`,dflt:3,min:0,editType:`calc`},separatethousands:{valType:`boolean`,dflt:!1,editType:`calc`},tickformat:{valType:`string`,dflt:``,editType:`calc`,description:o(`tick label`)},tickformatstops:s(a.tickformatstops,`calc`,`from-root`),categoryorder:{valType:`enumerated`,values:[`trace`,`category ascending`,`category descending`,`array`],dflt:`trace`,editType:`calc`},categoryarray:{valType:`data_array`,editType:`calc`},labelpadding:{valType:`integer`,dflt:10,editType:`calc`},labelprefix:{valType:`string`,editType:`calc`},labelsuffix:{valType:`string`,dflt:``,editType:`calc`},showline:{valType:`boolean`,dflt:!1,editType:`calc`},linecolor:{valType:`color`,dflt:i.defaultLine,editType:`calc`},linewidth:{valType:`number`,min:0,dflt:1,editType:`calc`},gridcolor:{valType:`color`,editType:`calc`},gridwidth:{valType:`number`,min:0,dflt:1,editType:`calc`},griddash:l({},c,{editType:`calc`}),showgrid:{valType:`boolean`,dflt:!0,editType:`calc`},minorgridcount:{valType:`integer`,min:0,dflt:0,editType:`calc`},minorgridwidth:{valType:`number`,min:0,dflt:1,editType:`calc`},minorgriddash:l({},c,{editType:`calc`}),minorgridcolor:{valType:`color`,dflt:i.lightLine,editType:`calc`},startline:{valType:`boolean`,editType:`calc`},startlinecolor:{valType:`color`,editType:`calc`},startlinewidth:{valType:`number`,dflt:1,editType:`calc`},endline:{valType:`boolean`,editType:`calc`},endlinewidth:{valType:`number`,dflt:1,editType:`calc`},endlinecolor:{valType:`color`,editType:`calc`},tick0:{valType:`number`,min:0,dflt:0,editType:`calc`},dtick:{valType:`number`,min:0,dflt:1,editType:`calc`},arraytick0:{valType:`integer`,min:0,dflt:0,editType:`calc`},arraydtick:{valType:`integer`,min:1,dflt:1,editType:`calc`},_deprecated:{title:{valType:`string`,editType:`calc`},titlefont:r({editType:`calc`}),titleoffset:{valType:`number`,dflt:10,editType:`calc`}},editType:`calc`}}),11500:(function(e,t,n){var r=n(99798),i=n(7901).addOpacity,a=n(73972),o=n(71828),s=n(26218),c=n(96115),l=n(89426),u=n(15258),d=n(21994),f=n(4322);e.exports=function(e,t,n){var f=n.letter,m=n.font||{},h=r[f+`axis`];function g(n,r){return o.coerce(e,t,h,n,r)}function _(n,r){return o.coerce2(e,t,h,n,r)}n.name&&(t._name=n.name,t._id=n.name),g(`autotypenumbers`,n.autotypenumbersDflt);var v=g(`type`);v===`-`&&(n.data&&p(t,n.data),t.type===`-`?t.type=`linear`:v=e.type=t.type),g(`smoothing`),g(`cheatertype`),g(`showticklabels`),g(`labelprefix`,f+` = `),g(`labelsuffix`),g(`showtickprefix`),g(`showticksuffix`),g(`separatethousands`),g(`tickformat`),g(`exponentformat`),g(`minexponent`),g(`showexponent`),g(`categoryorder`),g(`tickmode`),g(`tickvals`),g(`ticktext`),g(`tick0`),g(`dtick`),t.tickmode===`array`&&(g(`arraytick0`),g(`arraydtick`)),g(`labelpadding`),t._hovertitle=f,v===`date`&&a.getComponentMethod(`calendars`,`handleDefaults`)(e,t,`calendar`,n.calendar),d(t,n.fullLayout),t.c2p=o.identity;var y=g(`color`,n.dfltColor),b=y===e.color?y:m.color;g(`title.text`)&&(o.coerceFont(g,`title.font`,{family:m.family,size:o.bigFont(m.size),color:b}),g(`title.offset`)),g(`tickangle`),g(`autorange`,!t.isValidRange(e.range))&&g(`rangemode`),g(`range`),t.cleanRange(),g(`fixedrange`),s(e,t,g,v),l(e,t,g,v,n),c(e,t,g,v,n),u(e,t,g,{data:n.data,dataAttr:f});var x=_(`gridcolor`,i(y,.3)),S=_(`gridwidth`),C=_(`griddash`),w=g(`showgrid`);w||(delete t.gridcolor,delete t.gridwidth,delete t.griddash);var T=_(`startlinecolor`,y),E=_(`startlinewidth`,S);g(`startline`,t.showgrid||!!T||!!E)||(delete t.startlinecolor,delete t.startlinewidth);var D=_(`endlinecolor`,y),O=_(`endlinewidth`,S);return g(`endline`,t.showgrid||!!D||!!O)||(delete t.endlinecolor,delete t.endlinewidth),w?(g(`minorgridcount`),g(`minorgridwidth`,S),g(`minorgriddash`,C),g(`minorgridcolor`,i(x,.06)),t.minorgridcount||(delete t.minorgridwidth,delete t.minorgriddash,delete t.minorgridcolor)):(delete t.gridcolor,delete t.gridwidth,delete t.griddash),t.showticklabels===`none`&&(delete t.tickfont,delete t.tickangle,delete t.showexponent,delete t.exponentformat,delete t.minexponent,delete t.tickformat,delete t.showticksuffix,delete t.showtickprefix),t.showticksuffix||delete t.ticksuffix,t.showtickprefix||delete t.tickprefix,g(`tickmode`),t};function p(e,t){if(e.type===`-`){var n=e[e._id.charAt(0)+`calendar`];e.type=f(t,n,{autotypenumbers:e.autotypenumbers})}}}),25281:(function(e,t,n){var r=n(89298),i=n(71828).isArray1D,a=n(53824),o=n(402),s=n(20347),c=n(83311),l=n(44807),u=n(4742),d=n(72505),f=n(68296),p=n(11435);e.exports=function(e,t){var n=r.getFromId(e,t.xaxis),m=r.getFromId(e,t.yaxis),h=t.aaxis,g=t.baxis,_=t.x,v=t.y,y=[];_&&i(_)&&y.push(`x`),v&&i(v)&&y.push(`y`),y.length&&f(t,h,g,`a`,`b`,y);var b=t._a=t._a||t.a,x=t._b=t._b||t.b;_=t._x||t.x,v=t._y||t.y;var S={};t._cheater&&(_=a(h.cheatertype===`index`?b.length:b,g.cheatertype===`index`?x.length:x,t.cheaterslope)),t._x=_=u(_),t._y=v=u(v),d(_,b,x),d(v,b,x),p(t),t.setScale();var C=o(_),w=o(v),T=.5*(C[1]-C[0]),E=.5*(C[1]+C[0]),D=.5*(w[1]-w[0]),O=.5*(w[1]+w[0]),k=1.3;return C=[E-T*k,E+T*k],w=[O-D*k,O+D*k],t._extremes[n._id]=r.findExtremes(n,C,{padded:!0}),t._extremes[m._id]=r.findExtremes(m,w,{padded:!0}),s(t,`a`,`b`),s(t,`b`,`a`),c(t,h),c(t,g),S.clipsegments=l(t._xctrl,t._yctrl,h,g),S.x=_,S.y=v,S.a=b,S.b=x,[S]}}),44807:(function(e){e.exports=function(e,t,n,r){var i,a,o,s=[],c=!!n.smoothing,l=!!r.smoothing,u=e[0].length-1,d=e.length-1;for(i=0,a=[],o=[];i<=u;i++)a[i]=e[0][i],o[i]=t[0][i];for(s.push({x:a,y:o,bicubic:c}),i=0,a=[],o=[];i<=d;i++)a[i]=e[i][u],o[i]=t[i][u];for(s.push({x:a,y:o,bicubic:l}),i=u,a=[],o=[];i>=0;i--)a[u-i]=e[d][i],o[u-i]=t[d][i];for(s.push({x:a,y:o,bicubic:c}),i=d,a=[],o=[];i>=0;i--)a[d-i]=e[i][0],o[d-i]=t[i][0];return s.push({x:a,y:o,bicubic:l}),s}}),20347:(function(e,t,n){var r=n(89298),i=n(1426).extendFlat;e.exports=function(e,t,n){var a,o,s,c,l,u,d,f,p,m,h,g,_,v,y=e[`_`+t],b=e[t+`axis`],x=b._gridlines=[],S=b._minorgridlines=[],C=b._boundarylines=[],w=e[`_`+n],T=e[n+`axis`];b.tickmode===`array`&&(b.tickvals=y.slice());var E=e._xctrl,D=e._yctrl,O=E[0].length,k=E.length,A=e._a.length,j=e._b.length;r.prepTicks(b),b.tickmode===`array`&&delete b.tickvals;var M=b.smoothing?3:1;function N(r){var i,a,o,s,c,l,u,d,p,m,h,g,_=[],v=[],y={};if(t===`b`)for(a=e.b2j(r),o=Math.floor(Math.max(0,Math.min(j-2,a))),s=a-o,y.length=j,y.crossLength=A,y.xy=function(t){return e.evalxy([],t,a)},y.dxy=function(t,n){return e.dxydi([],t,o,n,s)},i=0;i<A;i++)l=Math.min(A-2,i),u=i-l,d=e.evalxy([],i,a),T.smoothing&&i>0&&(p=e.dxydi([],i-1,o,0,s),_.push(c[0]+p[0]/3),v.push(c[1]+p[1]/3),m=e.dxydi([],i-1,o,1,s),_.push(d[0]-m[0]/3),v.push(d[1]-m[1]/3)),_.push(d[0]),v.push(d[1]),c=d;else for(i=e.a2i(r),l=Math.floor(Math.max(0,Math.min(A-2,i))),u=i-l,y.length=A,y.crossLength=j,y.xy=function(t){return e.evalxy([],i,t)},y.dxy=function(t,n){return e.dxydj([],l,t,u,n)},a=0;a<j;a++)o=Math.min(j-2,a),s=a-o,d=e.evalxy([],i,a),T.smoothing&&a>0&&(h=e.dxydj([],l,a-1,u,0),_.push(c[0]+h[0]/3),v.push(c[1]+h[1]/3),g=e.dxydj([],l,a-1,u,1),_.push(d[0]-g[0]/3),v.push(d[1]-g[1]/3)),_.push(d[0]),v.push(d[1]),c=d;return y.axisLetter=t,y.axis=b,y.crossAxis=T,y.value=r,y.constvar=n,y.index=f,y.x=_,y.y=v,y.smoothing=T.smoothing,y}function P(r){var i,a,o,s,c,l=[],u=[],d={};if(d.length=y.length,d.crossLength=w.length,t===`b`)for(o=Math.max(0,Math.min(j-2,r)),c=Math.min(1,Math.max(0,r-o)),d.xy=function(t){return e.evalxy([],t,r)},d.dxy=function(t,n){return e.dxydi([],t,o,n,c)},i=0;i<O;i++)l[i]=E[r*M][i],u[i]=D[r*M][i];else for(a=Math.max(0,Math.min(A-2,r)),s=Math.min(1,Math.max(0,r-a)),d.xy=function(t){return e.evalxy([],r,t)},d.dxy=function(t,n){return e.dxydj([],a,t,s,n)},i=0;i<k;i++)l[i]=E[i][r*M],u[i]=D[i][r*M];return d.axisLetter=t,d.axis=b,d.crossAxis=T,d.value=y[r],d.constvar=n,d.index=r,d.x=l,d.y=u,d.smoothing=T.smoothing,d}if(b.tickmode===`array`){for(c=5e-15,l=[Math.floor((y.length-1-b.arraytick0)/b.arraydtick*(1+c)),Math.ceil(-b.arraytick0/b.arraydtick/(1+c))].sort(function(e,t){return e-t}),u=l[0]-1,d=l[1]+1,f=u;f<d;f++)o=b.arraytick0+b.arraydtick*f,!(o<0||o>y.length-1)&&x.push(i(P(o),{color:b.gridcolor,width:b.gridwidth,dash:b.griddash}));for(f=u;f<d;f++)if(s=b.arraytick0+b.arraydtick*f,h=Math.min(s+b.arraydtick,y.length-1),!(s<0||s>y.length-1)&&!(h<0||h>y.length-1))for(g=y[s],_=y[h],a=0;a<b.minorgridcount;a++)v=h-s,!(v<=0)&&(m=g+(_-g)*(a+1)/(b.minorgridcount+1)*(b.arraydtick/v),!(m<y[0]||m>y[y.length-1])&&S.push(i(N(m),{color:b.minorgridcolor,width:b.minorgridwidth,dash:b.minorgriddash})));b.startline&&C.push(i(P(0),{color:b.startlinecolor,width:b.startlinewidth})),b.endline&&C.push(i(P(y.length-1),{color:b.endlinecolor,width:b.endlinewidth}))}else{for(c=5e-15,l=[Math.floor((y[y.length-1]-b.tick0)/b.dtick*(1+c)),Math.ceil((y[0]-b.tick0)/b.dtick/(1+c))].sort(function(e,t){return e-t}),u=l[0],d=l[1],f=u;f<=d;f++)p=b.tick0+b.dtick*f,x.push(i(N(p),{color:b.gridcolor,width:b.gridwidth,dash:b.griddash}));for(f=u-1;f<d+1;f++)for(p=b.tick0+b.dtick*f,a=0;a<b.minorgridcount;a++)m=p+b.dtick*(a+1)/(b.minorgridcount+1),!(m<y[0]||m>y[y.length-1])&&S.push(i(N(m),{color:b.minorgridcolor,width:b.minorgridwidth,dash:b.minorgriddash}));b.startline&&C.push(i(N(y[0]),{color:b.startlinecolor,width:b.startlinewidth})),b.endline&&C.push(i(N(y[y.length-1]),{color:b.endlinecolor,width:b.endlinewidth}))}}}),83311:(function(e,t,n){var r=n(89298),i=n(1426).extendFlat;e.exports=function(e,t){var n,a,o,s,c,l=t._labels=[],u=t._gridlines;for(n=0;n<u.length;n++)c=u[n],[`start`,`both`].indexOf(t.showticklabels)!==-1&&(a=r.tickText(t,c.value),i(a,{prefix:o,suffix:s,endAnchor:!0,xy:c.xy(0),dxy:c.dxy(0,0),axis:c.axis,length:c.crossAxis.length,font:c.axis.tickfont,isFirst:n===0,isLast:n===u.length-1}),l.push(a)),[`end`,`both`].indexOf(t.showticklabels)!==-1&&(a=r.tickText(t,c.value),i(a,{endAnchor:!1,xy:c.xy(c.crossLength-1),dxy:c.dxy(c.crossLength-2,1),axis:c.axis,length:c.crossAxis.length,font:c.axis.tickfont,isFirst:n===0,isLast:n===u.length-1}),l.push(a))}}),42048:(function(e){var t=.5;e.exports=function(e,n,r,i){var a=e[0]-n[0],o=e[1]-n[1],s=r[0]-n[0],c=r[1]-n[1],l=(a*a+o*o)**(t/2),u=(s*s+c*c)**(t/2),d=(u*u*a-l*l*s)*i,f=(u*u*o-l*l*c)*i,p=u*(l+u)*3,m=l*(l+u)*3;return[[n[0]+(p&&d/p),n[1]+(p&&f/p)],[n[0]-(m&&d/m),n[1]-(m&&f/m)]]}}),53824:(function(e,t,n){var r=n(71828).isArrayOrTypedArray;e.exports=function(e,t,n){var i,a,o,s,c,l,u=[],d=r(e)?e.length:e,f=r(t)?t.length:t,p=r(e)?e:null,m=r(t)?t:null;p&&(o=(p.length-1)/(p[p.length-1]-p[0])/(d-1)),m&&(s=(m.length-1)/(m[m.length-1]-m[0])/(f-1));var h,g=1/0,_=-1/0;for(a=0;a<f;a++)for(u[a]=[],l=m?(m[a]-m[0])*s:a/(f-1),i=0;i<d;i++)c=p?(p[i]-p[0])*o:i/(d-1),h=c-l*n,g=Math.min(h,g),_=Math.max(h,_),u[a][i]=h;var v=1/(_-g),y=-g*v;for(a=0;a<f;a++)for(i=0;i<d;i++)u[a][i]=v*u[a][i]+y;return u}}),45664:(function(e,t,n){var r=n(42048),i=n(71828).ensureArray;function a(e,t,n){var r=-.5*n[0]+1.5*t[0],i=-.5*n[1]+1.5*t[1];return[(2*r+e[0])/3,(2*i+e[1])/3]}e.exports=function(e,t,n,o,s,c){var l,u,d,f,p,m,h,g,_,v,y=n[0].length,b=n.length,x=s?3*y-2:y,S=c?3*b-2:b;for(e=i(e,S),t=i(t,S),d=0;d<S;d++)e[d]=i(e[d],x),t[d]=i(t[d],x);for(u=0,f=0;u<b;u++,f+=c?3:1)for(p=e[f],m=t[f],h=n[u],g=o[u],l=0,d=0;l<y;l++,d+=s?3:1)p[d]=h[l],m[d]=g[l];if(s)for(u=0,f=0;u<b;u++,f+=c?3:1){for(l=1,d=3;l<y-1;l++,d+=3)_=r([n[u][l-1],o[u][l-1]],[n[u][l],o[u][l]],[n[u][l+1],o[u][l+1]],s),e[f][d-1]=_[0][0],t[f][d-1]=_[0][1],e[f][d+1]=_[1][0],t[f][d+1]=_[1][1];v=a([e[f][0],t[f][0]],[e[f][2],t[f][2]],[e[f][3],t[f][3]]),e[f][1]=v[0],t[f][1]=v[1],v=a([e[f][x-1],t[f][x-1]],[e[f][x-3],t[f][x-3]],[e[f][x-4],t[f][x-4]]),e[f][x-2]=v[0],t[f][x-2]=v[1]}if(c)for(d=0;d<x;d++){for(f=3;f<S-3;f+=3)_=r([e[f-3][d],t[f-3][d]],[e[f][d],t[f][d]],[e[f+3][d],t[f+3][d]],c),e[f-1][d]=_[0][0],t[f-1][d]=_[0][1],e[f+1][d]=_[1][0],t[f+1][d]=_[1][1];v=a([e[0][d],t[0][d]],[e[2][d],t[2][d]],[e[3][d],t[3][d]]),e[1][d]=v[0],t[1][d]=v[1],v=a([e[S-1][d],t[S-1][d]],[e[S-3][d],t[S-3][d]],[e[S-4][d],t[S-4][d]]),e[S-2][d]=v[0],t[S-2][d]=v[1]}if(s&&c)for(f=1;f<S;f+=(f+1)%3==0?2:1){for(d=3;d<x-3;d+=3)_=r([e[f][d-3],t[f][d-3]],[e[f][d],t[f][d]],[e[f][d+3],t[f][d+3]],s),e[f][d-1]=.5*(e[f][d-1]+_[0][0]),t[f][d-1]=.5*(t[f][d-1]+_[0][1]),e[f][d+1]=.5*(e[f][d+1]+_[1][0]),t[f][d+1]=.5*(t[f][d+1]+_[1][1]);v=a([e[f][0],t[f][0]],[e[f][2],t[f][2]],[e[f][3],t[f][3]]),e[f][1]=.5*(e[f][1]+v[0]),t[f][1]=.5*(t[f][1]+v[1]),v=a([e[f][x-1],t[f][x-1]],[e[f][x-3],t[f][x-3]],[e[f][x-4],t[f][x-4]]),e[f][x-2]=.5*(e[f][x-2]+v[0]),t[f][x-2]=.5*(t[f][x-2]+v[1])}return[e,t]}}),35509:(function(e){e.exports={RELATIVE_CULL_TOLERANCE:1e-6}}),54495:(function(e){e.exports=function(e,t,n){return t&&n?function(t,n,r,i,a){t||=[];var o,s,c,l,u,d;n*=3,r*=3;var f=i*i,p=1-i,m=p*p,h=p*i*2,g=-3*m,_=3*(m-h),v=3*(h-f),y=3*f,b=a*a,x=b*a,S=1-a,C=S*S,w=C*S;for(d=0;d<e.length;d++)u=e[d],o=g*u[r][n]+_*u[r][n+1]+v*u[r][n+2]+y*u[r][n+3],s=g*u[r+1][n]+_*u[r+1][n+1]+v*u[r+1][n+2]+y*u[r+1][n+3],c=g*u[r+2][n]+_*u[r+2][n+1]+v*u[r+2][n+2]+y*u[r+2][n+3],l=g*u[r+3][n]+_*u[r+3][n+1]+v*u[r+3][n+2]+y*u[r+3][n+3],t[d]=w*o+3*(C*a*s+S*b*c)+x*l;return t}:t?function(t,n,r,i,a){t||=[];var o,s,c,l;n*=3;var u=i*i,d=1-i,f=d*d,p=d*i*2,m=-3*f,h=3*(f-p),g=3*(p-u),_=3*u,v=1-a;for(c=0;c<e.length;c++)l=e[c],o=m*l[r][n]+h*l[r][n+1]+g*l[r][n+2]+_*l[r][n+3],s=m*l[r+1][n]+h*l[r+1][n+1]+g*l[r+1][n+2]+_*l[r+1][n+3],t[c]=v*o+a*s;return t}:n?function(t,n,r,i,a){t||=[];var o,s,c,l,u,d;r*=3;var f=a*a,p=f*a,m=1-a,h=m*m,g=h*m;for(u=0;u<e.length;u++)d=e[u],o=d[r][n+1]-d[r][n],s=d[r+1][n+1]-d[r+1][n],c=d[r+2][n+1]-d[r+2][n],l=d[r+3][n+1]-d[r+3][n],t[u]=g*o+3*(h*a*s+m*f*c)+p*l;return t}:function(t,n,r,i,a){t||=[];var o,s,c,l,u=1-a;for(c=0;c<e.length;c++)l=e[c],o=l[r][n+1]-l[r][n],s=l[r+1][n+1]-l[r+1][n],t[c]=u*o+a*s;return t}}}),73057:(function(e){e.exports=function(e,t,n){return t&&n?function(t,n,r,i,a){t||=[];var o,s,c,l,u,d;n*=3,r*=3;var f=i*i,p=f*i,m=1-i,h=m*m,g=h*m,_=a*a,v=1-a,y=v*v,b=v*a*2,x=-3*y,S=3*(y-b),C=3*(b-_),w=3*_;for(d=0;d<e.length;d++)u=e[d],o=x*u[r][n]+S*u[r+1][n]+C*u[r+2][n]+w*u[r+3][n],s=x*u[r][n+1]+S*u[r+1][n+1]+C*u[r+2][n+1]+w*u[r+3][n+1],c=x*u[r][n+2]+S*u[r+1][n+2]+C*u[r+2][n+2]+w*u[r+3][n+2],l=x*u[r][n+3]+S*u[r+1][n+3]+C*u[r+2][n+3]+w*u[r+3][n+3],t[d]=g*o+3*(h*i*s+m*f*c)+p*l;return t}:t?function(t,n,r,i,a){t||=[];var o,s,c,l,u,d;n*=3;var f=a*a,p=f*a,m=1-a,h=m*m,g=h*m;for(u=0;u<e.length;u++)d=e[u],o=d[r+1][n]-d[r][n],s=d[r+1][n+1]-d[r][n+1],c=d[r+1][n+2]-d[r][n+2],l=d[r+1][n+3]-d[r][n+3],t[u]=g*o+3*(h*a*s+m*f*c)+p*l;return t}:n?function(t,n,r,i,a){t||=[];var o,s,c,l;r*=3;var u=1-i,d=a*a,f=1-a,p=f*f,m=f*a*2,h=-3*p,g=3*(p-m),_=3*(m-d),v=3*d;for(c=0;c<e.length;c++)l=e[c],o=h*l[r][n]+g*l[r+1][n]+_*l[r+2][n]+v*l[r+3][n],s=h*l[r][n+1]+g*l[r+1][n+1]+_*l[r+2][n+1]+v*l[r+3][n+1],t[c]=u*o+i*s;return t}:function(t,n,r,i,a){t||=[];var o,s,c,l,u=1-i;for(c=0;c<e.length;c++)l=e[c],o=l[r+1][n]-l[r][n],s=l[r+1][n+1]-l[r][n+1],t[c]=u*o+i*s;return t}}}),20349:(function(e){e.exports=function(e,t,n,r,i){var a=t-2,o=n-2;return r&&i?function(t,n,r){t||=[];var i,s,c,l,u,d,f=Math.max(0,Math.min(Math.floor(n),a)),p=Math.max(0,Math.min(Math.floor(r),o)),m=Math.max(0,Math.min(1,n-f)),h=Math.max(0,Math.min(1,r-p));f*=3,p*=3;var g=m*m,_=g*m,v=1-m,y=v*v,b=y*v,x=h*h,S=x*h,C=1-h,w=C*C,T=w*C;for(d=0;d<e.length;d++)u=e[d],i=b*u[p][f]+3*(y*m*u[p][f+1]+v*g*u[p][f+2])+_*u[p][f+3],s=b*u[p+1][f]+3*(y*m*u[p+1][f+1]+v*g*u[p+1][f+2])+_*u[p+1][f+3],c=b*u[p+2][f]+3*(y*m*u[p+2][f+1]+v*g*u[p+2][f+2])+_*u[p+2][f+3],l=b*u[p+3][f]+3*(y*m*u[p+3][f+1]+v*g*u[p+3][f+2])+_*u[p+3][f+3],t[d]=T*i+3*(w*h*s+C*x*c)+S*l;return t}:r?function(t,n,r){t||=[];var i=Math.max(0,Math.min(Math.floor(n),a)),s=Math.max(0,Math.min(Math.floor(r),o)),c=Math.max(0,Math.min(1,n-i)),l=Math.max(0,Math.min(1,r-s)),u,d,f,p,m,h;i*=3;var g=c*c,_=g*c,v=1-c,y=v*v,b=y*v,x=1-l;for(m=0;m<e.length;m++)h=e[m],u=x*h[s][i]+l*h[s+1][i],d=x*h[s][i+1]+l*h[s+1][i+1],f=x*h[s][i+2]+l*h[s+1][i+1],p=x*h[s][i+3]+l*h[s+1][i+1],t[m]=b*u+3*(y*c*d+v*g*f)+_*p;return t}:i?function(t,n,r){t||=[];var i=Math.max(0,Math.min(Math.floor(n),a)),s=Math.max(0,Math.min(Math.floor(r),o)),c=Math.max(0,Math.min(1,n-i)),l=Math.max(0,Math.min(1,r-s)),u,d,f,p,m,h;s*=3;var g=l*l,_=g*l,v=1-l,y=v*v,b=y*v,x=1-c;for(m=0;m<e.length;m++)h=e[m],u=x*h[s][i]+c*h[s][i+1],d=x*h[s+1][i]+c*h[s+1][i+1],f=x*h[s+2][i]+c*h[s+2][i+1],p=x*h[s+3][i]+c*h[s+3][i+1],t[m]=b*u+3*(y*l*d+v*g*f)+_*p;return t}:function(t,n,r){t||=[];var i=Math.max(0,Math.min(Math.floor(n),a)),s=Math.max(0,Math.min(Math.floor(r),o)),c=Math.max(0,Math.min(1,n-i)),l=Math.max(0,Math.min(1,r-s)),u,d,f,p,m=1-l,h=1-c;for(f=0;f<e.length;f++)p=e[f],u=h*p[s][i]+c*p[s][i+1],d=h*p[s+1][i]+c*p[s+1][i+1],t[f]=m*u+l*d;return t}}}),92087:(function(e,t,n){var r=n(71828),i=n(19237),a=n(13145),o=n(99798),s=n(22399);e.exports=function(e,t,n,c){function l(n,i){return r.coerce(e,t,o,n,i)}t._clipPathId=`clip`+t.uid+`carpet`;var u=l(`color`,s.defaultLine);if(r.coerceFont(l,`font`),l(`carpet`),a(e,t,c,l,u),!t.a||!t.b){t.visible=!1;return}t.a.length<3&&(t.aaxis.smoothing=0),t.b.length<3&&(t.baxis.smoothing=0),i(e,t,l)||(t.visible=!1),t._cheater&&l(`cheaterslope`)}}),21462:(function(e,t,n){e.exports={attributes:n(99798),supplyDefaults:n(92087),plot:n(89740),calc:n(25281),animatable:!0,isContainer:!0,moduleType:`trace`,name:`carpet`,basePlotModule:n(93612),categories:[`cartesian`,`svg`,`carpet`,`carpetAxis`,`notLegendIsolatable`,`noMultiCategory`,`noHover`,`noSortingByValue`],meta:{}}}),22882:(function(e){e.exports=function(e,t){for(var n=e._fullData.length,r,i=0;i<n;i++){var a=e._fullData[i];if(a.index!==t.index&&a.type===`carpet`&&(r||=a,a.carpet===t.carpet))return a}return r}}),67961:(function(e){e.exports=function(e,t,n){if(e.length===0)return``;var r,i=[],a=n?3:1;for(r=0;r<e.length;r+=a)i.push(e[r]+`,`+t[r]),n&&r<e.length-a&&(i.push(`C`),i.push([e[r+1]+`,`+t[r+1],e[r+2]+`,`+t[r+2]+` `].join(` `)));return i.join(n?``:`L`)}}),27669:(function(e,t,n){var r=n(71828).isArrayOrTypedArray;e.exports=function(e,t,n){var i;for(r(e)?e.length>t.length&&(e=e.slice(0,t.length)):e=[],i=0;i<t.length;i++)e[i]=n(t[i]);return e}}),11651:(function(e){e.exports=function(e,t,n,r,i,a){var o=i[0]*e.dpdx(t),s=i[1]*e.dpdy(n),c=1,l=1;if(a){var u=Math.sqrt(i[0]*i[0]+i[1]*i[1]),d=Math.sqrt(a[0]*a[0]+a[1]*a[1]),f=(i[0]*a[0]+i[1]*a[1])/u/d;l=Math.max(0,f)}var p=Math.atan2(s,o)*180/Math.PI;return p<-90?(p+=180,c=-c):p>90&&(p-=180,c=-c),{angle:p,flip:c,p:e.c2p(r,t,n),offsetMultplier:l}}}),89740:(function(e,t,n){var r=n(39898),i=n(91424),a=n(27669),o=n(67961),s=n(11651),c=n(63893),l=n(71828),u=l.strRotate,d=l.strTranslate,f=n(18783);e.exports=function(e,t,n,i){var a=e._context.staticPlot,o=t.xaxis,s=t.yaxis,c=e._fullLayout._clips;l.makeTraceGroups(i,n,`trace`).each(function(t){var n=r.select(this),i=t[0],u=i.trace,d=u.aaxis,f=u.baxis,_=l.ensureSingle(n,`g`,`minorlayer`),v=l.ensureSingle(n,`g`,`majorlayer`),y=l.ensureSingle(n,`g`,`boundarylayer`),b=l.ensureSingle(n,`g`,`labellayer`);n.style(`opacity`,u.opacity),m(o,s,v,d,`a`,d._gridlines,!0,a),m(o,s,v,f,`b`,f._gridlines,!0,a),m(o,s,_,d,`a`,d._minorgridlines,!0,a),m(o,s,_,f,`b`,f._minorgridlines,!0,a),m(o,s,y,d,`a-boundary`,d._boundarylines,a),m(o,s,y,f,`b-boundary`,f._boundarylines,a),g(e,b,u,i,o,s,h(e,o,s,u,i,b,d._labels,`a-label`),h(e,o,s,u,i,b,f._labels,`b-label`)),p(u,i,c,o,s)})};function p(e,t,n,r,i){var s,c,u,d,f=n.select(`#`+e._clipPathId);f.size()||(f=n.append(`clipPath`).classed(`carpetclip`,!0));var p=l.ensureSingle(f,`path`,`carpetboundary`),m=t.clipsegments,h=[];for(d=0;d<m.length;d++)s=m[d],c=a([],s.x,r.c2p),u=a([],s.y,i.c2p),h.push(o(c,u,s.bicubic));var g=`M`+h.join(`L`)+`Z`;f.attr(`id`,e._clipPathId),p.attr(`d`,g)}function m(e,t,n,s,c,l,u){var d=`const-`+c+`-lines`,f=n.selectAll(`.`+d).data(l);f.enter().append(`path`).classed(d,!0).style(`vector-effect`,u?`none`:`non-scaling-stroke`),f.each(function(n){var s=n,c=s.x,l=s.y,u=`M`+o(a([],c,e.c2p),a([],l,t.c2p),s.smoothing);r.select(this).attr(`d`,u).style(`stroke-width`,s.width).style(`stroke`,s.color).style(`stroke-dasharray`,i.dashStyle(s.dash,s.width)).style(`fill`,`none`)}),f.exit().remove()}function h(e,t,n,a,o,l,f,p){var m=l.selectAll(`text.`+p).data(f);m.enter().append(`text`).classed(p,!0);var h=0,g={};return m.each(function(o,l){var f;if(o.axis.tickangle===`auto`)f=s(a,t,n,o.xy,o.dxy);else{var p=(o.axis.tickangle+180)*Math.PI/180;f=s(a,t,n,o.xy,[Math.cos(p),Math.sin(p)])}l||(g={angle:f.angle,flip:f.flip});var m=(o.endAnchor?-1:1)*f.flip,_=r.select(this).attr({"text-anchor":m>0?`start`:`end`,"data-notex":1}).call(i.font,o.font).text(o.text).call(c.convertToTspans,e),v=i.bBox(this);_.attr(`transform`,d(f.p[0],f.p[1])+u(f.angle)+d(o.axis.labelpadding*m,v.height*.3)),h=Math.max(h,v.width+o.axis.labelpadding)}),m.exit().remove(),g.maxExtent=h,g}function g(e,t,n,r,i,a,o,c){var u,d,f,p,m=l.aggNums(Math.min,null,n.a),h=l.aggNums(Math.max,null,n.a),g=l.aggNums(Math.min,null,n.b),_=l.aggNums(Math.max,null,n.b);u=.5*(m+h),d=g,f=n.ab2xy(u,d,!0),p=n.dxyda_rough(u,d),o.angle===void 0&&l.extendFlat(o,s(n,i,a,f,n.dxydb_rough(u,d))),y(e,t,n,r,f,p,n.aaxis,i,a,o,`a-title`),u=m,d=.5*(g+_),f=n.ab2xy(u,d,!0),p=n.dxydb_rough(u,d),c.angle===void 0&&l.extendFlat(c,s(n,i,a,f,n.dxyda_rough(u,d))),y(e,t,n,r,f,p,n.baxis,i,a,c,`b-title`)}var _=f.LINE_SPACING,v=(1-f.MID_SHIFT)/_+1;function y(e,t,n,a,o,l,f,p,m,h,g){var y=[];f.title.text&&y.push(f.title.text);var b=t.selectAll(`text.`+g).data(y),x=h.maxExtent;b.enter().append(`text`).classed(g,!0),b.each(function(){var t=s(n,p,m,o,l);[`start`,`both`].indexOf(f.showticklabels)===-1&&(x=0);var a=f.title.font.size;x+=a+f.title.offset;var g=(h.angle+(h.flip<0?180:0)-t.angle+450)%360,y=g>90&&g<270,b=r.select(this);b.text(f.title.text).call(c.convertToTspans,e),y&&(x=(-c.lineCount(b)+v)*_*a-x),b.attr(`transform`,d(t.p[0],t.p[1])+u(t.angle)+d(0,x)).attr(`text-anchor`,`middle`).call(i.font,f.title.font)}),b.exit().remove()}}),11435:(function(e,t,n){var r=n(35509),i=n(65888).findBin,a=n(45664),o=n(20349),s=n(54495),c=n(73057);e.exports=function(e){var t=e._a,n=e._b,l=t.length,u=n.length,d=e.aaxis,f=e.baxis,p=t[0],m=t[l-1],h=n[0],g=n[u-1],_=t[t.length-1]-t[0],v=n[n.length-1]-n[0],y=_*r.RELATIVE_CULL_TOLERANCE,b=v*r.RELATIVE_CULL_TOLERANCE;p-=y,m+=y,h-=b,g+=b,e.isVisible=function(e,t){return e>p&&e<m&&t>h&&t<g},e.isOccluded=function(e,t){return e<p||e>m||t<h||t>g},e.setScale=function(){var t=e._x,n=e._y,r=a(e._xctrl,e._yctrl,t,n,d.smoothing,f.smoothing);e._xctrl=r[0],e._yctrl=r[1],e.evalxy=o([e._xctrl,e._yctrl],l,u,d.smoothing,f.smoothing),e.dxydi=s([e._xctrl,e._yctrl],d.smoothing,f.smoothing),e.dxydj=c([e._xctrl,e._yctrl],d.smoothing,f.smoothing)},e.i2a=function(e){var n=Math.max(0,Math.floor(e[0]),l-2),r=e[0]-n;return(1-r)*t[n]+r*t[n+1]},e.j2b=function(e){var t=Math.max(0,Math.floor(e[1]),l-2),r=e[1]-t;return(1-r)*n[t]+r*n[t+1]},e.ij2ab=function(t){return[e.i2a(t[0]),e.j2b(t[1])]},e.a2i=function(e){var n=Math.max(0,Math.min(i(e,t),l-2)),r=t[n],a=t[n+1];return Math.max(0,Math.min(l-1,n+(e-r)/(a-r)))},e.b2j=function(e){var t=Math.max(0,Math.min(i(e,n),u-2)),r=n[t],a=n[t+1];return Math.max(0,Math.min(u-1,t+(e-r)/(a-r)))},e.ab2ij=function(t){return[e.a2i(t[0]),e.b2j(t[1])]},e.i2c=function(t,n){return e.evalxy([],t,n)},e.ab2xy=function(r,i,a){if(!a&&(r<t[0]||r>t[l-1]|i<n[0]||i>n[u-1]))return[!1,!1];var o=e.a2i(r),s=e.b2j(i),c=e.evalxy([],o,s);if(a){var d=0,f=0,p=[],m,h,g,_;r<t[0]?(m=0,h=0,d=(r-t[0])/(t[1]-t[0])):r>t[l-1]?(m=l-2,h=1,d=(r-t[l-1])/(t[l-1]-t[l-2])):(m=Math.max(0,Math.min(l-2,Math.floor(o))),h=o-m),i<n[0]?(g=0,_=0,f=(i-n[0])/(n[1]-n[0])):i>n[u-1]?(g=u-2,_=1,f=(i-n[u-1])/(n[u-1]-n[u-2])):(g=Math.max(0,Math.min(u-2,Math.floor(s))),_=s-g),d&&(e.dxydi(p,m,g,h,_),c[0]+=p[0]*d,c[1]+=p[1]*d),f&&(e.dxydj(p,m,g,h,_),c[0]+=p[0]*f,c[1]+=p[1]*f)}return c},e.c2p=function(e,t,n){return[t.c2p(e[0]),n.c2p(e[1])]},e.p2x=function(e,t,n){return[t.p2c(e[0]),n.p2c(e[1])]},e.dadi=function(e){var n=Math.max(0,Math.min(t.length-2,e));return t[n+1]-t[n]},e.dbdj=function(e){var t=Math.max(0,Math.min(n.length-2,e));return n[t+1]-n[t]},e.dxyda=function(t,n,r,i){var a=e.dxydi(null,t,n,r,i),o=e.dadi(t,r);return[a[0]/o,a[1]/o]},e.dxydb=function(t,n,r,i){var a=e.dxydj(null,t,n,r,i),o=e.dbdj(n,i);return[a[0]/o,a[1]/o]},e.dxyda_rough=function(t,n,r){var i=_*(r||.1),a=e.ab2xy(t+i,n,!0),o=e.ab2xy(t-i,n,!0);return[(a[0]-o[0])*.5/i,(a[1]-o[1])*.5/i]},e.dxydb_rough=function(t,n,r){var i=v*(r||.1),a=e.ab2xy(t,n+i,!0),o=e.ab2xy(t,n-i,!0);return[(a[0]-o[0])*.5/i,(a[1]-o[1])*.5/i]},e.dpdx=function(e){return e._m},e.dpdy=function(e){return e._m}}}),72505:(function(e,t,n){var r=n(71828);e.exports=function(e,t,n){var i,a,o,s=[],c=[],l=e[0].length,u=e.length;function d(t,n){var r=0,i,a=0;return t>0&&(i=e[n][t-1])!==void 0&&(a++,r+=i),t<l-1&&(i=e[n][t+1])!==void 0&&(a++,r+=i),n>0&&(i=e[n-1][t])!==void 0&&(a++,r+=i),n<u-1&&(i=e[n+1][t])!==void 0&&(a++,r+=i),r/Math.max(1,a)}var f=0;for(i=0;i<l;i++)for(a=0;a<u;a++)e[a][i]===void 0&&(s.push(i),c.push(a),e[a][i]=d(i,a)),f=Math.max(f,Math.abs(e[a][i]));if(!s.length)return e;var p,m,h,g,_,v,y,b,x,S,C,w=1e-5,T=0,E=100,D=0,O=s.length;do{for(T=0,o=0;o<O;o++){i=s[o],a=c[o];var k=0,A=0,j,M,N,P,F,I;i===0?(F=Math.min(l-1,2),N=t[F],P=t[1],j=e[a][F],M=e[a][1],A+=M+(M-j)*(t[0]-P)/(P-N),k++):i===l-1&&(F=Math.max(0,l-3),N=t[F],P=t[l-2],j=e[a][F],M=e[a][l-2],A+=M+(M-j)*(t[l-1]-P)/(P-N),k++),(i===0||i===l-1)&&a>0&&a<u-1&&(p=n[a+1]-n[a],m=n[a]-n[a-1],A+=(m*e[a+1][i]+p*e[a-1][i])/(m+p),k++),a===0?(I=Math.min(u-1,2),N=n[I],P=n[1],j=e[I][i],M=e[1][i],A+=M+(M-j)*(n[0]-P)/(P-N),k++):a===u-1&&(I=Math.max(0,u-3),N=n[I],P=n[u-2],j=e[I][i],M=e[u-2][i],A+=M+(M-j)*(n[u-1]-P)/(P-N),k++),(a===0||a===u-1)&&i>0&&i<l-1&&(p=t[i+1]-t[i],m=t[i]-t[i-1],A+=(m*e[a][i+1]+p*e[a][i-1])/(m+p),k++),k?A/=k:(h=t[i+1]-t[i],g=t[i]-t[i-1],_=n[a+1]-n[a],v=n[a]-n[a-1],y=h*g*(h+g),b=_*v*(_+v),A=(y*(v*e[a+1][i]+_*e[a-1][i])+b*(g*e[a][i+1]+h*e[a][i-1]))/(b*(g+h)+y*(v+_))),x=A-e[a][i],S=x/f,T+=S*S,C=k?0:.85,e[a][i]+=x*(1+C)}T=Math.sqrt(T)}while(D++<E&&T>w);return r.log(`Smoother converged to`,T,`after`,D,`iterations`),e}}),19237:(function(e,t,n){var r=n(71828).isArray1D;e.exports=function(e,t,n){var i=n(`x`),a=i&&i.length,o=n(`y`),s=o&&o.length;if(!a&&!s)return!1;if(t._cheater=!i,(!a||r(i))&&(!s||r(o))){var c=a?i.length:1/0;s&&(c=Math.min(c,o.length)),t.a&&t.a.length&&(c=Math.min(c,t.a.length)),t.b&&t.b.length&&(c=Math.min(c,t.b.length)),t._length=c}else t._length=null;return!0}}),69568:(function(e,t,n){var r=n(5386).f,i=n(19316),a=n(50693),o=n(9012),s=n(22399).defaultLine,c=n(1426).extendFlat,l=i.marker.line;e.exports=c({locations:{valType:`data_array`,editType:`calc`},locationmode:i.locationmode,z:{valType:`data_array`,editType:`calc`},geojson:c({},i.geojson,{}),featureidkey:i.featureidkey,text:c({},i.text,{}),hovertext:c({},i.hovertext,{}),marker:{line:{color:c({},l.color,{dflt:s}),width:c({},l.width,{dflt:1}),editType:`calc`},opacity:{valType:`number`,arrayOk:!0,min:0,max:1,dflt:1,editType:`style`},editType:`calc`},selected:{marker:{opacity:i.selected.marker.opacity,editType:`plot`},editType:`plot`},unselected:{marker:{opacity:i.unselected.marker.opacity,editType:`plot`},editType:`plot`},hoverinfo:c({},o.hoverinfo,{editType:`calc`,flags:[`location`,`z`,`text`,`name`]}),hovertemplate:r(),showlegend:c({},o.showlegend,{dflt:!1})},a(``,{cLetter:`z`,editTypeOverride:`calc`}))}),38675:(function(e,t,n){var r=n(92770),i=n(50606).BADNUM,a=n(78803),o=n(75225),s=n(66279);function c(e){return e&&typeof e==`string`}e.exports=function(e,t){for(var n=t._length,l=Array(n),u=t.geojson?function(e){return c(e)||r(e)}:c,d=0;d<n;d++){var f=l[d]={},p=t.locations[d],m=t.z[d];u(p)&&r(m)?(f.loc=p,f.z=m):(f.loc=null,f.z=i),f.index=d}return o(l,t),a(e,t,{vals:t.z,containerStr:``,cLetter:`z`}),s(l,t),l}}),61869:(function(e,t,n){var r=n(71828),i=n(1586),a=n(69568);e.exports=function(e,t,n,o){function s(n,i){return r.coerce(e,t,a,n,i)}var c=s(`locations`),l=s(`z`);if(!(c&&c.length&&r.isArrayOrTypedArray(l)&&l.length)){t.visible=!1;return}t._length=Math.min(c.length,l.length);var u=s(`geojson`),d;(typeof u==`string`&&u!==``||r.isPlainObject(u))&&(d=`geojson-id`),s(`locationmode`,d)===`geojson-id`&&s(`featureidkey`),s(`text`),s(`hovertext`),s(`hovertemplate`),s(`marker.line.width`)&&s(`marker.line.color`),s(`marker.opacity`),i(e,t,o,s,{prefix:``,cLetter:`z`}),r.coerceSelectionMarkerOpacity(t,s)}}),92069:(function(e){e.exports=function(e,t,n,r,i){e.location=t.location,e.z=t.z;var a=r[i];return a.fIn&&a.fIn.properties&&(e.properties=a.fIn.properties),e.ct=a.ct,e}}),42300:(function(e,t,n){var r=n(89298),i=n(69568),a=n(71828).fillText;e.exports=function(e,t,n){var i=e.cd,a=i[0].trace,s=e.subplot,c,l,u,d,f=[t,n],p=[t+360,n];for(l=0;l<i.length;l++)if(c=i[l],d=!1,c._polygons){for(u=0;u<c._polygons.length;u++)c._polygons[u].contains(f)&&(d=!d),c._polygons[u].contains(p)&&(d=!d);if(d)break}if(!(!d||!c))return e.x0=e.x1=e.xa.c2p(c.ct),e.y0=e.y1=e.ya.c2p(c.ct),e.index=c.index,e.location=c.loc,e.z=c.z,e.zLabel=r.tickText(s.mockAxis,s.mockAxis.c2l(c.z),`hover`).text,e.hovertemplate=c.hovertemplate,o(e,a,c),[e]};function o(e,t,n){if(!t.hovertemplate){var r=n.hi||t.hoverinfo,o=String(n.loc),s=r===`all`?i.hoverinfo.flags:r.split(`+`),c=s.indexOf(`name`)!==-1,l=s.indexOf(`location`)!==-1,u=s.indexOf(`z`)!==-1,d=s.indexOf(`text`)!==-1,f=!c&&l,p=[];f?e.nameOverride=o:(c&&(e.nameOverride=t.name),l&&p.push(o)),u&&p.push(e.zLabel),d&&a(n,t,p),e.extraText=p.join(`<br>`)}}}),51319:(function(e,t,n){e.exports={attributes:n(69568),supplyDefaults:n(61869),colorbar:n(61243),calc:n(38675),calcGeoJSON:n(99841).calcGeoJSON,plot:n(99841).plot,style:n(99636).style,styleOnSelect:n(99636).styleOnSelect,hoverPoints:n(42300),eventData:n(92069),selectPoints:n(81253),moduleType:`trace`,name:`choropleth`,basePlotModule:n(44622),categories:[`geo`,`noOpacity`,`showLegend`],meta:{}}}),99841:(function(e,t,n){var r=n(39898),i=n(71828),a=n(41327),o=n(90973).getTopojsonFeatures,s=n(71739).findExtremes,c=n(99636).style;function l(e,t,n){var a=t.layers.backplot.select(`.choroplethlayer`);i.makeTraceGroups(a,n,`trace choropleth`).each(function(t){var n=r.select(this).selectAll(`path.choroplethlocation`).data(i.identity);n.enter().append(`path`).classed(`choroplethlocation`,!0),n.exit().remove(),c(e,t)})}function u(e,t){for(var n=e[0].trace,r=t[n.geo],i=r._subplot,c=n.locationmode,l=n._length,u=c===`geojson-id`?a.extractTraceFeature(e):o(n,i.topojson),d=[],f=[],p=0;p<l;p++){var m=e[p],h=c===`geojson-id`?m.fOut:a.locationToFeature(c,m.loc,u);if(h){m.geojson=h,m.ct=h.properties.ct,m._polygons=a.feature2polygons(h);var g=a.computeBbox(h);d.push(g[0],g[2]),f.push(g[1],g[3])}else m.geojson=null}if(r.fitbounds===`geojson`&&c===`geojson-id`){var _=a.computeBbox(a.getTraceGeojson(n));d=[_[0],_[2]],f=[_[1],_[3]]}var v={padded:!0};n._extremes.lon=s(r.lonaxis._ax,d,v),n._extremes.lat=s(r.lataxis._ax,f,v)}e.exports={calcGeoJSON:u,plot:l}}),81253:(function(e){e.exports=function(e,t){var n=e.cd,r=e.xaxis,i=e.yaxis,a=[],o,s,c,l,u;if(t===!1)for(o=0;o<n.length;o++)n[o].selected=0;else for(o=0;o<n.length;o++)s=n[o],c=s.ct,c&&(l=r.c2p(c),u=i.c2p(c),t.contains([l,u],null,o,e)?(a.push({pointNumber:o,lon:c[0],lat:c[1]}),s.selected=1):s.selected=0);return a}}),99636:(function(e,t,n){var r=n(39898),i=n(7901),a=n(91424),o=n(21081);function s(e,t){t&&c(e,t)}function c(e,t){var n=t[0].trace,s=t[0].node3.selectAll(`.choroplethlocation`),c=n.marker||{},l=c.line||{},u=o.makeColorScaleFuncFromTrace(n);s.each(function(e){r.select(this).attr(`fill`,u(e.z)).call(i.stroke,e.mlc||l.color).call(a.dashLine,``,e.mlw||l.width||0).style(`opacity`,c.opacity)}),a.selectedPointStyle(s,n)}function l(e,t){var n=t[0].node3,r=t[0].trace;r.selectedpoints?a.selectedPointStyle(n.selectAll(`.choroplethlocation`),r):c(e,t)}e.exports={style:s,styleOnSelect:l}}),64496:(function(e,t,n){var r=n(69568),i=n(50693),a=n(5386).f,o=n(9012),s=n(1426).extendFlat;e.exports=s({locations:{valType:`data_array`,editType:`calc`},z:{valType:`data_array`,editType:`calc`},geojson:{valType:`any`,editType:`calc`},featureidkey:s({},r.featureidkey,{}),below:{valType:`string`,editType:`plot`},text:r.text,hovertext:r.hovertext,marker:{line:{color:s({},r.marker.line.color,{editType:`plot`}),width:s({},r.marker.line.width,{editType:`plot`}),editType:`calc`},opacity:s({},r.marker.opacity,{editType:`plot`}),editType:`calc`},selected:{marker:{opacity:s({},r.selected.marker.opacity,{editType:`plot`}),editType:`plot`},editType:`plot`},unselected:{marker:{opacity:s({},r.unselected.marker.opacity,{editType:`plot`}),editType:`plot`},editType:`plot`},hoverinfo:r.hoverinfo,hovertemplate:a({},{keys:[`properties`]}),showlegend:s({},o.showlegend,{dflt:!1})},i(``,{cLetter:`z`,editTypeOverride:`calc`}))}),82004:(function(e,t,n){var r=n(92770),i=n(71828),a=n(21081),o=n(91424),s=n(18214).makeBlank,c=n(41327);function l(e){var t=e[0].trace,n=t.visible===!0&&t._length!==0,o={layout:{visibility:`none`},paint:{}},l={layout:{visibility:`none`},paint:{}},d=t._opts={fill:o,line:l,geojson:s()};if(!n)return d;var f=c.extractTraceFeature(e);if(!f)return d;var p=a.makeColorScaleFuncFromTrace(t),m=t.marker,h=m.line||{},g;i.isArrayOrTypedArray(m.opacity)&&(g=function(e){var t=e.mo;return r(t)?+i.constrain(t,0,1):0});var _;i.isArrayOrTypedArray(h.color)&&(_=function(e){return e.mlc});var v;i.isArrayOrTypedArray(h.width)&&(v=function(e){return e.mlw});for(var y=0;y<e.length;y++){var b=e[y],x=b.fOut;if(x){var S=x.properties;S.fc=p(b.z),g&&(S.mo=g(b)),_&&(S.mlc=_(b)),v&&(S.mlw=v(b)),b.ct=S.ct,b._polygons=c.feature2polygons(x)}}var C=g?{type:`identity`,property:`mo`}:m.opacity;return i.extendFlat(o.paint,{"fill-color":{type:`identity`,property:`fc`},"fill-opacity":C}),i.extendFlat(l.paint,{"line-color":_?{type:`identity`,property:`mlc`}:h.color,"line-width":v?{type:`identity`,property:`mlw`}:h.width,"line-opacity":C}),o.layout.visibility=`visible`,l.layout.visibility=`visible`,d.geojson={type:`FeatureCollection`,features:f},u(e),d}function u(e){var t=e[0].trace,n=t._opts,r;if(t.selectedpoints){for(var a=o.makeSelectedPointStyleFns(t),s=0;s<e.length;s++){var c=e[s];c.fOut&&(c.fOut.properties.mo2=a.selectedOpacityFn(c))}r={type:`identity`,property:`mo2`}}else r=i.isArrayOrTypedArray(t.marker.opacity)?{type:`identity`,property:`mo`}:t.marker.opacity;return i.extendFlat(n.fill.paint,{"fill-opacity":r}),i.extendFlat(n.line.paint,{"line-opacity":r}),n}e.exports={convert:l,convertOnSelect:u}}),22654:(function(e,t,n){var r=n(71828),i=n(1586),a=n(64496);e.exports=function(e,t,n,o){function s(n,i){return r.coerce(e,t,a,n,i)}var c=s(`locations`),l=s(`z`),u=s(`geojson`);if(!r.isArrayOrTypedArray(c)||!c.length||!r.isArrayOrTypedArray(l)||!l.length||!(typeof u==`string`&&u!==``||r.isPlainObject(u))){t.visible=!1;return}s(`featureidkey`),t._length=Math.min(c.length,l.length),s(`below`),s(`text`),s(`hovertext`),s(`hovertemplate`),s(`marker.line.width`)&&s(`marker.line.color`),s(`marker.opacity`),i(e,t,o,s,{prefix:``,cLetter:`z`}),r.coerceSelectionMarkerOpacity(t,s)}}),57516:(function(e,t,n){e.exports={attributes:n(64496),supplyDefaults:n(22654),colorbar:n(61243),calc:n(38675),plot:n(7852),hoverPoints:n(42300),eventData:n(92069),selectPoints:n(81253),styleOnSelect:function(e,t){t&&t[0].trace._glTrace.updateOnSelect(t)},getBelow:function(e,t){for(var n=t.getMapLayers(),r=n.length-2;r>=0;r--){var i=n[r].id;if(typeof i==`string`&&i.indexOf(`water`)===0){for(var a=r+1;a<n.length;a++)if(i=n[a].id,typeof i==`string`&&i.indexOf(`plotly-`)===-1)return i}}},moduleType:`trace`,name:`choroplethmapbox`,basePlotModule:n(50101),categories:[`mapbox`,`gl`,`noOpacity`,`showLegend`],meta:{hr_name:`choropleth_mapbox`}}}),7852:(function(e,t,n){var r=n(82004).convert,i=n(82004).convertOnSelect,a=n(77734).traceLayerPrefix;function o(e,t){this.type=`choroplethmapbox`,this.subplot=e,this.uid=t,this.sourceId=`source-`+t,this.layerList=[[`fill`,a+t+`-fill`],[`line`,a+t+`-line`]],this.below=null}var s=o.prototype;s.update=function(e){this._update(r(e)),e[0].trace._glTrace=this},s.updateOnSelect=function(e){this._update(i(e))},s._update=function(e){var t=this.subplot,n=this.layerList,r=t.belowLookup[`trace-`+this.uid];t.map.getSource(this.sourceId).setData(e.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(e,r),this.below=r);for(var i=0;i<n.length;i++){var a=n[i],o=a[0],s=a[1],c=e[o];t.setOptions(s,`setLayoutProperty`,c.layout),c.layout.visibility===`visible`&&t.setOptions(s,`setPaintProperty`,c.paint)}},s._addLayers=function(e,t){for(var n=this.subplot,r=this.layerList,i=this.sourceId,a=0;a<r.length;a++){var o=r[a],s=o[0],c=e[s];n.addLayer({type:s,id:o[1],source:i,layout:c.layout,paint:c.paint},t)}},s._removeLayers=function(){for(var e=this.subplot.map,t=this.layerList,n=t.length-1;n>=0;n--)e.removeLayer(t[n][1])},s.dispose=function(){var e=this.subplot.map;this._removeLayers(),e.removeSource(this.sourceId)},e.exports=function(e,t){var n=t[0].trace,i=new o(e,n.uid),a=i.sourceId,s=r(t),c=i.below=e.belowLookup[`trace-`+n.uid];return e.map.addSource(a,{type:`geojson`,data:s.geojson}),i._addLayers(s,c),t[0].trace._glTrace=i,i}}),12674:(function(e,t,n){var r=n(50693),i=n(12663).axisHoverFormat,a=n(5386).f,o=n(2418),s=n(9012),c=n(1426).extendFlat,l={x:{valType:`data_array`,editType:`calc+clearAxisTypes`},y:{valType:`data_array`,editType:`calc+clearAxisTypes`},z:{valType:`data_array`,editType:`calc+clearAxisTypes`},u:{valType:`data_array`,editType:`calc`},v:{valType:`data_array`,editType:`calc`},w:{valType:`data_array`,editType:`calc`},sizemode:{valType:`enumerated`,values:[`scaled`,`absolute`],editType:`calc`,dflt:`scaled`},sizeref:{valType:`number`,editType:`calc`,min:0},anchor:{valType:`enumerated`,editType:`calc`,values:[`tip`,`tail`,`cm`,`center`],dflt:`cm`},text:{valType:`string`,dflt:``,arrayOk:!0,editType:`calc`},hovertext:{valType:`string`,dflt:``,arrayOk:!0,editType:`calc`},hovertemplate:a({editType:`calc`},{keys:[`norm`]}),uhoverformat:i(`u`,1),vhoverformat:i(`v`,1),whoverformat:i(`w`,1),xhoverformat:i(`x`),yhoverformat:i(`y`),zhoverformat:i(`z`),showlegend:c({},s.showlegend,{dflt:!1})};c(l,r(``,{colorAttr:`u/v/w norm`,showScaleDflt:!0,editTypeOverride:`calc`})),[`opacity`,`lightposition`,`lighting`].forEach(function(e){l[e]=o[e]}),l.hoverinfo=c({},s.hoverinfo,{editType:`calc`,flags:[`x`,`y`,`z`,`u`,`v`,`w`,`norm`,`text`,`name`],dflt:`x+y+z+norm+text+name`}),l.transforms=void 0,e.exports=l}),31371:(function(e,t,n){var r=n(78803);e.exports=function(e,t){for(var n=t.u,i=t.v,a=t.w,o=Math.min(t.x.length,t.y.length,t.z.length,n.length,i.length,a.length),s=-1/0,c=1/0,l=0;l<o;l++){var u=n[l],d=i[l],f=a[l],p=Math.sqrt(u*u+d*d+f*f);s=Math.max(s,p),c=Math.min(c,p)}t._len=o,t._normMax=s,r(e,t,{vals:[c,s],containerStr:``,cLetter:`c`})}}),5453:(function(e,t,n){var r=n(9330).gl_cone3d,i=n(9330).gl_cone3d.createConeMesh,a=n(71828).simpleMap,o=n(81697).parseColorScale,s=n(21081).extractOpts,c=n(90060);function l(e,t){this.scene=e,this.uid=t,this.mesh=null,this.data=null}var u=l.prototype;u.handlePick=function(e){if(e.object===this.mesh){var t=e.index=e.data.index,n=this.data.x[t],r=this.data.y[t],i=this.data.z[t],a=this.data.u[t],o=this.data.v[t],s=this.data.w[t];e.traceCoordinate=[n,r,i,a,o,s,Math.sqrt(a*a+o*o+s*s)];var c=this.data.hovertext||this.data.text;return Array.isArray(c)&&c[t]!==void 0?e.textLabel=c[t]:c&&(e.textLabel=c),!0}};var d={xaxis:0,yaxis:1,zaxis:2},f={tip:1,tail:0,cm:.25,center:.5},p={tip:1,tail:1,cm:.75,center:.5};function m(e,t){var n=e.fullSceneLayout,i=e.dataScale,l={};function u(e,t){var r=n[t],o=i[d[t]];return a(e,function(e){return r.d2l(e)*o})}l.vectors=c(u(t.u,`xaxis`),u(t.v,`yaxis`),u(t.w,`zaxis`),t._len),l.positions=c(u(t.x,`xaxis`),u(t.y,`yaxis`),u(t.z,`zaxis`),t._len);var m=s(t);l.colormap=o(t),l.vertexIntensityBounds=[m.min/t._normMax,m.max/t._normMax],l.coneOffset=f[t.anchor],t.sizemode===`scaled`?l.coneSize=t.sizeref||.5:l.coneSize=t.sizeref&&t._normMax?t.sizeref/t._normMax:.5;var h=r(l),g=t.lightposition;return h.lightPosition=[g.x,g.y,g.z],h.ambient=t.lighting.ambient,h.diffuse=t.lighting.diffuse,h.specular=t.lighting.specular,h.roughness=t.lighting.roughness,h.fresnel=t.lighting.fresnel,h.opacity=t.opacity,t._pad=p[t.anchor]*h.vectorScale*h.coneScale*t._normMax,h}u.update=function(e){this.data=e;var t=m(this.scene,e);this.mesh.update(t)},u.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function h(e,t){var n=e.glplot.gl,r=i(n,m(e,t)),a=new l(e,t.uid);return a.mesh=r,a.data=t,r._trace=a,e.glplot.add(r),a}e.exports=h}),91750:(function(e,t,n){var r=n(71828),i=n(1586),a=n(12674);e.exports=function(e,t,n,o){function s(n,i){return r.coerce(e,t,a,n,i)}var c=s(`u`),l=s(`v`),u=s(`w`),d=s(`x`),f=s(`y`),p=s(`z`);if(!c||!c.length||!l||!l.length||!u||!u.length||!d||!d.length||!f||!f.length||!p||!p.length){t.visible=!1;return}s(`sizeref`),s(`sizemode`),s(`anchor`),s(`lighting.ambient`),s(`lighting.diffuse`),s(`lighting.specular`),s(`lighting.roughness`),s(`lighting.fresnel`),s(`lightposition.x`),s(`lightposition.y`),s(`lightposition.z`),i(e,t,o,s,{prefix:``,cLetter:`c`}),s(`text`),s(`hovertext`),s(`hovertemplate`),s(`uhoverformat`),s(`vhoverformat`),s(`whoverformat`),s(`xhoverformat`),s(`yhoverformat`),s(`zhoverformat`),t._length=null}}),98128:(function(e,t,n){e.exports={moduleType:`trace`,name:`cone`,basePlotModule:n(58547),categories:[`gl3d`,`showLegend`],attributes:n(12674),supplyDefaults:n(91750),colorbar:{min:`cmin`,max:`cmax`},calc:n(31371),plot:n(5453),eventData:function(e,t){return e.norm=t.traceCoordinate[6],e},meta:{}}}),70600:(function(e,t,n){var r=n(21606),i=n(82196),a=n(12663),o=a.axisHoverFormat,s=a.descriptionOnlyNumbers,c=n(50693),l=n(79952).P,u=n(41940),d=n(1426).extendFlat,f=n(74808),p=f.COMPARISON_OPS2,m=f.INTERVAL_OPS,h=i.line;e.exports=d({z:r.z,x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,xperiod:r.xperiod,yperiod:r.yperiod,xperiod0:i.xperiod0,yperiod0:i.yperiod0,xperiodalignment:r.xperiodalignment,yperiodalignment:r.yperiodalignment,text:r.text,hovertext:r.hovertext,transpose:r.transpose,xtype:r.xtype,ytype:r.ytype,xhoverformat:o(`x`),yhoverformat:o(`y`),zhoverformat:o(`z`,1),hovertemplate:r.hovertemplate,texttemplate:d({},r.texttemplate,{}),textfont:d({},r.textfont,{}),hoverongaps:r.hoverongaps,connectgaps:d({},r.connectgaps,{}),fillcolor:{valType:`color`,editType:`calc`},autocontour:{valType:`boolean`,dflt:!0,editType:`calc`,impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:`integer`,dflt:15,min:1,editType:`calc`},contours:{type:{valType:`enumerated`,values:[`levels`,`constraint`],dflt:`levels`,editType:`calc`},start:{valType:`number`,dflt:null,editType:`plot`,impliedEdits:{"^autocontour":!1}},end:{valType:`number`,dflt:null,editType:`plot`,impliedEdits:{"^autocontour":!1}},size:{valType:`number`,dflt:null,min:0,editType:`plot`,impliedEdits:{"^autocontour":!1}},coloring:{valType:`enumerated`,values:[`fill`,`heatmap`,`lines`,`none`],dflt:`fill`,editType:`calc`},showlines:{valType:`boolean`,dflt:!0,editType:`plot`},showlabels:{valType:`boolean`,dflt:!1,editType:`plot`},labelfont:u({editType:`plot`,colorEditType:`style`}),labelformat:{valType:`string`,dflt:``,editType:`plot`,description:s(`contour label`)},operation:{valType:`enumerated`,values:[].concat(p,m),dflt:`=`,editType:`calc`},value:{valType:`any`,dflt:0,editType:`calc`},editType:`calc`,impliedEdits:{autocontour:!1}},line:{color:d({},h.color,{editType:`style+colorbars`}),width:{valType:`number`,min:0,editType:`style+colorbars`},dash:l,smoothing:d({},h.smoothing,{}),editType:`plot`}},c(``,{cLetter:`z`,autoColorDflt:!1,editTypeOverride:`calc`}))}),27529:(function(e,t,n){var r=n(21081),i=n(90757),a=n(18670),o=n(53572);e.exports=function(e,t){var n=i(e,t),s=n[0].z;a(t,s);var c=t.contours,l=r.extractOpts(t),u;if(c.coloring===`heatmap`&&l.auto&&t.autocontour===!1){var d=c.start,f=o(c),p=c.size||1,m=Math.floor((f-d)/p)+1;isFinite(p)||(p=1,m=1);var h=d-p/2;u=[h,h+m*p]}else u=s;return r.calc(e,t,{vals:u,cLetter:`z`}),n}}),20083:(function(e){e.exports=function(e,t){var n=e[0],r=n.z,i;switch(t.type){case`levels`:var a=Math.min(r[0][0],r[0][1]);for(i=0;i<e.length;i++){var o=e[i];o.prefixBoundary=!o.edgepaths.length&&(a>o.level||o.starts.length&&a===o.level)}break;case`constraint`:if(n.prefixBoundary=!1,n.edgepaths.length)return;var s=n.x.length,c=n.y.length,l=-1/0,u=1/0;for(i=0;i<c;i++)u=Math.min(u,r[i][0]),u=Math.min(u,r[i][s-1]),l=Math.max(l,r[i][0]),l=Math.max(l,r[i][s-1]);for(i=1;i<s-1;i++)u=Math.min(u,r[0][i]),u=Math.min(u,r[c-1][i]),l=Math.max(l,r[0][i]),l=Math.max(l,r[c-1][i]);var d=t.value,f,p;switch(t._operation){case`>`:d>l&&(n.prefixBoundary=!0);break;case`<`:(d<u||n.starts.length&&d===u)&&(n.prefixBoundary=!0);break;case`[]`:f=Math.min(d[0],d[1]),p=Math.max(d[0],d[1]),(p<u||f>l||n.starts.length&&p===u)&&(n.prefixBoundary=!0);break;case`][`:f=Math.min(d[0],d[1]),p=Math.max(d[0],d[1]),f<u&&p>l&&(n.prefixBoundary=!0);break}break}}}),90654:(function(e,t,n){var r=n(21081),i=n(86068),a=n(53572);function o(e,t,n){var o=t.contours,s=t.line,c=o.size||1,l=o.coloring,u=i(t,{isColorbar:!0});if(l===`heatmap`){var d=r.extractOpts(t);n._fillgradient=d.reversescale?r.flipScale(d.colorscale):d.colorscale,n._zrange=[d.min,d.max]}else l===`fill`&&(n._fillcolor=u);n._line={color:l===`lines`?u:s.color,width:o.showlines===!1?0:s.width,dash:s.dash},n._levels={start:o.start,end:a(o),size:c}}e.exports={min:`zmin`,max:`zmax`,calc:o}}),36914:(function(e){e.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}}),83179:(function(e,t,n){var r=n(92770),i=n(14523),a=n(7901),o=a.addOpacity,s=a.opacity,c=n(74808),l=c.CONSTRAINT_REDUCTION,u=c.COMPARISON_OPS2;e.exports=function(e,t,n,r,a,c){var u=t.contours,f,p,m,h=n(`contours.operation`);u._operation=l[h],d(n,u),h===`=`?f=u.showlines=!0:(f=n(`contours.showlines`),m=n(`fillcolor`,o((e.line||{}).color||a,.5))),f&&(p=n(`line.color`,m&&s(m)?o(t.fillcolor,1):a),n(`line.width`,2),n(`line.dash`)),n(`line.smoothing`),i(n,r,p,c)};function d(e,t){var n;u.indexOf(t.operation)===-1?(e(`contours.value`,[0,1]),Array.isArray(t.value)?t.value.length>2?t.value=t.value.slice(2):t.length===0?t.value=[0,1]:t.length<2?(n=parseFloat(t.value[0]),t.value=[n,n+1]):t.value=[parseFloat(t.value[0]),parseFloat(t.value[1])]:r(t.value)&&(n=parseFloat(t.value),t.value=[n,n+1])):(e(`contours.value`,0),r(t.value)||(Array.isArray(t.value)?t.value=parseFloat(t.value[0]):t.value=0))}}),64237:(function(e,t,n){var r=n(74808),i=n(92770);e.exports={"[]":o(`[]`),"][":o(`][`),">":s(`>`),"<":s(`<`),"=":s(`=`)};function a(e,t){var n=Array.isArray(t),a;function o(e){return i(e)?+e:null}return r.COMPARISON_OPS2.indexOf(e)===-1?r.INTERVAL_OPS.indexOf(e)===-1?r.SET_OPS.indexOf(e)!==-1&&(a=n?t.map(o):[o(t)]):a=n?[o(t[0]),o(t[1])]:[o(t),o(t)]:a=o(n?t[0]:t),a}function o(e){return function(t){t=a(e,t);var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return{start:n,end:r,size:r-n}}}function s(e){return function(t){return t=a(e,t),{start:t,end:1/0,size:1/0}}}}),67217:(function(e){e.exports=function(e,t,n,r){var i=r(`contours.start`),a=r(`contours.end`),o=i===!1||a===!1,s=n(`contours.size`);((o?t.autocontour=!0:n(`autocontour`,!1))||!s)&&n(`ncontours`)}}),84857:(function(e,t,n){var r=n(71828);e.exports=function(e,t){var n,a,o,s=function(e){return e.reverse()},c=function(e){return e};switch(t){case`=`:case`<`:return e;case`>`:for(e.length!==1&&r.warn(`Contour data invalid for the specified inequality operation.`),a=e[0],n=0;n<a.edgepaths.length;n++)a.edgepaths[n]=s(a.edgepaths[n]);for(n=0;n<a.paths.length;n++)a.paths[n]=s(a.paths[n]);for(n=0;n<a.starts.length;n++)a.starts[n]=s(a.starts[n]);return e;case`][`:var l=s;s=c,c=l;case`[]`:for(e.length!==2&&r.warn(`Contour data invalid for the specified inequality range operation.`),a=i(e[0]),o=i(e[1]),n=0;n<a.edgepaths.length;n++)a.edgepaths[n]=s(a.edgepaths[n]);for(n=0;n<a.paths.length;n++)a.paths[n]=s(a.paths[n]);for(n=0;n<a.starts.length;n++)a.starts[n]=s(a.starts[n]);for(;o.edgepaths.length;)a.edgepaths.push(c(o.edgepaths.shift()));for(;o.paths.length;)a.paths.push(c(o.paths.shift()));for(;o.starts.length;)a.starts.push(c(o.starts.shift()));return[a]}};function i(e){return r.extendFlat({},e,{edgepaths:r.extendDeep([],e.edgepaths),paths:r.extendDeep([],e.paths),starts:r.extendDeep([],e.starts)})}}),13031:(function(e,t,n){var r=n(71828),i=n(67684),a=n(73927),o=n(83179),s=n(67217),c=n(8724),l=n(58623),u=n(70600);e.exports=function(e,t,n,d){function f(n,i){return r.coerce(e,t,u,n,i)}function p(n){return r.coerce2(e,t,u,n)}if(!i(e,t,f,d)){t.visible=!1;return}a(e,t,d,f),f(`xhoverformat`),f(`yhoverformat`),f(`text`),f(`hovertext`),f(`hoverongaps`),f(`hovertemplate`);var m=f(`contours.type`)===`constraint`;f(`connectgaps`,r.isArray1D(t.z)),m?o(e,t,f,d,n):(s(e,t,f,p),c(e,t,f,d)),t.contours&&t.contours.coloring===`heatmap`&&l(f,d)}}),87558:(function(e,t,n){var r=n(71828),i=n(64237),a=n(53572);e.exports=function(e,t,n){for(var o=e.type===`constraint`?i[e._operation](e.value):e,s=o.size,c=[],l=a(o),u=n.trace._carpetTrace,d=u?{xaxis:u.aaxis,yaxis:u.baxis,x:n.a,y:n.b}:{xaxis:t.xaxis,yaxis:t.yaxis,x:n.x,y:n.y},f=o.start;f<l;f+=s)if(c.push(r.extendFlat({level:f,crossings:{},starts:[],edgepaths:[],paths:[],z:n.z,smoothing:n.trace.line.smoothing},d)),c.length>1e3){r.warn(`Too many contours, clipping at 1000`,e);break}return c}}),53572:(function(e){e.exports=function(e){return e.end+e.size/1e6}}),81696:(function(e,t,n){var r=n(71828),i=n(36914);e.exports=function(e,t,n){var i,a,o,c,l;for(t||=.01,n||=.01,o=0;o<e.length;o++){for(c=e[o],l=0;l<c.starts.length;l++)a=c.starts[l],s(c,a,`edge`,t,n);for(i=0;Object.keys(c.crossings).length&&i<1e4;)i++,a=Object.keys(c.crossings)[0].split(`,`).map(Number),s(c,a,void 0,t,n);i===1e4&&r.log(`Infinite loop in contour?`)}};function a(e,t,n,r){return Math.abs(e[0]-t[0])<n&&Math.abs(e[1]-t[1])<r}function o(e,t){var n=e[2]-t[2],r=e[3]-t[3];return Math.sqrt(n*n+r*r)}function s(e,t,n,s,u){var d=t.join(`,`),f=e.crossings[d],p=c(f,n,t),m=[l(e,t,[-p[0],-p[1]])],h=e.z.length,g=e.z[0].length,_=t.slice(),v=p.slice(),y;for(y=0;y<1e4;y++){if(f>20?(f=i.CHOOSESADDLE[f][(p[0]||p[1])<0?0:1],e.crossings[d]=i.SADDLEREMAINDER[f]):delete e.crossings[d],p=i.NEWDELTA[f],!p){r.log(`Found bad marching index:`,f,t,e.level);break}m.push(l(e,t,p)),t[0]+=p[0],t[1]+=p[1],d=t.join(`,`),a(m[m.length-1],m[m.length-2],s,u)&&m.pop();var b=p[0]&&(t[0]<0||t[0]>g-2)||p[1]&&(t[1]<0||t[1]>h-2);if(t[0]===_[0]&&t[1]===_[1]&&p[0]===v[0]&&p[1]===v[1]||n&&b)break;f=e.crossings[d]}y===1e4&&r.log(`Infinite loop in contour?`);var x=a(m[0],m[m.length-1],s,u),S=0,C=.2*e.smoothing,w=[],T=0,E,D,O,k,A,j,M,N,P,F,I;for(y=1;y<m.length;y++)M=o(m[y],m[y-1]),S+=M,w.push(M);var L=S/w.length*C;function R(e){return m[e%m.length]}for(y=m.length-2;y>=T;y--)if(E=w[y],E<L){for(O=0,D=y-1;D>=T&&E+w[D]<L;D--)E+=w[D];if(x&&y===m.length-2)for(O=0;O<D&&E+w[O]<L;O++)E+=w[O];A=y-D+O+1,j=Math.floor((y+D+O+2)/2),k=!x&&y===m.length-2?m[m.length-1]:!x&&D===-1?m[0]:A%2?R(j):[(R(j)[0]+R(j+1)[0])/2,(R(j)[1]+R(j+1)[1])/2],m.splice(D+1,y-D+1,k),y=D+1,O&&(T=O),x&&(y===m.length-2?m[O]=m[m.length-1]:y===0&&(m[m.length-1]=m[0]))}for(m.splice(0,T),y=0;y<m.length;y++)m[y].length=2;if(!(m.length<2))if(x)m.pop(),e.paths.push(m);else{n||r.log(`Unclosed interior contour?`,e.level,_.join(`,`),m.join(`L`));var z=!1;for(N=0;N<e.edgepaths.length;N++)if(F=e.edgepaths[N],!z&&a(F[0],m[m.length-1],s,u)){m.pop(),z=!0;var B=!1;for(P=0;P<e.edgepaths.length;P++)if(I=e.edgepaths[P],a(I[I.length-1],m[0],s,u)){B=!0,m.shift(),e.edgepaths.splice(N,1),P===N?e.paths.push(m.concat(I)):(P>N&&P--,e.edgepaths[P]=I.concat(m,F));break}B||(e.edgepaths[N]=m.concat(F))}for(N=0;N<e.edgepaths.length&&!z;N++)F=e.edgepaths[N],a(F[F.length-1],m[0],s,u)&&(m.shift(),e.edgepaths[N]=F.concat(m),z=!0);z||e.edgepaths.push(m)}}function c(e,t,n){var r=0,a=0;return e>20&&t?e===208||e===1114?r=n[0]===0?1:-1:a=n[1]===0?1:-1:i.BOTTOMSTART.indexOf(e)===-1?i.LEFTSTART.indexOf(e)===-1?i.TOPSTART.indexOf(e)===-1?r=-1:a=-1:r=1:a=1,[r,a]}function l(e,t,n){var r=t[0]+Math.max(n[0],0),i=t[1]+Math.max(n[1],0),a=e.z[i][r],o=e.xaxis,s=e.yaxis;if(n[1]){var c=(e.level-a)/(e.z[i][r+1]-a),l=(c===1?0:(1-c)*o.c2l(e.x[r]))+(c===0?0:c*o.c2l(e.x[r+1]));return[o.c2p(o.l2c(l),!0),s.c2p(e.y[i],!0),r+c,i]}else{var u=(e.level-a)/(e.z[i+1][r]-a),d=(u===1?0:(1-u)*s.c2l(e.y[i]))+(u===0?0:u*s.c2l(e.y[i+1]));return[o.c2p(e.x[r],!0),s.c2p(s.l2c(d),!0),r,i+u]}}}),52421:(function(e,t,n){var r=n(7901),i=n(46248);e.exports=function(e,t,n,a,o){o||={},o.isContour=!0;var s=i(e,t,n,a,o);return s&&s.forEach(function(e){var t=e.trace;t.contours.type===`constraint`&&(t.fillcolor&&r.opacity(t.fillcolor)?e.color=r.addOpacity(t.fillcolor,1):t.contours.showlines&&r.opacity(t.line.color)&&(e.color=r.addOpacity(t.line.color,1)))}),s}}),99442:(function(e,t,n){e.exports={attributes:n(70600),supplyDefaults:n(13031),calc:n(27529),plot:n(29854).plot,style:n(84426),colorbar:n(90654),hoverPoints:n(52421),moduleType:`trace`,name:`contour`,basePlotModule:n(93612),categories:[`cartesian`,`svg`,`2dMap`,`contour`,`showLegend`],meta:{}}}),14523:(function(e,t,n){var r=n(71828);e.exports=function(e,t,n,i){if(i||={},e(`contours.showlabels`)){var a=t.font;r.coerceFont(e,`contours.labelfont`,{family:a.family,size:a.size,color:n}),e(`contours.labelformat`)}i.hasHover!==!1&&e(`zhoverformat`)}}),86068:(function(e,t,n){var r=n(39898),i=n(21081),a=n(53572);e.exports=function(e){var t=e.contours,n=t.start,o=a(t),s=t.size||1,c=Math.floor((o-n)/s)+1,l=t.coloring===`lines`?0:1,u=i.extractOpts(e);isFinite(s)||(s=1,c=1);var d=u.reversescale?i.flipScale(u.colorscale):u.colorscale,f=d.length,p=Array(f),m=Array(f),h,g;if(t.coloring===`heatmap`){var _=u.min,v=u.max;for(g=0;g<f;g++)h=d[g],p[g]=h[0]*(v-_)+_,m[g]=h[1];var y=r.extent([_,v,t.start,t.start+s*(c-1)]),b=y[_<v?0:1],x=y[_<v?1:0];b!==_&&(p.splice(0,0,b),m.splice(0,0,m[0])),x!==v&&(p.push(x),m.push(m[m.length-1]))}else for(g=0;g<f;g++)h=d[g],p[g]=(h[0]*(c+l-1)-l/2)*s+n,m[g]=h[1];return i.makeColorScaleFunc({domain:p,range:m},{noNumericCheck:!0})}}),87678:(function(e,t,n){var r=n(36914);e.exports=function(e){var t=e[0].z,n=t.length,a=t[0].length,o=n===2||a===2,s,c,l,u,d,f,p,m,h;for(c=0;c<n-1;c++)for(u=[],c===0&&(u=u.concat(r.BOTTOMSTART)),c===n-2&&(u=u.concat(r.TOPSTART)),s=0;s<a-1;s++)for(l=u.slice(),s===0&&(l=l.concat(r.LEFTSTART)),s===a-2&&(l=l.concat(r.RIGHTSTART)),d=s+`,`+c,f=[[t[c][s],t[c][s+1]],[t[c+1][s],t[c+1][s+1]]],h=0;h<e.length;h++)m=e[h],p=i(m.level,f),p&&(m.crossings[d]=p,l.indexOf(p)!==-1&&(m.starts.push([s,c]),o&&l.indexOf(p,l.indexOf(p)+1)!==-1&&m.starts.push([s,c])))};function i(e,t){var n=(t[0][0]>e?0:1)+(t[0][1]>e?0:2)+(t[1][1]>e?0:4)+(t[1][0]>e?0:8);return n===5||n===10?e>(t[0][0]+t[0][1]+t[1][0]+t[1][1])/4?n===5?713:1114:n===5?104:208:n===15?0:n}}),29854:(function(e,t,n){var r=n(39898),i=n(71828),a=n(91424),o=n(21081),s=n(63893),c=n(89298),l=n(21994),u=n(50347),d=n(87678),f=n(81696),p=n(87558),m=n(84857),h=n(20083),g=n(36914),_=g.LABELOPTIMIZER;t.plot=function(e,t,n,a){var o=t.xaxis,s=t.yaxis;i.makeTraceGroups(a,n,`contour`).each(function(n){var a=r.select(this),c=n[0],l=c.trace,h=c.x,g=c.y,_=l.contours,b=p(_,t,c),S=i.ensureSingle(a,`g`,`heatmapcoloring`),w=[];_.coloring===`heatmap`&&(w=[n]),u(e,t,w,S),d(b),f(b);var T=o.c2p(h[0],!0),E=o.c2p(h[h.length-1],!0),D=s.c2p(g[0],!0),O=s.c2p(g[g.length-1],!0),k=[[T,O],[E,O],[E,D],[T,D]],A=b;_.type===`constraint`&&(A=m(b,_._operation)),v(a,k,_),y(a,A,k,_),x(a,b,e,c,_),C(a,t,e,c,k)})};function v(e,t,n){var r=i.ensureSingle(e,`g`,`contourbg`).selectAll(`path`).data(n.coloring===`fill`?[0]:[]);r.enter().append(`path`),r.exit().remove(),r.attr(`d`,`M`+t.join(`L`)+`Z`).style(`stroke`,`none`)}function y(e,t,n,a){var o=a.coloring===`fill`||a.type===`constraint`&&a._operation!==`=`,s=`M`+n.join(`L`)+`Z`;o&&h(t,a);var c=i.ensureSingle(e,`g`,`contourfill`).selectAll(`path`).data(o?t:[]);c.enter().append(`path`),c.exit().remove(),c.each(function(e){var t=(e.prefixBoundary?s:``)+b(e,n);t?r.select(this).attr(`d`,t).style(`stroke`,`none`):r.select(this).remove()})}function b(e,t){var n=``,r=0,o=e.edgepaths.map(function(e,t){return t}),s=!0,c,l,u,d,f,p;function m(e){return Math.abs(e[1]-t[0][1])<.01}function h(e){return Math.abs(e[1]-t[2][1])<.01}function g(e){return Math.abs(e[0]-t[0][0])<.01}function _(e){return Math.abs(e[0]-t[2][0])<.01}for(;o.length;){for(p=a.smoothopen(e.edgepaths[r],e.smoothing),n+=s?p:p.replace(/^M/,`L`),o.splice(o.indexOf(r),1),c=e.edgepaths[r][e.edgepaths[r].length-1],d=-1,u=0;u<4;u++){if(!c){i.log(`Missing end?`,r,e);break}for(m(c)&&!_(c)?l=t[1]:g(c)?l=t[0]:h(c)?l=t[3]:_(c)&&(l=t[2]),f=0;f<e.edgepaths.length;f++){var v=e.edgepaths[f][0];Math.abs(c[0]-l[0])<.01?Math.abs(c[0]-v[0])<.01&&(v[1]-c[1])*(l[1]-v[1])>=0&&(l=v,d=f):Math.abs(c[1]-l[1])<.01?Math.abs(c[1]-v[1])<.01&&(v[0]-c[0])*(l[0]-v[0])>=0&&(l=v,d=f):i.log(`endpt to newendpt is not vert. or horz.`,c,l,v)}if(c=l,d>=0)break;n+=`L`+l}if(d===e.edgepaths.length){i.log(`unclosed perimeter path`);break}r=d,s=o.indexOf(r)===-1,s&&(r=o[0],n+=`Z`)}for(r=0;r<e.paths.length;r++)n+=a.smoothclosed(e.paths[r],e.smoothing);return n}function x(e,n,o,s,c){var l=o._context.staticPlot,u=i.ensureSingle(e,`g`,`contourlines`),d=c.showlines!==!1,f=c.showlabels,p=d&&f,m=t.createLines(u,d||f,n,l),h=t.createLineClip(u,p,o,s.trace.uid),_=e.selectAll(`g.contourlabels`).data(f?[0]:[]);if(_.exit().remove(),_.enter().append(`g`).classed(`contourlabels`,!0),f){var v=[],y=[];i.clearLocationCache();var b=t.labelFormatter(o,s),x=a.tester.append(`text`).attr(`data-notex`,1).call(a.font,c.labelfont),S=n[0].xaxis,C=n[0].yaxis,w=S._length,T=C._length,E=S.range,D=C.range,O=i.aggNums(Math.min,null,s.x),k=i.aggNums(Math.max,null,s.x),A=i.aggNums(Math.min,null,s.y),j=i.aggNums(Math.max,null,s.y),M=Math.max(S.c2p(O,!0),0),N=Math.min(S.c2p(k,!0),w),P=Math.max(C.c2p(j,!0),0),F=Math.min(C.c2p(A,!0),T),I={};E[0]<E[1]?(I.left=M,I.right=N):(I.left=N,I.right=M),D[0]<D[1]?(I.top=P,I.bottom=F):(I.top=F,I.bottom=P),I.middle=(I.top+I.bottom)/2,I.center=(I.left+I.right)/2,v.push([[I.left,I.top],[I.right,I.top],[I.right,I.bottom],[I.left,I.bottom]]);var L=Math.sqrt(w*w+T*T),R=g.LABELDISTANCE*L/Math.max(1,n.length/g.LABELINCREASE);m.each(function(e){var n=t.calcTextOpts(e.level,b,x,o);r.select(this).selectAll(`path`).each(function(){var e=this,r=i.getVisibleSegment(e,I,n.height/2);if(r&&!(r.len<(n.width+n.height)*g.LABELMIN))for(var a=Math.min(Math.ceil(r.len/R),g.LABELMAX),o=0;o<a;o++){var s=t.findBestTextLocation(e,r,n,y,I);if(!s)break;t.addLabelData(s,n,y,v)}})}),x.remove(),t.drawLabels(_,y,o,h,p?v:null)}f&&!d&&m.remove()}t.createLines=function(e,t,n,r){var i=n[0].smoothing,o=e.selectAll(`g.contourlevel`).data(t?n:[]);if(o.exit().remove(),o.enter().append(`g`).classed(`contourlevel`,!0),t){var s=o.selectAll(`path.openline`).data(function(e){return e.pedgepaths||e.edgepaths});s.exit().remove(),s.enter().append(`path`).classed(`openline`,!0),s.attr(`d`,function(e){return a.smoothopen(e,i)}).style(`stroke-miterlimit`,1).style(`vector-effect`,r?`none`:`non-scaling-stroke`);var c=o.selectAll(`path.closedline`).data(function(e){return e.ppaths||e.paths});c.exit().remove(),c.enter().append(`path`).classed(`closedline`,!0),c.attr(`d`,function(e){return a.smoothclosed(e,i)}).style(`stroke-miterlimit`,1).style(`vector-effect`,r?`none`:`non-scaling-stroke`)}return o},t.createLineClip=function(e,t,n,r){var i=n._fullLayout._clips,o=t?`clipline`+r:null,s=i.selectAll(`#`+o).data(t?[0]:[]);return s.exit().remove(),s.enter().append(`clipPath`).classed(`contourlineclip`,!0).attr(`id`,o),a.setClipUrl(e,o,n),s},t.labelFormatter=function(e,t){var n=e._fullLayout,r=t.trace,i=r.contours,a={type:`linear`,_id:`ycontour`,showexponent:`all`,exponentformat:`B`};if(i.labelformat)a.tickformat=i.labelformat,l(a,n);else{var s=o.extractOpts(r);if(s&&s.colorbar&&s.colorbar._axis)a=s.colorbar._axis;else{if(i.type===`constraint`){var u=i.value;Array.isArray(u)?a.range=[u[0],u[u.length-1]]:a.range=[u,u]}else a.range=[i.start,i.end],a.nticks=(i.end-i.start)/i.size;a.range[0]===a.range[1]&&(a.range[1]+=a.range[0]||1),a.nticks||=1e3,l(a,n),c.prepTicks(a),a._tmin=null,a._tmax=null}}return function(e){return c.tickText(a,e).text}},t.calcTextOpts=function(e,t,n,r){var i=t(e);n.text(i).call(s.convertToTspans,r);var o=n.node(),c=a.bBox(o,!0);return{text:i,width:c.width,height:c.height,fontSize:+o.style[`font-size`].replace(`px`,``),level:e,dy:(c.top+c.bottom)/2}},t.findBestTextLocation=function(e,t,n,r,a){var o=n.width,s,c,l,u,d;t.isClosed?(c=t.len/_.INITIALSEARCHPOINTS,s=t.min+c/2,l=t.max):(c=(t.len-o)/(_.INITIALSEARCHPOINTS+1),s=t.min+c+o/2,l=t.max-(c+o)/2);for(var f=1/0,p=0;p<_.ITERATIONS;p++){for(var m=s;m<l;m+=c){var h=i.getTextLocation(e,t.total,m,o),g=S(h,n,r,a);g<f&&(f=g,d=h,u=m)}if(f>_.MAXCOST*2)break;p&&(c/=2),s=u-c/2,l=s+c*1.5}if(f<=_.MAXCOST)return d};function S(e,t,n,r){var a=t.width/2,o=t.height/2,s=e.x,c=e.y,l=e.theta,u=Math.cos(l)*a,d=Math.sin(l)*a,f=(s>r.center?r.right-s:s-r.left)/(u+Math.abs(Math.sin(l)*o)),p=(c>r.middle?r.bottom-c:c-r.top)/(Math.abs(d)+Math.cos(l)*o);if(f<1||p<1)return 1/0;var m=_.EDGECOST*(1/(f-1)+1/(p-1));m+=_.ANGLECOST*l*l;for(var h=s-u,g=c-d,v=s+u,y=c+d,b=0;b<n.length;b++){var x=n[b],S=Math.cos(x.theta)*x.width/2,C=Math.sin(x.theta)*x.width/2,w=i.segmentDistance(h,g,v,y,x.x-S,x.y-C,x.x+S,x.y+C)*2/(t.height+x.height),T=x.level===t.level,E=T?_.SAMELEVELDISTANCE:1;if(w<=E)return 1/0;var D=_.NEIGHBORCOST*(T?_.SAMELEVELFACTOR:1);m+=D/(w-E)}return m}t.addLabelData=function(e,t,n,r){var i=t.fontSize,a=t.width+i/3,o=Math.max(0,t.height-i/3),s=e.x,c=e.y,l=e.theta,u=Math.sin(l),d=Math.cos(l),f=function(e,t){return[s+e*d-t*u,c+e*u+t*d]},p=[f(-a/2,-o/2),f(-a/2,o/2),f(a/2,o/2),f(a/2,-o/2)];n.push({text:t.text,x:s,y:c,dy:t.dy,theta:l,level:t.level,width:a,height:o}),r.push(p)},t.drawLabels=function(e,t,n,a,o){var c=e.selectAll(`text`).data(t,function(e){return e.text+`,`+e.x+`,`+e.y+`,`+e.theta});if(c.exit().remove(),c.enter().append(`text`).attr({"data-notex":1,"text-anchor":`middle`}).each(function(e){var t=e.x+Math.sin(e.theta)*e.dy,i=e.y-Math.cos(e.theta)*e.dy;r.select(this).text(e.text).attr({x:t,y:i,transform:`rotate(`+180*e.theta/Math.PI+` `+t+` `+i+`)`}).call(s.convertToTspans,n)}),o){for(var l=``,u=0;u<o.length;u++)l+=`M`+o[u].join(`L`)+`Z`;i.ensureSingle(a,`path`,``).attr(`d`,l)}};function C(e,t,n,r,o){var s=r.trace,c=n._fullLayout._clips,l=`clip`+s.uid,u=c.selectAll(`#`+l).data(s.connectgaps?[]:[0]);if(u.enter().append(`clipPath`).classed(`contourclip`,!0).attr(`id`,l),u.exit().remove(),s.connectgaps===!1){var p={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:t.xaxis,yaxis:t.yaxis,x:r.x,y:r.y,z:w(r),smoothing:0};d([p]),f([p]),h([p],{type:`levels`}),i.ensureSingle(u,`path`,``).attr(`d`,(p.prefixBoundary?`M`+o.join(`L`)+`Z`:``)+b(p,o))}else l=null;a.setClipUrl(e,l,n)}function w(e){var t=e.trace._emptypoints,n=[],r=e.z.length,i=e.z[0].length,a,o=[],s;for(a=0;a<i;a++)o.push(1);for(a=0;a<r;a++)n.push(o.slice());for(a=0;a<t.length;a++)s=t[a],n[s[0]][s[1]]=0;return e.zmask=n,n}}),18670:(function(e,t,n){var r=n(89298),i=n(71828);e.exports=function(e,t){var n=e.contours;if(e.autocontour){var o=e.zmin,s=e.zmax;(e.zauto||o===void 0)&&(o=i.aggNums(Math.min,null,t)),(e.zauto||s===void 0)&&(s=i.aggNums(Math.max,null,t));var c=a(o,s,e.ncontours);n.size=c.dtick,n.start=r.tickFirst(c),c.range.reverse(),n.end=r.tickFirst(c),n.start===o&&(n.start+=n.size),n.end===s&&(n.end-=n.size),n.start>n.end&&(n.start=n.end=(n.start+n.end)/2),e._input.contours||(e._input.contours={}),i.extendFlat(e._input.contours,{start:n.start,end:n.end,size:n.size}),e._input.autocontour=!0}else if(n.type!==`constraint`){var l=n.start,u=n.end,d=e._input.contours;l>u&&(n.start=d.start=u,u=n.end=d.end=l,l=n.start),!(n.size>0)&&(d.size=n.size=l===u?1:a(l,u,e.ncontours).dtick)}};function a(e,t,n){var i={type:`linear`,range:[e,t]};return r.autoTicks(i,(t-e)/(n||15)),i}}),84426:(function(e,t,n){var r=n(39898),i=n(91424),a=n(70035),o=n(86068);e.exports=function(e){var t=r.select(e).selectAll(`g.contour`);t.style(`opacity`,function(e){return e[0].trace.opacity}),t.each(function(e){var t=r.select(this),n=e[0].trace,a=n.contours,s=n.line,c=a.size||1,l=a.start,u=a.type===`constraint`,d=!u&&a.coloring===`lines`,f=!u&&a.coloring===`fill`,p=d||f?o(n):null;t.selectAll(`g.contourlevel`).each(function(e){r.select(this).selectAll(`path`).call(i.lineGroupStyle,s.width,d?p(e.level):s.color,s.dash)});var m=a.labelfont;if(t.selectAll(`g.contourlabels text`).each(function(e){i.font(r.select(this),{family:m.family,size:m.size,color:m.color||(d?p(e.level):s.color)})}),u)t.selectAll(`g.contourfill path`).style(`fill`,n.fillcolor);else if(f){var h;t.selectAll(`g.contourfill path`).style(`fill`,function(e){return h===void 0&&(h=e.level),p(e.level+.5*c)}),h===void 0&&(h=l),t.selectAll(`g.contourbg path`).style(`fill`,p(h-.5*c))}}),a(e)}}),8724:(function(e,t,n){var r=n(1586),i=n(14523);e.exports=function(e,t,n,a,o){var s=n(`contours.coloring`),c,l=``;s===`fill`&&(c=n(`contours.showlines`)),c!==!1&&(s!==`lines`&&(l=n(`line.color`,`#000`)),n(`line.width`,.5),n(`line.dash`)),s!==`none`&&(e.showlegend!==!0&&(t.showlegend=!1),t._dfltShowLegend=!1,r(e,t,a,n,{prefix:``,cLetter:`z`})),n(`line.smoothing`),i(n,a,l,o)}}),88085:(function(e,t,n){var r=n(21606),i=n(70600),a=n(50693),o=n(1426).extendFlat,s=i.contours;e.exports=o({carpet:{valType:`string`,editType:`calc`},z:r.z,a:r.x,a0:r.x0,da:r.dx,b:r.y,b0:r.y0,db:r.dy,text:r.text,hovertext:r.hovertext,transpose:r.transpose,atype:r.xtype,btype:r.ytype,fillcolor:i.fillcolor,autocontour:i.autocontour,ncontours:i.ncontours,contours:{type:s.type,start:s.start,end:s.end,size:s.size,coloring:{valType:`enumerated`,values:[`fill`,`lines`,`none`],dflt:`fill`,editType:`calc`},showlines:s.showlines,showlabels:s.showlabels,labelfont:s.labelfont,labelformat:s.labelformat,operation:s.operation,value:s.value,editType:`calc`,impliedEdits:{autocontour:!1}},line:{color:i.line.color,width:i.line.width,dash:i.line.dash,smoothing:i.line.smoothing,editType:`plot`},transforms:void 0},a(``,{cLetter:`z`,autoColorDflt:!1}))}),59885:(function(e,t,n){var r=n(78803),i=n(71828),a=n(68296),o=n(4742),s=n(824),c=n(43907),l=n(70769),u=n(75005),d=n(22882),f=n(18670);e.exports=function(e,t){var n=t._carpetTrace=d(e,t);if(!(!n||!n.visible||n.visible===`legendonly`)){if(!t.a||!t.b){var r=e.data[n.index],i=e.data[t.index];i.a||=r.a,i.b||=r.b,u(i,t,t._defaultColor,e._fullLayout)}var a=p(e,t);return f(t,t._z),a}};function p(e,t){var n=t._carpetTrace,u=n.aaxis,d=n.baxis,f,p,m,h,g,_,v;u._minDtick=0,d._minDtick=0,i.isArray1D(t.z)&&a(t,u,d,`a`,`b`,[`z`]),f=t._a=t._a||t.a,h=t._b=t._b||t.b,f=f?u.makeCalcdata(t,`_a`):[],h=h?d.makeCalcdata(t,`_b`):[],p=t.a0||0,m=t.da||1,g=t.b0||0,_=t.db||1,v=t._z=o(t._z||t.z,t.transpose),t._emptypoints=c(v),s(v,t._emptypoints);var y=i.maxRowLength(v),b={a:l(t,t.xtype===`scaled`?``:f,p,m,y,u),b:l(t,t.ytype===`scaled`?``:h,g,_,v.length,d),z:v};return t.contours.type===`levels`&&t.contours.coloring!==`none`&&r(e,t,{vals:v,containerStr:``,cLetter:`z`}),[b]}}),75005:(function(e,t,n){var r=n(71828),i=n(67684),a=n(88085),o=n(83179),s=n(67217),c=n(8724);e.exports=function(e,t,n,l){function u(n,i){return r.coerce(e,t,a,n,i)}function d(n){return r.coerce2(e,t,a,n)}if(u(`carpet`),e.a&&e.b){if(!i(e,t,u,l,`a`,`b`)){t.visible=!1;return}u(`text`),u(`contours.type`)===`constraint`?o(e,t,u,l,n,{hasHover:!1}):(s(e,t,u,d),c(e,t,u,l,{hasHover:!1}))}else t._defaultColor=n,t._length=null}}),93740:(function(e,t,n){e.exports={attributes:n(88085),supplyDefaults:n(75005),colorbar:n(90654),calc:n(59885),plot:n(51048),style:n(84426),moduleType:`trace`,name:`contourcarpet`,basePlotModule:n(93612),categories:[`cartesian`,`svg`,`carpet`,`contour`,`symbols`,`showLegend`,`hasLines`,`carpetDependent`,`noHover`,`noSortingByValue`],meta:{}}}),51048:(function(e,t,n){var r=n(39898),i=n(27669),a=n(67961),o=n(91424),s=n(71828),c=n(87678),l=n(81696),u=n(29854),d=n(36914),f=n(84857),p=n(87558),m=n(20083),h=n(22882),g=n(4536);e.exports=function(e,t,n,u){var d=t.xaxis,m=t.yaxis;s.makeTraceGroups(u,n,`contour`).each(function(n){var s=r.select(this),u=n[0],g=u.trace,y=g._carpetTrace=h(e,g),b=e.calcdata[y.index][0];if(!y.visible||y.visible===`legendonly`)return;var x=u.a,S=u.b,T=g.contours,E=p(T,t,u),D=T.type===`constraint`,O=T._operation,k=D?O===`=`?`lines`:`fill`:T.coloring;function A(e){var t=y.ab2xy(e[0],e[1],!0);return[d.c2p(t[0]),m.c2p(t[1])]}var j=[[x[0],S[S.length-1]],[x[x.length-1],S[S.length-1]],[x[x.length-1],S[0]],[x[0],S[0]]];c(E),l(E,(x[x.length-1]-x[0])*1e-8,(S[S.length-1]-S[0])*1e-8);var M=E;T.type===`constraint`&&(M=f(E,O)),_(E,A);var N,P,F,I,L=[];for(I=b.clipsegments.length-1;I>=0;I--)N=b.clipsegments[I],P=i([],N.x,d.c2p),F=i([],N.y,m.c2p),P.reverse(),F.reverse(),L.push(a(P,F,N.bicubic));var R=`M`+L.join(`L`)+`Z`;C(s,b.clipsegments,d,m,D,k),w(g,s,d,m,M,j,A,y,b,k,R),v(s,E,e,u,T,t,y),o.setClipUrl(s,y._clipPathId,e)})};function _(e,t){var n,r,i,a,o,s,c,l,u;for(n=0;n<e.length;n++){for(a=e[n],o=a.pedgepaths=[],s=a.ppaths=[],r=0;r<a.edgepaths.length;r++){for(u=a.edgepaths[r],c=[],i=0;i<u.length;i++)c[i]=t(u[i]);o.push(c)}for(r=0;r<a.paths.length;r++){for(u=a.paths[r],l=[],i=0;i<u.length;i++)l[i]=t(u[i]);s.push(l)}}}function v(e,t,n,i,a,c,l){var f=n._context.staticPlot,p=s.ensureSingle(e,`g`,`contourlines`),m=a.showlines!==!1,h=a.showlabels,g=m&&h,_=u.createLines(p,m||h,t,f),v=u.createLineClip(p,g,n,i.trace.uid),b=e.selectAll(`g.contourlabels`).data(h?[0]:[]);if(b.exit().remove(),b.enter().append(`g`).classed(`contourlabels`,!0),h){var x=c.xaxis,S=c.yaxis,C=x._length,w=S._length,T=[[[0,0],[C,0],[C,w],[0,w]]],E=[];s.clearLocationCache();var D=u.labelFormatter(n,i),O=o.tester.append(`text`).attr(`data-notex`,1).call(o.font,a.labelfont),k={left:0,right:C,center:C/2,top:0,bottom:w,middle:w/2},A=Math.sqrt(C*C+w*w),j=d.LABELDISTANCE*A/Math.max(1,t.length/d.LABELINCREASE);_.each(function(e){var t=u.calcTextOpts(e.level,D,O,n);r.select(this).selectAll(`path`).each(function(n){var r=this,i=s.getVisibleSegment(r,k,t.height/2);if(i&&(y(r,n,e,i,l,t.height),!(i.len<(t.width+t.height)*d.LABELMIN)))for(var a=Math.min(Math.ceil(i.len/j),d.LABELMAX),o=0;o<a;o++){var c=u.findBestTextLocation(r,i,t,E,k);if(!c)break;u.addLabelData(c,t,E,T)}})}),O.remove(),u.drawLabels(b,E,n,v,g?T:null)}h&&!m&&_.remove()}function y(e,t,n,r,i,a){for(var o,s=0;s<n.pedgepaths.length;s++)t===n.pedgepaths[s]&&(o=n.edgepaths[s]);if(!o)return;var c=i.a[0],l=i.a[i.a.length-1],u=i.b[0],d=i.b[i.b.length-1];function f(e,t){var n=0,r,o=.1;return(Math.abs(e[0]-c)<o||Math.abs(e[0]-l)<o)&&(r=x(i.dxydb_rough(e[0],e[1],o)),n=Math.max(n,a*S(t,r)/2)),(Math.abs(e[1]-u)<o||Math.abs(e[1]-d)<o)&&(r=x(i.dxyda_rough(e[0],e[1],o)),n=Math.max(n,a*S(t,r)/2)),n}var p=b(e,0,1),m=b(e,r.total,r.total-1),h=f(o[0],p),g=r.total-f(o[o.length-1],m);r.min<h&&(r.min=h),r.max>g&&(r.max=g),r.len=r.max-r.min}function b(e,t,n){var r=e.getPointAtLength(t),i=e.getPointAtLength(n),a=i.x-r.x,o=i.y-r.y,s=Math.sqrt(a*a+o*o);return[a/s,o/s]}function x(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]}function S(e,t){var n=Math.abs(e[0]*t[0]+e[1]*t[1]);return Math.sqrt(1-n*n)/n}function C(e,t,n,r,o,c){var l,u,d,f,p=s.ensureSingle(e,`g`,`contourbg`).selectAll(`path`).data(c===`fill`&&!o?[0]:[]);p.enter().append(`path`),p.exit().remove();var m=[];for(f=0;f<t.length;f++)l=t[f],u=i([],l.x,n.c2p),d=i([],l.y,r.c2p),m.push(a(u,d,l.bicubic));p.attr(`d`,`M`+m.join(`L`)+`Z`).style(`stroke`,`none`)}function w(e,t,n,i,a,o,c,l,u,d,f){var p=d===`fill`;p&&m(a,e.contours);var h=s.ensureSingle(t,`g`,`contourfill`).selectAll(`path`).data(p?a:[]);h.enter().append(`path`),h.exit().remove(),h.each(function(t){var a=(t.prefixBoundary?f:``)+T(e,t,o,c,l,u,n,i);a?r.select(this).attr(`d`,a).style(`stroke`,`none`):r.select(this).remove()})}function T(e,t,n,r,i,a,c,l){var u,d=``,f=t.edgepaths.map(function(e,t){return t}),p=!0,m,h,_,v,y,b,x=Math.abs(n[0][0]-n[2][0])*1e-4,S=Math.abs(n[0][1]-n[2][1])*1e-4;function C(e){return Math.abs(e[1]-n[0][1])<S}function w(e){return Math.abs(e[1]-n[2][1])<S}function T(e){return Math.abs(e[0]-n[0][0])<x}function E(e){return Math.abs(e[0]-n[2][0])<x}function D(e,t){var n,r,o,s,u=``;for(C(e)&&!E(e)||w(e)&&!T(e)?(s=i.aaxis,o=g(i,a,[e[0],t[0]],.5*(e[1]+t[1]))):(s=i.baxis,o=g(i,a,.5*(e[0]+t[0]),[e[1],t[1]])),n=1;n<o.length;n++)for(u+=s.smoothing?`C`:`L`,r=0;r<o[n].length;r++){var d=o[n][r];u+=[c.c2p(d[0]),l.c2p(d[1])]+` `}return u}for(u=0,m=null;f.length;){var O=t.edgepaths[u][0];for(m&&(d+=D(m,O)),b=o.smoothopen(t.edgepaths[u].map(r),t.smoothing),d+=p?b:b.replace(/^M/,`L`),f.splice(f.indexOf(u),1),m=t.edgepaths[u][t.edgepaths[u].length-1],v=-1,_=0;_<4;_++){if(!m){s.log(`Missing end?`,u,t);break}for(C(m)&&!E(m)?h=n[1]:T(m)?h=n[0]:w(m)?h=n[3]:E(m)&&(h=n[2]),y=0;y<t.edgepaths.length;y++){var k=t.edgepaths[y][0];Math.abs(m[0]-h[0])<x?Math.abs(m[0]-k[0])<x&&(k[1]-m[1])*(h[1]-k[1])>=0&&(h=k,v=y):Math.abs(m[1]-h[1])<S?Math.abs(m[1]-k[1])<S&&(k[0]-m[0])*(h[0]-k[0])>=0&&(h=k,v=y):s.log(`endpt to newendpt is not vert. or horz.`,m,h,k)}if(v>=0)break;d+=D(m,h),m=h}if(v===t.edgepaths.length){s.log(`unclosed perimeter path`);break}u=v,p=f.indexOf(u)===-1,p&&(u=f[0],d+=D(m,h)+`Z`,m=null)}for(u=0;u<t.paths.length;u++)d+=o.smoothclosed(t.paths[u].map(r),t.smoothing);return d}}),64096:(function(e,t,n){var r=n(50693),i=n(5386).f,a=n(9012),o=n(99181),s=n(1426).extendFlat;e.exports=s({lon:o.lon,lat:o.lat,z:{valType:`data_array`,editType:`calc`},radius:{valType:`number`,editType:`plot`,arrayOk:!0,min:1,dflt:30},below:{valType:`string`,editType:`plot`},text:o.text,hovertext:o.hovertext,hoverinfo:s({},a.hoverinfo,{flags:[`lon`,`lat`,`z`,`text`,`name`]}),hovertemplate:i(),showlegend:s({},a.showlegend,{dflt:!1})},r(``,{cLetter:`z`,editTypeOverride:`calc`}))}),85070:(function(e,t,n){var r=n(92770),i=n(71828).isArrayOrTypedArray,a=n(50606).BADNUM,o=n(78803),s=n(71828)._;e.exports=function(e,t){for(var n=t._length,c=Array(n),l=t.z,u=i(l)&&l.length,d=0;d<n;d++){var f=c[d]={},p=t.lon[d],m=t.lat[d];if(f.lonlat=r(p)&&r(m)?[+p,+m]:[a,a],u){var h=l[d];f.z=r(h)?h:a}}return o(e,t,{vals:u?l:[0,1],containerStr:``,cLetter:`z`}),n&&(c[0].t={labels:{lat:s(e,`lat:`)+` `,lon:s(e,`lon:`)+` `}}),c}}),52414:(function(e,t,n){var r=n(92770),i=n(71828),a=n(7901),o=n(21081),s=n(50606).BADNUM,c=n(18214).makeBlank;e.exports=function(e){var t=e[0].trace,n=t.visible===!0&&t._length!==0,l=t._opts={heatmap:{layout:{visibility:`none`},paint:{}},geojson:c()};if(!n)return l;var u=[],d,f=t.z,p=t.radius,m=i.isArrayOrTypedArray(f)&&f.length,h=i.isArrayOrTypedArray(p);for(d=0;d<e.length;d++){var g=e[d],_=g.lonlat;if(_[0]!==s){var v={};if(m){var y=g.z;v.z=y===s?0:y}h&&(v.r=r(p[d])&&p[d]>0?+p[d]:0),u.push({type:`Feature`,geometry:{type:`Point`,coordinates:_},properties:v})}}var b=o.extractOpts(t),x=b.reversescale?o.flipScale(b.colorscale):b.colorscale,S=x[0][1],C=[`interpolate`,[`linear`],[`heatmap-density`],0,a.opacity(S)<1?S:a.addOpacity(S,0)];for(d=1;d<x.length;d++)C.push(x[d][0],x[d][1]);var w=[`interpolate`,[`linear`],[`get`,`z`],b.min,0,b.max,1];return i.extendFlat(l.heatmap.paint,{"heatmap-weight":m?w:1/(b.max-b.min),"heatmap-color":C,"heatmap-radius":h?{type:`identity`,property:`r`}:t.radius,"heatmap-opacity":t.opacity}),l.geojson={type:`FeatureCollection`,features:u},l.heatmap.layout.visibility=`visible`,l}}),79429:(function(e,t,n){var r=n(71828),i=n(1586),a=n(64096);e.exports=function(e,t,n,o){function s(n,i){return r.coerce(e,t,a,n,i)}var c=s(`lon`)||[],l=s(`lat`)||[],u=Math.min(c.length,l.length);if(!u){t.visible=!1;return}t._length=u,s(`z`),s(`radius`),s(`below`),s(`text`),s(`hovertext`),s(`hovertemplate`),i(e,t,o,s,{prefix:``,cLetter:`z`})}}),62474:(function(e){e.exports=function(e,t){return e.lon=t.lon,e.lat=t.lat,e.z=t.z,e}}),84684:(function(e,t,n){var r=n(89298),i=n(28178).hoverPoints,a=n(28178).getExtraText;e.exports=function(e,t,n){var o=i(e,t,n);if(o){var s=o[0],c=s.cd,l=c[0].trace,u=c[s.index];if(delete s.color,`z`in u){var d=s.subplot.mockAxis;s.z=u.z,s.zLabel=r.tickText(d,d.c2l(u.z),`hover`).text}return s.extraText=a(l,u,c[0].t.labels),[s]}}}),93814:(function(e,t,n){e.exports={attributes:n(64096),supplyDefaults:n(79429),colorbar:n(61243),formatLabels:n(15636),calc:n(85070),plot:n(7336),hoverPoints:n(84684),eventData:n(62474),getBelow:function(e,t){for(var n=t.getMapLayers(),r=0;r<n.length;r++){var i=n[r],a=i.id;if(i.type===`symbol`&&typeof a==`string`&&a.indexOf(`plotly-`)===-1)return a}},moduleType:`trace`,name:`densitymapbox`,basePlotModule:n(50101),categories:[`mapbox`,`gl`,`showLegend`],meta:{hr_name:`density_mapbox`}}}),7336:(function(e,t,n){var r=n(52414),i=n(77734).traceLayerPrefix;function a(e,t){this.type=`densitymapbox`,this.subplot=e,this.uid=t,this.sourceId=`source-`+t,this.layerList=[[`heatmap`,i+t+`-heatmap`]],this.below=null}var o=a.prototype;o.update=function(e){var t=this.subplot,n=this.layerList,i=r(e),a=t.belowLookup[`trace-`+this.uid];t.map.getSource(this.sourceId).setData(i.geojson),a!==this.below&&(this._removeLayers(),this._addLayers(i,a),this.below=a);for(var o=0;o<n.length;o++){var s=n[o],c=s[0],l=s[1],u=i[c];t.setOptions(l,`setLayoutProperty`,u.layout),u.layout.visibility===`visible`&&t.setOptions(l,`setPaintProperty`,u.paint)}},o._addLayers=function(e,t){for(var n=this.subplot,r=this.layerList,i=this.sourceId,a=0;a<r.length;a++){var o=r[a],s=o[0],c=e[s];n.addLayer({type:s,id:o[1],source:i,layout:c.layout,paint:c.paint},t)}},o._removeLayers=function(){for(var e=this.subplot.map,t=this.layerList,n=t.length-1;n>=0;n--)e.removeLayer(t[n][1])},o.dispose=function(){var e=this.subplot.map;this._removeLayers(),e.removeSource(this.sourceId)},e.exports=function(e,t){var n=t[0].trace,i=new a(e,n.uid),o=i.sourceId,s=r(t),c=i.below=e.belowLookup[`trace-`+n.uid];return e.map.addSource(o,{type:`geojson`,data:s.geojson}),i._addLayers(s,c),i}}),49789:(function(e,t,n){var r=n(71828);e.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,`tx`),r.mergeArray(t.hovertext,e,`htx`);var i=t.marker;if(i){r.mergeArray(i.opacity,e,`mo`),r.mergeArray(i.color,e,`mc`);var a=i.line;a&&(r.mergeArray(a.color,e,`mlc`),r.mergeArrayCastPositive(a.width,e,`mlw`))}}}),1285:(function(e,t,n){var r=n(1486),i=n(82196).line,a=n(9012),o=n(12663).axisHoverFormat,s=n(5386).f,c=n(5386).s,l=n(18517),u=n(1426).extendFlat,d=n(7901);e.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,xperiod:r.xperiod,yperiod:r.yperiod,xperiod0:r.xperiod0,yperiod0:r.yperiod0,xperiodalignment:r.xperiodalignment,yperiodalignment:r.yperiodalignment,xhoverformat:o(`x`),yhoverformat:o(`y`),hovertext:r.hovertext,hovertemplate:s({},{keys:l.eventDataKeys}),hoverinfo:u({},a.hoverinfo,{flags:[`name`,`x`,`y`,`text`,`percent initial`,`percent previous`,`percent total`]}),textinfo:{valType:`flaglist`,flags:[`label`,`text`,`percent initial`,`percent previous`,`percent total`,`value`],extras:[`none`],editType:`plot`,arrayOk:!1},texttemplate:c({editType:`plot`},{keys:l.eventDataKeys.concat([`label`,`value`])}),text:r.text,textposition:r.textposition,insidetextanchor:u({},r.insidetextanchor,{dflt:`middle`}),textangle:u({},r.textangle,{dflt:0}),textfont:r.textfont,insidetextfont:r.insidetextfont,outsidetextfont:r.outsidetextfont,constraintext:r.constraintext,cliponaxis:r.cliponaxis,orientation:u({},r.orientation,{}),offset:u({},r.offset,{arrayOk:!1}),width:u({},r.width,{arrayOk:!1}),marker:f(),connector:{fillcolor:{valType:`color`,editType:`style`},line:{color:u({},i.color,{dflt:d.defaultLine}),width:u({},i.width,{dflt:0,editType:`plot`}),dash:i.dash,editType:`style`},visible:{valType:`boolean`,dflt:!0,editType:`plot`},editType:`plot`},offsetgroup:r.offsetgroup,alignmentgroup:r.alignmentgroup};function f(){var e=u({},r.marker);return delete e.pattern,e}}),9532:(function(e,t,n){var r=n(89298),i=n(42973),a=n(49789),o=n(66279),s=n(50606).BADNUM;e.exports=function(e,t){var n=r.getFromId(e,t.xaxis||`x`),l=r.getFromId(e,t.yaxis||`y`),u,d,f,p,m,h,g,_;t.orientation===`h`?(u=n.makeCalcdata(t,`x`),f=l.makeCalcdata(t,`y`),p=i(t,l,`y`,f),m=!!t.yperiodalignment,h=`y`):(u=l.makeCalcdata(t,`y`),f=n.makeCalcdata(t,`x`),p=i(t,n,`x`,f),m=!!t.xperiodalignment,h=`x`),d=p.vals;var v=Math.min(d.length,u.length),y=Array(v);for(t._base=[],g=0;g<v;g++){u[g]<0&&(u[g]=s);var b=!1;u[g]!==s&&g+1<v&&u[g+1]!==s&&(b=!0),_=y[g]={p:d[g],s:u[g],cNext:b},t._base[g]=-.5*_.s,m&&(y[g].orig_p=f[g],y[g][h+`End`]=p.ends[g],y[g][h+`Start`]=p.starts[g]),t.ids&&(_.id=String(t.ids[g])),g===0&&(y[0].vTotal=0),y[0].vTotal+=c(_.s),_.begR=c(_.s)/c(y[0].s)}var x;for(g=0;g<v;g++)_=y[g],_.s!==s&&(_.sumR=_.s/y[0].vTotal,_.difR=x===void 0?1:_.s/x,x=_.s);return a(y,t),o(y,t),y};function c(e){return e===s?0:e}}),18517:(function(e){e.exports={eventDataKeys:[`percentInitial`,`percentPrevious`,`percentTotal`]}}),8984:(function(e,t,n){var r=n(11661).setGroupPositions;e.exports=function(e,t){var n=e._fullLayout,i=e._fullData,a=e.calcdata,o=t.xaxis,s=t.yaxis,c=[],l=[],u=[],d,f;for(f=0;f<i.length;f++){var p=i[f],m=p.orientation===`h`;p.visible===!0&&p.xaxis===o._id&&p.yaxis===s._id&&p.type===`funnel`&&(d=a[f],m?u.push(d):l.push(d),c.push(d))}var h={mode:n.funnelmode,norm:n.funnelnorm,gap:n.funnelgap,groupgap:n.funnelgroupgap};for(r(e,o,s,l,h),r(e,s,o,u,h),f=0;f<c.length;f++){d=c[f];for(var g=0;g<d.length;g++)g+1<d.length&&(d[g].nextP0=d[g+1].p0,d[g].nextS0=d[g+1].s0,d[g].nextP1=d[g+1].p1,d[g].nextS1=d[g+1].s1)}}}),26199:(function(e,t,n){var r=n(71828),i=n(26125),a=n(90769).handleText,o=n(67513),s=n(73927),c=n(1285),l=n(7901);function u(e,t,n,i){function u(n,i){return r.coerce(e,t,c,n,i)}if(!o(e,t,i,u)){t.visible=!1;return}s(e,t,i,u),u(`xhoverformat`),u(`yhoverformat`),u(`orientation`,t.y&&!t.x?`v`:`h`),u(`offset`),u(`width`);var f=u(`text`);u(`hovertext`),u(`hovertemplate`),a(e,t,i,u,u(`textposition`),{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),t.textposition!==`none`&&!t.texttemplate&&u(`textinfo`,Array.isArray(f)?`text+value`:`value`);var p=u(`marker.color`,n);u(`marker.line.color`,l.defaultLine),u(`marker.line.width`),u(`connector.visible`)&&(u(`connector.fillcolor`,d(p)),u(`connector.line.width`)&&(u(`connector.line.color`),u(`connector.line.dash`)))}function d(e){var t=r.isArrayOrTypedArray(e)?`#000`:e;return l.addOpacity(t,.5*l.opacity(t))}function f(e,t){var n,a;function o(e){return r.coerce(a._input,a,c,e)}if(t.funnelmode===`group`)for(var s=0;s<e.length;s++)a=e[s],n=a._input,i(n,a,t,o)}e.exports={supplyDefaults:u,crossTraceDefaults:f}}),34598:(function(e){e.exports=function(e,t){return e.x=`xVal`in t?t.xVal:t.x,e.y=`yVal`in t?t.yVal:t.y,`percentInitial`in t&&(e.percentInitial=t.percentInitial),`percentPrevious`in t&&(e.percentPrevious=t.percentPrevious),`percentTotal`in t&&(e.percentTotal=t.percentTotal),t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),e}}),63341:(function(e,t,n){var r=n(7901).opacity,i=n(95423).hoverOnBars,a=n(71828).formatPercent;e.exports=function(e,t,n,r,s){var c=i(e,t,n,r,s);if(c){var l=c.cd,u=l[0].trace,d=u.orientation===`h`,f=l[c.index],p=d?`x`:`y`;c[p+`LabelVal`]=f.s,c.percentInitial=f.begR,c.percentInitialLabel=a(f.begR,1),c.percentPrevious=f.difR,c.percentPreviousLabel=a(f.difR,1),c.percentTotal=f.sumR,c.percentTotalLabel=a(f.sumR,1);var m=f.hi||u.hoverinfo,h=[];if(m&&m!==`none`&&m!==`skip`){var g=m===`all`,_=m.split(`+`),v=function(e){return g||_.indexOf(e)!==-1};v(`percent initial`)&&h.push(c.percentInitialLabel+` of initial`),v(`percent previous`)&&h.push(c.percentPreviousLabel+` of previous`),v(`percent total`)&&h.push(c.percentTotalLabel+` of total`)}return c.extraText=h.join(`<br>`),c.color=o(u,f),[c]}};function o(e,t){var n=e.marker,i=t.mc||n.color,a=t.mlc||n.line.color,o=t.mlw||n.line.width;if(r(i))return i;if(r(a)&&o)return a}}),51759:(function(e,t,n){e.exports={attributes:n(1285),layoutAttributes:n(10440),supplyDefaults:n(26199).supplyDefaults,crossTraceDefaults:n(26199).crossTraceDefaults,supplyLayoutDefaults:n(93138),calc:n(9532),crossTraceCalc:n(8984),plot:n(80461),style:n(68266).style,hoverPoints:n(63341),eventData:n(34598),selectPoints:n(81974),moduleType:`trace`,name:`funnel`,basePlotModule:n(93612),categories:[`bar-like`,`cartesian`,`svg`,`oriented`,`showLegend`,`zoomScale`],meta:{}}}),10440:(function(e){e.exports={funnelmode:{valType:`enumerated`,values:[`stack`,`group`,`overlay`],dflt:`stack`,editType:`calc`},funnelgap:{valType:`number`,min:0,max:1,editType:`calc`},funnelgroupgap:{valType:`number`,min:0,max:1,dflt:0,editType:`calc`}}}),93138:(function(e,t,n){var r=n(71828),i=n(10440);e.exports=function(e,t,n){var a=!1;function o(n,a){return r.coerce(e,t,i,n,a)}for(var s=0;s<n.length;s++){var c=n[s];if(c.visible&&c.type===`funnel`){a=!0;break}}a&&(o(`funnelmode`),o(`funnelgap`,.2),o(`funnelgroupgap`))}}),80461:(function(e,t,n){var r=n(39898),i=n(71828),a=n(91424),o=n(50606).BADNUM,s=n(17295),c=n(72597).clearMinTextSize;e.exports=function(e,t,n,r){var i=e._fullLayout;c(`funnel`,i),l(e,t,n,r),u(e,t,n,r),s.plot(e,t,n,r,{mode:i.funnelmode,norm:i.funnelmode,gap:i.funnelgap,groupgap:i.funnelgroupgap})};function l(e,t,n,s){var c=t.xaxis,l=t.yaxis;i.makeTraceGroups(s,n,`trace bars`).each(function(n){var s=r.select(this),u=n[0].trace,f=i.ensureSingle(s,`g`,`regions`);if(!u.connector||!u.connector.visible){f.remove();return}var p=u.orientation===`h`,m=f.selectAll(`g.region`).data(i.identity);m.enter().append(`g`).classed(`region`,!0),m.exit().remove();var h=m.size();m.each(function(n,s){if(!(s!==h-1&&!n.cNext)){var u=d(n,c,l,p),f=u[0],m=u[1],g=``;f[0]!==o&&m[0]!==o&&f[1]!==o&&m[1]!==o&&f[2]!==o&&m[2]!==o&&f[3]!==o&&m[3]!==o&&(p?g+=`M`+f[0]+`,`+m[1]+`L`+f[2]+`,`+m[2]+`H`+f[3]+`L`+f[1]+`,`+m[1]+`Z`:g+=`M`+f[1]+`,`+m[1]+`L`+f[2]+`,`+m[3]+`V`+m[2]+`L`+f[1]+`,`+m[0]+`Z`),g===``&&(g=`M0,0Z`),i.ensureSingle(r.select(this),`path`).attr(`d`,g).call(a.setClipUrl,t.layerClipId,e)}})})}function u(e,t,n,o){var s=t.xaxis,c=t.yaxis;i.makeTraceGroups(o,n,`trace bars`).each(function(n){var o=r.select(this),l=n[0].trace,u=i.ensureSingle(o,`g`,`lines`);if(!l.connector||!l.connector.visible||!l.connector.line.width){u.remove();return}var f=l.orientation===`h`,p=u.selectAll(`g.line`).data(i.identity);p.enter().append(`g`).classed(`line`,!0),p.exit().remove();var m=p.size();p.each(function(n,o){if(!(o!==m-1&&!n.cNext)){var l=d(n,s,c,f),u=l[0],p=l[1],h=``;u[3]!==void 0&&p[3]!==void 0&&(f?(h+=`M`+u[0]+`,`+p[1]+`L`+u[2]+`,`+p[2],h+=`M`+u[1]+`,`+p[1]+`L`+u[3]+`,`+p[2]):(h+=`M`+u[1]+`,`+p[1]+`L`+u[2]+`,`+p[3],h+=`M`+u[1]+`,`+p[0]+`L`+u[2]+`,`+p[2])),h===``&&(h=`M0,0Z`),i.ensureSingle(r.select(this),`path`).attr(`d`,h).call(a.setClipUrl,t.layerClipId,e)}})})}function d(e,t,n,r){var i=[],a=[],o=r?t:n,s=r?n:t;return i[0]=o.c2p(e.s0,!0),a[0]=s.c2p(e.p0,!0),i[1]=o.c2p(e.s1,!0),a[1]=s.c2p(e.p1,!0),i[2]=o.c2p(e.nextS0,!0),a[2]=s.c2p(e.nextP0,!0),i[3]=o.c2p(e.nextS1,!0),a[3]=s.c2p(e.nextP1,!0),r?[i,a]:[a,i]}}),68266:(function(e,t,n){var r=n(39898),i=n(91424),a=n(7901),o=n(37822).DESELECTDIM,s=n(16688),c=n(72597).resizeText,l=s.styleTextPoints;function u(e,t,n){var s=n||r.select(e).selectAll(`g.funnellayer`).selectAll(`g.trace`);c(e,s,`funnel`),s.style(`opacity`,function(e){return e[0].trace.opacity}),s.each(function(t){var n=r.select(this),s=t[0].trace;n.selectAll(`.point > path`).each(function(e){if(!e.isBlank){var t=s.marker;r.select(this).call(a.fill,e.mc||t.color).call(a.stroke,e.mlc||t.line.color).call(i.dashLine,t.line.dash,e.mlw||t.line.width).style(`opacity`,s.selectedpoints&&!e.selected?o:1)}}),l(n,s,e),n.selectAll(`.regions`).each(function(){r.select(this).selectAll(`path`).style(`stroke-width`,0).call(a.fill,s.connector.fillcolor)}),n.selectAll(`.lines`).each(function(){var e=s.connector.line;i.lineGroupStyle(r.select(this).selectAll(`path`),e.width,e.color,e.dash)})})}e.exports={style:u}}),86807:(function(e,t,n){var r=n(34e3),i=n(9012),a=n(27670).Y,o=n(5386).f,s=n(5386).s,c=n(1426).extendFlat;e.exports={labels:r.labels,label0:r.label0,dlabel:r.dlabel,values:r.values,marker:{colors:r.marker.colors,line:{color:c({},r.marker.line.color,{dflt:null}),width:c({},r.marker.line.width,{dflt:1}),editType:`calc`},editType:`calc`},text:r.text,hovertext:r.hovertext,scalegroup:c({},r.scalegroup,{}),textinfo:c({},r.textinfo,{flags:[`label`,`text`,`value`,`percent`]}),texttemplate:s({editType:`plot`},{keys:[`label`,`color`,`value`,`text`,`percent`]}),hoverinfo:c({},i.hoverinfo,{flags:[`label`,`text`,`value`,`percent`,`name`]}),hovertemplate:o({},{keys:[`label`,`color`,`value`,`text`,`percent`]}),textposition:c({},r.textposition,{values:[`inside`,`none`],dflt:`inside`}),textfont:r.textfont,insidetextfont:r.insidetextfont,title:{text:r.title.text,font:r.title.font,position:c({},r.title.position,{values:[`top left`,`top center`,`top right`],dflt:`top center`}),editType:`plot`},domain:a({name:`funnelarea`,trace:!0,editType:`calc`}),aspectratio:{valType:`number`,min:0,dflt:1,editType:`plot`},baseratio:{valType:`number`,min:0,max:1,dflt:.333,editType:`plot`}}}),6452:(function(e,t,n){var r=n(74875);t.name=`funnelarea`,t.plot=function(e,n,i,a){r.plotBasePlot(t.name,e,n,i,a)},t.clean=function(e,n,i,a){r.cleanBasePlot(t.name,e,n,i,a)}}),89574:(function(e,t,n){var r=n(32354);function i(e,t){return r.calc(e,t)}function a(e){r.crossTraceCalc(e,{type:`funnelarea`})}e.exports={calc:i,crossTraceCalc:a}}),86282:(function(e,t,n){var r=n(71828),i=n(86807),a=n(27670).c,o=n(90769).handleText,s=n(37434).handleLabelsAndValues;e.exports=function(e,t,n,c){function l(n,a){return r.coerce(e,t,i,n,a)}var u=s(l(`labels`),l(`values`)),d=u.len;if(t._hasLabels=u.hasLabels,t._hasValues=u.hasValues,!t._hasLabels&&t._hasValues&&(l(`label0`),l(`dlabel`)),!d){t.visible=!1;return}t._length=d,l(`marker.line.width`)&&l(`marker.line.color`,c.paper_bgcolor),l(`marker.colors`),l(`scalegroup`);var f=l(`text`),p=l(`texttemplate`),m;p||(m=l(`textinfo`,Array.isArray(f)?`text+percent`:`percent`)),l(`hovertext`),l(`hovertemplate`),(p||m&&m!==`none`)&&o(e,t,c,l,l(`textposition`),{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),a(t,c,l),l(`title.text`)&&(l(`title.position`),r.coerceFont(l,`title.font`,c.font)),l(`aspectratio`),l(`baseratio`)}}),10421:(function(e,t,n){e.exports={moduleType:`trace`,name:`funnelarea`,basePlotModule:n(6452),categories:[`pie-like`,`funnelarea`,`showLegend`],attributes:n(86807),layoutAttributes:n(80097),supplyDefaults:n(86282),supplyLayoutDefaults:n(57402),calc:n(89574).calc,crossTraceCalc:n(89574).crossTraceCalc,plot:n(79187),style:n(71858),styleOne:n(63463),meta:{}}}),80097:(function(e,t,n){e.exports={hiddenlabels:n(92774).hiddenlabels,funnelareacolorway:{valType:`colorlist`,editType:`calc`},extendfunnelareacolors:{valType:`boolean`,dflt:!0,editType:`calc`}}}),57402:(function(e,t,n){var r=n(71828),i=n(80097);e.exports=function(e,t){function n(n,a){return r.coerce(e,t,i,n,a)}n(`hiddenlabels`),n(`funnelareacolorway`,t.colorway),n(`extendfunnelareacolors`)}}),79187:(function(e,t,n){var r=n(39898),i=n(91424),a=n(71828),o=a.strScale,s=a.strTranslate,c=n(63893),l=n(17295).toMoveInsideBar,u=n(72597),d=u.recordMinTextSize,f=u.clearMinTextSize,p=n(53581),m=n(14575),h=m.attachFxHandlers,g=m.determineInsideTextFont,_=m.layoutAreas,v=m.prerenderTitles,y=m.positionTitleOutside,b=m.formatSliceLabel;e.exports=function(e,t){var n=e._context.staticPlot,u=e._fullLayout;f(`funnelarea`,u),v(t,e),_(t,u._size),a.makeTraceGroups(u._funnelarealayer,t,`trace`).each(function(t){var f=r.select(this),m=t[0],_=m.trace;C(t),f.each(function(){var f=r.select(this).selectAll(`g.slice`).data(t);f.enter().append(`g`).classed(`slice`,!0),f.exit().remove(),f.each(function(o,s){if(o.hidden){r.select(this).selectAll(`path,g`).remove();return}o.pointNumber=o.i,o.curveNumber=_.index;var f=m.cx,v=m.cy,y=r.select(this),S=y.selectAll(`path.surface`).data([o]);S.enter().append(`path`).classed(`surface`,!0).style({"pointer-events":n?`none`:`all`}),y.call(h,e,t);var C=`M`+(f+o.TR[0])+`,`+(v+o.TR[1])+x(o.TR,o.BR)+x(o.BR,o.BL)+x(o.BL,o.TL)+`Z`;S.attr(`d`,C),b(e,o,m);var w=p.castOption(_.textposition,o.pts),T=y.selectAll(`g.slicetext`).data(o.text&&w!==`none`?[0]:[]);T.enter().append(`g`).classed(`slicetext`,!0),T.exit().remove(),T.each(function(){var n=a.ensureSingle(r.select(this),`text`,``,function(e){e.attr(`data-notex`,1)}),p=a.ensureUniformFontSize(e,g(_,o,u.font));n.text(o.text).attr({class:`slicetext`,transform:``,"text-anchor":`middle`}).call(i.font,p).call(c.convertToTspans,e);var m=i.bBox(n.node()),h,y,b,x=Math.min(o.BL[1],o.BR[1])+v,S=Math.max(o.TL[1],o.TR[1])+v;y=Math.max(o.TL[0],o.BL[0])+f,b=Math.min(o.TR[0],o.BR[0])+f,h=l(y,b,x,S,m,{isHorizontal:!0,constrained:!0,angle:0,anchor:`middle`}),h.fontSize=p.size,d(_.type,h,u),t[s].transform=h,a.setTransormAndDisplay(n,h)})});var v=r.select(this).selectAll(`g.titletext`).data(_.title.text?[0]:[]);v.enter().append(`g`).classed(`titletext`,!0),v.exit().remove(),v.each(function(){var t=a.ensureSingle(r.select(this),`text`,``,function(e){e.attr(`data-notex`,1)}),n=_.title.text;_._meta&&(n=a.templateString(n,_._meta)),t.text(n).attr({class:`titletext`,transform:``,"text-anchor":`middle`}).call(i.font,_.title.font).call(c.convertToTspans,e);var l=y(m,u._size);t.attr(`transform`,s(l.x,l.y)+o(Math.min(1,l.scale))+s(l.tx,l.ty))})})})};function x(e,t){var n=t[0]-e[0],r=t[1]-e[1];return`l`+n+`,`+r}function S(e,t){return[.5*(e[0]+t[0]),.5*(e[1]+t[1])]}function C(e){if(!e.length)return;var t=e[0],n=t.trace,r=n.aspectratio,i=n.baseratio;i>.999&&(i=.999);var a=i**2,o=t.vTotal,s=o*a/(1-a),c=o,l=s/o;function u(){var e=Math.sqrt(l);return{x:e,y:-e}}function d(){var e=u();return[e.x,e.y]}var f,p=[];p.push(d());var m,h;for(m=e.length-1;m>-1;m--)if(h=e[m],!h.hidden){var g=h.v/c;l+=g,p.push(d())}var _=1/0,v=-1/0;for(m=0;m<p.length;m++)f=p[m],_=Math.min(_,f[1]),v=Math.max(v,f[1]);for(m=0;m<p.length;m++)p[m][1]-=(v+_)/2;var y=p[p.length-1][0],b=t.r,x=(v-_)/2,C=b/y,w=b/x*r;for(t.r=w*x,m=0;m<p.length;m++)p[m][0]*=C,p[m][1]*=w;f=p[0];var T=[-f[0],f[1]],E=[f[0],f[1]],D=0;for(m=e.length-1;m>-1;m--)if(h=e[m],!h.hidden){D+=1;var O=p[D][0],k=p[D][1];h.TL=[-O,k],h.TR=[O,k],h.BL=T,h.BR=E,h.pxmid=S(h.TR,h.BR),T=h.TL,E=h.TR}}}),71858:(function(e,t,n){var r=n(39898),i=n(63463),a=n(72597).resizeText;e.exports=function(e){var t=e._fullLayout._funnelarealayer.selectAll(`.trace`);a(e,t,`funnelarea`),t.each(function(e){var t=e[0].trace,n=r.select(this);n.style({opacity:t.opacity}),n.selectAll(`path.surface`).each(function(e){r.select(this).call(i,e,t)})})}}),21606:(function(e,t,n){var r=n(82196),i=n(9012),a=n(41940),o=n(12663).axisHoverFormat,s=n(5386).f,c=n(5386).s,l=n(50693),u=n(1426).extendFlat;e.exports=u({z:{valType:`data_array`,editType:`calc`},x:u({},r.x,{impliedEdits:{xtype:`array`}}),x0:u({},r.x0,{impliedEdits:{xtype:`scaled`}}),dx:u({},r.dx,{impliedEdits:{xtype:`scaled`}}),y:u({},r.y,{impliedEdits:{ytype:`array`}}),y0:u({},r.y0,{impliedEdits:{ytype:`scaled`}}),dy:u({},r.dy,{impliedEdits:{ytype:`scaled`}}),xperiod:u({},r.xperiod,{impliedEdits:{xtype:`scaled`}}),yperiod:u({},r.yperiod,{impliedEdits:{ytype:`scaled`}}),xperiod0:u({},r.xperiod0,{impliedEdits:{xtype:`scaled`}}),yperiod0:u({},r.yperiod0,{impliedEdits:{ytype:`scaled`}}),xperiodalignment:u({},r.xperiodalignment,{impliedEdits:{xtype:`scaled`}}),yperiodalignment:u({},r.yperiodalignment,{impliedEdits:{ytype:`scaled`}}),text:{valType:`data_array`,editType:`calc`},hovertext:{valType:`data_array`,editType:`calc`},transpose:{valType:`boolean`,dflt:!1,editType:`calc`},xtype:{valType:`enumerated`,values:[`array`,`scaled`],editType:`calc+clearAxisTypes`},ytype:{valType:`enumerated`,values:[`array`,`scaled`],editType:`calc+clearAxisTypes`},zsmooth:{valType:`enumerated`,values:[`fast`,`best`,!1],dflt:!1,editType:`calc`},hoverongaps:{valType:`boolean`,dflt:!0,editType:`none`},connectgaps:{valType:`boolean`,editType:`calc`},xgap:{valType:`number`,dflt:0,min:0,editType:`plot`},ygap:{valType:`number`,dflt:0,min:0,editType:`plot`},xhoverformat:o(`x`),yhoverformat:o(`y`),zhoverformat:o(`z`,1),hovertemplate:s(),texttemplate:c({arrayOk:!1,editType:`plot`},{keys:[`x`,`y`,`z`,`text`]}),textfont:a({editType:`plot`,autoSize:!0,autoColor:!0,colorEditType:`style`}),showlegend:u({},i.showlegend,{dflt:!1})},{transforms:void 0},l(``,{cLetter:`z`,autoColorDflt:!1}))}),90757:(function(e,t,n){var r=n(73972),i=n(71828),a=n(89298),o=n(42973),s=n(17562),c=n(78803),l=n(68296),u=n(4742),d=n(824),f=n(43907),p=n(70769),m=n(50606).BADNUM;e.exports=function(e,t){var n=a.getFromId(e,t.xaxis||`x`),m=a.getFromId(e,t.yaxis||`y`),_=r.traceIs(t,`contour`),v=r.traceIs(t,`histogram`),y=r.traceIs(t,`gl2d`),b=_?`best`:t.zsmooth,x,S,C,w,T,E,D,O,k,A,j;if(n._minDtick=0,m._minDtick=0,v)j=s(e,t),w=j.orig_x,x=j.x,S=j.x0,C=j.dx,O=j.orig_y,T=j.y,E=j.y0,D=j.dy,k=j.z;else{var M=t.z;i.isArray1D(M)?(l(t,n,m,`x`,`y`,[`z`]),x=t._x,T=t._y,M=t._z):(w=t.x?n.makeCalcdata(t,`x`):[],O=t.y?m.makeCalcdata(t,`y`):[],x=o(t,n,`x`,w).vals,T=o(t,m,`y`,O).vals,t._x=x,t._y=T),S=t.x0,C=t.dx,E=t.y0,D=t.dy,k=u(M,t,n,m)}(n.rangebreaks||m.rangebreaks)&&(k=g(x,T,k),v||(x=h(x),T=h(T),t._x=x,t._y=T)),!v&&(_||t.connectgaps)&&(t._emptypoints=f(k),d(k,t._emptypoints));function N(e){b=t._input.zsmooth=t.zsmooth=!1,i.warn(`cannot use zsmooth: "fast": `+e)}if(b===`fast`){if(n.type===`log`||m.type===`log`)N(`log axis found`);else if(!v){if(x.length){var P=(x[x.length-1]-x[0])/(x.length-1),F=Math.abs(P/100);for(A=0;A<x.length-1;A++)if(Math.abs(x[A+1]-x[A]-P)>F){N(`x scale is not linear`);break}}if(T.length&&b===`fast`){var I=(T[T.length-1]-T[0])/(T.length-1),L=Math.abs(I/100);for(A=0;A<T.length-1;A++)if(Math.abs(T[A+1]-T[A]-I)>L){N(`y scale is not linear`);break}}}}var R=i.maxRowLength(k),z=t.xtype===`scaled`?``:x,B=p(t,z,S,C,R,n),V=t.ytype===`scaled`?``:T,H=p(t,V,E,D,k.length,m);y||(t._extremes[n._id]=a.findExtremes(n,B),t._extremes[m._id]=a.findExtremes(m,H));var U={x:B,y:H,z:k,text:t._text||t.text,hovertext:t._hovertext||t.hovertext};if(t.xperiodalignment&&w&&(U.orig_x=w),t.yperiodalignment&&O&&(U.orig_y=O),z&&z.length===B.length-1&&(U.xCenter=z),V&&V.length===H.length-1&&(U.yCenter=V),v&&(U.xRanges=j.xRanges,U.yRanges=j.yRanges,U.pts=j.pts),_||c(e,t,{vals:k,cLetter:`z`}),_&&t.contours&&t.contours.coloring===`heatmap`){var W={type:t.type===`contour`?`heatmap`:`histogram2d`,xcalendar:t.xcalendar,ycalendar:t.ycalendar};U.xfill=p(W,z,S,C,R,n),U.yfill=p(W,V,E,D,k.length,m)}return[U]};function h(e){for(var t=[],n=e.length,r=0;r<n;r++){var i=e[r];i!==m&&t.push(i)}return t}function g(e,t,n){for(var r=[],i=-1,a=0;a<n.length;a++)if(t[a]!==m){i++,r[i]=[];for(var o=0;o<n[a].length;o++)e[o]!==m&&r[i].push(n[a][o])}return r}}),4742:(function(e,t,n){var r=n(92770),i=n(71828),a=n(50606).BADNUM;e.exports=function(e,t,n,o){var s,c,l,u,d,f;function p(e){if(r(e))return+e}if(t&&t.transpose){for(s=0,d=0;d<e.length;d++)s=Math.max(s,e[d].length);if(s===0)return!1;l=function(e){return e.length},u=function(e,t,n){return(e[n]||[])[t]}}else s=e.length,l=function(e,t){return e[t].length},u=function(e,t,n){return(e[t]||[])[n]};var m=function(e,t,n){return t===a||n===a?a:u(e,t,n)};function h(e){if(t&&t.type!==`carpet`&&t.type!==`contourcarpet`&&e&&e.type===`category`&&t[`_`+e._id.charAt(0)].length){var n=e._id.charAt(0),r={},o=t[`_`+n+`CategoryMap`]||t[n];for(d=0;d<o.length;d++)r[o[d]]=d;return function(t){var n=r[e._categories[t]];return n+1?n:a}}else return i.identity}var g=h(n),_=h(o);o&&o.type===`category`&&(s=o._categories.length);var v=Array(s);for(d=0;d<s;d++)for(c=n&&n.type===`category`?n._categories.length:l(e,d),v[d]=Array(c),f=0;f<c;f++)v[d][f]=p(m(e,_(d),g(f)));return v}}),61243:(function(e){e.exports={min:`zmin`,max:`zmax`}}),68296:(function(e,t,n){var r=n(71828),i=n(50606).BADNUM,a=n(42973);e.exports=function(e,t,n,o,s,c){var l=e._length,u=t.makeCalcdata(e,o),d=n.makeCalcdata(e,s);u=a(e,t,o,u).vals,d=a(e,n,s,d).vals;var f=e.text,p=f!==void 0&&r.isArray1D(f),m=e.hovertext,h=m!==void 0&&r.isArray1D(m),g,_,v=r.distinctVals(u),y=v.vals,b=r.distinctVals(d),x=b.vals,S=[],C,w,T=x.length,E=y.length;for(g=0;g<c.length;g++)S[g]=r.init2dArray(T,E);p&&(C=r.init2dArray(T,E)),h&&(w=r.init2dArray(T,E));var D=r.init2dArray(T,E);for(g=0;g<l;g++)if(u[g]!==i&&d[g]!==i){var O=r.findBin(u[g]+v.minDiff/2,y),k=r.findBin(d[g]+b.minDiff/2,x);for(_=0;_<c.length;_++){var A=e[c[_]],j=S[_];j[k][O]=A[g],D[k][O]=g}p&&(C[k][O]=f[g]),h&&(w[k][O]=m[g])}for(e[`_`+o]=y,e[`_`+s]=x,_=0;_<c.length;_++)e[`_`+c[_]]=S[_];p&&(e._text=C),h&&(e._hovertext=w),t&&t.type===`category`&&(e[`_`+o+`CategoryMap`]=y.map(function(e){return t._categories[e]})),n&&n.type===`category`&&(e[`_`+s+`CategoryMap`]=x.map(function(e){return n._categories[e]})),e._after2before=D}}),76382:(function(e,t,n){var r=n(71828),i=n(67684),a=n(58623),o=n(73927),s=n(49901),c=n(1586),l=n(21606);e.exports=function(e,t,n,u){function d(n,i){return r.coerce(e,t,l,n,i)}if(!i(e,t,d,u)){t.visible=!1;return}o(e,t,u,d),d(`xhoverformat`),d(`yhoverformat`),d(`text`),d(`hovertext`),d(`hovertemplate`),a(d,u),s(e,t,d,u),d(`hoverongaps`),d(`connectgaps`,r.isArray1D(t.z)&&t.zsmooth!==!1),c(e,t,u,d,{prefix:``,cLetter:`z`})}}),43907:(function(e,t,n){var r=n(71828).maxRowLength;e.exports=function(e){var t=[],n={},i=[],a=e[0],o=[],s=[0,0,0],c=r(e),l,u,d,f,p,m,h,g;for(u=0;u<e.length;u++)for(l=o,o=a,a=e[u+1]||[],d=0;d<c;d++)o[d]===void 0&&(m=(o[d-1]===void 0?0:1)+(o[d+1]===void 0?0:1)+(l[d]===void 0?0:1)+(a[d]===void 0?0:1),m?(u===0&&m++,d===0&&m++,u===e.length-1&&m++,d===o.length-1&&m++,m<4&&(n[[u,d]]=[u,d,m]),t.push([u,d,m])):i.push([u,d]));for(;i.length;){for(h={},g=!1,p=i.length-1;p>=0;p--)f=i[p],u=f[0],d=f[1],m=((n[[u-1,d]]||s)[2]+(n[[u+1,d]]||s)[2]+(n[[u,d-1]]||s)[2]+(n[[u,d+1]]||s)[2])/20,m&&(h[f]=[u,d,m],i.splice(p,1),g=!0);if(!g)throw`findEmpties iterated with no new neighbors`;for(f in h)n[f]=h[f],t.push(h[f])}return t.sort(function(e,t){return t[2]-e[2]})}}),46248:(function(e,t,n){var r=n(30211),i=n(71828),a=n(89298),o=n(21081).extractOpts;e.exports=function(e,t,n,s,c){c||={};var l=c.isContour,u=e.cd[0],d=u.trace,f=e.xa,p=e.ya,m=u.x,h=u.y,g=u.z,_=u.xCenter,v=u.yCenter,y=u.zmask,b=d.zhoverformat,x=m,S=h,C,w,T,E;if(e.index!==!1){try{T=Math.round(e.index[1]),E=Math.round(e.index[0])}catch{i.error(`Error hovering on heatmap, pointNumber must be [row,col], found:`,e.index);return}if(T<0||T>=g[0].length||E<0||E>g.length)return}else if(r.inbox(t-m[0],t-m[m.length-1],0)>0||r.inbox(n-h[0],n-h[h.length-1],0)>0)return;else{if(l){var D;for(x=[2*m[0]-m[1]],D=1;D<m.length;D++)x.push((m[D]+m[D-1])/2);for(x.push([2*m[m.length-1]-m[m.length-2]]),S=[2*h[0]-h[1]],D=1;D<h.length;D++)S.push((h[D]+h[D-1])/2);S.push([2*h[h.length-1]-h[h.length-2]])}T=Math.max(0,Math.min(x.length-2,i.findBin(t,x))),E=Math.max(0,Math.min(S.length-2,i.findBin(n,S)))}var O=f.c2p(m[T]),k=f.c2p(m[T+1]),A=p.c2p(h[E]),j=p.c2p(h[E+1]),M,N;l?(M=u.orig_x||m,N=u.orig_y||h,k=O,C=M[T],j=A,w=N[E]):(M=u.orig_x||_||m,N=u.orig_y||v||h,C=_?M[T]:(M[T]+M[T+1])/2,w=v?N[E]:(N[E]+N[E+1])/2,f&&f.type===`category`&&(C=m[T]),p&&p.type===`category`&&(w=h[E]),d.zsmooth&&(O=k=f.c2p(C),A=j=p.c2p(w)));var P=g[E][T];if(y&&!y[E][T]&&(P=void 0),!(P===void 0&&!d.hoverongaps)){var F;Array.isArray(u.hovertext)&&Array.isArray(u.hovertext[E])?F=u.hovertext[E][T]:Array.isArray(u.text)&&Array.isArray(u.text[E])&&(F=u.text[E][T]);var I=o(d),L={type:`linear`,range:[I.min,I.max],hoverformat:b,_separators:f._separators,_numFormat:f._numFormat},R=a.tickText(L,P,`hover`).text;return[i.extendFlat(e,{index:d._after2before?d._after2before[E][T]:[E,T],distance:e.maxHoverDistance,spikeDistance:e.maxSpikeDistance,x0:O,x1:k,y0:A,y1:j,xLabelVal:C,yLabelVal:w,zLabelVal:P,zLabel:R,text:F})]}}}),92165:(function(e,t,n){e.exports={attributes:n(21606),supplyDefaults:n(76382),calc:n(90757),plot:n(50347),colorbar:n(61243),style:n(70035),hoverPoints:n(46248),moduleType:`trace`,name:`heatmap`,basePlotModule:n(93612),categories:[`cartesian`,`svg`,`2dMap`,`showLegend`],meta:{}}}),824:(function(e,t,n){var r=n(71828),i=.01,a=[[-1,0],[1,0],[0,-1],[0,1]];function o(e){return .5-.25*Math.min(1,e*.5)}e.exports=function(e,t){var n=1,a;for(s(e,t),a=0;a<t.length&&!(t[a][2]<4);a++);for(t=t.slice(a),a=0;a<100&&n>i;a++)n=s(e,t,o(n));return n>i&&r.log(`interp2d didn't converge quickly`,n),e};function s(e,t,n){var r=0,i,o,s,c,l,u,d,f,p,m,h,g,_;for(c=0;c<t.length;c++){for(i=t[c],o=i[0],s=i[1],h=e[o][s],m=0,p=0,l=0;l<4;l++)u=a[l],d=e[o+u[0]],d&&(f=d[s+u[1]],f!==void 0&&(m===0?g=_=f:(g=Math.min(g,f),_=Math.max(_,f)),p++,m+=f));if(p===0)throw`iterateInterp2d order is wrong: no defined neighbors`;e[o][s]=m/p,h===void 0?p<4&&(r=1):(e[o][s]=(1+n)*e[o][s]-n*h,_>g&&(r=Math.max(r,Math.abs(e[o][s]-h)/(_-g))))}return r}}),58623:(function(e,t,n){var r=n(71828);e.exports=function(e,t){e(`texttemplate`);var n=r.extendFlat({},t.font,{color:`auto`,size:`auto`});r.coerceFont(e,`textfont`,n)}}),70769:(function(e,t,n){var r=n(73972),i=n(71828).isArrayOrTypedArray;e.exports=function(e,t,n,a,o,s){var c=[],l=r.traceIs(e,`contour`),u=r.traceIs(e,`histogram`),d=r.traceIs(e,`gl2d`),f,p,m;if(i(t)&&t.length>1&&!u&&s.type!==`category`){var h=t.length;if(h<=o){if(l||d)c=t.slice(0,o);else if(o===1)c=[t[0]-.5,t[0]+.5];else{for(c=[1.5*t[0]-.5*t[1]],m=1;m<h;m++)c.push((t[m-1]+t[m])*.5);c.push(1.5*t[h-1]-.5*t[h-2])}if(h<o){var g=c[c.length-1],_=g-c[c.length-2];for(m=h;m<o;m++)g+=_,c.push(g)}}else return l?t.slice(0,o):t.slice(0,o+1)}else{var v=e[s._id.charAt(0)+`calendar`];for(f=u?s.r2c(n,0,v):i(t)&&t.length===1?t[0]:n===void 0?0:(s.type===`log`?s.d2c:s.r2c)(n,0,v),p=a||1,m=l||d?0:-.5;m<o;m++)c.push(f+p*m)}return c}}),50347:(function(e,t,n){var r=n(39898),i=n(84267),a=n(73972),o=n(91424),s=n(89298),c=n(71828),l=n(63893),u=n(8225),d=n(7901),f=n(21081).extractOpts,p=n(21081).makeColorScaleFuncFromTrace,m=n(77922),h=n(18783).LINE_SPACING,g=`heatmap-label`;function _(e){return e.selectAll(`g.`+g)}function v(e){_(e).remove()}e.exports=function(e,t,n,S){var C=t.xaxis,w=t.yaxis;c.makeTraceGroups(S,n,`hm`).each(function(t){for(var n=r.select(this),S=t[0],T=S.trace,E=T.xgap||0,D=T.ygap||0,O=S.z,k=S.x,A=S.y,j=S.xCenter,M=S.yCenter,N=a.traceIs(T,`contour`),P=N?`best`:T.zsmooth,F=O.length,I=c.maxRowLength(O),L=!1,R=!1,z,B,V,H,U,W=0,G,K;z===void 0&&W<k.length-1;)z=C.c2p(k[W]),W++;for(W=k.length-1;B===void 0&&W>0;)B=C.c2p(k[W]),W--;for(B<z&&(V=B,B=z,z=V,L=!0),W=0;H===void 0&&W<A.length-1;)H=w.c2p(A[W]),W++;for(W=A.length-1;U===void 0&&W>0;)U=w.c2p(A[W]),W--;if(U<H&&(V=H,H=U,U=V,R=!0),N&&(j=k,M=A,k=S.xfill,A=S.yfill),P!==`fast`){var ee=P===`best`?0:.5;z=Math.max(-ee*C._length,z),B=Math.min((1+ee)*C._length,B),H=Math.max(-ee*w._length,H),U=Math.min((1+ee)*w._length,U)}var q=Math.round(B-z),J=Math.round(U-H);if(q<=0||J<=0){n.selectAll(`image`).data([]).exit().remove(),v(n);return}var Y,te;P===`fast`?(Y=I,te=F):(Y=q,te=J);var ne=document.createElement(`canvas`);ne.width=Y,ne.height=te;var re=ne.getContext(`2d`),ie=p(T,{noNumericCheck:!0,returnArray:!0}),ae,oe;P===`fast`?(ae=L?function(e){return I-1-e}:c.identity,oe=R?function(e){return F-1-e}:c.identity):(ae=function(e){return c.constrain(Math.round(C.c2p(k[e])-z),0,q)},oe=function(e){return c.constrain(Math.round(w.c2p(A[e])-H),0,J)});var se=oe(0),ce=[se,se],le=L?0:1,ue=R?0:1,de=0,fe=0,pe=0,me=0,he,ge,_e,ve,ye;function be(e,t){if(e!==void 0){var n=ie(e);return n[0]=Math.round(n[0]),n[1]=Math.round(n[1]),n[2]=Math.round(n[2]),de+=t,fe+=n[0]*t,pe+=n[1]*t,me+=n[2]*t,n}return[0,0,0,0]}function xe(e,t,n,r){var i=e[n.bin0];if(i===void 0)return be(void 0,1);var a=e[n.bin1],o=t[n.bin0],s=t[n.bin1],c=a-i||0,l=o-i||0,u=a===void 0?s===void 0?0:o===void 0?2*(s-i):(2*s-o-i)*2/3:s===void 0?o===void 0?0:(2*i-a-o)*2/3:o===void 0?(2*s-a-i)*2/3:s+i-a-o;return be(i+n.frac*c+r.frac*(l+n.frac*u))}if(P){var Se=0,Ce;try{Ce=new Uint8Array(q*J*4)}catch{Ce=Array(q*J*4)}if(P===`best`){var we=j||k,Te=M||A,Ee=Array(we.length),X=Array(Te.length),Z=Array(q),De=j?b:y,Q=M?b:y,Oe,ke,Ae;for(W=0;W<we.length;W++)Ee[W]=Math.round(C.c2p(we[W])-z);for(W=0;W<Te.length;W++)X[W]=Math.round(w.c2p(Te[W])-H);for(W=0;W<q;W++)Z[W]=De(W,Ee);for(G=0;G<J;G++)for(Oe=Q(G,X),ke=O[Oe.bin0],Ae=O[Oe.bin1],W=0;W<q;W++,Se+=4)ye=xe(ke,Ae,Z[W],Oe),x(Ce,Se,ye)}else for(G=0;G<F;G++)for(ve=O[G],ce=oe(G),W=0;W<q;W++)ye=be(ve[W],1),Se=(ce*q+ae(W))*4,x(Ce,Se,ye);var je=re.createImageData(q,J);try{je.data.set(Ce)}catch{var Me=je.data,Ne=Me.length;for(G=0;G<Ne;G++)Me[G]=Ce[G]}re.putImageData(je,0,0)}else{var Pe=Math.floor(E/2),Fe=Math.floor(D/2);for(G=0;G<F;G++)if(ve=O[G],ce.reverse(),ce[ue]=oe(G+1),!(ce[0]===ce[1]||ce[0]===void 0||ce[1]===void 0))for(ge=ae(0),he=[ge,ge],W=0;W<I;W++)he.reverse(),he[le]=ae(W+1),!(he[0]===he[1]||he[0]===void 0||he[1]===void 0)&&(_e=ve[W],ye=be(_e,(he[1]-he[0])*(ce[1]-ce[0])),re.fillStyle=`rgba(`+ye.join(`,`)+`)`,re.fillRect(he[0]+Pe,ce[0]+Fe,he[1]-he[0]-E,ce[1]-ce[0]-D))}fe=Math.round(fe/de),pe=Math.round(pe/de),me=Math.round(me/de);var Ie=i(`rgb(`+fe+`,`+pe+`,`+me+`)`);e._hmpixcount=(e._hmpixcount||0)+de,e._hmlumcount=(e._hmlumcount||0)+de*Ie.getLuminance();var Le=n.selectAll(`image`).data(t);Le.enter().append(`svg:image`).attr({xmlns:m.svg,preserveAspectRatio:`none`}),Le.attr({height:J,width:q,x:z,y:H,"xlink:href":ne.toDataURL(`image/png`)}),v(n);var Re=T.texttemplate;if(Re){var ze=f(T),Be={type:`linear`,range:[ze.min,ze.max],_separators:C._separators,_numFormat:C._numFormat},Ve=T.type===`histogram2dcontour`,He=T.type===`contour`,Ue=He?1:0,We=He?F-1:F,Ge=He?1:0,Ke=He?I-1:I,qe=[];for(W=Ue;W<We;W++){var Je;if(He)Je=S.y[W];else if(Ve){if(W===0||W===F-1)continue;Je=S.y[W]}else if(S.yCenter)Je=S.yCenter[W];else{if(W+1===F&&S.y[W+1]===void 0)continue;Je=(S.y[W]+S.y[W+1])/2}var Ye=Math.round(w.c2p(Je));if(!(0>Ye||Ye>w._length))for(G=Ge;G<Ke;G++){var Xe;if(He)Xe=S.x[G];else if(Ve){if(G===0||G===I-1)continue;Xe=S.x[G]}else if(S.xCenter)Xe=S.xCenter[G];else{if(G+1===I&&S.x[G+1]===void 0)continue;Xe=(S.x[G]+S.x[G+1])/2}var Ze=Math.round(C.c2p(Xe));if(!(0>Ze||Ze>C._length)){var Qe=u({x:Xe,y:Je},T,e._fullLayout);Qe.x=Xe,Qe.y=Je;var $e=S.z[W][G];$e===void 0?(Qe.z=``,Qe.zLabel=``):(Qe.z=$e,Qe.zLabel=s.tickText(Be,$e,`hover`).text);var et=S.text&&S.text[W]&&S.text[W][G];(et===void 0||et===!1)&&(et=``),Qe.text=et;var tt=c.texttemplateString(Re,Qe,e._fullLayout._d3locale,Qe,T._meta||{});if(tt){var nt=tt.split(`<br>`),rt=nt.length,it=0;for(K=0;K<rt;K++)it=Math.max(it,nt[K].length);qe.push({l:rt,c:it,t:tt,x:Ze,y:Ye,z:$e})}}}}var at=T.textfont,ot=at.family,st=at.size,ct=e._fullLayout.font.size;if(!st||st===`auto`){var lt=1/0,ut=1/0,dt=0,ft=0;for(K=0;K<qe.length;K++){var pt=qe[K];if(dt=Math.max(dt,pt.l),ft=Math.max(ft,pt.c),K<qe.length-1){var mt=qe[K+1],ht=Math.abs(mt.x-pt.x),gt=Math.abs(mt.y-pt.y);ht&&(lt=Math.min(lt,ht)),gt&&(ut=Math.min(ut,gt))}}!isFinite(lt)||!isFinite(ut)?st=ct:(lt-=E,ut-=D,lt/=ft,ut/=dt,lt/=h/2,ut/=h,st=Math.min(Math.floor(lt),Math.floor(ut),ct))}if(st<=0||!isFinite(st))return;var _t=function(e){return e.x},vt=function(e){return e.y-st*(e.l*h/2-1)};_(n).data(qe).enter().append(`g`).classed(g,1).append(`text`).attr(`text-anchor`,`middle`).each(function(t){var n=r.select(this),i=at.color;(!i||i===`auto`)&&(i=d.contrast(`rgba(`+ie(t.z).join()+`)`)),n.attr(`data-notex`,1).call(l.positionText,_t(t),vt(t)).call(o.font,ot,st,i).text(t.t).call(l.convertToTspans,e)})}})};function y(e,t){var n=t.length-2,r=c.constrain(c.findBin(e,t),0,n),i=t[r],a=t[r+1],o=c.constrain(r+(e-i)/(a-i)-.5,0,n),s=Math.round(o),l=Math.abs(o-s);return!o||o===n||!l?{bin0:s,bin1:s,frac:0}:{bin0:s,frac:l,bin1:Math.round(s+l/(o-s))}}function b(e,t){var n=t.length-1,r=c.constrain(c.findBin(e,t),0,n),i=t[r],a=t[r+1],o=(e-i)/(a-i)||0;return o<=0?{bin0:r,bin1:r,frac:0}:o<.5?{bin0:r,bin1:r+1,frac:o}:{bin0:r+1,bin1:r,frac:1-o}}function x(e,t,n){e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=Math.round(n[3]*255)}}),70035:(function(e,t,n){var r=n(39898);e.exports=function(e){r.select(e).selectAll(`.hm image`).style(`opacity`,function(e){return e.trace.opacity})}}),49901:(function(e){e.exports=function(e,t,n){n(`zsmooth`)===!1&&(n(`xgap`),n(`ygap`)),n(`zhoverformat`)}}),67684:(function(e,t,n){var r=n(92770),i=n(71828),a=n(73972);e.exports=function(e,t,n,r,c,l){var u=n(`z`);c||=`x`,l||=`y`;var d,f;if(u===void 0||!u.length)return 0;if(i.isArray1D(e.z)){d=n(c),f=n(l);var p=i.minRowLength(d),m=i.minRowLength(f);if(p===0||m===0)return 0;t._length=Math.min(p,m,u.length)}else{if(d=o(c,n),f=o(l,n),!s(u))return 0;n(`transpose`),t._length=null}return e.type===`heatmapgl`||a.getComponentMethod(`calendars`,`handleTraceDefaults`)(e,t,[c,l],r),!0};function o(e,t){var n=t(e);return(n?t(e+`type`,`array`):`scaled`)===`scaled`&&(t(e+`0`),t(`d`+e)),n}function s(e){for(var t=!0,n=!1,a=!1,o,s=0;s<e.length;s++){if(o=e[s],!i.isArrayOrTypedArray(o)){t=!1;break}o.length>0&&(n=!0);for(var c=0;c<o.length;c++)if(r(o[c])){a=!0;break}}return t&&n&&a}}),16063:(function(e,t,n){for(var r=n(21606),i=n(50693),a=n(1426).extendFlat,o=n(30962).overrideAll,s=[`z`,`x`,`x0`,`dx`,`y`,`y0`,`dy`,`text`,`transpose`,`xtype`,`ytype`],c={},l=0;l<s.length;l++){var u=s[l];c[u]=r[u]}c.zsmooth={valType:`enumerated`,values:[`fast`,!1],dflt:`fast`,editType:`calc`},a(c,i(``,{cLetter:`z`,autoColorDflt:!1})),e.exports=o(c,`calc`,`nested`)}),59560:(function(e,t,n){var r=n(9330).gl_heatmap2d,i=n(89298),a=n(78614);function o(e,t){this.scene=e,this.uid=t,this.type=`heatmapgl`,this.name=``,this.hoverinfo=`all`,this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:`fast`,z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=r(e.glplot,this.options),this.heatmap._trace=this}var s=o.prototype;s.handlePick=function(e){var t=this.options,n=t.shape,r=e.pointId,i=r%n[0],a=Math.floor(r/n[0]),o=r;return{trace:this,dataCoord:e.dataCoord,traceCoord:[t.x[i],t.y[a],t.z[o]],textLabel:this.textLabels[r],name:this.name,pointIndex:[a,i],hoverinfo:this.hoverinfo}},s.update=function(e,t){var n=t[0];this.index=e.index,this.name=e.name,this.hoverinfo=e.hoverinfo;var r=n.z;this.options.z=[].concat.apply([],r);var a=r[0].length,o=r.length;this.options.shape=[a,o],this.options.x=n.x,this.options.y=n.y,this.options.zsmooth=e.zsmooth;var s=c(e);this.options.colorLevels=s.colorLevels,this.options.colorValues=s.colorValues,this.textLabels=[].concat.apply([],e.text),this.heatmap.update(this.options);var l=this.scene.xaxis,u=this.scene.yaxis,d,f;e.zsmooth===!1&&(d={ppad:n.x[1]-n.x[0]},f={ppad:n.y[1]-n.y[0]}),e._extremes[l._id]=i.findExtremes(l,n.x,d),e._extremes[u._id]=i.findExtremes(u,n.y,f)},s.dispose=function(){this.heatmap.dispose()};function c(e){for(var t=e.colorscale,n=e.zmin,r=e.zmax,i=t.length,o=Array(i),s=Array(4*i),c=0;c<i;c++){var l=t[c],u=a(l[1]);o[c]=n+l[0]*(r-n);for(var d=0;d<4;d++)s[4*c+d]=u[d]}return{colorLevels:o,colorValues:s}}function l(e,t,n){var r=new o(e,t.uid);return r.update(t,n),r}e.exports=l}),19600:(function(e,t,n){var r=n(71828),i=n(67684),a=n(1586),o=n(16063);e.exports=function(e,t,n,s){function c(n,i){return r.coerce(e,t,o,n,i)}if(!i(e,t,c,s)){t.visible=!1;return}c(`text`),c(`zsmooth`),a(e,t,s,c,{prefix:``,cLetter:`z`})}}),3325:(function(e,t,n){[`*heatmapgl* trace is deprecated!`,`Please consider switching to the *heatmap* or *image* trace types.`,`Alternatively you could contribute/sponsor rewriting this trace type`,`based on cartesian features and using regl framework.`].join(` `),e.exports={attributes:n(16063),supplyDefaults:n(19600),colorbar:n(61243),calc:n(90757),plot:n(59560),moduleType:`trace`,name:`heatmapgl`,basePlotModule:n(4796),categories:[`gl`,`gl2d`,`2dMap`],meta:{}}}),7745:(function(e,t,n){var r=n(1486),i=n(12663).axisHoverFormat,a=n(5386).f,o=n(5386).s,s=n(41940),c=n(17656),l=n(72406),u=n(1426).extendFlat;e.exports={x:{valType:`data_array`,editType:`calc+clearAxisTypes`},y:{valType:`data_array`,editType:`calc+clearAxisTypes`},xhoverformat:i(`x`),yhoverformat:i(`y`),text:u({},r.text,{}),hovertext:u({},r.hovertext,{}),orientation:r.orientation,histfunc:{valType:`enumerated`,values:[`count`,`sum`,`avg`,`min`,`max`],dflt:`count`,editType:`calc`},histnorm:{valType:`enumerated`,values:[``,`percent`,`probability`,`density`,`probability density`],dflt:``,editType:`calc`},cumulative:{enabled:{valType:`boolean`,dflt:!1,editType:`calc`},direction:{valType:`enumerated`,values:[`increasing`,`decreasing`],dflt:`increasing`,editType:`calc`},currentbin:{valType:`enumerated`,values:[`include`,`exclude`,`half`],dflt:`include`,editType:`calc`},editType:`calc`},nbinsx:{valType:`integer`,min:0,dflt:0,editType:`calc`},xbins:c(`x`,!0),nbinsy:{valType:`integer`,min:0,dflt:0,editType:`calc`},ybins:c(`y`,!0),autobinx:{valType:`boolean`,dflt:null,editType:`calc`},autobiny:{valType:`boolean`,dflt:null,editType:`calc`},bingroup:{valType:`string`,dflt:``,editType:`calc`},hovertemplate:a({},{keys:l.eventDataKeys}),texttemplate:o({arrayOk:!1,editType:`plot`},{keys:[`label`,`value`]}),textposition:u({},r.textposition,{arrayOk:!1}),textfont:s({arrayOk:!1,editType:`plot`,colorEditType:`style`}),outsidetextfont:s({arrayOk:!1,editType:`plot`,colorEditType:`style`}),insidetextfont:s({arrayOk:!1,editType:`plot`,colorEditType:`style`}),insidetextanchor:r.insidetextanchor,textangle:r.textangle,cliponaxis:r.cliponaxis,constraintext:r.constraintext,marker:r.marker,offsetgroup:r.offsetgroup,alignmentgroup:r.alignmentgroup,selected:r.selected,unselected:r.unselected,_deprecated:{bardir:r._deprecated.bardir}}}),42174:(function(e){e.exports=function(e,t){for(var n=e.length,r=0,i=0;i<n;i++)t[i]?(e[i]/=t[i],r+=e[i]):e[i]=null;return r}}),17656:(function(e){e.exports=function(e,t){return{start:{valType:`any`,editType:`calc`},end:{valType:`any`,editType:`calc`},size:{valType:`any`,editType:`calc`},editType:`calc`}}}),59575:(function(e,t,n){var r=n(92770);e.exports={count:function(e,t,n){return n[e]++,1},sum:function(e,t,n,i){var a=i[t];return r(a)?(a=Number(a),n[e]+=a,a):0},avg:function(e,t,n,i,a){var o=i[t];return r(o)&&(o=Number(o),n[e]+=o,a[e]++),0},min:function(e,t,n,i){var a=i[t];if(r(a))if(a=Number(a),r(n[e])){if(n[e]>a){var o=a-n[e];return n[e]=a,o}}else return n[e]=a,a;return 0},max:function(e,t,n,i){var a=i[t];if(r(a))if(a=Number(a),r(n[e])){if(n[e]<a){var o=a-n[e];return n[e]=a,o}}else return n[e]=a,a;return 0}}}),40965:(function(e,t,n){var r=n(50606),i=r.ONEAVGYEAR,a=r.ONEAVGMONTH,o=r.ONEDAY,s=r.ONEHOUR,c=r.ONEMIN,l=r.ONESEC,u=n(89298).tickIncrement;e.exports=function(e,t,n,r,a){var s=-1.1*t,c=-.1*t,l=e-c,f=n[0],p=n[1],m=Math.min(d(f+c,f+l,r,a),d(p+c,p+l,r,a)),h=Math.min(d(f+s,f+c,r,a),d(p+s,p+c,r,a)),g,_;if(m>h&&h<Math.abs(p-f)/4e3?(g=m,_=!1):(g=Math.min(m,h),_=!0),r.type===`date`&&g>o){var v=g===i?1:6,y=g===i?`M12`:`M1`;return function(t,n){var o=r.c2d(t,i,a),s=o.indexOf(`-`,v);s>0&&(o=o.substr(0,s));var c=r.d2c(o,0,a);if(c<t){var l=u(c,y,!1,a);(c+l)/2<t+e&&(c=l)}return n&&_?u(c,y,!0,a):c}}return function(t,n){var r=g*Math.round(t/g);return r+g/10<t&&r+g*.9<t+e&&(r+=g),n&&_&&(r-=g),r}};function d(e,t,n,r){if(e*t<=0)return 1/0;for(var i=Math.abs(t-e),a=n.type===`date`,o=f(i,a),s=0;s<10;s++){var c=f(o*80,a);if(o===c)break;if(p(c,e,t,a,n,r))o=c;else break}return o}function f(e,t){return t&&e>l?e>o?e>i*1.1?i:e>a*1.1?a:o:e>s?s:e>c?c:l:10**Math.floor(Math.log(e)/Math.LN10)}function p(e,t,n,r,a,s){if(r&&e>o){var c=m(t,a,s),l=m(n,a,s),u=e===i?0:1;return c[u]!==l[u]}return Math.floor(n/e)-Math.floor(t/e)>.1}function m(e,t,n){var r=t.c2d(e,i,n).split(`-`);return r[0]===``&&(r.unshift(),r[0]=`-`+r[0]),r}}),72138:(function(e,t,n){var r=n(92770),i=n(71828),a=n(73972),o=n(89298),s=n(75341),c=n(59575),l=n(36362),u=n(42174),d=n(40965);function f(e,t){var n=[],a=[],f=t.orientation===`h`,m=o.getFromId(e,f?t.yaxis:t.xaxis),h=f?`y`:`x`,_={x:`y`,y:`x`}[h],v=t[h+`calendar`],y=t.cumulative,b,x=p(e,t,m,h),S=x[0],C=x[1],w=typeof S.size==`string`,T=[],E=w?T:S,D=[],O=[],k=[],A=0,j=t.histnorm,M=t.histfunc,N=j.indexOf(`density`)!==-1,P,F,I;y.enabled&&N&&(j=j.replace(/ ?density$/,``),N=!1);var L=M===`max`||M===`min`?null:0,R=c.count,z=l[j],B=!1,V=function(e){return m.r2c(e,0,v)},H;for(i.isArrayOrTypedArray(t[_])&&M!==`count`&&(H=t[_],B=M===`avg`,R=c[M]),b=V(S.start),F=V(S.end)+(b-o.tickIncrement(b,S.size,!1,v))/1e6;b<F&&n.length<1e6&&(P=o.tickIncrement(b,S.size,!1,v),n.push((b+P)/2),a.push(L),k.push([]),T.push(b),N&&D.push(1/(P-b)),B&&O.push(0),!(P<=b));)b=P;T.push(b),!w&&m.type===`date`&&(E={start:V(E.start),end:V(E.end),size:E.size}),e._fullLayout._roundFnOpts||(e._fullLayout._roundFnOpts={});var U=t[`_`+h+`bingroup`],W={leftGap:1/0,rightGap:1/0};U&&(e._fullLayout._roundFnOpts[U]||(e._fullLayout._roundFnOpts[U]=W),W=e._fullLayout._roundFnOpts[U]);var G=a.length,K=!0,ee=W.leftGap,q=W.rightGap,J={};for(b=0;b<C.length;b++){var Y=C[b];I=i.findBin(Y,E),I>=0&&I<G&&(A+=R(I,b,a,H,O),K&&k[I].length&&Y!==C[k[I][0]]&&(K=!1),k[I].push(b),J[b]=I,ee=Math.min(ee,Y-T[I]),q=Math.min(q,T[I+1]-Y))}W.leftGap=ee,W.rightGap=q;var te;K||(te=function(t,n){return function(){var r=e._fullLayout._roundFnOpts[U];return d(r.leftGap,r.rightGap,T,m,v)(t,n)}}),B&&(A=u(a,O)),z&&z(a,A,D),y.enabled&&g(a,y.direction,y.currentbin);var ne=Math.min(n.length,a.length),re=[],ie=0,ae=ne-1;for(b=0;b<ne;b++)if(a[b]){ie=b;break}for(b=ne-1;b>=ie;b--)if(a[b]){ae=b;break}for(b=ie;b<=ae;b++)if(r(n[b])&&r(a[b])){var oe={p:n[b],s:a[b],b:0};y.enabled||(oe.pts=k[b],K?oe.ph0=oe.ph1=k[b].length?C[k[b][0]]:n[b]:(t._computePh=!0,oe.ph0=te(T[b]),oe.ph1=te(T[b+1],!0))),re.push(oe)}return re.length===1&&(re[0].width1=o.tickIncrement(re[0].p,S.size,!1,v)-re[0].p),s(re,t),i.isArrayOrTypedArray(t.selectedpoints)&&i.tagSelected(re,t,J),re}function p(e,t,n,s,c){var l=s+`bins`,u=e._fullLayout,d=t[`_`+s+`bingroup`],f=u._histogramBinOpts[d],p=u.barmode===`overlay`,h,g,_,v,y,b,x,S=function(e){return n.r2c(e,0,v)},C=function(e){return n.c2r(e,0,v)},w=n.type===`date`?function(e){return e||e===0?i.cleanDate(e,null,v):null}:function(e){return r(e)?Number(e):null};function T(e,t,n){t[e+`Found`]?(t[e]=w(t[e]),t[e]===null&&(t[e]=n[e])):(b[e]=t[e]=n[e],i.nestedProperty(g[0],l+`.`+e).set(n[e]))}if(t[`_`+s+`autoBinFinished`])delete t[`_`+s+`autoBinFinished`];else{g=f.traces;var E=[],D=!0,O=!1,k=!1;for(h=0;h<g.length;h++)if(_=g[h],_.visible){var A=f.dirs[h];y=_[`_`+A+`pos0`]=n.makeCalcdata(_,A),E=i.concat(E,y),delete _[`_`+s+`autoBinFinished`],t.visible===!0&&(D?D=!1:(delete _._autoBin,_[`_`+s+`autoBinFinished`]=1),a.traceIs(_,`2dMap`)&&(O=!0),_.type===`histogram2dcontour`&&(k=!0))}v=g[0][s+`calendar`];var j=o.autoBin(E,n,f.nbins,O,v,f.sizeFound&&f.size),M=g[0]._autoBin={};if(b=M[f.dirs[0]]={},k&&(f.size||(j.start=C(o.tickIncrement(S(j.start),j.size,!0,v))),f.end===void 0&&(j.end=C(o.tickIncrement(S(j.end),j.size,!1,v)))),p&&!a.traceIs(t,`2dMap`)&&j._dataSpan===0&&n.type!==`category`&&n.type!==`multicategory`){if(c)return[j,y,!0];j=m(e,t,n,s,l)}x=_.cumulative||{},x.enabled&&x.currentbin!==`include`&&(x.direction===`decreasing`?j.start=C(o.tickIncrement(S(j.start),j.size,!0,v)):j.end=C(o.tickIncrement(S(j.end),j.size,!1,v))),f.size=j.size,f.sizeFound||(b.size=j.size,i.nestedProperty(g[0],l+`.size`).set(j.size)),T(`start`,f,j),T(`end`,f,j)}y=t[`_`+s+`pos0`],delete t[`_`+s+`pos0`];var N=t._input[l]||{},P=i.extendFlat({},f),F=f.start,I=n.r2l(N.start),L=I!==void 0;if((f.startFound||L)&&I!==n.r2l(F)){var R=L?I:i.aggNums(Math.min,null,y),z={type:n.type===`category`||n.type===`multicategory`?`linear`:n.type,r2l:n.r2l,dtick:f.size,tick0:F,calendar:v,range:[R,o.tickIncrement(R,f.size,!1,v)].map(n.l2r)},B=o.tickFirst(z);B>n.r2l(R)&&(B=o.tickIncrement(B,f.size,!0,v)),P.start=n.l2r(B),L||i.nestedProperty(t,l+`.start`).set(P.start)}var V=f.end,H=n.r2l(N.end),U=H!==void 0;if((f.endFound||U)&&H!==n.r2l(V)){var W=U?H:i.aggNums(Math.max,null,y);P.end=n.l2r(W),U||i.nestedProperty(t,l+`.start`).set(P.end)}var G=`autobin`+s;return t._input[G]===!1&&(t._input[l]=i.extendFlat({},t[l]||{}),delete t._input[G],delete t[G]),[P,y]}function m(e,t,n,r,a){var o=e._fullLayout,s=h(e,t),c=!1,l=1/0,u=[t],d,f,m;for(d=0;d<s.length;d++)if(f=s[d],f===t)c=!0;else if(!c)m=o._histogramBinOpts[f[`_`+r+`bingroup`]],l=Math.min(l,m.size||f[a].size);else{var g=p(e,f,n,r,!0),_=g[0],v=g[2];f[`_`+r+`autoBinFinished`]=1,f[`_`+r+`pos0`]=g[1],v?u.push(f):l=Math.min(l,_.size)}var y=Array(u.length);for(d=0;d<u.length;d++)for(var b=u[d][`_`+r+`pos0`],x=0;x<b.length;x++)if(b[x]!==void 0){y[d]=b[x];break}for(isFinite(l)||(l=i.distinctVals(y).minDiff),d=0;d<u.length;d++){f=u[d];var S=f[r+`calendar`],C={start:n.c2r(y[d]-l/2,0,S),end:n.c2r(y[d]+l/2,0,S),size:l};f._input[a]=f[a]=C,m=o._histogramBinOpts[f[`_`+r+`bingroup`]],m&&i.extendFlat(m,C)}return t[a]}function h(e,t){for(var n=t.xaxis,r=t.yaxis,i=t.orientation,a=[],o=e._fullData,s=0;s<o.length;s++){var c=o[s];c.type===`histogram`&&c.visible===!0&&c.orientation===i&&c.xaxis===n&&c.yaxis===r&&a.push(c)}return a}function g(e,t,n){var r,i,a;function o(t){a=e[t],e[t]/=2}function s(t){i=e[t],e[t]=a+i/2,a+=i}if(n===`half`)if(t===`increasing`)for(o(0),r=1;r<e.length;r++)s(r);else for(o(e.length-1),r=e.length-2;r>=0;r--)s(r);else if(t===`increasing`){for(r=1;r<e.length;r++)e[r]+=e[r-1];n===`exclude`&&(e.unshift(0),e.pop())}else{for(r=e.length-2;r>=0;r--)e[r]+=e[r+1];n===`exclude`&&(e.push(0),e.shift())}}e.exports={calc:f,calcAllAutoBins:p}}),72406:(function(e){e.exports={eventDataKeys:[`binNumber`]}}),82222:(function(e,t,n){var r=n(71828),i=n(41675),a=n(73972).traceIs,o=n(26125),s=r.nestedProperty,c=n(99082).getAxisGroup,l=[{aStr:{x:`xbins.start`,y:`ybins.start`},name:`start`},{aStr:{x:`xbins.end`,y:`ybins.end`},name:`end`},{aStr:{x:`xbins.size`,y:`ybins.size`},name:`size`},{aStr:{x:`nbinsx`,y:`nbinsy`},name:`nbins`}],u=[`x`,`y`];e.exports=function(e,t){var n=t._histogramBinOpts={},d=[],f={},p=[],m,h,g,_,v,y,b;function x(e,t){return r.coerce(m._input,m,m._module.attributes,e,t)}function S(e){return e.orientation===`v`?`x`:`y`}function C(e,n){return i.getFromTrace({_fullLayout:t},e,n).type}function w(e,t,i){var a=e.uid+`__`+i;t||=a;var o=C(e,i),s=e[i+`calendar`]||``,c=n[t],l=!0;c&&(o===c.axType&&s===c.calendar?(l=!1,c.traces.push(e),c.dirs.push(i)):(t=a,o!==c.axType&&r.warn([`Attempted to group the bins of trace`,e.index,`set on a`,`type:`+o,`axis`,`with bins on`,`type:`+c.axType,`axis.`].join(` `)),s!==c.calendar&&r.warn([`Attempted to group the bins of trace`,e.index,`set with a`,s,`calendar`,`with bins`,c.calendar?`on a `+c.calendar+` calendar`:`w/o a set calendar`].join(` `)))),l&&(n[t]={traces:[e],dirs:[i],axType:o,calendar:e[i+`calendar`]||``}),e[`_`+i+`bingroup`]=t}for(v=0;v<e.length;v++)m=e[v],a(m,`histogram`)&&(d.push(m),delete m._xautoBinFinished,delete m._yautoBinFinished,a(m,`2dMap`)||o(m._input,m,t,x));var T=t._alignmentOpts||{};for(v=0;v<d.length;v++){if(m=d[v],g=``,!a(m,`2dMap`)){if(_=S(m),t.barmode===`group`&&m.alignmentgroup){var E=m[_+`axis`],D=c(t,E)+m.orientation;(T[D]||{})[m.alignmentgroup]&&(g=D)}!g&&t.barmode!==`overlay`&&(g=c(t,m.xaxis)+c(t,m.yaxis)+S(m))}g?(f[g]||(f[g]=[]),f[g].push(m)):p.push(m)}for(g in f){if(h=f[g],h.length===1){p.push(h[0]);continue}var O=!1;for(h.length&&(m=h[0],O=x(`bingroup`)),g=O||g,v=0;v<h.length;v++){m=h[v];var k=m._input.bingroup;k&&k!==g&&r.warn([`Trace`,m.index,`must match`,`within bingroup`,g+`.`,`Ignoring its bingroup:`,k,`setting.`].join(` `)),m.bingroup=g,w(m,g,S(m))}}for(v=0;v<p.length;v++){m=p[v];var A=x(`bingroup`);if(a(m,`2dMap`))for(b=0;b<2;b++){_=u[b];var j=x(_+`bingroup`,A?A+`__`+_:null);w(m,j,_)}else w(m,A,S(m))}for(g in n){var M=n[g];for(h=M.traces,y=0;y<l.length;y++){var N=l[y],P=N.name,F,I;if(!(P===`nbins`&&M.sizeFound)){for(v=0;v<h.length;v++){if(m=h[v],_=M.dirs[v],F=N.aStr[_],s(m._input,F).get()!==void 0){M[P]=x(F),M[P+`Found`]=!0;break}I=(m._autoBin||{})[_]||{},I[P]&&s(m,F).set(I[P])}if(P===`start`||P===`end`)for(;v<h.length;v++)m=h[v],m[`_`+_+`bingroup`]&&(I=(m._autoBin||{})[_]||{},x(F,I[P]));P===`nbins`&&!M.sizeFound&&!M.nbinsFound&&(m=h[0],M[P]=x(F))}}}}}),11385:(function(e,t,n){var r=n(73972),i=n(71828),a=n(7901),o=n(90769).handleText,s=n(98340),c=n(7745);e.exports=function(e,t,n,l){function u(n,r){return i.coerce(e,t,c,n,r)}var d=u(`x`),f=u(`y`);u(`cumulative.enabled`)&&(u(`cumulative.direction`),u(`cumulative.currentbin`)),u(`text`),o(e,t,l,u,u(`textposition`),{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),u(`hovertext`),u(`hovertemplate`),u(`xhoverformat`),u(`yhoverformat`);var p=u(`orientation`,f&&!d?`h`:`v`),m=p===`v`?`x`:`y`,h=p===`v`?`y`:`x`,g=d&&f?Math.min(i.minRowLength(d)&&i.minRowLength(f)):i.minRowLength(t[m]||[]);if(!g){t.visible=!1;return}t._length=g,r.getComponentMethod(`calendars`,`handleTraceDefaults`)(e,t,[`x`,`y`],l),t[h]&&u(`histfunc`),u(`histnorm`),u(`autobin`+m),s(e,t,u,n,l),i.coerceSelectionMarkerOpacity(t,u);var _=(t.marker.line||{}).color,v=r.getComponentMethod(`errorbars`,`supplyDefaults`);v(e,t,_||a.defaultLine,{axis:`y`}),v(e,t,_||a.defaultLine,{axis:`x`,inherit:`y`})}}),84402:(function(e){e.exports=function(e,t,n,r,i){if(e.x=`xVal`in t?t.xVal:t.x,e.y=`yVal`in t?t.yVal:t.y,`zLabelVal`in t&&(e.z=t.zLabelVal),t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),!(n.cumulative||{}).enabled){var a=Array.isArray(i)?r[0].pts[i[0]][i[1]]:r[i].pts;e.pointNumbers=a,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var o;if(n._indexToPoints){o=[];for(var s=0;s<a.length;s++)o=o.concat(n._indexToPoints[a[s]])}else o=a;e.pointIndices=o}return e}}),76440:(function(e,t,n){var r=n(95423).hoverPoints,i=n(89298).hoverLabelText;e.exports=function(e,t,n,a,o){var s=r(e,t,n,a,o);if(s){e=s[0];var c=e.cd[e.index],l=e.cd[0].trace;if(!l.cumulative.enabled){var u=l.orientation===`h`?`y`:`x`;e[u+`Label`]=i(e[u+`a`],[c.ph0,c.ph1],l[u+`hoverformat`])}return s}}}),36071:(function(e,t,n){e.exports={attributes:n(7745),layoutAttributes:n(43641),supplyDefaults:n(11385),crossTraceDefaults:n(82222),supplyLayoutDefaults:n(13957),calc:n(72138).calc,crossTraceCalc:n(11661).crossTraceCalc,plot:n(17295).plot,layerName:`barlayer`,style:n(16688).style,styleOnSelect:n(16688).styleOnSelect,colorbar:n(4898),hoverPoints:n(76440),selectPoints:n(81974),eventData:n(84402),moduleType:`trace`,name:`histogram`,basePlotModule:n(93612),categories:[`bar-like`,`cartesian`,`svg`,`bar`,`histogram`,`oriented`,`errorBarsOK`,`showLegend`],meta:{}}}),36362:(function(e){e.exports={percent:function(e,t){for(var n=e.length,r=100/t,i=0;i<n;i++)e[i]*=r},probability:function(e,t){for(var n=e.length,r=0;r<n;r++)e[r]/=t},density:function(e,t,n,r){var i=e.length;r||=1;for(var a=0;a<i;a++)e[a]*=n[a]*r},"probability density":function(e,t,n,r){var i=e.length;r&&(t/=r);for(var a=0;a<i;a++)e[a]*=n[a]/t}}}),35361:(function(e,t,n){var r=n(7745),i=n(17656),a=n(21606),o=n(9012),s=n(12663).axisHoverFormat,c=n(5386).f,l=n(5386).s,u=n(50693),d=n(1426).extendFlat;e.exports=d({x:r.x,y:r.y,z:{valType:`data_array`,editType:`calc`},marker:{color:{valType:`data_array`,editType:`calc`},editType:`calc`},histnorm:r.histnorm,histfunc:r.histfunc,nbinsx:r.nbinsx,xbins:i(`x`),nbinsy:r.nbinsy,ybins:i(`y`),autobinx:r.autobinx,autobiny:r.autobiny,bingroup:d({},r.bingroup,{}),xbingroup:d({},r.bingroup,{}),ybingroup:d({},r.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:s(`x`),yhoverformat:s(`y`),zhoverformat:s(`z`,1),hovertemplate:c({},{keys:`z`}),texttemplate:l({arrayOk:!1,editType:`plot`},{keys:`z`}),textfont:a.textfont,showlegend:d({},o.showlegend,{dflt:!1})},u(``,{cLetter:`z`,autoColorDflt:!1}))}),17562:(function(e,t,n){var r=n(71828),i=n(89298),a=n(59575),o=n(36362),s=n(42174),c=n(40965),l=n(72138).calcAllAutoBins;e.exports=function(e,t){var n=i.getFromId(e,t.xaxis),c=i.getFromId(e,t.yaxis),p=t.xcalendar,m=t.ycalendar,h=function(e){return n.r2c(e,0,p)},g=function(e){return c.r2c(e,0,m)},_=function(e){return n.c2r(e,0,p)},v=function(e){return c.c2r(e,0,m)},y,b,x,S,C=l(e,t,n,`x`),w=C[0],T=C[1],E=l(e,t,c,`y`),D=E[0],O=E[1],k=t._length;T.length>k&&T.splice(k,T.length-k),O.length>k&&O.splice(k,O.length-k);var A=[],j=[],M=[],N=typeof w.size==`string`,P=typeof D.size==`string`,F=[],I=[],L=N?F:w,R=P?I:D,z=0,B=[],V=[],H=t.histnorm,U=t.histfunc,W=H.indexOf(`density`)!==-1,G=U===`max`||U===`min`?null:0,K=a.count,ee=o[H],q=!1,J=[],Y=[],te=`z`in t?t.z:`marker`in t&&Array.isArray(t.marker.color)?t.marker.color:``;te&&U!==`count`&&(q=U===`avg`,K=a[U]);var ne=w.size,re=h(w.start),ie=h(w.end)+(re-i.tickIncrement(re,ne,!1,p))/1e6;for(y=re;y<ie;y=i.tickIncrement(y,ne,!1,p))j.push(G),F.push(y),q&&M.push(0);F.push(y);var ae=j.length,oe=(y-re)/ae,se=_(re+oe/2),ce=D.size,le=g(D.start),ue=g(D.end)+(le-i.tickIncrement(le,ce,!1,m))/1e6;for(y=le;y<ue;y=i.tickIncrement(y,ce,!1,m)){A.push(j.slice()),I.push(y);var de=Array(ae);for(b=0;b<ae;b++)de[b]=[];V.push(de),q&&B.push(M.slice())}I.push(y);var fe=A.length,pe=(y-le)/fe,me=v(le+pe/2);W&&(J=u(j.length,L,oe,N),Y=u(A.length,R,pe,P)),!N&&n.type===`date`&&(L=d(h,L)),!P&&c.type===`date`&&(R=d(g,R));var he=!0,ge=!0,_e=Array(ae),ve=Array(fe),ye=1/0,be=1/0,xe=1/0,Se=1/0;for(y=0;y<k;y++){var Ce=T[y],we=O[y];x=r.findBin(Ce,L),S=r.findBin(we,R),x>=0&&x<ae&&S>=0&&S<fe&&(z+=K(x,y,A[S],te,B[S]),V[S][x].push(y),he&&(_e[x]===void 0?_e[x]=Ce:_e[x]!==Ce&&(he=!1)),ge&&(ve[S]===void 0?ve[S]=we:ve[S]!==we&&(ge=!1)),ye=Math.min(ye,Ce-F[x]),be=Math.min(be,F[x+1]-Ce),xe=Math.min(xe,we-I[S]),Se=Math.min(Se,I[S+1]-we))}if(q)for(S=0;S<fe;S++)z+=s(A[S],B[S]);if(ee)for(S=0;S<fe;S++)ee(A[S],z,J,Y[S]);return{x:T,xRanges:f(F,he&&_e,ye,be,n,p),x0:se,dx:oe,y:O,yRanges:f(I,ge&&ve,xe,Se,c,m),y0:me,dy:pe,z:A,pts:V}};function u(e,t,n,r){var i=Array(e),a;if(r)for(a=0;a<e;a++)i[a]=1/(t[a+1]-t[a]);else{var o=1/n;for(a=0;a<e;a++)i[a]=o}return i}function d(e,t){return{start:e(t.start),end:e(t.end),size:t.size}}function f(e,t,n,r,i,a){var o,s=e.length-1,l=Array(s),u=c(n,r,e,i,a);for(o=0;o<s;o++){var d=(t||[])[o];l[o]=d===void 0?[u(e[o]),u(e[o+1],!0)]:[d,d]}return l}}),93888:(function(e,t,n){var r=n(71828),i=n(75238),a=n(49901),o=n(1586),s=n(58623),c=n(35361);e.exports=function(e,t,n,l){function u(n,i){return r.coerce(e,t,c,n,i)}i(e,t,u,l),t.visible!==!1&&(a(e,t,u,l),o(e,t,l,u,{prefix:``,cLetter:`z`}),u(`hovertemplate`),s(u,l),u(`xhoverformat`),u(`yhoverformat`))}}),76128:(function(e,t,n){var r=n(46248),i=n(89298).hoverLabelText;e.exports=function(e,t,n,a,o){var s=r(e,t,n,a,o);if(s){e=s[0];var c=e.index,l=c[0],u=c[1],d=e.cd[0],f=d.trace,p=d.xRanges[u],m=d.yRanges[l];return e.xLabel=i(e.xa,[p[0],p[1]],f.xhoverformat),e.yLabel=i(e.ya,[m[0],m[1]],f.yhoverformat),s}}}),43905:(function(e,t,n){e.exports={attributes:n(35361),supplyDefaults:n(93888),crossTraceDefaults:n(82222),calc:n(90757),plot:n(50347),layerName:`heatmaplayer`,colorbar:n(61243),style:n(70035),hoverPoints:n(76128),eventData:n(84402),moduleType:`trace`,name:`histogram2d`,basePlotModule:n(93612),categories:[`cartesian`,`svg`,`2dMap`,`histogram`,`showLegend`],meta:{}}}),75238:(function(e,t,n){var r=n(73972),i=n(71828);e.exports=function(e,t,n,a){var o=n(`x`),s=n(`y`),c=i.minRowLength(o),l=i.minRowLength(s);if(!c||!l){t.visible=!1;return}t._length=Math.min(c,l),r.getComponentMethod(`calendars`,`handleTraceDefaults`)(e,t,[`x`,`y`],a),(n(`z`)||n(`marker.color`))&&n(`histfunc`),n(`histnorm`),n(`autobinx`),n(`autobiny`)}}),99066:(function(e,t,n){var r=n(35361),i=n(70600),a=n(50693),o=n(12663).axisHoverFormat,s=n(1426).extendFlat;e.exports=s({x:r.x,y:r.y,z:r.z,marker:r.marker,histnorm:r.histnorm,histfunc:r.histfunc,nbinsx:r.nbinsx,xbins:r.xbins,nbinsy:r.nbinsy,ybins:r.ybins,autobinx:r.autobinx,autobiny:r.autobiny,bingroup:r.bingroup,xbingroup:r.xbingroup,ybingroup:r.ybingroup,autocontour:i.autocontour,ncontours:i.ncontours,contours:i.contours,line:{color:i.line.color,width:s({},i.line.width,{dflt:.5}),dash:i.line.dash,smoothing:i.line.smoothing,editType:`plot`},xhoverformat:o(`x`),yhoverformat:o(`y`),zhoverformat:o(`z`,1),hovertemplate:r.hovertemplate,texttemplate:i.texttemplate,textfont:i.textfont},a(``,{cLetter:`z`,editTypeOverride:`calc`}))}),62654:(function(e,t,n){var r=n(71828),i=n(75238),a=n(67217),o=n(8724),s=n(58623),c=n(99066);e.exports=function(e,t,n,l){function u(n,i){return r.coerce(e,t,c,n,i)}function d(n){return r.coerce2(e,t,c,n)}i(e,t,u,l),t.visible!==!1&&(a(e,t,u,d),o(e,t,u,l),u(`xhoverformat`),u(`yhoverformat`),u(`hovertemplate`),t.contours&&t.contours.coloring===`heatmap`&&s(u,l))}}),35902:(function(e,t,n){e.exports={attributes:n(99066),supplyDefaults:n(62654),crossTraceDefaults:n(82222),calc:n(27529),plot:n(29854).plot,layerName:`contourlayer`,style:n(84426),colorbar:n(90654),hoverPoints:n(52421),moduleType:`trace`,name:`histogram2dcontour`,basePlotModule:n(93612),categories:[`cartesian`,`svg`,`2dMap`,`contour`,`histogram`,`showLegend`],meta:{}}}),46291:(function(e,t,n){var r=n(5386).f,i=n(5386).s,a=n(50693),o=n(27670).Y,s=n(34e3),c=n(57564),l=n(45802),u=n(43473),d=n(1426).extendFlat;e.exports={labels:c.labels,parents:c.parents,values:c.values,branchvalues:c.branchvalues,count:c.count,level:c.level,maxdepth:c.maxdepth,tiling:{orientation:{valType:`enumerated`,values:[`v`,`h`],dflt:`h`,editType:`plot`},flip:l.tiling.flip,pad:{valType:`number`,min:0,dflt:0,editType:`plot`},editType:`calc`},marker:d({colors:c.marker.colors,line:c.marker.line,editType:`calc`},a(`marker`,{colorAttr:`colors`,anim:!1})),leaf:c.leaf,pathbar:l.pathbar,text:s.text,textinfo:c.textinfo,texttemplate:i({editType:`plot`},{keys:u.eventDataKeys.concat([`label`,`value`])}),hovertext:s.hovertext,hoverinfo:c.hoverinfo,hovertemplate:r({},{keys:u.eventDataKeys}),textfont:s.textfont,insidetextfont:s.insidetextfont,outsidetextfont:l.outsidetextfont,textposition:l.textposition,sort:s.sort,root:c.root,domain:o({name:`icicle`,trace:!0,editType:`calc`})}}),96346:(function(e,t,n){var r=n(74875);t.name=`icicle`,t.plot=function(e,n,i,a){r.plotBasePlot(t.name,e,n,i,a)},t.clean=function(e,n,i,a){r.cleanBasePlot(t.name,e,n,i,a)}}),46584:(function(e,t,n){var r=n(52147);t.y=function(e,t){return r.calc(e,t)},t.T=function(e){return r._runCrossTraceCalc(`icicle`,e)}}),56524:(function(e,t,n){var r=n(71828),i=n(46291),a=n(7901),o=n(27670).c,s=n(90769).handleText,c=n(97313).TEXTPAD,l=n(21081),u=l.hasColorscale,d=l.handleDefaults;e.exports=function(e,t,n,l){function f(n,a){return r.coerce(e,t,i,n,a)}var p=f(`labels`),m=f(`parents`);if(!p||!p.length||!m||!m.length){t.visible=!1;return}var h=f(`values`);h&&h.length?f(`branchvalues`):f(`count`),f(`level`),f(`maxdepth`),f(`tiling.orientation`),f(`tiling.flip`),f(`tiling.pad`);var g=f(`text`);f(`texttemplate`),t.texttemplate||f(`textinfo`,Array.isArray(g)?`text+label`:`label`),f(`hovertext`),f(`hovertemplate`);var _=f(`pathbar.visible`);s(e,t,l,f,`auto`,{hasPathbar:_,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),f(`textposition`),f(`marker.line.width`)&&f(`marker.line.color`,l.paper_bgcolor),f(`marker.colors`);var v=t._hasColorscale=u(e,`marker`,`colors`)||(e.marker||{}).coloraxis;v&&d(e,t,l,f,{prefix:`marker.`,cLetter:`c`}),f(`leaf.opacity`,v?1:.7),t._hovered={marker:{line:{width:2,color:a.contrast(l.paper_bgcolor)}}},_&&(f(`pathbar.thickness`,t.pathbar.textfont.size+2*c),f(`pathbar.side`),f(`pathbar.edgeshape`)),f(`sort`),f(`root.color`),o(t,l,f),t._length=null}}),90666:(function(e,t,n){var r=n(39898),i=n(71828),a=n(91424),o=n(63893),s=n(21538),c=n(82454).styleOne,l=n(43473),u=n(2791),d=n(83523),f=n(24714).formatSliceLabel,p=!1;e.exports=function(e,t,n,m,h){var g=h.width,_=h.height,v=h.viewX,y=h.viewY,b=h.pathSlice,x=h.toMoveInsideSlice,S=h.strTransform,C=h.hasTransition,w=h.handleSlicesExit,T=h.makeUpdateSliceInterpolator,E=h.makeUpdateTextInterpolator,D=h.prevEntry,O={},k=e._context.staticPlot,A=e._fullLayout,j=t[0].trace,M=j.textposition.indexOf(`left`)!==-1,N=j.textposition.indexOf(`right`)!==-1,P=j.textposition.indexOf(`bottom`)!==-1,F=s(n,[g,_],{flipX:j.tiling.flip.indexOf(`x`)>-1,flipY:j.tiling.flip.indexOf(`y`)>-1,orientation:j.tiling.orientation,pad:{inner:j.tiling.pad},maxDepth:j._maxDepth}).descendants(),I=1/0,L=-1/0;F.forEach(function(e){var t=e.depth;t>=j._maxDepth?(e.x0=e.x1=(e.x0+e.x1)/2,e.y0=e.y1=(e.y0+e.y1)/2):(I=Math.min(I,t),L=Math.max(L,t))}),m=m.data(F,u.getPtId),j._maxVisibleLayers=isFinite(L)?L-I+1:0,m.enter().append(`g`).classed(`slice`,!0),w(m,p,O,[g,_],b),m.order();var R=null;if(C&&D){var z=u.getPtId(D);m.each(function(e){R===null&&u.getPtId(e)===z&&(R={x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1})})}var B=function(){return R||{x0:0,x1:g,y0:0,y1:_}},V=m;return C&&(V=V.transition().each(`end`,function(){var t=r.select(this);u.setSliceCursor(t,e,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),V.each(function(s){s._x0=v(s.x0),s._x1=v(s.x1),s._y0=y(s.y0),s._y1=y(s.y1),s._hoverX=v(s.x1-j.tiling.pad),s._hoverY=y(P?s.y1-j.tiling.pad/2:s.y0+j.tiling.pad/2);var m=r.select(this),h=i.ensureSingle(m,`path`,`surface`,function(e){e.style(`pointer-events`,k?`none`:`all`)});C?h.transition().attrTween(`d`,function(e){var t=T(e,p,B(),[g,_],{orientation:j.tiling.orientation,flipX:j.tiling.flip.indexOf(`x`)>-1,flipY:j.tiling.flip.indexOf(`y`)>-1});return function(e){return b(t(e))}}):h.attr(`d`,b),m.call(d,n,e,t,{styleOne:c,eventDataKeys:l.eventDataKeys,transitionTime:l.CLICK_TRANSITION_TIME,transitionEasing:l.CLICK_TRANSITION_EASING}).call(u.setSliceCursor,e,{isTransitioning:e._transitioning}),h.call(c,s,j,{hovered:!1}),s.x0===s.x1||s.y0===s.y1?s._text=``:s._text=f(s,n,j,t,A)||``;var w=i.ensureSingle(m,`g`,`slicetext`),D=i.ensureSingle(w,`text`,``,function(e){e.attr(`data-notex`,1)}),O=i.ensureUniformFontSize(e,u.determineTextFont(j,s,A.font));D.text(s._text||` `).classed(`slicetext`,!0).attr(`text-anchor`,N?`end`:M?`start`:`middle`).call(a.font,O).call(o.convertToTspans,e),s.textBB=a.bBox(D.node()),s.transform=x(s,{fontSize:O.size}),s.transform.fontSize=O.size,C?D.transition().attrTween(`transform`,function(e){var t=E(e,p,B(),[g,_]);return function(e){return S(t(e))}}):D.attr(`transform`,S(s))}),R}}),69816:(function(e,t,n){e.exports={moduleType:`trace`,name:`icicle`,basePlotModule:n(96346),categories:[],animatable:!0,attributes:n(46291),layoutAttributes:n(92894),supplyDefaults:n(56524),supplyLayoutDefaults:n(21070),calc:n(46584).y,crossTraceCalc:n(46584).T,plot:n(85596),style:n(82454).style,colorbar:n(4898),meta:{}}}),92894:(function(e){e.exports={iciclecolorway:{valType:`colorlist`,editType:`calc`},extendiciclecolors:{valType:`boolean`,dflt:!0,editType:`calc`}}}),21070:(function(e,t,n){var r=n(71828),i=n(92894);e.exports=function(e,t){function n(n,a){return r.coerce(e,t,i,n,a)}n(`iciclecolorway`,t.colorway),n(`extendiciclecolors`)}}),21538:(function(e,t,n){var r=n(674),i=n(14102);e.exports=function(e,t,n){var a=n.flipX,o=n.flipY,s=n.orientation===`h`,c=n.maxDepth,l=t[0],u=t[1];c&&(l=(e.height+1)*t[0]/Math.min(e.height+1,c),u=(e.height+1)*t[1]/Math.min(e.height+1,c));var d=r.partition().padding(n.pad.inner).size(s?[t[1],l]:[t[0],u])(e);return(s||a||o)&&i(d,t,{swapXY:s,flipX:a,flipY:o}),d}}),85596:(function(e,t,n){var r=n(80694),i=n(90666);e.exports=function(e,t,n,a){return r(e,t,n,a,{type:`icicle`,drawDescendants:i})}}),82454:(function(e,t,n){var r=n(39898),i=n(7901),a=n(71828),o=n(72597).resizeText;function s(e){var t=e._fullLayout._iciclelayer.selectAll(`.trace`);o(e,t,`icicle`),t.each(function(e){var t=r.select(this),n=e[0].trace;t.style(`opacity`,n.opacity),t.selectAll(`path.surface`).each(function(e){r.select(this).call(c,e,n)})})}function c(e,t,n){var r=t.data.data,o=!t.children,s=r.i,c=a.castOption(n,s,`marker.line.color`)||i.defaultLine,l=a.castOption(n,s,`marker.line.width`)||0;e.style(`stroke-width`,l).call(i.fill,r.color).call(i.stroke,c).style(`opacity`,o?n.leaf.opacity:null)}e.exports={style:s,styleOne:c}}),17230:(function(e,t,n){for(var r=n(9012),i=n(5386).f,a=n(1426).extendFlat,o=n(51877).colormodel,s=[`rgb`,`rgba`,`rgba256`,`hsl`,`hsla`],c=[],l=[],u=0;u<s.length;u++){var d=o[s[u]];c.push("For the `"+s[u]+"` colormodel, it is ["+(d.zminDflt||d.min).join(`, `)+`].`),l.push("For the `"+s[u]+"` colormodel, it is ["+(d.zmaxDflt||d.max).join(`, `)+`].`)}e.exports=a({source:{valType:`string`,editType:`calc`},z:{valType:`data_array`,editType:`calc`},colormodel:{valType:`enumerated`,values:s,editType:`calc`},zsmooth:{valType:`enumerated`,values:[`fast`,!1],dflt:!1,editType:`plot`},zmin:{valType:`info_array`,items:[{valType:`number`,editType:`calc`},{valType:`number`,editType:`calc`},{valType:`number`,editType:`calc`},{valType:`number`,editType:`calc`}],editType:`calc`},zmax:{valType:`info_array`,items:[{valType:`number`,editType:`calc`},{valType:`number`,editType:`calc`},{valType:`number`,editType:`calc`},{valType:`number`,editType:`calc`}],editType:`calc`},x0:{valType:`any`,dflt:0,editType:`calc+clearAxisTypes`},y0:{valType:`any`,dflt:0,editType:`calc+clearAxisTypes`},dx:{valType:`number`,dflt:1,editType:`calc`},dy:{valType:`number`,dflt:1,editType:`calc`},text:{valType:`data_array`,editType:`plot`},hovertext:{valType:`data_array`,editType:`plot`},hoverinfo:a({},r.hoverinfo,{flags:[`x`,`y`,`z`,`color`,`name`,`text`],dflt:`x+y+z+text+name`}),hovertemplate:i({},{keys:[`z`,`color`,`colormodel`]}),transforms:void 0})}),71113:(function(e,t,n){var r=n(71828),i=n(51877),a=n(92770),o=n(89298),s=n(71828).maxRowLength,c=n(67395).A;e.exports=function(e,t){var n,r;if(t._hasZ)n=t.z.length,r=s(t.z);else if(t._hasSource){var i=c(t.source);n=i.height,r=i.width}var a=o.getFromId(e,t.xaxis||`x`),l=o.getFromId(e,t.yaxis||`y`),u=a.d2c(t.x0)-t.dx/2,f=l.d2c(t.y0)-t.dy/2,p,m=[u,u+r*t.dx],h=[f,f+n*t.dy];if(a&&a.type===`log`)for(p=0;p<r;p++)m.push(u+p*t.dx);if(l&&l.type===`log`)for(p=0;p<n;p++)h.push(f+p*t.dy);return t._extremes[a._id]=o.findExtremes(a,m),t._extremes[l._id]=o.findExtremes(l,h),t._scaler=d(t),[{x0:u,y0:f,z:t.z,w:r,h:n}]};function l(e,t,n,i){return function(a){return r.constrain((a-e)*t,n,i)}}function u(e,t){return function(n){return r.constrain(n,e,t)}}function d(e){var t=i.colormodel[e.colormodel],n=(t.colormodel||e.colormodel).length;e._sArray=[];for(var r=0;r<n;r++)t.min[r]!==e.zmin[r]||t.max[r]!==e.zmax[r]?e._sArray.push(l(e.zmin[r],(t.max[r]-t.min[r])/(e.zmax[r]-e.zmin[r]),t.min[r],t.max[r])):e._sArray.push(u(t.min[r],t.max[r]));return function(t){for(var r=t.slice(0,n),i=0;i<n;i++){var o=r[i];if(!a(o))return!1;r[i]=e._sArray[i](o)}return r}}}),51877:(function(e){e.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(e){return e.slice(0,3)},suffix:[``,``,``]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(e){return e.slice(0,4)},suffix:[``,``,``,``]},rgba256:{colormodel:`rgba`,zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(e){return e.slice(0,4)},suffix:[``,``,``,``]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(e){var t=e.slice(0,3);return t[1]+=`%`,t[2]+=`%`,t},suffix:[``,`%`,`%`]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(e){var t=e.slice(0,4);return t[1]+=`%`,t[2]+=`%`,t},suffix:[``,`%`,`%`,``]}},pixelatedStyle:[`image-rendering: optimizeSpeed`,`image-rendering: -moz-crisp-edges`,`image-rendering: -o-crisp-edges`,`image-rendering: -webkit-optimize-contrast`,`image-rendering: optimize-contrast`,`image-rendering: crisp-edges`,`image-rendering: pixelated`,``].join(`; `)}}),13245:(function(e,t,n){var r=n(71828),i=n(17230),a=n(51877),o=n(25095).IMAGE_URL_PREFIX;e.exports=function(e,t){function n(n,a){return r.coerce(e,t,i,n,a)}n(`source`),t.source&&!t.source.match(o)&&delete t.source,t._hasSource=!!t.source;var s=n(`z`);if(t._hasZ=!(s===void 0||!s.length||!s[0]||!s[0].length),!t._hasZ&&!t._hasSource){t.visible=!1;return}n(`x0`),n(`y0`),n(`dx`),n(`dy`);var c;t._hasZ?(n(`colormodel`,`rgb`),c=a.colormodel[t.colormodel],n(`zmin`,c.zminDflt||c.min),n(`zmax`,c.zmaxDflt||c.max)):t._hasSource&&(t.colormodel=`rgba256`,c=a.colormodel[t.colormodel],t.zmin=c.zminDflt,t.zmax=c.zmaxDflt),n(`zsmooth`),n(`text`),n(`hovertext`),n(`hovertemplate`),t._length=null}}),30835:(function(e){e.exports=function(e,t){return`xVal`in t&&(e.x=t.xVal),`yVal`in t&&(e.y=t.yVal),t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),e.color=t.color,e.colormodel=t.trace.colormodel,e.z||=t.color,e}}),67395:(function(e,t,n){var r=n(33575),i=n(25095).IMAGE_URL_PREFIX,a=n(12856).Buffer;t.A=function(e){return r(new a(e.replace(i,``),`base64`))}}),28749:(function(e,t,n){var r=n(30211),i=n(71828),a=n(51877);e.exports=function(e,t,n){var o=e.cd[0],s=o.trace,c=e.xa,l=e.ya;if(!(r.inbox(t-o.x0,t-(o.x0+o.w*s.dx),0)>0||r.inbox(n-o.y0,n-(o.y0+o.h*s.dy),0)>0)){var u=Math.floor((t-o.x0)/s.dx),d=Math.floor(Math.abs(n-o.y0)/s.dy),f;if(s._hasZ?f=o.z[d][u]:s._hasSource&&(f=s._canvas.el.getContext(`2d`,{willReadFrequently:!0}).getImageData(u,d,1,1).data),f){var p=o.hi||s.hoverinfo,m;if(p){var h=p.split(`+`);h.indexOf(`all`)!==-1&&(h=[`color`]),h.indexOf(`color`)!==-1&&(m=!0)}var g=a.colormodel[s.colormodel],_=g.colormodel||s.colormodel,v=_.length,y=s._scaler(f),b=g.suffix,x=[];(s.hovertemplate||m)&&(x.push(`[`+[y[0]+b[0],y[1]+b[1],y[2]+b[2]].join(`, `)),v===4&&x.push(`, `+y[3]+b[3]),x.push(`]`),x=x.join(``),e.extraText=_.toUpperCase()+`: `+x);var S;Array.isArray(s.hovertext)&&Array.isArray(s.hovertext[d])?S=s.hovertext[d][u]:Array.isArray(s.text)&&Array.isArray(s.text[d])&&(S=s.text[d][u]);var C=l.c2p(o.y0+(d+.5)*s.dy),w=o.x0+(u+.5)*s.dx,T=o.y0+(d+.5)*s.dy,E=`[`+f.slice(0,s.colormodel.length).join(`, `)+`]`;return[i.extendFlat(e,{index:[d,u],x0:c.c2p(o.x0+u*s.dx),x1:c.c2p(o.x0+(u+1)*s.dx),y0:C,y1:C,color:y,xVal:w,xLabelVal:w,yVal:T,yLabelVal:T,zLabelVal:E,text:S,hovertemplateLabels:{zLabel:E,colorLabel:x,"color[0]Label":y[0]+b[0],"color[1]Label":y[1]+b[1],"color[2]Label":y[2]+b[2],"color[3]Label":y[3]+b[3]}})]}}}}),94507:(function(e,t,n){e.exports={attributes:n(17230),supplyDefaults:n(13245),calc:n(71113),plot:n(60775),style:n(12826),hoverPoints:n(28749),eventData:n(30835),moduleType:`trace`,name:`image`,basePlotModule:n(93612),categories:[`cartesian`,`svg`,`2dMap`,`noSortingByValue`],animatable:!1,meta:{}}}),60775:(function(e,t,n){var r=n(39898),i=n(71828),a=i.strTranslate,o=n(77922),s=n(51877),c=i.isIOS()||i.isSafari()||i.isIE();e.exports=function(e,t,n,l){var u=t.xaxis,d=t.yaxis,f=!(c||e._context._exportedPlot);i.makeTraceGroups(l,n,`im`).each(function(t){var n=r.select(this),c=t[0],l=c.trace,p=(l.zsmooth===`fast`||l.zsmooth===!1&&f)&&!l._hasZ&&l._hasSource&&u.type===`linear`&&d.type===`linear`;l._realImage=p;for(var m=c.z,h=c.x0,g=c.y0,_=c.w,v=c.h,y=l.dx,b=l.dy,x,S,C,w,T,E=0;x===void 0&&E<_;)x=u.c2p(h+E*y),E++;for(E=_;S===void 0&&E>0;)S=u.c2p(h+E*y),E--;for(E=0;w===void 0&&E<v;)w=d.c2p(g+E*b),E++;for(E=v;T===void 0&&E>0;)T=d.c2p(g+E*b),E--;if(S<x&&(C=S,S=x,x=C),T<w&&(C=w,w=T,T=C),!p){var D=.5;x=Math.max(-D*u._length,x),S=Math.min((1+D)*u._length,S),w=Math.max(-D*d._length,w),T=Math.min((1+D)*d._length,T)}var O=Math.round(S-x),k=Math.round(T-w);if(O<=0||k<=0){n.selectAll(`image`).data([]).exit().remove();return}function A(e){var t=document.createElement(`canvas`);t.width=O,t.height=k;var n=t.getContext(`2d`,{willReadFrequently:!0}),r=function(e){return i.constrain(Math.round(u.c2p(h+e*y)-x),0,O)},a=function(e){return i.constrain(Math.round(d.c2p(g+e*b)-w),0,k)},o=s.colormodel[l.colormodel],f=o.colormodel||l.colormodel,p=o.fmt,m;for(E=0;E<c.w;E++){var _=r(E),v=r(E+1);if(!(v===_||isNaN(v)||isNaN(_)))for(var S=0;S<c.h;S++){var C=a(S),T=a(S+1);T===C||isNaN(T)||isNaN(C)||!e(E,S)||(m=l._scaler(e(E,S)),m?n.fillStyle=f+`(`+p(m).join(`,`)+`)`:n.fillStyle=`rgba(0,0,0,0)`,n.fillRect(_,C,v-_,T-C))}}return t}var j=n.selectAll(`image`).data([t]);j.enter().append(`svg:image`).attr({xmlns:o.svg,preserveAspectRatio:`none`}),j.exit().remove();var M=l.zsmooth===!1?s.pixelatedStyle:``;if(p){var N=i.simpleMap(u.range,u.r2l),P=i.simpleMap(d.range,d.r2l),F=N[1]<N[0],I=P[1]>P[0];if(F||I){var L=x+O/2,R=w+k/2;M+=`transform:`+a(L+`px`,R+`px`)+`scale(`+(F?-1:1)+`,`+(I?-1:1)+`)`+a(-L+`px`,-R+`px`)+`;`}}j.attr(`style`,M);var z=new Promise(function(e){if(l._hasZ)e();else if(l._hasSource)if(l._canvas&&l._canvas.el.width===_&&l._canvas.el.height===v&&l._canvas.source===l.source)e();else{var t=document.createElement(`canvas`);t.width=_,t.height=v;var n=t.getContext(`2d`,{willReadFrequently:!0});l._image=l._image||new Image;var r=l._image;r.onload=function(){n.drawImage(r,0,0),l._canvas={el:t,source:l.source},e()},r.setAttribute(`src`,l.source)}}).then(function(){var e,t;if(l._hasZ)t=A(function(e,t){return m[t][e]}),e=t.toDataURL(`image/png`);else if(l._hasSource)if(p)e=l.source;else{var n=l._canvas.el.getContext(`2d`,{willReadFrequently:!0}).getImageData(0,0,_,v).data;t=A(function(e,t){var r=4*(t*_+e);return[n[r],n[r+1],n[r+2],n[r+3]]}),e=t.toDataURL(`image/png`)}j.attr({"xlink:href":e,height:k,width:O,x,y:w})});e._promises.push(z)})}}),12826:(function(e,t,n){var r=n(39898);e.exports=function(e){r.select(e).selectAll(`.im image`).style(`opacity`,function(e){return e[0].trace.opacity})}}),54846:(function(e,t,n){var r=n(1426).extendFlat,i=n(1426).extendDeep,a=n(30962).overrideAll,o=n(41940),s=n(22399),c=n(27670).Y,l=n(13838),u=n(44467).templatedArray,d=n(22372),f=n(12663).descriptionOnlyNumbers,p=o({editType:`plot`,colorEditType:`plot`}),m={color:{valType:`color`,editType:`plot`},line:{color:{valType:`color`,dflt:s.defaultLine,editType:`plot`},width:{valType:`number`,min:0,dflt:0,editType:`plot`},editType:`calc`},thickness:{valType:`number`,min:0,max:1,dflt:1,editType:`plot`},editType:`calc`},h={valType:`info_array`,items:[{valType:`number`,editType:`plot`},{valType:`number`,editType:`plot`}],editType:`plot`},g=u(`step`,i({},m,{range:h}));e.exports={mode:{valType:`flaglist`,editType:`calc`,flags:[`number`,`delta`,`gauge`],dflt:`number`},value:{valType:`number`,editType:`calc`,anim:!0},align:{valType:`enumerated`,values:[`left`,`center`,`right`],editType:`plot`},domain:c({name:`indicator`,trace:!0,editType:`calc`}),title:{text:{valType:`string`,editType:`plot`},align:{valType:`enumerated`,values:[`left`,`center`,`right`],editType:`plot`},font:r({},p,{}),editType:`plot`},number:{valueformat:{valType:`string`,dflt:``,editType:`plot`,description:f(`value`)},font:r({},p,{}),prefix:{valType:`string`,dflt:``,editType:`plot`},suffix:{valType:`string`,dflt:``,editType:`plot`},editType:`plot`},delta:{reference:{valType:`number`,editType:`calc`},position:{valType:`enumerated`,values:[`top`,`bottom`,`left`,`right`],dflt:`bottom`,editType:`plot`},relative:{valType:`boolean`,editType:`plot`,dflt:!1},valueformat:{valType:`string`,editType:`plot`,description:f(`value`)},increasing:{symbol:{valType:`string`,dflt:d.INCREASING.SYMBOL,editType:`plot`},color:{valType:`color`,dflt:d.INCREASING.COLOR,editType:`plot`},editType:`plot`},decreasing:{symbol:{valType:`string`,dflt:d.DECREASING.SYMBOL,editType:`plot`},color:{valType:`color`,dflt:d.DECREASING.COLOR,editType:`plot`},editType:`plot`},font:r({},p,{}),prefix:{valType:`string`,dflt:``,editType:`plot`},suffix:{valType:`string`,dflt:``,editType:`plot`},editType:`calc`},gauge:{shape:{valType:`enumerated`,editType:`plot`,dflt:`angular`,values:[`angular`,`bullet`]},bar:i({},m,{color:{dflt:`green`}}),bgcolor:{valType:`color`,editType:`plot`},bordercolor:{valType:`color`,dflt:s.defaultLine,editType:`plot`},borderwidth:{valType:`number`,min:0,dflt:1,editType:`plot`},axis:a({range:h,visible:r({},l.visible,{dflt:!0}),tickmode:l.minor.tickmode,nticks:l.nticks,tick0:l.tick0,dtick:l.dtick,tickvals:l.tickvals,ticktext:l.ticktext,ticks:r({},l.ticks,{dflt:`outside`}),ticklen:l.ticklen,tickwidth:l.tickwidth,tickcolor:l.tickcolor,ticklabelstep:l.ticklabelstep,showticklabels:l.showticklabels,labelalias:l.labelalias,tickfont:o({}),tickangle:l.tickangle,tickformat:l.tickformat,tickformatstops:l.tickformatstops,tickprefix:l.tickprefix,showtickprefix:l.showtickprefix,ticksuffix:l.ticksuffix,showticksuffix:l.showticksuffix,separatethousands:l.separatethousands,exponentformat:l.exponentformat,minexponent:l.minexponent,showexponent:l.showexponent,editType:`plot`},`plot`),steps:g,threshold:{line:{color:r({},m.line.color,{}),width:r({},m.line.width,{dflt:1}),editType:`plot`},thickness:r({},m.thickness,{dflt:.85}),value:{valType:`number`,editType:`calc`,dflt:!1},editType:`plot`},editType:`plot`}}}),15970:(function(e,t,n){var r=n(74875);t.name=`indicator`,t.plot=function(e,n,i,a){r.plotBasePlot(t.name,e,n,i,a)},t.clean=function(e,n,i,a){r.cleanBasePlot(t.name,e,n,i,a)}}),24667:(function(e){function t(e,t){var n=[],r=t.value;typeof t._lastValue!=`number`&&(t._lastValue=t.value);var i=t._lastValue,a=i;return t._hasDelta&&typeof t.delta.reference==`number`&&(a=t.delta.reference),n[0]={y:r,lastY:i,delta:r-a,relativeDelta:(r-a)/a},n}e.exports={calc:t}}),84577:(function(e){e.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}}),94425:(function(e,t,n){var r=n(71828),i=n(54846),a=n(27670).c,o=n(44467),s=n(85501),c=n(84577),l=n(26218),u=n(38701),d=n(96115),f=n(89426);function p(e,t,n,p){function h(n,a){return r.coerce(e,t,i,n,a)}a(t,p,h),h(`mode`),t._hasNumber=t.mode.indexOf(`number`)!==-1,t._hasDelta=t.mode.indexOf(`delta`)!==-1,t._hasGauge=t.mode.indexOf(`gauge`)!==-1;var g=h(`value`);t._range=[0,typeof g==`number`?1.5*g:1];var _=[,,],v;t._hasNumber&&(h(`number.valueformat`),h(`number.font.color`,p.font.color),h(`number.font.family`,p.font.family),h(`number.font.size`),t.number.font.size===void 0&&(t.number.font.size=c.defaultNumberFontSize,_[0]=!0),h(`number.prefix`),h(`number.suffix`),v=t.number.font.size);var y;t._hasDelta&&(h(`delta.font.color`,p.font.color),h(`delta.font.family`,p.font.family),h(`delta.font.size`),t.delta.font.size===void 0&&(t.delta.font.size=(t._hasNumber?.5:1)*(v||c.defaultNumberFontSize),_[1]=!0),h(`delta.reference`,t.value),h(`delta.relative`),h(`delta.valueformat`,t.delta.relative?`2%`:``),h(`delta.increasing.symbol`),h(`delta.increasing.color`),h(`delta.decreasing.symbol`),h(`delta.decreasing.color`),h(`delta.position`),h(`delta.prefix`),h(`delta.suffix`),y=t.delta.font.size),t._scaleNumbers=(!t._hasNumber||_[0])&&(!t._hasDelta||_[1])||!1,h(`title.font.color`,p.font.color),h(`title.font.family`,p.font.family),h(`title.font.size`,.25*(v||y||c.defaultNumberFontSize)),h(`title.text`);var b,x,S,C;function w(e,t){return r.coerce(b,x,i.gauge,e,t)}function T(e,t){return r.coerce(S,C,i.gauge.axis,e,t)}if(t._hasGauge){b=e.gauge,b||={},x=o.newContainer(t,`gauge`),w(`shape`),(t._isBullet=t.gauge.shape===`bullet`)||h(`title.align`,`center`),(t._isAngular=t.gauge.shape===`angular`)||h(`align`,`center`),w(`bgcolor`,p.paper_bgcolor),w(`borderwidth`),w(`bordercolor`),w(`bar.color`),w(`bar.line.color`),w(`bar.line.width`),w(`bar.thickness`,c.valueThickness*(t.gauge.shape===`bullet`?.5:1)),s(b,x,{name:`steps`,handleItemDefaults:m}),w(`threshold.value`),w(`threshold.thickness`),w(`threshold.line.width`),w(`threshold.line.color`),S={},b&&(S=b.axis||{}),C=o.newContainer(x,`axis`),T(`visible`),t._range=T(`range`,t._range);var E={outerTicks:!0};l(S,C,T,`linear`),f(S,C,T,`linear`,E),d(S,C,T,`linear`,E),u(S,C,T,E)}else h(`title.align`,`center`),h(`align`,`center`),t._isAngular=t._isBullet=!1;t._length=null}function m(e,t){function n(n,a){return r.coerce(e,t,i.gauge.steps,n,a)}n(`color`),n(`line.color`),n(`line.width`),n(`range`),n(`thickness`)}e.exports={supplyDefaults:p}}),15154:(function(e,t,n){e.exports={moduleType:`trace`,name:`indicator`,basePlotModule:n(15970),categories:[`svg`,`noOpacity`,`noHover`],animatable:!0,attributes:n(54846),supplyDefaults:n(94425).supplyDefaults,calc:n(24667).calc,plot:n(75634),meta:{}}}),75634:(function(e,t,n){var r=n(39898),i=n(81684).sX,a=n(81684).k4,o=n(71828),s=o.strScale,c=o.strTranslate,l=o.rad2deg,u=n(18783).MID_SHIFT,d=n(91424),f=n(84577),p=n(63893),m=n(89298),h=n(71453),g=n(52830),_=n(13838),v=n(7901),y={left:`start`,center:`middle`,right:`end`},b={left:0,center:.5,right:1},x=/[yzafpnmkMGTPEZY]/;function S(e){return e&&e.duration>0}e.exports=function(e,t,n,i){var a=e._fullLayout,s;S(n)&&i&&(s=i()),o.makeTraceGroups(a._indicatorlayer,t,`trace`).each(function(t){var i=t[0].trace,o=r.select(this),l=i._hasGauge,u=i._isAngular,m=i._isBullet,h=i.domain,g={w:a._size.w*(h.x[1]-h.x[0]),h:a._size.h*(h.y[1]-h.y[0]),l:a._size.l+a._size.w*h.x[0],r:a._size.r+a._size.w*(1-h.x[1]),t:a._size.t+a._size.h*(1-h.y[1]),b:a._size.b+a._size.h*h.y[0]},_=g.l+g.w/2,v=g.t+g.h/2,x=Math.min(g.w/2,g.h),S=f.innerRadius*x,E,D,O,j=i.align||`center`;if(D=v,!l)E=g.l+b[j]*g.w,O=function(e){return k(e,g.w,g.h)};else if(u&&(E=_,D=v+x/2,O=function(e){return A(e,.9*S)}),m){var M=f.bulletPadding,N=1-f.bulletNumberDomainSize+M;E=g.l+(N+(1-N)*b[j])*g.w,O=function(e){return k(e,(f.bulletNumberDomainSize-M)*g.w,g.h)}}T(e,o,t,{numbersX:E,numbersY:D,numbersScaler:O,transitionOpts:n,onComplete:s});var P,F;l&&(P={range:i.gauge.axis.range,color:i.gauge.bgcolor,line:{color:i.gauge.bordercolor,width:0},thickness:1},F={range:i.gauge.axis.range,color:`rgba(0, 0, 0, 0)`,line:{color:i.gauge.bordercolor,width:i.gauge.borderwidth},thickness:1});var I=o.selectAll(`g.angular`).data(u?t:[]);I.exit().remove();var L=o.selectAll(`g.angularaxis`).data(u?t:[]);L.exit().remove(),u&&w(e,o,t,{radius:x,innerRadius:S,gauge:I,layer:L,size:g,gaugeBg:P,gaugeOutline:F,transitionOpts:n,onComplete:s});var R=o.selectAll(`g.bullet`).data(m?t:[]);R.exit().remove();var z=o.selectAll(`g.bulletaxis`).data(m?t:[]);z.exit().remove(),m&&C(e,o,t,{gauge:R,layer:z,size:g,gaugeBg:P,gaugeOutline:F,transitionOpts:n,onComplete:s});var B=o.selectAll(`text.title`).data(t);B.exit().remove(),B.enter().append(`text`).classed(`title`,!0),B.attr(`text-anchor`,function(){return m?y.right:y[i.title.align]}).text(i.title.text).call(d.font,i.title.font).call(p.convertToTspans,e),B.attr(`transform`,function(){var e=g.l+g.w*b[i.title.align],t,n=f.titlePadding,r=d.bBox(B.node());return l?(u&&(t=i.gauge.axis.visible?d.bBox(L.node()).top-n-r.bottom:g.t+g.h/2-x/2-r.bottom-n),m&&(t=D-(r.top+r.bottom)/2,e=g.l-f.bulletPadding*g.w)):t=i._numbersTop-n-r.bottom,c(e,t)})})};function C(e,t,n,r){var i=n[0].trace,a=r.gauge,o=r.layer,s=r.gaugeBg,l=r.gaugeOutline,u=r.size,d=i.domain,p=r.transitionOpts,h=r.onComplete,g,_,y,b,x;a.enter().append(`g`).classed(`bullet`,!0),a.attr(`transform`,c(u.l,u.t)),o.enter().append(`g`).classed(`bulletaxis`,!0).classed(`crisp`,!0),o.selectAll(`g.xbulletaxistick,path,text`).remove();var C=u.h,w=i.gauge.bar.thickness*C,T=d.x[0],D=d.x[0]+(d.x[1]-d.x[0])*(i._hasNumber||i._hasDelta?1-f.bulletNumberDomainSize:1);g=O(e,i.gauge.axis),g._id=`xbulletaxis`,g.domain=[T,D],g.setScale(),_=m.calcTicks(g),y=m.makeTransTickFn(g),b=m.getTickSigns(g)[2],x=u.t+u.h,g.visible&&(m.drawTicks(e,g,{vals:g.ticks===`inside`?m.clipEnds(g,_):_,layer:o,path:m.makeTickPath(g,x,b),transFn:y}),m.drawLabels(e,g,{vals:_,layer:o,transFn:y,labelFns:m.makeLabelFns(g,x)}));function k(e){e.attr(`width`,function(e){return Math.max(0,g.c2p(e.range[1])-g.c2p(e.range[0]))}).attr(`x`,function(e){return g.c2p(e.range[0])}).attr(`y`,function(e){return .5*(1-e.thickness)*C}).attr(`height`,function(e){return e.thickness*C})}var A=[s].concat(i.gauge.steps),j=a.selectAll(`g.bg-bullet`).data(A);j.enter().append(`g`).classed(`bg-bullet`,!0).append(`rect`),j.select(`rect`).call(k).call(E),j.exit().remove();var M=a.selectAll(`g.value-bullet`).data([i.gauge.bar]);M.enter().append(`g`).classed(`value-bullet`,!0).append(`rect`),M.select(`rect`).attr(`height`,w).attr(`y`,(C-w)/2).call(E),S(p)?M.select(`rect`).transition().duration(p.duration).ease(p.easing).each(`end`,function(){h&&h()}).each(`interrupt`,function(){h&&h()}).attr(`width`,Math.max(0,g.c2p(Math.min(i.gauge.axis.range[1],n[0].y)))):M.select(`rect`).attr(`width`,typeof n[0].y==`number`?Math.max(0,g.c2p(Math.min(i.gauge.axis.range[1],n[0].y))):0),M.exit().remove();var N=n.filter(function(){return i.gauge.threshold.value||i.gauge.threshold.value===0}),P=a.selectAll(`g.threshold-bullet`).data(N);P.enter().append(`g`).classed(`threshold-bullet`,!0).append(`line`),P.select(`line`).attr(`x1`,g.c2p(i.gauge.threshold.value)).attr(`x2`,g.c2p(i.gauge.threshold.value)).attr(`y1`,(1-i.gauge.threshold.thickness)/2*C).attr(`y2`,(1-(1-i.gauge.threshold.thickness)/2)*C).call(v.stroke,i.gauge.threshold.line.color).style(`stroke-width`,i.gauge.threshold.line.width),P.exit().remove();var F=a.selectAll(`g.gauge-outline`).data([l]);F.enter().append(`g`).classed(`gauge-outline`,!0).append(`rect`),F.select(`rect`).call(k).call(E),F.exit().remove()}function w(e,t,n,i){var a=n[0].trace,o=i.size,s=i.radius,d=i.innerRadius,f=i.gaugeBg,p=i.gaugeOutline,h=[o.l+o.w/2,o.t+o.h/2+s/2],g=i.gauge,_=i.layer,v=i.transitionOpts,y=i.onComplete,b=Math.PI/2;function x(e){var t=a.gauge.axis.range[0],n=a.gauge.axis.range[1],r=(e-t)/(n-t)*Math.PI-b;return r<-b?-b:r>b?b:r}function C(e){return r.svg.arc().innerRadius((d+s)/2-e/2*(s-d)).outerRadius((d+s)/2+e/2*(s-d)).startAngle(-b)}function w(e){e.attr(`d`,function(e){return C(e.thickness).startAngle(x(e.range[0])).endAngle(x(e.range[1]))()})}var T,k,A,j;g.enter().append(`g`).classed(`angular`,!0),g.attr(`transform`,c(h[0],h[1])),_.enter().append(`g`).classed(`angularaxis`,!0).classed(`crisp`,!0),_.selectAll(`g.xangularaxistick,path,text`).remove(),T=O(e,a.gauge.axis),T.type=`linear`,T.range=a.gauge.axis.range,T._id=`xangularaxis`,T.ticklabeloverflow=`allow`,T.setScale();var M=function(e){return(T.range[0]-e.x)/(T.range[1]-T.range[0])*Math.PI+Math.PI},N={},P=m.makeLabelFns(T,0).labelStandoff;N.xFn=function(e){var t=M(e);return Math.cos(t)*P},N.yFn=function(e){var t=M(e),n=Math.sin(t)>0?.2:1;return-Math.sin(t)*(P+e.fontSize*n)+Math.abs(Math.cos(t))*(e.fontSize*u)},N.anchorFn=function(e){var t=M(e),n=Math.cos(t);return Math.abs(n)<.1?`middle`:n>0?`start`:`end`},N.heightFn=function(e,t,n){var r=M(e);return-.5*(1+Math.sin(r))*n};var F=function(e){return c(h[0]+s*Math.cos(e),h[1]-s*Math.sin(e))};A=function(e){return F(M(e))};var I=function(e){var t=M(e);return F(t)+`rotate(`+-l(t)+`)`};if(k=m.calcTicks(T),j=m.getTickSigns(T)[2],T.visible){j=T.ticks===`inside`?-1:1;var L=(T.linewidth||1)/2;m.drawTicks(e,T,{vals:k,layer:_,path:`M`+j*L+`,0h`+j*T.ticklen,transFn:I}),m.drawLabels(e,T,{vals:k,layer:_,transFn:A,labelFns:N})}var R=[f].concat(a.gauge.steps),z=g.selectAll(`g.bg-arc`).data(R);z.enter().append(`g`).classed(`bg-arc`,!0).append(`path`),z.select(`path`).call(w).call(E),z.exit().remove();var B=C(a.gauge.bar.thickness),V=g.selectAll(`g.value-arc`).data([a.gauge.bar]);V.enter().append(`g`).classed(`value-arc`,!0).append(`path`);var H=V.select(`path`);S(v)?(H.transition().duration(v.duration).ease(v.easing).each(`end`,function(){y&&y()}).each(`interrupt`,function(){y&&y()}).attrTween(`d`,D(B,x(n[0].lastY),x(n[0].y))),a._lastValue=n[0].y):H.attr(`d`,typeof n[0].y==`number`?B.endAngle(x(n[0].y)):`M0,0Z`),H.call(E),V.exit().remove(),R=[];var U=a.gauge.threshold.value;(U||U===0)&&R.push({range:[U,U],color:a.gauge.threshold.color,line:{color:a.gauge.threshold.line.color,width:a.gauge.threshold.line.width},thickness:a.gauge.threshold.thickness});var W=g.selectAll(`g.threshold-arc`).data(R);W.enter().append(`g`).classed(`threshold-arc`,!0).append(`path`),W.select(`path`).call(w).call(E),W.exit().remove();var G=g.selectAll(`g.gauge-outline`).data([p]);G.enter().append(`g`).classed(`gauge-outline`,!0).append(`path`),G.select(`path`).call(w).call(E),G.exit().remove()}function T(e,t,n,i){var l=n[0].trace,u=i.numbersX,f=i.numbersY,h=l.align||`center`,g=y[h],_=i.transitionOpts,C=i.onComplete,w=o.ensureSingle(t,`g`,`numbers`),T,E,D,k=[];l._hasNumber&&k.push(`number`),l._hasDelta&&(k.push(`delta`),l.delta.position===`left`&&k.reverse());var A=w.selectAll(`text`).data(k);A.enter().append(`text`),A.attr(`text-anchor`,function(){return g}).attr(`class`,function(e){return e}).attr(`x`,null).attr(`y`,null).attr(`dx`,null).attr(`dy`,null),A.exit().remove();function N(t,n,r,i){if(t.match(`s`)&&r>=0!=i>=0&&!n(r).slice(-1).match(x)&&!n(i).slice(-1).match(x)){var a=O(e,{tickformat:t.slice().replace(`s`,`f`).replace(/\d+/,function(e){return parseInt(e)-1})});return function(e){return Math.abs(e)<1?m.tickText(a,e).text:n(e)}}else return n}function P(){var t=O(e,{tickformat:l.number.valueformat},l._range);t.setScale(),m.prepTicks(t);var i=function(e){return m.tickText(t,e).text},o=l.number.suffix,s=l.number.prefix,c=w.select(`text.number`);function u(){var t=typeof n[0].y==`number`?s+i(n[0].y)+o:`-`;c.text(t).call(d.font,l.number.font).call(p.convertToTspans,e)}return S(_)?c.transition().duration(_.duration).ease(_.easing).each(`end`,function(){u(),C&&C()}).each(`interrupt`,function(){u(),C&&C()}).attrTween(`text`,function(){var e=r.select(this),t=a(n[0].lastY,n[0].y);l._lastValue=n[0].y;var c=N(l.number.valueformat,i,n[0].lastY,n[0].y);return function(n){e.text(s+c(t(n))+o)}}):u(),T=j(s+i(n[0].y)+o,l.number.font,g,e),c}function F(){var t=O(e,{tickformat:l.delta.valueformat},l._range);t.setScale(),m.prepTicks(t);var i=function(e){return m.tickText(t,e).text},o=l.delta.suffix,s=l.delta.prefix,c=function(e){return l.delta.relative?e.relativeDelta:e.delta},u=function(e,t){return e===0||typeof e!=`number`||isNaN(e)?`-`:(e>0?l.delta.increasing.symbol:l.delta.decreasing.symbol)+s+t(e)+o},f=function(e){return e.delta>=0?l.delta.increasing.color:l.delta.decreasing.color};l._deltaLastValue===void 0&&(l._deltaLastValue=c(n[0]));var h=w.select(`text.delta`);h.call(d.font,l.delta.font).call(v.fill,f({delta:l._deltaLastValue}));function y(){h.text(u(c(n[0]),i)).call(v.fill,f(n[0])).call(p.convertToTspans,e)}return S(_)?h.transition().duration(_.duration).ease(_.easing).tween(`text`,function(){var e=r.select(this),t=c(n[0]),o=l._deltaLastValue,s=N(l.delta.valueformat,i,o,t),d=a(o,t);return l._deltaLastValue=t,function(t){e.text(u(d(t),s)),e.call(v.fill,f({delta:d(t)}))}}).each(`end`,function(){y(),C&&C()}).each(`interrupt`,function(){y(),C&&C()}):y(),E=j(u(c(n[0]),i),l.delta.font,g,e),h}var I=l.mode+l.align,L;if(l._hasDelta&&(L=F(),I+=l.delta.position+l.delta.font.size+l.delta.font.family+l.delta.valueformat,I+=l.delta.increasing.symbol+l.delta.decreasing.symbol,D=E),l._hasNumber&&(P(),I+=l.number.font.size+l.number.font.family+l.number.valueformat+l.number.suffix+l.number.prefix,D=T),l._hasDelta&&l._hasNumber){var R=[(T.left+T.right)/2,(T.top+T.bottom)/2],z=[(E.left+E.right)/2,(E.top+E.bottom)/2],B,V,H=.75*l.delta.font.size;l.delta.position===`left`&&(B=M(l,`deltaPos`,0,-1*(T.width*b[l.align]+E.width*(1-b[l.align])+H),I,Math.min),V=R[1]-z[1],D={width:T.width+E.width+H,height:Math.max(T.height,E.height),left:E.left+B,right:T.right,top:Math.min(T.top,E.top+V),bottom:Math.max(T.bottom,E.bottom+V)}),l.delta.position===`right`&&(B=M(l,`deltaPos`,0,T.width*(1-b[l.align])+E.width*b[l.align]+H,I,Math.max),V=R[1]-z[1],D={width:T.width+E.width+H,height:Math.max(T.height,E.height),left:T.left,right:E.right+B,top:Math.min(T.top,E.top+V),bottom:Math.max(T.bottom,E.bottom+V)}),l.delta.position===`bottom`&&(B=null,V=E.height,D={width:Math.max(T.width,E.width),height:T.height+E.height,left:Math.min(T.left,E.left),right:Math.max(T.right,E.right),top:T.bottom-T.height,bottom:T.bottom+E.height}),l.delta.position===`top`&&(B=null,V=T.top,D={width:Math.max(T.width,E.width),height:T.height+E.height,left:Math.min(T.left,E.left),right:Math.max(T.right,E.right),top:T.bottom-T.height-E.height,bottom:T.bottom}),L.attr({dx:B,dy:V})}(l._hasNumber||l._hasDelta)&&w.attr(`transform`,function(){var e=i.numbersScaler(D);I+=e[2];var t=M(l,`numbersScale`,1,e[0],I,Math.min),n;l._scaleNumbers||(t=1),n=l._isAngular?f-t*D.bottom:f-t*(D.top+D.bottom)/2,l._numbersTop=t*D.top+n;var r=D[h];h===`center`&&(r=(D.left+D.right)/2);var a=u-t*r;return a=M(l,`numbersTranslate`,0,a,I,Math.max),c(a,n)+s(t)})}function E(e){e.each(function(e){v.stroke(r.select(this),e.line.color)}).each(function(e){v.fill(r.select(this),e.color)}).style(`stroke-width`,function(e){return e.line.width})}function D(e,t,n){return function(){var r=i(t,n);return function(t){return e.endAngle(r(t))()}}}function O(e,t,n){var r=e._fullLayout,i=o.extendFlat({type:`linear`,ticks:`outside`,range:n,showline:!0},t),a={type:`linear`,_id:`x`+t._id},s={letter:`x`,font:r.font,noHover:!0,noTickson:!0};function c(e,t){return o.coerce(i,a,_,e,t)}return h(i,a,c,s,r),g(i,a,c,s),a}function k(e,t,n){return[Math.min(t/e.width,n/e.height),e,t+`x`+n]}function A(e,t){return[t/Math.sqrt(e.width/2*(e.width/2)+e.height*e.height),e,t]}function j(e,t,n,i){var a=document.createElementNS(`http://www.w3.org/2000/svg`,`text`),o=r.select(a);return o.text(e).attr(`x`,0).attr(`y`,0).attr(`text-anchor`,n).attr(`data-unformatted`,e).call(p.convertToTspans,i).call(d.font,t),d.bBox(o.node())}function M(e,t,n,r,i,a){var s=`_cache`+t;e[s]&&e[s].key===i||(e[s]={key:i,value:n});var c=o.aggNums(a,null,[e[s].value,r],2);return e[s].value=c,c}}),16249:(function(e,t,n){var r=n(50693),i=n(12663).axisHoverFormat,a=n(5386).f,o=n(2418),s=n(9012),c=n(1426).extendFlat,l=n(30962).overrideAll;function u(e){return{show:{valType:`boolean`,dflt:!1},locations:{valType:`data_array`,dflt:[]},fill:{valType:`number`,min:0,max:1,dflt:1}}}function d(e){return{show:{valType:`boolean`,dflt:!0},fill:{valType:`number`,min:0,max:1,dflt:1}}}var f=e.exports=l(c({x:{valType:`data_array`},y:{valType:`data_array`},z:{valType:`data_array`},value:{valType:`data_array`},isomin:{valType:`number`},isomax:{valType:`number`},surface:{show:{valType:`boolean`,dflt:!0},count:{valType:`integer`,dflt:2,min:1},fill:{valType:`number`,min:0,max:1,dflt:1},pattern:{valType:`flaglist`,flags:[`A`,`B`,`C`,`D`,`E`],extras:[`all`,`odd`,`even`],dflt:`all`}},spaceframe:{show:{valType:`boolean`,dflt:!1},fill:{valType:`number`,min:0,max:1,dflt:.15}},slices:{x:u(`x`),y:u(`y`),z:u(`z`)},caps:{x:d(`x`),y:d(`y`),z:d(`z`)},text:{valType:`string`,dflt:``,arrayOk:!0},hovertext:{valType:`string`,dflt:``,arrayOk:!0},hovertemplate:a(),xhoverformat:i(`x`),yhoverformat:i(`y`),zhoverformat:i(`z`),valuehoverformat:i(`value`,1),showlegend:c({},s.showlegend,{dflt:!1})},r(``,{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:`calc`}),{opacity:o.opacity,lightposition:o.lightposition,lighting:o.lighting,flatshading:o.flatshading,contour:o.contour,hoverinfo:c({},s.hoverinfo)}),`calc`,`nested`);f.flatshading.dflt=!0,f.lighting.facenormalsepsilon.dflt=0,f.x.editType=f.y.editType=f.z.editType=f.value.editType=`calc+clearAxisTypes`,f.transforms=void 0}),56959:(function(e,t,n){var r=n(78803),i=n(88489).processGrid,a=n(88489).filter;e.exports=function(e,t){t._len=Math.min(t.x.length,t.y.length,t.z.length,t.value.length),t._x=a(t.x,t._len),t._y=a(t.y,t._len),t._z=a(t.z,t._len),t._value=a(t.value,t._len);var n=i(t);t._gridFill=n.fill,t._Xs=n.Xs,t._Ys=n.Ys,t._Zs=n.Zs,t._len=n.len;for(var o=1/0,s=-1/0,c=0;c<t._len;c++){var l=t._value[c];o=Math.min(o,l),s=Math.max(s,l)}t._minValues=o,t._maxValues=s,t._vMin=t.isomin===void 0||t.isomin===null?o:t.isomin,t._vMax=t.isomax===void 0||t.isomin===null?s:t.isomax,r(e,t,{vals:[t._vMin,t._vMax],containerStr:``,cLetter:`c`})}}),22674:(function(e,t,n){var r=n(9330).gl_mesh3d,i=n(81697).parseColorScale,a=n(78614),o=n(21081).extractOpts,s=n(90060),c=function(e,t){for(var n=t.length-1;n>0;n--){var r=Math.min(t[n],t[n-1]),i=Math.max(t[n],t[n-1]);if(i>r&&r<e&&e<=i)return{id:n,distRatio:(i-e)/(i-r)}}return{id:0,distRatio:0}};function l(e,t,n){this.scene=e,this.uid=n,this.mesh=t,this.name=``,this.data=null,this.showContour=!1}var u=l.prototype;u.handlePick=function(e){if(e.object===this.mesh){var t=e.data.index,n=this.data._meshX[t],r=this.data._meshY[t],i=this.data._meshZ[t],a=this.data._Ys.length,o=this.data._Zs.length,s=c(n,this.data._Xs).id,l=c(r,this.data._Ys).id,u=e.index=c(i,this.data._Zs).id+o*l+o*a*s;e.traceCoordinate=[this.data._meshX[u],this.data._meshY[u],this.data._meshZ[u],this.data._value[u]];var d=this.data.hovertext||this.data.text;return Array.isArray(d)&&d[u]!==void 0?e.textLabel=d[u]:d&&(e.textLabel=d),!0}},u.update=function(e){var t=this.scene,n=t.fullSceneLayout;this.data=f(e);function r(e,t,n,r){return t.map(function(t){return e.d2l(t,0,r)*n})}var c={positions:s(r(n.xaxis,e._meshX,t.dataScale[0],e.xcalendar),r(n.yaxis,e._meshY,t.dataScale[1],e.ycalendar),r(n.zaxis,e._meshZ,t.dataScale[2],e.zcalendar)),cells:s(e._meshI,e._meshJ,e._meshK),lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:a(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},l=o(e);c.vertexIntensity=e._meshIntensity,c.vertexIntensityBounds=[l.min,l.max],c.colormap=i(e),this.mesh.update(c)},u.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var d=[`xyz`,`xzy`,`yxz`,`yzx`,`zxy`,`zyx`];function f(e){e._meshI=[],e._meshJ=[],e._meshK=[];var t=e.surface.show,n=e.spaceframe.show,r=e.surface.fill,i=e.spaceframe.fill,a=!1,o=!1,s=0,l,u,f=e._Xs,p=e._Ys,m=e._Zs,h=f.length,g=p.length,_=m.length,v=d.indexOf(e._gridFill.replace(/-/g,``).replace(/\+/g,``)),y=function(e,t,n){switch(v){case 5:return n+_*t+_*g*e;case 4:return n+_*e+_*h*t;case 3:return t+g*n+g*_*e;case 2:return t+g*e+g*h*n;case 1:return e+h*n+h*_*t;default:return e+h*t+h*g*n}},b=e._minValues,x=e._maxValues,S=e._vMin,C=e._vMax,w,T,E,D;function O(e,t,n){for(var r=D.length,i=u;i<r;i++)if(e===w[i]&&t===T[i]&&n===E[i])return i;return-1}function k(){u=l}function A(){w=[],T=[],E=[],D=[],l=0,k()}function j(e,t,n,r){return w.push(e),T.push(t),E.push(n),D.push(r),l++,l-1}function M(t,n,r){return e._meshI.push(t),e._meshJ.push(n),e._meshK.push(r),s++,s-1}function N(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=(e[i]+t[i]+n[i])/3;return r}function P(e,t,n){for(var r=[],i=0;i<e.length;i++)r[i]=e[i]*(1-n)+n*t[i];return r}var F;function I(e){F=e}function L(e,t){var n=e[0],r=e[1],i=e[2],a=N(n,r,i),o=Math.sqrt(1-F),s=P(a,n,o),c=P(a,r,o),l=P(a,i,o),u=t[0],d=t[1],f=t[2];return{xyzv:[[n,r,c],[c,s,n],[r,i,l],[l,c,r],[i,n,s],[s,l,i]],abc:[[u,d,-1],[-1,-1,u],[d,f,-1],[-1,-1,d],[f,u,-1],[-1,-1,f]]}}function R(e,t){return e===`all`||e===null?!0:e.indexOf(t)>-1}function z(e,t){return e===null?t:e}function B(e,t,n){k();var r=[t],i=[n];if(F>=1)r=[t],i=[n];else if(F>0){var a=L(t,n);r=a.xyzv,i=a.abc}for(var o=0;o<r.length;o++){t=r[o],n=i[o];for(var s=[],c=0;c<3;c++){var l=t[c][0],u=t[c][1],d=t[c][2],f=t[c][3],p=n[c]>-1?n[c]:O(l,u,d);p>-1?s[c]=p:s[c]=j(l,u,d,z(e,f))}M(s[0],s[1],s[2])}}function V(e,t,n){var r=function(r,i,a){B(e,[t[r],t[i],t[a]],[n[r],n[i],n[a]])};r(0,1,2),r(2,3,0)}function H(e,t,n){var r=function(r,i,a){B(e,[t[r],t[i],t[a]],[n[r],n[i],n[a]])};r(0,1,2),r(3,0,1),r(2,3,0),r(1,2,3)}function U(e,t,n,r){var i=e[3];i<n&&(i=n),i>r&&(i=r);for(var a=(e[3]-i)/(e[3]-t[3]+1e-9),o=[],s=0;s<4;s++)o[s]=(1-a)*e[s]+a*t[s];return o}function W(e,t,n){return e>=t&&e<=n}function G(e){var t=.001*(C-S);return e>=S-t&&e<=C+t}function K(t){for(var n=[],r=0;r<4;r++){var i=t[r];n.push([e._x[i],e._y[i],e._z[i],e._value[i]])}return n}var ee=3;function q(e,t,n,r,i,a){a||=1,n=[-1,-1,-1];var o=!1,s=[W(t[0][3],r,i),W(t[1][3],r,i),W(t[2][3],r,i)];if(!s[0]&&!s[1]&&!s[2])return!1;var c=function(e,t,n){return G(t[0][3])&&G(t[1][3])&&G(t[2][3])?(B(e,t,n),!0):a<ee?q(e,t,n,S,C,++a):!1};if(s[0]&&s[1]&&s[2])return c(e,t,n)||o;var l=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(a){if(s[a[0]]&&s[a[1]]&&!s[a[2]]){var u=t[a[0]],d=t[a[1]],f=t[a[2]],p=U(f,u,r,i),m=U(f,d,r,i);o=c(e,[m,p,u],[-1,-1,n[a[0]]])||o,o=c(e,[u,d,m],[n[a[0]],n[a[1]],-1])||o,l=!0}}),l||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(a){if(s[a[0]]&&!s[a[1]]&&!s[a[2]]){var u=t[a[0]],d=t[a[1]],f=t[a[2]],p=U(d,u,r,i);o=c(e,[U(f,u,r,i),p,u],[-1,-1,n[a[0]]])||o,l=!0}}),o}function J(e,t,n,r){var i=!1,a=K(t),s=[W(a[0][3],n,r),W(a[1][3],n,r),W(a[2][3],n,r),W(a[3][3],n,r)];if(!s[0]&&!s[1]&&!s[2]&&!s[3])return i;if(s[0]&&s[1]&&s[2]&&s[3])return o&&(i=H(e,a,t)||i),i;var c=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(l){if(s[l[0]]&&s[l[1]]&&s[l[2]]&&!s[l[3]]){var u=a[l[0]],d=a[l[1]],f=a[l[2]],p=a[l[3]];i=o?B(e,[u,d,f],[t[l[0]],t[l[1]],t[l[2]]])||i:B(null,[U(p,u,n,r),U(p,d,n,r),U(p,f,n,r)],[-1,-1,-1])||i,c=!0}}),c||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(l){if(s[l[0]]&&s[l[1]]&&!s[l[2]]&&!s[l[3]]){var u=a[l[0]],d=a[l[1]],f=a[l[2]],p=a[l[3]],m=U(f,u,n,r),h=U(f,d,n,r),g=U(p,d,n,r),_=U(p,u,n,r);o?(i=B(e,[u,_,m],[t[l[0]],-1,-1])||i,i=B(e,[d,h,g],[t[l[1]],-1,-1])||i):i=V(null,[m,h,g,_],[-1,-1,-1,-1])||i,c=!0}}),c)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(l){if(s[l[0]]&&!s[l[1]]&&!s[l[2]]&&!s[l[3]]){var u=a[l[0]],d=a[l[1]],f=a[l[2]],p=a[l[3]],m=U(d,u,n,r),h=U(f,u,n,r),g=U(p,u,n,r);o?(i=B(e,[u,m,h],[t[l[0]],-1,-1])||i,i=B(e,[u,h,g],[t[l[0]],-1,-1])||i,i=B(e,[u,g,m],[t[l[0]],-1,-1])||i):i=B(null,[m,h,g],[-1,-1,-1])||i,c=!0}}),i}function Y(e,t,n,r,i,s,c,l,u,d,f){var p=!1;return a&&(R(e,`A`)&&(p=J(null,[t,n,r,s],d,f)||p),R(e,`B`)&&(p=J(null,[n,r,i,u],d,f)||p),R(e,`C`)&&(p=J(null,[n,s,c,u],d,f)||p),R(e,`D`)&&(p=J(null,[r,s,l,u],d,f)||p),R(e,`E`)&&(p=J(null,[n,r,s,u],d,f)||p)),o&&(p=J(e,[n,r,s,u],d,f)||p),p}function te(e,t,n,r,i,a,o,s){return[s[0]===!0?!0:q(e,K([t,n,r]),[t,n,r],a,o),s[1]===!0?!0:q(e,K([r,i,t]),[r,i,t],a,o)]}function ne(e,t,n,r,i,a,o,s,c){return s?te(e,t,n,i,r,a,o,c):te(e,n,i,r,t,a,o,c)}function re(e,t,n,r,i,a,o){var s=!1,c,l,u,d,f=function(){s=q(e,[c,l,u],[-1,-1,-1],i,a)||s,s=q(e,[u,d,c],[-1,-1,-1],i,a)||s},p=o[0],m=o[1],h=o[2];return p&&(c=P(K([y(t,n-0,r-0)])[0],K([y(t-1,n-0,r-0)])[0],p),l=P(K([y(t,n-0,r-1)])[0],K([y(t-1,n-0,r-1)])[0],p),u=P(K([y(t,n-1,r-1)])[0],K([y(t-1,n-1,r-1)])[0],p),d=P(K([y(t,n-1,r-0)])[0],K([y(t-1,n-1,r-0)])[0],p),f()),m&&(c=P(K([y(t-0,n,r-0)])[0],K([y(t-0,n-1,r-0)])[0],m),l=P(K([y(t-0,n,r-1)])[0],K([y(t-0,n-1,r-1)])[0],m),u=P(K([y(t-1,n,r-1)])[0],K([y(t-1,n-1,r-1)])[0],m),d=P(K([y(t-1,n,r-0)])[0],K([y(t-1,n-1,r-0)])[0],m),f()),h&&(c=P(K([y(t-0,n-0,r)])[0],K([y(t-0,n-0,r-1)])[0],h),l=P(K([y(t-0,n-1,r)])[0],K([y(t-0,n-1,r-1)])[0],h),u=P(K([y(t-1,n-1,r)])[0],K([y(t-1,n-1,r-1)])[0],h),d=P(K([y(t-1,n-0,r)])[0],K([y(t-1,n-0,r-1)])[0],h),f()),s}function ie(e,t,n,r,i,o,s,c,l,u,d,f){var p=e;return f?(a&&e===`even`&&(p=null),Y(p,t,n,r,i,o,s,c,l,u,d)):(a&&e===`odd`&&(p=null),Y(p,l,c,s,o,i,r,n,t,u,d))}function ae(e,t,n,r,i){for(var a=[],o=0,s=0;s<t.length;s++)for(var c=t[s],l=1;l<_;l++)for(var u=1;u<g;u++)a.push(ne(e,y(c,u-1,l-1),y(c,u-1,l),y(c,u,l-1),y(c,u,l),n,r,(c+u+l)%2,i&&i[o]?i[o]:[])),o++;return a}function oe(e,t,n,r,i){for(var a=[],o=0,s=0;s<t.length;s++)for(var c=t[s],l=1;l<h;l++)for(var u=1;u<_;u++)a.push(ne(e,y(l-1,c,u-1),y(l,c,u-1),y(l-1,c,u),y(l,c,u),n,r,(l+c+u)%2,i&&i[o]?i[o]:[])),o++;return a}function se(e,t,n,r,i){for(var a=[],o=0,s=0;s<t.length;s++)for(var c=t[s],l=1;l<g;l++)for(var u=1;u<h;u++)a.push(ne(e,y(u-1,l-1,c),y(u-1,l,c),y(u,l-1,c),y(u,l,c),n,r,(u+l+c)%2,i&&i[o]?i[o]:[])),o++;return a}function ce(e,t,n){for(var r=1;r<_;r++)for(var i=1;i<g;i++)for(var a=1;a<h;a++)ie(e,y(a-1,i-1,r-1),y(a-1,i-1,r),y(a-1,i,r-1),y(a-1,i,r),y(a,i-1,r-1),y(a,i-1,r),y(a,i,r-1),y(a,i,r),t,n,(a+i+r)%2)}function le(e,t,n){o=!0,ce(e,t,n),o=!1}function ue(e,t,n){a=!0,ce(e,t,n),a=!1}function de(e,t,n,r,i,a){for(var o=[],s=0,c=0;c<t.length;c++)for(var l=t[c],u=1;u<_;u++)for(var d=1;d<g;d++)o.push(re(e,l,d,u,n,r,i[c],a&&a[s]?a[s]:[])),s++;return o}function fe(e,t,n,r,i,a){for(var o=[],s=0,c=0;c<t.length;c++)for(var l=t[c],u=1;u<h;u++)for(var d=1;d<_;d++)o.push(re(e,u,l,d,n,r,i[c],a&&a[s]?a[s]:[])),s++;return o}function pe(e,t,n,r,i,a){for(var o=[],s=0,c=0;c<t.length;c++)for(var l=t[c],u=1;u<g;u++)for(var d=1;d<h;d++)o.push(re(e,d,u,l,n,r,i[c],a&&a[s]?a[s]:[])),s++;return o}function me(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n}function he(){for(var t=0;t<h;t++)for(var n=0;n<g;n++)for(var r=0;r<_;r++){var i=y(t,n,r);j(e._x[i],e._y[i],e._z[i],e._value[i])}}function ge(){A(),he();var a=null;if(n&&i&&(I(i),le(a,S,C)),t&&r){I(r);for(var o=e.surface.pattern,l=e.surface.count,u=0;u<l;u++){var d=l===1?.5:u/(l-1),v=(1-d)*S+d*C,y=Math.abs(v-b)>Math.abs(v-x)?[b,v]:[v,x];ue(o,y[0],y[1])}}var O=[[Math.min(S,x),Math.max(S,x)],[Math.min(b,C),Math.max(b,C)]];[`x`,`y`,`z`].forEach(function(t){for(var n=[],r=0;r<O.length;r++){var i=0,o=O[r][0],s=O[r][1],l=e.slices[t];if(l.show&&l.fill){I(l.fill);var u=[],d=[],v=[];if(l.locations.length)for(var y=0;y<l.locations.length;y++){var b=c(l.locations[y],t===`x`?f:t===`y`?p:m);b.distRatio===0?u.push(b.id):b.id>0&&(d.push(b.id),t===`x`?v.push([b.distRatio,0,0]):t===`y`?v.push([0,b.distRatio,0]):v.push([0,0,b.distRatio]))}else u=t===`x`?me(1,h-1):t===`y`?me(1,g-1):me(1,_-1);d.length>0&&(t===`x`?n[i]=de(a,d,o,s,v,n[i]):t===`y`?n[i]=fe(a,d,o,s,v,n[i]):n[i]=pe(a,d,o,s,v,n[i]),i++),u.length>0&&(t===`x`?n[i]=ae(a,u,o,s,n[i]):t===`y`?n[i]=oe(a,u,o,s,n[i]):n[i]=se(a,u,o,s,n[i]),i++)}var x=e.caps[t];x.show&&x.fill&&(I(x.fill),t===`x`?n[i]=ae(a,[0,h-1],o,s,n[i]):t===`y`?n[i]=oe(a,[0,g-1],o,s,n[i]):n[i]=se(a,[0,_-1],o,s,n[i]),i++)}}),s===0&&A(),e._meshX=w,e._meshY=T,e._meshZ=E,e._meshIntensity=D,e._Xs=f,e._Ys=p,e._Zs=m}return ge(),e}function p(e,t){var n=e.glplot.gl,i=r({gl:n}),a=new l(e,i,t.uid);return i._trace=a,a.update(t),e.glplot.add(i),a}e.exports={findNearestOnAxis:c,generateIsoMeshes:f,createIsosurfaceTrace:p}}),82738:(function(e,t,n){var r=n(71828),i=n(73972),a=n(16249),o=n(1586);function s(e,t,n,i){function o(n,i){return r.coerce(e,t,a,n,i)}c(e,t,n,i,o)}function c(e,t,n,r,a){var s=a(`isomin`),c=a(`isomax`);c!=null&&s!=null&&s>c&&(t.isomin=null,t.isomax=null);var l=a(`x`),u=a(`y`),d=a(`z`),f=a(`value`);if(!l||!l.length||!u||!u.length||!d||!d.length||!f||!f.length){t.visible=!1;return}i.getComponentMethod(`calendars`,`handleTraceDefaults`)(e,t,[`x`,`y`,`z`],r),a(`valuehoverformat`),[`x`,`y`,`z`].forEach(function(e){a(e+`hoverformat`);var t=`caps.`+e;a(t+`.show`)&&a(t+`.fill`);var n=`slices.`+e;a(n+`.show`)&&(a(n+`.fill`),a(n+`.locations`))}),a(`spaceframe.show`)&&a(`spaceframe.fill`),a(`surface.show`)&&(a(`surface.count`),a(`surface.fill`),a(`surface.pattern`)),a(`contour.show`)&&(a(`contour.color`),a(`contour.width`)),[`text`,`hovertext`,`hovertemplate`,`lighting.ambient`,`lighting.diffuse`,`lighting.specular`,`lighting.roughness`,`lighting.fresnel`,`lighting.vertexnormalsepsilon`,`lighting.facenormalsepsilon`,`lightposition.x`,`lightposition.y`,`lightposition.z`,`flatshading`,`opacity`].forEach(function(e){a(e)}),o(e,t,r,a,{prefix:``,cLetter:`c`}),t._length=null}e.exports={supplyDefaults:s,supplyIsoDefaults:c}}),64943:(function(e,t,n){e.exports={attributes:n(16249),supplyDefaults:n(82738).supplyDefaults,calc:n(56959),colorbar:{min:`cmin`,max:`cmax`},plot:n(22674).createIsosurfaceTrace,moduleType:`trace`,name:`isosurface`,basePlotModule:n(58547),categories:[`gl3d`,`showLegend`],meta:{}}}),2418:(function(e,t,n){var r=n(50693),i=n(12663).axisHoverFormat,a=n(5386).f,o=n(54532),s=n(9012),c=n(1426).extendFlat;e.exports=c({x:{valType:`data_array`,editType:`calc+clearAxisTypes`},y:{valType:`data_array`,editType:`calc+clearAxisTypes`},z:{valType:`data_array`,editType:`calc+clearAxisTypes`},i:{valType:`data_array`,editType:`calc`},j:{valType:`data_array`,editType:`calc`},k:{valType:`data_array`,editType:`calc`},text:{valType:`string`,dflt:``,arrayOk:!0,editType:`calc`},hovertext:{valType:`string`,dflt:``,arrayOk:!0,editType:`calc`},hovertemplate:a({editType:`calc`}),xhoverformat:i(`x`),yhoverformat:i(`y`),zhoverformat:i(`z`),delaunayaxis:{valType:`enumerated`,values:[`x`,`y`,`z`],dflt:`z`,editType:`calc`},alphahull:{valType:`number`,dflt:-1,editType:`calc`},intensity:{valType:`data_array`,editType:`calc`},intensitymode:{valType:`enumerated`,values:[`vertex`,`cell`],dflt:`vertex`,editType:`calc`},color:{valType:`color`,editType:`calc`},vertexcolor:{valType:`data_array`,editType:`calc`},facecolor:{valType:`data_array`,editType:`calc`},transforms:void 0},r(``,{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:`calc`}),{opacity:o.opacity,flatshading:{valType:`boolean`,dflt:!1,editType:`calc`},contour:{show:c({},o.contours.x.show,{}),color:o.contours.x.color,width:o.contours.x.width,editType:`calc`},lightposition:{x:c({},o.lightposition.x,{dflt:1e5}),y:c({},o.lightposition.y,{dflt:1e5}),z:c({},o.lightposition.z,{dflt:0}),editType:`calc`},lighting:c({vertexnormalsepsilon:{valType:`number`,min:0,max:1,dflt:1e-12,editType:`calc`},facenormalsepsilon:{valType:`number`,min:0,max:1,dflt:1e-6,editType:`calc`},editType:`calc`},o.lighting),hoverinfo:c({},s.hoverinfo,{editType:`calc`}),showlegend:c({},s.showlegend,{dflt:!1})})}),82932:(function(e,t,n){var r=n(78803);e.exports=function(e,t){t.intensity&&r(e,t,{vals:t.intensity,containerStr:``,cLetter:`c`})}}),91134:(function(e,t,n){var r=n(9330).gl_mesh3d,i=n(9330).delaunay_triangulate,a=n(9330).alpha_shape,o=n(9330).convex_hull,s=n(81697).parseColorScale,c=n(78614),l=n(21081).extractOpts,u=n(90060);function d(e,t,n){this.scene=e,this.uid=n,this.mesh=t,this.name=``,this.color=`#fff`,this.data=null,this.showContour=!1}var f=d.prototype;f.handlePick=function(e){if(e.object===this.mesh){var t=e.index=e.data.index;e.data._cellCenter?e.traceCoordinate=e.data.dataCoordinate:e.traceCoordinate=[this.data.x[t],this.data.y[t],this.data.z[t]];var n=this.data.hovertext||this.data.text;return Array.isArray(n)&&n[t]!==void 0?e.textLabel=n[t]:n&&(e.textLabel=n),!0}};function p(e){for(var t=[],n=e.length,r=0;r<n;r++)t[r]=c(e[r]);return t}function m(e,t,n,r){for(var i=[],a=t.length,o=0;o<a;o++)i[o]=e.d2l(t[o],0,r)*n;return i}function h(e){for(var t=[],n=e.length,r=0;r<n;r++)t[r]=Math.round(e[r]);return t}function g(e,t){for(var n=[`x`,`y`,`z`].indexOf(e),r=[],a=t.length,o=0;o<a;o++)r[o]=[t[o][(n+1)%3],t[o][(n+2)%3]];return i(r)}function _(e,t){for(var n=e.length,r=0;r<n;r++)if(e[r]<=-.5||e[r]>=t-.5)return!1;return!0}f.update=function(e){var t=this.scene,n=t.fullSceneLayout;this.data=e;var r=e.x.length,i=u(m(n.xaxis,e.x,t.dataScale[0],e.xcalendar),m(n.yaxis,e.y,t.dataScale[1],e.ycalendar),m(n.zaxis,e.z,t.dataScale[2],e.zcalendar)),d;if(e.i&&e.j&&e.k){if(e.i.length!==e.j.length||e.j.length!==e.k.length||!_(e.i,r)||!_(e.j,r)||!_(e.k,r))return;d=u(h(e.i),h(e.j),h(e.k))}else d=e.alphahull===0?o(i):e.alphahull>0?a(e.alphahull,i):g(e.delaunayaxis,i);var f={positions:i,cells:d,lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,contourEnable:e.contour.show,contourColor:c(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading};if(e.intensity){var v=l(e);this.color=`#fff`;var y=e.intensitymode;f[y+`Intensity`]=e.intensity,f[y+`IntensityBounds`]=[v.min,v.max],f.colormap=s(e)}else e.vertexcolor?(this.color=e.vertexcolor[0],f.vertexColors=p(e.vertexcolor)):e.facecolor?(this.color=e.facecolor[0],f.cellColors=p(e.facecolor)):(this.color=e.color,f.meshColor=c(e.color));this.mesh.update(f)},f.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function v(e,t){var n=e.glplot.gl,i=r({gl:n}),a=new d(e,i,t.uid);return i._trace=a,a.update(t),e.glplot.add(i),a}e.exports=v}),58669:(function(e,t,n){var r=n(73972),i=n(71828),a=n(1586),o=n(2418);e.exports=function(e,t,n,s){function c(n,r){return i.coerce(e,t,o,n,r)}function l(e){var t=e.map(function(e){var t=c(e);return t&&i.isArrayOrTypedArray(t)?t:null});return t.every(function(e){return e&&e.length===t[0].length})&&t}if(!l([`x`,`y`,`z`])){t.visible=!1;return}if(l([`i`,`j`,`k`]),t.i&&(!t.j||!t.k)||t.j&&(!t.k||!t.i)||t.k&&(!t.i||!t.j)){t.visible=!1;return}r.getComponentMethod(`calendars`,`handleTraceDefaults`)(e,t,[`x`,`y`,`z`],s),[`lighting.ambient`,`lighting.diffuse`,`lighting.specular`,`lighting.roughness`,`lighting.fresnel`,`lighting.vertexnormalsepsilon`,`lighting.facenormalsepsilon`,`lightposition.x`,`lightposition.y`,`lightposition.z`,`flatshading`,`alphahull`,`delaunayaxis`,`opacity`].forEach(function(e){c(e)}),c(`contour.show`)&&(c(`contour.color`),c(`contour.width`)),`intensity`in e?(c(`intensity`),c(`intensitymode`),a(e,t,s,c,{prefix:``,cLetter:`c`})):(t.showscale=!1,`facecolor`in e?c(`facecolor`):`vertexcolor`in e?c(`vertexcolor`):c(`color`,n)),c(`text`),c(`hovertext`),c(`hovertemplate`),c(`xhoverformat`),c(`yhoverformat`),c(`zhoverformat`),t._length=null}}),21164:(function(e,t,n){e.exports={attributes:n(2418),supplyDefaults:n(58669),calc:n(82932),colorbar:{min:`cmin`,max:`cmax`},plot:n(91134),moduleType:`trace`,name:`mesh3d`,basePlotModule:n(58547),categories:[`gl3d`,`showLegend`],meta:{}}}),2522:(function(e,t,n){var r=n(71828).extendFlat,i=n(82196),a=n(12663).axisHoverFormat,o=n(79952).P,s=n(77914),c=n(22372),l=c.INCREASING.COLOR,u=c.DECREASING.COLOR,d=i.line;function f(e){return{line:{color:r({},d.color,{dflt:e}),width:d.width,dash:o,editType:`style`},editType:`style`}}e.exports={xperiod:i.xperiod,xperiod0:i.xperiod0,xperiodalignment:i.xperiodalignment,xhoverformat:a(`x`),yhoverformat:a(`y`),x:{valType:`data_array`,editType:`calc+clearAxisTypes`},open:{valType:`data_array`,editType:`calc`},high:{valType:`data_array`,editType:`calc`},low:{valType:`data_array`,editType:`calc`},close:{valType:`data_array`,editType:`calc`},line:{width:r({},d.width,{}),dash:r({},o,{}),editType:`style`},increasing:f(l),decreasing:f(u),text:{valType:`string`,dflt:``,arrayOk:!0,editType:`calc`},hovertext:{valType:`string`,dflt:``,arrayOk:!0,editType:`calc`},tickwidth:{valType:`number`,min:0,max:.5,dflt:.3,editType:`calc`},hoverlabel:r({},s.hoverlabel,{split:{valType:`boolean`,dflt:!1,editType:`style`}})}}),3485:(function(e,t,n){var r=n(71828),i=r._,a=n(89298),o=n(42973),s=n(50606).BADNUM;function c(e,t){var n=a.getFromId(e,t.xaxis),i=a.getFromId(e,t.yaxis),o=d(e,n,t),s=t._minDiff;t._minDiff=null;var c=t._origX;t._origX=null;var f=t._xcalc;t._xcalc=null;var p=u(e,t,c,f,i,l);return t._extremes[n._id]=a.findExtremes(n,f,{vpad:s/2}),p.length?(r.extendFlat(p[0].t,{wHover:s/2,tickLen:o}),p):[{t:{empty:!0}}]}function l(e,t,n,r){return{o:e,h:t,l:n,c:r}}function u(e,t,n,o,c,l){for(var u=c.makeCalcdata(t,`open`),d=c.makeCalcdata(t,`high`),f=c.makeCalcdata(t,`low`),p=c.makeCalcdata(t,`close`),m=Array.isArray(t.text),h=Array.isArray(t.hovertext),g=!0,_=null,v=!!t.xperiodalignment,y=[],b=0;b<o.length;b++){var x=o[b],S=u[b],C=d[b],w=f[b],T=p[b];if(x!==s&&S!==s&&C!==s&&w!==s&&T!==s){T===S?_!==null&&T!==_&&(g=T>_):g=T>S,_=T;var E=l(S,C,w,T);E.pos=x,E.yc=(S+T)/2,E.i=b,E.dir=g?`increasing`:`decreasing`,E.x=E.pos,E.y=[w,C],v&&(E.orig_p=n[b]),m&&(E.tx=t.text[b]),h&&(E.htx=t.hovertext[b]),y.push(E)}else y.push({pos:x,empty:!0})}return t._extremes[c._id]=a.findExtremes(c,r.concat(f,d),{padded:!0}),y.length&&(y[0].t={labels:{open:i(e,`open:`)+` `,high:i(e,`high:`)+` `,low:i(e,`low:`)+` `,close:i(e,`close:`)+` `}}),y}function d(e,t,n){var i=n._minDiff;if(!i){var a=e._fullData,s=[];i=1/0;var c;for(c=0;c<a.length;c++){var l=a[c];if(l.type===`ohlc`&&l.visible===!0&&l.xaxis===t._id){s.push(l);var u=t.makeCalcdata(l,`x`);l._origX=u;var d=o(n,t,`x`,u).vals;l._xcalc=d;var f=r.distinctVals(d).minDiff;f&&isFinite(f)&&(i=Math.min(i,f))}}for(i===1/0&&(i=1),c=0;c<s.length;c++)s[c]._minDiff=i}return i*n.tickwidth}e.exports={calc:c,calcCommon:u}}),16169:(function(e,t,n){var r=n(71828),i=n(14555),a=n(73927),o=n(2522);e.exports=function(e,t,n,c){function l(n,i){return r.coerce(e,t,o,n,i)}if(!i(e,t,l,c)){t.visible=!1;return}a(e,t,c,l,{x:!0}),l(`xhoverformat`),l(`yhoverformat`),l(`line.width`),l(`line.dash`),s(e,t,l,`increasing`),s(e,t,l,`decreasing`),l(`text`),l(`hovertext`),l(`tickwidth`),c._requestRangeslider[t.xaxis]=!0};function s(e,t,n,r){n(r+`.line.color`),n(r+`.line.width`,t.line.width),n(r+`.line.dash`,t.line.dash)}}),66449:(function(e,t,n){var r=n(89298),i=n(71828),a=n(30211),o=n(7901),s=n(71828).fillText,c=n(22372),l={increasing:c.INCREASING.SYMBOL,decreasing:c.DECREASING.SYMBOL};function u(e,t,n,r){return e.cd[0].trace.hoverlabel.split?f(e,t,n,r):p(e,t,n,r)}function d(e,t,n,r){var i=e.cd,s=e.xa,c=i[0].trace,l=i[0].t,u=c.type,d=u===`ohlc`?`l`:`min`,f=u===`ohlc`?`h`:`max`,p,m,h=l.bPos||0,g=function(e){return e.pos+h-t},_=l.bdPos||l.tickLen,v=l.wHover,y=Math.min(1,_/Math.abs(s.r2c(s.range[1])-s.r2c(s.range[0])));p=e.maxHoverDistance-y,m=e.maxSpikeDistance-y;function b(e){var t=g(e);return a.inbox(t-v,t+v,p)}function x(e){var t=e[d],r=e[f];return t===r||a.inbox(t-n,r-n,p)}function S(e){return(b(e)+x(e))/2}var C=a.getDistanceFunction(r,b,x,S);if(a.getClosest(i,C,e),e.index===!1)return null;var w=i[e.index];if(w.empty)return null;var T=c[w.dir],E=T.line.color;return o.opacity(E)&&T.line.width?e.color=E:e.color=T.fillcolor,e.x0=s.c2p(w.pos+h-_,!0),e.x1=s.c2p(w.pos+h+_,!0),e.xLabelVal=w.orig_p===void 0?w.pos:w.orig_p,e.spikeDistance=S(w)*m/p,e.xSpike=s.c2p(w.pos,!0),e}function f(e,t,n,a){var o=e.cd,s=e.ya,c=o[0].trace,l=o[0].t,u=[],f=d(e,t,n,a);if(!f)return[];var p=o[f.index].hi||c.hoverinfo,m=p.split(`+`);if(!(p===`all`||m.indexOf(`y`)!==-1))return[];for(var h=[`high`,`open`,`close`,`low`],g={},_=0;_<h.length;_++){var v=h[_],y=c[v][f.index],b=s.c2p(y,!0),x;y in g?(x=g[y],x.yLabel+=`<br>`+l.labels[v]+r.hoverLabelText(s,y,c.yhoverformat)):(x=i.extendFlat({},f),x.y0=x.y1=b,x.yLabelVal=y,x.yLabel=l.labels[v]+r.hoverLabelText(s,y,c.yhoverformat),x.name=``,u.push(x),g[y]=x)}return u}function p(e,t,n,i){var a=e.cd,o=e.ya,c=a[0].trace,u=a[0].t,f=d(e,t,n,i);if(!f)return[];var p=a[f.index],m=f.index=p.i,h=p.dir;function g(e){return u.labels[e]+r.hoverLabelText(o,c[e][m],c.yhoverformat)}var _=p.hi||c.hoverinfo,v=_.split(`+`),y=_===`all`,b=y||v.indexOf(`y`)!==-1,x=y||v.indexOf(`text`)!==-1,S=b?[g(`open`),g(`high`),g(`low`),g(`close`)+`  `+l[h]]:[];return x&&s(p,c,S),f.extraText=S.join(`<br>`),f.y0=f.y1=o.c2p(p.yc,!0),[f]}e.exports={hoverPoints:u,hoverSplit:f,hoverOnPoints:p}}),54186:(function(e,t,n){e.exports={moduleType:`trace`,name:`ohlc`,basePlotModule:n(93612),categories:[`cartesian`,`svg`,`showLegend`],meta:{},attributes:n(2522),supplyDefaults:n(16169),calc:n(3485).calc,plot:n(72314),style:n(53101),hoverPoints:n(66449).hoverPoints,selectPoints:n(67324)}}),14555:(function(e,t,n){var r=n(73972),i=n(71828);e.exports=function(e,t,n,a){var o=n(`x`),s=n(`open`),c=n(`high`),l=n(`low`),u=n(`close`);if(n(`hoverlabel.split`),r.getComponentMethod(`calendars`,`handleTraceDefaults`)(e,t,[`x`],a),s&&c&&l&&u){var d=Math.min(s.length,c.length,l.length,u.length);return o&&(d=Math.min(d,i.minRowLength(o))),t._length=d,d}}}),72314:(function(e,t,n){var r=n(39898),i=n(71828);e.exports=function(e,t,n,a){var o=t.yaxis,s=t.xaxis,c=!!s.rangebreaks;i.makeTraceGroups(a,n,`trace ohlc`).each(function(e){var t=r.select(this),n=e[0],a=n.t;if(n.trace.visible!==!0||a.empty){t.remove();return}var l=a.tickLen,u=t.selectAll(`path`).data(i.identity);u.enter().append(`path`),u.exit().remove(),u.attr(`d`,function(e){if(e.empty)return`M0,0Z`;var t=s.c2p(e.pos-l,!0),n=s.c2p(e.pos+l,!0),r=c?(t+n)/2:s.c2p(e.pos,!0),i=o.c2p(e.o,!0),a=o.c2p(e.h,!0),u=o.c2p(e.l,!0),d=o.c2p(e.c,!0);return`M`+t+`,`+i+`H`+r+`M`+r+`,`+a+`V`+u+`M`+n+`,`+d+`H`+r})})}}),67324:(function(e){e.exports=function(e,t){var n=e.cd,r=e.xaxis,i=e.yaxis,a=[],o,s=n[0].t.bPos||0;if(t===!1)for(o=0;o<n.length;o++)n[o].selected=0;else for(o=0;o<n.length;o++){var c=n[o];t.contains([r.c2p(c.pos+s),i.c2p(c.yc)],null,c.i,e)?(a.push({pointNumber:c.i,x:r.c2d(c.pos),y:i.c2d(c.yc)}),c.selected=1):c.selected=0}return a}}),53101:(function(e,t,n){var r=n(39898),i=n(91424),a=n(7901);e.exports=function(e,t,n){var o=n||r.select(e).selectAll(`g.ohlclayer`).selectAll(`g.trace`);o.style(`opacity`,function(e){return e[0].trace.opacity}),o.each(function(e){var t=e[0].trace;r.select(this).selectAll(`path`).each(function(e){if(!e.empty){var n=t[e.dir].line;r.select(this).style(`fill`,`none`).call(a.stroke,n.color).call(i.dashLine,n.dash,n.width).style(`opacity`,t.selectedpoints&&!e.selected?.3:1)}})})}}),99506:(function(e,t,n){var r=n(1426).extendFlat,i=n(9012),a=n(41940),o=n(50693),s=n(5386).f,c=n(27670).Y,l=r({editType:`calc`},o(`line`,{editTypeOverride:`calc`}),{shape:{valType:`enumerated`,values:[`linear`,`hspline`],dflt:`linear`,editType:`plot`},hovertemplate:s({editType:`plot`,arrayOk:!1},{keys:[`count`,`probability`]})});e.exports={domain:c({name:`parcats`,trace:!0,editType:`calc`}),hoverinfo:r({},i.hoverinfo,{flags:[`count`,`probability`],editType:`plot`,arrayOk:!1}),hoveron:{valType:`enumerated`,values:[`category`,`color`,`dimension`],dflt:`category`,editType:`plot`},hovertemplate:s({editType:`plot`,arrayOk:!1},{keys:[`count`,`probability`,`category`,`categorycount`,`colorcount`,`bandcolorcount`]}),arrangement:{valType:`enumerated`,values:[`perpendicular`,`freeform`,`fixed`],dflt:`perpendicular`,editType:`plot`},bundlecolors:{valType:`boolean`,dflt:!0,editType:`plot`},sortpaths:{valType:`enumerated`,values:[`forward`,`backward`],dflt:`forward`,editType:`plot`},labelfont:a({editType:`calc`}),tickfont:a({editType:`calc`}),dimensions:{_isLinkedToArray:`dimension`,label:{valType:`string`,editType:`calc`},categoryorder:{valType:`enumerated`,values:[`trace`,`category ascending`,`category descending`,`array`],dflt:`trace`,editType:`calc`},categoryarray:{valType:`data_array`,editType:`calc`},ticktext:{valType:`data_array`,editType:`calc`},values:{valType:`data_array`,dflt:[],editType:`calc`},displayindex:{valType:`integer`,editType:`calc`},editType:`calc`,visible:{valType:`boolean`,dflt:!0,editType:`calc`}},line:l,counts:{valType:`number`,min:0,dflt:1,arrayOk:!0,editType:`calc`},customdata:void 0,hoverlabel:void 0,ids:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}}),27677:(function(e,t,n){var r=n(27659).a0,i=n(45784),a=`parcats`;t.name=a,t.plot=function(e,t,n,o){var s=r(e.calcdata,a);if(s.length){var c=s[0];i(e,c,n,o)}},t.clean=function(e,t,n,r){var i=r._has&&r._has(`parcats`),a=t._has&&t._has(`parcats`);i&&!a&&r._paperdiv.selectAll(`.parcats`).remove()}}),28699:(function(e,t,n){var r=n(28984).wrap,i=n(52075).hasColorscale,a=n(78803),o=n(75744),s=n(91424),c=n(71828),l=n(92770);e.exports=function(e,t){var n=c.filterVisible(t.dimensions);if(n.length===0)return[];var y=n.map(function(e){var t;if(e.categoryorder===`trace`)t=null;else if(e.categoryorder===`array`)t=e.categoryarray;else{t=o(e.values);for(var n=!0,r=0;r<t.length;r++)if(!l(t[r])){n=!1;break}t.sort(n?c.sorterAsc:void 0),e.categoryorder===`category descending`&&(t=t.reverse())}return g(e.values,t)}),b=c.isArrayOrTypedArray(t.counts)?t.counts:[t.counts],x,S;_(n),n.forEach(function(e,t){v(e,y[t])});var C=t.line,w;C?(i(t,`line`)&&a(e,t,{vals:t.line.color,containerStr:`line`,cLetter:`c`}),w=s.tryColorscale(C)):w=c.identity;function T(e){var t,n;return c.isArrayOrTypedArray(C.color)?(t=C.color[e%C.color.length],n=t):t=C.color,{color:w(t),rawColor:n}}var E=n[0].values.length,D={},O=y.map(function(e){return e.inds});S=0;var k,A;for(k=0;k<E;k++){var j=[];for(A=0;A<O.length;A++)j.push(O[A][k]);x=b[k%b.length],S+=x;var M=T(k),N=j+`-`+M.rawColor;D[N]===void 0&&(D[N]=m(j,M.color,M.rawColor)),h(D[N],k,x)}var P=n.map(function(e,t){return d(t,e._index,e._displayindex,e.label,S)});for(k=0;k<E;k++)for(x=b[k%b.length],A=0;A<P.length;A++){var F=P[A].containerInd,I=y[A].inds[k],L=P[A].categories;if(L[I]===void 0){var R=t.dimensions[F]._categoryarray[I],z=t.dimensions[F]._ticktext[I];L[I]=f(A,I,R,z)}p(L[I],k,x)}return r(u(P,D,S))};function u(e,t,n){return{dimensions:e,paths:t,trace:void 0,maxCats:e.map(function(e){return e.categories.length}).reduce(function(e,t){return Math.max(e,t)}),count:n}}function d(e,t,n,r,i){return{dimensionInd:e,containerInd:t,displayInd:n,dimensionLabel:r,count:i,categories:[],dragX:null}}function f(e,t,n,r){return{dimensionInd:e,categoryInd:t,categoryValue:n,displayInd:t,categoryLabel:r,valueInds:[],count:0,dragY:null}}function p(e,t,n){e.valueInds.push(t),e.count+=n}function m(e,t,n){return{categoryInds:e,color:t,rawColor:n,valueInds:[],count:0}}function h(e,t,n){e.valueInds.push(t),e.count+=n}function g(e,t){t=t==null?[]:t.map(function(e){return e});var n={},r={},i=[];t.forEach(function(e,t){n[e]=0,r[e]=t});for(var a=0;a<e.length;a++){var o=e[a],s;n[o]===void 0?(n[o]=1,s=t.push(o)-1,r[o]=s):(n[o]++,s=r[o]),i.push(s)}var c=t.map(function(e){return n[e]});return{uniqueValues:t,uniqueCounts:c,inds:i}}function _(e){var t=e.map(function(e){return e.displayindex}),n;if(y(t))for(n=0;n<e.length;n++)e[n]._displayindex=e[n].displayindex;else for(n=0;n<e.length;n++)e[n]._displayindex=n}function v(e,t){e._categoryarray=t.uniqueValues,e.ticktext===null||e.ticktext===void 0?e._ticktext=[]:e._ticktext=e.ticktext.slice();for(var n=e._ticktext.length;n<t.uniqueValues.length;n++)e._ticktext.push(t.uniqueValues[n])}function y(e){for(var t=Array(e.length),n=0;n<e.length;n++){if(e[n]<0||e[n]>=e.length||t[e[n]]!==void 0)return!1;t[e[n]]=!0}return!0}}),14647:(function(e,t,n){var r=n(71828),i=n(52075).hasColorscale,a=n(1586),o=n(27670).c,s=n(85501),c=n(99506),l=n(94397);function u(e,t,n,o,s){s(`line.shape`),s(`line.hovertemplate`);var c=s(`line.color`,o.colorway[0]);if(i(e,`line`)&&r.isArrayOrTypedArray(c)){if(c.length)return s(`line.colorscale`),a(e,t,o,s,{prefix:`line.`,cLetter:`c`}),c.length;t.line.color=n}return 1/0}function d(e,t){function n(n,i){return r.coerce(e,t,c.dimensions,n,i)}var i=n(`values`),a=n(`visible`);if(i&&i.length||(a=t.visible=!1),a){n(`label`),n(`displayindex`,t._index);var o=e.categoryarray,s=Array.isArray(o)&&o.length>0,l;s&&(l=`array`);var u=n(`categoryorder`,l);u===`array`?(n(`categoryarray`),n(`ticktext`)):(delete e.categoryarray,delete e.ticktext),!s&&u===`array`&&(t.categoryorder=`trace`)}}e.exports=function(e,t,n,i){function a(n,i){return r.coerce(e,t,c,n,i)}var f=s(e,t,{name:`dimensions`,handleItemDefaults:d}),p=u(e,t,n,i,a);o(t,i,a),(!Array.isArray(f)||!f.length)&&(t.visible=!1),l(t,f,`values`,p),a(`hoveron`),a(`hovertemplate`),a(`arrangement`),a(`bundlecolors`),a(`sortpaths`),a(`counts`);var m={family:i.font.family,size:Math.round(i.font.size),color:i.font.color};r.coerceFont(a,`labelfont`,m);var h={family:i.font.family,size:Math.round(i.font.size/1.2),color:i.font.color};r.coerceFont(a,`tickfont`,h)}}),94873:(function(e,t,n){e.exports={attributes:n(99506),supplyDefaults:n(14647),calc:n(28699),plot:n(45784),colorbar:{container:`line`,min:`cmin`,max:`cmax`},moduleType:`trace`,name:`parcats`,basePlotModule:n(27677),categories:[`noOpacity`],meta:{}}}),45460:(function(e,t,n){var r=n(39898),i=n(81684).k4,a=n(72391),o=n(30211),s=n(71828),c=s.strTranslate,l=n(91424),u=n(84267),d=n(63893);function f(e,t,n,i){var a=t._context.staticPlot,o=e.map(U.bind(0,t,n)),u=i.selectAll(`g.parcatslayer`).data([null]);u.enter().append(`g`).attr(`class`,`parcatslayer`).style(`pointer-events`,a?`none`:`all`);var f=u.selectAll(`g.trace.parcats`).data(o,p),v=f.enter().append(`g`).attr(`class`,`trace parcats`);f.attr(`transform`,function(e){return c(e.x,e.y)}),v.append(`g`).attr(`class`,`paths`);var y=f.select(`g.paths`).selectAll(`path.path`).data(function(e){return e.paths},p);y.attr(`fill`,function(e){return e.model.color});var S=y.enter().append(`path`).attr(`class`,`path`).attr(`stroke-opacity`,0).attr(`fill`,function(e){return e.model.color}).attr(`fill-opacity`,0);x(S),y.attr(`d`,function(e){return e.svgD}),S.empty()||y.sort(h),y.exit().remove(),y.on(`mouseover`,g).on(`mouseout`,_).on(`click`,b),v.append(`g`).attr(`class`,`dimensions`);var C=f.select(`g.dimensions`).selectAll(`g.dimension`).data(function(e){return e.dimensions},p);C.enter().append(`g`).attr(`class`,`dimension`),C.attr(`transform`,function(e){return c(e.x,0)}),C.exit().remove();var T=C.selectAll(`g.category`).data(function(e){return e.categories},p),D=T.enter().append(`g`).attr(`class`,`category`);T.attr(`transform`,function(e){return c(0,e.y)}),D.append(`rect`).attr(`class`,`catrect`).attr(`pointer-events`,`none`),T.select(`rect.catrect`).attr(`fill`,`none`).attr(`width`,function(e){return e.width}).attr(`height`,function(e){return e.height}),w(D);var O=T.selectAll(`rect.bandrect`).data(function(e){return e.bands},p);O.each(function(){s.raiseToTop(this)}),O.attr(`fill`,function(e){return e.color});var k=O.enter().append(`rect`).attr(`class`,`bandrect`).attr(`stroke-opacity`,0).attr(`fill`,function(e){return e.color}).attr(`fill-opacity`,0);O.attr(`fill`,function(e){return e.color}).attr(`width`,function(e){return e.width}).attr(`height`,function(e){return e.height}).attr(`y`,function(e){return e.y}).attr(`cursor`,function(e){return e.parcatsViewModel.arrangement===`fixed`?`default`:e.parcatsViewModel.arrangement===`perpendicular`?`ns-resize`:`move`}),E(k),O.exit().remove(),D.append(`text`).attr(`class`,`catlabel`).attr(`pointer-events`,`none`);var A=t._fullLayout.paper_bgcolor;T.select(`text.catlabel`).attr(`text-anchor`,function(e){return m(e)?`start`:`end`}).attr(`alignment-baseline`,`middle`).style(`text-shadow`,d.makeTextShadow(A)).style(`fill`,`rgb(0, 0, 0)`).attr(`x`,function(e){return m(e)?e.width+5:-5}).attr(`y`,function(e){return e.height/2}).text(function(e){return e.model.categoryLabel}).each(function(e){l.font(r.select(this),e.parcatsViewModel.categorylabelfont),d.convertToTspans(r.select(this),t)}),D.append(`text`).attr(`class`,`dimlabel`),T.select(`text.dimlabel`).attr(`text-anchor`,`middle`).attr(`alignment-baseline`,`baseline`).attr(`cursor`,function(e){return e.parcatsViewModel.arrangement===`fixed`?`default`:`ew-resize`}).attr(`x`,function(e){return e.width/2}).attr(`y`,-5).text(function(e,t){return t===0?e.parcatsViewModel.model.dimensions[e.model.dimensionInd].dimensionLabel:null}).each(function(e){l.font(r.select(this),e.parcatsViewModel.labelfont)}),T.selectAll(`rect.bandrect`).on(`mouseover`,F).on(`mouseout`,I),T.exit().remove(),C.call(r.behavior.drag().origin(function(e){return{x:e.x,y:0}}).on(`dragstart`,L).on(`drag`,R).on(`dragend`,z)),f.each(function(e){e.traceSelection=r.select(this),e.pathSelection=r.select(this).selectAll(`g.paths`).selectAll(`path.path`),e.dimensionSelection=r.select(this).selectAll(`g.dimensions`).selectAll(`g.dimension`)}),f.exit().remove()}e.exports=function(e,t,n,r){f(n,e,r,t)};function p(e){return e.key}function m(e){var t=e.parcatsViewModel.dimensions.length,n=e.parcatsViewModel.dimensions[t-1].model.dimensionInd;return e.model.dimensionInd===n}function h(e,t){return e.model.rawColor>t.model.rawColor?1:e.model.rawColor<t.model.rawColor?-1:0}function g(e){if(!e.parcatsViewModel.dragDimension&&e.parcatsViewModel.hoverinfoItems.indexOf(`skip`)===-1){s.raiseToTop(this),S(r.select(this));var t=v(e),n=y(e);if(e.parcatsViewModel.graphDiv.emit(`plotly_hover`,{points:t,event:r.event,constraints:n}),e.parcatsViewModel.hoverinfoItems.indexOf(`none`)===-1){var i=r.mouse(this)[0],a=e.parcatsViewModel.graphDiv,c=e.parcatsViewModel.trace,l=a._fullLayout,d=l._paperdiv.node().getBoundingClientRect(),f=e.parcatsViewModel.graphDiv.getBoundingClientRect(),p,m,h;for(h=0;h<e.leftXs.length-1;h++)if(e.leftXs[h]+e.dimWidths[h]-2<=i&&i<=e.leftXs[h+1]+2){var g=e.parcatsViewModel.dimensions[h],_=e.parcatsViewModel.dimensions[h+1];p=(g.x+g.width+_.x)/2,m=(e.topYs[h]+e.topYs[h+1]+e.height)/2;break}var b=e.parcatsViewModel.x+p,x=e.parcatsViewModel.y+m,C=u.mostReadable(e.model.color,[`black`,`white`]),w=e.model.count,T=w/e.parcatsViewModel.model.count,E={countLabel:w,probabilityLabel:T.toFixed(3)},D=[];e.parcatsViewModel.hoverinfoItems.indexOf(`count`)!==-1&&D.push([`Count:`,E.countLabel].join(` `)),e.parcatsViewModel.hoverinfoItems.indexOf(`probability`)!==-1&&D.push([`P:`,E.probabilityLabel].join(` `));var O=D.join(`<br>`),k=r.mouse(a)[0];o.loneHover({trace:c,x:b-d.left+f.left,y:x-d.top+f.top,text:O,color:e.model.color,borderColor:`black`,fontFamily:`Monaco, "Courier New", monospace`,fontSize:10,fontColor:C,idealAlign:k<b?`right`:`left`,hovertemplate:(c.line||{}).hovertemplate,hovertemplateLabels:E,eventData:[{data:c._input,fullData:c,count:w,probability:T}]},{container:l._hoverlayer.node(),outerContainer:l._paper.node(),gd:a})}}}function _(e){if(!e.parcatsViewModel.dragDimension&&(x(r.select(this)),o.loneUnhover(e.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),e.parcatsViewModel.pathSelection.sort(h),e.parcatsViewModel.hoverinfoItems.indexOf(`skip`)===-1)){var t=v(e),n=y(e);e.parcatsViewModel.graphDiv.emit(`plotly_unhover`,{points:t,event:r.event,constraints:n})}}function v(e){for(var t=[],n=B(e.parcatsViewModel),r=0;r<e.model.valueInds.length;r++){var i=e.model.valueInds[r];t.push({curveNumber:n,pointNumber:i})}return t}function y(e){for(var t={},n=e.parcatsViewModel.model.dimensions,r=0;r<n.length;r++){var i=n[r],a=i.categories[e.model.categoryInds[r]];t[i.containerInd]=a.categoryValue}return e.model.rawColor!==void 0&&(t.color=e.model.rawColor),t}function b(e){if(e.parcatsViewModel.hoverinfoItems.indexOf(`skip`)===-1){var t=v(e),n=y(e);e.parcatsViewModel.graphDiv.emit(`plotly_click`,{points:t,event:r.event,constraints:n})}}function x(e){e.attr(`fill`,function(e){return e.model.color}).attr(`fill-opacity`,.6).attr(`stroke`,`lightgray`).attr(`stroke-width`,.2).attr(`stroke-opacity`,1)}function S(e){e.attr(`fill-opacity`,.8).attr(`stroke`,function(e){return u.mostReadable(e.model.color,[`black`,`white`])}).attr(`stroke-width`,.3)}function C(e){e.select(`rect.catrect`).attr(`stroke`,`black`).attr(`stroke-width`,2.5)}function w(e){e.select(`rect.catrect`).attr(`stroke`,`black`).attr(`stroke-width`,1).attr(`stroke-opacity`,1)}function T(e){e.attr(`stroke`,`black`).attr(`stroke-width`,1.5)}function E(e){e.attr(`stroke`,`black`).attr(`stroke-width`,.2).attr(`stroke-opacity`,1).attr(`fill-opacity`,1)}function D(e){var t=e.parcatsViewModel.pathSelection,n=e.categoryViewModel.model.dimensionInd,r=e.categoryViewModel.model.categoryInd;return t.filter(function(t){return t.model.categoryInds[n]===r&&t.model.color===e.color})}function O(e){r.select(e.parentNode).selectAll(`rect.bandrect`).each(function(e){var t=D(e);S(t),t.each(function(){s.raiseToTop(this)})}),C(r.select(e.parentNode))}function k(e){var t=r.select(e).datum(),n=D(t);S(n),n.each(function(){s.raiseToTop(this)}),r.select(e.parentNode).selectAll(`rect.bandrect`).filter(function(e){return e.color===t.color}).each(function(){s.raiseToTop(this),T(r.select(this))})}function A(e,t,n){var i=r.select(e).datum(),a=i.categoryViewModel.model,o=i.parcatsViewModel.graphDiv,s=r.select(e.parentNode).selectAll(`rect.bandrect`),c=[];s.each(function(e){D(e).each(function(e){Array.prototype.push.apply(c,v(e))})});var l={};l[a.dimensionInd]=a.categoryValue,o.emit(t,{points:c,event:n,constraints:l})}function j(e,t,n){var i=r.select(e).datum(),a=i.categoryViewModel.model,o=i.parcatsViewModel.graphDiv,s=D(i),c=[];s.each(function(e){Array.prototype.push.apply(c,v(e))});var l={};l[a.dimensionInd]=a.categoryValue,i.rawColor!==void 0&&(l.color=i.rawColor),o.emit(t,{points:c,event:n,constraints:l})}function M(e,t,n){e._fullLayout._calcInverseTransform(e);var i=e._fullLayout._invScaleX,a=e._fullLayout._invScaleY,o=r.select(n.parentNode).select(`rect.catrect`),s=o.node().getBoundingClientRect(),c=o.datum(),l=c.parcatsViewModel,u=l.model.dimensions[c.model.dimensionInd],d=l.trace,f=s.top+s.height/2,p,m;l.dimensions.length>1&&u.displayInd===l.dimensions.length-1?(p=s.left,m=`left`):(p=s.left+s.width,m=`right`);var h=c.model.count,g=c.model.categoryLabel,_=h/c.parcatsViewModel.model.count,v={countLabel:h,categoryLabel:g,probabilityLabel:_.toFixed(3)},y=[];c.parcatsViewModel.hoverinfoItems.indexOf(`count`)!==-1&&y.push([`Count:`,v.countLabel].join(` `)),c.parcatsViewModel.hoverinfoItems.indexOf(`probability`)!==-1&&y.push([`P(`+v.categoryLabel+`):`,v.probabilityLabel].join(` `));var b=y.join(`<br>`);return{trace:d,x:i*(p-t.left),y:a*(f-t.top),text:b,color:`lightgray`,borderColor:`black`,fontFamily:`Monaco, "Courier New", monospace`,fontSize:12,fontColor:`black`,idealAlign:m,hovertemplate:d.hovertemplate,hovertemplateLabels:v,eventData:[{data:d._input,fullData:d,count:h,category:g,probability:_}]}}function N(e,t,n){var i=[];return r.select(n.parentNode.parentNode).selectAll(`g.category`).select(`rect.catrect`).each(function(){var n=this;i.push(M(e,t,n))}),i}function P(e,t,n){e._fullLayout._calcInverseTransform(e);var i=e._fullLayout._invScaleX,a=e._fullLayout._invScaleY,o=n.getBoundingClientRect(),s=r.select(n).datum(),c=s.categoryViewModel,l=c.parcatsViewModel,d=l.model.dimensions[c.model.dimensionInd],f=l.trace,p=o.y+o.height/2,m,h;l.dimensions.length>1&&d.displayInd===l.dimensions.length-1?(m=o.left,h=`left`):(m=o.left+o.width,h=`right`);var g=c.model.categoryLabel,_=s.parcatsViewModel.model.count,v=0;s.categoryViewModel.bands.forEach(function(e){e.color===s.color&&(v+=e.count)});var y=c.model.count,b=0;l.pathSelection.each(function(e){e.model.color===s.color&&(b+=e.model.count)});var x=v/_,S=v/b,C=v/y,w={countLabel:_,categoryLabel:g,probabilityLabel:x.toFixed(3)},T=[];c.parcatsViewModel.hoverinfoItems.indexOf(`count`)!==-1&&T.push([`Count:`,w.countLabel].join(` `)),c.parcatsViewModel.hoverinfoItems.indexOf(`probability`)!==-1&&(T.push(`P(color  `+g+`): `+w.probabilityLabel),T.push(`P(`+g+` | color): `+S.toFixed(3)),T.push(`P(color | `+g+`): `+C.toFixed(3)));var E=T.join(`<br>`),D=u.mostReadable(s.color,[`black`,`white`]);return{trace:f,x:i*(m-t.left),y:a*(p-t.top),text:E,color:s.color,borderColor:`black`,fontFamily:`Monaco, "Courier New", monospace`,fontColor:D,fontSize:10,idealAlign:h,hovertemplate:f.hovertemplate,hovertemplateLabels:w,eventData:[{data:f._input,fullData:f,category:g,count:_,probability:x,categorycount:y,colorcount:b,bandcolorcount:v}]}}function F(e){if(!e.parcatsViewModel.dragDimension&&e.parcatsViewModel.hoverinfoItems.indexOf(`skip`)===-1){if(r.mouse(this)[1]<-1)return;var t=e.parcatsViewModel.graphDiv,n=t._fullLayout,i=n._paperdiv.node().getBoundingClientRect(),a=e.parcatsViewModel.hoveron,s=this;if(a===`color`?(k(s),j(s,`plotly_hover`,r.event)):(O(s),A(s,`plotly_hover`,r.event)),e.parcatsViewModel.hoverinfoItems.indexOf(`none`)===-1){var c;a===`category`?c=M(t,i,s):a===`color`?c=P(t,i,s):a===`dimension`&&(c=N(t,i,s)),c&&o.loneHover(c,{container:n._hoverlayer.node(),outerContainer:n._paper.node(),gd:t})}}}function I(e){var t=e.parcatsViewModel;if(!t.dragDimension&&(x(t.pathSelection),w(t.dimensionSelection.selectAll(`g.category`)),E(t.dimensionSelection.selectAll(`g.category`).selectAll(`rect.bandrect`)),o.loneUnhover(t.graphDiv._fullLayout._hoverlayer.node()),t.pathSelection.sort(h),t.hoverinfoItems.indexOf(`skip`)===-1)){var n=e.parcatsViewModel.hoveron,i=this;n===`color`?j(i,`plotly_unhover`,r.event):A(i,`plotly_unhover`,r.event)}}function L(e){e.parcatsViewModel.arrangement!==`fixed`&&(e.dragDimensionDisplayInd=e.model.displayInd,e.initialDragDimensionDisplayInds=e.parcatsViewModel.model.dimensions.map(function(e){return e.displayInd}),e.dragHasMoved=!1,e.dragCategoryDisplayInd=null,r.select(this).selectAll(`g.category`).select(`rect.catrect`).each(function(t){var n=r.mouse(this)[0],i=r.mouse(this)[1];-2<=n&&n<=t.width+2&&-2<=i&&i<=t.height+2&&(e.dragCategoryDisplayInd=t.model.displayInd,e.initialDragCategoryDisplayInds=e.model.categories.map(function(e){return e.displayInd}),t.model.dragY=t.y,s.raiseToTop(this.parentNode),r.select(this.parentNode).selectAll(`rect.bandrect`).each(function(t){t.y<i&&i<=t.y+t.height&&(e.potentialClickBand=this)}))}),e.parcatsViewModel.dragDimension=e,o.loneUnhover(e.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function R(e){if(e.parcatsViewModel.arrangement!==`fixed`&&(e.dragHasMoved=!0,e.dragDimensionDisplayInd!==null)){var t=e.dragDimensionDisplayInd,n=t-1,i=t+1,a=e.parcatsViewModel.dimensions[t];if(e.dragCategoryDisplayInd!==null){var o=a.categories[e.dragCategoryDisplayInd];o.model.dragY+=r.event.dy;var s=o.model.dragY,c=o.model.displayInd,l=a.categories,u=l[c-1],d=l[c+1];u!==void 0&&s<u.y+u.height/2&&(o.model.displayInd=u.model.displayInd,u.model.displayInd=c),d!==void 0&&s+o.height>d.y+d.height/2&&(o.model.displayInd=d.model.displayInd,d.model.displayInd=c),e.dragCategoryDisplayInd=o.model.displayInd}if(e.dragCategoryDisplayInd===null||e.parcatsViewModel.arrangement===`freeform`){a.model.dragX=r.event.x;var f=e.parcatsViewModel.dimensions[n],p=e.parcatsViewModel.dimensions[i];f!==void 0&&a.model.dragX<f.x+f.width&&(a.model.displayInd=f.model.displayInd,f.model.displayInd=t),p!==void 0&&a.model.dragX+a.width>p.x&&(a.model.displayInd=p.model.displayInd,p.model.displayInd=e.dragDimensionDisplayInd),e.dragDimensionDisplayInd=a.model.displayInd}K(e.parcatsViewModel),G(e.parcatsViewModel),H(e.parcatsViewModel),V(e.parcatsViewModel)}}function z(e){if(e.parcatsViewModel.arrangement!==`fixed`&&e.dragDimensionDisplayInd!==null){r.select(this).selectAll(`text`).attr(`font-weight`,`normal`);var t={},n=B(e.parcatsViewModel),i=e.parcatsViewModel.model.dimensions.map(function(e){return e.displayInd}),o=e.initialDragDimensionDisplayInds.some(function(e,t){return e!==i[t]});o&&i.forEach(function(n,r){var i=e.parcatsViewModel.model.dimensions[r].containerInd;t[`dimensions[`+i+`].displayindex`]=n});var s=!1;if(e.dragCategoryDisplayInd!==null){var c=e.model.categories.map(function(e){return e.displayInd});if(s=e.initialDragCategoryDisplayInds.some(function(e,t){return e!==c[t]}),s){var l=e.model.categories.slice().sort(function(e,t){return e.displayInd-t.displayInd}),u=l.map(function(e){return e.categoryValue}),d=l.map(function(e){return e.categoryLabel});t[`dimensions[`+e.model.containerInd+`].categoryarray`]=[u],t[`dimensions[`+e.model.containerInd+`].ticktext`]=[d],t[`dimensions[`+e.model.containerInd+`].categoryorder`]=`array`}}if(e.parcatsViewModel.hoverinfoItems.indexOf(`skip`)===-1&&!e.dragHasMoved&&e.potentialClickBand&&(e.parcatsViewModel.hoveron===`color`?j(e.potentialClickBand,`plotly_click`,r.event.sourceEvent):A(e.potentialClickBand,`plotly_click`,r.event.sourceEvent)),e.model.dragX=null,e.dragCategoryDisplayInd!==null){var f=e.parcatsViewModel.dimensions[e.dragDimensionDisplayInd].categories[e.dragCategoryDisplayInd];f.model.dragY=null,e.dragCategoryDisplayInd=null}e.dragDimensionDisplayInd=null,e.parcatsViewModel.dragDimension=null,e.dragHasMoved=null,e.potentialClickBand=null,K(e.parcatsViewModel),G(e.parcatsViewModel),r.transition().duration(300).ease(`cubic-in-out`).each(function(){H(e.parcatsViewModel,!0),V(e.parcatsViewModel,!0)}).each(`end`,function(){(o||s)&&a.restyle(e.parcatsViewModel.graphDiv,t,[n])})}}function B(e){for(var t,n=e.graphDiv._fullData,r=0;r<n.length;r++)if(e.key===n[r].uid){t=r;break}return t}function V(e,t){t===void 0&&(t=!1);function n(e){return t?e.transition():e}e.pathSelection.data(function(e){return e.paths},p),n(e.pathSelection).attr(`d`,function(e){return e.svgD})}function H(e,t){t===void 0&&(t=!1);function n(e){return t?e.transition():e}e.dimensionSelection.data(function(e){return e.dimensions},p);var i=e.dimensionSelection.selectAll(`g.category`).data(function(e){return e.categories},p);n(e.dimensionSelection).attr(`transform`,function(e){return c(e.x,0)}),n(i).attr(`transform`,function(e){return c(0,e.y)}),i.select(`.dimlabel`).text(function(e,t){return t===0?e.parcatsViewModel.model.dimensions[e.model.dimensionInd].dimensionLabel:null}),i.select(`.catlabel`).attr(`text-anchor`,function(e){return m(e)?`start`:`end`}).attr(`x`,function(e){return m(e)?e.width+5:-5}).each(function(e){var t,n;m(e)?(t=e.width+5,n=`start`):(t=-5,n=`end`),r.select(this).selectAll(`tspan`).attr(`x`,t).attr(`text-anchor`,n)});var a=i.selectAll(`rect.bandrect`).data(function(e){return e.bands},p),o=a.enter().append(`rect`).attr(`class`,`bandrect`).attr(`cursor`,`move`).attr(`stroke-opacity`,0).attr(`fill`,function(e){return e.color}).attr(`fill-opacity`,0);a.attr(`fill`,function(e){return e.color}).attr(`width`,function(e){return e.width}).attr(`height`,function(e){return e.height}).attr(`y`,function(e){return e.y}),E(o),a.each(function(){s.raiseToTop(this)}),a.exit().remove()}function U(e,t,n){var r=n[0],i=t.margin||{l:80,r:80,t:100,b:80},a=r.trace,o=a.domain,s=t.width,c=t.height,l=Math.floor(s*(o.x[1]-o.x[0])),u=Math.floor(c*(o.y[1]-o.y[0])),d=o.x[0]*s+i.l,f=t.height-o.y[1]*t.height+i.t,p=a.line.shape,m=a.hoverinfo===`all`?[`count`,`probability`]:(a.hoverinfo||``).split(`+`),h={trace:a,key:a.uid,model:r,x:d,y:f,width:l,height:u,hoveron:a.hoveron,hoverinfoItems:m,arrangement:a.arrangement,bundlecolors:a.bundlecolors,sortpaths:a.sortpaths,labelfont:a.labelfont,categorylabelfont:a.tickfont,pathShape:p,dragDimension:null,margin:i,paths:[],dimensions:[],graphDiv:e,traceSelection:null,pathSelection:null,dimensionSelection:null};return r.dimensions&&(K(h),G(h)),h}function W(e,t,n,r,a){var o=[],s=[],c,l;for(l=0;l<n.length-1;l++)c=i(n[l]+e[l],e[l+1]),o.push(c(a)),s.push(c(1-a));var u=`M `+e[0]+`,`+t[0];for(u+=`l`+n[0]+`,0 `,l=1;l<n.length;l++)u+=`C`+o[l-1]+`,`+t[l-1]+` `+s[l-1]+`,`+t[l]+` `+e[l]+`,`+t[l],u+=`l`+n[l]+`,0 `;for(u+=`l0,`+r+` `,u+=`l -`+n[n.length-1]+`,0 `,l=n.length-2;l>=0;l--)u+=`C`+s[l]+`,`+(t[l+1]+r)+` `+o[l]+`,`+(t[l]+r)+` `+(e[l]+n[l])+`,`+(t[l]+r),u+=`l-`+n[l]+`,0 `;return u+=`Z`,u}function G(e){var t=e.dimensions,n=e.model,r=t.map(function(e){return e.categories.map(function(e){return e.y})}),i=e.model.dimensions.map(function(e){return e.categories.map(function(e){return e.displayInd})}),a=e.model.dimensions.map(function(e){return e.displayInd}),o=e.dimensions.map(function(e){return e.model.dimensionInd}),s=t.map(function(e){return e.x}),c=t.map(function(e){return e.width}),l=[];for(var u in n.paths)n.paths.hasOwnProperty(u)&&l.push(n.paths[u]);function d(e){var t=e.categoryInds.map(function(e,t){return i[t][e]});return o.map(function(e){return t[e]})}l.sort(function(t,n){var r=d(t),i=d(n);return e.sortpaths===`backward`&&(r.reverse(),i.reverse()),r.push(t.valueInds[0]),i.push(n.valueInds[0]),e.bundlecolors&&(r.unshift(t.rawColor),i.unshift(n.rawColor)),r<i?-1:r>i?1:0});for(var f=Array(l.length),p=t[0].model.count,m=t[0].categories.map(function(e){return e.height}).reduce(function(e,t){return e+t}),h=0;h<l.length;h++){for(var g=l[h],_=p>0?m*(g.count/p):0,v=Array(r.length),y=0;y<g.categoryInds.length;y++){var b=g.categoryInds[y],x=i[y][b],S=a[y];v[S]=r[S][x],r[S][x]+=_;var C=e.dimensions[S].categories[x],w=C.bands.length,T=C.bands[w-1];if(T===void 0||g.rawColor!==T.rawColor){var E=T===void 0?0:T.y+T.height;C.bands.push({key:E,color:g.color,rawColor:g.rawColor,height:_,width:C.width,count:g.count,y:E,categoryViewModel:C,parcatsViewModel:e})}else{var D=C.bands[w-1];D.height+=_,D.count+=g.count}}var O=e.pathShape===`hspline`?W(s,v,c,_,.5):W(s,v,c,_,0);f[h]={key:g.valueInds[0],model:g,height:_,leftXs:s,topYs:v,dimWidths:c,svgD:O,parcatsViewModel:e}}e.paths=f}function K(e){var t=e.model.dimensions.map(function(e){return{displayInd:e.displayInd,dimensionInd:e.dimensionInd}});t.sort(function(e,t){return e.displayInd-t.displayInd});var n=[];for(var r in t){var i=t[r].dimensionInd,a=e.model.dimensions[i];n.push(ee(e,a))}e.dimensions=n}function ee(e,t){var n=40,r=16,i=e.model.dimensions.length,a=t.displayInd,o=n+(i>1?(e.width-2*n-r)/(i-1):0)*a,s=[],c=e.model.maxCats,l=t.categories.length,u=8,d=t.count,f=e.height-u*(c-1),p,m,h,g,_,v=(c-l)*u/2,y=t.categories.map(function(e){return{displayInd:e.displayInd,categoryInd:e.categoryInd}});for(y.sort(function(e,t){return e.displayInd-t.displayInd}),_=0;_<l;_++)g=y[_].categoryInd,m=t.categories[g],p=d>0?m.count/d*f:0,h={key:m.valueInds[0],model:m,width:r,height:p,y:m.dragY===null?v:m.dragY,bands:[],parcatsViewModel:e},v=v+p+u,s.push(h);return{key:t.dimensionInd,x:t.dragX===null?o:t.dragX,y:0,width:r,model:t,categories:s,parcatsViewModel:e,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}}),45784:(function(e,t,n){var r=n(45460);e.exports=function(e,t,n,i){var a=e._fullLayout,o=a._paper,s=a._size;r(e,o,t,{width:s.w,height:s.h,margin:{t:s.t,r:s.r,b:s.b,l:s.l}},n,i)}}),73362:(function(e,t,n){var r=n(50693),i=n(13838),a=n(41940),o=n(27670).Y,s=n(1426).extendFlat,c=n(44467).templatedArray;e.exports={domain:o({name:`parcoords`,trace:!0,editType:`plot`}),labelangle:{valType:`angle`,dflt:0,editType:`plot`},labelside:{valType:`enumerated`,values:[`top`,`bottom`],dflt:`top`,editType:`plot`},labelfont:a({editType:`plot`}),tickfont:a({editType:`plot`}),rangefont:a({editType:`plot`}),dimensions:c(`dimension`,{label:{valType:`string`,editType:`plot`},tickvals:s({},i.tickvals,{editType:`plot`}),ticktext:s({},i.ticktext,{editType:`plot`}),tickformat:s({},i.tickformat,{editType:`plot`}),visible:{valType:`boolean`,dflt:!0,editType:`plot`},range:{valType:`info_array`,items:[{valType:`number`,editType:`plot`},{valType:`number`,editType:`plot`}],editType:`plot`},constraintrange:{valType:`info_array`,freeLength:!0,dimensions:`1-2`,items:[{valType:`any`,editType:`plot`},{valType:`any`,editType:`plot`}],editType:`plot`},multiselect:{valType:`boolean`,dflt:!0,editType:`plot`},values:{valType:`data_array`,editType:`calc`},editType:`calc`}),line:s({editType:`calc`},r(`line`,{colorscaleDflt:`Viridis`,autoColorDflt:!1,editTypeOverride:`calc`})),unselected:{line:{color:{valType:`color`,dflt:`#7f7f7f`,editType:`plot`},opacity:{valType:`number`,min:0,max:1,dflt:`auto`,editType:`plot`},editType:`plot`},editType:`plot`}}}),57920:(function(e,t,n){var r=n(25706),i=n(39898),a=n(28984).keyFun,o=n(28984).repeat,s=n(71828).sorterAsc,c=n(71828).strTranslate,l=r.bar.snapRatio;function u(e,t){return e*(1-l)+t*l}var d=r.bar.snapClose;function f(e,t){return e*(1-d)+t*d}function p(e,t,n,r){if(m(n,r))return n;var i=e?-1:1,a=0,o=t.length-1;if(i<0){var s=a;a=o,o=s}for(var c=t[a],l=c,d=a;i*d<i*o;d+=i){var p=d+i,h=t[p];if(i*n<i*f(c,h))return u(c,l);if(i*n<i*h||p===o)return u(h,c);l=c,c=h}}function m(e,t){for(var n=0;n<t.length;n++)if(e>=t[n][0]&&e<=t[n][1])return!0;return!1}function h(e){e.attr(`x`,-r.bar.captureWidth/2).attr(`width`,r.bar.captureWidth)}function g(e){e.attr(`visibility`,`visible`).style(`visibility`,`visible`).attr(`fill`,`yellow`).attr(`opacity`,0)}function _(e){if(!e.brush.filterSpecified)return`0,`+e.height;for(var t=v(e.brush.filter.getConsolidated(),e.height),n=[0],r,i,a,o=t.length?t[0][0]:null,s=0;s<t.length;s++)r=t[s],i=r[1]-r[0],n.push(o),n.push(i),a=s+1,a<t.length&&(o=t[a][0]-r[1]);return n.push(e.height),n}function v(e,t){return e.map(function(e){return e.map(function(e){return Math.max(0,e*t)}).sort(s)})}function y(e,t){var n=r.bar.handleHeight;if(!(t>e[1]+n||t<e[0]-n))return t>=.9*e[1]+.1*e[0]?`n`:t<=.9*e[0]+.1*e[1]?`s`:`ns`}function b(){i.select(document.body).style(`cursor`,null)}function x(e){e.attr(`stroke-dasharray`,_)}function S(e,t){var n=i.select(e).selectAll(`.highlight, .highlight-shadow`);x(t?n.transition().duration(r.bar.snapDuration).each(`end`,t):n)}function C(e,t){var n=e.brush,r=n.filterSpecified,i=NaN,a={},o;if(r){var s=e.height,c=n.filter.getConsolidated(),l=v(c,s),u=NaN,d=NaN,f=NaN;for(o=0;o<=l.length;o++){var p=l[o];if(p&&p[0]<=t&&t<=p[1]){u=o;break}else if(d=o?o-1:NaN,p&&p[0]>t){f=o;break}}if(i=u,isNaN(i)&&(i=isNaN(d)||isNaN(f)?isNaN(d)?f:d:t-l[d][1]<l[f][0]-t?d:f),!isNaN(i)){var m=l[i],h=y(m,t);h&&(a.interval=c[i],a.intervalPix=m,a.region=h)}}if(e.ordinal&&!a.region){var g=e.unitTickvals,_=e.unitToPaddedPx.invert(t);for(o=0;o<g.length;o++){var b=[g[Math.max(o-1,0)]*.25+g[o]*.75,g[Math.min(o+1,g.length-1)]*.25+g[o]*.75];if(_>=b[0]&&_<=b[1]){a.clickableOrdinalRange=b;break}}}return a}function w(e,t){i.event.sourceEvent.stopPropagation();var n=t.height-i.mouse(e)[1]-2*r.verticalPadding,a=t.unitToPaddedPx.invert(n),o=t.brush,s=C(t,n),c=s.interval,l=o.svgBrush;if(l.wasDragged=!1,l.grabbingBar=s.region===`ns`,l.grabbingBar){var u=c.map(t.unitToPaddedPx);l.grabPoint=n-u[0]-r.verticalPadding,l.barLength=u[1]-u[0]}l.clickableOrdinalRange=s.clickableOrdinalRange,l.stayingIntervals=t.multiselect&&o.filterSpecified?o.filter.getConsolidated():[],c&&(l.stayingIntervals=l.stayingIntervals.filter(function(e){return e[0]!==c[0]&&e[1]!==c[1]})),l.startExtent=s.region?c[s.region===`s`?1:0]:a,t.parent.inBrushDrag=!0,l.brushStartCallback()}function T(e,t){i.event.sourceEvent.stopPropagation();var n=t.height-i.mouse(e)[1]-2*r.verticalPadding,a=t.brush.svgBrush;a.wasDragged=!0,a._dragging=!0,a.grabbingBar?a.newExtent=[n-a.grabPoint,n+a.barLength-a.grabPoint].map(t.unitToPaddedPx.invert):a.newExtent=[a.startExtent,t.unitToPaddedPx.invert(n)].sort(s),t.brush.filterSpecified=!0,a.extent=a.stayingIntervals.concat([a.newExtent]),a.brushCallback(t),S(e.parentNode)}function E(e,t){var n=t.brush,r=n.filter,a=n.svgBrush;a._dragging||(D(e,t),T(e,t),t.brush.svgBrush.wasDragged=!1),a._dragging=!1,i.event.sourceEvent.stopPropagation();var o=a.grabbingBar;if(a.grabbingBar=!1,a.grabLocation=void 0,t.parent.inBrushDrag=!1,b(),!a.wasDragged){a.wasDragged=void 0,a.clickableOrdinalRange?n.filterSpecified&&t.multiselect?a.extent.push(a.clickableOrdinalRange):(a.extent=[a.clickableOrdinalRange],n.filterSpecified=!0):o?(a.extent=a.stayingIntervals,a.extent.length===0&&N(n)):N(n),a.brushCallback(t),S(e.parentNode),a.brushEndCallback(n.filterSpecified?r.getConsolidated():[]);return}var s=function(){r.set(r.getConsolidated())};if(t.ordinal){var c=t.unitTickvals;c[c.length-1]<c[0]&&c.reverse(),a.newExtent=[p(0,c,a.newExtent[0],a.stayingIntervals),p(1,c,a.newExtent[1],a.stayingIntervals)];var l=a.newExtent[1]>a.newExtent[0];a.extent=a.stayingIntervals.concat(l?[a.newExtent]:[]),a.extent.length||N(n),a.brushCallback(t),l?S(e.parentNode,s):(s(),S(e.parentNode))}else s();a.brushEndCallback(n.filterSpecified?r.getConsolidated():[])}function D(e,t){var n=C(t,t.height-i.mouse(e)[1]-2*r.verticalPadding),a=`crosshair`;n.clickableOrdinalRange?a=`pointer`:n.region&&(a=n.region+`-resize`),i.select(document.body).style(`cursor`,a)}function O(e){e.on(`mousemove`,function(e){i.event.preventDefault(),e.parent.inBrushDrag||D(this,e)}).on(`mouseleave`,function(e){e.parent.inBrushDrag||b()}).call(i.behavior.drag().on(`dragstart`,function(e){w(this,e)}).on(`drag`,function(e){T(this,e)}).on(`dragend`,function(e){E(this,e)}))}function k(e,t){return e[0]-t[0]}function A(e,t,n){var i=n._context.staticPlot,a=e.selectAll(`.background`).data(o);a.enter().append(`rect`).classed(`background`,!0).call(h).call(g).style(`pointer-events`,i?`none`:`auto`).attr(`transform`,c(0,r.verticalPadding)),a.call(O).attr(`height`,function(e){return e.height-r.verticalPadding});var s=e.selectAll(`.highlight-shadow`).data(o);s.enter().append(`line`).classed(`highlight-shadow`,!0).attr(`x`,-r.bar.width/2).attr(`stroke-width`,r.bar.width+r.bar.strokeWidth).attr(`stroke`,t).attr(`opacity`,r.bar.strokeOpacity).attr(`stroke-linecap`,`butt`),s.attr(`y1`,function(e){return e.height}).call(x);var l=e.selectAll(`.highlight`).data(o);l.enter().append(`line`).classed(`highlight`,!0).attr(`x`,-r.bar.width/2).attr(`stroke-width`,r.bar.width-r.bar.strokeWidth).attr(`stroke`,r.bar.fillColor).attr(`opacity`,r.bar.fillOpacity).attr(`stroke-linecap`,`butt`),l.attr(`y1`,function(e){return e.height}).call(x)}function j(e,t,n){var i=e.selectAll(`.`+r.cn.axisBrush).data(o,a);i.enter().append(`g`).classed(r.cn.axisBrush,!0),A(i,t,n)}function M(e){return e.svgBrush.extent.map(function(e){return e.slice()})}function N(e){e.filterSpecified=!1,e.svgBrush.extent=[[-1/0,1/0]]}function P(e){return function(t){var n=t.brush,r=M(n).slice();n.filter.set(r),e()}}function F(e){for(var t=e.slice(),n=[],r,i=t.shift();i;){for(r=i.slice();(i=t.shift())&&i[0]<=r[1];)r[1]=Math.max(r[1],i[1]);n.push(r)}return n.length===1&&n[0][0]>n[0][1]&&(n=[]),n}function I(){var e=[],t,n;return{set:function(r){e=r.map(function(e){return e.slice().sort(s)}).sort(k),e.length===1&&e[0][0]===-1/0&&e[0][1]===1/0&&(e=[[0,-1]]),t=F(e),n=e.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0])},get:function(){return e.slice()},getConsolidated:function(){return t},getBounds:function(){return n}}}function L(e,t,n,r,i,a){var o=I();return o.set(n),{filter:o,filterSpecified:t,svgBrush:{extent:[],brushStartCallback:r,brushCallback:P(i),brushEndCallback:a}}}function R(e,t){if(Array.isArray(e[0])?(e=e.map(function(e){return e.sort(s)}),e=t.multiselect?F(e.sort(k)):[e[0]]):e=[e.sort(s)],t.tickvals){var n=t.tickvals.slice().sort(s);if(e=e.map(function(e){var t=[p(0,n,e[0],[]),p(1,n,e[1],[])];if(t[1]>t[0])return t}).filter(function(e){return e}),!e.length)return}return e.length>1?e:e[0]}e.exports={makeBrush:L,ensureAxisBrush:j,cleanRanges:R}}),71791:(function(e,t,n){e.exports={attributes:n(73362),supplyDefaults:n(3633),calc:n(24639),colorbar:{container:`line`,min:`cmin`,max:`cmax`},moduleType:`trace`,name:`parcoords`,basePlotModule:n(49351),categories:[`gl`,`regl`,`noOpacity`,`noHover`],meta:{}}}),49351:(function(e,t,n){var r=n(39898),i=n(27659).a0,a=n(21341),o=n(77922);t.name=`parcoords`,t.plot=function(e){var t=i(e.calcdata,`parcoords`)[0];t.length&&a(e,t)},t.clean=function(e,t,n,r){var i=r._has&&r._has(`parcoords`),a=t._has&&t._has(`parcoords`);i&&!a&&(r._paperdiv.selectAll(`.parcoords`).remove(),r._glimages.selectAll(`*`).remove())},t.toSVG=function(e){var t=e._fullLayout._glimages,n=r.select(e).selectAll(`.svg-container`),i=n.filter(function(e,t){return t===n.size()-1}).selectAll(`.gl-canvas-context, .gl-canvas-focus`);function a(){var e=this,n=e.toDataURL(`image/png`);t.append(`svg:image`).attr({xmlns:o.svg,"xlink:href":n,preserveAspectRatio:`none`,x:0,y:0,width:e.style.width,height:e.style.height})}i.each(a),window.setTimeout(function(){r.selectAll(`#filterBarPattern`).attr(`id`,`filterBarPattern`)},60)}}),24639:(function(e,t,n){var r=n(71828).isArrayOrTypedArray,i=n(21081),a=n(28984).wrap;e.exports=function(e,t){var n,s;return i.hasColorscale(t,`line`)&&r(t.line.color)?(n=t.line.color,s=i.extractOpts(t.line).colorscale,i.calc(e,t,{vals:n,containerStr:`line`,cLetter:`c`})):(n=o(t._length),s=[[0,t.line.color],[1,t.line.color]]),a({lineColor:n,cscale:s})};function o(e){for(var t=Array(e),n=0;n<e;n++)t[n]=.5;return t}}),25706:(function(e){e.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:[`contextLineLayer`,`focusLineLayer`,`pickLineLayer`],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:`magenta`,fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:`axis-extent-text`,parcoordsLineLayers:`parcoords-line-layers`,parcoordsLineLayer:`parcoords-lines`,parcoords:`parcoords`,parcoordsControlView:`parcoords-control-view`,yAxis:`y-axis`,axisOverlays:`axis-overlays`,axis:`axis`,axisHeading:`axis-heading`,axisTitle:`axis-title`,axisExtent:`axis-extent`,axisExtentTop:`axis-extent-top`,axisExtentTopText:`axis-extent-top-text`,axisExtentBottom:`axis-extent-bottom`,axisExtentBottomText:`axis-extent-bottom-text`,axisBrush:`axis-brush`},id:{filterBarPattern:`filter-bar-pattern`}}}),3633:(function(e,t,n){var r=n(71828),i=n(52075).hasColorscale,a=n(1586),o=n(27670).c,s=n(85501),c=n(89298),l=n(73362),u=n(57920),d=n(25706).maxDimensionCount,f=n(94397);function p(e,t,n,o,s){var c=s(`line.color`,n);if(i(e,`line`)&&r.isArrayOrTypedArray(c)){if(c.length)return s(`line.colorscale`),a(e,t,o,s,{prefix:`line.`,cLetter:`c`}),c.length;t.line.color=n}return 1/0}function m(e,t,n,i){function a(n,i){return r.coerce(e,t,l.dimensions,n,i)}var o=a(`values`),s=a(`visible`);if(o&&o.length||(s=t.visible=!1),s){a(`label`),a(`tickvals`),a(`ticktext`),a(`tickformat`),t._ax={_id:`y`,type:`linear`,showexponent:`all`,exponentformat:`B`,range:a(`range`)},c.setConvert(t._ax,i.layout),a(`multiselect`);var d=a(`constraintrange`);d&&(t.constraintrange=u.cleanRanges(d,t))}}e.exports=function(e,t,n,i){function a(n,i){return r.coerce(e,t,l,n,i)}var c=e.dimensions;Array.isArray(c)&&c.length>d&&(r.log(`parcoords traces support up to `+d+` dimensions at the moment`),c.splice(d));var u=s(e,t,{name:`dimensions`,layout:i,handleItemDefaults:m}),h=p(e,t,n,i,a);o(t,i,a),(!Array.isArray(u)||!u.length)&&(t.visible=!1),f(t,u,`values`,h);var g={family:i.font.family,size:Math.round(i.font.size/1.2),color:i.font.color};r.coerceFont(a,`labelfont`,g),r.coerceFont(a,`tickfont`,g),r.coerceFont(a,`rangefont`,g),a(`labelangle`),a(`labelside`),a(`unselected.line.color`),a(`unselected.line.opacity`)}}),1602:(function(e,t,n){var r=n(71828).isTypedArray;t.convertTypedArray=function(e){return r(e)?Array.prototype.slice.call(e):e},t.isOrdinal=function(e){return!!e.tickvals},t.isVisible=function(e){return e.visible||!(`visible`in e)}}),67618:(function(e,t,n){var r=n(71791);r.plot=n(21341),e.exports=r}),83398:(function(e,t,n){var r=n(56068),i=r([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),a=r([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),o=n(25706).maxDimensionCount,s=n(71828),c=1e-6,l=2048,u=new Uint8Array(4),d=new Uint8Array(4),f={shape:[256,1],format:`rgba`,type:`uint8`,mag:`nearest`,min:`nearest`};function p(e){e.read({x:0,y:0,width:1,height:1,data:u})}function m(e,t,n,r,i){var a=e._gl;a.enable(a.SCISSOR_TEST),a.scissor(t,n,r,i),e.clear({color:[0,0,0,0],depth:1})}function h(e,t,n,r,i,a){var o=a.key;function s(c){var l=Math.min(r,i-c*r);c===0&&(window.cancelAnimationFrame(n.currentRafs[o]),delete n.currentRafs[o],m(e,a.scissorX,a.scissorY,a.scissorWidth,a.viewBoxSize[1])),!n.clearOnly&&(a.count=2*l,a.offset=2*c*r,t(a),c*r+l<i&&(n.currentRafs[o]=window.requestAnimationFrame(function(){s(c+1)})),n.drawCompleted=!1)}n.drawCompleted||=(p(e),!0),s(0)}function g(e){return Math.max(c,Math.min(1-c,e))}function _(e,t){for(var n=Array(256),r=0;r<256;r++)n[r]=e(r/255).concat(t);return n}function v(e,t){return(e>>>8*t)%256/255}function y(e,t,n){for(var r=Array(e*(o+4)),i=0,a=0;a<e;a++){for(var s=0;s<o;s++)r[i++]=s<t.length?t[s].paddedUnitValues[a]:.5;r[i++]=v(a,2),r[i++]=v(a,1),r[i++]=v(a,0),r[i++]=g(n[a])}return r}function b(e,t,n){for(var r=Array(t*8),i=0,a=0;a<t;a++)for(var o=0;o<2;o++)for(var s=0;s<4;s++){var c=e*4+s,l=n[a*64+c];c===63&&o===0&&(l*=-1),r[i++]=l}return r}function x(e){var t=`0`+e;return t.substr(t.length-2)}function S(e){return e<o?`p`+x(e+1)+`_`+x(e+4):`colors`}function C(e,t,n){for(var r=0;r<=o;r+=4)e[S(r)](b(r/4,t,n))}function w(e){for(var t={},n=0;n<=o;n+=4)t[S(n)]=e.buffer({usage:`dynamic`,type:`float`,data:new Uint8Array});return t}function T(e,t,n,r,i,a,o,c,l,u,d,f,p,m){for(var h=[[],[]],g=0;g<64;g++)h[0][g]=g===i?1:0,h[1][g]=g===a?1:0;o*=m,c*=m,l*=m,u*=m;var _=e.lines.canvasOverdrag*m,v=e.domain,y=e.canvasWidth*m,b=e.canvasHeight*m,x=e.pad.l*m,S=e.pad.b*m,C=e.layoutHeight*m,w=e.layoutWidth*m,T=e.deselectedLines.color,E=e.deselectedLines.opacity;return s.extendFlat({key:d,resolution:[y,b],viewBoxPos:[o+_,c],viewBoxSize:[l,u],i0:i,i1:a,dim0A:h[0].slice(0,16),dim0B:h[0].slice(16,32),dim0C:h[0].slice(32,48),dim0D:h[0].slice(48,64),dim1A:h[1].slice(0,16),dim1B:h[1].slice(16,32),dim1C:h[1].slice(32,48),dim1D:h[1].slice(48,64),drwLayer:f,contextColor:[T[0]/255,T[1]/255,T[2]/255,E===`auto`?Math.max(1/255,(1/e.lines.color.length)**(1/3)):T[3]*E],scissorX:(r===t?0:o+_)+(x-_)+w*v.x[0],scissorWidth:(r===n?y-o+_:l+.5)+(r===t?o+_:0),scissorY:c+S+C*v.y[0],scissorHeight:u,viewportX:x-_+w*v.x[0],viewportY:S+C*v.y[0],viewportWidth:y,viewportHeight:b},p)}function E(e){var t=l-1,n=Math.max(0,Math.floor(e[0]*t),0),r=Math.min(t,Math.ceil(e[1]*t),t);return[Math.min(n,r),Math.max(n,r)]}e.exports=function(e,t){var n=t.context,r=t.pick,o=t.regl,c=o._gl,u=c.getParameter(c.ALIASED_LINE_WIDTH_RANGE),p=Math.max(u[0],Math.min(u[1],t.viewModel.plotGlPixelRatio)),g={currentRafs:{},drawCompleted:!0,clearOnly:!1},v,b,x,S,D=w(o),O,k=o.texture(f),A=[];M(t);var j=o({profile:!1,blend:{enable:n,func:{srcRGB:`src alpha`,dstRGB:`one minus src alpha`,srcAlpha:1,dstAlpha:1},equation:{rgb:`add`,alpha:`add`},color:[0,0,0,0]},depth:{enable:!n,mask:!0,func:`less`,range:[0,1]},cull:{enable:!0,face:`back`},scissor:{enable:!0,box:{x:o.prop(`scissorX`),y:o.prop(`scissorY`),width:o.prop(`scissorWidth`),height:o.prop(`scissorHeight`)}},viewport:{x:o.prop(`viewportX`),y:o.prop(`viewportY`),width:o.prop(`viewportWidth`),height:o.prop(`viewportHeight`)},dither:!1,vert:i,frag:a,primitive:`lines`,lineWidth:p,attributes:D,uniforms:{resolution:o.prop(`resolution`),viewBoxPos:o.prop(`viewBoxPos`),viewBoxSize:o.prop(`viewBoxSize`),dim0A:o.prop(`dim0A`),dim1A:o.prop(`dim1A`),dim0B:o.prop(`dim0B`),dim1B:o.prop(`dim1B`),dim0C:o.prop(`dim0C`),dim1C:o.prop(`dim1C`),dim0D:o.prop(`dim0D`),dim1D:o.prop(`dim1D`),loA:o.prop(`loA`),hiA:o.prop(`hiA`),loB:o.prop(`loB`),hiB:o.prop(`hiB`),loC:o.prop(`loC`),hiC:o.prop(`hiC`),loD:o.prop(`loD`),hiD:o.prop(`hiD`),palette:k,contextColor:o.prop(`contextColor`),maskTexture:o.prop(`maskTexture`),drwLayer:o.prop(`drwLayer`),maskHeight:o.prop(`maskHeight`)},offset:o.prop(`offset`),count:o.prop(`count`)});function M(e){v=e.model,b=e.viewModel,x=b.dimensions.slice(),S=x[0]?x[0].values.length:0;var t=v.lines,i=r?t.color.map(function(e,n){return n/t.color.length}):t.color,a=y(S,x,i);C(D,S,a),!n&&!r&&(k=o.texture(s.extendFlat({data:_(v.unitToColor,255)},f)))}function N(e){var t,n,r,i=[[],[]];for(r=0;r<64;r++){var a=!e&&r<x.length?x[r].brush.filter.getBounds():[-1/0,1/0];i[0][r]=a[0],i[1][r]=a[1]}var s=l*8,c=Array(s);for(t=0;t<s;t++)c[t]=255;if(!e)for(t=0;t<x.length;t++){var u=t%8,d=(t-u)/8,f=2**u,p=x[t].brush.filter.get();if(!(p.length<2)){var m=E(p[0])[1];for(n=1;n<p.length;n++){var h=E(p[n]);for(r=m+1;r<h[0];r++)c[r*8+d]&=~f;m=Math.max(m,h[1])}}}var g={shape:[8,l],format:`alpha`,type:`uint8`,mag:`nearest`,min:`nearest`,data:c};return O?O(g):O=o.texture(g),{maskTexture:O,maskHeight:l,loA:i[0].slice(0,16),loB:i[0].slice(16,32),loC:i[0].slice(32,48),loD:i[0].slice(48,64),hiA:i[1].slice(0,16),hiB:i[1].slice(16,32),hiC:i[1].slice(32,48),hiD:i[1].slice(48,64)}}function P(e,t,i){var a=e.length,s,c,l,u=1/0,d=-1/0;for(s=0;s<a;s++)e[s].dim0.canvasX<u&&(u=e[s].dim0.canvasX,c=s),e[s].dim1.canvasX>d&&(d=e[s].dim1.canvasX,l=s);a===0&&m(o,0,0,v.canvasWidth,v.canvasHeight);var f=N(n);for(s=0;s<a;s++){var p=e[s],_=p.dim0.crossfilterDimensionIndex,y=p.dim1.crossfilterDimensionIndex,b=p.canvasX,x=p.canvasY,C=b+p.panelSizeX,w=p.plotGlPixelRatio;if(t||!A[_]||A[_][0]!==b||A[_][1]!==C){A[_]=[b,C];var E=T(v,c,l,s,_,y,b,x,p.panelSizeX,p.panelSizeY,p.dim0.crossfilterDimensionIndex,n?0:r?2:1,f,w);g.clearOnly=i,h(o,j,g,t?v.lines.blockLineCount:S,S,E)}}}function F(e,t){return o.read({x:e,y:t,width:1,height:1,data:d}),d}function I(e,t,n,r){var i=new Uint8Array(4*n*r);return o.read({x:e,y:t,width:n,height:r,data:i}),i}function L(){for(var t in e.style[`pointer-events`]=`none`,k.destroy(),O&&O.destroy(),D)D[t].destroy()}return{render:P,readPixel:F,readPixels:I,destroy:L,update:M}}}),94397:(function(e){e.exports=function(e,t,n,r){r||=1/0;var i,a;for(i=0;i<t.length;i++)a=t[i],a.visible&&(r=Math.min(r,a[n].length));for(r===1/0&&(r=0),e._length=r,i=0;i<t.length;i++)a=t[i],a.visible&&(a._length=r);return r}}),17171:(function(e,t,n){var r=n(39898),i=n(71828),a=i.numberFormat,o=n(36652),s=n(89298),c=i.strRotate,l=i.strTranslate,u=n(63893),d=n(91424),f=n(21081),p=n(28984),m=p.keyFun,h=p.repeat,g=p.unwrap,_=n(1602),v=n(25706),y=n(57920),b=n(83398);function x(e,t,n){return i.aggNums(e,null,t,n)}function S(e,t){return w(x(Math.min,e,t),x(Math.max,e,t))}function C(e){var t=e.range;return t?w(t[0],t[1]):S(e.values,e._length)}function w(e,t){return(isNaN(e)||!isFinite(e))&&(e=0),(isNaN(t)||!isFinite(t))&&(t=0),e===t&&(e===0?(--e,t+=1):(e*=.9,t*=1.1)),[e,t]}function T(e,t){return t?function(n,r){return t[r]??e(n)}:e}function E(e,t,n,i,o){var s=C(n);return i?r.scale.ordinal().domain(i.map(T(a(n.tickformat),o))).range(i.map(function(n){var r=(n-s[0])/(s[1]-s[0]);return e-t+r*(2*t-e)})):r.scale.linear().domain(s).range([e-t,t])}function D(e,t){return r.scale.linear().range([t,e-t])}function O(e,t){return r.scale.linear().domain(C(e)).range([t,1-t])}function k(e){if(e.tickvals){var t=C(e);return r.scale.ordinal().domain(e.tickvals).range(e.tickvals.map(function(e){return(e-t[0])/(t[1]-t[0])}))}}function A(e){var t=e.map(function(e){return e[0]}),n=e.map(function(e){var t=o(e[1]);return r.rgb(`rgb(`+t[0]+`,`+t[1]+`,`+t[2]+`)`)}),i=function(e){return function(t){return t[e]}},a=`rgb`.split(``).map(function(e){return r.scale.linear().clamp(!0).domain(t).range(n.map(i(e)))});return function(e){return a.map(function(t){return t(e)})}}function j(e){return e.dimensions.some(function(e){return e.brush.filterSpecified})}function M(e,t,n){var a=g(t),s=a.trace,c=_.convertTypedArray(a.lineColor),l=s.line,u={color:o(s.unselected.line.color),opacity:s.unselected.line.opacity},d=f.extractOpts(l),p=d.reversescale?f.flipScale(a.cscale):a.cscale,m=s.domain,h=s.dimensions,y=e.width,b=s.labelangle,x=s.labelside,S=s.labelfont,w=s.tickfont,T=s.rangefont,E=i.extendDeepNoArrays({},l,{color:c.map(r.scale.linear().domain(C({values:c,range:[d.min,d.max],_length:s._length}))),blockLineCount:v.blockLineCount,canvasOverdrag:v.overdrag*v.canvasPixelRatio}),D=Math.floor(y*(m.x[1]-m.x[0])),O=Math.floor(e.height*(m.y[1]-m.y[0])),k=e.margin||{l:80,r:80,t:100,b:80},j=D,M=O;return{key:n,colCount:h.filter(_.isVisible).length,dimensions:h,tickDistance:v.tickDistance,unitToColor:A(p),lines:E,deselectedLines:u,labelAngle:b,labelSide:x,labelFont:S,tickFont:w,rangeFont:T,layoutWidth:y,layoutHeight:e.height,domain:m,translateX:m.x[0]*y,translateY:e.height-m.y[1]*e.height,pad:k,canvasWidth:j*v.canvasPixelRatio+2*E.canvasOverdrag,canvasHeight:M*v.canvasPixelRatio,width:j,height:M,canvasPixelRatio:v.canvasPixelRatio}}function N(e,t,n){var r=n.width,o=n.height,s=n.dimensions,c=n.canvasPixelRatio,l=function(e){return r*e/Math.max(1,n.colCount-1)},u=v.verticalPadding/o,d=D(o,v.verticalPadding),f={key:n.key,xScale:l,model:n,inBrushDrag:!1},p={};return f.dimensions=s.filter(_.isVisible).map(function(r,s){var m=O(r,u),h=p[r.label];p[r.label]=(h||0)+1;var g=r.label+(h?`__`+h:``),b=r.constraintrange,x=b&&b.length;x&&!Array.isArray(b[0])&&(b=[b]);var S=x?b.map(function(e){return e.map(m)}):[[-1/0,1/0]],C=function(){var t=f;t.focusLayer&&t.focusLayer.render(t.panels,!0);var n=j(t);!e.contextShown()&&n?(t.contextLayer&&t.contextLayer.render(t.panels,!0),e.contextShown(!0)):e.contextShown()&&!n&&(t.contextLayer&&t.contextLayer.render(t.panels,!0,!0),e.contextShown(!1))},w=r.values;w.length>r._length&&(w=w.slice(0,r._length));var T=r.tickvals,D;function A(e,t){return{val:e,text:D[t]}}function M(e,t){return e.val-t.val}if(Array.isArray(T)&&T.length){D=r.ticktext,!Array.isArray(D)||!D.length?D=T.map(a(r.tickformat)):D.length>T.length?D=D.slice(0,T.length):T.length>D.length&&(T=T.slice(0,D.length));for(var N=1;N<T.length;N++)if(T[N]<T[N-1]){for(var P=T.map(A).sort(M),F=0;F<T.length;F++)T[F]=P[F].val,D[F]=P[F].text;break}}else T=void 0;return w=_.convertTypedArray(w),{key:g,label:r.label,tickFormat:r.tickformat,tickvals:T,ticktext:D,ordinal:_.isOrdinal(r),multiselect:r.multiselect,xIndex:s,crossfilterDimensionIndex:s,visibleIndex:r._index,height:o,values:w,paddedUnitValues:w.map(m),unitTickvals:T&&T.map(m),xScale:l,x:l(s),canvasX:l(s)*c,unitToPaddedPx:d,domainScale:E(o,v.verticalPadding,r,T,D),ordinalScale:k(r),parent:f,model:n,brush:y.makeBrush(e,x,S,function(){e.linePickActive(!1)},C,function(n){if(f.focusLayer.render(f.panels,!0),f.pickLayer&&f.pickLayer.render(f.panels,!0),e.linePickActive(!0),t&&t.filterChanged){var a=m.invert,o=n.map(function(e){return e.map(a).sort(i.sorterAsc)}).sort(function(e,t){return e[0]-t[0]});t.filterChanged(f.key,r._index,o)}})}}),f}function P(e){e.classed(v.cn.axisExtentText,!0).attr(`text-anchor`,`middle`).style(`cursor`,`default`)}function F(){var e=!0,t=!1;return{linePickActive:function(t){return arguments.length?e=!!t:e},contextShown:function(e){return arguments.length?t=!!e:t}}}function I(e,t){var n=t===`top`?1:-1,r=e*Math.PI/180;return{dir:n,dx:Math.sin(r),dy:Math.cos(r),degrees:e}}function L(e,t,n){for(var r=t.panels||=[],i=e.data(),a=0;a<i.length-1;a++){var o=r[a]||(r[a]={}),s=i[a],c=i[a+1];o.dim0=s,o.dim1=c,o.canvasX=s.canvasX,o.panelSizeX=c.canvasX-s.canvasX,o.panelSizeY=t.model.canvasHeight,o.y=0,o.canvasY=0,o.plotGlPixelRatio=n}}function R(e){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)for(var r=e[t][n].trace,i=r.dimensions,a=0;a<i.length;a++){var o=i[a].values,c=i[a]._ax;c&&(c.range?c.range=w(c.range[0],c.range[1]):c.range=S(o,r._length),c.dtick||=.01*(Math.abs(c.range[1]-c.range[0])||1),c.tickformat=i[a].tickformat,s.calcTicks(c),c.cleanRange())}}function z(e,t){return s.tickText(e._ax,t,!1).text}function B(e,t){if(e.ordinal)return``;var n=e.domainScale.domain(),r=n[t?n.length-1:0];return z(e.model.dimensions[e.visibleIndex],r)}e.exports=function(e,t,n,a){var o=e._context.staticPlot,s=e._fullLayout,f=s._toppaper,p=s._glcontainer,x=e._context.plotGlPixelRatio,S=e._fullLayout.paper_bgcolor;R(t);var C=F(),w=t.filter(function(e){return g(e).trace.visible}).map(M.bind(0,n)).map(N.bind(0,C,a));p.each(function(e,t){return i.extendFlat(e,w[t])});var T=p.selectAll(`.gl-canvas`).each(function(e){e.viewModel=w[0],e.viewModel.plotGlPixelRatio=x,e.viewModel.paperColor=S,e.model=e.viewModel?e.viewModel.model:null}),E=null;T.filter(function(e){return e.pick}).style(`pointer-events`,o?`none`:`auto`).on(`mousemove`,function(e){if(C.linePickActive()&&e.lineLayer&&a&&a.hover){var t=r.event,n=this.width,i=this.height,o=r.mouse(this),s=o[0],c=o[1];if(s<0||c<0||s>=n||c>=i)return;var l=e.lineLayer.readPixel(s,i-1-c),u=l[3]!==0,d=u?l[2]+256*(l[1]+256*l[0]):null,f={x:s,y:c,clientX:t.clientX,clientY:t.clientY,dataIndex:e.model.key,curveNumber:d};d!==E&&(u?a.hover(f):a.unhover&&a.unhover(f),E=d)}}),T.style(`opacity`,function(e){return e.pick?0:1}),f.style(`background`,`rgba(255, 255, 255, 0)`);var D=f.selectAll(`.`+v.cn.parcoords).data(w,m);D.exit().remove(),D.enter().append(`g`).classed(v.cn.parcoords,!0).style(`shape-rendering`,`crispEdges`).style(`pointer-events`,`none`),D.attr(`transform`,function(e){return l(e.model.translateX,e.model.translateY)});var O=D.selectAll(`.`+v.cn.parcoordsControlView).data(h,m);O.enter().append(`g`).classed(v.cn.parcoordsControlView,!0),O.attr(`transform`,function(e){return l(e.model.pad.l,e.model.pad.t)});var k=O.selectAll(`.`+v.cn.yAxis).data(function(e){return e.dimensions},m);k.enter().append(`g`).classed(v.cn.yAxis,!0),O.each(function(e){L(k,e,x)}),T.each(function(e){if(e.viewModel){!e.lineLayer||a?e.lineLayer=b(this,e):e.lineLayer.update(e),(e.key||e.key===0)&&(e.viewModel[e.key]=e.lineLayer);var t=!e.context||a;e.lineLayer.render(e.viewModel.panels,t)}}),k.attr(`transform`,function(e){return l(e.xScale(e.xIndex),0)}),k.call(r.behavior.drag().origin(function(e){return e}).on(`drag`,function(e){var t=e.parent;C.linePickActive(!1),e.x=Math.max(-v.overdrag,Math.min(e.model.width+v.overdrag,r.event.x)),e.canvasX=e.x*e.model.canvasPixelRatio,k.sort(function(e,t){return e.x-t.x}).each(function(t,n){t.xIndex=n,t.x=e===t?t.x:t.xScale(t.xIndex),t.canvasX=t.x*t.model.canvasPixelRatio}),L(k,t,x),k.filter(function(t){return Math.abs(e.xIndex-t.xIndex)!==0}).attr(`transform`,function(e){return l(e.xScale(e.xIndex),0)}),r.select(this).attr(`transform`,l(e.x,0)),k.each(function(n,r,i){i===e.parent.key&&(t.dimensions[r]=n)}),t.contextLayer&&t.contextLayer.render(t.panels,!1,!j(t)),t.focusLayer.render&&t.focusLayer.render(t.panels)}).on(`dragend`,function(e){var t=e.parent;e.x=e.xScale(e.xIndex),e.canvasX=e.x*e.model.canvasPixelRatio,L(k,t,x),r.select(this).attr(`transform`,function(e){return l(e.x,0)}),t.contextLayer&&t.contextLayer.render(t.panels,!1,!j(t)),t.focusLayer&&t.focusLayer.render(t.panels),t.pickLayer&&t.pickLayer.render(t.panels,!0),C.linePickActive(!0),a&&a.axesMoved&&a.axesMoved(t.key,t.dimensions.map(function(e){return e.crossfilterDimensionIndex}))})),k.exit().remove();var A=k.selectAll(`.`+v.cn.axisOverlays).data(h,m);A.enter().append(`g`).classed(v.cn.axisOverlays,!0),A.selectAll(`.`+v.cn.axis).remove();var V=A.selectAll(`.`+v.cn.axis).data(h,m);V.enter().append(`g`).classed(v.cn.axis,!0),V.each(function(e){var t=e.model.height/e.model.tickDistance,n=e.domainScale,i=n.domain();r.select(this).call(r.svg.axis().orient(`left`).tickSize(4).outerTickSize(2).ticks(t,e.tickFormat).tickValues(e.ordinal?i:null).tickFormat(function(t){return _.isOrdinal(e)?t:z(e.model.dimensions[e.visibleIndex],t)}).scale(n)),d.font(V.selectAll(`text`),e.model.tickFont)}),V.selectAll(`.domain, .tick>line`).attr(`fill`,`none`).attr(`stroke`,`black`).attr(`stroke-opacity`,.25).attr(`stroke-width`,`1px`),V.selectAll(`text`).style(`text-shadow`,u.makeTextShadow(S)).style(`cursor`,`default`);var H=A.selectAll(`.`+v.cn.axisHeading).data(h,m);H.enter().append(`g`).classed(v.cn.axisHeading,!0);var U=H.selectAll(`.`+v.cn.axisTitle).data(h,m);U.enter().append(`text`).classed(v.cn.axisTitle,!0).attr(`text-anchor`,`middle`).style(`cursor`,`ew-resize`).style(`pointer-events`,o?`none`:`auto`),U.text(function(e){return e.label}).each(function(t){var n=r.select(this);d.font(n,t.model.labelFont),u.convertToTspans(n,e)}).attr(`transform`,function(e){var t=I(e.model.labelAngle,e.model.labelSide),n=v.axisTitleOffset;return(t.dir>0?``:l(0,2*n+e.model.height))+c(t.degrees)+l(-n*t.dx,-n*t.dy)}).attr(`text-anchor`,function(e){var t=I(e.model.labelAngle,e.model.labelSide),n=Math.abs(t.dx),r=Math.abs(t.dy);return 2*n>r?t.dir*t.dx<0?`start`:`end`:`middle`});var W=A.selectAll(`.`+v.cn.axisExtent).data(h,m);W.enter().append(`g`).classed(v.cn.axisExtent,!0);var G=W.selectAll(`.`+v.cn.axisExtentTop).data(h,m);G.enter().append(`g`).classed(v.cn.axisExtentTop,!0),G.attr(`transform`,l(0,-v.axisExtentOffset));var K=G.selectAll(`.`+v.cn.axisExtentTopText).data(h,m);K.enter().append(`text`).classed(v.cn.axisExtentTopText,!0).call(P),K.text(function(e){return B(e,!0)}).each(function(e){d.font(r.select(this),e.model.rangeFont)});var ee=W.selectAll(`.`+v.cn.axisExtentBottom).data(h,m);ee.enter().append(`g`).classed(v.cn.axisExtentBottom,!0),ee.attr(`transform`,function(e){return l(0,e.model.height+v.axisExtentOffset)});var q=ee.selectAll(`.`+v.cn.axisExtentBottomText).data(h,m);q.enter().append(`text`).classed(v.cn.axisExtentBottomText,!0).attr(`dy`,`0.75em`).call(P),q.text(function(e){return B(e,!1)}).each(function(e){d.font(r.select(this),e.model.rangeFont)}),y.ensureAxisBrush(A,S,e)}}),21341:(function(e,t,n){var r=n(17171),i=n(79749),a=n(1602).isVisible,o={};function s(e,t,n){var r=t.indexOf(n),i=e.indexOf(r);return i===-1&&(i+=t.length),i}function c(e,t){return function(n,r){return s(e,t,n)-s(e,t,r)}}var l=e.exports=function(e,t){var n=e._fullLayout;if(i(e,[],o)){var s={},l={},u={},d={},f=n._size;t.forEach(function(t,n){var r=t[0].trace;u[n]=r.index;var i=d[n]=r._fullInput.index;s[n]=e.data[i].dimensions,l[n]=e.data[i].dimensions.slice()}),r(e,t,{width:f.w,height:f.h,margin:{t:f.t,r:f.r,b:f.b,l:f.l}},{filterChanged:function(t,r,i){var a=l[t][r],o=i.map(function(e){return e.slice()}),s=`dimensions[`+r+`].constraintrange`,c=n._tracePreGUI[e._fullData[u[t]]._fullInput.uid];c[s]===void 0&&(c[s]=a.constraintrange||null);var f=e._fullData[u[t]].dimensions[r];o.length?(o.length===1&&(o=o[0]),a.constraintrange=o,f.constraintrange=o.slice(),o=[o]):(delete a.constraintrange,delete f.constraintrange,o=null);var p={};p[s]=o,e.emit(`plotly_restyle`,[p,[d[t]]])},hover:function(t){e.emit(`plotly_hover`,t)},unhover:function(t){e.emit(`plotly_unhover`,t)},axesMoved:function(t,n){var r=c(n,l[t].filter(a));s[t].sort(r),l[t].filter(function(e){return!a(e)}).sort(function(e){return l[t].indexOf(e)}).forEach(function(e){s[t].splice(s[t].indexOf(e),1),s[t].splice(l[t].indexOf(e),0,e)}),e.emit(`plotly_restyle`,[{dimensions:[s[t]]},[d[t]]])}})}};l.reglPrecompiled=o}),34e3:(function(e,t,n){var r=n(9012),i=n(27670).Y,a=n(41940),o=n(22399),s=n(5386).f,c=n(5386).s,l=n(1426).extendFlat,u=a({editType:`plot`,arrayOk:!0,colorEditType:`plot`});e.exports={labels:{valType:`data_array`,editType:`calc`},label0:{valType:`number`,dflt:0,editType:`calc`},dlabel:{valType:`number`,dflt:1,editType:`calc`},values:{valType:`data_array`,editType:`calc`},marker:{colors:{valType:`data_array`,editType:`calc`},line:{color:{valType:`color`,dflt:o.defaultLine,arrayOk:!0,editType:`style`},width:{valType:`number`,min:0,dflt:0,arrayOk:!0,editType:`style`},editType:`calc`},editType:`calc`},text:{valType:`data_array`,editType:`plot`},hovertext:{valType:`string`,dflt:``,arrayOk:!0,editType:`style`},scalegroup:{valType:`string`,dflt:``,editType:`calc`},textinfo:{valType:`flaglist`,flags:[`label`,`text`,`value`,`percent`],extras:[`none`],editType:`calc`},hoverinfo:l({},r.hoverinfo,{flags:[`label`,`text`,`value`,`percent`,`name`]}),hovertemplate:s({},{keys:[`label`,`color`,`value`,`percent`,`text`]}),texttemplate:c({editType:`plot`},{keys:[`label`,`color`,`value`,`percent`,`text`]}),textposition:{valType:`enumerated`,values:[`inside`,`outside`,`auto`,`none`],dflt:`auto`,arrayOk:!0,editType:`plot`},textfont:l({},u,{}),insidetextorientation:{valType:`enumerated`,values:[`horizontal`,`radial`,`tangential`,`auto`],dflt:`auto`,editType:`plot`},insidetextfont:l({},u,{}),outsidetextfont:l({},u,{}),automargin:{valType:`boolean`,dflt:!1,editType:`plot`},title:{text:{valType:`string`,dflt:``,editType:`plot`},font:l({},u,{}),position:{valType:`enumerated`,values:[`top left`,`top center`,`top right`,`middle center`,`bottom left`,`bottom center`,`bottom right`],editType:`plot`},editType:`plot`},domain:i({name:`pie`,trace:!0,editType:`calc`}),hole:{valType:`number`,min:0,max:1,dflt:0,editType:`calc`},sort:{valType:`boolean`,dflt:!0,editType:`calc`},direction:{valType:`enumerated`,values:[`clockwise`,`counterclockwise`],dflt:`counterclockwise`,editType:`calc`},rotation:{valType:`angle`,dflt:0,editType:`calc`},pull:{valType:`number`,min:0,max:1,dflt:0,arrayOk:!0,editType:`calc`},_deprecated:{title:{valType:`string`,dflt:``,editType:`calc`},titlefont:l({},u,{}),titleposition:{valType:`enumerated`,values:[`top left`,`top center`,`top right`,`middle center`,`bottom left`,`bottom center`,`bottom right`],editType:`calc`}}}}),13584:(function(e,t,n){var r=n(74875);t.name=`pie`,t.plot=function(e,n,i,a){r.plotBasePlot(t.name,e,n,i,a)},t.clean=function(e,n,i,a){r.cleanBasePlot(t.name,e,n,i,a)}}),32354:(function(e,t,n){var r=n(92770),i=n(84267),a=n(7901),o={};function s(e,t){var n=[],i=e._fullLayout,a=i.hiddenlabels||[],o=t.labels,s=t.marker.colors||[],l=t.values,u=t._length,d=t._hasValues&&u,f,p;if(t.dlabel)for(o=Array(u),f=0;f<u;f++)o[f]=String(t.label0+f*t.dlabel);var m={},h=c(i[`_`+t.type+`colormap`]),g=0,_=!1;for(f=0;f<u;f++){var v,y,b;if(d){if(v=l[f],!r(v))continue;v=+v}else v=1;y=o[f],(y===void 0||y===``)&&(y=f),y=String(y);var x=m[y];x===void 0?(m[y]=n.length,b=a.indexOf(y)!==-1,b||(g+=v),n.push({v,label:y,color:h(s[f],y),i:f,pts:[f],hidden:b})):(_=!0,p=n[x],p.v+=v,p.pts.push(f),p.hidden||(g+=v),p.color===!1&&s[f]&&(p.color=h(s[f],y)))}return n=n.filter(function(e){return e.v>=0}),(t.type===`funnelarea`?_:t.sort)&&n.sort(function(e,t){return t.v-e.v}),n[0]&&(n[0].vTotal=g),n}function c(e){return function(t,n){return!t||(t=i(t),!t.isValid())?!1:(t=a.addOpacity(t,t.getAlpha()),e[n]||(e[n]=t),t)}}function l(e,t){var n=(t||{}).type;n||=`pie`;var r=e._fullLayout,i=e.calcdata,a=r[n+`colorway`],s=r[`_`+n+`colormap`];r[`extend`+n+`colors`]&&(a=u(a,o));for(var c=0,l=0;l<i.length;l++){var d=i[l];if(d[0].trace.type===n)for(var f=0;f<d.length;f++){var p=d[f];p.color===!1&&(s[p.label]?p.color=s[p.label]:(s[p.label]=p.color=a[c%a.length],c++))}}}function u(e,t){var n,r=JSON.stringify(e),a=t[r];if(!a){for(a=e.slice(),n=0;n<e.length;n++)a.push(i(e[n]).lighten(20).toHexString());for(n=0;n<e.length;n++)a.push(i(e[n]).darken(20).toHexString());t[r]=a}return a}e.exports={calc:s,crossTraceCalc:l,makePullColorFn:c,generateExtendedColors:u}}),37434:(function(e,t,n){var r=n(92770),i=n(71828),a=n(34e3),o=n(27670).c,s=n(90769).handleText;function c(e,t){var n=Array.isArray(e),a=i.isArrayOrTypedArray(t),o=Math.min(n?e.length:1/0,a?t.length:1/0);if(isFinite(o)||(o=0),o&&a){for(var s,c=0;c<o;c++){var l=t[c];if(r(l)&&l>0){s=!0;break}}s||(o=0)}return{hasLabels:n,hasValues:a,len:o}}function l(e,t,n,r){function l(n,r){return i.coerce(e,t,a,n,r)}var u=c(l(`labels`),l(`values`)),d=u.len;if(t._hasLabels=u.hasLabels,t._hasValues=u.hasValues,!t._hasLabels&&t._hasValues&&(l(`label0`),l(`dlabel`)),!d){t.visible=!1;return}t._length=d,l(`marker.line.width`)&&l(`marker.line.color`),l(`marker.colors`),l(`scalegroup`);var f=l(`text`),p=l(`texttemplate`),m;if(p||(m=l(`textinfo`,Array.isArray(f)?`text+percent`:`percent`)),l(`hovertext`),l(`hovertemplate`),p||m&&m!==`none`){var h=l(`textposition`);s(e,t,r,l,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(h)||h===`auto`||h===`outside`)&&l(`automargin`),(h===`inside`||h===`auto`||Array.isArray(h))&&l(`insidetextorientation`)}o(t,r,l);var g=l(`hole`);if(l(`title.text`)){var _=l(`title.position`,g?`middle center`:`top center`);!g&&_===`middle center`&&(t.title.position=`top center`),i.coerceFont(l,`title.font`,r.font)}l(`sort`),l(`direction`),l(`rotation`),l(`pull`)}e.exports={handleLabelsAndValues:c,supplyDefaults:l}}),20007:(function(e,t,n){var r=n(23469).appendArrayMultiPointValues;e.exports=function(e,t){var n={curveNumber:t.index,pointNumbers:e.pts,data:t._input,fullData:t,label:e.label,color:e.color,value:e.v,percent:e.percent,text:e.text,bbox:e.bbox,v:e.v};return e.pts.length===1&&(n.pointNumber=n.i=e.pts[0]),r(n,t,e.pts),t.type===`funnelarea`&&(delete n.v,delete n.i),n}}),53581:(function(e,t,n){var r=n(71828);function i(e){return e.indexOf(`e`)===-1?e.indexOf(`.`)===-1?e:e.replace(/[.]?0+$/,``):e.replace(/[.]?0+e/,`e`)}t.formatPiePercent=function(e,t){var n=i((e*100).toPrecision(3));return r.numSeparate(n,t)+`%`},t.formatPieValue=function(e,t){var n=i(e.toPrecision(10));return r.numSeparate(n,t)},t.getFirstFilled=function(e,t){if(Array.isArray(e))for(var n=0;n<t.length;n++){var r=e[t[n]];if(r||r===0||r===``)return r}},t.castOption=function(e,n){if(Array.isArray(e))return t.getFirstFilled(e,n);if(e)return e},t.getRotationAngle=function(e){return(e===`auto`?0:e)*Math.PI/180}}),58810:(function(e,t,n){e.exports={attributes:n(34e3),supplyDefaults:n(37434).supplyDefaults,supplyLayoutDefaults:n(92097),layoutAttributes:n(92774),calc:n(32354).calc,crossTraceCalc:n(32354).crossTraceCalc,plot:n(14575).plot,style:n(68357),styleOne:n(63463),moduleType:`trace`,name:`pie`,basePlotModule:n(13584),categories:[`pie-like`,`pie`,`showLegend`],meta:{}}}),92774:(function(e){e.exports={hiddenlabels:{valType:`data_array`,editType:`calc`},piecolorway:{valType:`colorlist`,editType:`calc`},extendpiecolors:{valType:`boolean`,dflt:!0,editType:`calc`}}}),92097:(function(e,t,n){var r=n(71828),i=n(92774);e.exports=function(e,t){function n(n,a){return r.coerce(e,t,i,n,a)}n(`hiddenlabels`),n(`piecolorway`,t.colorway),n(`extendpiecolors`)}}),14575:(function(e,t,n){var r=n(39898),i=n(74875),a=n(30211),o=n(7901),s=n(91424),c=n(71828),l=c.strScale,u=c.strTranslate,d=n(63893),f=n(72597),p=f.recordMinTextSize,m=f.clearMinTextSize,h=n(97313).TEXTPAD,g=n(53581),_=n(20007),v=n(71828).isValidTextValue;function y(e,t){var n=e._context.staticPlot,a=e._fullLayout,o=a._size;m(`pie`,a),w(t,e),B(t,o);var f=c.makeTraceGroups(a._pielayer,t,`trace`).each(function(t){var f=r.select(this),m=t[0],h=m.trace;H(t),f.attr(`stroke-linejoin`,`round`),f.each(function(){var _=r.select(this).selectAll(`g.slice`).data(t);_.enter().append(`g`).classed(`slice`,!0),_.exit().remove();var v=[[[],[]],[[],[]]],y=!1;_.each(function(i,o){if(i.hidden){r.select(this).selectAll(`path,g`).remove();return}i.pointNumber=i.i,i.curveNumber=h.index,v[i.pxmid[1]<0?0:1][i.pxmid[0]<0?0:1].push(i);var l=m.cx,u=m.cy,f=r.select(this),_=f.selectAll(`path.surface`).data([i]);if(_.enter().append(`path`).classed(`surface`,!0).style({"pointer-events":n?`none`:`all`}),f.call(x,e,t),h.pull){var b=+g.castOption(h.pull,i.pts)||0;b>0&&(l+=b*i.pxmid[0],u+=b*i.pxmid[1])}i.cxFinal=l,i.cyFinal=u;function w(e,t,n,r){var a=r*(t[0]-e[0]),o=r*(t[1]-e[1]);return`a`+r*m.r+`,`+r*m.r+` 0 `+i.largeArc+(n?` 1 `:` 0 `)+a+`,`+o}var E=h.hole;if(i.v===m.vTotal){var D=`M`+(l+i.px0[0])+`,`+(u+i.px0[1])+w(i.px0,i.pxmid,!0,1)+w(i.pxmid,i.px0,!0,1)+`Z`;E?_.attr(`d`,`M`+(l+E*i.px0[0])+`,`+(u+E*i.px0[1])+w(i.px0,i.pxmid,!1,E)+w(i.pxmid,i.px0,!1,E)+`Z`+D):_.attr(`d`,D)}else{var O=w(i.px0,i.px1,!0,1);if(E){var k=1-E;_.attr(`d`,`M`+(l+E*i.px1[0])+`,`+(u+E*i.px1[1])+w(i.px1,i.px0,!1,E)+`l`+k*i.px0[0]+`,`+k*i.px0[1]+O+`Z`)}else _.attr(`d`,`M`+l+`,`+u+`l`+i.px0[0]+`,`+i.px0[1]+O+`Z`)}W(e,i,m);var A=g.castOption(h.textposition,i.pts),j=f.selectAll(`g.slicetext`).data(i.text&&A!==`none`?[0]:[]);j.enter().append(`g`).classed(`slicetext`,!0),j.exit().remove(),j.each(function(){var n=c.ensureSingle(r.select(this),`text`,``,function(e){e.attr(`data-notex`,1)}),f=c.ensureUniformFontSize(e,A===`outside`?S(h,i,a.font):C(h,i,a.font));n.text(i.text).attr({class:`slicetext`,transform:``,"text-anchor":`middle`}).call(s.font,f).call(d.convertToTspans,e);var g=s.bBox(n.node()),_;if(A===`outside`)_=N(g,i);else if(_=T(g,i,m),A===`auto`&&_.scale<1){var v=c.ensureUniformFontSize(e,h.outsidetextfont);n.call(s.font,v),g=s.bBox(n.node()),_=N(g,i)}var b=_.textPosAngle,x=b===void 0?i.pxmid:U(m.r,b);if(_.targetX=l+x[0]*_.rCenter+(_.x||0),_.targetY=u+x[1]*_.rCenter+(_.y||0),G(_,g),_.outside){var w=_.targetY;i.yLabelMin=w-g.height/2,i.yLabelMid=w,i.yLabelMax=w+g.height/2,i.labelExtraX=0,i.labelExtraY=0,y=!0}_.fontSize=f.size,p(h.type,_,a),t[o].transform=_,c.setTransormAndDisplay(n,_)})});var w=r.select(this).selectAll(`g.titletext`).data(h.title.text?[0]:[]);if(w.enter().append(`g`).classed(`titletext`,!0),w.exit().remove(),w.each(function(){var t=c.ensureSingle(r.select(this),`text`,``,function(e){e.attr(`data-notex`,1)}),n=h.title.text;h._meta&&(n=c.templateString(n,h._meta)),t.text(n).attr({class:`titletext`,transform:``,"text-anchor":`middle`}).call(s.font,h.title.font).call(d.convertToTspans,e);var i=h.title.position===`middle center`?P(m):F(m,o);t.attr(`transform`,u(i.x,i.y)+l(Math.min(1,i.scale))+u(i.tx,i.ty))}),y&&z(v,h),b(_,h),y&&h.automargin){var E=s.bBox(f.node()),D=h.domain,O=o.w*(D.x[1]-D.x[0]),k=o.h*(D.y[1]-D.y[0]),A=(.5*O-m.r)/o.w,j=(.5*k-m.r)/o.h;i.autoMargin(e,`pie.`+h.uid+`.automargin`,{xl:D.x[0]-A,xr:D.x[1]+A,yb:D.y[0]-j,yt:D.y[1]+j,l:Math.max(m.cx-m.r-E.left,0),r:Math.max(E.right-(m.cx+m.r),0),b:Math.max(E.bottom-(m.cy+m.r),0),t:Math.max(m.cy-m.r-E.top,0),pad:5})}})});setTimeout(function(){f.selectAll(`tspan`).each(function(){var e=r.select(this);e.attr(`dy`)&&e.attr(`dy`,e.attr(`dy`))})},0)}function b(e,t){e.each(function(e){var n=r.select(this);if(!e.labelExtraX&&!e.labelExtraY){n.select(`path.textline`).remove();return}var i=n.select(`g.slicetext text`);e.transform.targetX+=e.labelExtraX,e.transform.targetY+=e.labelExtraY,c.setTransormAndDisplay(i,e.transform);var a=e.cxFinal+e.pxmid[0],s=e.cyFinal+e.pxmid[1],l=`M`+a+`,`+s,u=(e.yLabelMax-e.yLabelMin)*(e.pxmid[0]<0?-1:1)/4;if(e.labelExtraX){var d=e.labelExtraX*e.pxmid[1]/e.pxmid[0],f=e.yLabelMid+e.labelExtraY-(e.cyFinal+e.pxmid[1]);Math.abs(d)>Math.abs(f)?l+=`l`+f*e.pxmid[0]/e.pxmid[1]+`,`+f+`H`+(a+e.labelExtraX+u):l+=`l`+e.labelExtraX+`,`+d+`v`+(f-d)+`h`+u}else l+=`V`+(e.yLabelMid+e.labelExtraY)+`h`+u;c.ensureSingle(n,`path`,`textline`).call(o.stroke,t.outsidetextfont.color).attr({"stroke-width":Math.min(2,t.outsidetextfont.size/8),d:l,fill:`none`})})}function x(e,t,n){var i=n[0],o=i.cx,s=i.cy,l=i.trace,u=l.type===`funnelarea`;`_hasHoverLabel`in l||(l._hasHoverLabel=!1),`_hasHoverEvent`in l||(l._hasHoverEvent=!1),e.on(`mouseover`,function(e){var n=t._fullLayout,d=t._fullData[l.index];if(!(t._dragging||n.hovermode===!1)){var f=d.hoverinfo;if(Array.isArray(f)&&(f=a.castHoverinfo({hoverinfo:[g.castOption(f,e.pts)],_module:l._module},n,0)),f===`all`&&(f=`label+text+value+percent+name`),d.hovertemplate||f!==`none`&&f!==`skip`&&f){var p=e.rInscribed||0,m=o+e.pxmid[0]*(1-p),h=s+e.pxmid[1]*(1-p),v=n.separators,y=[];if(f&&f.indexOf(`label`)!==-1&&y.push(e.label),e.text=g.castOption(d.hovertext||d.text,e.pts),f&&f.indexOf(`text`)!==-1){var b=e.text;c.isValidTextValue(b)&&y.push(b)}e.value=e.v,e.valueLabel=g.formatPieValue(e.v,v),f&&f.indexOf(`value`)!==-1&&y.push(e.valueLabel),e.percent=e.v/i.vTotal,e.percentLabel=g.formatPiePercent(e.percent,v),f&&f.indexOf(`percent`)!==-1&&y.push(e.percentLabel);var x=d.hoverlabel,S=x.font,C=[];a.loneHover({trace:l,x0:m-p*i.r,x1:m+p*i.r,y:h,_x0:u?o+e.TL[0]:m-p*i.r,_x1:u?o+e.TR[0]:m+p*i.r,_y0:u?s+e.TL[1]:h-p*i.r,_y1:u?s+e.BL[1]:h+p*i.r,text:y.join(`<br>`),name:d.hovertemplate||f.indexOf(`name`)!==-1?d.name:void 0,idealAlign:e.pxmid[0]<0?`left`:`right`,color:g.castOption(x.bgcolor,e.pts)||e.color,borderColor:g.castOption(x.bordercolor,e.pts),fontFamily:g.castOption(S.family,e.pts),fontSize:g.castOption(S.size,e.pts),fontColor:g.castOption(S.color,e.pts),nameLength:g.castOption(x.namelength,e.pts),textAlign:g.castOption(x.align,e.pts),hovertemplate:g.castOption(d.hovertemplate,e.pts),hovertemplateLabels:e,eventData:[_(e,d)]},{container:n._hoverlayer.node(),outerContainer:n._paper.node(),gd:t,inOut_bbox:C}),e.bbox=C[0],l._hasHoverLabel=!0}l._hasHoverEvent=!0,t.emit(`plotly_hover`,{points:[_(e,d)],event:r.event})}}),e.on(`mouseout`,function(e){var n=t._fullLayout,i=t._fullData[l.index],o=r.select(this).datum();l._hasHoverEvent&&=(e.originalEvent=r.event,t.emit(`plotly_unhover`,{points:[_(o,i)],event:r.event}),!1),l._hasHoverLabel&&=(a.loneUnhover(n._hoverlayer.node()),!1)}),e.on(`click`,function(e){var n=t._fullLayout,i=t._fullData[l.index];t._dragging||n.hovermode===!1||(t._hoverdata=[_(e,i)],a.click(t,r.event))})}function S(e,t,n){return{color:g.castOption(e.outsidetextfont.color,t.pts)||g.castOption(e.textfont.color,t.pts)||n.color,family:g.castOption(e.outsidetextfont.family,t.pts)||g.castOption(e.textfont.family,t.pts)||n.family,size:g.castOption(e.outsidetextfont.size,t.pts)||g.castOption(e.textfont.size,t.pts)||n.size}}function C(e,t,n){var r=g.castOption(e.insidetextfont.color,t.pts);!r&&e._input.textfont&&(r=g.castOption(e._input.textfont.color,t.pts));var i=g.castOption(e.insidetextfont.family,t.pts)||g.castOption(e.textfont.family,t.pts)||n.family,a=g.castOption(e.insidetextfont.size,t.pts)||g.castOption(e.textfont.size,t.pts)||n.size;return{color:r||o.contrast(t.color),family:i,size:a}}function w(e,t){for(var n,r,i=0;i<e.length;i++)if(n=e[i][0],r=n.trace,r.title.text){var a=r.title.text;r._meta&&(a=c.templateString(a,r._meta));var o=s.tester.append(`text`).attr(`data-notex`,1).text(a).call(s.font,r.title.font).call(d.convertToTspans,t),l=s.bBox(o.node(),!0);n.titleBox={width:l.width,height:l.height},o.remove()}}function T(e,t,n){var r=n.r||t.rpx1,i=t.rInscribed;if(t.startangle===t.stopangle)return{rCenter:1-i,scale:0,rotate:0,textPosAngle:0};var a=t.ring,o=a===1&&Math.abs(t.startangle-t.stopangle)===Math.PI*2,s=t.halfangle,c=t.midangle,l=n.trace.insidetextorientation,u=l===`horizontal`,d=l===`tangential`,f=l===`radial`,p=l===`auto`,m=[],h;if(!p){var g=function(n,i){if(E(t,n)){var o=Math.abs(n-t.startangle),s=Math.abs(n-t.stopangle),c=o<s?o:s;h=i===`tan`?O(e,r,a,c,0):D(e,r,a,c,Math.PI/2),h.textPosAngle=n,m.push(h)}},_;if(u||d){for(_=4;_>=-4;_-=2)g(Math.PI*_,`tan`);for(_=4;_>=-4;_-=2)g(Math.PI*(_+1),`tan`)}if(u||f){for(_=4;_>=-4;_-=2)g(Math.PI*(_+1.5),`rad`);for(_=4;_>=-4;_-=2)g(Math.PI*(_+.5),`rad`)}}if(o||p||u){var v=Math.sqrt(e.width*e.width+e.height*e.height);if(h={scale:i*r*2/v,rCenter:1-i,rotate:0},h.textPosAngle=(t.startangle+t.stopangle)/2,h.scale>=1)return h;m.push(h)}(p||f)&&(h=D(e,r,a,s,c),h.textPosAngle=(t.startangle+t.stopangle)/2,m.push(h)),(p||d)&&(h=O(e,r,a,s,c),h.textPosAngle=(t.startangle+t.stopangle)/2,m.push(h));for(var y=0,b=0,x=0;x<m.length;x++){var S=m[x].scale;if(b<S&&(b=S,y=x),!p&&b>=1)break}return m[y]}function E(e,t){var n=e.startangle,r=e.stopangle;return n>t&&t>r||n<t&&t<r}function D(e,t,n,r,i){t=Math.max(0,t-2*h);var a=e.width/e.height,o=j(a,r,t,n);return{scale:o*2/e.height,rCenter:k(a,o/t),rotate:A(i)}}function O(e,t,n,r,i){t=Math.max(0,t-2*h);var a=e.height/e.width,o=j(a,r,t,n);return{scale:o*2/e.width,rCenter:k(a,o/t),rotate:A(i+Math.PI/2)}}function k(e,t){return Math.cos(t)-e*t}function A(e){return(180/Math.PI*e+720)%180-90}function j(e,t,n,r){var i=e+1/(2*Math.tan(t));return n*Math.min(1/(Math.sqrt(i*i+.5)+i),r/(Math.sqrt(e*e+r/2)+e))}function M(e,t){return e.v===t.vTotal&&!t.trace.hole?1:Math.min(1/(1+1/Math.sin(e.halfangle)),e.ring/2)}function N(e,t){var n=t.pxmid[0],r=t.pxmid[1],i=e.width/2,a=e.height/2;return n<0&&(i*=-1),r<0&&(a*=-1),{scale:1,rCenter:1,rotate:0,x:i+Math.abs(a)*(i>0?1:-1)/2,y:a/(1+n*n/(r*r)),outside:!0}}function P(e){var t=Math.sqrt(e.titleBox.width*e.titleBox.width+e.titleBox.height*e.titleBox.height);return{x:e.cx,y:e.cy,scale:e.trace.hole*e.r*2/t,tx:0,ty:-e.titleBox.height/2+e.trace.title.font.size}}function F(e,t){var n=1,r=1,i,a=e.trace,o={x:e.cx,y:e.cy},s={tx:0,ty:0};s.ty+=a.title.font.size,i=R(a),a.title.position.indexOf(`top`)===-1?a.title.position.indexOf(`bottom`)!==-1&&(o.y+=(1+i)*e.r):(o.y-=(1+i)*e.r,s.ty-=e.titleBox.height);var c=I(e.r,e.trace.aspectratio),l=t.w*(a.domain.x[1]-a.domain.x[0])/2;return a.title.position.indexOf(`left`)===-1?a.title.position.indexOf(`center`)===-1?a.title.position.indexOf(`right`)!==-1&&(l+=c,o.x+=(1+i)*c,s.tx-=e.titleBox.width/2):l*=2:(l+=c,o.x-=(1+i)*c,s.tx+=e.titleBox.width/2),n=l/e.titleBox.width,r=L(e,t)/e.titleBox.height,{x:o.x,y:o.y,scale:Math.min(n,r),tx:s.tx,ty:s.ty}}function I(e,t){return e/(t===void 0?1:t)}function L(e,t){var n=e.trace,r=t.h*(n.domain.y[1]-n.domain.y[0]);return Math.min(e.titleBox.height,r/2)}function R(e){var t=e.pull;if(!t)return 0;var n;if(Array.isArray(t))for(t=0,n=0;n<e.pull.length;n++)e.pull[n]>t&&(t=e.pull[n]);return t}function z(e,t){var n,r,i,a,o,s,c,l,u,d,f,p,m;function h(e,t){return e.pxmid[1]-t.pxmid[1]}function _(e,t){return t.pxmid[1]-e.pxmid[1]}function v(e,n){n||={};var i=n.labelExtraY+(r?n.yLabelMax:n.yLabelMin),l=r?e.yLabelMin:e.yLabelMax,u=r?e.yLabelMax:e.yLabelMin,f=e.cyFinal+o(e.px0[1],e.px1[1]),p=i-l,m,h,_,v,y,b;if(p*c>0&&(e.labelExtraY=p),Array.isArray(t.pull))for(h=0;h<d.length;h++)_=d[h],!(_===e||(g.castOption(t.pull,e.pts)||0)>=(g.castOption(t.pull,_.pts)||0))&&((e.pxmid[1]-_.pxmid[1])*c>0?(v=_.cyFinal+o(_.px0[1],_.px1[1]),p=v-l-e.labelExtraY,p*c>0&&(e.labelExtraY+=p)):(u+e.labelExtraY-f)*c>0&&(m=3*s*Math.abs(h-d.indexOf(e)),y=_.cxFinal+a(_.px0[0],_.px1[0]),b=y+m-(e.cxFinal+e.pxmid[0])-e.labelExtraX,b*s>0&&(e.labelExtraX+=b)))}for(r=0;r<2;r++)for(i=r?h:_,o=r?Math.max:Math.min,c=r?1:-1,n=0;n<2;n++){for(a=n?Math.max:Math.min,s=n?1:-1,l=e[r][n],l.sort(i),u=e[1-r][n],d=u.concat(l),p=[],f=0;f<l.length;f++)l[f].yLabelMid!==void 0&&p.push(l[f]);for(m=!1,f=0;r&&f<u.length;f++)if(u[f].yLabelMid!==void 0){m=u[f];break}for(f=0;f<p.length;f++){var y=f&&p[f-1];m&&!f&&(y=m),v(p[f],y)}}}function B(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r][0],a=i.trace,o=a.domain,s=t.w*(o.x[1]-o.x[0]),c=t.h*(o.y[1]-o.y[0]);a.title.text&&a.title.position!==`middle center`&&(c-=L(i,t));var l=s/2,u=c/2;a.type===`funnelarea`&&!a.scalegroup&&(u/=a.aspectratio),i.r=Math.min(l,u)/(1+R(a)),i.cx=t.l+t.w*(a.domain.x[1]+a.domain.x[0])/2,i.cy=t.t+t.h*(1-a.domain.y[0])-c/2,a.title.text&&a.title.position.indexOf(`bottom`)!==-1&&(i.cy-=L(i,t)),a.scalegroup&&n.indexOf(a.scalegroup)===-1&&n.push(a.scalegroup)}V(e,n)}function V(e,t){for(var n,r,i,a=0;a<t.length;a++){var o=1/0,s=t[a];for(r=0;r<e.length;r++)if(n=e[r][0],i=n.trace,i.scalegroup===s){var c;if(i.type===`pie`)c=n.r*n.r;else if(i.type===`funnelarea`){var l,u;i.aspectratio>1?(l=n.r,u=l/i.aspectratio):(u=n.r,l=u*i.aspectratio),l*=(1+i.baseratio)/2,c=l*u}o=Math.min(o,c/n.vTotal)}for(r=0;r<e.length;r++)if(n=e[r][0],i=n.trace,i.scalegroup===s){var d=o*n.vTotal;i.type===`funnelarea`&&(d/=(1+i.baseratio)/2,d/=i.aspectratio),n.r=Math.sqrt(d)}}}function H(e){var t=e[0],n=t.r,r=t.trace,i=g.getRotationAngle(r.rotation),a=2*Math.PI/t.vTotal,o=`px0`,s=`px1`,c,l,u;if(r.direction===`counterclockwise`){for(c=0;c<e.length&&e[c].hidden;c++);if(c===e.length)return;i+=a*e[c].v,a*=-1,o=`px1`,s=`px0`}for(u=U(n,i),c=0;c<e.length;c++)l=e[c],!l.hidden&&(l[o]=u,l.startangle=i,i+=a*l.v/2,l.pxmid=U(n,i),l.midangle=i,i+=a*l.v/2,u=U(n,i),l.stopangle=i,l[s]=u,l.largeArc=l.v>t.vTotal/2?1:0,l.halfangle=Math.PI*Math.min(l.v/t.vTotal,.5),l.ring=1-r.hole,l.rInscribed=M(l,t))}function U(e,t){return[e*Math.sin(t),-e*Math.cos(t)]}function W(e,t,n){var r=e._fullLayout,i=n.trace,a=i.texttemplate,o=i.textinfo;if(!a&&o&&o!==`none`){var s=o.split(`+`),l=function(e){return s.indexOf(e)!==-1},u=l(`label`),d=l(`text`),f=l(`value`),p=l(`percent`),m=r.separators,h=u?[t.label]:[];if(d){var _=g.getFirstFilled(i.text,t.pts);v(_)&&h.push(_)}f&&h.push(g.formatPieValue(t.v,m)),p&&h.push(g.formatPiePercent(t.v/n.vTotal,m)),t.text=h.join(`<br>`)}function y(e){return{label:e.label,value:e.v,valueLabel:g.formatPieValue(e.v,r.separators),percent:e.v/n.vTotal,percentLabel:g.formatPiePercent(e.v/n.vTotal,r.separators),color:e.color,text:e.text,customdata:c.castOption(i,e.i,`customdata`)}}if(a){var b=c.castOption(i,t.i,`texttemplate`);if(!b)t.text=``;else{var x=y(t),S=g.getFirstFilled(i.text,t.pts);(v(S)||S===``)&&(x.text=S),t.text=c.texttemplateString(b,x,e._fullLayout._d3locale,x,i._meta||{})}}}function G(e,t){var n=e.rotate*Math.PI/180,r=Math.cos(n),i=Math.sin(n),a=(t.left+t.right)/2,o=(t.top+t.bottom)/2;e.textX=a*r-o*i,e.textY=a*i+o*r,e.noCenter=!0}e.exports={plot:y,formatSliceLabel:W,transformInsideText:T,determineInsideTextFont:C,positionTitleOutside:F,prerenderTitles:w,layoutAreas:B,attachFxHandlers:x,computeTransform:G}}),68357:(function(e,t,n){var r=n(39898),i=n(63463),a=n(72597).resizeText;e.exports=function(e){var t=e._fullLayout._pielayer.selectAll(`.trace`);a(e,t,`pie`),t.each(function(e){var t=e[0].trace,n=r.select(this);n.style({opacity:t.opacity}),n.selectAll(`path.surface`).each(function(e){r.select(this).call(i,e,t)})})}}),63463:(function(e,t,n){var r=n(7901),i=n(53581).castOption;e.exports=function(e,t,n){var a=n.marker.line,o=i(a.color,t.pts)||r.defaultLine,s=i(a.width,t.pts)||0;e.style(`stroke-width`,s).call(r.fill,t.color).call(r.stroke,o)}}),10959:(function(e,t,n){var r=n(82196);e.exports={x:r.x,y:r.y,xy:{valType:`data_array`,editType:`calc`},indices:{valType:`data_array`,editType:`calc`},xbounds:{valType:`data_array`,editType:`calc`},ybounds:{valType:`data_array`,editType:`calc`},text:r.text,marker:{color:{valType:`color`,arrayOk:!1,editType:`calc`},opacity:{valType:`number`,min:0,max:1,dflt:1,arrayOk:!1,editType:`calc`},blend:{valType:`boolean`,dflt:null,editType:`calc`},sizemin:{valType:`number`,min:.1,max:2,dflt:.5,editType:`calc`},sizemax:{valType:`number`,min:.1,dflt:20,editType:`calc`},border:{color:{valType:`color`,arrayOk:!1,editType:`calc`},arearatio:{valType:`number`,min:0,max:1,dflt:0,editType:`calc`},editType:`calc`},editType:`calc`},transforms:void 0}}),42743:(function(e,t,n){var r=n(9330).gl_pointcloud2d,i=n(78614),a=n(71739).findExtremes,o=n(34603);function s(e,t){this.scene=e,this.uid=t,this.type=`pointcloud`,this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color=`rgb(0, 0, 0)`,this.name=``,this.hoverinfo=`all`,this.idToIndex=new Int32Array,this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array,idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=r(e.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var c=s.prototype;c.handlePick=function(e){var t=this.idToIndex[e.pointId];return{trace:this,dataCoord:e.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[t*2],this.pickXYData[t*2+1]]:[this.pickXData[t],this.pickYData[t]],textLabel:Array.isArray(this.textLabels)?this.textLabels[t]:this.textLabels,color:this.color,name:this.name,pointIndex:t,hoverinfo:this.hoverinfo}},c.update=function(e){this.index=e.index,this.textLabels=e.text,this.name=e.name,this.hoverinfo=e.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(e),this.color=o(e,{})},c.updateFast=function(e){var t=this.xData=this.pickXData=e.x,n=this.yData=this.pickYData=e.y,r=this.pickXYData=e.xy,o=e.xbounds&&e.ybounds,s=e.indices,c,l,u,d=this.bounds,f,p,m;if(r){if(u=r,c=r.length>>>1,o)d[0]=e.xbounds[0],d[2]=e.xbounds[1],d[1]=e.ybounds[0],d[3]=e.ybounds[1];else for(m=0;m<c;m++)f=u[m*2],p=u[m*2+1],f<d[0]&&(d[0]=f),f>d[2]&&(d[2]=f),p<d[1]&&(d[1]=p),p>d[3]&&(d[3]=p);if(s)l=s;else for(l=new Int32Array(c),m=0;m<c;m++)l[m]=m}else for(c=t.length,u=new Float32Array(2*c),l=new Int32Array(c),m=0;m<c;m++)f=t[m],p=n[m],l[m]=m,u[m*2]=f,u[m*2+1]=p,f<d[0]&&(d[0]=f),f>d[2]&&(d[2]=f),p<d[1]&&(d[1]=p),p>d[3]&&(d[3]=p);this.idToIndex=l,this.pointcloudOptions.idToIndex=l,this.pointcloudOptions.positions=u;var h=i(e.marker.color),g=i(e.marker.border.color),_=e.opacity*e.marker.opacity;h[3]*=_,this.pointcloudOptions.color=h;var v=e.marker.blend;if(v===null){var y=100;v=t.length<y||n.length<y}this.pointcloudOptions.blend=v,g[3]*=_,this.pointcloudOptions.borderColor=g;var b=e.marker.sizemin,x=Math.max(e.marker.sizemax,e.marker.sizemin);this.pointcloudOptions.sizeMin=b,this.pointcloudOptions.sizeMax=x,this.pointcloudOptions.areaRatio=e.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var S=this.scene.xaxis,C=this.scene.yaxis,w=x/2||.5;e._extremes[S._id]=a(S,[d[0],d[2]],{ppad:w}),e._extremes[C._id]=a(C,[d[1],d[3]],{ppad:w})},c.dispose=function(){this.pointcloud.dispose()};function l(e,t){var n=new s(e,t.uid);return n.update(t),n}e.exports=l}),33876:(function(e,t,n){var r=n(71828),i=n(10959);e.exports=function(e,t,n){function a(n,a){return r.coerce(e,t,i,n,a)}a(`x`),a(`y`),a(`xbounds`),a(`ybounds`),e.xy&&e.xy instanceof Float32Array&&(t.xy=e.xy),e.indices&&e.indices instanceof Int32Array&&(t.indices=e.indices),a(`text`),a(`marker.color`,n),a(`marker.opacity`),a(`marker.blend`),a(`marker.sizemin`),a(`marker.sizemax`),a(`marker.border.color`,n),a(`marker.border.arearatio`),t._length=null}}),20593:(function(e,t,n){[`*pointcloud* trace is deprecated!`,`Please consider switching to the *scattergl* trace type.`].join(` `),e.exports={attributes:n(10959),supplyDefaults:n(33876),calc:n(36563),plot:n(42743),moduleType:`trace`,name:`pointcloud`,basePlotModule:n(4796),categories:[`gl`,`gl2d`,`showLegend`],meta:{}}}),39953:(function(e,t,n){var r=n(41940),i=n(9012),a=n(22399),o=n(77914),s=n(27670).Y,c=n(5386).f,l=n(50693),u=n(44467).templatedArray,d=n(12663).descriptionOnlyNumbers,f=n(1426).extendFlat,p=n(30962).overrideAll,m=e.exports=p({hoverinfo:f({},i.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:o.hoverlabel,domain:s({name:`sankey`,trace:!0}),orientation:{valType:`enumerated`,values:[`v`,`h`],dflt:`h`},valueformat:{valType:`string`,dflt:`.3s`,description:d(`value`)},valuesuffix:{valType:`string`,dflt:``},arrangement:{valType:`enumerated`,values:[`snap`,`perpendicular`,`freeform`,`fixed`],dflt:`snap`},textfont:r({}),customdata:void 0,node:{label:{valType:`data_array`,dflt:[]},groups:{valType:`info_array`,impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:`number`,editType:`calc`}},x:{valType:`data_array`,dflt:[]},y:{valType:`data_array`,dflt:[]},color:{valType:`color`,arrayOk:!0},customdata:{valType:`data_array`,editType:`calc`},line:{color:{valType:`color`,dflt:a.defaultLine,arrayOk:!0},width:{valType:`number`,min:0,dflt:.5,arrayOk:!0}},pad:{valType:`number`,arrayOk:!1,min:0,dflt:20},thickness:{valType:`number`,arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:`enumerated`,values:[`all`,`none`,`skip`],dflt:`all`},hoverlabel:o.hoverlabel,hovertemplate:c({},{keys:[`value`,`label`]})},link:{arrowlen:{valType:`number`,min:0,dflt:0},label:{valType:`data_array`,dflt:[]},color:{valType:`color`,arrayOk:!0},customdata:{valType:`data_array`,editType:`calc`},line:{color:{valType:`color`,dflt:a.defaultLine,arrayOk:!0},width:{valType:`number`,min:0,dflt:0,arrayOk:!0}},source:{valType:`data_array`,dflt:[]},target:{valType:`data_array`,dflt:[]},value:{valType:`data_array`,dflt:[]},hoverinfo:{valType:`enumerated`,values:[`all`,`none`,`skip`],dflt:`all`},hoverlabel:o.hoverlabel,hovertemplate:c({},{keys:[`value`,`label`]}),colorscales:u(`concentrationscales`,{editType:`calc`,label:{valType:`string`,editType:`calc`,dflt:``},cmax:{valType:`number`,editType:`calc`,dflt:1},cmin:{valType:`number`,editType:`calc`,dflt:0},colorscale:f(l().colorscale,{dflt:[[0,`white`],[1,`black`]]})})}},`calc`,`nested`);m.transforms=void 0}),75536:(function(e,t,n){var r=n(30962).overrideAll,i=n(27659).a0,a=n(60436),o=n(528),s=n(6964),c=n(28569),l=n(47322).prepSelect,u=n(71828),d=n(73972),f=`sankey`;t.name=f,t.baseLayoutAttrOverrides=r({hoverlabel:o.hoverlabel},`plot`,`nested`),t.plot=function(e){var n=i(e.calcdata,f)[0];a(e,n),t.updateFx(e)},t.clean=function(e,t,n,r){var i=r._has&&r._has(f),a=t._has&&t._has(f);i&&!a&&(r._paperdiv.selectAll(`.sankey`).remove(),r._paperdiv.selectAll(`.bgsankey`).remove())},t.updateFx=function(e){for(var t=0;t<e._fullData.length;t++)p(e,t)};function p(e,t){var n=e._fullData[t],r=e._fullLayout,i=r.dragmode,a=r.dragmode===`pan`?`move`:`crosshair`,o=n._bgRect;if(o&&!(i===`pan`||i===`zoom`)){s(o,a);var f={_id:`x`,c2p:u.identity,_offset:n._sankey.translateX,_length:n._sankey.width},p={_id:`y`,c2p:u.identity,_offset:n._sankey.translateY,_length:n._sankey.height},m={gd:e,element:o.node(),plotinfo:{id:t,xaxis:f,yaxis:p,fillRangeItems:u.noop},subplot:t,xaxes:[f],yaxes:[p],doneFnCompleted:function(n){var r=e._fullData[t],i,a=r.node.groups.slice(),o=[];function s(e){for(var t=r._sankey.graph.nodes,n=0;n<t.length;n++)if(t[n].pointNumber===e)return t[n]}for(var c=0;c<n.length;c++){var l=s(n[c].pointNumber);if(l)if(l.group){for(var u=0;u<l.childrenNodes.length;u++)o.push(l.childrenNodes[u].pointNumber);a[l.pointNumber-r.node._count]=!1}else o.push(l.pointNumber)}i=a.filter(Boolean).concat([o]),d.call(`_guiRestyle`,e,{"node.groups":[i]},t)}};m.prepFn=function(e,t,n){l(e,t,n,m,i)},c.init(m)}}}),92930:(function(e,t,n){var r=n(68664),i=n(71828),a=n(28984).wrap,o=i.isArrayOrTypedArray,s=i.isIndex,c=n(21081);function l(e){var t=e.node,n=e.link,r=[],a=o(n.color),l=o(n.customdata),d={},f={},p=n.colorscales.length,m;for(m=0;m<p;m++){var h=n.colorscales[m],g=c.extractScale(h,{cLetter:`c`}),_=c.makeColorScaleFunc(g);f[h.label]=_}var v=0;for(m=0;m<n.value.length;m++)n.source[m]>v&&(v=n.source[m]),n.target[m]>v&&(v=n.target[m]);var y=v+1;e.node._count=y;var b,x=e.node.groups,S={};for(m=0;m<x.length;m++){var C=x[m];for(b=0;b<C.length;b++){var w=C[b],T=y+m;S.hasOwnProperty(w)?i.warn(`Node `+w+` is already part of a group.`):S[w]=T}}var E={source:[],target:[]};for(m=0;m<n.value.length;m++){var D=n.value[m],O=n.source[m],k=n.target[m];if(D>0&&s(O,y)&&s(k,y)&&!(S.hasOwnProperty(O)&&S.hasOwnProperty(k)&&S[O]===S[k])){S.hasOwnProperty(k)&&(k=S[k]),S.hasOwnProperty(O)&&(O=S[O]),O=+O,k=+k,d[O]=d[k]=!0;var A=``;n.label&&n.label[m]&&(A=n.label[m]);var j=null;A&&f.hasOwnProperty(A)&&(j=f[A]),r.push({pointNumber:m,label:A,color:a?n.color[m]:n.color,customdata:l?n.customdata[m]:n.customdata,concentrationscale:j,source:O,target:k,value:+D}),E.source.push(O),E.target.push(k)}}var M=y+x.length,N=o(t.color),P=o(t.customdata),F=[];for(m=0;m<M;m++)if(d[m]){var I=t.label[m];F.push({group:m>y-1,childrenNodes:[],pointNumber:m,label:I,color:N?t.color[m]:t.color,customdata:P?t.customdata[m]:t.customdata})}var L=!1;return u(M,E.source,E.target)&&(L=!0),{circular:L,links:r,nodes:F,groups:x,groupLookup:S}}function u(e,t,n){for(var a=i.init2dArray(e,0),o=0;o<Math.min(t.length,n.length);o++)if(i.isIndex(t[o],e)&&i.isIndex(n[o],e)){if(t[o]===n[o])return!0;a[t[o]].push(n[o])}return r(a).components.some(function(e){return e.length>1})}e.exports=function(e,t){var n=l(t);return a({circular:n.circular,_nodes:n.nodes,_links:n.links,_groups:n.groups,_groupLookup:n.groupLookup})}}),85247:(function(e){e.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:`linear`,cn:{sankey:`sankey`,sankeyLinks:`sankey-links`,sankeyLink:`sankey-link`,sankeyNodeSet:`sankey-node-set`,sankeyNode:`sankey-node`,nodeRect:`node-rect`,nodeLabel:`node-label`}}}),26857:(function(e,t,n){var r=n(71828),i=n(39953),a=n(7901),o=n(84267),s=n(27670).c,c=n(38048),l=n(44467),u=n(85501);e.exports=function(e,t,n,f){function p(n,a){return r.coerce(e,t,i,n,a)}var m=r.extendDeep(f.hoverlabel,e.hoverlabel),h=e.node,g=l.newContainer(t,`node`);function _(e,t){return r.coerce(h,g,i.node,e,t)}_(`label`),_(`groups`),_(`x`),_(`y`),_(`pad`),_(`thickness`),_(`line.color`),_(`line.width`),_(`hoverinfo`,e.hoverinfo),c(h,g,_,m),_(`hovertemplate`);var v=f.colorway,y=function(e){return v[e%v.length]};_(`color`,g.label.map(function(e,t){return a.addOpacity(y(t),.8)})),_(`customdata`);var b=e.link||{},x=l.newContainer(t,`link`);function S(e,t){return r.coerce(b,x,i.link,e,t)}S(`label`),S(`arrowlen`),S(`source`),S(`target`),S(`value`),S(`line.color`),S(`line.width`),S(`hoverinfo`,e.hoverinfo),c(b,x,S,m),S(`hovertemplate`);var C=o(f.paper_bgcolor).getLuminance()<.333?`rgba(255, 255, 255, 0.6)`:`rgba(0, 0, 0, 0.2)`;S(`color`,r.repeat(C,x.value.length)),S(`customdata`),u(b,x,{name:`colorscales`,handleItemDefaults:d}),s(t,f,p),p(`orientation`),p(`valueformat`),p(`valuesuffix`);var w;g.x.length&&g.y.length&&(w=`freeform`),p(`arrangement`,w),r.coerceFont(p,`textfont`,r.extendFlat({},f.font)),t._length=null};function d(e,t){function n(n,a){return r.coerce(e,t,i.link.colorscales,n,a)}n(`label`),n(`cmin`),n(`cmax`),n(`colorscale`)}}),29396:(function(e,t,n){e.exports={attributes:n(39953),supplyDefaults:n(26857),calc:n(92930),plot:n(60436),moduleType:`trace`,name:`sankey`,basePlotModule:n(75536),selectPoints:n(84564),categories:[`noOpacity`],meta:{}}}),60436:(function(e,t,n){var r=n(39898),i=n(71828),a=i.numberFormat,o=n(3393),s=n(30211),c=n(7901),l=n(85247).cn,u=i._;function d(e){return e!==``}function f(e,t){return e.filter(function(e){return e.key===t.traceId})}function p(e,t){r.select(e).select(`path`).style(`fill-opacity`,t),r.select(e).select(`rect`).style(`fill-opacity`,t)}function m(e){r.select(e).select(`text.name`).style(`fill`,`black`)}function h(e){return function(t){return e.node.sourceLinks.indexOf(t.link)!==-1||e.node.targetLinks.indexOf(t.link)!==-1}}function g(e){return function(t){return t.node.sourceLinks.indexOf(e.link)!==-1||t.node.targetLinks.indexOf(e.link)!==-1}}function _(e,t,n){t&&n&&f(n,t).selectAll(`.`+l.sankeyLink).filter(h(t)).call(y.bind(0,t,n,!1))}function v(e,t,n){t&&n&&f(n,t).selectAll(`.`+l.sankeyLink).filter(h(t)).call(b.bind(0,t,n,!1))}function y(e,t,n,r){var i=r.datum().link.label;r.style(`fill-opacity`,function(e){if(!e.link.concentrationscale)return .4}),i&&f(t,e).selectAll(`.`+l.sankeyLink).filter(function(e){return e.link.label===i}).style(`fill-opacity`,function(e){if(!e.link.concentrationscale)return .4}),n&&f(t,e).selectAll(`.`+l.sankeyNode).filter(g(e)).call(_)}function b(e,t,n,r){var i=r.datum().link.label;r.style(`fill-opacity`,function(e){return e.tinyColorAlpha}),i&&f(t,e).selectAll(`.`+l.sankeyLink).filter(function(e){return e.link.label===i}).style(`fill-opacity`,function(e){return e.tinyColorAlpha}),n&&f(t,e).selectAll(l.sankeyNode).filter(g(e)).call(v)}function x(e,t){var n=e.hoverlabel||{},r=i.nestedProperty(n,t).get();return Array.isArray(r)?!1:r}e.exports=function(e,t){for(var n=e._fullLayout,i=n._paper,f=n._size,h=0;h<e._fullData.length;h++)if(e._fullData[h].visible&&e._fullData[h].type===l.sankey&&!e._fullData[h]._viewInitial){var g=e._fullData[h].node;e._fullData[h]._viewInitial={node:{groups:g.groups.slice(),x:g.x.slice(),y:g.y.slice()}}}var S=function(t,n){var i=n.link;i.originalEvent=r.event,e._hoverdata=[i],s.click(e,{target:!0})},C=function(t,n,i){e._fullLayout.hovermode!==!1&&(r.select(t).call(y.bind(0,n,i,!0)),n.link.trace.link.hoverinfo!==`skip`&&(n.link.fullData=n.link.trace,e.emit(`plotly_hover`,{event:r.event,points:[n.link]})))},w=u(e,`source:`)+` `,T=u(e,`target:`)+` `,E=u(e,`concentration:`)+` `,D=u(e,`incoming flow count:`)+` `,O=u(e,`outgoing flow count:`)+` `;o(e,i,t,{width:f.w,height:f.h,margin:{t:f.t,r:f.r,b:f.b,l:f.l}},{linkEvents:{hover:C,follow:function(t,i){if(e._fullLayout.hovermode===!1)return;var o=i.link.trace.link;if(o.hoverinfo===`none`||o.hoverinfo===`skip`)return;var l=[];function u(e){var t,n;e.circular?(t=(e.circularPathData.leftInnerExtent+e.circularPathData.rightInnerExtent)/2,n=e.circularPathData.verticalFullExtent):(t=(e.source.x1+e.target.x0)/2,n=(e.y0+e.y1)/2);var r=[t,n];return e.trace.orientation===`v`&&r.reverse(),r[0]+=i.parent.translateX,r[1]+=i.parent.translateY,r}for(var f=0,h=0;h<i.flow.links.length;h++){var g=i.flow.links[h];if(!(e._fullLayout.hovermode===`closest`&&i.link.pointNumber!==g.pointNumber)){i.link.pointNumber===g.pointNumber&&(f=h),g.fullData=g.trace,o=i.link.trace.link;var _=u(g),v={valueLabel:a(i.valueFormat)(g.value)+i.valueSuffix};l.push({x:_[0],y:_[1],name:v.valueLabel,text:[g.label||``,w+g.source.label,T+g.target.label,g.concentrationscale?E+a(`%0.2f`)(g.flow.labelConcentration):``].filter(d).join(`<br>`),color:x(o,`bgcolor`)||c.addOpacity(g.color,1),borderColor:x(o,`bordercolor`),fontFamily:x(o,`font.family`),fontSize:x(o,`font.size`),fontColor:x(o,`font.color`),nameLength:x(o,`namelength`),textAlign:x(o,`align`),idealAlign:r.event.x<_[0]?`right`:`left`,hovertemplate:o.hovertemplate,hovertemplateLabels:v,eventData:[g]})}}s.loneHover(l,{container:n._hoverlayer.node(),outerContainer:n._paper.node(),gd:e,anchorIndex:f}).each(function(){var e=this;i.link.concentrationscale||p(e,.65),m(e)})},unhover:function(t,i,a){e._fullLayout.hovermode!==!1&&(r.select(t).call(b.bind(0,i,a,!0)),i.link.trace.link.hoverinfo!==`skip`&&(i.link.fullData=i.link.trace,e.emit(`plotly_unhover`,{event:r.event,points:[i.link]})),s.loneUnhover(n._hoverlayer.node()))},select:S},nodeEvents:{hover:function(t,n,i){e._fullLayout.hovermode!==!1&&(r.select(t).call(_,n,i),n.node.trace.node.hoverinfo!==`skip`&&(n.node.fullData=n.node.trace,e.emit(`plotly_hover`,{event:r.event,points:[n.node]})))},follow:function(t,i){if(e._fullLayout.hovermode!==!1){var o=i.node.trace.node;if(!(o.hoverinfo===`none`||o.hoverinfo===`skip`)){var c=r.select(t).select(`.`+l.nodeRect),u=e._fullLayout._paperdiv.node().getBoundingClientRect(),f=c.node().getBoundingClientRect(),h=f.left-2-u.left,g=f.right+2-u.left,_=f.top+f.height/4-u.top,v={valueLabel:a(i.valueFormat)(i.node.value)+i.valueSuffix};i.node.fullData=i.node.trace,e._fullLayout._calcInverseTransform(e);var y=e._fullLayout._invScaleX,b=e._fullLayout._invScaleY,S=s.loneHover({x0:y*h,x1:y*g,y:b*_,name:a(i.valueFormat)(i.node.value)+i.valueSuffix,text:[i.node.label,D+i.node.targetLinks.length,O+i.node.sourceLinks.length].filter(d).join(`<br>`),color:x(o,`bgcolor`)||i.tinyColorHue,borderColor:x(o,`bordercolor`),fontFamily:x(o,`font.family`),fontSize:x(o,`font.size`),fontColor:x(o,`font.color`),nameLength:x(o,`namelength`),textAlign:x(o,`align`),idealAlign:`left`,hovertemplate:o.hovertemplate,hovertemplateLabels:v,eventData:[i.node]},{container:n._hoverlayer.node(),outerContainer:n._paper.node(),gd:e});p(S,.85),m(S)}}},unhover:function(t,i,a){e._fullLayout.hovermode!==!1&&(r.select(t).call(v,i,a),i.node.trace.node.hoverinfo!==`skip`&&(i.node.fullData=i.node.trace,e.emit(`plotly_unhover`,{event:r.event,points:[i.node]})),s.loneUnhover(n._hoverlayer.node()))},select:function(t,n,i){var a=n.node;a.originalEvent=r.event,e._hoverdata=[a],r.select(t).call(v,n,i),s.click(e,{target:!0})}}})}}),3393:(function(e,t,n){var r=n(49887),i=n(81684).k4,a=n(39898),o=n(30838),s=n(86781),c=n(85247),l=n(84267),u=n(7901),d=n(91424),f=n(71828),p=f.strTranslate,m=f.strRotate,h=n(28984),g=h.keyFun,_=h.repeat,v=h.unwrap,y=n(63893),b=n(73972),x=n(18783),S=x.CAP_SHIFT,C=x.LINE_SPACING,w=3;function T(e,t,n){var r=v(t),i=r.trace,a=i.domain,u=i.orientation===`h`,d=i.node.pad,p=i.node.thickness,m=e.width*(a.x[1]-a.x[0]),h=e.height*(a.y[1]-a.y[0]),g=r._nodes,_=r._links,y=r.circular,b=y?s.sankeyCircular().circularLinkGap(0):o.sankey();b.iterations(c.sankeyIterations).size(u?[m,h]:[h,m]).nodeWidth(p).nodePadding(d).nodeId(function(e){return e.pointNumber}).nodes(g).links(_);var x=b();b.nodePadding()<d&&f.warn(`node.pad was reduced to `,b.nodePadding(),` to fit within the figure.`);var S,C,w;for(var T in r._groupLookup){var E=parseInt(r._groupLookup[T]),D;for(S=0;S<x.nodes.length;S++)if(x.nodes[S].pointNumber===E){D=x.nodes[S];break}if(D){var O={pointNumber:parseInt(T),x0:D.x0,x1:D.x1,y0:D.y0,y1:D.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};x.nodes.unshift(O),D.childrenNodes.unshift(O)}}function k(){for(S=0;S<x.nodes.length;S++){var e=x.nodes[S],t={},n,r;for(C=0;C<e.targetLinks.length;C++)r=e.targetLinks[C],n=r.source.pointNumber+`:`+r.target.pointNumber,t.hasOwnProperty(n)||(t[n]=[]),t[n].push(r);var i=Object.keys(t);for(C=0;C<i.length;C++){n=i[C];var a=t[n],o=0,s={};for(w=0;w<a.length;w++)r=a[w],s[r.label]||(s[r.label]=0),s[r.label]+=r.value,o+=r.value;for(w=0;w<a.length;w++)r=a[w],r.flow={value:o,labelConcentration:s[r.label]/o,concentration:r.value/o,links:a},r.concentrationscale&&(r.color=l(r.concentrationscale(r.flow.labelConcentration)))}var c=0;for(C=0;C<e.sourceLinks.length;C++)c+=e.sourceLinks[C].value;for(C=0;C<e.sourceLinks.length;C++)r=e.sourceLinks[C],r.concentrationOut=r.value/c;var u=0;for(C=0;C<e.targetLinks.length;C++)u+=e.targetLinks[C].value;for(C=0;C<e.targetLinks.length;C++)r=e.targetLinks[C],r.concenrationIn=r.value/u}}k();function A(e){e.forEach(function(e){var t,n,r=0,i=e.length,a;for(e.sort(function(e,t){return e.y0-t.y0}),a=0;a<i;++a)t=e[a],t.y0>=r||(n=r-t.y0,n>1e-6&&(t.y0+=n,t.y1+=n)),r=t.y1+d})}function j(e){var t=e.map(function(e,t){return{x0:e.x0,index:t}}).sort(function(e,t){return e.x0-t.x0}),n=[],r=-1,i,a=-1/0,o;for(S=0;S<t.length;S++){var s=e[t[S].index];s.x0>a+p&&(r+=1,i=s.x0),a=s.x0,n[r]||(n[r]=[]),n[r].push(s),o=i-s.x0,s.x0+=o,s.x1+=o}return n}if(i.node.x.length&&i.node.y.length){for(S=0;S<Math.min(i.node.x.length,i.node.y.length,x.nodes.length);S++)if(i.node.x[S]&&i.node.y[S]){var M=[i.node.x[S]*m,i.node.y[S]*h];x.nodes[S].x0=M[0]-p/2,x.nodes[S].x1=M[0]+p/2;var N=x.nodes[S].y1-x.nodes[S].y0;x.nodes[S].y0=M[1]-N/2,x.nodes[S].y1=M[1]+N/2}i.arrangement===`snap`&&(g=x.nodes,A(j(g))),b.update(x)}return{circular:y,key:n,trace:i,guid:f.randstr(),horizontal:u,width:m,height:h,nodePad:i.node.pad,nodeLineColor:i.node.line.color,nodeLineWidth:i.node.line.width,linkLineColor:i.link.line.color,linkLineWidth:i.link.line.width,linkArrowLength:i.link.arrowlen,valueFormat:i.valueformat,valueSuffix:i.valuesuffix,textFont:i.textfont,translateX:a.x[0]*e.width+e.margin.l,translateY:e.height-a.y[1]*e.height+e.margin.t,dragParallel:u?h:m,dragPerpendicular:u?m:h,arrangement:i.arrangement,sankey:b,graph:x,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function E(e,t,n){var r=l(t.color),i=t.source.label+`|`+t.target.label+`__`+n;return t.trace=e.trace,t.curveNumber=e.trace.index,{circular:e.circular,key:i,traceId:e.key,pointNumber:t.pointNumber,link:t,tinyColorHue:u.tinyRGB(r),tinyColorAlpha:r.getAlpha(),linkPath:O,linkLineColor:e.linkLineColor,linkLineWidth:e.linkLineWidth,linkArrowLength:e.linkArrowLength,valueFormat:e.valueFormat,valueSuffix:e.valueSuffix,sankey:e.sankey,parent:e,interactionState:e.interactionState,flow:t.flow}}function D(e,t){var n=``,r=e.width/2,i=e.circularPathData;return n=e.circularLinkType===`top`?`M `+(i.targetX-t)+` `+(i.targetY+r)+` L`+(i.rightInnerExtent-t)+` `+(i.targetY+r)+`A`+(i.rightLargeArcRadius+r)+` `+(i.rightSmallArcRadius+r)+` 0 0 1 `+(i.rightFullExtent-r-t)+` `+(i.targetY-i.rightSmallArcRadius)+`L`+(i.rightFullExtent-r-t)+` `+i.verticalRightInnerExtent+`A`+(i.rightLargeArcRadius+r)+` `+(i.rightLargeArcRadius+r)+` 0 0 1 `+(i.rightInnerExtent-t)+` `+(i.verticalFullExtent-r)+`L`+i.leftInnerExtent+` `+(i.verticalFullExtent-r)+`A`+(i.leftLargeArcRadius+r)+` `+(i.leftLargeArcRadius+r)+` 0 0 1 `+(i.leftFullExtent+r)+` `+i.verticalLeftInnerExtent+`L`+(i.leftFullExtent+r)+` `+(i.sourceY-i.leftSmallArcRadius)+`A`+(i.leftLargeArcRadius+r)+` `+(i.leftSmallArcRadius+r)+` 0 0 1 `+i.leftInnerExtent+` `+(i.sourceY+r)+`L`+i.sourceX+` `+(i.sourceY+r)+`L`+i.sourceX+` `+(i.sourceY-r)+`L`+i.leftInnerExtent+` `+(i.sourceY-r)+`A`+(i.leftLargeArcRadius-r)+` `+(i.leftSmallArcRadius-r)+` 0 0 0 `+(i.leftFullExtent-r)+` `+(i.sourceY-i.leftSmallArcRadius)+`L`+(i.leftFullExtent-r)+` `+i.verticalLeftInnerExtent+`A`+(i.leftLargeArcRadius-r)+` `+(i.leftLargeArcRadius-r)+` 0 0 0 `+i.leftInnerExtent+` `+(i.verticalFullExtent+r)+`L`+(i.rightInnerExtent-t)+` `+(i.verticalFullExtent+r)+`A`+(i.rightLargeArcRadius-r)+` `+(i.rightLargeArcRadius-r)+` 0 0 0 `+(i.rightFullExtent+r-t)+` `+i.verticalRightInnerExtent+`L`+(i.rightFullExtent+r-t)+` `+(i.targetY-i.rightSmallArcRadius)+`A`+(i.rightLargeArcRadius-r)+` `+(i.rightSmallArcRadius-r)+` 0 0 0 `+(i.rightInnerExtent-t)+` `+(i.targetY-r)+`L`+(i.targetX-t)+` `+(i.targetY-r)+(t>0?`L`+i.targetX+` `+i.targetY:``)+`Z`:`M `+(i.targetX-t)+` `+(i.targetY-r)+` L`+(i.rightInnerExtent-t)+` `+(i.targetY-r)+`A`+(i.rightLargeArcRadius+r)+` `+(i.rightSmallArcRadius+r)+` 0 0 0 `+(i.rightFullExtent-r-t)+` `+(i.targetY+i.rightSmallArcRadius)+`L`+(i.rightFullExtent-r-t)+` `+i.verticalRightInnerExtent+`A`+(i.rightLargeArcRadius+r)+` `+(i.rightLargeArcRadius+r)+` 0 0 0 `+(i.rightInnerExtent-t)+` `+(i.verticalFullExtent+r)+`L`+i.leftInnerExtent+` `+(i.verticalFullExtent+r)+`A`+(i.leftLargeArcRadius+r)+` `+(i.leftLargeArcRadius+r)+` 0 0 0 `+(i.leftFullExtent+r)+` `+i.verticalLeftInnerExtent+`L`+(i.leftFullExtent+r)+` `+(i.sourceY+i.leftSmallArcRadius)+`A`+(i.leftLargeArcRadius+r)+` `+(i.leftSmallArcRadius+r)+` 0 0 0 `+i.leftInnerExtent+` `+(i.sourceY-r)+`L`+i.sourceX+` `+(i.sourceY-r)+`L`+i.sourceX+` `+(i.sourceY+r)+`L`+i.leftInnerExtent+` `+(i.sourceY+r)+`A`+(i.leftLargeArcRadius-r)+` `+(i.leftSmallArcRadius-r)+` 0 0 1 `+(i.leftFullExtent-r)+` `+(i.sourceY+i.leftSmallArcRadius)+`L`+(i.leftFullExtent-r)+` `+i.verticalLeftInnerExtent+`A`+(i.leftLargeArcRadius-r)+` `+(i.leftLargeArcRadius-r)+` 0 0 1 `+i.leftInnerExtent+` `+(i.verticalFullExtent-r)+`L`+(i.rightInnerExtent-t)+` `+(i.verticalFullExtent-r)+`A`+(i.rightLargeArcRadius-r)+` `+(i.rightLargeArcRadius-r)+` 0 0 1 `+(i.rightFullExtent+r-t)+` `+i.verticalRightInnerExtent+`L`+(i.rightFullExtent+r-t)+` `+(i.targetY+i.rightSmallArcRadius)+`A`+(i.rightLargeArcRadius-r)+` `+(i.rightSmallArcRadius-r)+` 0 0 1 `+(i.rightInnerExtent-t)+` `+(i.targetY+r)+`L`+(i.targetX-t)+` `+(i.targetY+r)+(t>0?`L`+i.targetX+` `+i.targetY:``)+`Z`,n}function O(){var e=.5;function t(t){var n=t.linkArrowLength;if(t.link.circular)return D(t.link,n);var r=Math.abs((t.link.target.x0-t.link.source.x1)/2);n>r&&(n=r);var a=t.link.source.x1,o=t.link.target.x0-n,s=i(a,o),c=s(e),l=s(1-e),u=t.link.y0-t.link.width/2,d=t.link.y0+t.link.width/2,f=t.link.y1-t.link.width/2,p=t.link.y1+t.link.width/2,m=`M`+a+`,`+u,h=`C`+c+`,`+u+` `+l+`,`+f+` `+o+`,`+f,g=`C`+l+`,`+p+` `+c+`,`+d+` `+a+`,`+d,_=n>0?`L`+(o+n)+`,`+(f+t.link.width/2):``;return _+=`L`+o+`,`+p,m+h+_+g+`Z`}return t}function k(e,t){var n=l(t.color),r=c.nodePadAcross,i=e.nodePad/2;t.dx=t.x1-t.x0,t.dy=t.y1-t.y0;var a=t.dx,o=Math.max(.5,t.dy),s=`node_`+t.pointNumber;return t.group&&(s=f.randstr()),t.trace=e.trace,t.curveNumber=e.trace.index,{index:t.pointNumber,key:s,partOfGroup:t.partOfGroup||!1,group:t.group,traceId:e.key,trace:e.trace,node:t,nodePad:e.nodePad,nodeLineColor:e.nodeLineColor,nodeLineWidth:e.nodeLineWidth,textFont:e.textFont,size:e.horizontal?e.height:e.width,visibleWidth:Math.ceil(a),visibleHeight:o,zoneX:-r,zoneY:-i,zoneWidth:a+2*r,zoneHeight:o+2*i,labelY:e.horizontal?t.dy/2+1:t.dx/2+1,left:t.originalLayer===1,sizeAcross:e.width,forceLayouts:e.forceLayouts,horizontal:e.horizontal,darkBackground:n.getBrightness()<=128,tinyColorHue:u.tinyRGB(n),tinyColorAlpha:n.getAlpha(),valueFormat:e.valueFormat,valueSuffix:e.valueSuffix,sankey:e.sankey,graph:e.graph,arrangement:e.arrangement,uniqueNodeLabelPathId:[e.guid,e.key,s].join(`_`),interactionState:e.interactionState,figure:e}}function A(e){e.attr(`transform`,function(e){return p(e.node.x0.toFixed(3),e.node.y0.toFixed(3))})}function j(e){e.call(A)}function M(e,t){e.call(j),t.attr(`d`,O())}function N(e){e.attr(`width`,function(e){return e.node.x1-e.node.x0}).attr(`height`,function(e){return e.visibleHeight})}function P(e){return e.link.width>1||e.linkLineWidth>0}function F(e){return p(e.translateX,e.translateY)+(e.horizontal?`matrix(1 0 0 1 0 0)`:`matrix(0 1 1 0 0 0)`)}function I(e,t,n){e.on(`.basic`,null).on(`mouseover.basic`,function(e){!e.interactionState.dragInProgress&&!e.partOfGroup&&(n.hover(this,e,t),e.interactionState.hovered=[this,e])}).on(`mousemove.basic`,function(e){!e.interactionState.dragInProgress&&!e.partOfGroup&&(n.follow(this,e),e.interactionState.hovered=[this,e])}).on(`mouseout.basic`,function(e){!e.interactionState.dragInProgress&&!e.partOfGroup&&(n.unhover(this,e,t),e.interactionState.hovered=!1)}).on(`click.basic`,function(e){e.interactionState.hovered&&(n.unhover(this,e,t),e.interactionState.hovered=!1),!e.interactionState.dragInProgress&&!e.partOfGroup&&n.select(this,e,t)})}function L(e,t,n,r){var i=a.behavior.drag().origin(function(e){return{x:e.node.x0+e.visibleWidth/2,y:e.node.y0+e.visibleHeight/2}}).on(`dragstart`,function(i){if(i.arrangement!==`fixed`&&(f.ensureSingle(r._fullLayout._infolayer,`g`,`dragcover`,function(e){r._fullLayout._dragCover=e}),f.raiseToTop(this),i.interactionState.dragInProgress=i.node,U(i.node),i.interactionState.hovered&&(n.nodeEvents.unhover.apply(0,i.interactionState.hovered),i.interactionState.hovered=!1),i.arrangement===`snap`)){var a=i.traceId+`|`+i.key;i.forceLayouts[a]?i.forceLayouts[a].alpha(1):R(e,a,i,r),z(e,t,i,a,r)}}).on(`drag`,function(n){if(n.arrangement!==`fixed`){var r=a.event.x,i=a.event.y;n.arrangement===`snap`?(n.node.x0=r-n.visibleWidth/2,n.node.x1=r+n.visibleWidth/2,n.node.y0=i-n.visibleHeight/2,n.node.y1=i+n.visibleHeight/2):(n.arrangement===`freeform`&&(n.node.x0=r-n.visibleWidth/2,n.node.x1=r+n.visibleWidth/2),i=Math.max(0,Math.min(n.size-n.visibleHeight/2,i)),n.node.y0=i-n.visibleHeight/2,n.node.y1=i+n.visibleHeight/2),U(n.node),n.arrangement!==`snap`&&(n.sankey.update(n.graph),M(e.filter(W(n)),t))}}).on(`dragend`,function(e){if(e.arrangement!==`fixed`){e.interactionState.dragInProgress=!1;for(var t=0;t<e.node.childrenNodes.length;t++)e.node.childrenNodes[t].x=e.node.x,e.node.childrenNodes[t].y=e.node.y;e.arrangement!==`snap`&&V(e,r)}});e.on(`.drag`,null).call(i)}function R(e,t,n,i){G(n.graph.nodes);var a=n.graph.nodes.filter(function(e){return e.originalX===n.node.originalX}).filter(function(e){return!e.partOfGroup});n.forceLayouts[t]=r.forceSimulation(a).alphaDecay(0).force(`collide`,r.forceCollide().radius(function(e){return e.dy/2+n.nodePad/2}).strength(1).iterations(c.forceIterations)).force(`constrain`,B(e,t,a,n,i)).stop()}function z(e,t,n,r,i){window.requestAnimationFrame(function a(){var o;for(o=0;o<c.forceTicksPerFrame;o++)n.forceLayouts[r].tick();var s=n.graph.nodes;if(K(s),n.sankey.update(n.graph),M(e.filter(W(n)),t),n.forceLayouts[r].alpha()>0)window.requestAnimationFrame(a);else{var l=n.node.originalX;n.node.x0=l-n.visibleWidth/2,n.node.x1=l+n.visibleWidth/2,V(n,i)}})}function B(e,t,n,r){return function(){for(var e=0,i=0;i<n.length;i++){var a=n[i];a===r.interactionState.dragInProgress?(a.x=a.lastDraggedX,a.y=a.lastDraggedY):(a.vx=(a.originalX-a.x)/c.forceTicksPerFrame,a.y=Math.min(r.size-a.dy/2,Math.max(a.dy/2,a.y))),e=Math.max(e,Math.abs(a.vx),Math.abs(a.vy))}!r.interactionState.dragInProgress&&e<.1&&r.forceLayouts[t].alpha()>0&&r.forceLayouts[t].alpha(0)}}function V(e,t){for(var n=[],r=[],i=0;i<e.graph.nodes.length;i++){var a=(e.graph.nodes[i].x0+e.graph.nodes[i].x1)/2,o=(e.graph.nodes[i].y0+e.graph.nodes[i].y1)/2;n.push(a/e.figure.width),r.push(o/e.figure.height)}b.call(`_guiRestyle`,t,{"node.x":[n],"node.y":[r]},e.trace.index).then(function(){t._fullLayout._dragCover&&t._fullLayout._dragCover.remove()})}function H(e){var t=[],n;for(n=0;n<e.length;n++)e[n].originalX=(e[n].x0+e[n].x1)/2,e[n].originalY=(e[n].y0+e[n].y1)/2,t.indexOf(e[n].originalX)===-1&&t.push(e[n].originalX);for(t.sort(function(e,t){return e-t}),n=0;n<e.length;n++)e[n].originalLayerIndex=t.indexOf(e[n].originalX),e[n].originalLayer=e[n].originalLayerIndex/(t.length-1)}function U(e){e.lastDraggedX=e.x0+e.dx/2,e.lastDraggedY=e.y0+e.dy/2}function W(e){return function(t){return t.node.originalX===e.node.originalX}}function G(e){for(var t=0;t<e.length;t++)e[t].y=(e[t].y0+e[t].y1)/2,e[t].x=(e[t].x0+e[t].x1)/2}function K(e){for(var t=0;t<e.length;t++)e[t].y0=e[t].y-e[t].dy/2,e[t].y1=e[t].y0+e[t].dy,e[t].x0=e[t].x-e[t].dx/2,e[t].x1=e[t].x0+e[t].dx}e.exports=function(e,t,n,r,i){var o=e._context.staticPlot,s=!1;f.ensureSingle(e._fullLayout._infolayer,`g`,`first-render`,function(){s=!0});var h=e._fullLayout._dragCover,b=n.filter(function(e){return v(e).trace.visible}).map(T.bind(null,r)),x=t.selectAll(`.`+c.cn.sankey).data(b,g);x.exit().remove(),x.enter().append(`g`).classed(c.cn.sankey,!0).style(`box-sizing`,`content-box`).style(`position`,`absolute`).style(`left`,0).style(`shape-rendering`,`geometricPrecision`).style(`pointer-events`,o?`none`:`auto`).attr(`transform`,F),x.each(function(t,n){e._fullData[n]._sankey=t;var r=`bgsankey-`+t.trace.uid+`-`+n;f.ensureSingle(e._fullLayout._draggers,`rect`,r),e._fullData[n]._bgRect=a.select(`.`+r),e._fullData[n]._bgRect.style(`pointer-events`,o?`none`:`all`).attr(`width`,t.width).attr(`height`,t.height).attr(`x`,t.translateX).attr(`y`,t.translateY).classed(`bgsankey`,!0).style({fill:`transparent`,"stroke-width":0})}),x.transition().ease(c.ease).duration(c.duration).attr(`transform`,F);var D=x.selectAll(`.`+c.cn.sankeyLinks).data(_,g);D.enter().append(`g`).classed(c.cn.sankeyLinks,!0).style(`fill`,`none`);var j=D.selectAll(`.`+c.cn.sankeyLink).data(function(e){return e.graph.links.filter(function(e){return e.value}).map(E.bind(null,e))},g);j.enter().append(`path`).classed(c.cn.sankeyLink,!0).call(I,x,i.linkEvents),j.style(`stroke`,function(e){return P(e)?u.tinyRGB(l(e.linkLineColor)):e.tinyColorHue}).style(`stroke-opacity`,function(e){return P(e)?u.opacity(e.linkLineColor):e.tinyColorAlpha}).style(`fill`,function(e){return e.tinyColorHue}).style(`fill-opacity`,function(e){return e.tinyColorAlpha}).style(`stroke-width`,function(e){return P(e)?e.linkLineWidth:1}).attr(`d`,O()),j.style(`opacity`,function(){return e._context.staticPlot||s||h?1:0}).transition().ease(c.ease).duration(c.duration).style(`opacity`,1),j.exit().transition().ease(c.ease).duration(c.duration).style(`opacity`,0).remove();var M=x.selectAll(`.`+c.cn.sankeyNodeSet).data(_,g);M.enter().append(`g`).classed(c.cn.sankeyNodeSet,!0),M.style(`cursor`,function(e){switch(e.arrangement){case`fixed`:return`default`;case`perpendicular`:return`ns-resize`;default:return`move`}});var R=M.selectAll(`.`+c.cn.sankeyNode).data(function(e){var t=e.graph.nodes;return H(t),t.map(k.bind(null,e))},g);R.enter().append(`g`).classed(c.cn.sankeyNode,!0).call(A).style(`opacity`,function(t){return(e._context.staticPlot||s)&&!t.partOfGroup?1:0}),R.call(I,x,i.nodeEvents).call(L,j,i,e),R.transition().ease(c.ease).duration(c.duration).call(A).style(`opacity`,function(e){return e.partOfGroup?0:1}),R.exit().transition().ease(c.ease).duration(c.duration).style(`opacity`,0).remove();var z=R.selectAll(`.`+c.cn.nodeRect).data(_);z.enter().append(`rect`).classed(c.cn.nodeRect,!0).call(N),z.style(`stroke-width`,function(e){return e.nodeLineWidth}).style(`stroke`,function(e){return u.tinyRGB(l(e.nodeLineColor))}).style(`stroke-opacity`,function(e){return u.opacity(e.nodeLineColor)}).style(`fill`,function(e){return e.tinyColorHue}).style(`fill-opacity`,function(e){return e.tinyColorAlpha}),z.transition().ease(c.ease).duration(c.duration).call(N);var B=R.selectAll(`.`+c.cn.nodeLabel).data(_);B.enter().append(`text`).classed(c.cn.nodeLabel,!0).style(`cursor`,`default`),B.attr(`data-notex`,1).text(function(e){return e.node.label}).each(function(t){var n=a.select(this);d.font(n,t.textFont),y.convertToTspans(n,e)}).style(`text-shadow`,y.makeTextShadow(e._fullLayout.paper_bgcolor)).attr(`text-anchor`,function(e){return e.horizontal&&e.left?`end`:`start`}).attr(`transform`,function(e){var t=a.select(this),n=y.lineCount(t),r=e.textFont.size*((n-1)*C-S),i=e.nodeLineWidth/2+w,o=((e.horizontal?e.visibleHeight:e.visibleWidth)-r)/2;e.horizontal&&(e.left?i=-i:i+=e.visibleWidth);var s=e.horizontal?``:`scale(-1,1)`+m(90);return p(e.horizontal?i:o,e.horizontal?o:i)+s}),B.transition().ease(c.ease).duration(c.duration)}}),84564:(function(e){e.exports=function(e,t){for(var n=e.cd,r=[],i=n[0].trace,a=i._sankey.graph.nodes,o=0;o<a.length;o++){var s=a[o];if(!s.partOfGroup){var c=[(s.x0+s.x1)/2,(s.y0+s.y1)/2];i.orientation===`v`&&c.reverse(),t&&t.contains(c,!1,o,e)&&r.push({pointNumber:s.pointNumber})}}return r}}),75225:(function(e,t,n){var r=n(71828);e.exports=function(e,t){for(var n=0;n<e.length;n++)e[n].i=n;r.mergeArray(t.text,e,`tx`),r.mergeArray(t.texttemplate,e,`txt`),r.mergeArray(t.hovertext,e,`htx`),r.mergeArray(t.customdata,e,`data`),r.mergeArray(t.textposition,e,`tp`),t.textfont&&(r.mergeArrayCastPositive(t.textfont.size,e,`ts`),r.mergeArray(t.textfont.color,e,`tc`),r.mergeArray(t.textfont.family,e,`tf`));var i=t.marker;if(i){r.mergeArrayCastPositive(i.size,e,`ms`),r.mergeArrayCastPositive(i.opacity,e,`mo`),r.mergeArray(i.symbol,e,`mx`),r.mergeArray(i.angle,e,`ma`),r.mergeArray(i.standoff,e,`mf`),r.mergeArray(i.color,e,`mc`);var a=i.line;i.line&&(r.mergeArray(a.color,e,`mlc`),r.mergeArrayCastPositive(a.width,e,`mlw`));var o=i.gradient;o&&o.type!==`none`&&(r.mergeArray(o.type,e,`mgt`),r.mergeArray(o.color,e,`mgc`))}}}),82196:(function(e,t,n){var r=n(12663).axisHoverFormat,i=n(5386).s,a=n(5386).f,o=n(50693),s=n(41940),c=n(79952).P,l=n(79952).u,u=n(91424),d=n(47581),f=n(1426).extendFlat;function p(e){return{valType:`any`,dflt:0,editType:`calc`}}function m(e){return{valType:`any`,editType:`calc`}}function h(e){return{valType:`enumerated`,values:[`start`,`middle`,`end`],dflt:`middle`,editType:`calc`}}e.exports={x:{valType:`data_array`,editType:`calc+clearAxisTypes`,anim:!0},x0:{valType:`any`,dflt:0,editType:`calc+clearAxisTypes`,anim:!0},dx:{valType:`number`,dflt:1,editType:`calc`,anim:!0},y:{valType:`data_array`,editType:`calc+clearAxisTypes`,anim:!0},y0:{valType:`any`,dflt:0,editType:`calc+clearAxisTypes`,anim:!0},dy:{valType:`number`,dflt:1,editType:`calc`,anim:!0},xperiod:p(`x`),yperiod:p(`y`),xperiod0:m(`x0`),yperiod0:m(`y0`),xperiodalignment:h(`x`),yperiodalignment:h(`y`),xhoverformat:r(`x`),yhoverformat:r(`y`),offsetgroup:{valType:`string`,dflt:``,editType:`calc`},alignmentgroup:{valType:`string`,dflt:``,editType:`calc`},stackgroup:{valType:`string`,dflt:``,editType:`calc`},orientation:{valType:`enumerated`,values:[`v`,`h`],editType:`calc`},groupnorm:{valType:`enumerated`,values:[``,`fraction`,`percent`],dflt:``,editType:`calc`},stackgaps:{valType:`enumerated`,values:[`infer zero`,`interpolate`],dflt:`infer zero`,editType:`calc`},text:{valType:`string`,dflt:``,arrayOk:!0,editType:`calc`},texttemplate:i({},{}),hovertext:{valType:`string`,dflt:``,arrayOk:!0,editType:`style`},mode:{valType:`flaglist`,flags:[`lines`,`markers`,`text`],extras:[`none`],editType:`calc`},hoveron:{valType:`flaglist`,flags:[`points`,`fills`],editType:`style`},hovertemplate:a({},{keys:d.eventDataKeys}),line:{color:{valType:`color`,editType:`style`,anim:!0},width:{valType:`number`,min:0,dflt:2,editType:`style`,anim:!0},shape:{valType:`enumerated`,values:[`linear`,`spline`,`hv`,`vh`,`hvh`,`vhv`],dflt:`linear`,editType:`plot`},smoothing:{valType:`number`,min:0,max:1.3,dflt:1,editType:`plot`},dash:f({},c,{editType:`style`}),backoff:{valType:`number`,min:0,dflt:`auto`,arrayOk:!0,editType:`plot`},simplify:{valType:`boolean`,dflt:!0,editType:`plot`},editType:`plot`},connectgaps:{valType:`boolean`,dflt:!1,editType:`calc`},cliponaxis:{valType:`boolean`,dflt:!0,editType:`plot`},fill:{valType:`enumerated`,values:[`none`,`tozeroy`,`tozerox`,`tonexty`,`tonextx`,`toself`,`tonext`],editType:`calc`},fillcolor:{valType:`color`,editType:`style`,anim:!0},fillpattern:l,marker:f({symbol:{valType:`enumerated`,values:u.symbolList,dflt:`circle`,arrayOk:!0,editType:`style`},opacity:{valType:`number`,min:0,max:1,arrayOk:!0,editType:`style`,anim:!0},angle:{valType:`angle`,dflt:0,arrayOk:!0,editType:`plot`,anim:!1},angleref:{valType:`enumerated`,values:[`previous`,`up`],dflt:`up`,editType:`plot`,anim:!1},standoff:{valType:`number`,min:0,dflt:0,arrayOk:!0,editType:`plot`,anim:!0},size:{valType:`number`,min:0,dflt:6,arrayOk:!0,editType:`calc`,anim:!0},maxdisplayed:{valType:`number`,min:0,dflt:0,editType:`plot`},sizeref:{valType:`number`,dflt:1,editType:`calc`},sizemin:{valType:`number`,min:0,dflt:0,editType:`calc`},sizemode:{valType:`enumerated`,values:[`diameter`,`area`],dflt:`diameter`,editType:`calc`},line:f({width:{valType:`number`,min:0,arrayOk:!0,editType:`style`,anim:!0},editType:`calc`},o(`marker.line`,{anim:!0})),gradient:{type:{valType:`enumerated`,values:[`radial`,`horizontal`,`vertical`,`none`],arrayOk:!0,dflt:`none`,editType:`calc`},color:{valType:`color`,arrayOk:!0,editType:`calc`},editType:`calc`},editType:`calc`},o(`marker`,{anim:!0})),selected:{marker:{opacity:{valType:`number`,min:0,max:1,editType:`style`},color:{valType:`color`,editType:`style`},size:{valType:`number`,min:0,editType:`style`},editType:`style`},textfont:{color:{valType:`color`,editType:`style`},editType:`style`},editType:`style`},unselected:{marker:{opacity:{valType:`number`,min:0,max:1,editType:`style`},color:{valType:`color`,editType:`style`},size:{valType:`number`,min:0,editType:`style`},editType:`style`},textfont:{color:{valType:`color`,editType:`style`},editType:`style`},editType:`style`},textposition:{valType:`enumerated`,values:[`top left`,`top center`,`top right`,`middle left`,`middle center`,`middle right`,`bottom left`,`bottom center`,`bottom right`],dflt:`middle center`,arrayOk:!0,editType:`calc`},textfont:s({editType:`calc`,colorEditType:`style`,arrayOk:!0})}}),47761:(function(e,t,n){var r=n(92770),i=n(71828),a=n(89298),o=n(42973),s=n(50606).BADNUM,c=n(34098),l=n(36922),u=n(75225),d=n(66279);function f(e,t){var n=e._fullLayout,c=t._xA=a.getFromId(e,t.xaxis||`x`,`x`),f=t._yA=a.getFromId(e,t.yaxis||`y`,`y`),g=c.makeCalcdata(t,`x`),v=f.makeCalcdata(t,`y`),y=o(t,c,`x`,g),b=o(t,f,`y`,v),x=y.vals,S=b.vals,C=t._length,w=Array(C),T=t.ids,E=_(t,n,c,f),D=!1,O,k,A,j,M,N;h(n,t);var P=`x`,F=`y`,I;E?(i.pushUnique(E.traceIndices,t._expandedIndex),O=E.orientation===`v`,O?(F=`s`,I=`x`):(P=`s`,I=`y`),M=E.stackgaps===`interpolate`):p(e,t,c,f,x,S,m(t,C));var L=!!t.xperiodalignment,R=!!t.yperiodalignment;for(k=0;k<C;k++){var z=w[k]={},B=r(x[k]),V=r(S[k]);B&&V?(z[P]=x[k],z[F]=S[k],L&&(z.orig_x=g[k],z.xEnd=y.ends[k],z.xStart=y.starts[k]),R&&(z.orig_y=v[k],z.yEnd=b.ends[k],z.yStart=b.starts[k])):E&&(O?B:V)?(z[I]=O?x[k]:S[k],z.gap=!0,M?(z.s=s,D=!0):z.s=0):z[P]=z[F]=s,T&&(z.id=String(T[k]))}if(u(w,t),l(e,t),d(w,t),E){for(k=0;k<w.length;)w[k][I]===s?w.splice(k,1):k++;if(i.sort(w,function(e,t){return e[I]-t[I]||e.i-t.i}),D){for(k=0;k<w.length-1&&w[k].gap;)k++;for(N=w[k].s,N||=w[k].s=0,A=0;A<k;A++)w[A].s=N;for(j=w.length-1;j>k&&w[j].gap;)j--;for(N=w[j].s,A=w.length-1;A>j;A--)w[A].s=N;for(;k<j;)if(k++,w[k].gap){for(A=k+1;w[A].gap;)A++;for(var H=w[k-1][I],U=w[k-1].s,W=(w[A].s-U)/(w[A][I]-H);k<A;)w[k].s=U+(w[k][I]-H)*W,k++}}}return w}function p(e,t,n,r,i,o,s){var l=t._length,u=e._fullLayout,d=n._id,f=r._id,p=u._firstScatter[g(t)]===t.uid,m=(_(t,u,n,r)||{}).orientation,h=t.fill;n._minDtick=0,r._minDtick=0;var v={padded:!0},y={padded:!0};s&&(v.ppad=y.ppad=s);var b=l<2||i[0]!==i[l-1]||o[0]!==o[l-1];b&&(h===`tozerox`||h===`tonextx`&&(p||m===`h`))?v.tozero=!0:!(t.error_y||{}).visible&&(h===`tonexty`||h===`tozeroy`||!c.hasMarkers(t)&&!c.hasText(t))&&(v.padded=!1,v.ppad=0),b&&(h===`tozeroy`||h===`tonexty`&&(p||m===`v`))?y.tozero=!0:(h===`tonextx`||h===`tozerox`)&&(y.padded=!1),d&&(t._extremes[d]=a.findExtremes(n,i,v)),f&&(t._extremes[f]=a.findExtremes(r,o,y))}function m(e,t){if(c.hasMarkers(e)){var n=e.marker,r=1.6*(e.marker.sizeref||1),o=e.marker.sizemode===`area`?function(e){return Math.max(Math.sqrt((e||0)/r),3)}:function(e){return Math.max((e||0)/r,3)};if(i.isArrayOrTypedArray(n.size)){var s={type:`linear`};a.setConvert(s);for(var l=s.makeCalcdata(e.marker,`size`),u=Array(t),d=0;d<t;d++)u[d]=o(l[d]);return u}else return o(n.size)}}function h(e,t){var n=g(t),r=e._firstScatter;r[n]||(r[n]=t.uid)}function g(e){var t=e.stackgroup;return e.xaxis+e.yaxis+e.type+(t?`-`+t:``)}function _(e,t,n,r){var i=e.stackgroup;if(i){var a=t._scatterStackOpts[n._id+r._id][i],o=a.orientation===`v`?r:n;if(o.type===`linear`||o.type===`log`)return a}}e.exports={calc:f,calcMarkerSize:m,calcAxisExpansion:p,setFirstScatter:h,getStackOpts:_}}),66279:(function(e,t,n){var r=n(71828);e.exports=function(e,t){r.isArrayOrTypedArray(t.selectedpoints)&&r.tagSelected(e,t)}}),36922:(function(e,t,n){var r=n(52075).hasColorscale,i=n(78803),a=n(34098);e.exports=function(e,t){a.hasLines(t)&&r(t,`line`)&&i(e,t,{vals:t.line.color,containerStr:`line`,cLetter:`c`}),a.hasMarkers(t)&&(r(t,`marker`)&&i(e,t,{vals:t.marker.color,containerStr:`marker`,cLetter:`c`}),r(t,`marker.line`)&&i(e,t,{vals:t.marker.line.color,containerStr:`marker.line`,cLetter:`c`}))}}),47581:(function(e){e.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}}),72626:(function(e,t,n){var r=n(47761),i=n(11661).setGroupPositions;function a(e,t){for(var n=t.xaxis,r=t.yaxis,a=e._fullLayout,o=e._fullData,s=e.calcdata,c=[],l=[],u=0;u<o.length;u++){var d=o[u];d.visible===!0&&d.type===`scatter`&&d.xaxis===n._id&&d.yaxis===r._id&&(d.orientation===`h`?c.push(s[u]):d.orientation===`v`&&l.push(s[u]))}var f={mode:a.scattermode,gap:a.scattergap};i(e,n,r,l,f),i(e,r,n,c,f)}e.exports=function(e,t){e._fullLayout.scattermode===`group`&&a(e,t);var n=t.xaxis,i=t.yaxis,s=n._id+i._id,c=e._fullLayout._scatterStackOpts[s];if(c){var l=e.calcdata,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w;for(var T in c){y=c[T];var E=y.traceIndices;if(E.length){for(b=y.stackgaps===`interpolate`,x=y.groupnorm,y.orientation===`v`?(S=`x`,C=`y`):(S=`y`,C=`x`),w=Array(E.length),u=0;u<w.length;u++)w[u]=!1;h=l[E[0]];var D=Array(h.length);for(u=0;u<h.length;u++)D[u]=h[u][S];for(u=1;u<E.length;u++){for(m=l[E[u]],d=f=0;d<m.length;d++){for(g=m[d][S];g>D[f]&&f<D.length;f++)o(m,d,D[f],u,w,b,S),d++;if(g!==D[f]){for(p=0;p<u;p++)o(l[E[p]],f,g,p,w,b,S);D.splice(f,0,g)}f++}for(;f<D.length;f++)o(m,d,D[f],u,w,b,S),d++}var O=D.length;for(d=0;d<h.length;d++){for(_=h[d][C]=h[d].s,u=1;u<E.length;u++)m=l[E[u]],m[0].trace._rawLength=m[0].trace._length,m[0].trace._length=O,_+=m[d].s,m[d][C]=_;if(x)for(v=(x===`fraction`?_:_/100)||1,u=0;u<E.length;u++){var k=l[E[u]][d];k[C]/=v,k.sNorm=k.s/v}}for(u=0;u<E.length;u++){m=l[E[u]];var A=m[0].trace,j=r.calcMarkerSize(A,A._rawLength),M=Array.isArray(j);if(j&&w[u]||M){var N=j;for(j=Array(O),d=0;d<O;d++)j[d]=m[d].gap?0:M?N[m[d].i]:N}var P=Array(O),F=Array(O);for(d=0;d<O;d++)P[d]=m[d].x,F[d]=m[d].y;r.calcAxisExpansion(e,A,n,i,P,F,j),m[0].t.orientation=y.orientation}}}}};function o(e,t,n,r,i,a,o){i[r]=!0;var c={i:null,gap:!0,s:0};if(c[o]=n,e.splice(t,0,c),t&&n===e[t-1][o]){var l=e[t-1];c.s=l.s,c.i=l.i,c.gap=l.gap}else a&&(c.s=s(e,t,n,o));t||(e[0].t=e[1].t,e[0].trace=e[1].trace,delete e[1].t,delete e[1].trace)}function s(e,t,n,r){var i=e[t-1],a=e[t+1];return a?i?i.s+(a.s-i.s)*(n-i[r])/(a[r]-i[r]):a.s:i.s}}),34936:(function(e,t,n){var r=n(71828),i=n(26125),a=n(82196);e.exports=function(e,t){var n,o,s;function c(e){return r.coerce(o._input,o,a,e)}if(t.scattermode===`group`)for(s=0;s<e.length;s++)o=e[s],o.type===`scatter`&&(n=o._input,i(n,o,t,c));for(s=0;s<e.length;s++){var l=e[s];if(l.type===`scatter`){var u=l.fill;if(!(u===`none`||u===`toself`)&&(l.opacity=void 0,u===`tonexty`||u===`tonextx`))for(var d=s-1;d>=0;d--){var f=e[d];if(f.type===`scatter`&&f.xaxis===l.xaxis&&f.yaxis===l.yaxis){f.opacity=void 0;break}}}}}}),17438:(function(e,t,n){var r=n(71828),i=n(73972),a=n(82196),o=n(47581),s=n(34098),c=n(67513),l=n(73927),u=n(565),d=n(49508),f=n(11058),p=n(94039),m=n(82410),h=n(28908),g=n(71828).coercePattern;e.exports=function(e,t,n,_){function v(n,i){return r.coerce(e,t,a,n,i)}var y=c(e,t,_,v);if(y||(t.visible=!1),t.visible){l(e,t,_,v),v(`xhoverformat`),v(`yhoverformat`);var b=u(e,t,_,v);_.scattermode===`group`&&t.orientation===void 0&&v(`orientation`,`v`);var x=!b&&y<o.PTS_LINESONLY?`lines+markers`:`lines`;v(`text`),v(`hovertext`),v(`mode`,x),s.hasLines(t)&&(f(e,t,n,_,v,{backoff:!0}),p(e,t,v),v(`connectgaps`),v(`line.simplify`)),s.hasMarkers(t)&&d(e,t,n,_,v,{gradient:!0}),s.hasText(t)&&(v(`texttemplate`),m(e,t,_,v));var S=[];(s.hasMarkers(t)||s.hasText(t))&&(v(`cliponaxis`),v(`marker.maxdisplayed`),S.push(`points`)),v(`fill`,b?b.fillDflt:`none`),t.fill!==`none`&&(h(e,t,n,v),s.hasLines(t)||p(e,t,v),g(v,`fillpattern`,t.fillcolor,!1));var C=(t.line||{}).color,w=(t.marker||{}).color;(t.fill===`tonext`||t.fill===`toself`)&&S.push(`fills`),v(`hoveron`,S.join(`+`)||`points`),t.hoveron!==`fills`&&v(`hovertemplate`);var T=i.getComponentMethod(`errorbars`,`supplyDefaults`);T(e,t,C||w||n,{axis:`y`}),T(e,t,C||w||n,{axis:`x`,inherit:`y`}),r.coerceSelectionMarkerOpacity(t,v)}}}),28908:(function(e,t,n){var r=n(7901),i=n(71828).isArrayOrTypedArray;e.exports=function(e,t,n,a){var o=!1;if(t.marker){var s=t.marker.color,c=(t.marker.line||{}).color;s&&!i(s)?o=s:c&&!i(c)&&(o=c)}a(`fillcolor`,r.addOpacity((t.line||{}).color||o||n,.5))}}),8225:(function(e,t,n){var r=n(89298);e.exports=function(e,t,n){var i={},a={_fullLayout:n},o=r.getFromTrace(a,t,`x`),s=r.getFromTrace(a,t,`y`),c=e.orig_x;c===void 0&&(c=e.x);var l=e.orig_y;return l===void 0&&(l=e.y),i.xLabel=r.tickText(o,o.c2l(c),!0).text,i.yLabel=r.tickText(s,s.c2l(l),!0).text,i}}),34603:(function(e,t,n){var r=n(7901),i=n(34098);e.exports=function(e,t){var n,a;if(e.mode===`lines`)return n=e.line.color,n&&r.opacity(n)?n:e.fillcolor;if(e.mode===`none`)return e.fill?e.fillcolor:``;var o=t.mcc||(e.marker||{}).color,s=t.mlcc||((e.marker||{}).line||{}).color;return a=o&&r.opacity(o)?o:s&&r.opacity(s)&&(t.mlw||((e.marker||{}).line||{}).width)?s:``,a?r.opacity(a)<.3?r.addOpacity(a,.3):a:(n=(e.line||{}).color,n&&r.opacity(n)&&i.hasLines(e)&&e.line.width?n:e.fillcolor)}}),26125:(function(e,t,n){var r=n(99082).getAxisGroup;e.exports=function(e,t,n,i){var a=t.orientation,o=t[{v:`x`,h:`y`}[a]+`axis`],s=r(n,o)+a,c=n._alignmentOpts||{},l=i(`alignmentgroup`),u=c[s];u||=c[s]={};var d=u[l];d?d.traces.push(t):d=u[l]={traces:[t],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var f=i(`offsetgroup`),p=d.offsetGroups,m=p[f];f&&(m||=p[f]={offsetIndex:Object.keys(p).length},t._offsetIndex=m.offsetIndex)}}),33720:(function(e,t,n){var r=n(71828),i=n(30211),a=n(73972),o=n(34603),s=n(7901),c=r.fillText;e.exports=function(e,t,n,l){var u=e.cd,d=u[0].trace,f=e.xa,p=e.ya,m=f.c2p(t),h=p.c2p(n),g=[m,h],_=d.hoveron||``,v=d.mode.indexOf(`markers`)===-1?.5:3,y=!!d.xperiodalignment,b=!!d.yperiodalignment;if(_.indexOf(`points`)!==-1){var x=function(e){if(y){var t=f.c2p(e.xStart),n=f.c2p(e.xEnd);return m>=Math.min(t,n)&&m<=Math.max(t,n)?0:1/0}var r=Math.max(3,e.mrc||0),i=1-1/r,a=Math.abs(f.c2p(e.x)-m);return a<r?i*a/r:a-r+i},S=function(e){if(b){var t=p.c2p(e.yStart),n=p.c2p(e.yEnd);return h>=Math.min(t,n)&&h<=Math.max(t,n)?0:1/0}var r=Math.max(3,e.mrc||0),i=1-1/r,a=Math.abs(p.c2p(e.y)-h);return a<r?i*a/r:a-r+i},C=function(e){var t=Math.max(v,e.mrc||0),n=f.c2p(e.x)-m,r=p.c2p(e.y)-h;return Math.max(Math.sqrt(n*n+r*r)-t,1-v/t)},w=i.getDistanceFunction(l,x,S,C);if(i.getClosest(u,w,e),e.index!==!1){var T=u[e.index],E=f.c2p(T.x,!0),D=p.c2p(T.y,!0),O=T.mrc||1;e.index=T.i;var k=u[0].t.orientation,A=k&&(T.sNorm||T.s),j=k===`h`?A:T.orig_x===void 0?T.x:T.orig_x,M=k===`v`?A:T.orig_y===void 0?T.y:T.orig_y;return r.extendFlat(e,{color:o(d,T),x0:E-O,x1:E+O,xLabelVal:j,y0:D-O,y1:D+O,yLabelVal:M,spikeDistance:C(T),hovertemplate:d.hovertemplate}),c(T,d,e),a.getComponentMethod(`errorbars`,`hoverInfo`)(T,d,e),[e]}}if(_.indexOf(`fills`)!==-1&&d._polygons){var N=d._polygons,P=[],F=!1,I=1/0,L=-1/0,R=1/0,z=-1/0,B,V,H,U,W,G,K,ee,q;for(B=0;B<N.length;B++)H=N[B],H.contains(g)&&(F=!F,P.push(H),R=Math.min(R,H.ymin),z=Math.max(z,H.ymax));if(F){R=Math.max(R,0),z=Math.min(z,p._length);var J=(R+z)/2;for(B=0;B<P.length;B++)for(U=P[B].pts,V=1;V<U.length;V++)ee=U[V-1][1],q=U[V][1],ee>J!=q>=J&&(G=U[V-1][0],K=U[V][0],q-ee&&(W=G+(K-G)*(J-ee)/(q-ee),I=Math.min(I,W),L=Math.max(L,W)));I=Math.max(I,0),L=Math.min(L,f._length);var Y=s.defaultLine;return s.opacity(d.fillcolor)?Y=d.fillcolor:s.opacity((d.line||{}).color)&&(Y=d.line.color),r.extendFlat(e,{distance:e.maxHoverDistance,x0:I,x1:L,y0:J,y1:J,color:Y,hovertemplate:!1}),delete e.index,d.text&&!Array.isArray(d.text)?e.text=String(d.text):e.text=d.name,[e]}}}}),67368:(function(e,t,n){var r=n(34098);e.exports={hasLines:r.hasLines,hasMarkers:r.hasMarkers,hasText:r.hasText,isBubble:r.isBubble,attributes:n(82196),layoutAttributes:n(21479),supplyDefaults:n(17438),crossTraceDefaults:n(34936),supplyLayoutDefaults:n(79334),calc:n(47761).calc,crossTraceCalc:n(72626),arraysToCalcdata:n(75225),plot:n(32663),colorbar:n(4898),formatLabels:n(8225),style:n(16296).style,styleOnSelect:n(16296).styleOnSelect,hoverPoints:n(33720),selectPoints:n(98002),animatable:!0,moduleType:`trace`,name:`scatter`,basePlotModule:n(93612),categories:[`cartesian`,`svg`,`symbols`,`errorBarsOK`,`showLegend`,`scatter-like`,`zoomScale`],meta:{}}}),21479:(function(e){e.exports={scattermode:{valType:`enumerated`,values:[`group`,`overlay`],dflt:`overlay`,editType:`calc`},scattergap:{valType:`number`,min:0,max:1,editType:`calc`}}}),79334:(function(e,t,n){var r=n(71828),i=n(21479);e.exports=function(e,t){function n(n,a){return r.coerce(e,t,i,n,a)}var a=t.barmode===`group`;t.scattermode===`group`&&n(`scattergap`,a?t.bargap:.2)}}),11058:(function(e,t,n){var r=n(71828).isArrayOrTypedArray,i=n(52075).hasColorscale,a=n(1586);e.exports=function(e,t,n,o,s,c){c||={};var l=(e.marker||{}).color;s(`line.color`,n),i(e,`line`)?a(e,t,o,s,{prefix:`line.`,cLetter:`c`}):s(`line.color`,(r(l)?!1:l)||n),s(`line.width`),c.noDash||s(`line.dash`),c.backoff&&s(`line.backoff`)}}),34621:(function(e,t,n){var r=n(91424),i=n(50606),a=i.BADNUM,o=i.LOG_CLIP,s=o+.5,c=o-.5,l=n(71828),u=l.segmentsIntersect,d=l.constrain,f=n(47581);e.exports=function(e,t){var n=t.trace||{},i=t.xaxis,o=t.yaxis,p=i.type===`log`,m=o.type===`log`,h=i._length,g=o._length,_=t.backoff,v=n.marker,y=t.connectGaps,b=t.baseTolerance,x=t.shape,S=x===`linear`,C=n.fill&&n.fill!==`none`,w=[],T=f.minTolerance,E=e.length,D=Array(E),O=0,k,A,j,M,N,P,F,I,L,R,z,B,V,H,U,W;function G(n){var r=e[n];if(!r)return!1;var l=t.linearized?i.l2p(r.x):i.c2p(r.x),u=t.linearized?o.l2p(r.y):o.c2p(r.y);if(l===a){if(p&&(l=i.c2p(r.x,!0)),l===a)return!1;m&&u===a&&(l*=Math.abs(i._m*g*(i._m>0?s:c)/(o._m*h*(o._m>0?s:c)))),l*=1e3}if(u===a){if(m&&(u=o.c2p(r.y,!0)),u===a)return!1;u*=1e3}return[l,u]}function K(e,t,n,r){var i=n-e,a=r-t,o=.5-e,s=.5-t,c=i*i+a*a,l=i*o+a*s;if(l>0&&l<c){var u=o*a-s*i;if(u*u<c)return!0}}var ee,q;function J(e,t){var n=e[0]/h,r=e[1]/g,i=Math.max(0,-n,n-1,-r,r-1);return i&&ee!==void 0&&K(n,r,ee,q)&&(i=0),i&&t&&K(n,r,t[0]/h,t[1]/g)&&(i=0),(1+f.toleranceGrowth*i)*b}function Y(e,t){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}var te=f.maxScreensAway,ne=-h*te,re=h*(1+te),ie=-g*te,ae=g*(1+te),oe=[[ne,ie,re,ie],[re,ie,re,ae],[re,ae,ne,ae],[ne,ae,ne,ie]],se,ce,le,ue,de,fe;function pe(e,t){for(var n=[],r=0,i=0;i<4;i++){var a=oe[i],o=u(e[0],e[1],t[0],t[1],a[0],a[1],a[2],a[3]);o&&(!r||Math.abs(o.x-n[0][0])>1||Math.abs(o.y-n[0][1])>1)&&(o=[o.x,o.y],r&&Y(o,e)<Y(n[0],e)?n.unshift(o):n.push(o),r++)}return n}function me(e){if(e[0]<ne||e[0]>re||e[1]<ie||e[1]>ae)return[d(e[0],ne,re),d(e[1],ie,ae)]}function he(e,t){if(e[0]===t[0]&&(e[0]===ne||e[0]===re)||e[1]===t[1]&&(e[1]===ie||e[1]===ae))return!0}function ge(e,t){var n=[],r=me(e),i=me(t);return r&&i&&he(r,i)?n:(r&&n.push(r),i&&n.push(i),n)}function _e(e,t,n){return function(r,i){var a=me(r),o=me(i),s=[];if(a&&o&&he(a,o))return s;a&&s.push(a),o&&s.push(o);var c=2*l.constrain((r[e]+i[e])/2,t,n)-((a||r)[e]+(o||i)[e]);if(c){var u=a&&o?c>0==a[e]>o[e]?a:o:a||o;u[e]+=c}return s}}var ve;x===`linear`||x===`spline`?ve=pe:x===`hv`||x===`vh`?ve=ge:x===`hvh`?ve=_e(0,ne,re):x===`vhv`&&(ve=_e(1,ie,ae));function ye(e,t){var n=t[0]-e[0],r=(t[1]-e[1])/n;return(e[1]*t[0]-t[1]*e[0])/n>0?[r>0?ne:re,ae]:[r>0?re:ne,ie]}function be(e){var t=e[0],n=e[1],r=t===D[O-1][0],i=n===D[O-1][1];if(!(r&&i))if(O>1){var a=t===D[O-2][0],o=n===D[O-2][1];r&&(t===ne||t===re)&&a?o?O--:D[O-1]=e:i&&(n===ie||n===ae)&&o?a?O--:D[O-1]=e:D[O++]=e}else D[O++]=e}function xe(e){D[O-1][0]!==e[0]&&D[O-1][1]!==e[1]&&be([le,ue]),be(e),de=null,le=ue=0}var Se=l.isArrayOrTypedArray(v);function Ce(t){if(t&&_&&(t.i=k,t.d=e,t.trace=n,t.marker=Se?v[t.i]:v,t.backoff=_),ee=t[0]/h,q=t[1]/g,se=t[0]<ne?ne:t[0]>re?re:0,ce=t[1]<ie?ie:t[1]>ae?ae:0,se||ce){if(!O)D[O++]=[se||t[0],ce||t[1]];else if(de){var r=ve(de,t);r.length>1&&(xe(r[0]),D[O++]=r[1])}else fe=ve(D[O-1],t)[0],D[O++]=fe;var i=D[O-1];se&&ce&&(i[0]!==se||i[1]!==ce)?(de&&(le!==se&&ue!==ce?be(le&&ue?ye(de,t):[le||se,ue||ce]):le&&ue&&be([le,ue])),be([se,ce])):le-se&&ue-ce&&be([se||le,ce||ue]),de=t,le=se,ue=ce}else de&&xe(ve(de,t)[0]),D[O++]=t}for(k=0;k<E;k++)if(A=G(k),A){for(O=0,de=null,Ce(A),k++;k<E;k++){if(M=G(k),!M){if(y)continue;break}if(!S||!t.simplify){Ce(M);continue}var we=G(k+1);if(R=Y(M,A),!(!(C&&(O===0||O===E-1))&&R<J(M,we)*T)){for(I=[(M[0]-A[0])/R,(M[1]-A[1])/R],N=A,z=R,B=H=U=0,F=!1,j=M,k++;k<e.length;k++){if(P=we,we=G(k+1),!P){if(y)continue;break}if(L=[P[0]-A[0],P[1]-A[1]],W=L[0]*I[1]-L[1]*I[0],H=Math.min(H,W),U=Math.max(U,W),U-H>J(P,we))break;j=P,V=L[0]*I[0]+L[1]*I[1],V>z?(z=V,M=P,F=!1):V<B&&(B=V,N=P,F=!0)}if(F?(Ce(M),j!==N&&Ce(N)):(N!==A&&Ce(N),j!==M&&Ce(M)),Ce(j),k>=e.length||!P)break;Ce(P),A=P}}de&&be([le||de[0],ue||de[1]]),w.push(D.slice(0,O))}var Te=x.slice(x.length-1);if(_&&Te!==`h`&&Te!==`v`){for(var Ee=!1,X=-1,Z=[],De=0;De<w.length;De++)for(var Q=0;Q<w[De].length-1;Q++){var Oe=w[De][Q],ke=w[De][Q+1],Ae=r.applyBackoff(ke,Oe);(Ae[0]!==ke[0]||Ae[1]!==ke[1])&&(Ee=!0),Z[X+1]||(X++,Z[X]=[Oe,[Ae[0],Ae[1]]])}return Ee?Z:w}return w}}),94039:(function(e){e.exports=function(e,t,n){n(`line.shape`)===`spline`&&n(`line.smoothing`)}}),68687:(function(e){var t={tonextx:1,tonexty:1,tonext:1};e.exports=function(e,n,r){var i,a,o,s,c,l={},u=!1,d=-1,f=0,p=-1;for(a=0;a<r.length;a++)i=r[a][0].trace,o=i.stackgroup||``,o?o in l?c=l[o]:(c=l[o]=f,f++):i.fill in t&&p>=0?c=p:(c=p=f,f++),c<d&&(u=!0),i._groupIndex=d=c;var m=r.slice();u&&m.sort(function(e,t){var n=e[0].trace,r=t[0].trace;return n._groupIndex-r._groupIndex||n.index-r.index});var h={};for(a=0;a<m.length;a++)i=m[a][0].trace,o=i.stackgroup||``,i.visible===!0?(i._nexttrace=null,i.fill in t&&(s=h[o],i._prevtrace=s||null,s&&(s._nexttrace=i)),i._ownfill=i.fill&&(i.fill.substr(0,6)===`tozero`||i.fill===`toself`||i.fill.substr(0,2)===`to`&&!i._prevtrace),h[o]=i):i._prevtrace=i._nexttrace=i._ownfill=null;return m}}),39984:(function(e,t,n){var r=n(92770);e.exports=function(e,t){t||=2;var n=e.marker,i=n.sizeref||1,a=n.sizemin||0,o=n.sizemode===`area`?function(e){return Math.sqrt(e/i)}:function(e){return e/i};return function(e){var n=o(e/t);return r(n)&&n>0?Math.max(n,a):0}}}),4898:(function(e){e.exports={container:`marker`,min:`cmin`,max:`cmax`}}),49508:(function(e,t,n){var r=n(7901),i=n(52075).hasColorscale,a=n(1586),o=n(34098);e.exports=function(e,t,n,s,c,l){var u=o.isBubble(e),d=(e.line||{}).color,f;l||={},d&&(n=d),c(`marker.symbol`),c(`marker.opacity`,u?.7:1),c(`marker.size`),l.noAngle||(c(`marker.angle`),l.noAngleRef||c(`marker.angleref`),l.noStandOff||c(`marker.standoff`)),c(`marker.color`,n),i(e,`marker`)&&a(e,t,s,c,{prefix:`marker.`,cLetter:`c`}),l.noSelect||(c(`selected.marker.color`),c(`unselected.marker.color`),c(`selected.marker.size`),c(`unselected.marker.size`)),l.noLine||(f=d&&!Array.isArray(d)&&t.marker.color!==d?d:u?r.background:r.defaultLine,c(`marker.line.color`,f),i(e,`marker.line`)&&a(e,t,s,c,{prefix:`marker.line.`,cLetter:`c`}),c(`marker.line.width`,u?1:0)),u&&(c(`marker.sizeref`),c(`marker.sizemin`),c(`marker.sizemode`)),l.gradient&&c(`marker.gradient.type`)!==`none`&&c(`marker.gradient.color`)}}),73927:(function(e,t,n){var r=n(71828).dateTick0,i=n(50606).ONEWEEK;function a(e,t){return e%i===0?r(t,1):r(t,0)}e.exports=function(e,t,n,r,i){if(i||={x:!0,y:!0},i.x){var o=r(`xperiod`);o&&(r(`xperiod0`,a(o,t.xcalendar)),r(`xperiodalignment`))}if(i.y){var s=r(`yperiod`);s&&(r(`yperiod0`,a(s,t.ycalendar)),r(`yperiodalignment`))}}}),32663:(function(e,t,n){var r=n(39898),i=n(73972),a=n(71828),o=a.ensureSingle,s=a.identity,c=n(91424),l=n(34098),u=n(34621),d=n(68687),f=n(61082).tester;e.exports=function(e,t,n,i,a,o){var s,c,l=!a,u=!!a&&a.duration>0,f=d(e,t,n);s=i.selectAll(`g.trace`).data(f,function(e){return e[0].trace.uid}),s.enter().append(`g`).attr(`class`,function(e){return`trace scatter trace`+e[0].trace.uid}).style(`stroke-miterlimit`,2),s.order(),p(e,s,t),u?(o&&(c=o()),r.transition().duration(a.duration).ease(a.easing).each(`end`,function(){c&&c()}).each(`interrupt`,function(){c&&c()}).each(function(){i.selectAll(`g.trace`).each(function(n,r){m(e,r,t,n,f,this,a)})})):s.each(function(n,r){m(e,r,t,n,f,this,a)}),l&&s.exit().remove(),i.selectAll(`path:not([d])`).remove()};function p(e,t,n){t.each(function(t){var i=o(r.select(this),`g`,`fills`);c.setClipUrl(i,n.layerClipId,e);var a=t[0].trace,l=[];a._ownfill&&l.push(`_ownFill`),a._nexttrace&&l.push(`_nextFill`);var u=i.selectAll(`g`).data(l,s);u.enter().append(`g`),u.exit().each(function(e){a[e]=null}).remove(),u.order().each(function(e){a[e]=o(r.select(this),`path`,`js-fill`)})})}function m(e,t,n,d,p,m,g){var _=e._context.staticPlot,v;h(e,t,n,d,p);var y=!!g&&g.duration>0;function b(e){return y?e.transition():e}var x=n.xaxis,S=n.yaxis,C=d[0].trace,w=C.line,T=r.select(m),E=o(T,`g`,`errorbars`),D=o(T,`g`,`lines`),O=o(T,`g`,`points`),k=o(T,`g`,`text`);if(i.getComponentMethod(`errorbars`,`plot`)(e,E,n,g),C.visible!==!0)return;b(T).style(`opacity`,C.opacity);var A,j,M=C.fill.charAt(C.fill.length-1);M!==`x`&&M!==`y`&&(M=``),d[0][n.isRangePlot?`nodeRangePlot3`:`node3`]=T;var N=``,P=[],F=C._prevtrace;F&&(N=F._prevRevpath||``,j=F._nextFill,P=F._polygons);var I,L,R=``,z=``,B,V,H,U,W,G,K,ee=[],q=a.noop;if(A=C._ownFill,l.hasLines(C)||C.fill!==`none`){for(j&&j.datum(d),[`hv`,`vh`,`hvh`,`vhv`].indexOf(w.shape)===-1?B=V=w.shape===`spline`?function(e){var t=e[e.length-1];return e.length>1&&e[0][0]===t[0]&&e[0][1]===t[1]?c.smoothclosed(e.slice(1),w.smoothing):c.smoothopen(e,w.smoothing)}:function(e){return`M`+e.join(`L`)}:(B=c.steps(w.shape),V=c.steps(w.shape.split(``).reverse().join(``))),H=function(e){return V(e.reverse())},ee=u(d,{xaxis:x,yaxis:S,trace:C,connectGaps:C.connectgaps,baseTolerance:Math.max(w.width||1,3)/4,shape:w.shape,backoff:w.backoff,simplify:w.simplify,fill:C.fill}),K=C._polygons=Array(ee.length),v=0;v<ee.length;v++)C._polygons[v]=f(ee[v]);ee.length&&(U=ee[0][0],W=ee[ee.length-1],G=W[W.length-1]),q=function(e){return function(t){if(I=B(t),L=H(t),R?M?(R+=`L`+I.substr(1),z=L+(`L`+z.substr(1))):(R+=`Z`+I,z=L+`Z`+z):(R=I,z=L),l.hasLines(C)){var n=r.select(this);if(n.datum(d),e)b(n.style(`opacity`,0).attr(`d`,I).call(c.lineGroupStyle)).style(`opacity`,1);else{var i=b(n);i.attr(`d`,I),c.singleLineStyle(d,i)}}}}}var J=D.selectAll(`.js-line`).data(ee);b(J.exit()).style(`opacity`,0).remove(),J.each(q(!1)),J.enter().append(`path`).classed(`js-line`,!0).style(`vector-effect`,_?`none`:`non-scaling-stroke`).call(c.lineGroupStyle).each(q(!0)),c.setClipUrl(J,n.layerClipId,e);function Y(e){b(e).attr(`d`,`M0,0Z`)}ee.length?(A?(A.datum(d),U&&G&&(M?(M===`y`?U[1]=G[1]=S.c2p(0,!0):M===`x`&&(U[0]=G[0]=x.c2p(0,!0)),b(A).attr(`d`,`M`+G+`L`+U+`L`+R.substr(1)).call(c.singleFillStyle,e)):b(A).attr(`d`,R+`Z`).call(c.singleFillStyle,e))):j&&(C.fill.substr(0,6)===`tonext`&&R&&N?(C.fill===`tonext`?b(j).attr(`d`,R+`Z`+N+`Z`).call(c.singleFillStyle,e):b(j).attr(`d`,R+`L`+N.substr(1)+`Z`).call(c.singleFillStyle,e),C._polygons=C._polygons.concat(P)):(Y(j),C._polygons=null)),C._prevRevpath=z,C._prevPolygons=K):(A?Y(A):j&&Y(j),C._polygons=C._prevRevpath=C._prevPolygons=null);function te(e){return e.filter(function(e){return!e.gap&&e.vis})}function ne(e){return e.filter(function(e){return e.vis})}function re(e){return e.filter(function(e){return!e.gap})}function ie(e){return e.id}function ae(e){if(e.ids)return ie}function oe(){return!1}function se(t,i,a){var o,u,d,f=a[0].trace,p=l.hasMarkers(f),m=l.hasText(f),h=ae(f),g=oe,_=oe;if(p||m){var v=s,C=f.stackgroup,w=C&&e._fullLayout._scatterStackOpts[x._id+S._id][C].stackgaps===`infer zero`;f.marker.maxdisplayed||f._needsCull?v=w?ne:te:C&&!w&&(v=re),p&&(g=v),m&&(_=v)}u=t.selectAll(`path.point`),o=u.data(g,h);var T=o.enter().append(`path`).classed(`point`,!0);y&&T.call(c.pointStyle,f,e).call(c.translatePoints,x,S).style(`opacity`,0).transition().style(`opacity`,1),o.order();var E;p&&(E=c.makePointStyleFns(f)),o.each(function(t){var i=r.select(this),a=b(i);d=c.translatePoint(t,a,x,S),d?(c.singlePointStyle(t,a,f,E,e),n.layerClipId&&c.hideOutsideRangePoint(t,a,x,S,f.xcalendar,f.ycalendar),f.customdata&&i.classed(`plotly-customdata`,t.data!==null&&t.data!==void 0)):a.remove()}),y?o.exit().transition().style(`opacity`,0).remove():o.exit().remove(),u=i.selectAll(`g`),o=u.data(_,h),o.enter().append(`g`).classed(`textpoint`,!0).append(`text`),o.order(),o.each(function(e){var t=r.select(this),i=b(t.select(`text`));d=c.translatePoint(e,i,x,S),d?n.layerClipId&&c.hideOutsideRangePoint(e,t,x,S,f.xcalendar,f.ycalendar):t.remove()}),o.selectAll(`text`).call(c.textPointStyle,f,e).each(function(e){var t=x.c2p(e.x),n=S.c2p(e.y);r.select(this).selectAll(`tspan.line`).each(function(){b(r.select(this)).attr({x:t,y:n})})}),o.exit().remove()}O.datum(d),k.datum(d),se(O,k,d);var ce=C.cliponaxis===!1?null:n.layerClipId;c.setClipUrl(O,ce,e),c.setClipUrl(k,ce,e)}function h(e,t,n,i,o){var s=n.xaxis,c=n.yaxis,u=r.extent(a.simpleMap(s.range,s.r2c)),d=r.extent(a.simpleMap(c.range,c.r2c)),f=i[0].trace;if(l.hasMarkers(f)){var p=f.marker.maxdisplayed;if(p!==0){var m=i.filter(function(e){return e.x>=u[0]&&e.x<=u[1]&&e.y>=d[0]&&e.y<=d[1]}),h=Math.ceil(m.length/p),g=0;o.forEach(function(e,n){var r=e[0].trace;l.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<t&&g++});var _=Math.round(g*h/3+Math.floor(g/3)*h/7.1);i.forEach(function(e){delete e.vis}),m.forEach(function(e,t){Math.round((t+_)%h)===0&&(e.vis=!0)})}}}}),98002:(function(e,t,n){var r=n(34098);e.exports=function(e,t){var n=e.cd,i=e.xaxis,a=e.yaxis,o=[],s=n[0].trace,c,l,u,d;if(!r.hasMarkers(s)&&!r.hasText(s))return[];if(t===!1)for(c=0;c<n.length;c++)n[c].selected=0;else for(c=0;c<n.length;c++)l=n[c],u=i.c2p(l.x),d=a.c2p(l.y),l.i!==null&&t.contains([u,d],!1,c,e)?(o.push({pointNumber:l.i,x:i.c2d(l.x),y:a.c2d(l.y)}),l.selected=1):l.selected=0;return o}}),565:(function(e){var t=[`orientation`,`groupnorm`,`stackgaps`];e.exports=function(e,n,r,i){var a=r._scatterStackOpts,o=i(`stackgroup`);if(o){var s=n.xaxis+n.yaxis,c=a[s];c||=a[s]={};var l=c[o],u=!1;l?l.traces.push(n):(l=c[o]={traceIndices:[],traces:[n]},u=!0);for(var d={orientation:n.x&&!n.y?`h`:`v`},f=0;f<t.length;f++){var p=t[f],m=p+`Found`;if(!l[m]){var h=e[p]!==void 0,g=p===`orientation`;if((h||u)&&(l[p]=i(p,d[p]),g&&(l.fillDflt=l[p]===`h`?`tonextx`:`tonexty`),h&&(l[m]=!0,!u&&(delete l.traces[0][p],g))))for(var _=0;_<l.traces.length-1;_++){var v=l.traces[_];v._input.fill!==v.fill&&(v.fill=l.fillDflt)}}}return l}}}),16296:(function(e,t,n){var r=n(39898),i=n(91424),a=n(73972);function o(e){var t=r.select(e).selectAll(`g.trace.scatter`);t.style(`opacity`,function(e){return e[0].trace.opacity}),t.selectAll(`g.points`).each(function(t){s(r.select(this),t.trace||t[0].trace,e)}),t.selectAll(`g.text`).each(function(t){c(r.select(this),t.trace||t[0].trace,e)}),t.selectAll(`g.trace path.js-line`).call(i.lineGroupStyle),t.selectAll(`g.trace path.js-fill`).call(i.fillGroupStyle,e),a.getComponentMethod(`errorbars`,`style`)(t)}function s(e,t,n){i.pointStyle(e.selectAll(`path.point`),t,n)}function c(e,t,n){i.textPointStyle(e.selectAll(`text`),t,n)}function l(e,t,n){var r=t[0].trace;r.selectedpoints?(i.selectedPointStyle(n.selectAll(`path.point`),r),i.selectedTextStyle(n.selectAll(`text`),r)):(s(n,r,e),c(n,r,e))}e.exports={style:o,stylePoints:s,styleText:c,styleOnSelect:l}}),34098:(function(e,t,n){var r=n(71828);e.exports={hasLines:function(e){return e.visible&&e.mode&&e.mode.indexOf(`lines`)!==-1},hasMarkers:function(e){return e.visible&&(e.mode&&e.mode.indexOf(`markers`)!==-1||e.type===`splom`)},hasText:function(e){return e.visible&&e.mode&&e.mode.indexOf(`text`)!==-1},isBubble:function(e){return r.isPlainObject(e.marker)&&r.isArrayOrTypedArray(e.marker.size)}}}),82410:(function(e,t,n){var r=n(71828);e.exports=function(e,t,n,i,a){a||={},i(`textposition`),r.coerceFont(i,`textfont`,n.font),a.noSelect||(i(`selected.textfont.color`),i(`unselected.textfont.color`))}}),67513:(function(e,t,n){var r=n(71828),i=n(73972);e.exports=function(e,t,n,a){var o=a(`x`),s=a(`y`),c;if(i.getComponentMethod(`calendars`,`handleTraceDefaults`)(e,t,[`x`,`y`],n),o){var l=r.minRowLength(o);s?c=Math.min(l,r.minRowLength(s)):(c=l,a(`y0`),a(`dy`))}else{if(!s)return 0;c=r.minRowLength(s),a(`x0`),a(`dx`)}return t._length=c,c}}),44542:(function(e,t,n){var r=n(82196),i=n(50693),a=n(12663).axisHoverFormat,o=n(5386).f,s=n(5386).s,c=n(9012),l=n(29659),u=n(87381),d=n(1426).extendFlat,f=n(30962).overrideAll,p=n(78607),m=r.line,h=r.marker,g=h.line,_=d({width:m.width,dash:{valType:`enumerated`,values:p(l),dflt:`solid`}},i(`line`));function v(e){return{show:{valType:`boolean`,dflt:!1},opacity:{valType:`number`,min:0,max:1,dflt:1},scale:{valType:`number`,min:0,max:10,dflt:2/3}}}var y=e.exports=f({x:r.x,y:r.y,z:{valType:`data_array`},text:d({},r.text,{}),texttemplate:s({},{}),hovertext:d({},r.hovertext,{}),hovertemplate:o(),xhoverformat:a(`x`),yhoverformat:a(`y`),zhoverformat:a(`z`),mode:d({},r.mode,{dflt:`lines+markers`}),surfaceaxis:{valType:`enumerated`,values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:`color`},projection:{x:v(`x`),y:v(`y`),z:v(`z`)},connectgaps:r.connectgaps,line:_,marker:d({symbol:{valType:`enumerated`,values:p(u),dflt:`circle`,arrayOk:!0},size:d({},h.size,{dflt:8}),sizeref:h.sizeref,sizemin:h.sizemin,sizemode:h.sizemode,opacity:d({},h.opacity,{arrayOk:!1}),colorbar:h.colorbar,line:d({width:d({},g.width,{arrayOk:!1})},i(`marker.line`))},i(`marker`)),textposition:d({},r.textposition,{dflt:`top center`}),textfont:{color:r.textfont.color,size:r.textfont.size,family:d({},r.textfont.family,{arrayOk:!1})},opacity:c.opacity,hoverinfo:d({},c.hoverinfo)},`calc`,`nested`);y.x.editType=y.y.editType=y.z.editType=`calc+clearAxisTypes`}),36563:(function(e,t,n){var r=n(75225),i=n(36922);e.exports=function(e,t){var n=[{x:!1,y:!1,trace:t,t:{}}];return r(n,t),i(e,t),n}}),67336:(function(e,t,n){var r=n(73972);function i(e,t,n,i){if(!t||!t.visible)return null;for(var a=r.getComponentMethod(`errorbars`,`makeComputeError`)(t),o=Array(e.length),s=0;s<e.length;s++){var c=a(+e[s],s);if(i.type===`log`){var l=i.c2l(e[s]),u=e[s]-c[0],d=e[s]+c[1];if(o[s]=[(i.c2l(u,!0)-l)*n,(i.c2l(d,!0)-l)*n],u>0){var f=i.c2l(u);i._lowerLogErrorBound||=f,i._lowerErrorBound=Math.min(i._lowerLogErrorBound,f)}}else o[s]=[-c[0]*n,c[1]*n]}return o}function a(e){for(var t=0;t<e.length;t++)if(e[t])return e[t].length;return 0}function o(e,t,n){var r=[i(e.x,e.error_x,t[0],n.xaxis),i(e.y,e.error_y,t[1],n.yaxis),i(e.z,e.error_z,t[2],n.zaxis)],o=a(r);if(o===0)return null;for(var s=Array(o),c=0;c<o;c++){for(var l=[[0,0,0],[0,0,0]],u=0;u<3;u++)if(r[u])for(var d=0;d<2;d++)l[d][u]=r[u][c][d];s[c]=l}return s}e.exports=o}),58925:(function(e,t,n){var r=n(9330).gl_line3d,i=n(9330).gl_scatter3d,a=n(9330).gl_error3d,o=n(9330).gl_mesh3d,s=n(9330).delaunay_triangulate,c=n(71828),l=n(78614),u=n(81697).formatColor,d=n(39984),f=n(29659),p=n(87381),m=n(89298),h=n(23469).appendArrayPointValue,g=n(67336);function _(e,t){this.scene=e,this.uid=t,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode=``,this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var v=_.prototype;v.handlePick=function(e){if(e.object&&(e.object===this.linePlot||e.object===this.delaunayMesh||e.object===this.textMarkers||e.object===this.scatterPlot)){var t=e.index=e.data.index;return e.object.highlight&&e.object.highlight(null),this.scatterPlot&&(e.object=this.scatterPlot,this.scatterPlot.highlight(e.data)),e.textLabel=``,this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[t]||this.textLabels[t]===0)&&(e.textLabel=this.textLabels[t]):e.textLabel=this.textLabels),e.traceCoordinate=[this.data.x[t],this.data.y[t],this.data.z[t]],!0}};function y(e,t,n){var r=(n+1)%3,i=(n+2)%3,a=[],o=[],c;for(c=0;c<e.length;++c){var l=e[c];isNaN(l[r])||!isFinite(l[r])||isNaN(l[i])||!isFinite(l[i])||(a.push([l[r],l[i]]),o.push(c))}var u=s(a);for(c=0;c<u.length;++c)for(var d=u[c],f=0;f<d.length;++f)d[f]=o[d[f]];return{positions:e,cells:u,meshColor:t}}function b(e){for(var t=[0,0,0],n=[[0,0,0],[0,0,0],[0,0,0]],r=[1,1,1],i=0;i<3;i++){var a=e[i];a&&a.copy_zstyle!==!1&&e[2].visible!==!1&&(a=e[2]),!(!a||!a.visible)&&(t[i]=a.width/2,n[i]=l(a.color),r[i]=a.thickness)}return{capSize:t,color:n,lineWidth:r}}function x(e){return e==null?0:e.indexOf(`left`)>-1?-1:e.indexOf(`right`)>-1?1:0}function S(e){return e==null?0:e.indexOf(`top`)>-1?-1:e.indexOf(`bottom`)>-1?1:0}function C(e){var t=0,n=0,r=[t,n];if(Array.isArray(e))for(var i=0;i<e.length;i++)r[i]=[t,n],e[i]&&(r[i][0]=x(e[i]),r[i][1]=S(e[i]));else r[0]=x(e),r[1]=S(e);return r}function w(e,t){return t(e*4)}function T(e){return p[e]}function E(e,t,n,r,i){var a=null;if(c.isArrayOrTypedArray(e)){a=[];for(var o=0;o<t;o++)e[o]===void 0?a[o]=r:a[o]=n(e[o],i)}else a=n(e,c.identity);return a}function D(e,t){var n=[],r=e.fullSceneLayout,i=e.dataScale,a=r.xaxis,o=r.yaxis,s=r.zaxis,f=t.marker,p=t.line,_=t.x||[],v=t.y||[],y=t.z||[],x=_.length,S=t.xcalendar,D=t.ycalendar,O=t.zcalendar,k,A,j,M,N,P;for(N=0;N<x;N++)k=a.d2l(_[N],0,S)*i[0],A=o.d2l(v[N],0,D)*i[1],j=s.d2l(y[N],0,O)*i[2],n[N]=[k,A,j];if(Array.isArray(t.text))P=t.text;else if(t.text!==void 0)for(P=Array(x),N=0;N<x;N++)P[N]=t.text;function F(e,t){var n=r[e];return m.tickText(n,n.d2l(t),!0).text}var I=t.texttemplate;if(I){var L=e.fullLayout._d3locale,R=Array.isArray(I),z=R?Math.min(I.length,x):x,B=R?function(e){return I[e]}:function(){return I};for(P=Array(z),N=0;N<z;N++){var V={x:_[N],y:v[N],z:y[N]},H={xLabel:F(`xaxis`,_[N]),yLabel:F(`yaxis`,v[N]),zLabel:F(`zaxis`,y[N])},U={};h(U,t,N);var W=t._meta||{};P[N]=c.texttemplateString(B(N),H,L,U,V,W)}}if(M={position:n,mode:t.mode,text:P},`line`in t&&(M.lineColor=u(p,1,x),M.lineWidth=p.width,M.lineDashes=p.dash),`marker`in t){var G=d(t);M.scatterColor=u(f,1,x),M.scatterSize=E(f.size,x,w,20,G),M.scatterMarker=E(f.symbol,x,T,``),M.scatterLineWidth=f.line.width,M.scatterLineColor=u(f.line,1,x),M.scatterAngle=0}`textposition`in t&&(M.textOffset=C(t.textposition),M.textColor=u(t.textfont,1,x),M.textSize=E(t.textfont.size,x,c.identity,12),M.textFont=t.textfont.family,M.textAngle=0);var K=[`x`,`y`,`z`];for(M.project=[!1,!1,!1],M.projectScale=[1,1,1],M.projectOpacity=[1,1,1],N=0;N<3;++N){var ee=t.projection[K[N]];(M.project[N]=ee.show)&&(M.projectOpacity[N]=ee.opacity,M.projectScale[N]=ee.scale)}M.errorBounds=g(t,i,r);var q=b([t.error_x,t.error_y,t.error_z]);return M.errorColor=q.color,M.errorLineWidth=q.lineWidth,M.errorCapSize=q.capSize,M.delaunayAxis=t.surfaceaxis,M.delaunayColor=l(t.surfacecolor),M}function O(e){if(c.isArrayOrTypedArray(e)){var t=e[0];return c.isArrayOrTypedArray(t)&&(e=t),`rgb(`+e.slice(0,3).map(function(e){return Math.round(e*255)})+`)`}return null}function k(e){return c.isArrayOrTypedArray(e)?e.length===4&&typeof e[0]==`number`?O(e):e.map(O):null}v.update=function(e){var t=this.scene.glplot.gl,n,s,c,l,u=f.solid;this.data=e;var d=D(this.scene,e);`mode`in d&&(this.mode=d.mode),`lineDashes`in d&&d.lineDashes in f&&(u=f[d.lineDashes]),this.color=k(d.scatterColor)||k(d.lineColor),this.dataPoints=d.position,n={gl:this.scene.glplot.gl,position:d.position,color:d.lineColor,lineWidth:d.lineWidth||1,dashes:u[0],dashScale:u[1],opacity:e.opacity,connectGaps:e.connectgaps},this.mode.indexOf(`lines`)===-1?this.linePlot&&=(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),null):this.linePlot?this.linePlot.update(n):(this.linePlot=r(n),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot));var p=e.opacity;if(e.marker&&e.marker.opacity&&(p*=e.marker.opacity),s={gl:this.scene.glplot.gl,position:d.position,color:d.scatterColor,size:d.scatterSize,glyph:d.scatterMarker,opacity:p,orthographic:!0,lineWidth:d.scatterLineWidth,lineColor:d.scatterLineColor,project:d.project,projectScale:d.projectScale,projectOpacity:d.projectOpacity},this.mode.indexOf(`markers`)===-1?this.scatterPlot&&=(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),null):this.scatterPlot?this.scatterPlot.update(s):(this.scatterPlot=i(s),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)),l={gl:this.scene.glplot.gl,position:d.position,glyph:d.text,color:d.textColor,size:d.textSize,angle:d.textAngle,alignment:d.textOffset,font:d.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:e.opacity},this.textLabels=e.hovertext||e.text,this.mode.indexOf(`text`)===-1?this.textMarkers&&=(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),null):this.textMarkers?this.textMarkers.update(l):(this.textMarkers=i(l),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)),c={gl:this.scene.glplot.gl,position:d.position,color:d.errorColor,error:d.errorBounds,lineWidth:d.errorLineWidth,capSize:d.errorCapSize,opacity:e.opacity},this.errorBars?d.errorBounds?this.errorBars.update(c):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):d.errorBounds&&(this.errorBars=a(c),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),d.delaunayAxis>=0){var m=y(d.position,d.delaunayColor,d.delaunayAxis);m.opacity=e.opacity,this.delaunayMesh?this.delaunayMesh.update(m):(m.gl=t,this.delaunayMesh=o(m),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&=(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),null)},v.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function A(e,t){var n=new _(e,t.uid);return n.update(t),n}e.exports=A}),21428:(function(e,t,n){var r=n(73972),i=n(71828),a=n(34098),o=n(49508),s=n(11058),c=n(82410),l=n(44542);e.exports=function(e,t,n,d){function f(n,r){return i.coerce(e,t,l,n,r)}if(!u(e,t,f,d)){t.visible=!1;return}f(`text`),f(`hovertext`),f(`hovertemplate`),f(`xhoverformat`),f(`yhoverformat`),f(`zhoverformat`),f(`mode`),a.hasLines(t)&&(f(`connectgaps`),s(e,t,n,d,f)),a.hasMarkers(t)&&o(e,t,n,d,f,{noSelect:!0,noAngle:!0}),a.hasText(t)&&(f(`texttemplate`),c(e,t,d,f,{noSelect:!0}));var p=(t.line||{}).color,m=(t.marker||{}).color;f(`surfaceaxis`)>=0&&f(`surfacecolor`,p||m);for(var h=[`x`,`y`,`z`],g=0;g<3;++g){var _=`projection.`+h[g];f(_+`.show`)&&(f(_+`.opacity`),f(_+`.scale`))}var v=r.getComponentMethod(`errorbars`,`supplyDefaults`);v(e,t,p||m||n,{axis:`z`}),v(e,t,p||m||n,{axis:`y`,inherit:`z`}),v(e,t,p||m||n,{axis:`x`,inherit:`z`})};function u(e,t,n,i){var a=0,o=n(`x`),s=n(`y`),c=n(`z`);return r.getComponentMethod(`calendars`,`handleTraceDefaults`)(e,t,[`x`,`y`,`z`],i),o&&s&&c&&(a=Math.min(o.length,s.length,c.length),t._length=t._xlength=t._ylength=t._zlength=a),a}}),13551:(function(e,t,n){e.exports={plot:n(58925),attributes:n(44542),markerSymbols:n(87381),supplyDefaults:n(21428),colorbar:[{container:`marker`,min:`cmin`,max:`cmax`},{container:`line`,min:`cmin`,max:`cmax`}],calc:n(36563),moduleType:`trace`,name:`scatter3d`,basePlotModule:n(58547),categories:[`gl3d`,`symbols`,`showLegend`,`scatter-like`],meta:{}}}),97001:(function(e,t,n){var r=n(82196),i=n(9012),a=n(5386).f,o=n(5386).s,s=n(50693),c=n(1426).extendFlat,l=r.marker,u=r.line,d=l.line;e.exports={carpet:{valType:`string`,editType:`calc`},a:{valType:`data_array`,editType:`calc`},b:{valType:`data_array`,editType:`calc`},mode:c({},r.mode,{dflt:`markers`}),text:c({},r.text,{}),texttemplate:o({editType:`plot`},{keys:[`a`,`b`,`text`]}),hovertext:c({},r.hovertext,{}),line:{color:u.color,width:u.width,dash:u.dash,backoff:u.backoff,shape:c({},u.shape,{values:[`linear`,`spline`]}),smoothing:u.smoothing,editType:`calc`},connectgaps:r.connectgaps,fill:c({},r.fill,{values:[`none`,`toself`,`tonext`],dflt:`none`}),fillcolor:r.fillcolor,marker:c({symbol:l.symbol,opacity:l.opacity,maxdisplayed:l.maxdisplayed,angle:l.angle,angleref:l.angleref,standoff:l.standoff,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,line:c({width:d.width,editType:`calc`},s(`marker.line`)),gradient:l.gradient,editType:`calc`},s(`marker`)),textfont:r.textfont,textposition:r.textposition,selected:r.selected,unselected:r.unselected,hoverinfo:c({},i.hoverinfo,{flags:[`a`,`b`,`text`,`name`]}),hoveron:r.hoveron,hovertemplate:a()}}),34618:(function(e,t,n){var r=n(92770),i=n(36922),a=n(75225),o=n(66279),s=n(47761).calcMarkerSize,c=n(22882);e.exports=function(e,t){var n=t._carpetTrace=c(e,t);if(!(!n||!n.visible||n.visible===`legendonly`)){var l;t.xaxis=n.xaxis,t.yaxis=n.yaxis;var u=t._length,d=Array(u),f,p,m=!1;for(l=0;l<u;l++)if(f=t.a[l],p=t.b[l],r(f)&&r(p)){var h=n.ab2xy(+f,+p,!0),g=n.isVisible(+f,+p);g||(m=!0),d[l]={x:h[0],y:h[1],a:f,b:p,vis:g}}else d[l]={x:!1,y:!1};return t._needsCull=m,d[0].carpet=n,d[0].trace=t,s(t,u),i(e,t),a(d,t),o(d,t),d}}}),98965:(function(e,t,n){var r=n(71828),i=n(47581),a=n(34098),o=n(49508),s=n(11058),c=n(94039),l=n(82410),u=n(28908),d=n(97001);e.exports=function(e,t,n,f){function p(n,i){return r.coerce(e,t,d,n,i)}p(`carpet`),t.xaxis=`x`,t.yaxis=`y`;var m=p(`a`),h=p(`b`),g=Math.min(m.length,h.length);if(!g){t.visible=!1;return}t._length=g,p(`text`),p(`texttemplate`),p(`hovertext`),p(`mode`,g<i.PTS_LINESONLY?`lines+markers`:`lines`),a.hasLines(t)&&(s(e,t,n,f,p,{backoff:!0}),c(e,t,p),p(`connectgaps`)),a.hasMarkers(t)&&o(e,t,n,f,p,{gradient:!0}),a.hasText(t)&&l(e,t,f,p);var _=[];(a.hasMarkers(t)||a.hasText(t))&&(p(`marker.maxdisplayed`),_.push(`points`)),p(`fill`),t.fill!==`none`&&(u(e,t,n,p),a.hasLines(t)||c(e,t,p)),(t.fill===`tonext`||t.fill===`toself`)&&_.push(`fills`),p(`hoveron`,_.join(`+`)||`points`)!==`fills`&&p(`hovertemplate`),r.coerceSelectionMarkerOpacity(t,p)}}),16165:(function(e){e.exports=function(e,t,n,r,i){var a=r[i];return e.a=a.a,e.b=a.b,e.y=a.y,e}}),48953:(function(e){e.exports=function(e,t){var n={},r=t._carpet,i=r.ab2ij([e.a,e.b]),a=Math.floor(i[0]),o=i[0]-a,s=Math.floor(i[1]),c=i[1]-s;return n.yLabel=r.evalxy([],a,s,o,c)[1].toFixed(3),n}}),22931:(function(e,t,n){var r=n(33720),i=n(71828).fillText;e.exports=function(e,t,n,a){var o=r(e,t,n,a);if(!o||o[0].index===!1)return;var s=o[0];if(s.index===void 0){var c=1-s.y0/e.ya._length,l=e.xa._length,u=l*c/2,d=l-u;return s.x0=Math.max(Math.min(s.x0,d),u),s.x1=Math.max(Math.min(s.x1,d),u),o}var f=s.cd[s.index];s.a=f.a,s.b=f.b,s.xLabelVal=void 0,s.yLabelVal=void 0;var p=s.trace,m=p._carpet;s.yLabel=p._module.formatLabels(f,p).yLabel,delete s.text;var h=[];function g(e,t){var n=e.labelprefix&&e.labelprefix.length>0?e.labelprefix.replace(/ = $/,``):e._hovertitle;h.push(n+`: `+t.toFixed(3)+e.labelsuffix)}if(!p.hovertemplate){var _=(f.hi||p.hoverinfo).split(`+`);_.indexOf(`all`)!==-1&&(_=[`a`,`b`,`text`]),_.indexOf(`a`)!==-1&&g(m.aaxis,f.a),_.indexOf(`b`)!==-1&&g(m.baxis,f.b),h.push(`y: `+s.yLabel),_.indexOf(`text`)!==-1&&i(f,p,h),s.extraText=h.join(`<br>`)}return o}}),46858:(function(e,t,n){e.exports={attributes:n(97001),supplyDefaults:n(98965),colorbar:n(4898),formatLabels:n(48953),calc:n(34618),plot:n(1913),style:n(16296).style,styleOnSelect:n(16296).styleOnSelect,hoverPoints:n(22931),selectPoints:n(98002),eventData:n(16165),moduleType:`trace`,name:`scattercarpet`,basePlotModule:n(93612),categories:[`svg`,`carpet`,`symbols`,`showLegend`,`carpetDependent`,`zoomScale`],meta:{}}}),1913:(function(e,t,n){var r=n(32663),i=n(89298),a=n(91424);e.exports=function(e,t,n,o){var s,c,l,u=n[0][0].carpet,d=i.getFromId(e,u.xaxis||`x`),f=i.getFromId(e,u.yaxis||`y`),p={xaxis:d,yaxis:f,plot:t.plot};for(s=0;s<n.length;s++)c=n[s][0].trace,c._xA=d,c._yA=f;for(r(e,p,n,o),s=0;s<n.length;s++)c=n[s][0].trace,l=o.selectAll(`g.trace`+c.uid+` .js-line`),a.setClipUrl(l,n[s][0].carpet._clipPathId,e)}}),19316:(function(e,t,n){var r=n(5386).f,i=n(5386).s,a=n(82196),o=n(9012),s=n(50693),c=n(79952).P,l=n(1426).extendFlat,u=n(30962).overrideAll,d=a.marker,f=a.line,p=d.line;e.exports=u({lon:{valType:`data_array`},lat:{valType:`data_array`},locations:{valType:`data_array`},locationmode:{valType:`enumerated`,values:[`ISO-3`,`USA-states`,`country names`,`geojson-id`],dflt:`ISO-3`},geojson:{valType:`any`,editType:`calc`},featureidkey:{valType:`string`,editType:`calc`,dflt:`id`},mode:l({},a.mode,{dflt:`markers`}),text:l({},a.text,{}),texttemplate:i({editType:`plot`},{keys:[`lat`,`lon`,`location`,`text`]}),hovertext:l({},a.hovertext,{}),textfont:a.textfont,textposition:a.textposition,line:{color:f.color,width:f.width,dash:c},connectgaps:a.connectgaps,marker:l({symbol:d.symbol,opacity:d.opacity,angle:d.angle,angleref:l({},d.angleref,{values:[`previous`,`up`,`north`]}),standoff:d.standoff,size:d.size,sizeref:d.sizeref,sizemin:d.sizemin,sizemode:d.sizemode,colorbar:d.colorbar,line:l({width:p.width},s(`marker.line`)),gradient:d.gradient},s(`marker`)),fill:{valType:`enumerated`,values:[`none`,`toself`],dflt:`none`},fillcolor:a.fillcolor,selected:a.selected,unselected:a.unselected,hoverinfo:l({},o.hoverinfo,{flags:[`lon`,`lat`,`location`,`text`,`name`]}),hovertemplate:r()},`calc`,`nested`)}),84622:(function(e,t,n){var r=n(92770),i=n(50606).BADNUM,a=n(36922),o=n(75225),s=n(66279),c=n(71828)._;function l(e){return e&&typeof e==`string`}e.exports=function(e,t){for(var n=Array.isArray(t.locations),u=n?t.locations.length:t._length,d=Array(u),f=t.geojson?function(e){return l(e)||r(e)}:l,p=0;p<u;p++){var m=d[p]={};if(n){var h=t.locations[p];m.loc=f(h)?h:null}else{var g=t.lon[p],_=t.lat[p];r(g)&&r(_)?m.lonlat=[+g,+_]:m.lonlat=[i,i]}}return o(d,t),a(e,t),s(d,t),u&&(d[0].t={labels:{lat:c(e,`lat:`)+` `,lon:c(e,`lon:`)+` `}}),d}}),10659:(function(e,t,n){var r=n(71828),i=n(34098),a=n(49508),o=n(11058),s=n(82410),c=n(28908),l=n(19316);e.exports=function(e,t,n,u){function d(n,i){return r.coerce(e,t,l,n,i)}var f=d(`locations`),p;if(f&&f.length){var m=d(`geojson`),h;(typeof m==`string`&&m!==``||r.isPlainObject(m))&&(h=`geojson-id`),d(`locationmode`,h)===`geojson-id`&&d(`featureidkey`),p=f.length}else{var g=d(`lon`)||[],_=d(`lat`)||[];p=Math.min(g.length,_.length)}if(!p){t.visible=!1;return}t._length=p,d(`text`),d(`hovertext`),d(`hovertemplate`),d(`mode`),i.hasLines(t)&&(o(e,t,n,u,d),d(`connectgaps`)),i.hasMarkers(t)&&a(e,t,n,u,d,{gradient:!0}),i.hasText(t)&&(d(`texttemplate`),s(e,t,u,d)),d(`fill`),t.fill!==`none`&&c(e,t,n,d),r.coerceSelectionMarkerOpacity(t,d)}}),84084:(function(e){e.exports=function(e,t,n,r,i){e.lon=t.lon,e.lat=t.lat,e.location=t.loc?t.loc:null;var a=r[i];return a.fIn&&a.fIn.properties&&(e.properties=a.fIn.properties),e}}),82719:(function(e,t,n){var r=n(89298);e.exports=function(e,t,n){var i={},a=n[t.geo]._subplot.mockAxis,o=e.lonlat;return i.lonLabel=r.tickText(a,a.c2l(o[0]),!0).text,i.latLabel=r.tickText(a,a.c2l(o[1]),!0).text,i}}),14977:(function(e,t,n){var r=n(30211),i=n(50606).BADNUM,a=n(34603),o=n(71828).fillText,s=n(19316);e.exports=function(e,t,n){var o=e.cd,s=o[0].trace,l=e.xa,u=e.ya,d=e.subplot,f=d.projection.isLonLatOverEdges,p=d.project;function m(e){var r=e.lonlat;if(r[0]===i||f(r))return 1/0;var a=p(r),o=p([t,n]),s=Math.abs(a[0]-o[0]),c=Math.abs(a[1]-o[1]),l=Math.max(3,e.mrc||0);return Math.max(Math.sqrt(s*s+c*c)-l,1-3/l)}if(r.getClosest(o,m,e),e.index!==!1){var h=o[e.index],g=h.lonlat,_=[l.c2p(g),u.c2p(g)],v=h.mrc||1;e.x0=_[0]-v,e.x1=_[0]+v,e.y0=_[1]-v,e.y1=_[1]+v,e.loc=h.loc,e.lon=g[0],e.lat=g[1];var y={};y[s.geo]={_subplot:d};var b=s._module.formatLabels(h,s,y);return e.lonLabel=b.lonLabel,e.latLabel=b.latLabel,e.color=a(s,h),e.extraText=c(s,h,e,o[0].t.labels),e.hovertemplate=s.hovertemplate,[e]}};function c(e,t,n,r){if(e.hovertemplate)return;var i=t.hi||e.hoverinfo,a=i===`all`?s.hoverinfo.flags:i.split(`+`),c=a.indexOf(`location`)!==-1&&Array.isArray(e.locations),l=a.indexOf(`lon`)!==-1,u=a.indexOf(`lat`)!==-1,d=a.indexOf(`text`)!==-1,f=[];function p(e){return e+``}return c?f.push(t.loc):l&&u?f.push(`(`+p(n.latLabel)+`, `+p(n.lonLabel)+`)`):l?f.push(r.lon+p(n.lonLabel)):u&&f.push(r.lat+p(n.latLabel)),d&&o(t,e,f),f.join(`<br>`)}}),17988:(function(e,t,n){e.exports={attributes:n(19316),supplyDefaults:n(10659),colorbar:n(4898),formatLabels:n(82719),calc:n(84622),calcGeoJSON:n(89171).calcGeoJSON,plot:n(89171).plot,style:n(33095),styleOnSelect:n(16296).styleOnSelect,hoverPoints:n(14977),eventData:n(84084),selectPoints:n(20548),moduleType:`trace`,name:`scattergeo`,basePlotModule:n(44622),categories:[`geo`,`symbols`,`showLegend`,`scatter-like`],meta:{}}}),89171:(function(e,t,n){var r=n(39898),i=n(71828),a=n(90973).getTopojsonFeatures,o=n(18214),s=n(41327),c=n(71739).findExtremes,l=n(50606).BADNUM,u=n(47761).calcMarkerSize,d=n(34098),f=n(33095);function p(e,t,n){var a=t.layers.frontplot.select(`.scatterlayer`),s=i.makeTraceGroups(a,n,`trace scattergeo`);function c(e,t){e.lonlat[0]===l&&r.select(t).remove()}s.selectAll(`*`).remove(),s.each(function(t){var n=r.select(this),a=t[0].trace;if(d.hasLines(a)||a.fill!==`none`){var s=o.calcTraceToLineCoords(t),l=a.fill===`none`?o.makeLine(s):o.makePolygon(s);n.selectAll(`path.js-line`).data([{geojson:l,trace:a}]).enter().append(`path`).classed(`js-line`,!0).style(`stroke-miterlimit`,2)}d.hasMarkers(a)&&n.selectAll(`path.point`).data(i.identity).enter().append(`path`).classed(`point`,!0).each(function(e){c(e,this)}),d.hasText(a)&&n.selectAll(`g`).data(i.identity).enter().append(`g`).append(`text`).each(function(e){c(e,this)}),f(e,t)})}function m(e,t){var n=e[0].trace,r=t[n.geo],i=r._subplot,o=n._length,d,f;if(Array.isArray(n.locations)){var p=n.locationmode,m=p===`geojson-id`?s.extractTraceFeature(e):a(n,i.topojson);for(d=0;d<o;d++){f=e[d];var h=p===`geojson-id`?f.fOut:s.locationToFeature(p,f.loc,m);f.lonlat=h?h.properties.ct:[l,l]}}var g={padded:!0},_,v;if(r.fitbounds===`geojson`&&n.locationmode===`geojson-id`){var y=s.computeBbox(s.getTraceGeojson(n));_=[y[0],y[2]],v=[y[1],y[3]]}else{for(_=Array(o),v=Array(o),d=0;d<o;d++)f=e[d],_[d]=f.lonlat[0],v[d]=f.lonlat[1];g.ppad=u(n,o)}n._extremes.lon=c(r.lonaxis._ax,_,g),n._extremes.lat=c(r.lataxis._ax,v,g)}e.exports={calcGeoJSON:m,plot:p}}),20548:(function(e,t,n){var r=n(34098),i=n(50606).BADNUM;e.exports=function(e,t){var n=e.cd,a=e.xaxis,o=e.yaxis,s=[],c=n[0].trace,l,u,d,f,p;if(!r.hasMarkers(c)&&!r.hasText(c))return[];if(t===!1)for(p=0;p<n.length;p++)n[p].selected=0;else for(p=0;p<n.length;p++)l=n[p],u=l.lonlat,u[0]!==i&&(d=a.c2p(u),f=o.c2p(u),t.contains([d,f],null,p,e)?(s.push({pointNumber:p,lon:u[0],lat:u[1]}),l.selected=1):l.selected=0);return s}}),33095:(function(e,t,n){var r=n(39898),i=n(91424),a=n(7901),o=n(16296),s=o.stylePoints,c=o.styleText;e.exports=function(e,t){t&&l(e,t)};function l(e,t){var n=t[0].trace,o=t[0].node3;o.style(`opacity`,t[0].trace.opacity),s(o,n,e),c(o,n,e),o.selectAll(`path.js-line`).style(`fill`,`none`).each(function(e){var t=r.select(this),n=e.trace,o=n.line||{};t.call(a.stroke,o.color).call(i.dashLine,o.dash||``,o.width||0),n.fill!==`none`&&t.call(a.fill,n.fillcolor)})}}),42341:(function(e,t,n){var r=n(9012),i=n(82196),a=n(12663).axisHoverFormat,o=n(50693),s=n(78607),c=n(1426).extendFlat,l=n(30962).overrideAll,u=n(78232).DASHES,d=i.line,f=i.marker,p=f.line,m=e.exports=l({x:i.x,x0:i.x0,dx:i.dx,y:i.y,y0:i.y0,dy:i.dy,xperiod:i.xperiod,yperiod:i.yperiod,xperiod0:i.xperiod0,yperiod0:i.yperiod0,xperiodalignment:i.xperiodalignment,yperiodalignment:i.yperiodalignment,xhoverformat:a(`x`),yhoverformat:a(`y`),text:i.text,hovertext:i.hovertext,textposition:i.textposition,textfont:i.textfont,mode:{valType:`flaglist`,flags:[`lines`,`markers`,`text`],extras:[`none`]},line:{color:d.color,width:d.width,shape:{valType:`enumerated`,values:[`linear`,`hv`,`vh`,`hvh`,`vhv`],dflt:`linear`,editType:`plot`},dash:{valType:`enumerated`,values:s(u),dflt:`solid`}},marker:c({},o(`marker`),{symbol:f.symbol,angle:f.angle,size:f.size,sizeref:f.sizeref,sizemin:f.sizemin,sizemode:f.sizemode,opacity:f.opacity,colorbar:f.colorbar,line:c({},o(`marker.line`),{width:p.width})}),connectgaps:i.connectgaps,fill:c({},i.fill,{dflt:`none`}),fillcolor:i.fillcolor,selected:{marker:i.selected.marker,textfont:i.selected.textfont},unselected:{marker:i.unselected.marker,textfont:i.unselected.textfont},opacity:r.opacity},`calc`,`nested`);m.x.editType=m.y.editType=m.x0.editType=m.y0.editType=`calc+clearAxisTypes`,m.hovertemplate=i.hovertemplate,m.texttemplate=i.texttemplate}),72156:(function(e,t,n){var r=n(20794);e.exports={moduleType:`trace`,name:`scattergl`,basePlotModule:n(93612),categories:[`gl`,`regl`,`cartesian`,`symbols`,`errorBarsOK`,`showLegend`,`scatter-like`],attributes:n(42341),supplyDefaults:n(47148),crossTraceDefaults:n(34936),colorbar:n(4898),formatLabels:n(68101),calc:n(45032),hoverPoints:r.hoverPoints,selectPoints:n(58147),meta:{}}}),45032:(function(e,t,n){var r=n(88294),i=n(71828),a=n(41675),o=n(71739).findExtremes,s=n(42973),c=n(47761),l=c.calcMarkerSize,u=c.calcAxisExpansion,d=c.setFirstScatter,f=n(36922),p=n(19635),m=n(38967),h=n(50606).BADNUM,g=n(78232).TOO_MANY_POINTS;e.exports=function(e,t){var n=e._fullLayout,i=t._xA=a.getFromId(e,t.xaxis,`x`),o=t._yA=a.getFromId(e,t.yaxis,`y`),c=n._plots[t.xaxis+t.yaxis],p=t._length,y=p>=g,b=p*2,x={},S,C=i.makeCalcdata(t,`x`),w=o.makeCalcdata(t,`y`),T=s(t,i,`x`,C),E=s(t,o,`y`,w),D=T.vals,O=E.vals;t._x=D,t._y=O,t.xperiodalignment&&(t._origX=C,t._xStarts=T.starts,t._xEnds=T.ends),t.yperiodalignment&&(t._origY=w,t._yStarts=E.starts,t._yEnds=E.ends);var k=Array(b),A=Array(p);for(S=0;S<p;S++)k[S*2]=D[S]===h?NaN:D[S],k[S*2+1]=O[S]===h?NaN:O[S],A[S]=S;if(i.type===`log`)for(S=0;S<b;S+=2)k[S]=i.c2l(k[S]);if(o.type===`log`)for(S=1;S<b;S+=2)k[S]=o.c2l(k[S]);y&&i.type!==`log`&&o.type!==`log`?x.tree=r(k):x.ids=A,f(e,t);var j=v(e,c,t,k,D,O),M=m(e,c);d(n,t);var N;return y?j.marker&&(N=j.marker.sizeAvg||Math.max(j.marker.size,3)):N=l(t,p),u(e,t,i,o,D,O,N),j.errorX&&_(t,i,j.errorX),j.errorY&&_(t,o,j.errorY),j.fill&&!M.fill2d&&(M.fill2d=!0),j.marker&&!M.scatter2d&&(M.scatter2d=!0),j.line&&!M.line2d&&(M.line2d=!0),(j.errorX||j.errorY)&&!M.error2d&&(M.error2d=!0),j.text&&!M.glText&&(M.glText=!0),j.marker&&(j.marker.snap=p),M.lineOptions.push(j.line),M.errorXOptions.push(j.errorX),M.errorYOptions.push(j.errorY),M.fillOptions.push(j.fill),M.markerOptions.push(j.marker),M.markerSelectedOptions.push(j.markerSel),M.markerUnselectedOptions.push(j.markerUnsel),M.textOptions.push(j.text),M.textSelectedOptions.push(j.textSel),M.textUnselectedOptions.push(j.textUnsel),M.selectBatch.push([]),M.unselectBatch.push([]),x._scene=M,x.index=M.count,x.x=D,x.y=O,x.positions=k,M.count++,[{x:!1,y:!1,t:x,trace:t}]};function _(e,t,n){var r=e._extremes[t._id],i=o(t,n._bnds,{padded:!0});r.min=r.min.concat(i.min),r.max=r.max.concat(i.max)}function v(e,t,n,r,a,o){var s=p.style(e,n);if(s.marker&&(s.marker.positions=r),s.line&&r.length>1&&i.extendFlat(s.line,p.linePositions(e,n,r)),s.errorX||s.errorY){var c=p.errorBarPositions(e,n,r,a,o);s.errorX&&i.extendFlat(s.errorX,c.x),s.errorY&&i.extendFlat(s.errorY,c.y)}return s.text&&(i.extendFlat(s.text,{positions:r},p.textPosition(e,n,s.text,s.marker)),i.extendFlat(s.textSel,{positions:r},p.textPosition(e,n,s.text,s.markerSel)),i.extendFlat(s.textUnsel,{positions:r},p.textPosition(e,n,s.text,s.markerUnsel))),s}}),78232:(function(e){var t=20;e.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:t,SYMBOL_STROKE:t/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}}),19635:(function(e,t,n){var r=n(92770),i=n(82019),a=n(25075),o=n(73972),s=n(71828),c=n(91424),l=n(41675),u=n(81697).formatColor,d=n(34098),f=n(39984),p=n(68645),m=n(78232),h=n(37822).DESELECTDIM,g={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},_=n(23469).appendArrayPointValue;function v(e,t){var n,r={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},i=e._context.plotGlPixelRatio;if(t.visible!==!0)return r;if(d.hasText(t)&&(r.text=y(e,t),r.textSel=S(e,t,t.selected),r.textUnsel=S(e,t,t.unselected)),d.hasMarkers(t)&&(r.marker=b(e,t),r.markerSel=x(e,t,t.selected),r.markerUnsel=x(e,t,t.unselected),!t.unselected&&s.isArrayOrTypedArray(t.marker.opacity))){var a=t.marker.opacity;for(r.markerUnsel.opacity=Array(a.length),n=0;n<a.length;n++)r.markerUnsel.opacity[n]=h*a[n]}if(d.hasLines(t)){r.line={overlay:!0,thickness:t.line.width*i,color:t.line.color,opacity:t.opacity};var o=(m.DASHES[t.line.dash]||[1]).slice();for(n=0;n<o.length;++n)o[n]*=t.line.width*i;r.line.dashes=o}return t.error_x&&t.error_x.visible&&(r.errorX=C(t,t.error_x,i)),t.error_y&&t.error_y.visible&&(r.errorY=C(t,t.error_y,i)),t.fill&&t.fill!==`none`&&(r.fill={closed:!0,fill:t.fillcolor,thickness:0}),r}function y(e,t){var n=e._fullLayout,i=t._length,a=t.textfont,o=t.textposition,c=Array.isArray(o)?o:[o],l=a.color,u=a.size,d=a.family,f={},p,m=e._context.plotGlPixelRatio,h=t.texttemplate;if(h){f.text=[];var g=n._d3locale,v=Array.isArray(h),y=v?Math.min(h.length,i):i,b=v?function(e){return h[e]}:function(){return h};for(p=0;p<y;p++){var x={i:p},S=t._module.formatLabels(x,t,n),C={};_(C,t,p);var w=t._meta||{};f.text.push(s.texttemplateString(b(p),S,g,C,x,w))}}else Array.isArray(t.text)&&t.text.length<i?f.text=t.text.slice():f.text=t.text;if(Array.isArray(f.text))for(p=f.text.length;p<i;p++)f.text[p]=``;for(f.opacity=t.opacity,f.font={},f.align=[],f.baseline=[],p=0;p<c.length;p++){var T=c[p].split(/\s+/);switch(T[1]){case`left`:f.align.push(`right`);break;case`right`:f.align.push(`left`);break;default:f.align.push(T[1])}switch(T[0]){case`top`:f.baseline.push(`bottom`);break;case`bottom`:f.baseline.push(`top`);break;default:f.baseline.push(T[0])}}if(Array.isArray(l))for(f.color=Array(i),p=0;p<i;p++)f.color[p]=l[p];else f.color=l;if(s.isArrayOrTypedArray(u)||Array.isArray(d))for(f.font=Array(i),p=0;p<i;p++){var E=f.font[p]={};E.size=(s.isTypedArray(u)?u[p]:Array.isArray(u)?r(u[p])?u[p]:0:u)*m,E.family=Array.isArray(d)?d[p]:d}else f.font={size:u*m,family:d};return f}function b(e,t){var n=t._length,r=t.marker,i={},o,c=s.isArrayOrTypedArray(r.symbol),l=s.isArrayOrTypedArray(r.angle),d=s.isArrayOrTypedArray(r.color),m=s.isArrayOrTypedArray(r.line.color),h=s.isArrayOrTypedArray(r.opacity),g=s.isArrayOrTypedArray(r.size),_=s.isArrayOrTypedArray(r.line.width),v;if(c||(v=p.isOpenSymbol(r.symbol)),c||d||m||h||l){i.symbols=Array(n),i.angles=Array(n),i.colors=Array(n),i.borderColors=Array(n);var y=r.symbol,b=r.angle,x=u(r,r.opacity,n),S=u(r.line,r.opacity,n);if(!Array.isArray(S[0])){var C=S;for(S=Array(n),o=0;o<n;o++)S[o]=C}if(!Array.isArray(x[0])){var w=x;for(x=Array(n),o=0;o<n;o++)x[o]=w}if(!Array.isArray(y)){var T=y;for(y=Array(n),o=0;o<n;o++)y[o]=T}if(!Array.isArray(b)){var E=b;for(b=Array(n),o=0;o<n;o++)b[o]=E}for(i.symbols=y,i.angles=b,i.colors=x,i.borderColors=S,o=0;o<n;o++)c&&(v=p.isOpenSymbol(r.symbol[o])),v&&(S[o]=x[o].slice(),x[o]=x[o].slice(),x[o][3]=0);for(i.opacity=t.opacity,i.markers=Array(n),o=0;o<n;o++)i.markers[o]=k({mx:i.symbols[o],ma:i.angles[o]},t)}else v?(i.color=a(r.color,`uint8`),i.color[3]=0,i.borderColor=a(r.color,`uint8`)):(i.color=a(r.color,`uint8`),i.borderColor=a(r.line.color,`uint8`)),i.opacity=t.opacity*r.opacity,i.marker=k({mx:r.symbol,ma:r.angle},t);var D=f(t,1),O;if(g||_){var A=i.sizes=Array(n),j=i.borderSizes=Array(n),M=0,N;if(g){for(o=0;o<n;o++)A[o]=D(r.size[o]),M+=A[o];N=M/n}else for(O=D(r.size),o=0;o<n;o++)A[o]=O;if(_)for(o=0;o<n;o++)j[o]=r.line.width[o];else for(O=r.line.width,o=0;o<n;o++)j[o]=O;i.sizeAvg=N}else i.size=D(r&&r.size||10),i.borderSizes=D(r.line.width);return i}function x(e,t,n){var r=t.marker,i={};return n&&(n.marker&&n.marker.symbol?i=b(e,s.extendFlat({},r,n.marker)):n.marker&&(n.marker.size&&(i.size=n.marker.size),n.marker.color&&(i.colors=n.marker.color),n.marker.opacity!==void 0&&(i.opacity=n.marker.opacity))),i}function S(e,t,n){var r={};if(!n)return r;if(n.textfont){var i={opacity:1,text:t.text,texttemplate:t.texttemplate,textposition:t.textposition,textfont:s.extendFlat({},t.textfont)};n.textfont&&s.extendFlat(i.textfont,n.textfont),r=y(e,i)}return r}function C(e,t,n){var r={capSize:t.width*2*n,lineWidth:t.thickness*n,color:t.color};return t.copy_ystyle&&(r=e.error_y),r}var w=m.SYMBOL_SDF_SIZE,T=m.SYMBOL_SIZE,E=m.SYMBOL_STROKE,D={},O=c.symbolFuncs[0](T*.05);function k(e,t){var n=e.mx;if(n===`circle`)return null;var r,a,o=c.symbolNumber(n),s=c.symbolFuncs[o%100],l=!!c.symbolNoDot[o%100],u=!!c.symbolNoFill[o%100],d=p.isDotSymbol(n);if(e.ma&&(n+=`_`+e.ma),D[n])return D[n];var f=c.getMarkerAngle(e,t);return r=d&&!l?s(T*1.1,f)+O:s(T,f),a=i(r,{w,h:w,viewBox:[-T,-T,T,T],stroke:u?E:-E}),D[n]=a,a||null}function A(e,t,n){var r=n.length,i=r/2,a,o;if(d.hasLines(t)&&i)if(t.line.shape===`hv`){for(a=[],o=0;o<i-1;o++)isNaN(n[o*2])||isNaN(n[o*2+1])?a.push(NaN,NaN,NaN,NaN):(a.push(n[o*2],n[o*2+1]),!isNaN(n[o*2+2])&&!isNaN(n[o*2+3])?a.push(n[o*2+2],n[o*2+1]):a.push(NaN,NaN));a.push(n[r-2],n[r-1])}else if(t.line.shape===`hvh`){for(a=[],o=0;o<i-1;o++)if(isNaN(n[o*2])||isNaN(n[o*2+1])||isNaN(n[o*2+2])||isNaN(n[o*2+3]))!isNaN(n[o*2])&&!isNaN(n[o*2+1])?a.push(n[o*2],n[o*2+1]):a.push(NaN,NaN),a.push(NaN,NaN);else{var s=(n[o*2]+n[o*2+2])/2;a.push(n[o*2],n[o*2+1],s,n[o*2+1],s,n[o*2+3])}a.push(n[r-2],n[r-1])}else if(t.line.shape===`vhv`){for(a=[],o=0;o<i-1;o++)if(isNaN(n[o*2])||isNaN(n[o*2+1])||isNaN(n[o*2+2])||isNaN(n[o*2+3]))!isNaN(n[o*2])&&!isNaN(n[o*2+1])?a.push(n[o*2],n[o*2+1]):a.push(NaN,NaN),a.push(NaN,NaN);else{var c=(n[o*2+1]+n[o*2+3])/2;a.push(n[o*2],n[o*2+1],n[o*2],c,n[o*2+2],c)}a.push(n[r-2],n[r-1])}else if(t.line.shape===`vh`){for(a=[],o=0;o<i-1;o++)isNaN(n[o*2])||isNaN(n[o*2+1])?a.push(NaN,NaN,NaN,NaN):(a.push(n[o*2],n[o*2+1]),!isNaN(n[o*2+2])&&!isNaN(n[o*2+3])?a.push(n[o*2],n[o*2+3]):a.push(NaN,NaN));a.push(n[r-2],n[r-1])}else a=n;var l=!1;for(o=0;o<a.length;o++)if(isNaN(a[o])){l=!0;break}var u=l||a.length>m.TOO_MANY_POINTS||d.hasMarkers(t)?`rect`:`round`;if(l&&t.connectgaps){var f=a[0],p=a[1];for(o=0;o<a.length;o+=2)isNaN(a[o])||isNaN(a[o+1])?(a[o]=f,a[o+1]=p):(f=a[o],p=a[o+1])}return{join:u,positions:a}}function j(e,t,n,i,a){var s=o.getComponentMethod(`errorbars`,`makeComputeError`),c=l.getFromId(e,t.xaxis,`x`),u=l.getFromId(e,t.yaxis,`y`),d=n.length/2,f={};function p(e,i){var a=i._id.charAt(0),o=t[`error_`+a];if(o&&o.visible&&(i.type===`linear`||i.type===`log`)){for(var c=s(o),l={x:0,y:1}[a],u={x:[0,1,2,3],y:[2,3,0,1]}[a],p=new Float64Array(4*d),m=1/0,h=-1/0,g=0,_=0;g<d;g++,_+=4){var v=e[g];if(r(v)){var y=n[g*2+l],b=c(v,g),x=b[0],S=b[1];if(r(x)&&r(S)){var C=v-x,w=v+S;p[_+u[0]]=y-i.c2l(C),p[_+u[1]]=i.c2l(w)-y,p[_+u[2]]=0,p[_+u[3]]=0,m=Math.min(m,v-x),h=Math.max(h,v+S)}}}f[a]={positions:n,errors:p,_bnds:[m,h]}}}return p(i,c),p(a,u),f}function M(e,t,n,r){var i=t._length,a={},o;if(d.hasMarkers(t)){var s=n.font,c=n.align,l=n.baseline;for(a.offset=Array(i),o=0;o<i;o++){var u=r.sizes?r.sizes[o]:r.size,f=Array.isArray(s)?s[o].size:s.size,p=Array.isArray(c)?c.length>1?c[o]:c[0]:c,m=Array.isArray(l)?l.length>1?l[o]:l[0]:l,h=g[p],_=g[m],v=u?u/.8+1:0,y=-_*v-_*.5;a.offset[o]=[h*v/f,y/f]}}return a}e.exports={style:v,markerStyle:b,markerSelection:x,linePositions:A,errorBarPositions:j,textPosition:M}}),47148:(function(e,t,n){var r=n(71828),i=n(73972),a=n(68645),o=n(42341),s=n(47581),c=n(34098),l=n(67513),u=n(73927),d=n(49508),f=n(11058),p=n(28908),m=n(82410);e.exports=function(e,t,n,h){function g(n,i){return r.coerce(e,t,o,n,i)}var _=e.marker?a.isOpenSymbol(e.marker.symbol):!1,v=c.isBubble(e),y=l(e,t,h,g);if(!y){t.visible=!1;return}u(e,t,h,g),g(`xhoverformat`),g(`yhoverformat`);var b=y<s.PTS_LINESONLY?`lines+markers`:`lines`;g(`text`),g(`hovertext`),g(`hovertemplate`),g(`mode`,b),c.hasLines(t)&&(g(`connectgaps`),f(e,t,n,h,g),g(`line.shape`)),c.hasMarkers(t)&&(d(e,t,n,h,g,{noAngleRef:!0,noStandOff:!0}),g(`marker.line.width`,_||v?1:0)),c.hasText(t)&&(g(`texttemplate`),m(e,t,h,g));var x=(t.line||{}).color,S=(t.marker||{}).color;g(`fill`),t.fill!==`none`&&p(e,t,n,g);var C=i.getComponentMethod(`errorbars`,`supplyDefaults`);C(e,t,x||S||n,{axis:`y`}),C(e,t,x||S||n,{axis:`x`,inherit:`y`}),r.coerceSelectionMarkerOpacity(t,g)}}),5345:(function(e,t,n){var r=n(71828),i=n(7901),a=n(37822).DESELECTDIM;function o(e){var t=e[0],n=t.trace,o=t.t,s=o._scene,c=o.index,l=s.selectBatch[c],u=s.unselectBatch[c],d=s.textOptions[c],f=s.textSelectedOptions[c]||{},p=s.textUnselectedOptions[c]||{},m=r.extendFlat({},d),h,g;if(l.length||u.length){var _=f.color,v=p.color,y=d.color,b=Array.isArray(y);for(m.color=Array(n._length),h=0;h<l.length;h++)g=l[h],m.color[g]=_||(b?y[g]:y);for(h=0;h<u.length;h++){g=u[h];var x=b?y[g]:y;m.color[g]=v||(_?x:i.addOpacity(x,a))}}s.glText[c].update(m)}e.exports={styleTextSelection:o}}),68101:(function(e,t,n){var r=n(8225);e.exports=function(e,t,n){var i=e.i;return`x`in e||(e.x=t._x[i]),`y`in e||(e.y=t._y[i]),r(e,t,n)}}),68645:(function(e,t,n){var r=n(78232);t.isOpenSymbol=function(e){return typeof e==`string`?r.OPEN_RE.test(e):e%200>100},t.isDotSymbol=function(e){return typeof e==`string`?r.DOT_RE.test(e):e>200}}),20794:(function(e,t,n){var r=n(73972),i=n(71828),a=n(34603);function o(e,t,n,r){var i=e.cd,a=i[0].t,o=i[0].trace,c=e.xa,l=e.ya,u=a.x,d=a.y,f=c.c2p(t),p=l.c2p(n),m=e.distance,h;if(a.tree){var g=c.p2c(f-m),_=c.p2c(f+m),v=l.p2c(p-m),y=l.p2c(p+m);h=r===`x`?a.tree.range(Math.min(g,_),Math.min(l._rl[0],l._rl[1]),Math.max(g,_),Math.max(l._rl[0],l._rl[1])):a.tree.range(Math.min(g,_),Math.min(v,y),Math.max(g,_),Math.max(v,y))}else h=a.ids;var b,x,S,C,w,T,E,D,O,k=m;if(r===`x`){var A=!!o.xperiodalignment,j=!!o.yperiodalignment;for(w=0;w<h.length;w++){if(b=h[w],S=u[b],T=Math.abs(c.c2p(S)-f),A){var M=c.c2p(o._xStarts[b]),N=c.c2p(o._xEnds[b]);T=f>=Math.min(M,N)&&f<=Math.max(M,N)?0:1/0}if(T<k){if(k=T,C=d[b],E=l.c2p(C)-p,j){var P=l.c2p(o._yStarts[b]),F=l.c2p(o._yEnds[b]);E=p>=Math.min(P,F)&&p<=Math.max(P,F)?0:1/0}O=Math.sqrt(T*T+E*E),x=h[w]}}}else for(w=h.length-1;w>-1;w--)b=h[w],S=u[b],C=d[b],T=c.c2p(S)-f,E=l.c2p(C)-p,D=Math.sqrt(T*T+E*E),D<k&&(k=O=D,x=b);return e.index=x,e.distance=k,e.dxy=O,x===void 0?[e]:[s(e,u,d,o)]}function s(e,t,n,o){var s=e.xa,c=e.ya,l=e.distance,u=e.dxy,d=e.index,f={pointNumber:d,x:t[d],y:n[d]};f.tx=Array.isArray(o.text)?o.text[d]:o.text,f.htx=Array.isArray(o.hovertext)?o.hovertext[d]:o.hovertext,f.data=Array.isArray(o.customdata)?o.customdata[d]:o.customdata,f.tp=Array.isArray(o.textposition)?o.textposition[d]:o.textposition;var p=o.textfont;p&&(f.ts=i.isArrayOrTypedArray(p.size)?p.size[d]:p.size,f.tc=Array.isArray(p.color)?p.color[d]:p.color,f.tf=Array.isArray(p.family)?p.family[d]:p.family);var m=o.marker;m&&(f.ms=i.isArrayOrTypedArray(m.size)?m.size[d]:m.size,f.mo=i.isArrayOrTypedArray(m.opacity)?m.opacity[d]:m.opacity,f.mx=i.isArrayOrTypedArray(m.symbol)?m.symbol[d]:m.symbol,f.ma=i.isArrayOrTypedArray(m.angle)?m.angle[d]:m.angle,f.mc=i.isArrayOrTypedArray(m.color)?m.color[d]:m.color);var h=m&&m.line;h&&(f.mlc=Array.isArray(h.color)?h.color[d]:h.color,f.mlw=i.isArrayOrTypedArray(h.width)?h.width[d]:h.width);var g=m&&m.gradient;g&&g.type!==`none`&&(f.mgt=Array.isArray(g.type)?g.type[d]:g.type,f.mgc=Array.isArray(g.color)?g.color[d]:g.color);var _=s.c2p(f.x,!0),v=c.c2p(f.y,!0),y=f.mrc||1,b=o.hoverlabel;b&&(f.hbg=Array.isArray(b.bgcolor)?b.bgcolor[d]:b.bgcolor,f.hbc=Array.isArray(b.bordercolor)?b.bordercolor[d]:b.bordercolor,f.hts=i.isArrayOrTypedArray(b.font.size)?b.font.size[d]:b.font.size,f.htc=Array.isArray(b.font.color)?b.font.color[d]:b.font.color,f.htf=Array.isArray(b.font.family)?b.font.family[d]:b.font.family,f.hnl=i.isArrayOrTypedArray(b.namelength)?b.namelength[d]:b.namelength);var x=o.hoverinfo;x&&(f.hi=Array.isArray(x)?x[d]:x);var S=o.hovertemplate;S&&(f.ht=Array.isArray(S)?S[d]:S);var C={};C[e.index]=f;var w=o._origX,T=o._origY,E=i.extendFlat({},e,{color:a(o,f),x0:_-y,x1:_+y,xLabelVal:w?w[d]:f.x,y0:v-y,y1:v+y,yLabelVal:T?T[d]:f.y,cd:C,distance:l,spikeDistance:u,hovertemplate:f.ht});return f.htx?E.text=f.htx:f.tx?E.text=f.tx:o.text&&(E.text=o.text),i.fillText(f,o,E),r.getComponentMethod(`errorbars`,`hoverInfo`)(f,o,E),E}e.exports={hoverPoints:o,calcHover:s}}),68868:(function(e,t,n){var r=n(72156);r.plot=n(26787),e.exports=r}),26787:(function(e,t,n){var r=n(11870),i=n(46075),a=n(3593),o=n(42505),s=n(71828),c=n(64505).selectMode,l=n(79749),u=n(34098),d=n(68687),f=n(5345).styleTextSelection,p={};function m(e,t,n,r){var i=e._size,a=e.width*r,o=e.height*r,s=i.l*r,c=i.b*r,l=i.r*r,u=i.t*r,d=i.w*r,f=i.h*r;return[s+t.domain[0]*d,c+n.domain[0]*f,a-l-(1-t.domain[1])*d,o-u-(1-n.domain[1])*f]}var h=e.exports=function(e,t,n){if(n.length){var h=e._fullLayout,g=t._scene,_=t.xaxis,v=t.yaxis,y,b;if(g){if(!l(e,[`ANGLE_instanced_arrays`,`OES_element_index_uint`],p)){g.init();return}var x=g.count,S=h._glcanvas.data()[0].regl;if(d(e,t,n),g.dirty){if(g.error2d===!0&&(g.error2d=a(S)),g.line2d===!0&&(g.line2d=i(S)),g.scatter2d===!0&&(g.scatter2d=r(S)),g.fill2d===!0&&(g.fill2d=i(S)),g.glText===!0)for(g.glText=Array(x),y=0;y<x;y++)g.glText[y]=new o(S);if(g.glText){if(x>g.glText.length){var C=x-g.glText.length;for(y=0;y<C;y++)g.glText.push(new o(S))}else if(x<g.glText.length){var w=g.glText.length-x;g.glText.splice(x,w).forEach(function(e){e.destroy()})}for(y=0;y<x;y++)g.glText[y].update(g.textOptions[y])}if(g.line2d&&(g.line2d.update(g.lineOptions),g.lineOptions=g.lineOptions.map(function(e){if(e&&e.positions){for(var t=e.positions,n=0;n<t.length&&(isNaN(t[n])||isNaN(t[n+1]));)n+=2;for(var r=t.length-2;r>n&&(isNaN(t[r])||isNaN(t[r+1]));)r-=2;e.positions=t.slice(n,r+2)}return e}),g.line2d.update(g.lineOptions)),g.error2d){var T=(g.errorXOptions||[]).concat(g.errorYOptions||[]);g.error2d.update(T)}g.scatter2d&&g.scatter2d.update(g.markerOptions),g.fillOrder=s.repeat(null,x),g.fill2d&&(g.fillOptions=g.fillOptions.map(function(e,t){var r=n[t];if(!(!e||!r||!r[0]||!r[0].trace)){var i=r[0],a=i.trace,o=i.t,s=g.lineOptions[t],c,l,u=[];a._ownfill&&u.push(t),a._nexttrace&&u.push(t+1),u.length&&(g.fillOrder[t]=u);var d=[],f=s&&s.positions||o.positions,p,m;if(a.fill===`tozeroy`){for(p=0;p<f.length&&isNaN(f[p+1]);)p+=2;for(m=f.length-2;m>p&&isNaN(f[m+1]);)m-=2;f[p+1]!==0&&(d=[f[p],0]),d=d.concat(f.slice(p,m+2)),f[m+1]!==0&&(d=d.concat([f[m],0]))}else if(a.fill===`tozerox`){for(p=0;p<f.length&&isNaN(f[p]);)p+=2;for(m=f.length-2;m>p&&isNaN(f[m]);)m-=2;f[p]!==0&&(d=[0,f[p+1]]),d=d.concat(f.slice(p,m+2)),f[m]!==0&&(d=d.concat([0,f[m+1]]))}else if(a.fill===`toself`||a.fill===`tonext`){for(d=[],c=0,e.splitNull=!0,l=0;l<f.length;l+=2)(isNaN(f[l])||isNaN(f[l+1]))&&(d=d.concat(f.slice(c,l)),d.push(f[c],f[c+1]),d.push(null,null),c=l+2);d=d.concat(f.slice(c)),c&&d.push(f[c],f[c+1])}else{var h=a._nexttrace;if(h){var _=g.lineOptions[t+1];if(_){var v=_.positions;if(a.fill===`tonexty`){for(d=f.slice(),t=Math.floor(v.length/2);t--;){var y=v[t*2],b=v[t*2+1];isNaN(y)||isNaN(b)||d.push(y,b)}e.fill=h.fillcolor}}}}if(a._prevtrace&&a._prevtrace.fill===`tonext`){var x=g.lineOptions[t-1].positions,S=d.length/2;c=S;var C=[c];for(l=0;l<x.length;l+=2)(isNaN(x[l])||isNaN(x[l+1]))&&(C.push(l/2+S+1),c=l+2);d=d.concat(x),e.hole=C}return e.fillmode=a.fill,e.opacity=a.opacity,e.positions=d,e}}),g.fill2d.update(g.fillOptions))}var E=h.dragmode,D=c(E),O=h.clickmode.indexOf(`select`)>-1;for(y=0;y<x;y++){var k=n[y][0],A=k.trace,j=k.t,M=j.index,N=A._length,P=j.x,F=j.y;if(A.selectedpoints||D||O){if(D||=!0,A.selectedpoints){var I=g.selectBatch[M]=s.selIndices2selPoints(A),L={};for(b=0;b<I.length;b++)L[I[b]]=1;var R=[];for(b=0;b<N;b++)L[b]||R.push(b);g.unselectBatch[M]=R}var z=j.xpx=Array(N),B=j.ypx=Array(N);for(b=0;b<N;b++)z[b]=_.c2p(P[b]),B[b]=v.c2p(F[b])}else j.xpx=j.ypx=null}if(D){if(g.select2d||=r(h._glcanvas.data()[1].regl),g.scatter2d){var V=Array(x);for(y=0;y<x;y++)V[y]=g.selectBatch[y].length||g.unselectBatch[y].length?g.markerUnselectedOptions[y]:{};g.scatter2d.update(V)}g.select2d&&(g.select2d.update(g.markerOptions),g.select2d.update(g.markerSelectedOptions)),g.glText&&n.forEach(function(e){var t=((e||[])[0]||{}).trace||{};u.hasText(t)&&f(e)})}else g.scatter2d&&g.scatter2d.update(g.markerOptions);var H={viewport:m(h,_,v,e._context.plotGlPixelRatio),range:[(_._rl||_.range)[0],(v._rl||v.range)[0],(_._rl||_.range)[1],(v._rl||v.range)[1]]},U=s.repeat(H,g.count);g.fill2d&&g.fill2d.update(U),g.line2d&&g.line2d.update(U),g.error2d&&g.error2d.update(U.concat(U)),g.scatter2d&&g.scatter2d.update(U),g.select2d&&g.select2d.update(U),g.glText&&g.glText.forEach(function(e){e.update(H)})}}};h.reglPrecompiled=p}),38967:(function(e,t,n){var r=n(71828);e.exports=function(e,t){var n=t._scene,i={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},a={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return t._scene||(n=t._scene={},n.init=function(){r.extendFlat(n,a,i)},n.init(),n.update=function(e){var t=r.repeat(e,n.count);if(n.fill2d&&n.fill2d.update(t),n.scatter2d&&n.scatter2d.update(t),n.line2d&&n.line2d.update(t),n.error2d&&n.error2d.update(t.concat(t)),n.select2d&&n.select2d.update(t),n.glText)for(var i=0;i<n.count;i++)n.glText[i].update(e)},n.draw=function(){for(var e=n.count,t=n.fill2d,i=n.error2d,a=n.line2d,o=n.scatter2d,s=n.glText,c=n.select2d,l=n.selectBatch,u=n.unselectBatch,d=0;d<e;d++){if(t&&n.fillOrder[d]&&t.draw(n.fillOrder[d]),a&&n.lineOptions[d]&&a.draw(d),i&&(n.errorXOptions[d]&&i.draw(d),n.errorYOptions[d]&&i.draw(d+e)),o&&n.markerOptions[d])if(u[d].length){var f=r.repeat([],n.count);f[d]=u[d],o.draw(f)}else l[d].length||o.draw(d);s[d]&&n.textOptions[d]&&s[d].render()}c&&c.draw(l),n.dirty=!1},n.destroy=function(){n.fill2d&&n.fill2d.destroy&&n.fill2d.destroy(),n.scatter2d&&n.scatter2d.destroy&&n.scatter2d.destroy(),n.error2d&&n.error2d.destroy&&n.error2d.destroy(),n.line2d&&n.line2d.destroy&&n.line2d.destroy(),n.select2d&&n.select2d.destroy&&n.select2d.destroy(),n.glText&&n.glText.forEach(function(e){e.destroy&&e.destroy()}),n.lineOptions=null,n.fillOptions=null,n.markerOptions=null,n.markerSelectedOptions=null,n.markerUnselectedOptions=null,n.errorXOptions=null,n.errorYOptions=null,n.textOptions=null,n.textSelectedOptions=null,n.textUnselectedOptions=null,n.selectBatch=null,n.unselectBatch=null,t._scene=null}),n.dirty||r.extendFlat(n,i),n}}),58147:(function(e,t,n){var r=n(34098),i=n(5345).styleTextSelection;e.exports=function(e,t){var n=e.cd,a=e.xaxis,o=e.yaxis,s=[],c=n[0].trace,l=n[0].t,u=c._length,d=l.x,f=l.y,p=l._scene,m=l.index;if(!p)return s;var h=r.hasText(c),g=r.hasMarkers(c),_=!g&&!h;if(c.visible!==!0||_)return s;var v=[],y=[];if(t!==!1&&!t.degenerate)for(var b=0;b<u;b++)t.contains([l.xpx[b],l.ypx[b]],!1,b,e)?(v.push(b),s.push({pointNumber:b,x:a.c2d(d[b]),y:o.c2d(f[b])})):y.push(b);if(g){var x=p.scatter2d;if(!v.length&&!y.length){var S=Array(p.count);S[m]=p.markerOptions[m],x.update.apply(x,S)}else if(!p.selectBatch[m].length&&!p.unselectBatch[m].length){var C=Array(p.count);C[m]=p.markerUnselectedOptions[m],x.update.apply(x,C)}}return p.selectBatch[m]=v,p.unselectBatch[m]=y,h&&i(n),s}}),99181:(function(e,t,n){var r=n(5386).f,i=n(5386).s,a=n(19316),o=n(82196),s=n(23585),c=n(9012),l=n(50693),u=n(1426).extendFlat,d=n(30962).overrideAll,f=n(23585),p=a.line,m=a.marker;e.exports=d({lon:a.lon,lat:a.lat,cluster:{enabled:{valType:`boolean`},maxzoom:u({},f.layers.maxzoom,{}),step:{valType:`number`,arrayOk:!0,dflt:-1,min:-1},size:{valType:`number`,arrayOk:!0,dflt:20,min:0},color:{valType:`color`,arrayOk:!0},opacity:u({},m.opacity,{dflt:1})},mode:u({},o.mode,{dflt:`markers`}),text:u({},o.text,{}),texttemplate:i({editType:`plot`},{keys:[`lat`,`lon`,`text`]}),hovertext:u({},o.hovertext,{}),line:{color:p.color,width:p.width},connectgaps:o.connectgaps,marker:u({symbol:{valType:`string`,dflt:`circle`,arrayOk:!0},angle:{valType:`number`,dflt:`auto`,arrayOk:!0},allowoverlap:{valType:`boolean`,dflt:!1},opacity:m.opacity,size:m.size,sizeref:m.sizeref,sizemin:m.sizemin,sizemode:m.sizemode},l(`marker`)),fill:a.fill,fillcolor:o.fillcolor,textfont:s.layers.symbol.textfont,textposition:s.layers.symbol.textposition,below:{valType:`string`},selected:{marker:o.selected.marker},unselected:{marker:o.unselected.marker},hoverinfo:u({},c.hoverinfo,{flags:[`lon`,`lat`,`text`,`name`]}),hovertemplate:r()},`calc`,`nested`)}),15790:(function(e,t,n){var r=n(92770),i=n(71828),a=n(50606).BADNUM,o=n(18214),s=n(21081),c=n(91424),l=n(39984),u=n(34098),d=n(13056),f=n(23469).appendArrayPointValue,p=n(63893).NEWLINES,m=n(63893).BR_TAG_ALL;e.exports=function(e,t){var n=t[0].trace,r=n.visible===!0&&n._length!==0,a=n.fill!==`none`,s=u.hasLines(n),c=u.hasMarkers(n),l=u.hasText(n),f=c&&n.marker.symbol===`circle`,p=c&&n.marker.symbol!==`circle`,m=n.cluster&&n.cluster.enabled,v=h(`fill`),y=h(`line`),b=h(`circle`),S=h(`symbol`),C={fill:v,line:y,circle:b,symbol:S};if(!r)return C;var w;if((a||s)&&(w=o.calcTraceToLineCoords(t)),a&&(v.geojson=o.makePolygon(w),v.layout.visibility=`visible`,i.extendFlat(v.paint,{"fill-color":n.fillcolor})),s&&(y.geojson=o.makeLine(w),y.layout.visibility=`visible`,i.extendFlat(y.paint,{"line-width":n.line.width,"line-color":n.line.color,"line-opacity":n.opacity})),f){var T=g(t);b.geojson=T.geojson,b.layout.visibility=`visible`,m&&(b.filter=[`!`,[`has`,`point_count`]],C.cluster={type:`circle`,filter:[`has`,`point_count`],layout:{visibility:`visible`},paint:{"circle-color":x(n.cluster.color,n.cluster.step),"circle-radius":x(n.cluster.size,n.cluster.step),"circle-opacity":x(n.cluster.opacity,n.cluster.step)}},C.clusterCount={type:`symbol`,filter:[`has`,`point_count`],paint:{},layout:{"text-field":`{point_count_abbreviated}`,"text-font":[`Open Sans Regular`,`Arial Unicode MS Regular`],"text-size":12}}),i.extendFlat(b.paint,{"circle-color":T.mcc,"circle-radius":T.mrc,"circle-opacity":T.mo})}if(f&&m&&(b.filter=[`!`,[`has`,`point_count`]]),(p||l)&&(S.geojson=_(t,e),i.extendFlat(S.layout,{visibility:`visible`,"icon-image":`{symbol}-15`,"text-field":`{text}`}),p&&(i.extendFlat(S.layout,{"icon-size":n.marker.size/10}),`angle`in n.marker&&n.marker.angle!==`auto`&&i.extendFlat(S.layout,{"icon-rotate":{type:`identity`,property:`angle`},"icon-rotation-alignment":`map`}),S.layout[`icon-allow-overlap`]=n.marker.allowoverlap,i.extendFlat(S.paint,{"icon-opacity":n.opacity*n.marker.opacity,"icon-color":n.marker.color})),l)){var E=(n.marker||{}).size,D=d(n.textposition,E);i.extendFlat(S.layout,{"text-size":n.textfont.size,"text-anchor":D.anchor,"text-offset":D.offset}),i.extendFlat(S.paint,{"text-color":n.textfont.color,"text-opacity":n.opacity})}return C};function h(e){return{type:e,geojson:o.makeBlank(),layout:{visibility:`none`},filter:null,paint:{}}}function g(e){var t=e[0].trace,n=t.marker,a=t.selectedpoints,o=i.isArrayOrTypedArray(n.color),u=i.isArrayOrTypedArray(n.size),d=i.isArrayOrTypedArray(n.opacity),f;function p(e){return t.opacity*e}function m(e){return e/2}var h;o&&(h=s.hasColorscale(t,`marker`)?s.makeColorScaleFuncFromTrace(n):i.identity);var g;u&&(g=l(t));var _;d&&(_=function(e){return p(r(e)?+i.constrain(e,0,1):0)});var v=[];for(f=0;f<e.length;f++){var y=e[f],x=y.lonlat;if(!b(x)){var S={};h&&(S.mcc=y.mcc=h(y.mc)),g&&(S.mrc=y.mrc=g(y.ms)),_&&(S.mo=_(y.mo)),a&&(S.selected=y.selected||0),v.push({type:`Feature`,id:f+1,geometry:{type:`Point`,coordinates:x},properties:S})}}var C;if(a)for(C=c.makeSelectedPointStyleFns(t),f=0;f<v.length;f++){var w=v[f].properties;C.selectedOpacityFn&&(w.mo=p(C.selectedOpacityFn(w))),C.selectedColorFn&&(w.mcc=C.selectedColorFn(w)),C.selectedSizeFn&&(w.mrc=C.selectedSizeFn(w))}return{geojson:{type:`FeatureCollection`,features:v},mcc:o||C&&C.selectedColorFn?{type:`identity`,property:`mcc`}:n.color,mrc:u||C&&C.selectedSizeFn?{type:`identity`,property:`mrc`}:m(n.size),mo:d||C&&C.selectedOpacityFn?{type:`identity`,property:`mo`}:p(n.opacity)}}function _(e,t){for(var n=t._fullLayout,r=e[0].trace,a=r.marker||{},o=a.symbol,s=a.angle,c=o===`circle`?y:v(o),l=s===`auto`?y:v(s,!0),d=u.hasText(r)?v(r.text):y,h=[],g=0;g<e.length;g++){var _=e[g];if(!b(_.lonlat)){var x=r.texttemplate,S;if(x){var C=Array.isArray(x)?x[g]||``:x,w=r._module.formatLabels(_,r,n),T={};f(T,r,_.i);var E=r._meta||{};S=i.texttemplateString(C,w,n._d3locale,T,_,E)}else S=d(g);S&&=S.replace(p,``).replace(m,`
`),h.push({type:`Feature`,geometry:{type:`Point`,coordinates:_.lonlat},properties:{symbol:c(g),angle:l(g),text:S}})}}return{type:`FeatureCollection`,features:h}}function v(e,t){return i.isArrayOrTypedArray(e)?t?function(t){return r(e[t])?+e[t]:0}:function(t){return e[t]}:e?function(){return e}:y}function y(){return``}function b(e){return e[0]===a}function x(e,t){var n;if(i.isArrayOrTypedArray(e)&&i.isArrayOrTypedArray(t)){n=[`step`,[`get`,`point_count`],e[0]];for(var r=1;r<e.length;r++)n.push(t[r-1],e[r])}else n=e;return n}}),76645:(function(e,t,n){var r=n(71828),i=n(34098),a=n(49508),o=n(11058),s=n(82410),c=n(28908),l=n(99181);e.exports=function(e,t,n,d){function f(n,i){return r.coerce(e,t,l,n,i)}function p(n,i){return r.coerce2(e,t,l,n,i)}if(!u(e,t,f)){t.visible=!1;return}if(f(`text`),f(`texttemplate`),f(`hovertext`),f(`hovertemplate`),f(`mode`),f(`below`),i.hasLines(t)&&(o(e,t,n,d,f,{noDash:!0}),f(`connectgaps`)),i.hasMarkers(t)){a(e,t,n,d,f,{noLine:!0,noAngle:!0}),f(`marker.allowoverlap`),f(`marker.angle`);var m=t.marker;m.symbol!==`circle`&&(r.isArrayOrTypedArray(m.size)&&(m.size=m.size[0]),r.isArrayOrTypedArray(m.color)&&(m.color=m.color[0]))}var h=p(`cluster.maxzoom`),g=p(`cluster.step`),_=p(`cluster.color`,t.marker&&t.marker.color||n),v=p(`cluster.size`),y=p(`cluster.opacity`);f(`cluster.enabled`,h!==!1||g!==!1||_!==!1||v!==!1||y!==!1),i.hasText(t)&&s(e,t,d,f,{noSelect:!0}),f(`fill`),t.fill!==`none`&&c(e,t,n,f),r.coerceSelectionMarkerOpacity(t,f)};function u(e,t,n){var r=n(`lon`)||[],i=n(`lat`)||[],a=Math.min(r.length,i.length);return t._length=a,a}}),53353:(function(e){e.exports=function(e,t){return e.lon=t.lon,e.lat=t.lat,e}}),15636:(function(e,t,n){var r=n(89298);e.exports=function(e,t,n){var i={},a=n[t.subplot]._subplot.mockAxis,o=e.lonlat;return i.lonLabel=r.tickText(a,a.c2l(o[0]),!0).text,i.latLabel=r.tickText(a,a.c2l(o[1]),!0).text,i}}),28178:(function(e,t,n){var r=n(30211),i=n(71828),a=n(34603),o=i.fillText,s=n(50606).BADNUM,c=n(77734).traceLayerPrefix;function l(e,t,n){var o=e.cd,l=o[0].trace,d=e.xa,f=e.ya,p=e.subplot,m=[],h=c+l.uid+`-circle`,g=l.cluster&&l.cluster.enabled;g&&(m=p.map.queryRenderedFeatures(null,{layers:[h]}).map(function(e){return e.id}));var _=(t>=0?Math.floor((t+180)/360):Math.ceil((t-180)/360))*360,v=t-_;function y(e){var t=e.lonlat;if(t[0]===s||g&&m.indexOf(e.i+1)===-1)return 1/0;var r=i.modHalf(t[0],360),a=t[1],o=p.project([r,a]),c=o.x-d.c2p([v,a]),l=o.y-f.c2p([r,n]),u=Math.max(3,e.mrc||0);return Math.max(Math.sqrt(c*c+l*l)-u,1-3/u)}if(r.getClosest(o,y,e),e.index!==!1){var b=o[e.index],x=b.lonlat,S=[i.modHalf(x[0],360)+_,x[1]],C=d.c2p(S),w=f.c2p(S),T=b.mrc||1;e.x0=C-T,e.x1=C+T,e.y0=w-T,e.y1=w+T;var E={};E[l.subplot]={_subplot:p};var D=l._module.formatLabels(b,l,E);return e.lonLabel=D.lonLabel,e.latLabel=D.latLabel,e.color=a(l,b),e.extraText=u(l,b,o[0].t.labels),e.hovertemplate=l.hovertemplate,[e]}}function u(e,t,n){if(e.hovertemplate)return;var r=(t.hi||e.hoverinfo).split(`+`),i=r.indexOf(`all`)!==-1,a=r.indexOf(`lon`)!==-1,s=r.indexOf(`lat`)!==-1,c=t.lonlat,l=[];function u(e){return e+``}return i||a&&s?l.push(`(`+u(c[1])+`, `+u(c[0])+`)`):a?l.push(n.lon+u(c[0])):s&&l.push(n.lat+u(c[1])),(i||r.indexOf(`text`)!==-1)&&o(t,e,l),l.join(`<br>`)}e.exports={hoverPoints:l,getExtraText:u}}),20467:(function(e,t,n){e.exports={attributes:n(99181),supplyDefaults:n(76645),colorbar:n(4898),formatLabels:n(15636),calc:n(84622),plot:n(86951),hoverPoints:n(28178).hoverPoints,eventData:n(53353),selectPoints:n(86387),styleOnSelect:function(e,t){t&&t[0].trace._glTrace.update(t)},moduleType:`trace`,name:`scattermapbox`,basePlotModule:n(50101),categories:[`mapbox`,`gl`,`symbols`,`showLegend`,`scatter-like`],meta:{}}}),86951:(function(e,t,n){var r=n(71828),i=n(15790),a=n(77734).traceLayerPrefix,o={cluster:[`cluster`,`clusterCount`,`circle`],nonCluster:[`fill`,`line`,`circle`,`symbol`]};function s(e,t,n,r){this.type=`scattermapbox`,this.subplot=e,this.uid=t,this.clusterEnabled=n,this.isHidden=r,this.sourceIds={fill:`source-`+t+`-fill`,line:`source-`+t+`-line`,circle:`source-`+t+`-circle`,symbol:`source-`+t+`-symbol`,cluster:`source-`+t+`-circle`,clusterCount:`source-`+t+`-circle`},this.layerIds={fill:a+t+`-fill`,line:a+t+`-line`,circle:a+t+`-circle`,symbol:a+t+`-symbol`,cluster:a+t+`-cluster`,clusterCount:a+t+`-cluster-count`},this.below=null}var c=s.prototype;c.addSource=function(e,t,n){var i={type:`geojson`,data:t.geojson};n&&n.enabled&&r.extendFlat(i,{cluster:!0,clusterMaxZoom:n.maxzoom}),this.subplot.map.addSource(this.sourceIds[e],i)},c.setSourceData=function(e,t){this.subplot.map.getSource(this.sourceIds[e]).setData(t.geojson)},c.addLayer=function(e,t,n){var r={type:t.type,id:this.layerIds[e],source:this.sourceIds[e],layout:t.layout,paint:t.paint};t.filter&&(r.filter=t.filter),this.subplot.addLayer(r,n)},c.update=function(e){var t=e[0].trace,n=this.subplot,r=n.map,a=i(n.gd,e),s=n.belowLookup[`trace-`+this.uid],c=!!(t.cluster&&t.cluster.enabled),l=!!this.clusterEnabled,u=this;function d(e){e||u.addSource(`circle`,a.circle,t.cluster);for(var n=o.cluster,r=0;r<n.length;r++){var i=n[r],c=a[i];u.addLayer(i,c,s)}}function f(e){for(var t=o.cluster,n=t.length-1;n>=0;n--){var i=t[n];r.removeLayer(u.layerIds[i])}e||r.removeSource(u.sourceIds.circle)}function p(e){for(var t=o.nonCluster,n=0;n<t.length;n++){var r=t[n],i=a[r];e||u.addSource(r,i),u.addLayer(r,i,s)}}function m(e){for(var t=o.nonCluster,n=t.length-1;n>=0;n--){var i=t[n];r.removeLayer(u.layerIds[i]),e||r.removeSource(u.sourceIds[i])}}function h(e){l?f(e):m(e)}function g(e){c?d(e):p(e)}function _(){for(var e=c?o.cluster:o.nonCluster,t=0;t<e.length;t++){var r=e[t],i=a[r];i&&(n.setOptions(u.layerIds[r],`setLayoutProperty`,i.layout),i.layout.visibility===`visible`&&(r!==`cluster`&&u.setSourceData(r,i),n.setOptions(u.layerIds[r],`setPaintProperty`,i.paint)))}}var v=this.isHidden,y=t.visible!==!0;y?v||h():v?y||g():l===c?this.below===s?_():(h(!0),g(!0),_()):(h(),g()),this.clusterEnabled=c,this.isHidden=y,this.below=s,e[0].trace._glTrace=this},c.dispose=function(){for(var e=this.subplot.map,t=this.clusterEnabled?o.cluster:o.nonCluster,n=t.length-1;n>=0;n--){var r=t[n];e.removeLayer(this.layerIds[r]),e.removeSource(this.sourceIds[r])}},e.exports=function(e,t){var n=t[0].trace,r=n.cluster&&n.cluster.enabled,a=n.visible!==!0,c=new s(e,n.uid,r,a),l=i(e.gd,t),u=c.below=e.belowLookup[`trace-`+n.uid],d,f,p;if(r)for(c.addSource(`circle`,l.circle,n.cluster),d=0;d<o.cluster.length;d++)f=o.cluster[d],p=l[f],c.addLayer(f,p,u);else for(d=0;d<o.nonCluster.length;d++)f=o.nonCluster[d],p=l[f],c.addSource(f,p,n.cluster),c.addLayer(f,p,u);return t[0].trace._glTrace=c,c}}),86387:(function(e,t,n){var r=n(71828),i=n(34098),a=n(50606).BADNUM;e.exports=function(e,t){var n=e.cd,o=e.xaxis,s=e.yaxis,c=[],l=n[0].trace,u;if(!i.hasMarkers(l))return[];if(t===!1)for(u=0;u<n.length;u++)n[u].selected=0;else for(u=0;u<n.length;u++){var d=n[u],f=d.lonlat;if(f[0]!==a){var p=[r.modHalf(f[0],360),f[1]],m=[o.c2p(p),s.c2p(p)];t.contains(m,null,u,e)?(c.push({pointNumber:u,lon:f[0],lat:f[1]}),d.selected=1):d.selected=0}}return c}}),81245:(function(e,t,n){var r=n(5386).f,i=n(5386).s,a=n(1426).extendFlat,o=n(82196),s=n(9012),c=o.line;e.exports={mode:o.mode,r:{valType:`data_array`,editType:`calc+clearAxisTypes`},theta:{valType:`data_array`,editType:`calc+clearAxisTypes`},r0:{valType:`any`,dflt:0,editType:`calc+clearAxisTypes`},dr:{valType:`number`,dflt:1,editType:`calc`},theta0:{valType:`any`,dflt:0,editType:`calc+clearAxisTypes`},dtheta:{valType:`number`,editType:`calc`},thetaunit:{valType:`enumerated`,values:[`radians`,`degrees`,`gradians`],dflt:`degrees`,editType:`calc+clearAxisTypes`},text:o.text,texttemplate:i({editType:`plot`},{keys:[`r`,`theta`,`text`]}),hovertext:o.hovertext,line:{color:c.color,width:c.width,dash:c.dash,backoff:c.backoff,shape:a({},c.shape,{values:[`linear`,`spline`]}),smoothing:c.smoothing,editType:`calc`},connectgaps:o.connectgaps,marker:o.marker,cliponaxis:a({},o.cliponaxis,{dflt:!1}),textposition:o.textposition,textfont:o.textfont,fill:a({},o.fill,{values:[`none`,`toself`,`tonext`],dflt:`none`}),fillcolor:o.fillcolor,hoverinfo:a({},s.hoverinfo,{flags:[`r`,`theta`,`text`,`name`]}),hoveron:o.hoveron,hovertemplate:r(),selected:o.selected,unselected:o.unselected}}),26442:(function(e,t,n){var r=n(92770),i=n(50606).BADNUM,a=n(89298),o=n(36922),s=n(75225),c=n(66279),l=n(47761).calcMarkerSize;e.exports=function(e,t){for(var n=e._fullLayout,u=t.subplot,d=n[u].radialaxis,f=n[u].angularaxis,p=d.makeCalcdata(t,`r`),m=f.makeCalcdata(t,`theta`),h=t._length,g=Array(h),_=0;_<h;_++){var v=p[_],y=m[_],b=g[_]={};r(v)&&r(y)?(b.r=v,b.theta=y):b.r=i}var x=l(t,h);return t._extremes.x=a.findExtremes(d,p,{ppad:x}),o(e,t),s(g,t),c(g,t),g}}),22184:(function(e,t,n){var r=n(71828),i=n(34098),a=n(49508),o=n(11058),s=n(94039),c=n(82410),l=n(28908),u=n(47581).PTS_LINESONLY,d=n(81245);function f(e,t,n,f){function m(n,i){return r.coerce(e,t,d,n,i)}var h=p(e,t,f,m);if(!h){t.visible=!1;return}m(`thetaunit`),m(`mode`,h<u?`lines+markers`:`lines`),m(`text`),m(`hovertext`),t.hoveron!==`fills`&&m(`hovertemplate`),i.hasLines(t)&&(o(e,t,n,f,m,{backoff:!0}),s(e,t,m),m(`connectgaps`)),i.hasMarkers(t)&&a(e,t,n,f,m,{gradient:!0}),i.hasText(t)&&(m(`texttemplate`),c(e,t,f,m));var g=[];(i.hasMarkers(t)||i.hasText(t))&&(m(`cliponaxis`),m(`marker.maxdisplayed`),g.push(`points`)),m(`fill`),t.fill!==`none`&&(l(e,t,n,m),i.hasLines(t)||s(e,t,m)),(t.fill===`tonext`||t.fill===`toself`)&&g.push(`fills`),m(`hoveron`,g.join(`+`)||`points`),r.coerceSelectionMarkerOpacity(t,m)}function p(e,t,n,r){var i=r(`r`),a=r(`theta`),o;if(i)a?o=Math.min(i.length,a.length):(o=i.length,r(`theta0`),r(`dtheta`));else{if(!a)return 0;o=t.theta.length,r(`r0`),r(`dr`)}return t._length=o,o}e.exports={handleRThetaDefaults:p,supplyDefaults:f}}),98608:(function(e,t,n){var r=n(71828),i=n(89298);e.exports=function(e,t,n){var a={},o=n[t.subplot]._subplot,s,c;o?(s=o.radialAxis,c=o.angularAxis):(o=n[t.subplot],s=o.radialaxis,c=o.angularaxis);var l=s.c2l(e.r);a.rLabel=i.tickText(s,l,!0).text;var u=c.thetaunit===`degrees`?r.rad2deg(e.theta):e.theta;return a.thetaLabel=i.tickText(c,u,!0).text,a}}),59150:(function(e,t,n){var r=n(33720);function i(e,t,n,i){var o=r(e,t,n,i);if(!(!o||o[0].index===!1)){var s=o[0];if(s.index===void 0)return o;var c=e.subplot,l=s.cd[s.index],u=s.trace;if(c.isPtInside(l))return s.xLabelVal=void 0,s.yLabelVal=void 0,a(l,u,c,s),s.hovertemplate=u.hovertemplate,o}}function a(e,t,n,r){var i=n.radialAxis,a=n.angularAxis;i._hovertitle=`r`,a._hovertitle=``;var o={};o[t.subplot]={_subplot:n};var s=t._module.formatLabels(e,t,o);r.rLabel=s.rLabel,r.thetaLabel=s.thetaLabel;var c=e.hi||t.hoverinfo,l=[];function u(e,t){l.push(e._hovertitle+`: `+t)}if(!t.hovertemplate){var d=c.split(`+`);d.indexOf(`all`)!==-1&&(d=[`r`,`theta`,`text`]),d.indexOf(`r`)!==-1&&u(i,r.rLabel),d.indexOf(`theta`)!==-1&&u(a,r.thetaLabel),d.indexOf(`text`)!==-1&&r.text&&(l.push(r.text),delete r.text),r.extraText=l.join(`<br>`)}}e.exports={hoverPoints:i,makeHoverPointText:a}}),91271:(function(e,t,n){e.exports={moduleType:`trace`,name:`scatterpolar`,basePlotModule:n(23580),categories:[`polar`,`symbols`,`showLegend`,`scatter-like`],attributes:n(81245),supplyDefaults:n(22184).supplyDefaults,colorbar:n(4898),formatLabels:n(98608),calc:n(26442),plot:n(45162),style:n(16296).style,styleOnSelect:n(16296).styleOnSelect,hoverPoints:n(59150).hoverPoints,selectPoints:n(98002),meta:{}}}),45162:(function(e,t,n){var r=n(32663),i=n(50606).BADNUM;e.exports=function(e,t,n){for(var a=t.layers.frontplot.select(`g.scatterlayer`),o=t.xaxis,s=t.yaxis,c={xaxis:o,yaxis:s,plot:t.framework,layerClipId:t._hasClipOnAxisFalse?t.clipIds.forTraces:null},l=t.radialAxis,u=t.angularAxis,d=0;d<n.length;d++)for(var f=n[d],p=0;p<f.length;p++){p===0&&(f[0].trace._xA=o,f[0].trace._yA=s);var m=f[p],h=m.r;if(h===i)m.x=m.y=i;else{var g=l.c2g(h),_=u.c2g(m.theta);m.x=g*Math.cos(_),m.y=g*Math.sin(_)}}r(e,c,n,a)}}),53286:(function(e,t,n){var r=n(81245),i=n(42341),a=n(5386).s;e.exports={mode:r.mode,r:r.r,theta:r.theta,r0:r.r0,dr:r.dr,theta0:r.theta0,dtheta:r.dtheta,thetaunit:r.thetaunit,text:r.text,texttemplate:a({editType:`plot`},{keys:[`r`,`theta`,`text`]}),hovertext:r.hovertext,hovertemplate:r.hovertemplate,line:i.line,connectgaps:i.connectgaps,marker:i.marker,fill:i.fill,fillcolor:i.fillcolor,textposition:i.textposition,textfont:i.textfont,hoverinfo:r.hoverinfo,selected:r.selected,unselected:r.unselected}}),65746:(function(e,t,n){e.exports={moduleType:`trace`,name:`scatterpolargl`,basePlotModule:n(23580),categories:[`gl`,`regl`,`polar`,`symbols`,`showLegend`,`scatter-like`],attributes:n(53286),supplyDefaults:n(75485),colorbar:n(4898),formatLabels:n(46255),calc:n(37499),hoverPoints:n(29347).hoverPoints,selectPoints:n(58147),meta:{}}}),37499:(function(e,t,n){var r=n(36922),i=n(47761).calcMarkerSize,a=n(19635),o=n(89298),s=n(78232).TOO_MANY_POINTS;e.exports=function(e,t){var n=e._fullLayout,c=t.subplot,l=n[c].radialaxis,u=n[c].angularaxis,d=t._r=l.makeCalcdata(t,`r`),f=t._theta=u.makeCalcdata(t,`theta`),p=t._length,m={};p<d.length&&(d=d.slice(0,p)),p<f.length&&(f=f.slice(0,p)),m.r=d,m.theta=f,r(e,t);var h=m.opts=a.style(e,t),g;return p<s?g=i(t,p):h.marker&&(g=2*(h.marker.sizeAvg||Math.max(h.marker.size,3))),t._extremes.x=o.findExtremes(l,d,{ppad:g}),[{x:!1,y:!1,t:m,trace:t}]}}),75485:(function(e,t,n){var r=n(71828),i=n(34098),a=n(22184).handleRThetaDefaults,o=n(49508),s=n(11058),c=n(82410),l=n(28908),u=n(47581).PTS_LINESONLY,d=n(53286);e.exports=function(e,t,n,f){function p(n,i){return r.coerce(e,t,d,n,i)}var m=a(e,t,f,p);if(!m){t.visible=!1;return}p(`thetaunit`),p(`mode`,m<u?`lines+markers`:`lines`),p(`text`),p(`hovertext`),t.hoveron!==`fills`&&p(`hovertemplate`),i.hasLines(t)&&(s(e,t,n,f,p),p(`connectgaps`)),i.hasMarkers(t)&&o(e,t,n,f,p,{noAngleRef:!0,noStandOff:!0}),i.hasText(t)&&(p(`texttemplate`),c(e,t,f,p)),p(`fill`),t.fill!==`none`&&l(e,t,n,p),r.coerceSelectionMarkerOpacity(t,p)}}),46255:(function(e,t,n){var r=n(98608);e.exports=function(e,t,n){var i=e.i;return`r`in e||(e.r=t._r[i]),`theta`in e||(e.theta=t._theta[i]),r(e,t,n)}}),29347:(function(e,t,n){var r=n(20794),i=n(59150).makeHoverPointText;function a(e,t,n,a){var o=e.cd[0].t,s=o.r,c=o.theta,l=r.hoverPoints(e,t,n,a);if(!(!l||l[0].index===!1)){var u=l[0];if(u.index===void 0)return l;var d=e.subplot,f=u.cd[u.index],p=u.trace;if(f.r=s[u.index],f.theta=c[u.index],d.isPtInside(f))return u.xLabelVal=void 0,u.yLabelVal=void 0,i(f,p,d,u),l}}e.exports={hoverPoints:a}}),21461:(function(e,t,n){var r=n(65746);r.plot=n(49741),e.exports=r}),49741:(function(e,t,n){var r=n(88294),i=n(92770),a=n(26787),o=n(38967),s=n(19635),c=n(71828),l=n(78232).TOO_MANY_POINTS,u={};e.exports=function(e,t,n){if(n.length){var u=t.radialAxis,d=t.angularAxis,f=o(e,t);return n.forEach(function(n){if(!(!n||!n[0]||!n[0].trace)){var a=n[0],o=a.trace,p=a.t,m=o._length,h=p.r,g=p.theta,_=p.opts,v,y=h.slice(),b=g.slice();for(v=0;v<h.length;v++)t.isPtInside({r:h[v],theta:g[v]})||(y[v]=NaN,b[v]=NaN);var x=Array(m*2),S=Array(m),C=Array(m);for(v=0;v<m;v++){var w=y[v],T,E;if(i(w)){var D=u.c2g(w),O=d.c2g(b[v],o.thetaunit);T=D*Math.cos(O),E=D*Math.sin(O)}else T=E=NaN;S[v]=x[v*2]=T,C[v]=x[v*2+1]=E}p.tree=r(x),_.marker&&m>=l&&(_.marker.cluster=p.tree),_.marker&&(_.markerSel.positions=_.markerUnsel.positions=_.marker.positions=x),_.line&&x.length>1&&c.extendFlat(_.line,s.linePositions(e,o,x)),_.text&&(c.extendFlat(_.text,{positions:x},s.textPosition(e,o,_.text,_.marker)),c.extendFlat(_.textSel,{positions:x},s.textPosition(e,o,_.text,_.markerSel)),c.extendFlat(_.textUnsel,{positions:x},s.textPosition(e,o,_.text,_.markerUnsel))),_.fill&&!f.fill2d&&(f.fill2d=!0),_.marker&&!f.scatter2d&&(f.scatter2d=!0),_.line&&!f.line2d&&(f.line2d=!0),_.text&&!f.glText&&(f.glText=!0),f.lineOptions.push(_.line),f.fillOptions.push(_.fill),f.markerOptions.push(_.marker),f.markerSelectedOptions.push(_.markerSel),f.markerUnselectedOptions.push(_.markerUnsel),f.textOptions.push(_.text),f.textSelectedOptions.push(_.textSel),f.textUnselectedOptions.push(_.textUnsel),f.selectBatch.push([]),f.unselectBatch.push([]),p.x=S,p.y=C,p.rawx=S,p.rawy=C,p.r=h,p.theta=g,p.positions=x,p._scene=f,p.index=f.count,f.count++}}),a(e,t,n)}},e.exports.reglPrecompiled=u}),48300:(function(e,t,n){var r=n(5386).f,i=n(5386).s,a=n(1426).extendFlat,o=n(82196),s=n(9012),c=o.line;e.exports={mode:o.mode,real:{valType:`data_array`,editType:`calc+clearAxisTypes`},imag:{valType:`data_array`,editType:`calc+clearAxisTypes`},text:o.text,texttemplate:i({editType:`plot`},{keys:[`real`,`imag`,`text`]}),hovertext:o.hovertext,line:{color:c.color,width:c.width,dash:c.dash,backoff:c.backoff,shape:a({},c.shape,{values:[`linear`,`spline`]}),smoothing:c.smoothing,editType:`calc`},connectgaps:o.connectgaps,marker:o.marker,cliponaxis:a({},o.cliponaxis,{dflt:!1}),textposition:o.textposition,textfont:o.textfont,fill:a({},o.fill,{values:[`none`,`toself`,`tonext`],dflt:`none`}),fillcolor:o.fillcolor,hoverinfo:a({},s.hoverinfo,{flags:[`real`,`imag`,`text`,`name`]}),hoveron:o.hoveron,hovertemplate:r(),selected:o.selected,unselected:o.unselected}}),30621:(function(e,t,n){var r=n(92770),i=n(50606).BADNUM,a=n(36922),o=n(75225),s=n(66279),c=n(47761).calcMarkerSize;e.exports=function(e,t){for(var n=e._fullLayout,l=t.subplot,u=n[l].realaxis,d=n[l].imaginaryaxis,f=u.makeCalcdata(t,`real`),p=d.makeCalcdata(t,`imag`),m=t._length,h=Array(m),g=0;g<m;g++){var _=f[g],v=p[g],y=h[g]={};r(_)&&r(v)?(y.real=_,y.imag=v):y.real=i}return c(t,m),a(e,t),o(h,t),s(h,t),h}}),65269:(function(e,t,n){var r=n(71828),i=n(34098),a=n(49508),o=n(11058),s=n(94039),c=n(82410),l=n(28908),u=n(47581).PTS_LINESONLY,d=n(48300);e.exports=function(e,t,n,p){function m(n,i){return r.coerce(e,t,d,n,i)}var h=f(e,t,p,m);if(!h){t.visible=!1;return}m(`mode`,h<u?`lines+markers`:`lines`),m(`text`),m(`hovertext`),t.hoveron!==`fills`&&m(`hovertemplate`),i.hasLines(t)&&(o(e,t,n,p,m,{backoff:!0}),s(e,t,m),m(`connectgaps`)),i.hasMarkers(t)&&a(e,t,n,p,m,{gradient:!0}),i.hasText(t)&&(m(`texttemplate`),c(e,t,p,m));var g=[];(i.hasMarkers(t)||i.hasText(t))&&(m(`cliponaxis`),m(`marker.maxdisplayed`),g.push(`points`)),m(`fill`),t.fill!==`none`&&(l(e,t,n,m),i.hasLines(t)||s(e,t,m)),(t.fill===`tonext`||t.fill===`toself`)&&g.push(`fills`),m(`hoveron`,g.join(`+`)||`points`),r.coerceSelectionMarkerOpacity(t,m)};function f(e,t,n,r){var i=r(`real`),a=r(`imag`),o;return i&&a&&(o=Math.min(i.length,a.length)),t._length=o,o}}),62047:(function(e,t,n){var r=n(89298);e.exports=function(e,t,n){var i={},a=n[t.subplot]._subplot;return i.realLabel=r.tickText(a.radialAxis,e.real,!0).text,i.imagLabel=r.tickText(a.angularAxis,e.imag,!0).text,i}}),11350:(function(e,t,n){var r=n(33720);function i(e,t,n,i){var o=r(e,t,n,i);if(!(!o||o[0].index===!1)){var s=o[0];if(s.index===void 0)return o;var c=e.subplot,l=s.cd[s.index],u=s.trace;if(c.isPtInside(l))return s.xLabelVal=void 0,s.yLabelVal=void 0,a(l,u,c,s),s.hovertemplate=u.hovertemplate,o}}function a(e,t,n,r){var i=n.radialAxis,a=n.angularAxis;i._hovertitle=`real`,a._hovertitle=`imag`;var o={};o[t.subplot]={_subplot:n};var s=t._module.formatLabels(e,t,o);r.realLabel=s.realLabel,r.imagLabel=s.imagLabel;var c=e.hi||t.hoverinfo,l=[];function u(e,t){l.push(e._hovertitle+`: `+t)}if(!t.hovertemplate){var d=c.split(`+`);d.indexOf(`all`)!==-1&&(d=[`real`,`imag`,`text`]),d.indexOf(`real`)!==-1&&u(i,r.realLabel),d.indexOf(`imag`)!==-1&&u(a,r.imagLabel),d.indexOf(`text`)!==-1&&r.text&&(l.push(r.text),delete r.text),r.extraText=l.join(`<br>`)}}e.exports={hoverPoints:i,makeHoverPointText:a}}),85956:(function(e,t,n){e.exports={moduleType:`trace`,name:`scattersmith`,basePlotModule:n(7504),categories:[`smith`,`symbols`,`showLegend`,`scatter-like`],attributes:n(48300),supplyDefaults:n(65269),colorbar:n(4898),formatLabels:n(62047),calc:n(30621),plot:n(12480),style:n(16296).style,styleOnSelect:n(16296).styleOnSelect,hoverPoints:n(11350).hoverPoints,selectPoints:n(98002),meta:{}}}),12480:(function(e,t,n){var r=n(32663),i=n(50606).BADNUM,a=n(23893).smith;e.exports=function(e,t,n){for(var o=t.layers.frontplot.select(`g.scatterlayer`),s=t.xaxis,c=t.yaxis,l={xaxis:s,yaxis:c,plot:t.framework,layerClipId:t._hasClipOnAxisFalse?t.clipIds.forTraces:null},u=0;u<n.length;u++)for(var d=n[u],f=0;f<d.length;f++){f===0&&(d[0].trace._xA=s,d[0].trace._yA=c);var p=d[f],m=p.real;if(m===i)p.x=p.y=i;else{var h=a([m,p.imag]);p.x=h[0],p.y=h[1]}}r(e,l,n,o)}}),50413:(function(e,t,n){var r=n(5386).f,i=n(5386).s,a=n(82196),o=n(9012),s=n(50693),c=n(79952).P,l=n(1426).extendFlat,u=a.marker,d=a.line,f=u.line;e.exports={a:{valType:`data_array`,editType:`calc`},b:{valType:`data_array`,editType:`calc`},c:{valType:`data_array`,editType:`calc`},sum:{valType:`number`,dflt:0,min:0,editType:`calc`},mode:l({},a.mode,{dflt:`markers`}),text:l({},a.text,{}),texttemplate:i({editType:`plot`},{keys:[`a`,`b`,`c`,`text`]}),hovertext:l({},a.hovertext,{}),line:{color:d.color,width:d.width,dash:c,backoff:d.backoff,shape:l({},d.shape,{values:[`linear`,`spline`]}),smoothing:d.smoothing,editType:`calc`},connectgaps:a.connectgaps,cliponaxis:a.cliponaxis,fill:l({},a.fill,{values:[`none`,`toself`,`tonext`],dflt:`none`}),fillcolor:a.fillcolor,marker:l({symbol:u.symbol,opacity:u.opacity,angle:u.angle,angleref:u.angleref,standoff:u.standoff,maxdisplayed:u.maxdisplayed,size:u.size,sizeref:u.sizeref,sizemin:u.sizemin,sizemode:u.sizemode,line:l({width:f.width,editType:`calc`},s(`marker.line`)),gradient:u.gradient,editType:`calc`},s(`marker`)),textfont:a.textfont,textposition:a.textposition,selected:a.selected,unselected:a.unselected,hoverinfo:l({},o.hoverinfo,{flags:[`a`,`b`,`c`,`text`,`name`]}),hoveron:a.hoveron,hovertemplate:r()}}),54337:(function(e,t,n){var r=n(92770),i=n(36922),a=n(75225),o=n(66279),s=n(47761).calcMarkerSize,c=[`a`,`b`,`c`],l={a:[`b`,`c`],b:[`a`,`c`],c:[`a`,`b`]};e.exports=function(e,t){var n=e._fullLayout[t.subplot].sum,u=t.sum||n,d={a:t.a,b:t.b,c:t.c},f,p,m,h,g,_;for(f=0;f<c.length;f++)if(m=c[f],!d[m]){for(g=d[l[m][0]],_=d[l[m][1]],h=Array(g.length),p=0;p<g.length;p++)h[p]=u-g[p]-_[p];d[m]=h}var v=t._length,y=Array(v),b,x,S,C,w,T;for(f=0;f<v;f++)b=d.a[f],x=d.b[f],S=d.c[f],r(b)&&r(x)&&r(S)?(b=+b,x=+x,S=+S,C=n/(b+x+S),C!==1&&(b*=C,x*=C,S*=C),T=b,w=S-x,y[f]={x:w,y:T,a:b,b:x,c:S}):y[f]={x:!1,y:!1};return s(t,v),i(e,t),a(y,t),o(y,t),y}}),46008:(function(e,t,n){var r=n(71828),i=n(47581),a=n(34098),o=n(49508),s=n(11058),c=n(94039),l=n(82410),u=n(28908),d=n(50413);e.exports=function(e,t,n,f){function p(n,i){return r.coerce(e,t,d,n,i)}var m=p(`a`),h=p(`b`),g=p(`c`),_;if(m?(_=m.length,h?(_=Math.min(_,h.length),g&&(_=Math.min(_,g.length))):_=g?Math.min(_,g.length):0):h&&g&&(_=Math.min(h.length,g.length)),!_){t.visible=!1;return}t._length=_,p(`sum`),p(`text`),p(`hovertext`),t.hoveron!==`fills`&&p(`hovertemplate`),p(`mode`,_<i.PTS_LINESONLY?`lines+markers`:`lines`),a.hasLines(t)&&(s(e,t,n,f,p,{backoff:!0}),c(e,t,p),p(`connectgaps`)),a.hasMarkers(t)&&o(e,t,n,f,p,{gradient:!0}),a.hasText(t)&&(p(`texttemplate`),l(e,t,f,p));var v=[];(a.hasMarkers(t)||a.hasText(t))&&(p(`cliponaxis`),p(`marker.maxdisplayed`),v.push(`points`)),p(`fill`),t.fill!==`none`&&(u(e,t,n,p),a.hasLines(t)||c(e,t,p)),(t.fill===`tonext`||t.fill===`toself`)&&v.push(`fills`),p(`hoveron`,v.join(`+`)||`points`),r.coerceSelectionMarkerOpacity(t,p)}}),4524:(function(e){e.exports=function(e,t,n,r,i){if(t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),r[i]){var a=r[i];e.a=a.a,e.b=a.b,e.c=a.c}else e.a=t.a,e.b=t.b,e.c=t.c;return e}}),93645:(function(e,t,n){var r=n(89298);e.exports=function(e,t,n){var i={},a=n[t.subplot]._subplot;return i.aLabel=r.tickText(a.aaxis,e.a,!0).text,i.bLabel=r.tickText(a.baxis,e.b,!0).text,i.cLabel=r.tickText(a.caxis,e.c,!0).text,i}}),47250:(function(e,t,n){var r=n(33720);e.exports=function(e,t,n,i){var a=r(e,t,n,i);if(!a||a[0].index===!1)return;var o=a[0];if(o.index===void 0){var s=1-o.y0/e.ya._length,c=e.xa._length,l=c*s/2,u=c-l;return o.x0=Math.max(Math.min(o.x0,u),l),o.x1=Math.max(Math.min(o.x1,u),l),a}var d=o.cd[o.index],f=o.trace,p=o.subplot;o.a=d.a,o.b=d.b,o.c=d.c,o.xLabelVal=void 0,o.yLabelVal=void 0;var m={};m[f.subplot]={_subplot:p};var h=f._module.formatLabels(d,f,m);o.aLabel=h.aLabel,o.bLabel=h.bLabel,o.cLabel=h.cLabel;var g=d.hi||f.hoverinfo,_=[];function v(e,t){_.push(e._hovertitle+`: `+t)}if(!f.hovertemplate){var y=g.split(`+`);y.indexOf(`all`)!==-1&&(y=[`a`,`b`,`c`]),y.indexOf(`a`)!==-1&&v(p.aaxis,o.aLabel),y.indexOf(`b`)!==-1&&v(p.baxis,o.bLabel),y.indexOf(`c`)!==-1&&v(p.caxis,o.cLabel)}return o.extraText=_.join(`<br>`),o.hovertemplate=f.hovertemplate,a}}),52979:(function(e,t,n){e.exports={attributes:n(50413),supplyDefaults:n(46008),colorbar:n(4898),formatLabels:n(93645),calc:n(54337),plot:n(7507),style:n(16296).style,styleOnSelect:n(16296).styleOnSelect,hoverPoints:n(47250),selectPoints:n(98002),eventData:n(4524),moduleType:`trace`,name:`scatterternary`,basePlotModule:n(61639),categories:[`ternary`,`symbols`,`showLegend`,`scatter-like`],meta:{}}}),7507:(function(e,t,n){var r=n(32663);e.exports=function(e,t,n){var i=t.plotContainer;i.select(`.scatterlayer`).selectAll(`*`).remove();for(var a=t.xaxis,o=t.yaxis,s={xaxis:a,yaxis:o,plot:i,layerClipId:t._hasClipOnAxisFalse?t.clipIdRelative:null},c=t.layers.frontplot.select(`g.scatterlayer`),l=0;l<n.length;l++){var u=n[l];u.length&&(u[0].trace._xA=a,u[0].trace._yA=o)}r(e,s,n,c)}}),46880:(function(e,t,n){var r=n(82196),i=n(50693),a=n(12663).axisHoverFormat,o=n(5386).f,s=n(42341),c=n(85555).idRegex,l=n(44467).templatedArray,u=n(1426).extendFlat,d=r.marker,f=d.line,p=u(i(`marker.line`,{editTypeOverride:`calc`}),{width:u({},f.width,{editType:`calc`}),editType:`calc`}),m=u(i(`marker`),{symbol:d.symbol,angle:d.angle,size:u({},d.size,{editType:`markerSize`}),sizeref:d.sizeref,sizemin:d.sizemin,sizemode:d.sizemode,opacity:d.opacity,colorbar:d.colorbar,line:p,editType:`calc`});m.color.editType=m.cmin.editType=m.cmax.editType=`style`;function h(e){return{valType:`info_array`,freeLength:!0,editType:`calc`,items:{valType:`subplotid`,regex:c[e],editType:`plot`}}}e.exports={dimensions:l(`dimension`,{visible:{valType:`boolean`,dflt:!0,editType:`calc`},label:{valType:`string`,editType:`calc`},values:{valType:`data_array`,editType:`calc+clearAxisTypes`},axis:{type:{valType:`enumerated`,values:[`linear`,`log`,`date`,`category`],editType:`calc+clearAxisTypes`},matches:{valType:`boolean`,dflt:!1,editType:`calc`},editType:`calc+clearAxisTypes`},editType:`calc+clearAxisTypes`}),text:u({},s.text,{}),hovertext:u({},s.hovertext,{}),hovertemplate:o(),xhoverformat:a(`x`),yhoverformat:a(`y`),marker:m,xaxes:h(`x`),yaxes:h(`y`),diagonal:{visible:{valType:`boolean`,dflt:!0,editType:`calc`},editType:`calc`},showupperhalf:{valType:`boolean`,dflt:!0,editType:`calc`},showlowerhalf:{valType:`boolean`,dflt:!0,editType:`calc`},selected:{marker:s.selected.marker,editType:`calc`},unselected:{marker:s.unselected.marker,editType:`calc`},opacity:s.opacity}}),65017:(function(e,t,n){var r=n(73972),i=n(83312);e.exports={moduleType:`trace`,name:`splom`,categories:[`gl`,`regl`,`cartesian`,`symbols`,`showLegend`,`scatter-like`],attributes:n(46880),supplyDefaults:n(25784),colorbar:n(4898),calc:n(87625),plot:n(79410),hoverPoints:n(8567).hoverPoints,selectPoints:n(8689),editStyle:n(28801),meta:{}},r.register(i)}),16947:(function(e,t,n){var r=n(46075),i=n(73972),a=n(79749),o=n(27659).a0,s=n(93612),c=n(41675).getFromId,l=n(89298).shouldShowZeroLine,u=`splom`,d={};function f(e){var t=e._fullLayout,n=i.getModule(u),r=o(e.calcdata,n)[0];a(e,[`ANGLE_instanced_arrays`,`OES_element_index_uint`],d)&&(t._hasOnlyLargeSploms&&h(e),n.plot(e,{},r))}function p(e){var t=e.calcdata,n=e._fullLayout;n._hasOnlyLargeSploms&&h(e);for(var r=0;r<t.length;r++){var i=t[r][0].trace,a=n._splomScenes[i.uid];i.type===`splom`&&a&&a.matrix&&m(e,i,a)}}function m(e,t,n){for(var r=n.matrixOptions.data.length,i=t._visibleDims,a=n.viewOpts.ranges=Array(r),o=0;o<i.length;o++){var s=i[o],l=a[o]=[,,,,],u=c(e,t._diag[s][0]);u&&(l[0]=u.r2l(u.range[0]),l[2]=u.r2l(u.range[1]));var d=c(e,t._diag[s][1]);d&&(l[1]=d.r2l(d.range[0]),l[3]=d.r2l(d.range[1]))}n.selectBatch.length||n.unselectBatch.length?n.matrix.update({ranges:a},{ranges:a}):n.matrix.update({ranges:a})}function h(e){var t=e._fullLayout,n=t._glcanvas.data()[0].regl,i=t._splomGrid;i||=t._splomGrid=r(n),i.update(g(e))}function g(e){var t=e._context.plotGlPixelRatio,n=e._fullLayout,r=n._size,i=[0,0,n.width*t,n.height*t],a={},o;function s(e,n,r,o,s,c){r*=t,o*=t,s*=t,c*=t;var l=n[e+`color`],u=n[e+`width`],d=String(l+u);d in a?a[d].data.push(NaN,NaN,r,o,s,c):a[d]={data:[r,o,s,c],join:`rect`,thickness:u*t,color:l,viewport:i,range:i,overlay:!1}}for(o in n._splomSubplots){var c=n._plots[o],u=c.xaxis,d=c.yaxis,f=u._gridVals,p=d._gridVals,m=u._offset,h=u._length,g=d._length,_=r.b+d.domain[0]*r.h,v=-d._m,y=-v*d.r2l(d.range[0],d.calendar),b,x;if(u.showgrid)for(o=0;o<f.length;o++)b=m+u.l2p(f[o].x),s(`grid`,u,b,_,b,_+g);if(d.showgrid)for(o=0;o<p.length;o++)x=_+y+v*p[o].x,s(`grid`,d,m,x,m+h,x);l(e,u,d)&&(b=m+u.l2p(0),s(`zeroline`,u,b,_,b,_+g)),l(e,d,u)&&(x=_+y+0,s(`zeroline`,d,m,x,m+h,x))}var S=[];for(o in a)S.push(a[o]);return S}function _(e,t,n,r){var i={},a;if(r._splomScenes){for(a=0;a<e.length;a++){var o=e[a];o.type===`splom`&&(i[o.uid]=1)}for(a=0;a<n.length;a++){var c=n[a];if(!i[c.uid]){var l=r._splomScenes[c.uid];l&&l.destroy&&l.destroy(),r._splomScenes[c.uid]=null,delete r._splomScenes[c.uid]}}}Object.keys(r._splomScenes||{}).length===0&&delete r._splomScenes,r._splomGrid&&!t._hasOnlyLargeSploms&&r._hasOnlyLargeSploms&&(r._splomGrid.destroy(),r._splomGrid=null,delete r._splomGrid),s.clean(e,t,n,r)}e.exports={name:u,attr:s.attr,attrRegex:s.attrRegex,layoutAttributes:s.layoutAttributes,supplyLayoutDefaults:s.supplyLayoutDefaults,drawFramework:s.drawFramework,plot:f,drag:p,updateGrid:h,clean:_,updateFx:s.updateFx,toSVG:s.toSVG,reglPrecompiled:d}}),87625:(function(e,t,n){var r=n(71828),i=n(41675),a=n(47761).calcMarkerSize,o=n(47761).calcAxisExpansion,s=n(36922),c=n(19635).markerSelection,l=n(19635).markerStyle,u=n(10164),d=n(50606).BADNUM,f=n(78232).TOO_MANY_POINTS;e.exports=function(e,t){var n=t.dimensions,p=t._length,m={},h=m.cdata=[],g=m.data=[],_=t._visibleDims=[],v,y,b,x,S;function C(e,n){for(var i=e.makeCalcdata({v:n.values,vcalendar:t.calendar},`v`),a=0;a<i.length;a++)i[a]=i[a]===d?NaN:i[a];h.push(i),g.push(e.type===`log`?r.simpleMap(i,e.c2l):i)}for(v=0;v<n.length;v++)if(b=n[v],b.visible){if(x=i.getFromId(e,t._diag[v][0]),S=i.getFromId(e,t._diag[v][1]),x&&S&&x.type!==S.type){r.log(`Skipping splom dimension `+v+` with conflicting axis types`);continue}x?(C(x,b),S&&S.type===`category`&&(S._categories=x._categories.slice())):C(S,b),_.push(v)}s(e,t),r.extendFlat(m,l(e,t));var w=h.length*p>f?m.sizeAvg||Math.max(m.size,3):a(t,p);for(y=0;y<_.length;y++)v=_[y],b=n[v],x=i.getFromId(e,t._diag[v][0])||{},S=i.getFromId(e,t._diag[v][1])||{},o(e,t,x,S,h[y],h[y],w);var T=u(e,t);return T.matrix||=!0,T.matrixOptions=m,T.selectedOptions=c(e,t,t.selected),T.unselectedOptions=c(e,t,t.unselected),[{x:!1,y:!1,t:{},trace:t}]}}),25784:(function(e,t,n){var r=n(71828),i=n(85501),a=n(46880),o=n(34098),s=n(49508),c=n(94397),l=n(68645).isOpenSymbol;e.exports=function(e,t,n,f){function p(n,i){return r.coerce(e,t,a,n,i)}var m=i(e,t,{name:`dimensions`,handleItemDefaults:u}),h=p(`diagonal.visible`),g=p(`showupperhalf`),_=p(`showlowerhalf`);if(!c(t,m,`values`)||!h&&!g&&!_){t.visible=!1;return}p(`text`),p(`hovertext`),p(`hovertemplate`),p(`xhoverformat`),p(`yhoverformat`),s(e,t,n,f,p,{noAngleRef:!0,noStandOff:!0});var v=l(t.marker.symbol),y=o.isBubble(t);p(`marker.line.width`,v||y?1:0),d(e,t,f,p),r.coerceSelectionMarkerOpacity(t,p)};function u(e,t){function n(n,i){return r.coerce(e,t,a.dimensions,n,i)}n(`label`);var i=n(`values`);i&&i.length?n(`visible`):t.visible=!1,n(`axis.type`),n(`axis.matches`)}function d(e,t,n,r){var i=t.dimensions,a=i.length,o=t.showupperhalf,s=t.showlowerhalf,c=t.diagonal.visible,l,u,d=Array(a),f=Array(a);for(l=0;l<a;l++){var p=l?l+1:``;d[l]=`x`+p,f[l]=`y`+p}var m=r(`xaxes`,d),h=r(`yaxes`,f),g=t._diag=Array(a);t._xaxes={},t._yaxes={};var _=[],v=[];function y(e,r,i,a){if(e){var o=e.charAt(0),s=n._splomAxes[o];if(t[`_`+o+`axes`][e]=1,a.push(e),!(e in s)){var c=s[e]={};i&&(c.label=i.label||``,i.visible&&i.axis&&(i.axis.type&&(c.type=i.axis.type),i.axis.matches&&(c.matches=r)))}}}var b=!c&&!s,x=!c&&!o;for(t._axesDim={},l=0;l<a;l++){var S=i[l],C=l===0,w=l===a-1,T=C&&b||w&&x?void 0:m[l],E=C&&x||w&&b?void 0:h[l];y(T,E,S,_),y(E,T,S,v),g[l]=[T,E],t._axesDim[T]=l,t._axesDim[E]=l}for(l=0;l<_.length;l++)for(u=0;u<v.length;u++){var D=_[l]+v[u];(l>u&&o||l<u&&s||l===u&&(c||!s||!o))&&(n._splomSubplots[D]=1)}(!s||!c&&o&&s)&&(n._splomGridDflt.xside=`bottom`,n._splomGridDflt.yside=`left`)}}),28801:(function(e,t,n){var r=n(71828),i=n(36922),a=n(19635).markerStyle;e.exports=function(e,t){var n=t.trace,o=e._fullLayout._splomScenes[n.uid];if(o){i(e,n),r.extendFlat(o.matrixOptions,a(e,n));var s=r.extendFlat({},o.matrixOptions,o.viewOpts);o.matrix.update(s,null)}}}),35948:(function(e,t){t.getDimIndex=function(e,t){for(var n=t._id,r={x:0,y:1}[n.charAt(0)],i=e._visibleDims,a=0;a<i.length;a++){var o=i[a];if(e._diag[o][r]===n)return a}return!1}}),8567:(function(e,t,n){var r=n(35948),i=n(20794).calcHover;function a(e,t,n){var a=e.cd[0].trace,o=e.scene.matrixOptions.cdata,s=e.xa,c=e.ya,l=s.c2p(t),u=c.c2p(n),d=e.distance,f=r.getDimIndex(a,s),p=r.getDimIndex(a,c);if(f===!1||p===!1)return[e];for(var m=o[f],h=o[p],g,_,v=d,y=0;y<m.length;y++){var b=m[y],x=h[y],S=s.c2p(b)-l,C=c.c2p(x)-u,w=Math.sqrt(S*S+C*C);w<v&&(v=_=w,g=y)}return e.index=g,e.distance=v,e.dxy=_,g===void 0?[e]:[i(e,m,h,a)]}e.exports={hoverPoints:a}}),6419:(function(e,t,n){var r=n(65017);r.basePlotModule=n(16947),e.exports=r}),79410:(function(e,t,n){var r=n(60487),i=n(71828),a=n(41675),o=n(64505).selectMode;e.exports=function(e,t,n){if(n.length)for(var r=0;r<n.length;r++)s(e,n[r][0])};function s(e,t){var n=e._fullLayout,s=n._size,c=t.trace,l=t.t,u=n._splomScenes[c.uid],d=u.matrixOptions,f=d.cdata,p=n._glcanvas.data()[0].regl,m=n.dragmode,h,g,_,v,y;if(f.length!==0){d.lower=c.showupperhalf,d.upper=c.showlowerhalf,d.diagonal=c.diagonal.visible;var b=c._visibleDims,x=f.length,S=u.viewOpts={};for(S.ranges=Array(x),S.domains=Array(x),y=0;y<b.length;y++){_=b[y];var C=S.ranges[y]=[,,,,],w=S.domains[y]=[,,,,];h=a.getFromId(e,c._diag[_][0]),h&&(C[0]=h._rl[0],C[2]=h._rl[1],w[0]=h.domain[0],w[2]=h.domain[1]),g=a.getFromId(e,c._diag[_][1]),g&&(C[1]=g._rl[0],C[3]=g._rl[1],w[1]=g.domain[0],w[3]=g.domain[1])}var T=e._context.plotGlPixelRatio,E=s.l*T,D=s.b*T,O=s.w*T,k=s.h*T;S.viewport=[E,D,O+E,k+D],u.matrix===!0&&(u.matrix=r(p));var A=n.clickmode.indexOf(`select`)>-1,j=o(m)||!!c.selectedpoints||A,M=!0;if(j){var N=c._length;if(c.selectedpoints){u.selectBatch=c.selectedpoints;var P=c.selectedpoints,F={};for(_=0;_<P.length;_++)F[P[_]]=!0;var I=[];for(_=0;_<N;_++)F[_]||I.push(_);u.unselectBatch=I}var L=l.xpx=Array(x),R=l.ypx=Array(x);for(y=0;y<b.length;y++){if(_=b[y],h=a.getFromId(e,c._diag[_][0]),h)for(L[y]=Array(N),v=0;v<N;v++)L[y][v]=h.c2p(f[y][v]);if(g=a.getFromId(e,c._diag[_][1]),g)for(R[y]=Array(N),v=0;v<N;v++)R[y][v]=g.c2p(f[y][v])}if(u.selectBatch.length||u.unselectBatch.length){var z=i.extendFlat({},d,u.unselectedOptions,S),B=i.extendFlat({},d,u.selectedOptions,S);u.matrix.update(z,B),M=!1}}else l.xpx=l.ypx=null;if(M){var V=i.extendFlat({},d,S);u.matrix.update(V,null)}}}}),10164:(function(e,t,n){var r=n(71828);e.exports=function(e,t){var n=e._fullLayout,i=t.uid,a=n._splomScenes;a||=n._splomScenes={};var o={dirty:!0,selectBatch:[],unselectBatch:[]},s={matrix:!1,selectBatch:[],unselectBatch:[]},c=a[t.uid];return c||(c=a[i]=r.extendFlat({},o,s),c.draw=function(){c.matrix&&c.matrix.draw&&(c.selectBatch.length||c.unselectBatch.length?c.matrix.draw(c.unselectBatch,c.selectBatch):c.matrix.draw()),c.dirty=!1},c.destroy=function(){c.matrix&&c.matrix.destroy&&c.matrix.destroy(),c.matrixOptions=null,c.selectBatch=null,c.unselectBatch=null,c=null}),c.dirty||r.extendFlat(c,o),c}}),8689:(function(e,t,n){var r=n(71828),i=r.pushUnique,a=n(34098),o=n(35948);e.exports=function(e,t){var n=e.cd,s=n[0].trace,c=n[0].t,l=e.scene,u=l.matrixOptions.cdata,d=e.xaxis,f=e.yaxis,p=[];if(!l)return p;var m=!a.hasMarkers(s)&&!a.hasText(s);if(s.visible!==!0||m)return p;var h=o.getDimIndex(s,d),g=o.getDimIndex(s,f);if(h===!1||g===!1)return p;var _=c.xpx[h],v=c.ypx[g],y=u[h],b=u[g],x=(e.scene.selectBatch||[]).slice(),S=[];if(t!==!1&&!t.degenerate)for(var C=0;C<y.length;C++)t.contains([_[C],v[C]],null,C,e)?(p.push({pointNumber:C,x:y[C],y:b[C]}),i(x,C)):x.indexOf(C)===-1?S.push(C):i(x,C);var w=l.matrixOptions;return!x.length&&!S.length?l.matrix.update(w,null):!l.selectBatch.length&&!l.unselectBatch.length&&l.matrix.update(l.unselectedOptions,r.extendFlat({},w,l.selectedOptions,l.viewOpts)),l.selectBatch=x,l.unselectBatch=S,p}}),21850:(function(e,t,n){var r=n(50693),i=n(12663).axisHoverFormat,a=n(5386).f,o=n(2418),s=n(9012),c=n(1426).extendFlat,l={x:{valType:`data_array`,editType:`calc+clearAxisTypes`},y:{valType:`data_array`,editType:`calc+clearAxisTypes`},z:{valType:`data_array`,editType:`calc+clearAxisTypes`},u:{valType:`data_array`,editType:`calc`},v:{valType:`data_array`,editType:`calc`},w:{valType:`data_array`,editType:`calc`},starts:{x:{valType:`data_array`,editType:`calc`},y:{valType:`data_array`,editType:`calc`},z:{valType:`data_array`,editType:`calc`},editType:`calc`},maxdisplayed:{valType:`integer`,min:0,dflt:1e3,editType:`calc`},sizeref:{valType:`number`,editType:`calc`,min:0,dflt:1},text:{valType:`string`,dflt:``,editType:`calc`},hovertext:{valType:`string`,dflt:``,editType:`calc`},hovertemplate:a({editType:`calc`},{keys:[`tubex`,`tubey`,`tubez`,`tubeu`,`tubev`,`tubew`,`norm`,`divergence`]}),uhoverformat:i(`u`,1),vhoverformat:i(`v`,1),whoverformat:i(`w`,1),xhoverformat:i(`x`),yhoverformat:i(`y`),zhoverformat:i(`z`),showlegend:c({},s.showlegend,{dflt:!1})};c(l,r(``,{colorAttr:`u/v/w norm`,showScaleDflt:!0,editTypeOverride:`calc`})),[`opacity`,`lightposition`,`lighting`].forEach(function(e){l[e]=o[e]}),l.hoverinfo=c({},s.hoverinfo,{editType:`calc`,flags:[`x`,`y`,`z`,`u`,`v`,`w`,`norm`,`divergence`,`text`,`name`],dflt:`x+y+z+norm+text+name`}),l.transforms=void 0,e.exports=l}),88489:(function(e,t,n){var r=n(71828),i=n(78803);function a(e,t){t._len=Math.min(t.u.length,t.v.length,t.w.length,t.x.length,t.y.length,t.z.length),t._u=c(t.u,t._len),t._v=c(t.v,t._len),t._w=c(t.w,t._len),t._x=c(t.x,t._len),t._y=c(t.y,t._len),t._z=c(t.z,t._len);var n=o(t);t._gridFill=n.fill,t._Xs=n.Xs,t._Ys=n.Ys,t._Zs=n.Zs,t._len=n.len;var r=0,a,s,l;t.starts&&(a=c(t.starts.x||[]),s=c(t.starts.y||[]),l=c(t.starts.z||[]),r=Math.min(a.length,s.length,l.length)),t._startsX=a||[],t._startsY=s||[],t._startsZ=l||[];var u=0,d=1/0,f;for(f=0;f<t._len;f++){var p=t._u[f],m=t._v[f],h=t._w[f],g=Math.sqrt(p*p+m*m+h*h);u=Math.max(u,g),d=Math.min(d,g)}for(i(e,t,{vals:[d,u],containerStr:``,cLetter:`c`}),f=0;f<r;f++){var _=a[f];n.xMax=Math.max(n.xMax,_),n.xMin=Math.min(n.xMin,_);var v=s[f];n.yMax=Math.max(n.yMax,v),n.yMin=Math.min(n.yMin,v);var y=l[f];n.zMax=Math.max(n.zMax,y),n.zMin=Math.min(n.zMin,y)}t._slen=r,t._normMax=u,t._xbnds=[n.xMin,n.xMax],t._ybnds=[n.yMin,n.yMax],t._zbnds=[n.zMin,n.zMax]}function o(e){var t=e._x,n=e._y,i=e._z,a=e._len,o,c,l,u=-1/0,d=1/0,f=-1/0,p=1/0,m=-1/0,h=1/0,g=``,_,v,y,b,x,S,C,w,T;for(a&&(b=t[0],S=n[0],w=i[0]),a>1&&(x=t[a-1],C=n[a-1],T=i[a-1]),o=0;o<a;o++)u=Math.max(u,t[o]),d=Math.min(d,t[o]),f=Math.max(f,n[o]),p=Math.min(p,n[o]),m=Math.max(m,i[o]),h=Math.min(h,i[o]),!_&&t[o]!==b&&(_=!0,g+=`x`),!v&&n[o]!==S&&(v=!0,g+=`y`),!y&&i[o]!==w&&(y=!0,g+=`z`);_||(g+=`x`),v||(g+=`y`),y||(g+=`z`);var E=s(e._x),D=s(e._y),O=s(e._z);g=g.replace(`x`,(b>x?`-`:`+`)+`x`),g=g.replace(`y`,(S>C?`-`:`+`)+`y`),g=g.replace(`z`,(w>T?`-`:`+`)+`z`);var k=function(){a=0,E=[],D=[],O=[]};(!a||a<E.length*D.length*O.length)&&k();var A=function(e){return e===`x`?t:e===`y`?n:i},j=function(e){return e===`x`?E:e===`y`?D:O},M=function(e){return e[a-1]<e[0]?-1:1},N=A(g[1]),P=A(g[3]),F=A(g[5]),I=j(g[1]).length,L=j(g[3]).length,R=j(g[5]).length,z=!1,B=function(e,t,n){return I*(L*e+t)+n},V=M(A(g[1])),H=M(A(g[3])),U=M(A(g[5]));for(o=0;o<R-1;o++){for(c=0;c<L-1;c++){for(l=0;l<I-1;l++){var W=B(o,c,l),G=B(o,c,l+1),K=B(o,c+1,l),ee=B(o+1,c,l);if((!(N[W]*V<N[G]*V)||!(P[W]*H<P[K]*H)||!(F[W]*U<F[ee]*U))&&(z=!0),z)break}if(z)break}if(z)break}return z&&(r.warn(`Encountered arbitrary coordinates! Unable to input data grid.`),k()),{xMin:d,yMin:p,zMin:h,xMax:u,yMax:f,zMax:m,Xs:E,Ys:D,Zs:O,len:a,fill:g}}function s(e){return r.distinctVals(e).vals}function c(e,t){if(t===void 0&&(t=e.length),r.isTypedArray(e))return e.subarray(0,t);for(var n=[],i=0;i<t;i++)n[i]=+e[i];return n}e.exports={calc:a,filter:c,processGrid:o}}),90154:(function(e,t,n){var r=n(9330).gl_streamtube3d,i=r.createTubeMesh,a=n(71828),o=n(81697).parseColorScale,s=n(21081).extractOpts,c=n(90060),l={xaxis:0,yaxis:1,zaxis:2};function u(e,t){this.scene=e,this.uid=t,this.mesh=null,this.data=null}var d=u.prototype;d.handlePick=function(e){var t=this.scene.fullSceneLayout,n=this.scene.dataScale;function r(e,r){var i=t[r],a=n[l[r]];return i.l2c(e)/a}if(e.object===this.mesh){var i=e.data.position,a=e.data.velocity;return e.traceCoordinate=[r(i[0],`xaxis`),r(i[1],`yaxis`),r(i[2],`zaxis`),r(a[0],`xaxis`),r(a[1],`yaxis`),r(a[2],`zaxis`),e.data.intensity*this.data._normMax,e.data.divergence],e.textLabel=this.data.hovertext||this.data.text,!0}};function f(e){var t=e.length;return t>2?e.slice(1,t-1):t===2?[(e[0]+e[1])/2]:e}function p(e){var t=e.length;return t===1?[.5,.5]:[e[1]-e[0],e[t-1]-e[t-2]]}function m(e,t){var n=e.fullSceneLayout,i=e.dataScale,u=t._len,d={};function m(e,t){var r=n[t],o=i[l[t]];return a.simpleMap(e,function(e){return r.d2l(e)*o})}if(d.vectors=c(m(t._u,`xaxis`),m(t._v,`yaxis`),m(t._w,`zaxis`),u),!u)return{positions:[],cells:[]};var h=m(t._Xs,`xaxis`),g=m(t._Ys,`yaxis`),_=m(t._Zs,`zaxis`);if(d.meshgrid=[h,g,_],d.gridFill=t._gridFill,t._slen)d.startingPositions=c(m(t._startsX,`xaxis`),m(t._startsY,`yaxis`),m(t._startsZ,`zaxis`));else{for(var v=g[0],y=f(h),b=f(_),x=Array(y.length*b.length),S=0,C=0;C<y.length;C++)for(var w=0;w<b.length;w++)x[S++]=[y[C],v,b[w]];d.startingPositions=x}d.colormap=o(t),d.tubeSize=t.sizeref,d.maxLength=t.maxdisplayed;var T=m(t._xbnds,`xaxis`),E=m(t._ybnds,`yaxis`),D=m(t._zbnds,`zaxis`),O=p(h),k=p(g),A=p(_),j=r(d,[[T[0]-O[0],E[0]-k[0],D[0]-A[0]],[T[1]+O[1],E[1]+k[1],D[1]+A[1]]]),M=s(t);j.vertexIntensityBounds=[M.min/t._normMax,M.max/t._normMax];var N=t.lightposition;return j.lightPosition=[N.x,N.y,N.z],j.ambient=t.lighting.ambient,j.diffuse=t.lighting.diffuse,j.specular=t.lighting.specular,j.roughness=t.lighting.roughness,j.fresnel=t.lighting.fresnel,j.opacity=t.opacity,t._pad=j.tubeScale*t.sizeref*2,j}d.update=function(e){this.data=e;var t=m(this.scene,e);this.mesh.update(t)},d.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function h(e,t){var n=e.glplot.gl,r=i(n,m(e,t)),a=new u(e,t.uid);return a.mesh=r,a.data=t,r._trace=a,e.glplot.add(r),a}e.exports=h}),22459:(function(e,t,n){var r=n(71828),i=n(1586),a=n(21850);e.exports=function(e,t,n,o){function s(n,i){return r.coerce(e,t,a,n,i)}var c=s(`u`),l=s(`v`),u=s(`w`),d=s(`x`),f=s(`y`),p=s(`z`);if(!c||!c.length||!l||!l.length||!u||!u.length||!d||!d.length||!f||!f.length||!p||!p.length){t.visible=!1;return}s(`starts.x`),s(`starts.y`),s(`starts.z`),s(`maxdisplayed`),s(`sizeref`),s(`lighting.ambient`),s(`lighting.diffuse`),s(`lighting.specular`),s(`lighting.roughness`),s(`lighting.fresnel`),s(`lightposition.x`),s(`lightposition.y`),s(`lightposition.z`),i(e,t,o,s,{prefix:``,cLetter:`c`}),s(`text`),s(`hovertext`),s(`hovertemplate`),s(`uhoverformat`),s(`vhoverformat`),s(`whoverformat`),s(`xhoverformat`),s(`yhoverformat`),s(`zhoverformat`),t._length=null}}),61510:(function(e,t,n){e.exports={moduleType:`trace`,name:`streamtube`,basePlotModule:n(58547),categories:[`gl3d`,`showLegend`],attributes:n(21850),supplyDefaults:n(22459),colorbar:{min:`cmin`,max:`cmax`},calc:n(88489).calc,plot:n(90154),eventData:function(e,t){return e.tubex=e.x,e.tubey=e.y,e.tubez=e.z,e.tubeu=t.traceCoordinate[3],e.tubev=t.traceCoordinate[4],e.tubew=t.traceCoordinate[5],e.norm=t.traceCoordinate[6],e.divergence=t.traceCoordinate[7],delete e.x,delete e.y,delete e.z,e},meta:{}}}),57564:(function(e,t,n){var r=n(9012),i=n(5386).f,a=n(5386).s,o=n(50693),s=n(27670).Y,c=n(34e3),l=n(7055),u=n(1426).extendFlat;e.exports={labels:{valType:`data_array`,editType:`calc`},parents:{valType:`data_array`,editType:`calc`},values:{valType:`data_array`,editType:`calc`},branchvalues:{valType:`enumerated`,values:[`remainder`,`total`],dflt:`remainder`,editType:`calc`},count:{valType:`flaglist`,flags:[`branches`,`leaves`],dflt:`leaves`,editType:`calc`},level:{valType:`any`,editType:`plot`,anim:!0},maxdepth:{valType:`integer`,editType:`plot`,dflt:-1},marker:u({colors:{valType:`data_array`,editType:`calc`},line:{color:u({},c.marker.line.color,{dflt:null}),width:u({},c.marker.line.width,{dflt:1}),editType:`calc`},editType:`calc`},o(`marker`,{colorAttr:`colors`,anim:!1})),leaf:{opacity:{valType:`number`,editType:`style`,min:0,max:1},editType:`plot`},text:c.text,textinfo:{valType:`flaglist`,flags:[`label`,`text`,`value`,`current path`,`percent root`,`percent entry`,`percent parent`],extras:[`none`],editType:`plot`},texttemplate:a({editType:`plot`},{keys:l.eventDataKeys.concat([`label`,`value`])}),hovertext:c.hovertext,hoverinfo:u({},r.hoverinfo,{flags:[`label`,`text`,`value`,`name`,`current path`,`percent root`,`percent entry`,`percent parent`],dflt:`label+text+value+name`}),hovertemplate:i({},{keys:l.eventDataKeys}),textfont:c.textfont,insidetextorientation:c.insidetextorientation,insidetextfont:c.insidetextfont,outsidetextfont:u({},c.outsidetextfont,{}),rotation:{valType:`angle`,dflt:0,editType:`plot`},sort:c.sort,root:{color:{valType:`color`,editType:`calc`,dflt:`rgba(0,0,0,0)`},editType:`calc`},domain:s({name:`sunburst`,trace:!0,editType:`calc`})}}),66888:(function(e,t,n){var r=n(74875);t.name=`sunburst`,t.plot=function(e,n,i,a){r.plotBasePlot(t.name,e,n,i,a)},t.clean=function(e,n,i,a){r.cleanBasePlot(t.name,e,n,i,a)}}),52147:(function(e,t,n){var r=n(674),i=n(92770),a=n(71828),o=n(21081).makeColorScaleFuncFromTrace,s=n(32354).makePullColorFn,c=n(32354).generateExtendedColors,l=n(21081).calc,u=n(50606).ALMOST_EQUAL,d={},f={},p={};t.calc=function(e,t){var n=e._fullLayout,c=t.ids,d=a.isArrayOrTypedArray(c),f=t.labels,p=t.parents,h=t.values,g=a.isArrayOrTypedArray(h),_=[],v={},y={},b=function(e,t){v[e]?v[e].push(t):v[e]=[t],y[t]=1},x=function(e){return e||typeof e==`number`},S=function(e){return!g||i(h[e])&&h[e]>=0},C,w,T;d?(C=Math.min(c.length,p.length),w=function(e){return x(c[e])&&S(e)},T=function(e){return String(c[e])}):(C=Math.min(f.length,p.length),w=function(e){return x(f[e])&&S(e)},T=function(e){return String(f[e])}),g&&(C=Math.min(C,h.length));for(var E=0;E<C;E++)if(w(E)){var D=T(E),O=x(p[E])?String(p[E]):``,k={i:E,id:D,pid:O,label:x(f[E])?String(f[E]):``};g&&(k.v=+h[E]),_.push(k),b(O,D)}if(v[``]){if(v[``].length>1){for(var A=a.randstr(),j=0;j<_.length;j++)_[j].pid===``&&(_[j].pid=A);_.unshift({hasMultipleRoots:!0,id:A,pid:``,label:``})}}else{var M=[],N;for(N in v)y[N]||M.push(N);if(M.length===1)N=M[0],_.unshift({hasImpliedRoot:!0,id:N,pid:``,label:N});else return a.warn([`Multiple implied roots, cannot build`,t.type,`hierarchy of`,t.name+`.`,`These roots include:`,M.join(`, `)].join(` `))}var P;try{P=r.stratify().id(function(e){return e.id}).parentId(function(e){return e.pid})(_)}catch(e){return a.warn([`Failed to build`,t.type,`hierarchy of`,t.name+`.`,`Error:`,e.message].join(` `))}var F=r.hierarchy(P),I=!1;if(g)switch(t.branchvalues){case`remainder`:F.sum(function(e){return e.data.v});break;case`total`:F.each(function(e){var n=e.data.data,r=n.v;if(e.children){var i=e.children.reduce(function(e,t){return e+t.data.data.v},0);if((n.hasImpliedRoot||n.hasMultipleRoots)&&(r=i),r<i*u)return I=!0,a.warn([`Total value for node`,e.data.data.id,`of`,t.name,`is smaller than the sum of its children.`,`
parent value =`,r,`
children sum =`,i].join(` `))}e.value=r});break}else m(F,t,{branches:t.count.indexOf(`branches`)!==-1,leaves:t.count.indexOf(`leaves`)!==-1});if(!I){t.sort&&F.sort(function(e,t){return t.value-e.value});var L,R,z=t.marker.colors||[],B=!!z.length;return t._hasColorscale?(B||(z=g?t.values:t._values),l(e,t,{vals:z,containerStr:`marker`,cLetter:`c`}),R=o(t.marker)):L=s(n[`_`+t.type+`colormap`]),F.each(function(e){var n=e.data.data;n.color=t._hasColorscale?R(z[n.i]):L(z[n.i],n.id)}),_[0].hierarchy=F,_}},t._runCrossTraceCalc=function(e,t){var n=t._fullLayout,r=t.calcdata,i=n[e+`colorway`],a=n[`_`+e+`colormap`];n[`extend`+e+`colors`]&&(i=c(i,e===`icicle`?p:e===`treemap`?f:d));var o=0,s;function l(e){var t=e.data.data,n=t.id;t.color===!1&&(a[n]?t.color=a[n]:e.parent?e.parent.parent?t.color=e.parent.data.data.color:(a[n]=t.color=i[o%i.length],o++):t.color=s)}for(var u=0;u<r.length;u++){var m=r[u][0];m.trace.type===e&&m.hierarchy&&(s=m.trace.root.color,m.hierarchy.each(l))}},t.crossTraceCalc=function(e){return t._runCrossTraceCalc(`sunburst`,e)};function m(e,t,n){var r=0,i=e.children;if(i){for(var a=i.length,o=0;o<a;o++)r+=m(i[o],t,n);n.branches&&r++}else n.leaves&&r++;return e.value=e.data.data.value=r,t._values||=[],t._values[e.data.data.i]=r,r}}),7055:(function(e){e.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:`linear`,eventDataKeys:[`currentPath`,`root`,`entry`,`percentRoot`,`percentEntry`,`percentParent`]}}),17094:(function(e,t,n){var r=n(71828),i=n(57564),a=n(27670).c,o=n(90769).handleText,s=n(21081),c=s.hasColorscale,l=s.handleDefaults;e.exports=function(e,t,n,s){function u(n,a){return r.coerce(e,t,i,n,a)}var d=u(`labels`),f=u(`parents`);if(!d||!d.length||!f||!f.length){t.visible=!1;return}var p=u(`values`);p&&p.length?u(`branchvalues`):u(`count`),u(`level`),u(`maxdepth`),u(`marker.line.width`)&&u(`marker.line.color`,s.paper_bgcolor),u(`marker.colors`);var m=t._hasColorscale=c(e,`marker`,`colors`)||(e.marker||{}).coloraxis;m&&l(e,t,s,u,{prefix:`marker.`,cLetter:`c`}),u(`leaf.opacity`,m?1:.7);var h=u(`text`);u(`texttemplate`),t.texttemplate||u(`textinfo`,Array.isArray(h)?`text+label`:`label`),u(`hovertext`),u(`hovertemplate`),o(e,t,s,u,`auto`,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),u(`insidetextorientation`),u(`sort`),u(`rotation`),u(`root.color`),a(t,s,u),t._length=null}}),83523:(function(e,t,n){var r=n(39898),i=n(73972),a=n(23469).appendArrayPointValue,o=n(30211),s=n(71828),c=n(11086),l=n(2791),u=n(53581).formatPieValue;e.exports=function(e,t,n,a,f){var p=a[0],m=p.trace,h=p.hierarchy,g=m.type===`sunburst`,_=m.type===`treemap`||m.type===`icicle`;`_hasHoverLabel`in m||(m._hasHoverLabel=!1),`_hasHoverEvent`in m||(m._hasHoverEvent=!1),e.on(`mouseover`,function(i){var a=n._fullLayout;if(!(n._dragging||a.hovermode===!1)){var c=n._fullData[m.index],v=i.data.data,y=v.i,b=l.isHierarchyRoot(i),x=l.getParent(h,i),S=l.getValue(i),C=function(e){return s.castOption(c,y,e)},w=C(`hovertemplate`),T=o.castHoverinfo(c,a,y),E=a.separators,D;if(w||T&&T!==`none`&&T!==`skip`){var O,k;g&&(O=p.cx+i.pxmid[0]*(1-i.rInscribed),k=p.cy+i.pxmid[1]*(1-i.rInscribed)),_&&(O=i._hoverX,k=i._hoverY);var A={},j=[],M=[],N=function(e){return j.indexOf(e)!==-1};T&&(j=T===`all`?c._module.attributes.hoverinfo.flags:T.split(`+`)),A.label=v.label,N(`label`)&&A.label&&M.push(A.label),v.hasOwnProperty(`v`)&&(A.value=v.v,A.valueLabel=u(A.value,E),N(`value`)&&M.push(A.valueLabel)),A.currentPath=i.currentPath=l.getPath(i.data),N(`current path`)&&!b&&M.push(A.currentPath);var P,F=[],I=function(){F.indexOf(P)===-1&&(M.push(P),F.push(P))};A.percentParent=i.percentParent=S/l.getValue(x),A.parent=i.parentString=l.getPtLabel(x),N(`percent parent`)&&(P=l.formatPercent(A.percentParent,E)+` of `+A.parent,I()),A.percentEntry=i.percentEntry=S/l.getValue(t),A.entry=i.entry=l.getPtLabel(t),N(`percent entry`)&&!b&&!i.onPathbar&&(P=l.formatPercent(A.percentEntry,E)+` of `+A.entry,I()),A.percentRoot=i.percentRoot=S/l.getValue(h),A.root=i.root=l.getPtLabel(h),N(`percent root`)&&!b&&(P=l.formatPercent(A.percentRoot,E)+` of `+A.root,I()),A.text=C(`hovertext`)||C(`text`),N(`text`)&&(P=A.text,s.isValidTextValue(P)&&M.push(P)),D=[d(i,c,f.eventDataKeys)];var L={trace:c,y:k,_x0:i._x0,_x1:i._x1,_y0:i._y0,_y1:i._y1,text:M.join(`<br>`),name:w||N(`name`)?c.name:void 0,color:C(`hoverlabel.bgcolor`)||v.color,borderColor:C(`hoverlabel.bordercolor`),fontFamily:C(`hoverlabel.font.family`),fontSize:C(`hoverlabel.font.size`),fontColor:C(`hoverlabel.font.color`),nameLength:C(`hoverlabel.namelength`),textAlign:C(`hoverlabel.align`),hovertemplate:w,hovertemplateLabels:A,eventData:D};g&&(L.x0=O-i.rInscribed*i.rpx1,L.x1=O+i.rInscribed*i.rpx1,L.idealAlign=i.pxmid[0]<0?`left`:`right`),_&&(L.x=O,L.idealAlign=O<0?`left`:`right`);var R=[];o.loneHover(L,{container:a._hoverlayer.node(),outerContainer:a._paper.node(),gd:n,inOut_bbox:R}),D[0].bbox=R[0],m._hasHoverLabel=!0}if(_){var z=e.select(`path.surface`);f.styleOne(z,i,c,{hovered:!0})}m._hasHoverEvent=!0,n.emit(`plotly_hover`,{points:D||[d(i,c,f.eventDataKeys)],event:r.event})}}),e.on(`mouseout`,function(t){var i=n._fullLayout,a=n._fullData[m.index],s=r.select(this).datum();if(m._hasHoverEvent&&=(t.originalEvent=r.event,n.emit(`plotly_unhover`,{points:[d(s,a,f.eventDataKeys)],event:r.event}),!1),m._hasHoverLabel&&=(o.loneUnhover(i._hoverlayer.node()),!1),_){var c=e.select(`path.surface`);f.styleOne(c,s,a,{hovered:!1})}}),e.on(`click`,function(e){var t=n._fullLayout,a=n._fullData[m.index],s=g&&(l.isHierarchyRoot(e)||l.isLeaf(e)),u=l.getPtId(e),p=l.isEntry(e)?l.findEntryWithChild(h,u):l.findEntryWithLevel(h,u),_=l.getPtId(p),v={points:[d(e,a,f.eventDataKeys)],event:r.event};s||(v.nextLevel=_);var y=c.triggerHandler(n,`plotly_`+m.type+`click`,v);if(y!==!1&&t.hovermode&&(n._hoverdata=[d(e,a,f.eventDataKeys)],o.click(n,r.event)),!s&&y!==!1&&!n._dragging&&!n._transitioning){i.call(`_storeDirectGUIEdit`,a,t._tracePreGUI[a.uid],{level:a.level});var b={data:[{level:_}],traces:[m.index]},x={frame:{redraw:!1,duration:f.transitionTime},transition:{duration:f.transitionTime,easing:f.transitionEasing},mode:`immediate`,fromcurrent:!0};o.loneUnhover(t._hoverlayer.node()),i.call(`animate`,n,b,x)}})};function d(e,t,n){for(var r=e.data.data,i={curveNumber:t.index,pointNumber:r.i,data:t._input,fullData:t},o=0;o<n.length;o++){var s=n[o];s in e&&(i[s]=e[s])}return`parentString`in e&&!l.isHierarchyRoot(e)&&(i.parent=e.parentString),a(i,t,r.i),i}}),2791:(function(e,t,n){var r=n(71828),i=n(7901),a=n(6964),o=n(53581);t.findEntryWithLevel=function(e,n){var r;return n&&e.eachAfter(function(e){if(t.getPtId(e)===n)return r=e.copy()}),r||e},t.findEntryWithChild=function(e,n){var r;return e.eachAfter(function(e){for(var i=e.children||[],a=0;a<i.length;a++){var o=i[a];if(t.getPtId(o)===n)return r=e.copy()}}),r||e},t.isEntry=function(e){return!e.parent},t.isLeaf=function(e){return!e.children},t.getPtId=function(e){return e.data.data.id},t.getPtLabel=function(e){return e.data.data.label},t.getValue=function(e){return e.value},t.isHierarchyRoot=function(e){return l(e)===``},t.setSliceCursor=function(e,n,r){var i=r.isTransitioning;if(!i){var o=e.datum();i=r.hideOnRoot&&t.isHierarchyRoot(o)||r.hideOnLeaves&&t.isLeaf(o)}a(e,i?null:`pointer`)};function s(e,n,r){return{color:t.getOutsideTextFontKey(`color`,e,n,r),family:t.getOutsideTextFontKey(`family`,e,n,r),size:t.getOutsideTextFontKey(`size`,e,n,r)}}function c(e,n,a,o){var s=(o||{}).onPathbar,c=n.data.data,l=c.i,u=r.castOption(e,l,(s?`pathbar.textfont`:`insidetextfont`)+`.color`);return!u&&e._input.textfont&&(u=r.castOption(e._input,l,`textfont.color`)),{color:u||i.contrast(c.color),family:t.getInsideTextFontKey(`family`,e,n,a,o),size:t.getInsideTextFontKey(`size`,e,n,a,o)}}t.getInsideTextFontKey=function(e,t,n,i,a){var o=(a||{}).onPathbar?`pathbar.textfont`:`insidetextfont`,s=n.data.data.i;return r.castOption(t,s,o+`.`+e)||r.castOption(t,s,`textfont.`+e)||i.size},t.getOutsideTextFontKey=function(e,t,n,i){var a=n.data.data.i;return r.castOption(t,a,`outsidetextfont.`+e)||r.castOption(t,a,`textfont.`+e)||i.size},t.isOutsideText=function(e,n){return!e._hasColorscale&&t.isHierarchyRoot(n)},t.determineTextFont=function(e,n,r,i){return t.isOutsideText(e,n)?s(e,n,r):c(e,n,r,i)},t.hasTransition=function(e){return!!(e&&e.duration>0)},t.getMaxDepth=function(e){return e.maxdepth>=0?e.maxdepth:1/0},t.isHeader=function(e,n){return!(t.isLeaf(e)||e.depth===n._maxDepth-1)};function l(e){return e.data.data.pid}t.getParent=function(e,n){return t.findEntryWithLevel(e,l(n))},t.listPath=function(e,n){var r=e.parent;if(!r)return[];var i=n?[r.data[n]]:[r];return t.listPath(r,n).concat(i)},t.getPath=function(e){return t.listPath(e,`label`).join(`/`)+`/`},t.formatValue=o.formatPieValue,t.formatPercent=function(e,t){var n=r.formatPercent(e,0);return n===`0%`&&(n=o.formatPiePercent(e,t)),n}}),87619:(function(e,t,n){e.exports={moduleType:`trace`,name:`sunburst`,basePlotModule:n(66888),categories:[],animatable:!0,attributes:n(57564),layoutAttributes:n(2654),supplyDefaults:n(17094),supplyLayoutDefaults:n(57034),calc:n(52147).calc,crossTraceCalc:n(52147).crossTraceCalc,plot:n(24714).plot,style:n(29969).style,colorbar:n(4898),meta:{}}}),2654:(function(e){e.exports={sunburstcolorway:{valType:`colorlist`,editType:`calc`},extendsunburstcolors:{valType:`boolean`,dflt:!0,editType:`calc`}}}),57034:(function(e,t,n){var r=n(71828),i=n(2654);e.exports=function(e,t){function n(n,a){return r.coerce(e,t,i,n,a)}n(`sunburstcolorway`,t.colorway),n(`extendsunburstcolors`)}}),24714:(function(e,t,n){var r=n(39898),i=n(674),a=n(81684).sX,o=n(91424),s=n(71828),c=n(63893),l=n(72597),u=l.recordMinTextSize,d=l.clearMinTextSize,f=n(14575),p=n(53581).getRotationAngle,m=f.computeTransform,h=f.transformInsideText,g=n(29969).styleOne,_=n(16688).resizeText,v=n(83523),y=n(7055),b=n(2791);t.plot=function(e,t,n,i){var a=e._fullLayout,o=a._sunburstlayer,s,c,l=!n,u=!a.uniformtext.mode&&b.hasTransition(n);d(`sunburst`,a),s=o.selectAll(`g.trace.sunburst`).data(t,function(e){return e[0].trace.uid}),s.enter().append(`g`).classed(`trace`,!0).classed(`sunburst`,!0).attr(`stroke-linejoin`,`round`),s.order(),u?(i&&(c=i()),r.transition().duration(n.duration).ease(n.easing).each(`end`,function(){c&&c()}).each(`interrupt`,function(){c&&c()}).each(function(){o.selectAll(`g.trace`).each(function(t){x(e,t,this,n)})})):(s.each(function(t){x(e,t,this,n)}),a.uniformtext.mode&&_(e,a._sunburstlayer.selectAll(`.trace`),`sunburst`)),l&&s.exit().remove()};function x(e,n,i,l){var d=e._context.staticPlot,f=e._fullLayout,_=!f.uniformtext.mode&&b.hasTransition(l),x=r.select(i).selectAll(`g.slice`),T=n[0],E=T.trace,D=T.hierarchy,O=b.findEntryWithLevel(D,E.level),k=b.getMaxDepth(E),A=f._size,j=E.domain,M=A.w*(j.x[1]-j.x[0]),N=A.h*(j.y[1]-j.y[0]),P=.5*Math.min(M,N),F=T.cx=A.l+A.w*(j.x[1]+j.x[0])/2,I=T.cy=A.t+A.h*(1-j.y[0])-N/2;if(!O)return x.remove();var L=null,R={};_&&x.each(function(e){R[b.getPtId(e)]={rpx0:e.rpx0,rpx1:e.rpx1,x0:e.x0,x1:e.x1,transform:e.transform},!L&&b.isEntry(e)&&(L=e)});var z=S(O).descendants(),B=O.height+1,V=0,H=k;T.hasMultipleRoots&&b.isHierarchyRoot(O)&&(z=z.slice(1),--B,V=1,H+=1),z=z.filter(function(e){return e.y1<=H});var U=p(E.rotation);U&&z.forEach(function(e){e.x0+=U,e.x1+=U});var W=Math.min(B,k),G=function(e){return(e-V)/W*P},K=function(e,t){return[e*Math.cos(t),-e*Math.sin(t)]},ee=function(e){return s.pathAnnulus(e.rpx0,e.rpx1,e.x0,e.x1,F,I)},q=function(e){return F+w(e)[0]*(e.transform.rCenter||0)+(e.transform.x||0)},J=function(e){return I+w(e)[1]*(e.transform.rCenter||0)+(e.transform.y||0)};x=x.data(z,b.getPtId),x.enter().append(`g`).classed(`slice`,!0),_?x.exit().transition().each(function(){var e=r.select(this);e.select(`path.surface`).transition().attrTween(`d`,function(e){var t=re(e);return function(e){return ee(t(e))}}),e.select(`g.slicetext`).attr(`opacity`,0)}).remove():x.exit().remove(),x.order();var Y=null;if(_&&L){var te=b.getPtId(L);x.each(function(e){Y===null&&b.getPtId(e)===te&&(Y=e.x1)})}var ne=x;_&&(ne=ne.transition().each(`end`,function(){var t=r.select(this);b.setSliceCursor(t,e,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),ne.each(function(i){var a=r.select(this),l=s.ensureSingle(a,`path`,`surface`,function(e){e.style(`pointer-events`,d?`none`:`all`)});i.rpx0=G(i.y0),i.rpx1=G(i.y1),i.xmid=(i.x0+i.x1)/2,i.pxmid=K(i.rpx1,i.xmid),i.midangle=-(i.xmid-Math.PI/2),i.startangle=-(i.x0-Math.PI/2),i.stopangle=-(i.x1-Math.PI/2),i.halfangle=.5*Math.min(s.angleDelta(i.x0,i.x1)||Math.PI,Math.PI),i.ring=1-i.rpx0/i.rpx1,i.rInscribed=C(i,E),_?l.transition().attrTween(`d`,function(e){var t=ie(e);return function(e){return ee(t(e))}}):l.attr(`d`,ee),a.call(v,O,e,n,{eventDataKeys:y.eventDataKeys,transitionTime:y.CLICK_TRANSITION_TIME,transitionEasing:y.CLICK_TRANSITION_EASING}).call(b.setSliceCursor,e,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:e._transitioning}),l.call(g,i,E);var p=s.ensureSingle(a,`g`,`slicetext`),x=s.ensureSingle(p,`text`,``,function(e){e.attr(`data-notex`,1)}),S=s.ensureUniformFontSize(e,b.determineTextFont(E,i,f.font));x.text(t.formatSliceLabel(i,O,E,n,f)).classed(`slicetext`,!0).attr(`text-anchor`,`middle`).call(o.font,S).call(c.convertToTspans,e);var w=o.bBox(x.node());i.transform=h(w,i,T),i.transform.targetX=q(i),i.transform.targetY=J(i);var D=function(e,t){var n=e.transform;return m(n,t),n.fontSize=S.size,u(E.type,n,f),s.getTextTransform(n)};_?x.transition().attrTween(`transform`,function(e){var t=ae(e);return function(e){return D(t(e),w)}}):x.attr(`transform`,D(i,w))});function re(e){var t=b.getPtId(e),n=R[t],r=R[b.getPtId(O)],i;if(r){var o=(e.x1>r.x1?2*Math.PI:0)+U;i=e.rpx1<r.rpx1?{x0:e.x0,x1:e.x1,rpx0:0,rpx1:0}:{x0:o,x1:o,rpx0:e.rpx0,rpx1:e.rpx1}}else{var s,c=b.getPtId(e.parent);x.each(function(e){if(b.getPtId(e)===c)return s=e});var l=s.children,u;l.forEach(function(e,n){if(b.getPtId(e)===t)return u=n});var d=l.length,f=a(s.x0,s.x1);i={rpx0:P,rpx1:P,x0:f(u/d),x1:f((u+1)/d)}}return a(n,i)}function ie(e){var t=R[b.getPtId(e)],n,r={x0:e.x0,x1:e.x1,rpx0:e.rpx0,rpx1:e.rpx1};if(t)n=t;else if(L)if(e.parent)if(Y){var i=(e.x1>Y?2*Math.PI:0)+U;n={x0:i,x1:i}}else n={rpx0:P,rpx1:P},s.extendFlat(n,oe(e));else n={rpx0:0,rpx1:0};else n={x0:U,x1:U};return a(n,r)}function ae(e){var t=R[b.getPtId(e)],n,r=e.transform;t?n=t:(n={rpx1:e.rpx1,transform:{textPosAngle:r.textPosAngle,scale:0,rotate:r.rotate,rCenter:r.rCenter,x:r.x,y:r.y}},L&&e.parent?Y?n.x0=n.x1=e.x1>Y?2*Math.PI:0:s.extendFlat(n,oe(e)):n.x0=n.x1=U);var i=a(n.transform.textPosAngle,e.transform.textPosAngle),o=a(n.rpx1,e.rpx1),c=a(n.x0,e.x0),l=a(n.x1,e.x1),d=a(n.transform.scale,r.scale),p=a(n.transform.rotate,r.rotate),m=r.rCenter===0?3:n.transform.rCenter===0?1/3:1,h=a(n.transform.rCenter,r.rCenter),g=function(e){return h(e**+m)};return function(e){var t=o(e),n=c(e),a=l(e),s=g(e),m={pxmid:K(t,(n+a)/2),rpx1:t,transform:{textPosAngle:i(e),rCenter:s,x:r.x,y:r.y}};return u(E.type,r,f),{transform:{targetX:q(m),targetY:J(m),scale:d(e),rotate:p(e),rCenter:s}}}}function oe(e){var t=e.parent,n=R[b.getPtId(t)],r={};if(n){var i=t.children,o=i.indexOf(e),s=i.length,c=a(n.x0,n.x1);r.x0=c(o/s),r.x1=c(o/s)}else r.x0=r.x1=0;return r}}function S(e){return i.partition().size([2*Math.PI,e.height+1])(e)}t.formatSliceLabel=function(e,t,n,r,i){var a=n.texttemplate,o=n.textinfo;if(!a&&(!o||o===`none`))return``;var c=i.separators,l=r[0],u=e.data.data,d=l.hierarchy,f=b.isHierarchyRoot(e),p=b.getParent(d,e),m=b.getValue(e);if(!a){var h=o.split(`+`),g=function(e){return h.indexOf(e)!==-1},_=[],v;if(g(`label`)&&u.label&&_.push(u.label),u.hasOwnProperty(`v`)&&g(`value`)&&_.push(b.formatValue(u.v,c)),!f){g(`current path`)&&_.push(b.getPath(e.data));var y=0;g(`percent parent`)&&y++,g(`percent entry`)&&y++,g(`percent root`)&&y++;var x=y>1;if(y){var S,C=function(e){v=b.formatPercent(S,c),x&&(v+=` of `+e),_.push(v)};g(`percent parent`)&&!f&&(S=m/b.getValue(p),C(`parent`)),g(`percent entry`)&&(S=m/b.getValue(t),C(`entry`)),g(`percent root`)&&(S=m/b.getValue(d),C(`root`))}}return g(`text`)&&(v=s.castOption(n,u.i,`text`),s.isValidTextValue(v)&&_.push(v)),_.join(`<br>`)}var w=s.castOption(n,u.i,`texttemplate`);if(!w)return``;var T={};u.label&&(T.label=u.label),u.hasOwnProperty(`v`)&&(T.value=u.v,T.valueLabel=b.formatValue(u.v,c)),T.currentPath=b.getPath(e.data),f||(T.percentParent=m/b.getValue(p),T.percentParentLabel=b.formatPercent(T.percentParent,c),T.parent=b.getPtLabel(p)),T.percentEntry=m/b.getValue(t),T.percentEntryLabel=b.formatPercent(T.percentEntry,c),T.entry=b.getPtLabel(t),T.percentRoot=m/b.getValue(d),T.percentRootLabel=b.formatPercent(T.percentRoot,c),T.root=b.getPtLabel(d),u.hasOwnProperty(`color`)&&(T.color=u.color);var E=s.castOption(n,u.i,`text`);return(s.isValidTextValue(E)||E===``)&&(T.text=E),T.customdata=s.castOption(n,u.i,`customdata`),s.texttemplateString(w,T,i._d3locale,T,n._meta||{})};function C(e){return e.rpx0===0&&s.isFullCircle([e.x0,e.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(e.halfangle)),e.ring/2))}function w(e){return T(e.rpx1,e.transform.textPosAngle)}function T(e,t){return[e*Math.sin(t),-e*Math.cos(t)]}}),29969:(function(e,t,n){var r=n(39898),i=n(7901),a=n(71828),o=n(72597).resizeText;function s(e){var t=e._fullLayout._sunburstlayer.selectAll(`.trace`);o(e,t,`sunburst`),t.each(function(e){var t=r.select(this),n=e[0].trace;t.style(`opacity`,n.opacity),t.selectAll(`path.surface`).each(function(e){r.select(this).call(c,e,n)})})}function c(e,t,n){var r=t.data.data,o=!t.children,s=r.i,c=a.castOption(n,s,`marker.line.color`)||i.defaultLine,l=a.castOption(n,s,`marker.line.width`)||0;e.style(`stroke-width`,l).call(i.fill,r.color).call(i.stroke,c).style(`opacity`,o?n.leaf.opacity:null)}e.exports={style:s,styleOne:c}}),54532:(function(e,t,n){var r=n(7901),i=n(50693),a=n(12663).axisHoverFormat,o=n(5386).f,s=n(9012),c=n(1426).extendFlat,l=n(30962).overrideAll;function u(e){return{valType:`boolean`,dflt:!1}}function d(e){return{show:{valType:`boolean`,dflt:!1},start:{valType:`number`,dflt:null,editType:`plot`},end:{valType:`number`,dflt:null,editType:`plot`},size:{valType:`number`,dflt:null,min:0,editType:`plot`},project:{x:u(`x`),y:u(`y`),z:u(`z`)},color:{valType:`color`,dflt:r.defaultLine},usecolormap:{valType:`boolean`,dflt:!1},width:{valType:`number`,min:1,max:16,dflt:2},highlight:{valType:`boolean`,dflt:!0},highlightcolor:{valType:`color`,dflt:r.defaultLine},highlightwidth:{valType:`number`,min:1,max:16,dflt:2}}}var f=e.exports=l(c({z:{valType:`data_array`},x:{valType:`data_array`},y:{valType:`data_array`},text:{valType:`string`,dflt:``,arrayOk:!0},hovertext:{valType:`string`,dflt:``,arrayOk:!0},hovertemplate:o(),xhoverformat:a(`x`),yhoverformat:a(`y`),zhoverformat:a(`z`),connectgaps:{valType:`boolean`,dflt:!1,editType:`calc`},surfacecolor:{valType:`data_array`}},i(``,{colorAttr:`z or surfacecolor`,showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:`calc`}),{contours:{x:d(`x`),y:d(`y`),z:d(`z`)},hidesurface:{valType:`boolean`,dflt:!1},lightposition:{x:{valType:`number`,min:-1e5,max:1e5,dflt:10},y:{valType:`number`,min:-1e5,max:1e5,dflt:1e4},z:{valType:`number`,min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:`number`,min:0,max:1,dflt:.8},diffuse:{valType:`number`,min:0,max:1,dflt:.8},specular:{valType:`number`,min:0,max:2,dflt:.05},roughness:{valType:`number`,min:0,max:1,dflt:.5},fresnel:{valType:`number`,min:0,max:5,dflt:.2}},opacity:{valType:`number`,min:0,max:1,dflt:1},opacityscale:{valType:`any`,editType:`calc`},_deprecated:{zauto:c({},i.zauto,{}),zmin:c({},i.zmin,{}),zmax:c({},i.zmax,{})},hoverinfo:c({},s.hoverinfo),showlegend:c({},s.showlegend,{dflt:!1})}),`calc`,`nested`);f.x.editType=f.y.editType=f.z.editType=`calc+clearAxisTypes`,f.transforms=void 0}),18396:(function(e,t,n){var r=n(78803);e.exports=function(e,t){t.surfacecolor?r(e,t,{vals:t.surfacecolor,containerStr:``,cLetter:`c`}):r(e,t,{vals:t.z,containerStr:``,cLetter:`c`})}}),43768:(function(e,t,n){var r=n(9330).gl_surface3d,i=n(9330).ndarray,a=n(9330).ndarray_linear_interpolate.d2,o=n(824),s=n(43907),c=n(71828).isArrayOrTypedArray,l=n(81697).parseColorScale,u=n(78614),d=n(21081).extractOpts;function f(e,t,n){this.scene=e,this.uid=n,this.surface=t,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var p=f.prototype;p.getXat=function(e,t,n,r){var i=c(this.data.x)?c(this.data.x[0])?this.data.x[t][e]:this.data.x[e]:e;return n===void 0?i:r.d2l(i,0,n)},p.getYat=function(e,t,n,r){var i=c(this.data.y)?c(this.data.y[0])?this.data.y[t][e]:this.data.y[t]:t;return n===void 0?i:r.d2l(i,0,n)},p.getZat=function(e,t,n,r){var i=this.data.z[t][e];return i===null&&this.data.connectgaps&&this.data._interpolatedZ&&(i=this.data._interpolatedZ[t][e]),n===void 0?i:r.d2l(i,0,n)},p.handlePick=function(e){if(e.object===this.surface){var t=(e.data.index[0]-1)/this.dataScaleX-1,n=(e.data.index[1]-1)/this.dataScaleY-1,r=Math.max(Math.min(Math.round(t),this.data.z[0].length-1),0),i=Math.max(Math.min(Math.round(n),this.data._ylength-1),0);e.index=[r,i],e.traceCoordinate=[this.getXat(r,i),this.getYat(r,i),this.getZat(r,i)],e.dataCoordinate=[this.getXat(r,i,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(r,i,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(r,i,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var a=0;a<3;a++)e.dataCoordinate[a]!=null&&(e.dataCoordinate[a]*=this.scene.dataScale[a]);var o=this.data.hovertext||this.data.text;return Array.isArray(o)&&o[i]&&o[i][r]!==void 0?e.textLabel=o[i][r]:o?e.textLabel=o:e.textLabel=``,e.data.dataCoordinate=e.dataCoordinate.slice(),this.surface.highlight(e.data),this.scene.glplot.spikes.position=e.dataCoordinate,!0}};function m(e){var t=e[0].rgb,n=e[e.length-1].rgb;return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}var h=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function g(e,t){if(e<t)return 0;for(var n=0;Math.floor(e%t)===0;)e/=t,n++;return n}function _(e){for(var t=[],n=0;n<h.length;n++){var r=h[n];t.push(g(e,r))}return t}function v(e){for(var t=_(e),n=e,r=0;r<h.length;r++)if(t[r]>0){n=h[r];break}return n}function y(e,t){if(!(e<1||t<1)){for(var n=_(e),r=_(t),i=1,a=0;a<h.length;a++)i*=h[a]**+Math.max(n[a],r[a]);return i}}function b(e){if(e.length!==0){for(var t=1,n=0;n<e.length;n++)t=y(t,e[n]);return t}}p.calcXnums=function(e){var t,n=[];for(t=1;t<e;t++){var r=this.getXat(t-1,0),i=this.getXat(t,0);i!==r&&r!=null&&i!=null?n[t-1]=Math.abs(i-r):n[t-1]=0}var a=0;for(t=1;t<e;t++)a+=n[t-1];for(t=1;t<e;t++)n[t-1]===0?n[t-1]=1:n[t-1]=Math.round(a/n[t-1]);return n},p.calcYnums=function(e){var t,n=[];for(t=1;t<e;t++){var r=this.getYat(0,t-1),i=this.getYat(0,t);i!==r&&r!=null&&i!=null?n[t-1]=Math.abs(i-r):n[t-1]=0}var a=0;for(t=1;t<e;t++)a+=n[t-1];for(t=1;t<e;t++)n[t-1]===0?n[t-1]=1:n[t-1]=Math.round(a/n[t-1]);return n};var x=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],S=x[9],C=x[13];p.estimateScale=function(e,t){for(var n=1+b(t===0?this.calcXnums(e):this.calcYnums(e));n<S;)n*=2;for(;n>C;)n--,n/=v(n),n++,n<S&&(n=C);var r=Math.round(n/e);return r>1?r:1};function w(e,t,n){var r=n[8]+n[2]*t[0]+n[5]*t[1];return e[0]=(n[6]+n[0]*t[0]+n[3]*t[1])/r,e[1]=(n[7]+n[1]*t[0]+n[4]*t[1])/r,e}function T(e,t,n){return E(e,t,w,n),e}function E(e,t,n,r){for(var i=[0,0],o=e.shape[0],s=e.shape[1],c=0;c<o;c++)for(var l=0;l<s;l++)n(i,[c,l],r),e.set(c,l,a(t,i[0],i[1]));return e}p.refineCoords=function(e){for(var t=this.dataScaleX,n=this.dataScaleY,r=e[0].shape[0],a=e[0].shape[1],o=Math.floor(e[0].shape[0]*t+1)|0,s=Math.floor(e[0].shape[1]*n+1)|0,c=1+r+1,l=1+a+1,u=i(new Float32Array(c*l),[c,l]),d=[1/t,0,0,0,1/n,0,0,0,1],f=0;f<e.length;++f){this.surface.padField(u,e[f]);var p=i(new Float32Array(o*s),[o,s]);T(p,u,d),e[f]=p}};function D(e,t){for(var n=!1,r=0;r<e.length;r++)if(t===e[r]){n=!0;break}n===!1&&e.push(t)}p.setContourLevels=function(){var e=[[],[],[]],t=[!1,!1,!1],n=!1,r,i,a;for(r=0;r<3;++r)if(this.showContour[r]&&(n=!0,this.contourSize[r]>0&&this.contourStart[r]!==null&&this.contourEnd[r]!==null&&this.contourEnd[r]>this.contourStart[r]))for(t[r]=!0,i=this.contourStart[r];i<this.contourEnd[r];i+=this.contourSize[r])a=i*this.scene.dataScale[r],D(e[r],a);if(n){var o=[[],[],[]];for(r=0;r<3;++r)this.showContour[r]&&(o[r]=t[r]?e[r]:this.scene.contourLevels[r]);this.surface.update({levels:o})}},p.update=function(e){var t=this.scene,n=t.fullSceneLayout,r=this.surface,a=l(e),c=t.dataScale,f=e.z[0].length,p=e._ylength,h=t.contourLevels;this.data=e;var g,_,v,y,b=[];for(g=0;g<3;g++)for(b[g]=[],_=0;_<f;_++)b[g][_]=[];for(_=0;_<f;_++)for(v=0;v<p;v++)b[0][_][v]=this.getXat(_,v,e.xcalendar,n.xaxis),b[1][_][v]=this.getYat(_,v,e.ycalendar,n.yaxis),b[2][_][v]=this.getZat(_,v,e.zcalendar,n.zaxis);if(e.connectgaps)for(e._emptypoints=s(b[2]),o(b[2],e._emptypoints),e._interpolatedZ=[],_=0;_<f;_++)for(e._interpolatedZ[_]=[],v=0;v<p;v++)e._interpolatedZ[_][v]=b[2][_][v];for(g=0;g<3;g++)for(_=0;_<f;_++)for(v=0;v<p;v++)y=b[g][_][v],y==null?b[g][_][v]=NaN:y=b[g][_][v]*=c[g];for(g=0;g<3;g++)for(_=0;_<f;_++)for(v=0;v<p;v++)y=b[g][_][v],y!=null&&(this.minValues[g]>y&&(this.minValues[g]=y),this.maxValues[g]<y&&(this.maxValues[g]=y));for(g=0;g<3;g++)this.objectOffset[g]=.5*(this.minValues[g]+this.maxValues[g]);for(g=0;g<3;g++)for(_=0;_<f;_++)for(v=0;v<p;v++)y=b[g][_][v],y!=null&&(b[g][_][v]-=this.objectOffset[g]);var x=[i(new Float32Array(f*p),[f,p]),i(new Float32Array(f*p),[f,p]),i(new Float32Array(f*p),[f,p])];for(g=0;g<3;g++)for(_=0;_<f;_++)for(v=0;v<p;v++)x[g].set(_,v,b[g][_][v]);b=[];var S={colormap:a,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!e.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:e.opacityscale,opacity:e.opacity},w=d(e);if(S.intensityBounds=[w.min,w.max],e.surfacecolor){var T=i(new Float32Array(f*p),[f,p]);for(_=0;_<f;_++)for(v=0;v<p;v++)T.set(_,v,e.surfacecolor[v][_]);x.push(T)}else S.intensityBounds[0]*=c[2],S.intensityBounds[1]*=c[2];(C<x[0].shape[0]||C<x[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(x[0].shape[0],0),this.dataScaleY=this.estimateScale(x[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(x)),e.surfacecolor&&(S.intensity=x.pop());var E=[!0,!0,!0],D=[`x`,`y`,`z`];for(g=0;g<3;++g){var O=e.contours[D[g]];E[g]=O.highlight,S.showContour[g]=O.show||O.highlight,S.showContour[g]&&(S.contourProject[g]=[O.project.x,O.project.y,O.project.z],O.show?(this.showContour[g]=!0,S.levels[g]=h[g],r.highlightColor[g]=S.contourColor[g]=u(O.color),O.usecolormap?r.highlightTint[g]=S.contourTint[g]=0:r.highlightTint[g]=S.contourTint[g]=1,S.contourWidth[g]=O.width,this.contourStart[g]=O.start,this.contourEnd[g]=O.end,this.contourSize[g]=O.size):(this.showContour[g]=!1,this.contourStart[g]=null,this.contourEnd[g]=null,this.contourSize[g]=0),O.highlight&&(S.dynamicColor[g]=u(O.highlightcolor),S.dynamicWidth[g]=O.highlightwidth))}m(a)&&(S.vertexColor=!0),S.objectOffset=this.objectOffset,S.coords=x,r.update(S),r.visible=e.visible,r.enableDynamic=E,r.enableHighlight=E,r.snapToData=!0,`lighting`in e&&(r.ambientLight=e.lighting.ambient,r.diffuseLight=e.lighting.diffuse,r.specularLight=e.lighting.specular,r.roughness=e.lighting.roughness,r.fresnel=e.lighting.fresnel),`lightposition`in e&&(r.lightPosition=[e.lightposition.x,e.lightposition.y,e.lightposition.z])},p.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function O(e,t){var n=e.glplot.gl,i=r({gl:n}),a=new f(e,i,t.uid);return i._trace=a,a.update(t),e.glplot.add(i),a}e.exports=O}),91831:(function(e,t,n){var r=n(73972),i=n(71828),a=n(1586),o=n(54532),s=.1;function c(e,t){for(var n=[],r=32,i=0;i<r;i++){var a=i/(r-1),o=t+(1-t)*(1-Math.sin(e*a*Math.PI)**2);n.push([a,Math.max(0,Math.min(1,o))])}return n}function l(e){var t=0;if(!Array.isArray(e)||e.length<2||!e[0]||!e[e.length-1]||+e[0][0]!=0||+e[e.length-1][0]!=1)return!1;for(var n=0;n<e.length;n++){var r=e[n];if(r.length!==2||+r[0]<t)return!1;t=+r[0]}return!0}function u(e,t,n,s){var c,l;function u(n,r){return i.coerce(e,t,o,n,r)}var p=u(`x`),m=u(`y`),h=u(`z`);if(!h||!h.length||p&&p.length<1||m&&m.length<1){t.visible=!1;return}t._xlength=Array.isArray(p)&&i.isArrayOrTypedArray(p[0])?h.length:h[0].length,t._ylength=h.length,r.getComponentMethod(`calendars`,`handleTraceDefaults`)(e,t,[`x`,`y`,`z`],s),u(`text`),u(`hovertext`),u(`hovertemplate`),u(`xhoverformat`),u(`yhoverformat`),u(`zhoverformat`),[`lighting.ambient`,`lighting.diffuse`,`lighting.specular`,`lighting.roughness`,`lighting.fresnel`,`lightposition.x`,`lightposition.y`,`lightposition.z`,`hidesurface`,`connectgaps`,`opacity`].forEach(function(e){u(e)});var g=u(`surfacecolor`),_=[`x`,`y`,`z`];for(c=0;c<3;++c){var v=`contours.`+_[c],y=u(v+`.show`),b=u(v+`.highlight`);if(y||b)for(l=0;l<3;++l)u(v+`.project.`+_[l]);y&&(u(v+`.color`),u(v+`.width`),u(v+`.usecolormap`)),b&&(u(v+`.highlightcolor`),u(v+`.highlightwidth`)),u(v+`.start`),u(v+`.end`),u(v+`.size`)}g||(f(e,`zmin`,`cmin`),f(e,`zmax`,`cmax`),f(e,`zauto`,`cauto`)),a(e,t,s,u,{prefix:``,cLetter:`c`}),d(e,t,s,u),t._length=null}function d(e,t,n,r){var i=r(`opacityscale`);i===`max`?t.opacityscale=[[0,s],[1,1]]:i===`min`?t.opacityscale=[[0,1],[1,s]]:i===`extremes`?t.opacityscale=c(1,s):l(i)||(t.opacityscale=void 0)}function f(e,t,n){t in e&&!(n in e)&&(e[n]=e[t])}e.exports={supplyDefaults:u,opacityscaleDefaults:d}}),93601:(function(e,t,n){e.exports={attributes:n(54532),supplyDefaults:n(91831).supplyDefaults,colorbar:{min:`cmin`,max:`cmax`},calc:n(18396),plot:n(43768),moduleType:`trace`,name:`surface`,basePlotModule:n(58547),categories:[`gl3d`,`2dMap`,`showLegend`],meta:{}}}),44464:(function(e,t,n){var r=n(50215),i=n(1426).extendFlat,a=n(30962).overrideAll,o=n(41940),s=n(27670).Y,c=n(12663).descriptionOnlyNumbers,l=e.exports=a({domain:s({name:`table`,trace:!0}),columnwidth:{valType:`number`,arrayOk:!0,dflt:null},columnorder:{valType:`data_array`},header:{values:{valType:`data_array`,dflt:[]},format:{valType:`data_array`,dflt:[],description:c(`cell value`)},prefix:{valType:`string`,arrayOk:!0,dflt:null},suffix:{valType:`string`,arrayOk:!0,dflt:null},height:{valType:`number`,dflt:28},align:i({},r.align,{arrayOk:!0}),line:{width:{valType:`number`,arrayOk:!0,dflt:1},color:{valType:`color`,arrayOk:!0,dflt:`grey`}},fill:{color:{valType:`color`,arrayOk:!0,dflt:`white`}},font:i({},o({arrayOk:!0}))},cells:{values:{valType:`data_array`,dflt:[]},format:{valType:`data_array`,dflt:[],description:c(`cell value`)},prefix:{valType:`string`,arrayOk:!0,dflt:null},suffix:{valType:`string`,arrayOk:!0,dflt:null},height:{valType:`number`,dflt:20},align:i({},r.align,{arrayOk:!0}),line:{width:{valType:`number`,arrayOk:!0,dflt:1},color:{valType:`color`,arrayOk:!0,dflt:`grey`}},fill:{color:{valType:`color`,arrayOk:!0,dflt:`white`}},font:i({},o({arrayOk:!0}))}},`calc`,`from-root`);l.transforms=void 0}),99469:(function(e,t,n){var r=n(27659).a0,i=n(36736),a=`table`;t.name=a,t.plot=function(e){var t=r(e.calcdata,a)[0];t.length&&i(e,t)},t.clean=function(e,t,n,r){var i=r._has&&r._has(a),o=t._has&&t._has(a);i&&!o&&r._paperdiv.selectAll(`.table`).remove()}}),76333:(function(e,t,n){var r=n(28984).wrap;e.exports=function(){return r({})}}),49850:(function(e){e.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:`<br>`,maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:`cubic-out`,scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:`cubic-out`,uplift:5,wrapSpacer:` `,wrapSplitCharacter:` `,cn:{table:`table`,tableControlView:`table-control-view`,scrollBackground:`scroll-background`,yColumn:`y-column`,columnBlock:`column-block`,scrollAreaClip:`scroll-area-clip`,scrollAreaClipRect:`scroll-area-clip-rect`,columnBoundary:`column-boundary`,columnBoundaryClippath:`column-boundary-clippath`,columnBoundaryRect:`column-boundary-rect`,columnCells:`column-cells`,columnCell:`column-cell`,cellRect:`cell-rect`,cellText:`cell-text`,cellTextHolder:`cell-text-holder`,scrollbarKit:`scrollbar-kit`,scrollbar:`scrollbar`,scrollbarSlider:`scrollbar-slider`,scrollbarGlyph:`scrollbar-glyph`,scrollbarCaptureZone:`scrollbar-capture-zone`}}}),51018:(function(e,t,n){var r=n(49850),i=n(1426).extendFlat,a=n(92770);e.exports=function(e,t){var n=c(t.cells.values),p=function(e){return e.slice(t.header.values.length,e.length)},m=c(t.header.values);m.length&&!m[0].length&&(m[0]=[``],m=c(m));var h=m.concat(p(n).map(function(){return l((m[0]||[``]).length)})),g=t.domain,_=Math.floor(e._fullLayout._size.w*(g.x[1]-g.x[0])),v=Math.floor(e._fullLayout._size.h*(g.y[1]-g.y[0])),y=t.header.values.length?h[0].map(function(){return t.header.height}):[r.emptyHeaderHeight],b=n.length?n[0].map(function(){return t.cells.height}):[],x=y.reduce(s,0),S=f(b,v-x+r.uplift),C=d(f(y,x),[]),w=d(S,C),T={},E=t._fullInput.columnorder.concat(p(n.map(function(e,t){return t}))),D=h.map(function(e,n){var r=Array.isArray(t.columnwidth)?t.columnwidth[Math.min(n,t.columnwidth.length-1)]:t.columnwidth;return a(r)?Number(r):1}),O=D.reduce(s,0);D=D.map(function(e){return e/O*_});var k=Math.max(o(t.header.line.width),o(t.cells.line.width)),A={key:t.uid+e._context.staticPlot,translateX:g.x[0]*e._fullLayout._size.w,translateY:e._fullLayout._size.h*(1-g.y[1]),size:e._fullLayout._size,width:_,maxLineWidth:k,height:v,columnOrder:E,groupHeight:v,rowBlocks:w,headerRowBlocks:C,scrollY:0,cells:i({},t.cells,{values:n}),headerCells:i({},t.header,{values:h}),gdColumns:h.map(function(e){return e[0]}),gdColumnsOriginalOrder:h.map(function(e){return e[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:h.map(function(e,t){return T[e]=(T[e]||0)+1,{key:e+`__`+T[e],label:e,specIndex:t,xIndex:E[t],xScale:u,x:void 0,calcdata:void 0,columnWidth:D[t]}})};return A.columns.forEach(function(e){e.calcdata=A,e.x=u(e)}),A};function o(e){if(Array.isArray(e)){for(var t=0,n=0;n<e.length;n++)t=Math.max(t,o(e[n]));return t}return e}function s(e,t){return e+t}function c(e){var t=e.slice(),n=1/0,r=0,i;for(i=0;i<t.length;i++)Array.isArray(t[i])||(t[i]=[t[i]]),n=Math.min(n,t[i].length),r=Math.max(r,t[i].length);if(n!==r)for(i=0;i<t.length;i++){var a=r-t[i].length;a&&(t[i]=t[i].concat(l(a)))}return t}function l(e){for(var t=Array(e),n=0;n<e;n++)t[n]=``;return t}function u(e){return e.calcdata.columns.reduce(function(t,n){return n.xIndex<e.xIndex?t+n.columnWidth:t},0)}function d(e,t){return Object.keys(e).map(function(n){return i({},e[n],{auxiliaryBlocks:t})})}function f(e,t){for(var n={},r,i=0,a=0,o=p(),s=0,c=0,l=0;l<e.length;l++)r=e[l],o.rows.push({rowIndex:l,rowHeight:r}),a+=r,(a>=t||l===e.length-1)&&(n[i]=o,o.key=c++,o.firstRowIndex=s,o.lastRowIndex=l,o=p(),i+=a,s=l+1,a=0);return n}function p(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}}),56269:(function(e,t,n){var r=n(1426).extendFlat;t.splitToPanels=function(e){var t=[0,0],n=r({},e,{key:`header`,type:`header`,page:0,prevPages:t,currentRepaint:[null,null],dragHandle:!0,values:e.calcdata.headerCells.values[e.specIndex],rowBlocks:e.calcdata.headerRowBlocks,calcdata:r({},e.calcdata,{cells:e.calcdata.headerCells})});return[r({},e,{key:`cells1`,type:`cells`,page:0,prevPages:t,currentRepaint:[null,null],dragHandle:!1,values:e.calcdata.cells.values[e.specIndex],rowBlocks:e.calcdata.rowBlocks}),r({},e,{key:`cells2`,type:`cells`,page:1,prevPages:t,currentRepaint:[null,null],dragHandle:!1,values:e.calcdata.cells.values[e.specIndex],rowBlocks:e.calcdata.rowBlocks}),n]},t.splitToCells=function(e){var t=i(e);return(e.values||[]).slice(t[0],t[1]).map(function(n,r){return{keyWithinBlock:r+(typeof n==`string`&&n.match(/[<$&> ]/)?`_keybuster_`+Math.random():``),key:t[0]+r,column:e,calcdata:e.calcdata,page:e.page,rowBlocks:e.rowBlocks,value:n}})};function i(e){var t=e.rowBlocks[e.page],n=t?t.rows[0].rowIndex:0;return[n,t?n+t.rows.length:0]}}),39754:(function(e,t,n){var r=n(71828),i=n(44464),a=n(27670).c;function o(e,t){for(var n=e.columnorder||[],r=e.header.values.length,i=n.slice(0,r),a=i.slice().sort(function(e,t){return e-t}),o=i.map(function(e){return a.indexOf(e)}),s=o.length;s<r;s++)o.push(s);t(`columnorder`,o)}e.exports=function(e,t,n,s){function c(n,a){return r.coerce(e,t,i,n,a)}a(t,s,c),c(`columnwidth`),c(`header.values`),c(`header.format`),c(`header.align`),c(`header.prefix`),c(`header.suffix`),c(`header.height`),c(`header.line.width`),c(`header.line.color`),c(`header.fill.color`),r.coerceFont(c,`header.font`,r.extendFlat({},s.font)),o(t,c),c(`cells.values`),c(`cells.format`),c(`cells.align`),c(`cells.prefix`),c(`cells.suffix`),c(`cells.height`),c(`cells.line.width`),c(`cells.line.color`),c(`cells.fill.color`),r.coerceFont(c,`cells.font`,r.extendFlat({},s.font)),t._length=null}}),96595:(function(e,t,n){e.exports={attributes:n(44464),supplyDefaults:n(39754),calc:n(76333),plot:n(36736),moduleType:`trace`,name:`table`,basePlotModule:n(99469),categories:[`noOpacity`],meta:{}}}),36736:(function(e,t,n){var r=n(49850),i=n(39898),a=n(71828).numberFormat,o=n(28984),s=n(91424),c=n(63893),l=n(71828).raiseToTop,u=n(71828).strTranslate,d=n(71828).cancelTransition,f=n(51018),p=n(56269),m=n(7901);e.exports=function(e,t){var n=!e._context.staticPlot,a=e._fullLayout._paper.selectAll(`.`+r.cn.table).data(t.map(function(t){var n=o.unwrap(t).trace;return f(e,n)}),o.keyFun);a.exit().remove(),a.enter().append(`g`).classed(r.cn.table,!0).attr(`overflow`,`visible`).style(`box-sizing`,`content-box`).style(`position`,`absolute`).style(`left`,0).style(`overflow`,`visible`).style(`shape-rendering`,`crispEdges`).style(`pointer-events`,`all`),a.attr(`width`,function(e){return e.width+e.size.l+e.size.r}).attr(`height`,function(e){return e.height+e.size.t+e.size.b}).attr(`transform`,function(e){return u(e.translateX,e.translateY)});var c=a.selectAll(`.`+r.cn.tableControlView).data(o.repeat,o.keyFun),m=c.enter().append(`g`).classed(r.cn.tableControlView,!0).style(`box-sizing`,`content-box`);if(n){var x=`onwheel`in document?`wheel`:`mousewheel`;m.on(`mousemove`,function(t){c.filter(function(e){return t===e}).call(y,e)}).on(x,function(t){t.scrollbarState.wheeling||(t.scrollbarState.wheeling=!0,B(e,c,null,t.scrollY+i.event.deltaY)(t)||(i.event.stopPropagation(),i.event.preventDefault()),t.scrollbarState.wheeling=!1)}).call(y,e,!0)}c.attr(`transform`,function(e){return u(e.size.l,e.size.t)});var S=c.selectAll(`.`+r.cn.scrollBackground).data(o.repeat,o.keyFun);S.enter().append(`rect`).classed(r.cn.scrollBackground,!0).attr(`fill`,`none`),S.attr(`width`,function(e){return e.width}).attr(`height`,function(e){return e.height}),c.each(function(t){s.setClipUrl(i.select(this),g(e,t),e)});var C=c.selectAll(`.`+r.cn.yColumn).data(function(e){return e.columns},o.keyFun);C.enter().append(`g`).classed(r.cn.yColumn,!0),C.exit().remove(),C.attr(`transform`,function(e){return u(e.x,0)}),n&&C.call(i.behavior.drag().origin(function(t){return P(i.select(this),t,-r.uplift),l(this),t.calcdata.columnDragInProgress=!0,y(c.filter(function(e){return t.calcdata.key===e.key}),e),t}).on(`drag`,function(e){var t=i.select(this),n=function(t){return(e===t?i.event.x:t.x)+t.columnWidth/2};e.x=Math.max(-r.overdrag,Math.min(e.calcdata.width+r.overdrag-e.columnWidth,i.event.x)),v(C).filter(function(t){return t.calcdata.key===e.calcdata.key}).sort(function(e,t){return n(e)-n(t)}).forEach(function(t,n){t.xIndex=n,t.x=e===t?t.x:t.xScale(t)}),C.filter(function(t){return e!==t}).transition().ease(r.transitionEase).duration(r.transitionDuration).attr(`transform`,function(e){return u(e.x,0)}),t.call(d).attr(`transform`,u(e.x,-r.uplift))}).on(`dragend`,function(t){var n=i.select(this),r=t.calcdata;t.x=t.xScale(t),t.calcdata.columnDragInProgress=!1,P(n,t,0),M(e,r,r.columns.map(function(e){return e.xIndex}))})),C.each(function(t){s.setClipUrl(i.select(this),_(e,t),e)});var w=C.selectAll(`.`+r.cn.columnBlock).data(p.splitToPanels,o.keyFun);w.enter().append(`g`).classed(r.cn.columnBlock,!0).attr(`id`,function(e){return e.key}),w.style(`cursor`,function(e){return e.dragHandle?`ew-resize`:e.calcdata.scrollbarState.barWiggleRoom?`ns-resize`:`default`});var T=w.filter(I),E=w.filter(F);n&&E.call(i.behavior.drag().origin(function(e){return i.event.stopPropagation(),e}).on(`drag`,B(e,c,-1)).on(`dragend`,function(){})),b(e,c,T,w),b(e,c,E,w);var D=c.selectAll(`.`+r.cn.scrollAreaClip).data(o.repeat,o.keyFun);D.enter().append(`clipPath`).classed(r.cn.scrollAreaClip,!0).attr(`id`,function(t){return g(e,t)});var O=D.selectAll(`.`+r.cn.scrollAreaClipRect).data(o.repeat,o.keyFun);O.enter().append(`rect`).classed(r.cn.scrollAreaClipRect,!0).attr(`x`,-r.overdrag).attr(`y`,-r.uplift).attr(`fill`,`none`),O.attr(`width`,function(e){return e.width+2*r.overdrag}).attr(`height`,function(e){return e.height+r.uplift}),C.selectAll(`.`+r.cn.columnBoundary).data(o.repeat,o.keyFun).enter().append(`g`).classed(r.cn.columnBoundary,!0);var k=C.selectAll(`.`+r.cn.columnBoundaryClippath).data(o.repeat,o.keyFun);k.enter().append(`clipPath`).classed(r.cn.columnBoundaryClippath,!0),k.attr(`id`,function(t){return _(e,t)});var A=k.selectAll(`.`+r.cn.columnBoundaryRect).data(o.repeat,o.keyFun);A.enter().append(`rect`).classed(r.cn.columnBoundaryRect,!0).attr(`fill`,`none`),A.attr(`width`,function(e){return e.columnWidth+2*h(e)}).attr(`height`,function(e){return e.calcdata.height+2*h(e)+r.uplift}).attr(`x`,function(e){return-h(e)}).attr(`y`,function(e){return-h(e)}),z(null,E,c)};function h(e){return Math.ceil(e.calcdata.maxLineWidth/2)}function g(e,t){return`clip`+e._fullLayout._uid+`_scrollAreaBottomClip_`+t.key}function _(e,t){return`clip`+e._fullLayout._uid+`_columnBoundaryClippath_`+t.calcdata.key+`_`+t.specIndex}function v(e){return[].concat.apply([],e.map(function(e){return e})).map(function(e){return e.__data__})}function y(e,t,n){function a(e){var t=e.rowBlocks;return K(t,t.length-1)+(t.length?ee(t[t.length-1],1/0):1)}var s=e.selectAll(`.`+r.cn.scrollbarKit).data(o.repeat,o.keyFun);s.enter().append(`g`).classed(r.cn.scrollbarKit,!0).style(`shape-rendering`,`geometricPrecision`),s.each(function(e){var t=e.scrollbarState;t.totalHeight=a(e),t.scrollableAreaHeight=e.groupHeight-L(e),t.currentlyVisibleHeight=Math.min(t.totalHeight,t.scrollableAreaHeight),t.ratio=t.currentlyVisibleHeight/t.totalHeight,t.barLength=Math.max(t.ratio*t.currentlyVisibleHeight,r.goldenRatio*r.scrollbarWidth),t.barWiggleRoom=t.currentlyVisibleHeight-t.barLength,t.wiggleRoom=Math.max(0,t.totalHeight-t.scrollableAreaHeight),t.topY=t.barWiggleRoom===0?0:e.scrollY/t.wiggleRoom*t.barWiggleRoom,t.bottomY=t.topY+t.barLength,t.dragMultiplier=t.wiggleRoom/t.barWiggleRoom}).attr(`transform`,function(e){return u(e.width+r.scrollbarWidth/2+r.scrollbarOffset,L(e))});var c=s.selectAll(`.`+r.cn.scrollbar).data(o.repeat,o.keyFun);c.enter().append(`g`).classed(r.cn.scrollbar,!0);var l=c.selectAll(`.`+r.cn.scrollbarSlider).data(o.repeat,o.keyFun);l.enter().append(`g`).classed(r.cn.scrollbarSlider,!0),l.attr(`transform`,function(e){return u(0,e.scrollbarState.topY||0)});var d=l.selectAll(`.`+r.cn.scrollbarGlyph).data(o.repeat,o.keyFun);d.enter().append(`line`).classed(r.cn.scrollbarGlyph,!0).attr(`stroke`,`black`).attr(`stroke-width`,r.scrollbarWidth).attr(`stroke-linecap`,`round`).attr(`y1`,r.scrollbarWidth/2),d.attr(`y2`,function(e){return e.scrollbarState.barLength-r.scrollbarWidth/2}).attr(`stroke-opacity`,function(e){return e.columnDragInProgress||!e.scrollbarState.barWiggleRoom||n?0:.4}),d.transition().delay(0).duration(0),d.transition().delay(r.scrollbarHideDelay).duration(r.scrollbarHideDuration).attr(`stroke-opacity`,0);var f=c.selectAll(`.`+r.cn.scrollbarCaptureZone).data(o.repeat,o.keyFun);f.enter().append(`line`).classed(r.cn.scrollbarCaptureZone,!0).attr(`stroke`,`white`).attr(`stroke-opacity`,.01).attr(`stroke-width`,r.scrollbarCaptureWidth).attr(`stroke-linecap`,`butt`).attr(`y1`,0).on(`mousedown`,function(n){var r=i.event.y,a=this.getBoundingClientRect(),o=n.scrollbarState,s=r-a.top,c=i.scale.linear().domain([0,o.scrollableAreaHeight]).range([0,o.totalHeight]).clamp(!0);o.topY<=s&&s<=o.bottomY||B(t,e,null,c(s-o.barLength/2))(n)}).call(i.behavior.drag().origin(function(e){return i.event.stopPropagation(),e.scrollbarState.scrollbarScrollInProgress=!0,e}).on(`drag`,B(t,e)).on(`dragend`,function(){})),f.attr(`y2`,function(e){return e.scrollbarState.scrollableAreaHeight}),t._context.staticPlot&&(d.remove(),f.remove())}function b(e,t,n,r){var i=S(x(n));E(i),O(C(i));var a=w(T(i));D(a),k(a,t,r,e),G(i)}function x(e){var t=e.selectAll(`.`+r.cn.columnCells).data(o.repeat,o.keyFun);return t.enter().append(`g`).classed(r.cn.columnCells,!0),t.exit().remove(),t}function S(e){var t=e.selectAll(`.`+r.cn.columnCell).data(p.splitToCells,function(e){return e.keyWithinBlock});return t.enter().append(`g`).classed(r.cn.columnCell,!0),t.exit().remove(),t}function C(e){var t=e.selectAll(`.`+r.cn.cellRect).data(o.repeat,function(e){return e.keyWithinBlock});return t.enter().append(`rect`).classed(r.cn.cellRect,!0),t}function w(e){var t=e.selectAll(`.`+r.cn.cellText).data(o.repeat,function(e){return e.keyWithinBlock});return t.enter().append(`text`).classed(r.cn.cellText,!0).style(`cursor`,function(){return`auto`}).on(`mousedown`,function(){i.event.stopPropagation()}),t}function T(e){var t=e.selectAll(`.`+r.cn.cellTextHolder).data(o.repeat,function(e){return e.keyWithinBlock});return t.enter().append(`g`).classed(r.cn.cellTextHolder,!0).style(`shape-rendering`,`geometricPrecision`),t}function E(e){e.each(function(e,t){var n=e.calcdata.cells.font,r=e.column.specIndex,i={size:N(n.size,r,t),color:N(n.color,r,t),family:N(n.family,r,t)};e.rowNumber=e.key,e.align=N(e.calcdata.cells.align,r,t),e.cellBorderWidth=N(e.calcdata.cells.line.width,r,t),e.font=i})}function D(e){e.each(function(e){s.font(i.select(this),e.font)})}function O(e){e.attr(`width`,function(e){return e.column.columnWidth}).attr(`stroke-width`,function(e){return e.cellBorderWidth}).each(function(e){var t=i.select(this);m.stroke(t,N(e.calcdata.cells.line.color,e.column.specIndex,e.rowNumber)),m.fill(t,N(e.calcdata.cells.fill.color,e.column.specIndex,e.rowNumber))})}function k(e,t,n,o){e.text(function(e){var t=e.column.specIndex,n=e.rowNumber,i=e.value,o=typeof i==`string`,s=o&&i.match(/<br>/i),c=!o||s;e.mayHaveMarkup=o&&i.match(/[<&>]/);var l=A(i);e.latex=l;var u=l?``:N(e.calcdata.cells.prefix,t,n)||``,d=l?``:N(e.calcdata.cells.suffix,t,n)||``,f=l?null:N(e.calcdata.cells.format,t,n)||null,p=u+(f?a(f)(e.value):e.value)+d,m;e.wrappingNeeded=!e.wrapped&&!c&&!l&&(m=j(p)),e.cellHeightMayIncrease=s||l||e.mayHaveMarkup||(m===void 0?j(p):m),e.needsConvertToTspans=e.mayHaveMarkup||e.wrappingNeeded||e.latex;var h;if(e.wrappingNeeded){var g=(r.wrapSplitCharacter===` `?p.replace(/<a href=/gi,`<a_href=`):p).split(r.wrapSplitCharacter),_=r.wrapSplitCharacter===` `?g.map(function(e){return e.replace(/<a_href=/gi,`<a href=`)}):g;e.fragments=_.map(function(e){return{text:e,width:null}}),e.fragments.push({fragment:r.wrapSpacer,width:null}),h=_.join(r.lineBreaker)+r.lineBreaker+r.wrapSpacer}else delete e.fragments,h=p;return h}).attr(`dy`,function(e){return e.needsConvertToTspans?0:`0.75em`}).each(function(e){var a=this,s=i.select(a),l=e.wrappingNeeded?H:U;e.needsConvertToTspans?c.convertToTspans(s,o,l(n,a,t,o,e)):i.select(a.parentNode).attr(`transform`,function(e){return u(W(e),r.cellPad)}).attr(`text-anchor`,function(e){return{left:`start`,center:`middle`,right:`end`}[e.align]})})}function A(e){return typeof e==`string`&&e.match(r.latexCheck)}function j(e){return e.indexOf(r.wrapSplitCharacter)!==-1}function M(e,t,n){var r=t.gdColumnsOriginalOrder;t.gdColumns.sort(function(e,t){return n[r.indexOf(e)]-n[r.indexOf(t)]}),t.columnorder=n,e.emit(`plotly_restyle`)}function N(e,t,n){if(Array.isArray(e)){var r=e[Math.min(t,e.length-1)];return Array.isArray(r)?r[Math.min(n,r.length-1)]:r}else return e}function P(e,t,n){e.transition().ease(r.releaseTransitionEase).duration(r.releaseTransitionDuration).attr(`transform`,u(t.x,n))}function F(e){return e.type===`cells`}function I(e){return e.type===`header`}function L(e){return(e.rowBlocks.length?e.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(e,t){return e+ee(t,1/0)},0)}function R(e,t,n){for(var r=[],i=0,a=0;a<e.length;a++){for(var o=e[a],s=o.rows,c=0,l=0;l<s.length;l++)c+=s[l].rowHeight;o.allRowsHeight=c;var u=i+c,d=t,f=d+n;d<u&&f>i&&r.push(a),i+=c}return r}function z(e,t,n){var r=v(t)[0];if(r!==void 0){var i=r.rowBlocks,a=r.calcdata,o=K(i,i.length),s=r.calcdata.groupHeight-L(r),c=a.scrollY=Math.max(0,Math.min(o-s,a.scrollY)),l=R(i,c,s);l.length===1&&(l[0]===i.length-1?l.unshift(l[0]-1):l.push(l[0]+1)),l[0]%2&&l.reverse(),t.each(function(e,t){e.page=l[t],e.scrollY=c}),t.attr(`transform`,function(e){return u(0,K(e.rowBlocks,e.page)-e.scrollY)}),e&&(V(e,n,t,l,r.prevPages,r,0),V(e,n,t,l,r.prevPages,r,1),y(n,e))}}function B(e,t,n,a){return function(o){var s=o.calcdata?o.calcdata:o,c=t.filter(function(e){return s.key===e.key}),l=n||s.scrollbarState.dragMultiplier,u=s.scrollY;return s.scrollY=a===void 0?s.scrollY+l*i.event.dy:a,z(e,c.selectAll(`.`+r.cn.yColumn).selectAll(`.`+r.cn.columnBlock).filter(F),c),s.scrollY===u}}function V(e,t,n,r,i,a,o){r[o]!==i[o]&&(clearTimeout(a.currentRepaint[o]),a.currentRepaint[o]=setTimeout(function(){b(e,t,n.filter(function(e,t){return t===o&&r[t]!==i[t]}),n),i[o]=r[o]}))}function H(e,t,n,a){return function(){var o=i.select(t.parentNode);o.each(function(e){var t=e.fragments;o.selectAll(`tspan.line`).each(function(e,n){t[n].width=this.getComputedTextLength()});var n=t[t.length-1].width,i=t.slice(0,-1),a=[],s,c,l=0,u=e.column.columnWidth-2*r.cellPad;for(e.value=``;i.length;)s=i.shift(),c=s.width+n,l+c>u&&(e.value+=a.join(r.wrapSpacer)+r.lineBreaker,a=[],l=0),a.push(s.text),l+=c;l&&(e.value+=a.join(r.wrapSpacer)),e.wrapped=!0}),o.selectAll(`tspan.line`).remove(),k(o.select(`.`+r.cn.cellText),n,e,a),i.select(t.parentNode.parentNode).call(G)}}function U(e,t,n,a,o){return function(){if(!o.settledY){var s=i.select(t.parentNode),c=J(o),l=o.key-c.firstRowIndex,d=c.rows[l].rowHeight,f=o.cellHeightMayIncrease?t.parentNode.getBoundingClientRect().height+2*r.cellPad:d,p=Math.max(f,d);p-c.rows[l].rowHeight&&(c.rows[l].rowHeight=p,e.selectAll(`.`+r.cn.columnCell).call(G),z(null,e.filter(F),0),y(n,a,!0)),s.attr(`transform`,function(){var e=this,t=e.parentNode.getBoundingClientRect(),n=i.select(e.parentNode).select(`.`+r.cn.cellRect).node().getBoundingClientRect(),a=e.transform.baseVal.consolidate(),s=n.top-t.top+(a?a.matrix.f:r.cellPad);return u(W(o,i.select(e.parentNode).select(`.`+r.cn.cellTextHolder).node().getBoundingClientRect().width),s)}),o.settledY=!0}}}function W(e,t){switch(e.align){case`left`:return r.cellPad;case`right`:return e.column.columnWidth-(t||0)-r.cellPad;case`center`:return(e.column.columnWidth-(t||0))/2;default:return r.cellPad}}function G(e){e.attr(`transform`,function(e){var t=e.rowBlocks[0].auxiliaryBlocks.reduce(function(e,t){return e+ee(t,1/0)},0);return u(0,ee(J(e),e.key)+t)}).selectAll(`.`+r.cn.cellRect).attr(`height`,function(e){return Y(J(e),e.key).rowHeight})}function K(e,t){for(var n=0,r=t-1;r>=0;r--)n+=q(e[r]);return n}function ee(e,t){for(var n=0,r=0;r<e.rows.length&&e.rows[r].rowIndex<t;r++)n+=e.rows[r].rowHeight;return n}function q(e){var t=e.allRowsHeight;if(t!==void 0)return t;for(var n=0,r=0;r<e.rows.length;r++)n+=e.rows[r].rowHeight;return e.allRowsHeight=n,n}function J(e){return e.rowBlocks[e.page]}function Y(e,t){return e.rows[t-e.firstRowIndex]}}),45802:(function(e,t,n){var r=n(5386).f,i=n(5386).s,a=n(50693),o=n(27670).Y,s=n(34e3),c=n(57564),l=n(43473),u=n(1426).extendFlat;e.exports={labels:c.labels,parents:c.parents,values:c.values,branchvalues:c.branchvalues,count:c.count,level:c.level,maxdepth:c.maxdepth,tiling:{packing:{valType:`enumerated`,values:[`squarify`,`binary`,`dice`,`slice`,`slice-dice`,`dice-slice`],dflt:`squarify`,editType:`plot`},squarifyratio:{valType:`number`,min:1,dflt:1,editType:`plot`},flip:{valType:`flaglist`,flags:[`x`,`y`],dflt:``,editType:`plot`},pad:{valType:`number`,min:0,dflt:3,editType:`plot`},editType:`calc`},marker:u({pad:{t:{valType:`number`,min:0,editType:`plot`},l:{valType:`number`,min:0,editType:`plot`},r:{valType:`number`,min:0,editType:`plot`},b:{valType:`number`,min:0,editType:`plot`},editType:`calc`},colors:c.marker.colors,depthfade:{valType:`enumerated`,values:[!0,!1,`reversed`],editType:`style`},line:c.marker.line,cornerradius:{valType:`number`,min:0,dflt:0,editType:`plot`},editType:`calc`},a(`marker`,{colorAttr:`colors`,anim:!1})),pathbar:{visible:{valType:`boolean`,dflt:!0,editType:`plot`},side:{valType:`enumerated`,values:[`top`,`bottom`],dflt:`top`,editType:`plot`},edgeshape:{valType:`enumerated`,values:[`>`,`<`,`|`,`/`,`\\`],dflt:`>`,editType:`plot`},thickness:{valType:`number`,min:12,editType:`plot`},textfont:u({},s.textfont,{}),editType:`calc`},text:s.text,textinfo:c.textinfo,texttemplate:i({editType:`plot`},{keys:l.eventDataKeys.concat([`label`,`value`])}),hovertext:s.hovertext,hoverinfo:c.hoverinfo,hovertemplate:r({},{keys:l.eventDataKeys}),textfont:s.textfont,insidetextfont:s.insidetextfont,outsidetextfont:u({},s.outsidetextfont,{}),textposition:{valType:`enumerated`,values:[`top left`,`top center`,`top right`,`middle left`,`middle center`,`middle right`,`bottom left`,`bottom center`,`bottom right`],dflt:`top left`,editType:`plot`},sort:s.sort,root:c.root,domain:o({name:`treemap`,trace:!0,editType:`calc`})}}),78018:(function(e,t,n){var r=n(74875);t.name=`treemap`,t.plot=function(e,n,i,a){r.plotBasePlot(t.name,e,n,i,a)},t.clean=function(e,n,i,a){r.cleanBasePlot(t.name,e,n,i,a)}}),65039:(function(e,t,n){var r=n(52147);t.y=function(e,t){return r.calc(e,t)},t.T=function(e){return r._runCrossTraceCalc(`treemap`,e)}}),43473:(function(e){e.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:`poly`,eventDataKeys:[`currentPath`,`root`,`entry`,`percentRoot`,`percentEntry`,`percentParent`],gapWithPathbar:1}}),91174:(function(e,t,n){var r=n(71828),i=n(45802),a=n(7901),o=n(27670).c,s=n(90769).handleText,c=n(97313).TEXTPAD,l=n(21081),u=l.hasColorscale,d=l.handleDefaults;e.exports=function(e,t,n,l){function f(n,a){return r.coerce(e,t,i,n,a)}var p=f(`labels`),m=f(`parents`);if(!p||!p.length||!m||!m.length){t.visible=!1;return}var h=f(`values`);h&&h.length?f(`branchvalues`):f(`count`),f(`level`),f(`maxdepth`),f(`tiling.packing`)===`squarify`&&f(`tiling.squarifyratio`),f(`tiling.flip`),f(`tiling.pad`);var g=f(`text`);f(`texttemplate`),t.texttemplate||f(`textinfo`,Array.isArray(g)?`text+label`:`label`),f(`hovertext`),f(`hovertemplate`);var _=f(`pathbar.visible`);s(e,t,l,f,`auto`,{hasPathbar:_,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),f(`textposition`);var v=t.textposition.indexOf(`bottom`)!==-1;f(`marker.line.width`)&&f(`marker.line.color`,l.paper_bgcolor);var y=f(`marker.colors`);(t._hasColorscale=u(e,`marker`,`colors`)||(e.marker||{}).coloraxis)?d(e,t,l,f,{prefix:`marker.`,cLetter:`c`}):f(`marker.depthfade`,!(y||[]).length);var b=t.textfont.size*2;f(`marker.pad.t`,v?b/4:b),f(`marker.pad.l`,b/4),f(`marker.pad.r`,b/4),f(`marker.pad.b`,v?b:b/4),f(`marker.cornerradius`),t._hovered={marker:{line:{width:2,color:a.contrast(l.paper_bgcolor)}}},_&&(f(`pathbar.thickness`,t.pathbar.textfont.size+2*c),f(`pathbar.side`),f(`pathbar.edgeshape`)),f(`sort`),f(`root.color`),o(t,l,f),t._length=null}}),80694:(function(e,t,n){var r=n(39898),i=n(2791),a=n(72597).clearMinTextSize,o=n(16688).resizeText,s=n(46650);e.exports=function(e,t,n,c,l){var u=l.type,d=l.drawDescendants,f=e._fullLayout,p=f[`_`+u+`layer`],m,h,g=!n;a(u,f),m=p.selectAll(`g.trace.`+u).data(t,function(e){return e[0].trace.uid}),m.enter().append(`g`).classed(`trace`,!0).classed(u,!0),m.order(),!f.uniformtext.mode&&i.hasTransition(n)?(c&&(h=c()),r.transition().duration(n.duration).ease(n.easing).each(`end`,function(){h&&h()}).each(`interrupt`,function(){h&&h()}).each(function(){p.selectAll(`g.trace`).each(function(t){s(e,t,this,n,d)})})):(m.each(function(t){s(e,t,this,n,d)}),f.uniformtext.mode&&o(e,p.selectAll(`.trace`),u)),g&&m.exit().remove()}}),66209:(function(e,t,n){var r=n(39898),i=n(71828),a=n(91424),o=n(63893),s=n(37210),c=n(96362).styleOne,l=n(43473),u=n(2791),d=n(83523),f=!0;e.exports=function(e,t,n,p,m){var h=m.barDifY,g=m.width,_=m.height,v=m.viewX,y=m.viewY,b=m.pathSlice,x=m.toMoveInsideSlice,S=m.strTransform,C=m.hasTransition,w=m.handleSlicesExit,T=m.makeUpdateSliceInterpolator,E=m.makeUpdateTextInterpolator,D={},O=e._context.staticPlot,k=e._fullLayout,A=t[0],j=A.trace,M=A.hierarchy,N=g/j._entryDepth,P=u.listPath(n.data,`id`),F=s(M.copy(),[g,_],{packing:`dice`,pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();F=F.filter(function(e){var t=P.indexOf(e.data.id);return t===-1?!1:(e.x0=N*t,e.x1=N*(t+1),e.y0=h,e.y1=h+_,e.onPathbar=!0,!0)}),F.reverse(),p=p.data(F,u.getPtId),p.enter().append(`g`).classed(`pathbar`,!0),w(p,f,D,[g,_],b),p.order();var I=p;C&&(I=I.transition().each(`end`,function(){var t=r.select(this);u.setSliceCursor(t,e,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),I.each(function(s){s._x0=v(s.x0),s._x1=v(s.x1),s._y0=y(s.y0),s._y1=y(s.y1),s._hoverX=v(s.x1-Math.min(g,_)/2),s._hoverY=y(s.y1-_/2);var p=r.select(this),m=i.ensureSingle(p,`path`,`surface`,function(e){e.style(`pointer-events`,O?`none`:`all`)});C?m.transition().attrTween(`d`,function(e){var t=T(e,f,D,[g,_]);return function(e){return b(t(e))}}):m.attr(`d`,b),p.call(d,n,e,t,{styleOne:c,eventDataKeys:l.eventDataKeys,transitionTime:l.CLICK_TRANSITION_TIME,transitionEasing:l.CLICK_TRANSITION_EASING}).call(u.setSliceCursor,e,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:e._transitioning}),m.call(c,s,j,{hovered:!1}),s._text=(u.getPtLabel(s)||``).split(`<br>`).join(` `)||``;var h=i.ensureSingle(p,`g`,`slicetext`),w=i.ensureSingle(h,`text`,``,function(e){e.attr(`data-notex`,1)}),A=i.ensureUniformFontSize(e,u.determineTextFont(j,s,k.font,{onPathbar:!0}));w.text(s._text||` `).classed(`slicetext`,!0).attr(`text-anchor`,`start`).call(a.font,A).call(o.convertToTspans,e),s.textBB=a.bBox(w.node()),s.transform=x(s,{fontSize:A.size,onPathbar:!0}),s.transform.fontSize=A.size,C?w.transition().attrTween(`transform`,function(e){var t=E(e,f,D,[g,_]);return function(e){return S(t(e))}}):w.attr(`transform`,S(s))})}}),52583:(function(e,t,n){var r=n(39898),i=n(71828),a=n(91424),o=n(63893),s=n(37210),c=n(96362).styleOne,l=n(43473),u=n(2791),d=n(83523),f=n(24714).formatSliceLabel,p=!1;e.exports=function(e,t,n,m,h){var g=h.width,_=h.height,v=h.viewX,y=h.viewY,b=h.pathSlice,x=h.toMoveInsideSlice,S=h.strTransform,C=h.hasTransition,w=h.handleSlicesExit,T=h.makeUpdateSliceInterpolator,E=h.makeUpdateTextInterpolator,D=h.prevEntry,O={},k=e._context.staticPlot,A=e._fullLayout,j=t[0].trace,M=j.textposition.indexOf(`left`)!==-1,N=j.textposition.indexOf(`right`)!==-1,P=j.textposition.indexOf(`bottom`)!==-1,F=!P&&!j.marker.pad.t||P&&!j.marker.pad.b,I=s(n,[g,_],{packing:j.tiling.packing,squarifyratio:j.tiling.squarifyratio,flipX:j.tiling.flip.indexOf(`x`)>-1,flipY:j.tiling.flip.indexOf(`y`)>-1,pad:{inner:j.tiling.pad,top:j.marker.pad.t,left:j.marker.pad.l,right:j.marker.pad.r,bottom:j.marker.pad.b}}).descendants(),L=1/0,R=-1/0;I.forEach(function(e){var t=e.depth;t>=j._maxDepth?(e.x0=e.x1=(e.x0+e.x1)/2,e.y0=e.y1=(e.y0+e.y1)/2):(L=Math.min(L,t),R=Math.max(R,t))}),m=m.data(I,u.getPtId),j._maxVisibleLayers=isFinite(R)?R-L+1:0,m.enter().append(`g`).classed(`slice`,!0),w(m,p,O,[g,_],b),m.order();var z=null;if(C&&D){var B=u.getPtId(D);m.each(function(e){z===null&&u.getPtId(e)===B&&(z={x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1})})}var V=function(){return z||{x0:0,x1:g,y0:0,y1:_}},H=m;return C&&(H=H.transition().each(`end`,function(){var t=r.select(this);u.setSliceCursor(t,e,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),H.each(function(s){var m=u.isHeader(s,j);s._x0=v(s.x0),s._x1=v(s.x1),s._y0=y(s.y0),s._y1=y(s.y1),s._hoverX=v(s.x1-j.marker.pad.r),s._hoverY=y(P?s.y1-j.marker.pad.b/2:s.y0+j.marker.pad.t/2);var h=r.select(this),w=i.ensureSingle(h,`path`,`surface`,function(e){e.style(`pointer-events`,k?`none`:`all`)});C?w.transition().attrTween(`d`,function(e){var t=T(e,p,V(),[g,_]);return function(e){return b(t(e))}}):w.attr(`d`,b),h.call(d,n,e,t,{styleOne:c,eventDataKeys:l.eventDataKeys,transitionTime:l.CLICK_TRANSITION_TIME,transitionEasing:l.CLICK_TRANSITION_EASING}).call(u.setSliceCursor,e,{isTransitioning:e._transitioning}),w.call(c,s,j,{hovered:!1}),s.x0===s.x1||s.y0===s.y1?s._text=``:m?s._text=F?``:u.getPtLabel(s)||``:s._text=f(s,n,j,t,A)||``;var D=i.ensureSingle(h,`g`,`slicetext`),O=i.ensureSingle(D,`text`,``,function(e){e.attr(`data-notex`,1)}),I=i.ensureUniformFontSize(e,u.determineTextFont(j,s,A.font));O.text(s._text||` `).classed(`slicetext`,!0).attr(`text-anchor`,N?`end`:M||m?`start`:`middle`).call(a.font,I).call(o.convertToTspans,e),s.textBB=a.bBox(O.node()),s.transform=x(s,{fontSize:I.size,isHeader:m}),s.transform.fontSize=I.size,C?O.transition().attrTween(`transform`,function(e){var t=E(e,p,V(),[g,_]);return function(e){return S(t(e))}}):O.attr(`transform`,S(s))}),z}}),14102:(function(e){e.exports=function e(t,n,r){var i;r.swapXY&&(i=t.x0,t.x0=t.y0,t.y0=i,i=t.x1,t.x1=t.y1,t.y1=i),r.flipX&&(i=t.x0,t.x0=n[0]-t.x1,t.x1=n[0]-i),r.flipY&&(i=t.y0,t.y0=n[1]-t.y1,t.y1=n[1]-i);var a=t.children;if(a)for(var o=0;o<a.length;o++)e(a[o],n,r)}}),70954:(function(e,t,n){e.exports={moduleType:`trace`,name:`treemap`,basePlotModule:n(78018),categories:[],animatable:!0,attributes:n(45802),layoutAttributes:n(55479),supplyDefaults:n(91174),supplyLayoutDefaults:n(77182),calc:n(65039).y,crossTraceCalc:n(65039).T,plot:n(5893),style:n(96362).style,colorbar:n(4898),meta:{}}}),55479:(function(e){e.exports={treemapcolorway:{valType:`colorlist`,editType:`calc`},extendtreemapcolors:{valType:`boolean`,dflt:!0,editType:`calc`}}}),77182:(function(e,t,n){var r=n(71828),i=n(55479);e.exports=function(e,t){function n(n,a){return r.coerce(e,t,i,n,a)}n(`treemapcolorway`,t.colorway),n(`extendtreemapcolors`)}}),37210:(function(e,t,n){var r=n(674),i=n(14102);e.exports=function(e,t,n){var o=n.flipX,s=n.flipY,c=n.packing===`dice-slice`,l=n.pad[s?`bottom`:`top`],u=n.pad[o?`right`:`left`],d=n.pad[o?`left`:`right`],f=n.pad[s?`top`:`bottom`],p;c&&(p=u,u=l,l=p,p=d,d=f,f=p);var m=r.treemap().tile(a(n.packing,n.squarifyratio)).paddingInner(n.pad.inner).paddingLeft(u).paddingRight(d).paddingTop(l).paddingBottom(f).size(c?[t[1],t[0]]:t)(e);return(c||o||s)&&i(m,t,{swapXY:c,flipX:o,flipY:s}),m};function a(e,t){switch(e){case`squarify`:return r.treemapSquarify.ratio(t);case`binary`:return r.treemapBinary;case`dice`:return r.treemapDice;case`slice`:return r.treemapSlice;default:return r.treemapSliceDice}}}),5893:(function(e,t,n){var r=n(80694),i=n(52583);e.exports=function(e,t,n,a){return r(e,t,n,a,{type:`treemap`,drawDescendants:i})}}),46650:(function(e,t,n){var r=n(39898),i=n(81684).sX,a=n(2791),o=n(71828),s=n(97313).TEXTPAD,c=n(17295).toMoveInsideBar,l=n(72597).recordMinTextSize,u=n(43473),d=n(66209);function f(e){return a.isHierarchyRoot(e)?``:a.getPtId(e)}e.exports=function(e,t,n,p,m){var h=e._fullLayout,g=t[0],_=g.trace,v=_.type===`icicle`,y=g.hierarchy,b=a.findEntryWithLevel(y,_.level),x=r.select(n),S=x.selectAll(`g.pathbar`),C=x.selectAll(`g.slice`);if(!b){S.remove(),C.remove();return}var w=a.isHierarchyRoot(b),T=!h.uniformtext.mode&&a.hasTransition(p),E=a.getMaxDepth(_),D=function(e){return e.data.depth-b.data.depth<E},O=h._size,k=_.domain,A=O.w*(k.x[1]-k.x[0]),j=O.h*(k.y[1]-k.y[0]),M=A,N=_.pathbar.thickness,P=_.marker.line.width+u.gapWithPathbar,F=_.pathbar.visible?_.pathbar.side.indexOf(`bottom`)>-1?j+P:-(N+P):0,I={x0:M,x1:M,y0:F,y1:F+N},L=function(e,t,n){var r=_.tiling.pad,i=function(e){return e-r<=t.x0},a=function(e){return e+r>=t.x1},o=function(e){return e-r<=t.y0},s=function(e){return e+r>=t.y1};return e.x0===t.x0&&e.x1===t.x1&&e.y0===t.y0&&e.y1===t.y1?{x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1}:{x0:i(e.x0-r)?0:a(e.x0-r)?n[0]:e.x0,x1:i(e.x1+r)?0:a(e.x1+r)?n[0]:e.x1,y0:o(e.y0-r)?0:s(e.y0-r)?n[1]:e.y0,y1:o(e.y1+r)?0:s(e.y1+r)?n[1]:e.y1}},R=null,z={},B={},V=null,H=function(e,t){return t?z[f(e)]:B[f(e)]},U=function(e,t,n,r){if(t)return z[f(y)]||I;var i=B[_.level]||n;return D(e)?L(e,i,r):{}};g.hasMultipleRoots&&w&&E++,_._maxDepth=E,_._backgroundColor=h.paper_bgcolor,_._entryDepth=b.data.depth,_._atRootLevel=w;var W=-A/2+O.l+O.w*(k.x[1]+k.x[0])/2,G=-j/2+O.t+O.h*(1-(k.y[1]+k.y[0])/2),K=function(e){return W+e},ee=function(e){return G+e},q=ee(0),J=K(0),Y=function(e){return J+e},te=function(e){return q+e};function ne(e,t){return e+`,`+t}var re=Y(0),ie=function(e){e.x=Math.max(re,e.x)},ae=_.pathbar.edgeshape,oe=function(e){var t=Y(Math.max(Math.min(e.x0,e.x0),0)),n=Y(Math.min(Math.max(e.x1,e.x1),M)),r=te(e.y0),i=te(e.y1),a=N/2,o={},s={};o.x=t,s.x=n,o.y=s.y=(r+i)/2;var c={x:t,y:r},l={x:n,y:r},u={x:n,y:i},d={x:t,y:i};return ae===`>`?(c.x-=a,l.x-=a,u.x-=a,d.x-=a):ae===`/`?(u.x-=a,d.x-=a,o.x-=a/2,s.x-=a/2):ae===`\\`?(c.x-=a,l.x-=a,o.x-=a/2,s.x-=a/2):ae===`<`&&(o.x-=a,s.x-=a),ie(c),ie(d),ie(o),ie(l),ie(u),ie(s),`M`+ne(c.x,c.y)+`L`+ne(l.x,l.y)+`L`+ne(s.x,s.y)+`L`+ne(u.x,u.y)+`L`+ne(d.x,d.y)+`L`+ne(o.x,o.y)+`Z`},se=_[v?`tiling`:`marker`].pad,ce=function(e){return _.textposition.indexOf(e)!==-1},le=ce(`top`),ue=ce(`left`),de=ce(`right`),fe=ce(`bottom`),pe=function(e){var t=K(e.x0),n=K(e.x1),r=ee(e.y0),i=ee(e.y1),a=n-t,o=i-r;if(!a||!o)return``;var s=_.marker.cornerradius||0,c=Math.min(s,a/2,o/2);c&&e.data&&e.data.data&&e.data.data.label&&(le&&(c=Math.min(c,se.t)),ue&&(c=Math.min(c,se.l)),de&&(c=Math.min(c,se.r)),fe&&(c=Math.min(c,se.b)));var l=function(e,t){return c?`a`+ne(c,c)+` 0 0 1 `+ne(e,t):``};return`M`+ne(t,r+c)+l(c,-c)+`L`+ne(n-c,r)+l(c,c)+`L`+ne(n,i-c)+l(-c,c)+`L`+ne(t+c,i)+l(-c,-c)+`Z`},me=function(e,t){var n=e.x0,r=e.x1,i=e.y0,a=e.y1,o=e.textBB,u=le||t.isHeader&&!fe?`start`:fe?`end`:`middle`,d=ce(`right`),f=ce(`left`)||t.onPathbar?-1:d?1:0;if(t.isHeader){if(n+=(v?se:se.l)-s,r-=(v?se:se.r)-s,n>=r){var p=(n+r)/2;n=p,r=p}var m;fe?(m=a-(v?se:se.b),i<m&&m<a&&(i=m)):(m=i+(v?se:se.t),i<m&&m<a&&(a=m))}var g=c(n,r,i,a,o,{isHorizontal:!1,constrained:!0,angle:0,anchor:u,leftToRight:f});return g.fontSize=t.fontSize,g.targetX=K(g.targetX),g.targetY=ee(g.targetY),isNaN(g.targetX)||isNaN(g.targetY)?{}:(n!==r&&i!==a&&l(_.type,g,h),{scale:g.scale,rotate:g.rotate,textX:g.textX,textY:g.textY,anchorX:g.anchorX,anchorY:g.anchorY,targetX:g.targetX,targetY:g.targetY})},he=function(e,t){for(var n,r=0,i=e;!n&&r<E;)r++,i=i.parent,i?n=H(i,t):r=E;return n||{}},ge=function(e,t,n,r){var a=H(e,t),o;if(t)o=I;else{var s=H(b,t);o=s?L(e,s,r):{}}return i(a,o)},_e=function(e,t,n,r,a){var s=H(e,t),c;if(s)c=s;else if(t)c=I;else if(R)if(e.parent){var l=V||n;l&&!t?c=L(e,l,r):(c={},o.extendFlat(c,he(e,t)))}else c=o.extendFlat({},e),v&&(a.orientation===`h`?a.flipX?c.x0=e.x1:c.x1=0:a.flipY?c.y0=e.y1:c.y1=0);else c={};return i(c,{x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1})},ve=function(e,t,n,r){var s=H(e,t),c={},u=U(e,t,n,r);o.extendFlat(c,{transform:me({x0:u.x0,x1:u.x1,y0:u.y0,y1:u.y1,textBB:e.textBB,_text:e._text},{isHeader:a.isHeader(e,_)})}),s?c=s:e.parent&&o.extendFlat(c,he(e,t));var d=e.transform;return e.x0!==e.x1&&e.y0!==e.y1&&l(_.type,d,h),i(c,{transform:{scale:d.scale,rotate:d.rotate,textX:d.textX,textY:d.textY,anchorX:d.anchorX,anchorY:d.anchorY,targetX:d.targetX,targetY:d.targetY}})},ye=function(e,t,n,i,a){var o=i[0],s=i[1];T?e.exit().transition().each(function(){var e=r.select(this);e.select(`path.surface`).transition().attrTween(`d`,function(e){var r=ge(e,t,n,[o,s]);return function(e){return a(r(e))}}),e.select(`g.slicetext`).attr(`opacity`,0)}).remove():e.exit().remove()},be=function(e){var t=e.transform;return e.x0!==e.x1&&e.y0!==e.y1&&l(_.type,t,h),o.getTextTransform({textX:t.textX,textY:t.textY,anchorX:t.anchorX,anchorY:t.anchorY,targetX:t.targetX,targetY:t.targetY,scale:t.scale,rotate:t.rotate})};T&&(S.each(function(e){z[f(e)]={x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1},e.transform&&(z[f(e)].transform={textX:e.transform.textX,textY:e.transform.textY,anchorX:e.transform.anchorX,anchorY:e.transform.anchorY,targetX:e.transform.targetX,targetY:e.transform.targetY,scale:e.transform.scale,rotate:e.transform.rotate})}),C.each(function(e){B[f(e)]={x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1},e.transform&&(B[f(e)].transform={textX:e.transform.textX,textY:e.transform.textY,anchorX:e.transform.anchorX,anchorY:e.transform.anchorY,targetX:e.transform.targetX,targetY:e.transform.targetY,scale:e.transform.scale,rotate:e.transform.rotate}),!R&&a.isEntry(e)&&(R=e)})),V=m(e,t,b,C,{width:A,height:j,viewX:K,viewY:ee,pathSlice:pe,toMoveInsideSlice:me,prevEntry:R,makeUpdateSliceInterpolator:_e,makeUpdateTextInterpolator:ve,handleSlicesExit:ye,hasTransition:T,strTransform:be}),_.pathbar.visible?d(e,t,b,S,{barDifY:F,width:M,height:N,viewX:Y,viewY:te,pathSlice:oe,toMoveInsideSlice:me,makeUpdateSliceInterpolator:_e,makeUpdateTextInterpolator:ve,handleSlicesExit:ye,hasTransition:T,strTransform:be}):S.remove()}}),96362:(function(e,t,n){var r=n(39898),i=n(7901),a=n(71828),o=n(2791),s=n(72597).resizeText;function c(e){var t=e._fullLayout._treemaplayer.selectAll(`.trace`);s(e,t,`treemap`),t.each(function(e){var t=r.select(this),n=e[0].trace;t.style(`opacity`,n.opacity),t.selectAll(`path.surface`).each(function(e){r.select(this).call(l,e,n,{hovered:!1})})})}function l(e,t,n,r){var s=(r||{}).hovered,c=t.data.data,l=c.i,u,d,f=c.color,p=o.isHierarchyRoot(t),m=1;if(s)u=n._hovered.marker.line.color,d=n._hovered.marker.line.width;else if(p&&f===n.root.color)m=100,u=`rgba(0,0,0,0)`,d=0;else if(u=a.castOption(n,l,`marker.line.color`)||i.defaultLine,d=a.castOption(n,l,`marker.line.width`)||0,!n._hasColorscale&&!t.onPathbar){var h=n.marker.depthfade;if(h){var g=i.combine(i.addOpacity(n._backgroundColor,.75),f),_;if(h===!0){var v=o.getMaxDepth(n);_=isFinite(v)?o.isLeaf(t)?0:n._maxVisibleLayers-(t.data.depth-n._entryDepth):t.data.height+1}else _=t.data.depth-n._entryDepth,n._atRootLevel||_++;if(_>0)for(var y=0;y<_;y++){var b=.5*y/_;f=i.combine(i.addOpacity(g,b),f)}}}e.style(`stroke-width`,d).call(i.fill,f).call(i.stroke,u).style(`opacity`,m)}e.exports={style:c,styleOne:l}}),68875:(function(e,t,n){var r=n(53522),i=n(1426).extendFlat,a=n(12663).axisHoverFormat;e.exports={y:r.y,x:r.x,x0:r.x0,y0:r.y0,xhoverformat:a(`x`),yhoverformat:a(`y`),name:i({},r.name,{}),orientation:i({},r.orientation,{}),bandwidth:{valType:`number`,min:0,editType:`calc`},scalegroup:{valType:`string`,dflt:``,editType:`calc`},scalemode:{valType:`enumerated`,values:[`width`,`count`],dflt:`width`,editType:`calc`},spanmode:{valType:`enumerated`,values:[`soft`,`hard`,`manual`],dflt:`soft`,editType:`calc`},span:{valType:`info_array`,items:[{valType:`any`,editType:`calc`},{valType:`any`,editType:`calc`}],editType:`calc`},line:{color:{valType:`color`,editType:`style`},width:{valType:`number`,min:0,dflt:2,editType:`style`},editType:`plot`},fillcolor:r.fillcolor,points:i({},r.boxpoints,{}),jitter:i({},r.jitter,{}),pointpos:i({},r.pointpos,{}),width:i({},r.width,{}),marker:r.marker,text:r.text,hovertext:r.hovertext,hovertemplate:r.hovertemplate,quartilemethod:r.quartilemethod,box:{visible:{valType:`boolean`,dflt:!1,editType:`plot`},width:{valType:`number`,min:0,max:1,dflt:.25,editType:`plot`},fillcolor:{valType:`color`,editType:`style`},line:{color:{valType:`color`,editType:`style`},width:{valType:`number`,min:0,editType:`style`},editType:`style`},editType:`plot`},meanline:{visible:{valType:`boolean`,dflt:!1,editType:`plot`},color:{valType:`color`,editType:`style`},width:{valType:`number`,min:0,editType:`style`},editType:`plot`},side:{valType:`enumerated`,values:[`both`,`positive`,`negative`],dflt:`both`,editType:`calc`},offsetgroup:r.offsetgroup,alignmentgroup:r.alignmentgroup,selected:r.selected,unselected:r.unselected,hoveron:{valType:`flaglist`,flags:[`violins`,`points`,`kde`],dflt:`violins+points+kde`,extras:[`all`],editType:`style`}}}),38603:(function(e,t,n){var r=n(71828),i=n(89298),a=n(48518),o=n(60168),s=n(50606).BADNUM;e.exports=function(e,t){var n=a(e,t);if(n[0].t.empty)return n;for(var s=e._fullLayout,c=i.getFromId(e,t[t.orientation===`h`?`xaxis`:`yaxis`]),d=1/0,f=-1/0,p=0,m=0,h=0;h<n.length;h++){var g=n[h],_=g.pts.map(o.extractVal),v=g.bandwidth=l(t,g,_),y=g.span=u(t,g,c,v);if(g.min===g.max&&v===0)y=g.span=[g.min,g.max],g.density=[{v:1,t:y[0]}],g.bandwidth=v,p=Math.max(p,1);else{var b=y[1]-y[0],x=Math.ceil(b/(v/3)),S=b/x;if(!isFinite(S)||!isFinite(x))return r.error(`Something went wrong with computing the violin span`),n[0].t.empty=!0,n;var C=o.makeKDE(g,t,_);g.density=Array(x);for(var w=0,T=y[0];T<y[1]+S/2;w++,T+=S){var E=C(T);g.density[w]={v:E,t:T},p=Math.max(p,E)}}m=Math.max(m,_.length),d=Math.min(d,y[0]),f=Math.max(f,y[1])}var D=i.findExtremes(c,[d,f],{padded:!0});if(t._extremes[c._id]=D,t.width)n[0].t.maxKDE=p;else{var O=s._violinScaleGroupStats,k=t.scalegroup,A=O[k];A?(A.maxKDE=Math.max(A.maxKDE,p),A.maxCount=Math.max(A.maxCount,m)):O[k]={maxKDE:p,maxCount:m}}return n[0].t.labels.kde=r._(e,`kde:`),n};function c(e,t,n){return 1.059*Math.min(t,n/1.349)*e**-.2}function l(e,t,n){var i=t.max-t.min;if(!i)return e.bandwidth?e.bandwidth:0;if(e.bandwidth)return Math.max(e.bandwidth,i/1e4);var a=n.length,o=r.stdev(n,a-1,t.mean);return Math.max(c(a,o,t.q3-t.q1),i/100)}function u(e,t,n,r){var a=e.spanmode,o=e.span||[],c=[t.min,t.max],l=[t.min-2*r,t.max+2*r],u;function d(r){var i=o[r],a=n.type===`multicategory`?n.r2c(i):n.d2c(i,0,e[t.valLetter+`calendar`]);return a===s?l[r]:a}u=a===`soft`?l:a===`hard`?c:[d(0),d(1)];var f={type:`linear`,range:u};return i.setConvert(f),f.cleanRange(),u}}),86403:(function(e,t,n){var r=n(37188).setPositionOffset,i=[`v`,`h`];e.exports=function(e,t){for(var n=e.calcdata,a=t.xaxis,o=t.yaxis,s=0;s<i.length;s++){for(var c=i[s],l=c===`h`?o:a,u=[],d=0;d<n.length;d++){var f=n[d],p=f[0].t,m=f[0].trace;m.visible===!0&&m.type===`violin`&&!p.empty&&m.orientation===c&&m.xaxis===a._id&&m.yaxis===o._id&&u.push(d)}r(`violin`,e,u,l)}}}),15899:(function(e,t,n){var r=n(71828),i=n(7901),a=n(36411),o=n(68875);e.exports=function(e,t,n,s){function c(n,i){return r.coerce(e,t,o,n,i)}function l(n,i){return r.coerce2(e,t,o,n,i)}if(a.handleSampleDefaults(e,t,c,s),t.visible!==!1){c(`bandwidth`),c(`side`),c(`width`)||(c(`scalegroup`,t.name),c(`scalemode`));var u=c(`span`),d;Array.isArray(u)&&(d=`manual`),c(`spanmode`,d);var f=c(`line.color`,(e.marker||{}).color||n),p=c(`line.width`),m=c(`fillcolor`,i.addOpacity(t.line.color,.5));a.handlePointsDefaults(e,t,c,{prefix:``});var h=l(`box.width`),g=l(`box.fillcolor`,m),_=l(`box.line.color`,f),v=l(`box.line.width`,p);c(`box.visible`,!!(h||g||_||v))||(t.box={visible:!1});var y=l(`meanline.color`,f),b=l(`meanline.width`,p);c(`meanline.visible`,!!(y||b))||(t.meanline={visible:!1}),c(`quartilemethod`)}}}),60168:(function(e,t,n){var r=n(71828),i={gaussian:function(e){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*e*e)}};t.makeKDE=function(e,t,n){var r=n.length,a=i.gaussian,o=e.bandwidth,s=1/(r*o);return function(e){for(var t=0,i=0;i<r;i++)t+=a((e-n[i])/o);return s*t}},t.getPositionOnKdePath=function(e,t,n){var i,a;t.orientation===`h`?(i=`y`,a=`x`):(i=`x`,a=`y`);var o=r.findPointOnPath(e.path,n,a,{pathLength:e.pathLength}),s=e.posCenterPx,c=o[i];return[c,t.side===`both`?2*s-c:s]},t.getKdeValue=function(e,n,r){var i=e.pts.map(t.extractVal);return t.makeKDE(e,n,i)(r)/e.posDensityScale},t.extractVal=function(e){return e.v}}),57634:(function(e,t,n){var r=n(7901),i=n(71828),a=n(89298),o=n(41868),s=n(60168);e.exports=function(e,t,n,c,l){l||={};var u=l.hoverLayer,d=e.cd,f=d[0].trace,p=f.hoveron,m=p.indexOf(`violins`)!==-1,h=p.indexOf(`kde`)!==-1,g=[],_,v;if(m||h){var y=o.hoverOnBoxes(e,t,n,c);if(h&&y.length>0){var b=e.xa,x=e.ya,S,C,w,T,E;f.orientation===`h`?(E=t,S=`y`,w=x,C=`x`,T=b):(E=n,S=`x`,w=b,C=`y`,T=x);var D=d[e.index];if(E>=D.span[0]&&E<=D.span[1]){var O=i.extendFlat({},e),k=T.c2p(E,!0),A=s.getKdeValue(D,f,E),j=s.getPositionOnKdePath(D,f,k),M=w._offset,N=w._length;O[S+`0`]=j[0],O[S+`1`]=j[1],O[C+`0`]=O[C+`1`]=k,O[C+`Label`]=C+`: `+a.hoverLabelText(T,E,f[C+`hoverformat`])+`, `+d[0].t.labels.kde+` `+A.toFixed(3);for(var P=0,F=0;F<y.length;F++)if(y[F].attr===`med`){P=F;break}O.spikeDistance=y[P].spikeDistance;var I=S+`Spike`;O[I]=y[P][I],y[P].spikeDistance=void 0,y[P][I]=void 0,O.hovertemplate=!1,g.push(O),v={},v[S+`1`]=i.constrain(M+j[0],M,M+N),v[S+`2`]=i.constrain(M+j[1],M,M+N),v[C+`1`]=v[C+`2`]=T._offset+k}}m&&(g=g.concat(y))}p.indexOf(`points`)!==-1&&(_=o.hoverOnPoints(e,t,n));var L=u.selectAll(`.violinline-`+f.uid).data(v?[0]:[]);return L.enter().append(`line`).classed(`violinline-`+f.uid,!0).attr(`stroke-width`,1.5),L.exit().remove(),L.attr(v).call(r.stroke,e.color),c===`closest`?_?[_]:g:(_&&g.push(_),g)}}),47462:(function(e,t,n){e.exports={attributes:n(68875),layoutAttributes:n(9228),supplyDefaults:n(15899),crossTraceDefaults:n(36411).crossTraceDefaults,supplyLayoutDefaults:n(33598),calc:n(38603),crossTraceCalc:n(86403),plot:n(28443),style:n(31847),styleOnSelect:n(16296).styleOnSelect,hoverPoints:n(57634),selectPoints:n(24626),moduleType:`trace`,name:`violin`,basePlotModule:n(93612),categories:[`cartesian`,`svg`,`symbols`,`oriented`,`box-violin`,`showLegend`,`violinLayout`,`zoomScale`],meta:{}}}),9228:(function(e,t,n){var r=n(40094),i=n(71828).extendFlat;e.exports={violinmode:i({},r.boxmode,{}),violingap:i({},r.boxgap,{}),violingroupgap:i({},r.boxgroupgap,{})}}),33598:(function(e,t,n){var r=n(71828),i=n(9228),a=n(4199);e.exports=function(e,t,n){function o(n,a){return r.coerce(e,t,i,n,a)}a._supply(e,t,n,o,`violin`)}}),28443:(function(e,t,n){var r=n(39898),i=n(71828),a=n(91424),o=n(86047),s=n(34621),c=n(60168);e.exports=function(e,t,n,l){var u=e._context.staticPlot,d=e._fullLayout,f=t.xaxis,p=t.yaxis;function m(e,t){var n=s(e,{xaxis:f,yaxis:p,trace:t,connectGaps:!0,baseTolerance:.75,shape:`spline`,simplify:!0,linearized:!0});return a.smoothopen(n[0],1)}i.makeTraceGroups(l,n,`trace violins`).each(function(e){var n=r.select(this),a=e[0],s=a.t,l=a.trace;if(l.visible!==!0||s.empty){n.remove();return}var h=s.bPos,g=s.bdPos,_=t[s.valLetter+`axis`],v=t[s.posLetter+`axis`],y=l.side===`both`,b=y||l.side===`positive`,x=y||l.side===`negative`,S=n.selectAll(`path.violin`).data(i.identity);S.enter().append(`path`).style(`vector-effect`,u?`none`:`non-scaling-stroke`).attr(`class`,`violin`),S.exit().remove(),S.each(function(e){var t=r.select(this),n=e.density,i=n.length,a=v.c2l(e.pos+h,!0),o=v.l2p(a),c;if(l.width)c=s.maxKDE/g;else{var u=d._violinScaleGroupStats[l.scalegroup];c=l.scalemode===`count`?u.maxKDE/g*(u.maxCount/e.pts.length):u.maxKDE/g}var f,p,S,C,w,T,E;if(b){for(T=Array(i),C=0;C<i;C++)E=T[C]={},E[s.posLetter]=a+n[C].v/c,E[s.valLetter]=_.c2l(n[C].t,!0);f=m(T,l)}if(x){for(T=Array(i),w=0,C=i-1;w<i;w++,C--)E=T[w]={},E[s.posLetter]=a-n[C].v/c,E[s.valLetter]=_.c2l(n[C].t,!0);p=m(T,l)}if(y)S=f+`L`+p.substr(1)+`Z`;else{var D=[o,_.c2p(n[0].t)],O=[o,_.c2p(n[i-1].t)];l.orientation===`h`&&(D.reverse(),O.reverse()),S=b?`M`+D+`L`+f.substr(1)+`L`+O:`M`+O+`L`+p.substr(1)+`L`+D}t.attr(`d`,S),e.posCenterPx=o,e.posDensityScale=c*g,e.path=t.node(),e.pathLength=e.path.getTotalLength()/(y?2:1)});var C=l.box,w=C.width,T=(C.line||{}).width,E,D;y?(E=g*w,D=0):b?(E=[0,g*w/2],D=T*{x:1,y:-1}[s.posLetter]):(E=[g*w/2,0],D=T*{x:-1,y:1}[s.posLetter]),o.plotBoxAndWhiskers(n,{pos:v,val:_},l,{bPos:h,bdPos:E,bPosPxOffset:D}),o.plotBoxMean(n,{pos:v,val:_},l,{bPos:h,bdPos:E,bPosPxOffset:D});var O;!l.box.visible&&l.meanline.visible&&(O=i.identity);var k=n.selectAll(`path.meanline`).data(O||[]);k.enter().append(`path`).attr(`class`,`meanline`).style(`fill`,`none`).style(`vector-effect`,u?`none`:`non-scaling-stroke`),k.exit().remove(),k.each(function(e){var t=_.c2p(e.mean,!0),n=c.getPositionOnKdePath(e,l,t);r.select(this).attr(`d`,l.orientation===`h`?`M`+t+`,`+n[0]+`V`+n[1]:`M`+n[0]+`,`+t+`H`+n[1])}),o.plotPoints(n,{x:f,y:p},l,s)})}}),31847:(function(e,t,n){var r=n(39898),i=n(7901),a=n(16296).stylePoints;e.exports=function(e){var t=r.select(e).selectAll(`g.trace.violins`);t.style(`opacity`,function(e){return e[0].trace.opacity}),t.each(function(t){var n=t[0].trace,o=r.select(this),s=n.box||{},c=s.line||{},l=n.meanline||{},u=l.width;o.selectAll(`path.violin`).style(`stroke-width`,n.line.width+`px`).call(i.stroke,n.line.color).call(i.fill,n.fillcolor),o.selectAll(`path.box`).style(`stroke-width`,c.width+`px`).call(i.stroke,c.color).call(i.fill,s.fillcolor);var d={"stroke-width":u+`px`,"stroke-dasharray":2*u+`px,`+u+`px`};o.selectAll(`path.mean`).style(d).call(i.stroke,l.color),o.selectAll(`path.meanline`).style(d).call(i.stroke,l.color),a(o,n,e)})}}),16336:(function(e,t,n){var r=n(50693),i=n(16249),a=n(54532),o=n(9012),s=n(1426).extendFlat,c=n(30962).overrideAll,l=e.exports=c(s({x:i.x,y:i.y,z:i.z,value:i.value,isomin:i.isomin,isomax:i.isomax,surface:i.surface,spaceframe:{show:{valType:`boolean`,dflt:!1},fill:{valType:`number`,min:0,max:1,dflt:1}},slices:i.slices,caps:i.caps,text:i.text,hovertext:i.hovertext,xhoverformat:i.xhoverformat,yhoverformat:i.yhoverformat,zhoverformat:i.zhoverformat,valuehoverformat:i.valuehoverformat,hovertemplate:i.hovertemplate},r(``,{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:`calc`}),{colorbar:i.colorbar,opacity:i.opacity,opacityscale:a.opacityscale,lightposition:i.lightposition,lighting:i.lighting,flatshading:i.flatshading,contour:i.contour,hoverinfo:s({},o.hoverinfo),showlegend:s({},o.showlegend,{dflt:!1})}),`calc`,`nested`);l.x.editType=l.y.editType=l.z.editType=l.value.editType=`calc+clearAxisTypes`,l.transforms=void 0}),64809:(function(e,t,n){var r=n(9330).gl_mesh3d,i=n(81697).parseColorScale,a=n(78614),o=n(21081).extractOpts,s=n(90060),c=n(22674).findNearestOnAxis,l=n(22674).generateIsoMeshes;function u(e,t,n){this.scene=e,this.uid=n,this.mesh=t,this.name=``,this.data=null,this.showContour=!1}var d=u.prototype;d.handlePick=function(e){if(e.object===this.mesh){var t=e.data.index,n=this.data._meshX[t],r=this.data._meshY[t],i=this.data._meshZ[t],a=this.data._Ys.length,o=this.data._Zs.length,s=c(n,this.data._Xs).id,l=c(r,this.data._Ys).id,u=e.index=c(i,this.data._Zs).id+o*l+o*a*s;e.traceCoordinate=[this.data._meshX[u],this.data._meshY[u],this.data._meshZ[u],this.data._value[u]];var d=this.data.hovertext||this.data.text;return Array.isArray(d)&&d[u]!==void 0?e.textLabel=d[u]:d&&(e.textLabel=d),!0}},d.update=function(e){var t=this.scene,n=t.fullSceneLayout;this.data=l(e);function r(e,t,n,r){return t.map(function(t){return e.d2l(t,0,r)*n})}var c={positions:s(r(n.xaxis,e._meshX,t.dataScale[0],e.xcalendar),r(n.yaxis,e._meshY,t.dataScale[1],e.ycalendar),r(n.zaxis,e._meshZ,t.dataScale[2],e.zcalendar)),cells:s(e._meshI,e._meshJ,e._meshK),lightPosition:[e.lightposition.x,e.lightposition.y,e.lightposition.z],ambient:e.lighting.ambient,diffuse:e.lighting.diffuse,specular:e.lighting.specular,roughness:e.lighting.roughness,fresnel:e.lighting.fresnel,vertexNormalsEpsilon:e.lighting.vertexnormalsepsilon,faceNormalsEpsilon:e.lighting.facenormalsepsilon,opacity:e.opacity,opacityscale:e.opacityscale,contourEnable:e.contour.show,contourColor:a(e.contour.color).slice(0,3),contourWidth:e.contour.width,useFacetNormals:e.flatshading},u=o(e);c.vertexIntensity=e._meshIntensity,c.vertexIntensityBounds=[u.min,u.max],c.colormap=i(e),this.mesh.update(c)},d.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(e,t){var n=e.glplot.gl,i=r({gl:n}),a=new u(e,i,t.uid);return i._trace=a,a.update(t),e.glplot.add(i),a}e.exports=f}),47651:(function(e,t,n){var r=n(71828),i=n(16336),a=n(82738).supplyIsoDefaults,o=n(91831).opacityscaleDefaults;e.exports=function(e,t,n,s){function c(n,a){return r.coerce(e,t,i,n,a)}a(e,t,n,s,c),o(e,t,s,c)}}),17659:(function(e,t,n){e.exports={attributes:n(16336),supplyDefaults:n(47651),calc:n(56959),colorbar:{min:`cmin`,max:`cmax`},plot:n(64809),moduleType:`trace`,name:`volume`,basePlotModule:n(58547),categories:[`gl3d`,`showLegend`],meta:{}}}),43037:(function(e,t,n){var r=n(1486),i=n(82196).line,a=n(9012),o=n(12663).axisHoverFormat,s=n(5386).f,c=n(5386).s,l=n(48334),u=n(1426).extendFlat,d=n(7901);function f(e){return{marker:{color:u({},r.marker.color,{arrayOk:!1,editType:`style`}),line:{color:u({},r.marker.line.color,{arrayOk:!1,editType:`style`}),width:u({},r.marker.line.width,{arrayOk:!1,editType:`style`}),editType:`style`},editType:`style`},editType:`style`}}e.exports={measure:{valType:`data_array`,dflt:[],editType:`calc`},base:{valType:`number`,dflt:null,arrayOk:!1,editType:`calc`},x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,xperiod:r.xperiod,yperiod:r.yperiod,xperiod0:r.xperiod0,yperiod0:r.yperiod0,xperiodalignment:r.xperiodalignment,yperiodalignment:r.yperiodalignment,xhoverformat:o(`x`),yhoverformat:o(`y`),hovertext:r.hovertext,hovertemplate:s({},{keys:l.eventDataKeys}),hoverinfo:u({},a.hoverinfo,{flags:[`name`,`x`,`y`,`text`,`initial`,`delta`,`final`]}),textinfo:{valType:`flaglist`,flags:[`label`,`text`,`initial`,`delta`,`final`],extras:[`none`],editType:`plot`,arrayOk:!1},texttemplate:c({editType:`plot`},{keys:l.eventDataKeys.concat([`label`])}),text:r.text,textposition:r.textposition,insidetextanchor:r.insidetextanchor,textangle:r.textangle,textfont:r.textfont,insidetextfont:r.insidetextfont,outsidetextfont:r.outsidetextfont,constraintext:r.constraintext,cliponaxis:r.cliponaxis,orientation:r.orientation,offset:r.offset,width:r.width,increasing:f(`increasing`),decreasing:f(`decreasing`),totals:f(`intermediate sums and total`),connector:{line:{color:u({},i.color,{dflt:d.defaultLine}),width:u({},i.width,{editType:`plot`}),dash:i.dash,editType:`plot`},mode:{valType:`enumerated`,values:[`spanning`,`between`],dflt:`between`,editType:`plot`},visible:{valType:`boolean`,dflt:!0,editType:`plot`},editType:`plot`},offsetgroup:r.offsetgroup,alignmentgroup:r.alignmentgroup}}),52752:(function(e,t,n){var r=n(89298),i=n(42973),a=n(71828).mergeArray,o=n(66279),s=n(50606).BADNUM;function c(e){return e===`a`||e===`absolute`}function l(e){return e===`t`||e===`total`}e.exports=function(e,t){var n=r.getFromId(e,t.xaxis||`x`),u=r.getFromId(e,t.yaxis||`y`),d,f,p,m,h,g;t.orientation===`h`?(d=n.makeCalcdata(t,`x`),p=u.makeCalcdata(t,`y`),m=i(t,u,`y`,p),h=!!t.yperiodalignment,g=`y`):(d=u.makeCalcdata(t,`y`),p=n.makeCalcdata(t,`x`),m=i(t,n,`x`,p),h=!!t.xperiodalignment,g=`x`),f=m.vals;for(var _=Math.min(f.length,d.length),v=Array(_),y=0,b,x=!1,S=0;S<_;S++){var C=d[S]||0,w=!1;(d[S]!==s||l(t.measure[S])||c(t.measure[S]))&&S+1<_&&(d[S+1]!==s||l(t.measure[S+1])||c(t.measure[S+1]))&&(w=!0);var T=v[S]={i:S,p:f[S],s:C,rawS:C,cNext:w};c(t.measure[S])?(y=T.s,T.isSum=!0,T.dir=`totals`,T.s=y):l(t.measure[S])?(T.isSum=!0,T.dir=`totals`,T.s=y):(T.isSum=!1,T.dir=T.rawS<0?`decreasing`:`increasing`,b=T.s,T.s=y+b,y+=b),T.dir===`totals`&&(x=!0),h&&(v[S].orig_p=p[S],v[S][g+`End`]=m.ends[S],v[S][g+`Start`]=m.starts[S]),t.ids&&(T.id=String(t.ids[S])),T.v=(t.base||0)+y}return v.length&&(v[0].hasTotals=x),a(t.text,v,`tx`),a(t.hovertext,v,`htx`),o(v,t),v}}),48334:(function(e){e.exports={eventDataKeys:[`initial`,`delta`,`final`]}}),70766:(function(e,t,n){var r=n(11661).setGroupPositions;e.exports=function(e,t){var n=e._fullLayout,i=e._fullData,a=e.calcdata,o=t.xaxis,s=t.yaxis,c=[],l=[],u=[],d,f;for(f=0;f<i.length;f++){var p=i[f];p.visible===!0&&p.xaxis===o._id&&p.yaxis===s._id&&p.type===`waterfall`&&(d=a[f],p.orientation===`h`?u.push(d):l.push(d),c.push(d))}var m={mode:n.waterfallmode,norm:n.waterfallnorm,gap:n.waterfallgap,groupgap:n.waterfallgroupgap};for(r(e,o,s,l,m),r(e,s,o,u,m),f=0;f<c.length;f++){d=c[f];for(var h=0;h<d.length;h++){var g=d[h];g.isSum===!1&&(g.s0+=h===0?0:d[h-1].s),h+1<d.length&&(d[h].nextP0=d[h+1].p0,d[h].nextS0=d[h+1].s0)}}}}),83266:(function(e,t,n){var r=n(71828),i=n(26125),a=n(90769).handleText,o=n(67513),s=n(73927),c=n(43037),l=n(7901),u=n(22372),d=u.INCREASING.COLOR,f=u.DECREASING.COLOR,p=`#4499FF`;function m(e,t,n){e(t+`.marker.color`,n),e(t+`.marker.line.color`,l.defaultLine),e(t+`.marker.line.width`)}function h(e,t,n,i){function l(n,i){return r.coerce(e,t,c,n,i)}if(!o(e,t,i,l)){t.visible=!1;return}s(e,t,i,l),l(`xhoverformat`),l(`yhoverformat`),l(`measure`),l(`orientation`,t.x&&!t.y?`h`:`v`),l(`base`),l(`offset`),l(`width`),l(`text`),l(`hovertext`),l(`hovertemplate`),a(e,t,i,l,l(`textposition`),{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),t.textposition!==`none`&&(l(`texttemplate`),t.texttemplate||l(`textinfo`)),m(l,`increasing`,d),m(l,`decreasing`,f),m(l,`totals`,p),l(`connector.visible`)&&(l(`connector.mode`),l(`connector.line.width`)&&(l(`connector.line.color`),l(`connector.line.dash`)))}function g(e,t){var n,a;function o(e){return r.coerce(a._input,a,c,e)}if(t.waterfallmode===`group`)for(var s=0;s<e.length;s++)a=e[s],n=a._input,i(n,a,t,o)}e.exports={supplyDefaults:h,crossTraceDefaults:g}}),58593:(function(e){e.exports=function(e,t){return e.x=`xVal`in t?t.xVal:t.x,e.y=`yVal`in t?t.yVal:t.y,`initial`in t&&(e.initial=t.initial),`delta`in t&&(e.delta=t.delta),`final`in t&&(e.final=t.final),t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),e}}),61326:(function(e,t,n){var r=n(89298).hoverLabelText,i=n(7901).opacity,a=n(95423).hoverOnBars,o=n(22372),s={increasing:o.INCREASING.SYMBOL,decreasing:o.DECREASING.SYMBOL};e.exports=function(e,t,n,i,o){var l=a(e,t,n,i,o);if(!l)return;var u=l.cd,d=u[0].trace,f=d.orientation===`h`,p=f?`x`:`y`,m=f?e.xa:e.ya;function h(e){return r(m,e,d[p+`hoverformat`])}var g=u[l.index],_=g.isSum?g.b+g.s:g.rawS;if(!g.isSum){l.initial=g.b+g.s-_,l.delta=_,l.final=l.initial+l.delta;var v=h(Math.abs(l.delta));l.deltaLabel=_<0?`(`+v+`)`:v,l.finalLabel=h(l.final),l.initialLabel=h(l.initial)}var y=g.hi||d.hoverinfo,b=[];if(y&&y!==`none`&&y!==`skip`){var x=y===`all`,S=y.split(`+`),C=function(e){return x||S.indexOf(e)!==-1};g.isSum||(C(`final`)&&(f?!C(`x`):!C(`y`))&&b.push(l.finalLabel),C(`delta`)&&(_<0?b.push(l.deltaLabel+` `+s.decreasing):b.push(l.deltaLabel+` `+s.increasing)),C(`initial`)&&b.push(`Initial: `+l.initialLabel))}return b.length&&(l.extraText=b.join(`<br>`)),l.color=c(d,g),[l]};function c(e,t){var n=e[t.dir].marker,r=n.color,a=n.line.color,o=n.line.width;if(i(r))return r;if(i(a)&&o)return a}}),19990:(function(e,t,n){e.exports={attributes:n(43037),layoutAttributes:n(13494),supplyDefaults:n(83266).supplyDefaults,crossTraceDefaults:n(83266).crossTraceDefaults,supplyLayoutDefaults:n(5176),calc:n(52752),crossTraceCalc:n(70766),plot:n(30436),style:n(55750).style,hoverPoints:n(61326),eventData:n(58593),selectPoints:n(81974),moduleType:`trace`,name:`waterfall`,basePlotModule:n(93612),categories:[`bar-like`,`cartesian`,`svg`,`oriented`,`showLegend`,`zoomScale`],meta:{}}}),13494:(function(e){e.exports={waterfallmode:{valType:`enumerated`,values:[`group`,`overlay`],dflt:`group`,editType:`calc`},waterfallgap:{valType:`number`,min:0,max:1,editType:`calc`},waterfallgroupgap:{valType:`number`,min:0,max:1,dflt:0,editType:`calc`}}}),5176:(function(e,t,n){var r=n(71828),i=n(13494);e.exports=function(e,t,n){var a=!1;function o(n,a){return r.coerce(e,t,i,n,a)}for(var s=0;s<n.length;s++){var c=n[s];if(c.visible&&c.type===`waterfall`){a=!0;break}}a&&(o(`waterfallmode`),o(`waterfallgap`,.2),o(`waterfallgroupgap`))}}),30436:(function(e,t,n){var r=n(39898),i=n(71828),a=n(91424),o=n(50606).BADNUM,s=n(17295),c=n(72597).clearMinTextSize;e.exports=function(e,t,n,r){var i=e._fullLayout;c(`waterfall`,i),s.plot(e,t,n,r,{mode:i.waterfallmode,norm:i.waterfallmode,gap:i.waterfallgap,groupgap:i.waterfallgroupgap}),l(e,t,n,r)};function l(e,t,n,s){var c=t.xaxis,l=t.yaxis;i.makeTraceGroups(s,n,`trace bars`).each(function(n){var s=r.select(this),d=n[0].trace,f=i.ensureSingle(s,`g`,`lines`);if(!d.connector||!d.connector.visible){f.remove();return}var p=d.orientation===`h`,m=d.connector.mode,h=f.selectAll(`g.line`).data(i.identity);h.enter().append(`g`).classed(`line`,!0),h.exit().remove();var g=h.size();h.each(function(n,s){if(!(s!==g-1&&!n.cNext)){var d=u(n,c,l,p),f=d[0],h=d[1],_=``;f[0]!==o&&h[0]!==o&&f[1]!==o&&h[1]!==o&&(m===`spanning`&&!n.isSum&&s>0&&(p?_+=`M`+f[0]+`,`+h[1]+`V`+h[0]:_+=`M`+f[1]+`,`+h[0]+`H`+f[0]),m!==`between`&&(n.isSum||s<g-1)&&(p?_+=`M`+f[1]+`,`+h[0]+`V`+h[1]:_+=`M`+f[0]+`,`+h[1]+`H`+f[1]),f[2]!==o&&h[2]!==o&&(p?_+=`M`+f[1]+`,`+h[1]+`V`+h[2]:_+=`M`+f[1]+`,`+h[1]+`H`+f[2])),_===``&&(_=`M0,0Z`),i.ensureSingle(r.select(this),`path`).attr(`d`,_).call(a.setClipUrl,t.layerClipId,e)}})})}function u(e,t,n,r){var i=[],a=[],o=r?t:n,s=r?n:t;return i[0]=o.c2p(e.s0,!0),a[0]=s.c2p(e.p0,!0),i[1]=o.c2p(e.s1,!0),a[1]=s.c2p(e.p1,!0),i[2]=o.c2p(e.nextS0,!0),a[2]=s.c2p(e.nextP0,!0),r?[i,a]:[a,i]}}),55750:(function(e,t,n){var r=n(39898),i=n(91424),a=n(7901),o=n(37822).DESELECTDIM,s=n(16688),c=n(72597).resizeText,l=s.styleTextPoints;function u(e,t,n){var s=n||r.select(e).selectAll(`g.waterfalllayer`).selectAll(`g.trace`);c(e,s,`waterfall`),s.style(`opacity`,function(e){return e[0].trace.opacity}),s.each(function(t){var n=r.select(this),s=t[0].trace;n.selectAll(`.point > path`).each(function(e){if(!e.isBlank){var t=s[e.dir].marker;r.select(this).call(a.fill,t.color).call(a.stroke,t.line.color).call(i.dashLine,t.line.dash,t.line.width).style(`opacity`,s.selectedpoints&&!e.selected?o:1)}}),l(n,s,e),n.selectAll(`.lines`).each(function(){var e=s.connector.line;i.lineGroupStyle(r.select(this).selectAll(`path`),e.width,e.color,e.dash)})})}e.exports={style:u}}),82887:(function(e,t,n){var r=n(89298),i=n(71828),a=n(86281),o=n(79344).p,s=n(50606).BADNUM;t.moduleType=`transform`,t.name=`aggregate`;var c=t.attributes={enabled:{valType:`boolean`,dflt:!0,editType:`calc`},groups:{valType:`string`,strict:!0,noBlank:!0,arrayOk:!0,dflt:`x`,editType:`calc`},aggregations:{_isLinkedToArray:`aggregation`,target:{valType:`string`,editType:`calc`},func:{valType:`enumerated`,values:[`count`,`sum`,`avg`,`median`,`mode`,`rms`,`stddev`,`min`,`max`,`first`,`last`,`change`,`range`],dflt:`first`,editType:`calc`},funcmode:{valType:`enumerated`,values:[`sample`,`population`],dflt:`sample`,editType:`calc`},enabled:{valType:`boolean`,dflt:!0,editType:`calc`},editType:`calc`},editType:`calc`},l=c.aggregations;t.supplyDefaults=function(e,t){var n={},r;function o(t,r){return i.coerce(e,n,c,t,r)}if(!o(`enabled`))return n;var s=a.findArrayAttributes(t),u={};for(r=0;r<s.length;r++)u[s[r]]=1;var d=o(`groups`);if(!Array.isArray(d)){if(!u[d])return n.enabled=!1,n;u[d]=0}var f=e.aggregations||[],p=n.aggregations=Array(f.length),m;function h(e,t){return i.coerce(f[r],m,l,e,t)}for(r=0;r<f.length;r++){m={_index:r};var g=h(`target`),_=h(`func`);h(`enabled`)&&g&&(u[g]||_===`count`&&u[g]===void 0)?(_===`stddev`&&h(`funcmode`),u[g]=0,p[r]=m):p[r]={enabled:!1,_index:r}}for(r=0;r<s.length;r++)u[s[r]]&&p.push({target:s[r],func:l.func.dflt,enabled:!0,_index:-1});return n},t.calcTransform=function(e,t,n){if(n.enabled){var r=n.groups,a=i.getTargetArray(t,{target:r});if(a){var s,c,l,d,f={},p={},m=[],h=o(t.transforms,n),g=a.length;for(t._length&&(g=Math.min(g,t._length)),s=0;s<g;s++)c=a[s],l=f[c],l===void 0?(f[c]=m.length,d=[s],m.push(d),p[f[c]]=h(s)):(m[l].push(s),p[f[c]]=(p[f[c]]||[]).concat(h(s)));n._indexToPoints=p;var _=n.aggregations;for(s=0;s<_.length;s++)u(e,t,m,_[s]);typeof r==`string`&&u(e,t,m,{target:r,func:`first`,enabled:!0}),t._length=m.length}}};function u(e,t,n,a){if(a.enabled){for(var o=a.target,s=i.nestedProperty(t,o),c=s.get(),l=d(a,r.getDataConversions(e,t,o,c)),u=Array(n.length),f=0;f<n.length;f++)u[f]=l(c,n[f]);s.set(u),a.func===`count`&&i.pushUnique(t._arrayAttrs,o)}}function d(e,t){var n=e.func,r=t.d2c,a=t.c2d;switch(n){case`count`:return f;case`first`:return p;case`last`:return m;case`sum`:return function(e,t){for(var n=0,i=0;i<t.length;i++){var o=r(e[t[i]]);o!==s&&(n+=o)}return a(n)};case`avg`:return function(e,t){for(var n=0,i=0,o=0;o<t.length;o++){var c=r(e[t[o]]);c!==s&&(n+=c,i++)}return i?a(n/i):s};case`min`:return function(e,t){for(var n=1/0,i=0;i<t.length;i++){var o=r(e[t[i]]);o!==s&&(n=Math.min(n,o))}return n===1/0?s:a(n)};case`max`:return function(e,t){for(var n=-1/0,i=0;i<t.length;i++){var o=r(e[t[i]]);o!==s&&(n=Math.max(n,o))}return n===-1/0?s:a(n)};case`range`:return function(e,t){for(var n=1/0,i=-1/0,o=0;o<t.length;o++){var c=r(e[t[o]]);c!==s&&(n=Math.min(n,c),i=Math.max(i,c))}return i===-1/0||n===1/0?s:a(i-n)};case`change`:return function(e,t){var n=r(e[t[0]]),i=r(e[t[t.length-1]]);return n===s||i===s?s:a(i-n)};case`median`:return function(e,t){for(var n=[],o=0;o<t.length;o++){var c=r(e[t[o]]);c!==s&&n.push(c)}if(!n.length)return s;n.sort(i.sorterAsc);var l=(n.length-1)/2;return a((n[Math.floor(l)]+n[Math.ceil(l)])/2)};case`mode`:return function(e,t){for(var n={},i=0,o=s,c=0;c<t.length;c++){var l=r(e[t[c]]);if(l!==s){var u=n[l]=(n[l]||0)+1;u>i&&(i=u,o=l)}}return i?a(o):s};case`rms`:return function(e,t){for(var n=0,i=0,o=0;o<t.length;o++){var c=r(e[t[o]]);c!==s&&(n+=c*c,i++)}return i?a(Math.sqrt(n/i)):s};case`stddev`:return function(t,n){var i=0,a=0,o=1,c=s,l;for(l=0;l<n.length&&c===s;l++)c=r(t[n[l]]);if(c===s)return s;for(;l<n.length;l++){var u=r(t[n[l]]);if(u!==s){var d=u-c;i+=d,a+=d*d,o++}}var f=e.funcmode===`sample`?o-1:o;return f?Math.sqrt((a-i*i/o)/f):0}}}function f(e,t){return t.length}function p(e,t){return e[t[0]]}function m(e,t){return e[t[t.length-1]]}}),14382:(function(e,t,n){var r=n(71828),i=n(73972),a=n(89298),o=n(79344).p,s=n(74808),c=s.COMPARISON_OPS,l=s.INTERVAL_OPS,u=s.SET_OPS;t.moduleType=`transform`,t.name=`filter`,t.attributes={enabled:{valType:`boolean`,dflt:!0,editType:`calc`},target:{valType:`string`,strict:!0,noBlank:!0,arrayOk:!0,dflt:`x`,editType:`calc`},operation:{valType:`enumerated`,values:[].concat(c,l,u),dflt:`=`,editType:`calc`},value:{valType:`any`,dflt:0,editType:`calc`},preservegaps:{valType:`boolean`,dflt:!1,editType:`calc`},editType:`calc`},t.supplyDefaults=function(e){var n={};function a(i,a){return r.coerce(e,n,t.attributes,i,a)}if(a(`enabled`)){var o=a(`target`);if(r.isArrayOrTypedArray(o)&&o.length===0)return n.enabled=!1,n;a(`preservegaps`),a(`operation`),a(`value`);var s=i.getComponentMethod(`calendars`,`handleDefaults`);s(e,n,`valuecalendar`,null),s(e,n,`targetcalendar`,null)}return n},t.calcTransform=function(e,t,n){if(!n.enabled)return;var i=r.getTargetArray(t,n);if(!i)return;var s=n.target,c=i.length;t._length&&(c=Math.min(c,t._length));var l=n.targetcalendar,u=t._arrayAttrs,f=n.preservegaps;if(typeof s==`string`){var p=r.nestedProperty(t,s+`calendar`).get();p&&(l=p)}var m=d(n,a.getDataToCoordFunc(e,t,s,i),l),h={},g={},_=0;function v(e,n){for(var i=0;i<u.length;i++)e(r.nestedProperty(t,u[i]),n)}var y,b;f?(y=function(e){h[e.astr]=r.extendDeep([],e.get()),e.set(Array(c))},b=function(e,t){var n=h[e.astr][t];e.get()[t]=n}):(y=function(e){h[e.astr]=r.extendDeep([],e.get()),e.set([])},b=function(e,t){var n=h[e.astr][t];e.get().push(n)}),v(y);for(var x=o(t.transforms,n),S=0;S<c;S++)m(i[S])?(v(b,S),g[_++]=x(S)):f&&_++;n._indexToPoints=g,t._length=_};function d(e,t,n){var r=e.operation,i=e.value,a=Array.isArray(i);function o(e){return e.indexOf(r)!==-1}var s=function(n){return t(n,0,e.valuecalendar)},d=function(e){return t(e,0,n)},f;switch(o(c)?f=s(a?i[0]:i):o(l)?f=a?[s(i[0]),s(i[1])]:[s(i),s(i)]:o(u)&&(f=a?i.map(s):[s(i)]),r){case`=`:return function(e){return d(e)===f};case`!=`:return function(e){return d(e)!==f};case`<`:return function(e){return d(e)<f};case`<=`:return function(e){return d(e)<=f};case`>`:return function(e){return d(e)>f};case`>=`:return function(e){return d(e)>=f};case`[]`:return function(e){var t=d(e);return t>=f[0]&&t<=f[1]};case`()`:return function(e){var t=d(e);return t>f[0]&&t<f[1]};case`[)`:return function(e){var t=d(e);return t>=f[0]&&t<f[1]};case`(]`:return function(e){var t=d(e);return t>f[0]&&t<=f[1]};case`][`:return function(e){var t=d(e);return t<=f[0]||t>=f[1]};case`)(`:return function(e){var t=d(e);return t<f[0]||t>f[1]};case`](`:return function(e){var t=d(e);return t<=f[0]||t>f[1]};case`)[`:return function(e){var t=d(e);return t<f[0]||t>=f[1]};case`{}`:return function(e){return f.indexOf(d(e))!==-1};case`}{`:return function(e){return f.indexOf(d(e))===-1}}}}),43102:(function(e,t,n){var r=n(71828),i=n(86281),a=n(74875),o=n(79344).p;t.moduleType=`transform`,t.name=`groupby`,t.attributes={enabled:{valType:`boolean`,dflt:!0,editType:`calc`},groups:{valType:`data_array`,dflt:[],editType:`calc`},nameformat:{valType:`string`,editType:`calc`},styles:{_isLinkedToArray:`style`,target:{valType:`string`,editType:`calc`},value:{valType:`any`,dflt:{},editType:`calc`,_compareAsJSON:!0},editType:`calc`},editType:`calc`},t.supplyDefaults=function(e,n,i){var a,o={};function s(n,i){return r.coerce(e,o,t.attributes,n,i)}if(!s(`enabled`))return o;s(`groups`),s(`nameformat`,i._dataLength>1?`%{group} (%{trace})`:`%{group}`);var c=e.styles,l=o.styles=[];if(c)for(a=0;a<c.length;a++){var u=l[a]={};r.coerce(c[a],l[a],t.attributes.styles,`target`);var d=r.coerce(c[a],l[a],t.attributes.styles,`value`);r.isPlainObject(d)?u.value=r.extendDeep({},d):d&&delete u.value}return o},t.transform=function(e,t){var n,r,i,a=[];for(r=0;r<e.length;r++)for(n=s(e[r],t),i=0;i<n.length;i++)a.push(n[i]);return a};function s(e,t){var n,s,c,l,u,d,f,p,m,h,g=t.transform,_=t.transformIndex,v=e.transforms[_].groups,y=o(e.transforms,g);if(!r.isArrayOrTypedArray(v)||v.length===0)return[e];var b=r.filterUnique(v),x=Array(b.length),S=v.length,C=i.findArrayAttributes(e),w=g.styles||[],T={};for(n=0;n<w.length;n++)T[w[n].target]=w[n].value;g.styles&&(h=r.keyedContainer(g,`styles`,`target`,`value.name`));var E={},D={};for(n=0;n<b.length;n++){d=b[n],E[d]=n,D[d]=0,f=x[n]=r.extendDeepNoArrays({},e),f._group=d,f.transforms[_]._indexToPoints={};var O=null;for(h&&(O=h.get(d)),O||O===``?f.name=O:f.name=r.templateString(g.nameformat,{trace:e.name,group:d}),p=f.transforms,f.transforms=[],s=0;s<p.length;s++)f.transforms[s]=r.extendDeepNoArrays({},p[s]);for(s=0;s<C.length;s++)r.nestedProperty(f,C[s]).set([])}for(c=0;c<C.length;c++){for(l=C[c],s=0,m=[];s<b.length;s++)m[s]=r.nestedProperty(x[s],l).get();for(u=r.nestedProperty(e,l).get(),s=0;s<S;s++)m[E[v[s]]].push(u[s])}for(s=0;s<S;s++){f=x[E[v[s]]];var k=f.transforms[_]._indexToPoints;k[D[v[s]]]=y(s),D[v[s]]++}for(n=0;n<b.length;n++)d=b[n],f=x[n],a.clearExpandedTraceDefaultColors(f),f=r.extendDeepNoArrays(f,T[d]||{});return x}}),79344:(function(e,t){t.p=function(e,t){for(var n,r,i=0;i<e.length&&(n=e[i],n!==t);i++)!n._indexToPoints||n.enabled===!1||(r=n._indexToPoints);return r?function(e){return r[e]}:function(e){return[e]}}}),32275:(function(e,t,n){var r=n(71828),i=n(89298),a=n(79344).p,o=n(50606).BADNUM;t.moduleType=`transform`,t.name=`sort`,t.attributes={enabled:{valType:`boolean`,dflt:!0,editType:`calc`},target:{valType:`string`,strict:!0,noBlank:!0,arrayOk:!0,dflt:`x`,editType:`calc`},order:{valType:`enumerated`,values:[`ascending`,`descending`],dflt:`ascending`,editType:`calc`},editType:`calc`},t.supplyDefaults=function(e){var n={};function i(i,a){return r.coerce(e,n,t.attributes,i,a)}return i(`enabled`)&&(i(`target`),i(`order`)),n},t.calcTransform=function(e,t,n){if(n.enabled){var o=r.getTargetArray(t,n);if(o){var c=n.target,l=o.length;t._length&&(l=Math.min(l,t._length));var u=t._arrayAttrs,d=s(n,o,i.getDataToCoordFunc(e,t,c,o),l),f=a(t.transforms,n),p={},m,h;for(m=0;m<u.length;m++){var g=r.nestedProperty(t,u[m]),_=g.get(),v=Array(l);for(h=0;h<l;h++)v[h]=_[d[h]];g.set(v)}for(h=0;h<l;h++)p[h]=f(d[h]);n._indexToPoints=p,t._length=l}}};function s(e,t,n,r){var i=Array(r),a=Array(r),o;for(o=0;o<r;o++)i[o]={v:t[o],i:o};for(i.sort(c(e,n)),o=0;o<r;o++)a[o]=i[o].i;return a}function c(e,t){switch(e.order){case`ascending`:return function(e,n){var r=t(e.v),i=t(n.v);return r===o?1:i===o?-1:r-i};case`descending`:return function(e,n){var r=t(e.v),i=t(n.v);return r===o?1:i===o?-1:i-r}}}}),11506:(function(e,t){t.version=`2.19.1`}),9330:(function(e,t,n){var r=n(90386);(function(t,n){e.exports=n()})(self,function(){return function(){var e={7386:function(e,t,n){e.exports={alpha_shape:n(2350),convex_hull:n(5537),delaunay_triangulate:n(4419),gl_cone3d:n(1140),gl_error3d:n(3110),gl_heatmap2d:n(6386),gl_line3d:n(6086),gl_mesh3d:n(8116),gl_plot2d:n(2117),gl_plot3d:n(1059),gl_pointcloud2d:n(8271),gl_scatter3d:n(2182),gl_select_box:n(6623),gl_spikes2d:n(3050),gl_streamtube3d:n(7307),gl_surface3d:n(3754),ndarray:n(5050),ndarray_linear_interpolate:n(3581)}},2146:function(e,t,n){function r(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,`prototype`,{writable:!1}),e}function o(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Super expression must either be null or a function`);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,`prototype`,{writable:!1}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=d();return function(){var n=f(e),r;if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&(p(t)===`object`||typeof t==`function`))return t;if(t!==void 0)throw TypeError(`Derived constructors may only return object or undefined`);return u(e)}function u(e){if(e===void 0)throw ReferenceError(`this hasn't been initialised - super() hasn't been called`);return e}function d(){if(typeof Reflect>`u`||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==`function`)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e){"@babel/helpers - typeof";return p=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},p(e)}var m=n(3910),h=n(3187),g=typeof Symbol==`function`&&typeof Symbol.for==`function`?Symbol.for(`nodejs.util.inspect.custom`):null;t.lW=b,t.h2=50;var _=2147483647;b.TYPED_ARRAY_SUPPORT=v(),!b.TYPED_ARRAY_SUPPORT&&typeof console<`u`&&typeof console.error==`function`&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function v(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,`parent`,{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,`offset`,{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function y(e){if(e>_)throw RangeError(`The value "`+e+`" is invalid for option "size"`);var t=new Uint8Array(e);return Object.setPrototypeOf(t,b.prototype),t}function b(e,t,n){if(typeof e==`number`){if(typeof t==`string`)throw TypeError(`The "string" argument must be of type string. Received type number`);return w(e)}return x(e,t,n)}b.poolSize=8192;function x(e,t,n){if(typeof e==`string`)return T(e,t);if(ArrayBuffer.isView(e))return D(e);if(e==null)throw TypeError(`The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type `+p(e));if(be(e,ArrayBuffer)||e&&be(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<`u`&&(be(e,SharedArrayBuffer)||e&&be(e.buffer,SharedArrayBuffer)))return O(e,t,n);if(typeof e==`number`)throw TypeError(`The "value" argument must not be of type number. Received type number`);var r=e.valueOf&&e.valueOf();if(r!=null&&r!==e)return b.from(r,t,n);var i=k(e);if(i)return i;if(typeof Symbol<`u`&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]==`function`)return b.from(e[Symbol.toPrimitive](`string`),t,n);throw TypeError(`The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type `+p(e))}b.from=function(e,t,n){return x(e,t,n)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function S(e){if(typeof e!=`number`)throw TypeError(`"size" argument must be of type number`);if(e<0)throw RangeError(`The value "`+e+`" is invalid for option "size"`)}function C(e,t,n){return S(e),e<=0||t===void 0?y(e):typeof n==`string`?y(e).fill(t,n):y(e).fill(t)}b.alloc=function(e,t,n){return C(e,t,n)};function w(e){return S(e),y(e<0?0:A(e)|0)}b.allocUnsafe=function(e){return w(e)},b.allocUnsafeSlow=function(e){return w(e)};function T(e,t){if((typeof t!=`string`||t===``)&&(t=`utf8`),!b.isEncoding(t))throw TypeError(`Unknown encoding: `+t);var n=j(e,t)|0,r=y(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function E(e){for(var t=e.length<0?0:A(e.length)|0,n=y(t),r=0;r<t;r+=1)n[r]=e[r]&255;return n}function D(e){if(be(e,Uint8Array)){var t=new Uint8Array(e);return O(t.buffer,t.byteOffset,t.byteLength)}return E(e)}function O(e,t,n){if(t<0||e.byteLength<t)throw RangeError(`"offset" is outside of buffer bounds`);if(e.byteLength<t+(n||0))throw RangeError(`"length" is outside of buffer bounds`);var r=t===void 0&&n===void 0?new Uint8Array(e):n===void 0?new Uint8Array(e,t):new Uint8Array(e,t,n);return Object.setPrototypeOf(r,b.prototype),r}function k(e){if(b.isBuffer(e)){var t=A(e.length)|0,n=y(t);return n.length===0||e.copy(n,0,0,t),n}if(e.length!==void 0)return typeof e.length!=`number`||xe(e.length)?y(0):E(e);if(e.type===`Buffer`&&Array.isArray(e.data))return E(e.data)}function A(e){if(e>=_)throw RangeError(`Attempt to allocate Buffer larger than maximum size: 0x`+_.toString(16)+` bytes`);return e|0}b.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==b.prototype},b.compare=function(e,t){if(be(e,Uint8Array)&&(e=b.from(e,e.offset,e.byteLength)),be(t,Uint8Array)&&(t=b.from(t,t.offset,t.byteLength)),!b.isBuffer(e)||!b.isBuffer(t))throw TypeError(`The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array`);if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},b.isEncoding=function(e){switch(String(e).toLowerCase()){case`hex`:case`utf8`:case`utf-8`:case`ascii`:case`latin1`:case`binary`:case`base64`:case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return!0;default:return!1}},b.concat=function(e,t){if(!Array.isArray(e))throw TypeError(`"list" argument must be an Array of Buffers`);if(e.length===0)return b.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=b.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(be(a,Uint8Array))i+a.length>r.length?(b.isBuffer(a)||(a=b.from(a)),a.copy(r,i)):Uint8Array.prototype.set.call(r,a,i);else if(b.isBuffer(a))a.copy(r,i);else throw TypeError(`"list" argument must be an Array of Buffers`);i+=a.length}return r};function j(e,t){if(b.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||be(e,ArrayBuffer))return e.byteLength;if(typeof e!=`string`)throw TypeError(`The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type `+p(e));var n=e.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&n===0)return 0;for(var i=!1;;)switch(t){case`ascii`:case`latin1`:case`binary`:return n;case`utf8`:case`utf-8`:return he(e).length;case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return n*2;case`hex`:return n>>>1;case`base64`:return ve(e).length;default:if(i)return r?-1:he(e).length;t=(``+t).toLowerCase(),i=!0}}b.byteLength=j;function M(e,t,n){var r=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,t>>>=0,n<=t))return``;for(e||=`utf8`;;)switch(e){case`hex`:return ee(this,t,n);case`utf8`:case`utf-8`:return H(this,t,n);case`ascii`:return G(this,t,n);case`latin1`:case`binary`:return K(this,t,n);case`base64`:return V(this,t,n);case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return q(this,t,n);default:if(r)throw TypeError(`Unknown encoding: `+e);e=(e+``).toLowerCase(),r=!0}}b.prototype._isBuffer=!0;function N(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}b.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError(`Buffer size must be a multiple of 16-bits`);for(var t=0;t<e;t+=2)N(this,t,t+1);return this},b.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError(`Buffer size must be a multiple of 32-bits`);for(var t=0;t<e;t+=4)N(this,t,t+3),N(this,t+1,t+2);return this},b.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError(`Buffer size must be a multiple of 64-bits`);for(var t=0;t<e;t+=8)N(this,t,t+7),N(this,t+1,t+6),N(this,t+2,t+5),N(this,t+3,t+4);return this},b.prototype.toString=function(){var e=this.length;return e===0?``:arguments.length===0?H(this,0,e):M.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(e){if(!b.isBuffer(e))throw TypeError(`Argument must be a Buffer`);return this===e?!0:b.compare(this,e)===0},b.prototype.inspect=function(){var e=``,n=t.h2;return e=this.toString(`hex`,0,n).replace(/(.{2})/g,`$1 `).trim(),this.length>n&&(e+=` ... `),`<Buffer `+e+`>`},g&&(b.prototype[g]=b.prototype.inspect),b.prototype.compare=function(e,t,n,r,i){if(be(e,Uint8Array)&&(e=b.from(e,e.offset,e.byteLength)),!b.isBuffer(e))throw TypeError(`The "target" argument must be one of type Buffer or Uint8Array. Received type `+p(e));if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError(`out of range index`);if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,o=n-t,s=Math.min(a,o),c=this.slice(r,i),l=e.slice(t,n),u=0;u<s;++u)if(c[u]!==l[u]){a=c[u],o=l[u];break}return a<o?-1:o<a?1:0};function P(e,t,n,r,i){if(e.length===0)return-1;if(typeof n==`string`?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,xe(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0)if(i)n=0;else return-1;if(typeof t==`string`&&(t=b.from(t,r)),b.isBuffer(t))return t.length===0?-1:F(e,t,n,r,i);if(typeof t==`number`)return t&=255,typeof Uint8Array.prototype.indexOf==`function`?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):F(e,[t],n,r,i);throw TypeError(`val must be string, number or Buffer`)}function F(e,t,n,r,i){var a=1,o=e.length,s=t.length;if(r!==void 0&&(r=String(r).toLowerCase(),r===`ucs2`||r===`ucs-2`||r===`utf16le`||r===`utf-16le`)){if(e.length<2||t.length<2)return-1;a=2,o/=2,s/=2,n/=2}function c(e,t){return a===1?e[t]:e.readUInt16BE(t*a)}var l;if(i){var u=-1;for(l=n;l<o;l++)if(c(e,l)===c(t,u===-1?0:l-u)){if(u===-1&&(u=l),l-u+1===s)return u*a}else u!==-1&&(l-=l-u),u=-1}else for(n+s>o&&(n=o-s),l=n;l>=0;l--){for(var d=!0,f=0;f<s;f++)if(c(e,l+f)!==c(t,f)){d=!1;break}if(d)return l}return-1}b.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},b.prototype.indexOf=function(e,t,n){return P(this,e,t,n,!0)},b.prototype.lastIndexOf=function(e,t,n){return P(this,e,t,n,!1)};function I(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var a=t.length;r>a/2&&(r=a/2);var o;for(o=0;o<r;++o){var s=parseInt(t.substr(o*2,2),16);if(xe(s))return o;e[n+o]=s}return o}function L(e,t,n,r){return ye(he(t,e.length-n),e,n,r)}function R(e,t,n,r){return ye(ge(t),e,n,r)}function z(e,t,n,r){return ye(ve(t),e,n,r)}function B(e,t,n,r){return ye(_e(t,e.length-n),e,n,r)}b.prototype.write=function(e,t,n,r){if(t===void 0)r=`utf8`,n=this.length,t=0;else if(n===void 0&&typeof t==`string`)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,r===void 0&&(r=`utf8`)):(r=n,n=void 0);else throw Error(`Buffer.write(string, encoding, offset[, length]) is no longer supported`);var i=this.length-t;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError(`Attempt to write outside buffer bounds`);r||=`utf8`;for(var a=!1;;)switch(r){case`hex`:return I(this,e,t,n);case`utf8`:case`utf-8`:return L(this,e,t,n);case`ascii`:case`latin1`:case`binary`:return R(this,e,t,n);case`base64`:return z(this,e,t,n);case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return B(this,e,t,n);default:if(a)throw TypeError(`Unknown encoding: `+r);r=(``+r).toLowerCase(),a=!0}},b.prototype.toJSON=function(){return{type:`Buffer`,data:Array.prototype.slice.call(this._arr||this,0)}};function V(e,t,n){return t===0&&n===e.length?m.fromByteArray(e):m.fromByteArray(e.slice(t,n))}function H(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){var c=void 0,l=void 0,u=void 0,d=void 0;switch(s){case 1:a<128&&(o=a);break;case 2:c=e[i+1],(c&192)==128&&(d=(a&31)<<6|c&63,d>127&&(o=d));break;case 3:c=e[i+1],l=e[i+2],(c&192)==128&&(l&192)==128&&(d=(a&15)<<12|(c&63)<<6|l&63,d>2047&&(d<55296||d>57343)&&(o=d));break;case 4:c=e[i+1],l=e[i+2],u=e[i+3],(c&192)==128&&(l&192)==128&&(u&192)==128&&(d=(a&15)<<18|(c&63)<<12|(l&63)<<6|u&63,d>65535&&d<1114112&&(o=d))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|o&1023),r.push(o),i+=s}return W(r)}var U=4096;function W(e){var t=e.length;if(t<=U)return String.fromCharCode.apply(String,e);for(var n=``,r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=U));return n}function G(e,t,n){var r=``;n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]&127);return r}function K(e,t,n){var r=``;n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function ee(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i=``,a=t;a<n;++a)i+=Se[e[a]];return i}function q(e,t,n){for(var r=e.slice(t,n),i=``,a=0;a<r.length-1;a+=2)i+=String.fromCharCode(r[a]+r[a+1]*256);return i}b.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,b.prototype),r};function J(e,t,n){if(e%1!=0||e<0)throw RangeError(`offset is not uint`);if(e+t>n)throw RangeError(`Trying to access beyond buffer length`)}b.prototype.readUintLE=b.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||J(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},b.prototype.readUintBE=b.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||J(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},b.prototype.readUint8=b.prototype.readUInt8=function(e,t){return e>>>=0,t||J(e,1,this.length),this[e]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(e,t){return e>>>=0,t||J(e,2,this.length),this[e]|this[e+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(e,t){return e>>>=0,t||J(e,2,this.length),this[e]<<8|this[e+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(e,t){return e>>>=0,t||J(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(e,t){return e>>>=0,t||J(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},b.prototype.readBigUInt64LE=Ce(function(e){e>>>=0,de(e,`offset`);var t=this[e],n=this[e+7];(t===void 0||n===void 0)&&fe(e,this.length-8);var r=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,i=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))}),b.prototype.readBigUInt64BE=Ce(function(e){e>>>=0,de(e,`offset`);var t=this[e],n=this[e+7];(t===void 0||n===void 0)&&fe(e,this.length-8);var r=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],i=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),b.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||J(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return i*=128,r>=i&&(r-=2**(8*t)),r},b.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||J(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return i*=128,a>=i&&(a-=2**(8*t)),a},b.prototype.readInt8=function(e,t){return e>>>=0,t||J(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},b.prototype.readInt16LE=function(e,t){e>>>=0,t||J(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n},b.prototype.readInt16BE=function(e,t){e>>>=0,t||J(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n},b.prototype.readInt32LE=function(e,t){return e>>>=0,t||J(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},b.prototype.readInt32BE=function(e,t){return e>>>=0,t||J(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},b.prototype.readBigInt64LE=Ce(function(e){e>>>=0,de(e,`offset`);var t=this[e],n=this[e+7];(t===void 0||n===void 0)&&fe(e,this.length-8);var r=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),b.prototype.readBigInt64BE=Ce(function(e){e>>>=0,de(e,`offset`);var t=this[e],n=this[e+7];(t===void 0||n===void 0)&&fe(e,this.length-8);var r=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)}),b.prototype.readFloatLE=function(e,t){return e>>>=0,t||J(e,4,this.length),h.read(this,e,!0,23,4)},b.prototype.readFloatBE=function(e,t){return e>>>=0,t||J(e,4,this.length),h.read(this,e,!1,23,4)},b.prototype.readDoubleLE=function(e,t){return e>>>=0,t||J(e,8,this.length),h.read(this,e,!0,52,8)},b.prototype.readDoubleBE=function(e,t){return e>>>=0,t||J(e,8,this.length),h.read(this,e,!1,52,8)};function Y(e,t,n,r,i,a){if(!b.isBuffer(e))throw TypeError(`"buffer" argument must be a Buffer instance`);if(t>i||t<a)throw RangeError(`"value" argument is out of bounds`);if(n+r>e.length)throw RangeError(`Index out of range`)}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=2**(8*n)-1;Y(this,e,t,n,i,0)}var a=1,o=0;for(this[t]=e&255;++o<n&&(a*=256);)this[t+o]=e/a&255;return t+n},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=2**(8*n)-1;Y(this,e,t,n,i,0)}var a=n-1,o=1;for(this[t+a]=e&255;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+n},b.prototype.writeUint8=b.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||Y(this,e,t,1,255,0),this[t]=e&255,t+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||Y(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||Y(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||Y(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||Y(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function te(e,t,n,r,i){ue(t,r,i,e,n,7);var a=Number(t&BigInt(4294967295));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function ne(e,t,n,r,i){ue(t,r,i,e,n,7);var a=Number(t&BigInt(4294967295));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}b.prototype.writeBigUInt64LE=Ce(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return te(this,e,t,BigInt(0),BigInt(`0xffffffffffffffff`))}),b.prototype.writeBigUInt64BE=Ce(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(this,e,t,BigInt(0),BigInt(`0xffffffffffffffff`))}),b.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=2**(8*n-1);Y(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=e&255;++a<n&&(o*=256);)e<0&&s===0&&this[t+a-1]!==0&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},b.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=2**(8*n-1);Y(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=e&255;--a>=0&&(o*=256);)e<0&&s===0&&this[t+a+1]!==0&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},b.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||Y(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},b.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||Y(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},b.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||Y(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},b.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||Y(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},b.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||Y(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},b.prototype.writeBigInt64LE=Ce(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return te(this,e,t,-BigInt(`0x8000000000000000`),BigInt(`0x7fffffffffffffff`))}),b.prototype.writeBigInt64BE=Ce(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(this,e,t,-BigInt(`0x8000000000000000`),BigInt(`0x7fffffffffffffff`))});function re(e,t,n,r,i,a){if(n+r>e.length||n<0)throw RangeError(`Index out of range`)}function ie(e,t,n,r,i){return t=+t,n>>>=0,i||re(e,t,n,4,34028234663852886e22,-34028234663852886e22),h.write(e,t,n,r,23,4),n+4}b.prototype.writeFloatLE=function(e,t,n){return ie(this,e,t,!0,n)},b.prototype.writeFloatBE=function(e,t,n){return ie(this,e,t,!1,n)};function ae(e,t,n,r,i){return t=+t,n>>>=0,i||re(e,t,n,8,17976931348623157e292,-17976931348623157e292),h.write(e,t,n,r,52,8),n+8}b.prototype.writeDoubleLE=function(e,t,n){return ae(this,e,t,!0,n)},b.prototype.writeDoubleBE=function(e,t,n){return ae(this,e,t,!1,n)},b.prototype.copy=function(e,t,n,r){if(!b.isBuffer(e))throw TypeError(`argument should be a Buffer`);if(n||=0,!r&&r!==0&&(r=this.length),t>=e.length&&(t=e.length),t||=0,r>0&&r<n&&(r=n),r===n||e.length===0||this.length===0)return 0;if(t<0)throw RangeError(`targetStart out of bounds`);if(n<0||n>=this.length)throw RangeError(`Index out of range`);if(r<0)throw RangeError(`sourceEnd out of bounds`);r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&typeof Uint8Array.prototype.copyWithin==`function`?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},b.prototype.fill=function(e,t,n,r){if(typeof e==`string`){if(typeof t==`string`?(r=t,t=0,n=this.length):typeof n==`string`&&(r=n,n=this.length),r!==void 0&&typeof r!=`string`)throw TypeError(`encoding must be a string`);if(typeof r==`string`&&!b.isEncoding(r))throw TypeError(`Unknown encoding: `+r);if(e.length===1){var i=e.charCodeAt(0);(r===`utf8`&&i<128||r===`latin1`)&&(e=i)}}else typeof e==`number`?e&=255:typeof e==`boolean`&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError(`Out of range index`);if(n<=t)return this;t>>>=0,n=n===void 0?this.length:n>>>0,e||=0;var a;if(typeof e==`number`)for(a=t;a<n;++a)this[a]=e;else{var o=b.isBuffer(e)?e:b.from(e,r),s=o.length;if(s===0)throw TypeError(`The value "`+e+`" is invalid for argument "value"`);for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var oe={};function se(e,t,n){oe[e]=function(n){o(s,n);var i=c(s);function s(){var n;return r(this,s),n=i.call(this),Object.defineProperty(u(n),`message`,{value:t.apply(u(n),arguments),writable:!0,configurable:!0}),n.name=`${n.name} [${e}]`,n.stack,delete n.name,n}return a(s,[{key:`code`,get:function(){return e},set:function(e){Object.defineProperty(this,`code`,{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:`toString`,value:function(){return`${this.name} [${e}]: ${this.message}`}}]),s}(n)}se(`ERR_BUFFER_OUT_OF_BOUNDS`,function(e){return e?`${e} is outside of buffer bounds`:`Attempt to access memory outside buffer bounds`},RangeError),se(`ERR_INVALID_ARG_TYPE`,function(e,t){return`The "${e}" argument must be of type number. Received type ${p(t)}`},TypeError),se(`ERR_OUT_OF_RANGE`,function(e,t,n){var r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=ce(String(n)):typeof n==`bigint`&&(i=String(n),(n>BigInt(2)**+BigInt(32)||n<-(BigInt(2)**+BigInt(32)))&&(i=ce(i)),i+=`n`),r+=` It must be ${t}. Received ${i}`,r},RangeError);function ce(e){for(var t=``,n=e.length,r=e[0]===`-`?1:0;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function le(e,t,n){de(t,`offset`),(e[t]===void 0||e[t+n]===void 0)&&fe(t,e.length-(n+1))}function ue(e,t,n,r,i,a){if(e>n||e<t){var o=typeof t==`bigint`?`n`:``,s=a>3?t===0||t===BigInt(0)?`>= 0${o} and < 2${o} ** ${(a+1)*8}${o}`:`>= -(2${o} ** ${(a+1)*8-1}${o}) and < 2 ** ${(a+1)*8-1}${o}`:`>= ${t}${o} and <= ${n}${o}`;throw new oe.ERR_OUT_OF_RANGE(`value`,s,e)}le(r,i,a)}function de(e,t){if(typeof e!=`number`)throw new oe.ERR_INVALID_ARG_TYPE(t,`number`,e)}function fe(e,t,n){throw Math.floor(e)===e?t<0?new oe.ERR_BUFFER_OUT_OF_BOUNDS:new oe.ERR_OUT_OF_RANGE(n||`offset`,`>= ${n?1:0} and <= ${t}`,e):(de(e,n),new oe.ERR_OUT_OF_RANGE(n||`offset`,`an integer`,e))}var pe=/[^+/0-9A-Za-z-_]/g;function me(e){if(e=e.split(`=`)[0],e=e.trim().replace(pe,``),e.length<2)return``;for(;e.length%4!=0;)e+=`=`;return e}function he(e,t){t||=1/0;for(var n,r=e.length,i=null,a=[],o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}else if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if(--t<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,n&63|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw Error(`Invalid code point`)}return a}function ge(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n)&255);return t}function _e(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}function ve(e){return m.toByteArray(me(e))}function ye(e,t,n,r){var i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function be(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function xe(e){return e!==e}var Se=function(){for(var e=`0123456789abcdef`,t=Array(256),n=0;n<16;++n)for(var r=n*16,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}();function Ce(e){return typeof BigInt>`u`?we:e}function we(){throw Error(`BigInt not supported`)}},2321:function(e){e.exports=i,e.exports.isMobile=i,e.exports.default=i;var t=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,n=/CrOS/,r=/android|ipad|playbook|silk/i;function i(e){e||={};var i=e.ua;if(!i&&typeof navigator<`u`&&(i=navigator.userAgent),i&&i.headers&&typeof i.headers[`user-agent`]==`string`&&(i=i.headers[`user-agent`]),typeof i!=`string`)return!1;var a=t.test(i)&&!n.test(i)||!!e.tablet&&r.test(i);return!a&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&i.indexOf(`Macintosh`)!==-1&&i.indexOf(`Safari`)!==-1&&(a=!0),a}},3910:function(e,t){t.byteLength=l,t.toByteArray=d,t.fromByteArray=m;for(var n=[],r=[],i=typeof Uint8Array<`u`?Uint8Array:Array,a=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`,o=0,s=a.length;o<s;++o)n[o]=a[o],r[a.charCodeAt(o)]=o;r[45]=62,r[95]=63;function c(e){var t=e.length;if(t%4>0)throw Error(`Invalid string. Length must be a multiple of 4`);var n=e.indexOf(`=`);n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function l(e){var t=c(e),n=t[0],r=t[1];return(n+r)*3/4-r}function u(e,t,n){return(t+n)*3/4-n}function d(e){var t,n=c(e),a=n[0],o=n[1],s=new i(u(e,a,o)),l=0,d=o>0?a-4:a,f;for(f=0;f<d;f+=4)t=r[e.charCodeAt(f)]<<18|r[e.charCodeAt(f+1)]<<12|r[e.charCodeAt(f+2)]<<6|r[e.charCodeAt(f+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=t&255;return o===2&&(t=r[e.charCodeAt(f)]<<2|r[e.charCodeAt(f+1)]>>4,s[l++]=t&255),o===1&&(t=r[e.charCodeAt(f)]<<10|r[e.charCodeAt(f+1)]<<4|r[e.charCodeAt(f+2)]>>2,s[l++]=t>>8&255,s[l++]=t&255),s}function f(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[e&63]}function p(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(f(r));return i.join(``)}function m(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,c=r-i;s<c;s+=o)a.push(p(e,s,s+o>c?c:s+o));return i===1?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+`==`)):i===2&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+`=`)),a.join(``)}},3187:function(e,t){t.read=function(e,t,n,r,i){var a,o,s=i*8-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,a=p&(1<<-u)-1,p>>=-u,u+=s;u>0;a=a*256+e[t+d],d+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=o*256+e[t+d],d+=f,u-=8);if(a===0)a=1-l;else if(a===c)return o?NaN:(p?-1:1)*(1/0);else o+=2**r,a-=l;return(p?-1:1)*o*2**(a-r)},t.write=function(e,t,n,r,i,a){var o,s,c,l=a*8-i-1,u=(1<<l)-1,d=u>>1,f=i===23?2**-24-2**-77:0,p=r?0:a-1,m=r?1:-1,h=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=2**-o)<1&&(o--,c*=2),o+d>=1?t+=f/c:t+=f*2**(1-d),t*c>=2&&(o++,c/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*c-1)*2**i,o+=d):(s=t*2**(d-1)*2**i,o=0));i>=8;e[n+p]=s&255,p+=m,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+p]=o&255,p+=m,o/=256,l-=8);e[n+p-m]|=h*128}},1152:function(e,t,n){e.exports=c;var r=n(3440),i=n(7774),a=n(9298);function o(e,t){this._controllerNames=Object.keys(e),this._controllerList=this._controllerNames.map(function(t){return e[t]}),this._mode=t,this._active=e[t],this._active||=(this._mode=`turntable`,e.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=o.prototype;s.flush=function(e){for(var t=this._controllerList,n=0;n<t.length;++n)t[n].flush(e)},s.idle=function(e){for(var t=this._controllerList,n=0;n<t.length;++n)t[n].idle(e)},s.lookAt=function(e,t,n,r){for(var i=this._controllerList,a=0;a<i.length;++a)i[a].lookAt(e,t,n,r)},s.rotate=function(e,t,n,r){for(var i=this._controllerList,a=0;a<i.length;++a)i[a].rotate(e,t,n,r)},s.pan=function(e,t,n,r){for(var i=this._controllerList,a=0;a<i.length;++a)i[a].pan(e,t,n,r)},s.translate=function(e,t,n,r){for(var i=this._controllerList,a=0;a<i.length;++a)i[a].translate(e,t,n,r)},s.setMatrix=function(e,t){for(var n=this._controllerList,r=0;r<n.length;++r)n[r].setMatrix(e,t)},s.setDistanceLimits=function(e,t){for(var n=this._controllerList,r=0;r<n.length;++r)n[r].setDistanceLimits(e,t)},s.setDistance=function(e,t){for(var n=this._controllerList,r=0;r<n.length;++r)n[r].setDistance(e,t)},s.recalcMatrix=function(e){this._active.recalcMatrix(e)},s.getDistance=function(e){return this._active.getDistance(e)},s.getDistanceLimits=function(e){return this._active.getDistanceLimits(e)},s.lastT=function(){return this._active.lastT()},s.setMode=function(e){if(e!==this._mode){var t=this._controllerNames.indexOf(e);if(!(t<0)){var n=this._active,r=this._controllerList[t],i=Math.max(n.lastT(),r.lastT());n.recalcMatrix(i),r.setMatrix(i,n.computedMatrix),this._active=r,this._mode=e,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode};function c(e){e||={};var t=e.eye||[0,0,1],n=e.center||[0,0,0],s=e.up||[0,1,0],c=e.distanceLimits||[0,1/0],l=e.mode||`turntable`,u=r(),d=i(),f=a();return u.setDistanceLimits(c[0],c[1]),u.lookAt(0,t,n,s),d.setDistanceLimits(c[0],c[1]),d.lookAt(0,t,n,s),f.setDistanceLimits(c[0],c[1]),f.lookAt(0,t,n,s),new o({turntable:u,orbit:d,matrix:f},l)}},8126:function(e,t,n){var r=typeof WeakMap>`u`?n(5346):WeakMap,i=n(5827),a=n(2944),o=new r;function s(e){var t=o.get(e),n=t&&(t._triangleBuffer.handle||t._triangleBuffer.buffer);if(!n||!e.isBuffer(n)){var r=i(e,new Float32Array([-1,-1,-1,4,4,-1]));t=a(e,[{buffer:r,type:e.FLOAT,size:2}]),t._triangleBuffer=r,o.set(e,t)}t.bind(),e.drawArrays(e.TRIANGLES,0,3),t.unbind()}e.exports=s},8008:function(e,t,n){var r=n(4930);e.exports=i;function i(e,t,n){t=typeof t==`number`?t:1,n||=`: `;var i=e.split(/\r?\n/),a=String(i.length+t-1).length;return i.map(function(e,i){var o=i+t,s=String(o).length;return r(o,a-s)+n+e}).join(`
`)}},2153:function(e,t,n){e.exports=a;var r=n(417);function i(e,t){for(var n=Array(t+1),i=0;i<e.length;++i)n[i]=e[i];for(var i=0;i<=e.length;++i){for(var a=e.length;a<=t;++a){for(var o=Array(t),s=0;s<t;++s)o[s]=(a+1-i)**+s;n[a]=o}if(r.apply(void 0,n))return!0}return!1}function a(e){var t=e.length;if(t===0)return[];if(t===1)return[0];for(var n=e[0].length,r=[e[0]],a=[0],o=1;o<t;++o){if(r.push(e[o]),!i(r,n)){r.pop();continue}if(a.push(o),a.length===n+1)return a}return a}},4653:function(e,t,n){e.exports=a;var r=n(4419),i=n(1778);function a(e,t){return r(t).filter(function(n){for(var r=Array(n.length),a=0;a<n.length;++a)r[a]=t[n[a]];return i(r)*e<1})}},2350:function(e,t,n){e.exports=a;var r=n(4653),i=n(8691);function a(e,t){return i(r(e,t))}},7896:function(e){e.exports=function(e){return atob(e)}},957:function(e,t,n){e.exports=a;var r=n(6606);function i(e){for(var t=0,n=0;n<e.length;++n)t+=e[n];return t}function a(e,t){for(var n=t.length,a=Array(n+1),o=0;o<n;++o){for(var s=Array(n+1),c=0;c<=n;++c)s[c]=e[c][o];a[o]=s}a[n]=Array(n+1);for(var o=0;o<=n;++o)a[n][o]=1;for(var l=Array(n+1),o=0;o<n;++o)l[o]=t[o];l[n]=1;var u=r(a,l),d=i(u[n+1]);d===0&&(d=1);for(var f=Array(n+1),o=0;o<=n;++o)f[o]=i(u[o])/d;return f}},1539:function(e,t,n){var r=n(8524);e.exports=i;function i(e,t){return r(e[0].mul(t[1]).add(t[0].mul(e[1])),e[1].mul(t[1]))}},8846:function(e){e.exports=t;function t(e,t){return e[0].mul(t[1]).cmp(t[0].mul(e[1]))}},9189:function(e,t,n){var r=n(8524);e.exports=i;function i(e,t){return r(e[0].mul(t[1]),e[1].mul(t[0]))}},5125:function(e,t,n){var r=n(234),i=n(3218),a=n(5514),o=n(2813),s=n(8524),c=n(9189);e.exports=l;function l(e,t){if(r(e))return t?c(e,l(t)):[e[0].clone(),e[1].clone()];var n=0,u,d;if(i(e))u=e.clone();else if(typeof e==`string`)u=o(e);else if(e===0)return[a(0),a(1)];else if(e===Math.floor(e))u=a(e);else{for(;e!==Math.floor(e);)e*=2**256,n-=256;u=a(e)}if(r(t))u.mul(t[1]),d=t[0].clone();else if(i(t))d=t.clone();else if(typeof t==`string`)d=o(t);else if(!t)d=a(1);else if(t===Math.floor(t))d=a(t);else{for(;t!==Math.floor(t);)t*=2**256,n+=256;d=a(t)}return n>0?u=u.ushln(n):n<0&&(d=d.ushln(-n)),s(u,d)}},234:function(e,t,n){var r=n(3218);e.exports=i;function i(e){return Array.isArray(e)&&e.length===2&&r(e[0])&&r(e[1])}},4275:function(e,t,n){var r=n(1928);e.exports=i;function i(e){return e.cmp(new r(0))}},9958:function(e,t,n){var r=n(4275);e.exports=i;function i(e){var t=e.length,n=e.words,i=0;if(t===1)i=n[0];else if(t===2)i=n[0]+n[1]*67108864;else for(var a=0;a<t;a++){var o=n[a];i+=o*67108864**a}return r(e)*i}},1112:function(e,t,n){var r=n(8362),i=n(2288).countTrailingZeros;e.exports=a;function a(e){var t=i(r.lo(e));if(t<32)return t;var n=i(r.hi(e));return n>20?52:n+32}},3218:function(e,t,n){n(1928),e.exports=r;function r(e){return e&&typeof e==`object`&&!!e.words}},5514:function(e,t,n){var r=n(1928),i=n(8362);e.exports=a;function a(e){var t=i.exponent(e);return t<52?new r(e):new r(e*2**(52-t)).ushln(t-52)}},8524:function(e,t,n){var r=n(5514),i=n(4275);e.exports=a;function a(e,t){var n=i(e),a=i(t);if(n===0)return[r(0),r(1)];if(a===0)return[r(0),r(0)];a<0&&(e=e.neg(),t=t.neg());var o=e.gcd(t);return o.cmpn(1)?[e.div(o),t.div(o)]:[e,t]}},2813:function(e,t,n){var r=n(1928);e.exports=i;function i(e){return new r(e)}},3962:function(e,t,n){var r=n(8524);e.exports=i;function i(e,t){return r(e[0].mul(t[0]),e[1].mul(t[1]))}},4951:function(e,t,n){var r=n(4275);e.exports=i;function i(e){return r(e[0])*r(e[1])}},4354:function(e,t,n){var r=n(8524);e.exports=i;function i(e,t){return r(e[0].mul(t[1]).sub(e[1].mul(t[0])),e[1].mul(t[1]))}},7999:function(e,t,n){var r=n(9958),i=n(1112);e.exports=a;function a(e){var t=e[0],n=e[1];if(t.cmpn(0)===0)return 0;var a=t.abs().divmod(n.abs()),o=a.div,s=r(o),c=a.mod,l=t.negative===n.negative?1:-1;if(c.cmpn(0)===0)return l*s;if(s){var u=i(s)+4,d=r(c.ushln(u).divRound(n));return l*(s+d*2**-u)}else{var f=n.bitLength()-c.bitLength()+53,d=r(c.ushln(f).divRound(n));return f<1023?l*d*2**-f:(d*=2**-1023,l*d*2**(1023-f))}}},5070:function(e){function t(e,t,n,r,i){for(var a=i+1;r<=i;){var o=r+i>>>1,s=e[o];(n===void 0?s-t:n(s,t))>=0?(a=o,i=o-1):r=o+1}return a}function n(e,t,n,r,i){for(var a=i+1;r<=i;){var o=r+i>>>1,s=e[o];(n===void 0?s-t:n(s,t))>0?(a=o,i=o-1):r=o+1}return a}function r(e,t,n,r,i){for(var a=r-1;r<=i;){var o=r+i>>>1,s=e[o];(n===void 0?s-t:n(s,t))<0?(a=o,r=o+1):i=o-1}return a}function i(e,t,n,r,i){for(var a=r-1;r<=i;){var o=r+i>>>1,s=e[o];(n===void 0?s-t:n(s,t))<=0?(a=o,r=o+1):i=o-1}return a}function a(e,t,n,r,i){for(;r<=i;){var a=r+i>>>1,o=e[a],s=n===void 0?o-t:n(o,t);if(s===0)return a;s<=0?r=a+1:i=a-1}return-1}function o(e,t,n,r,i,a){return typeof n==`function`?a(e,t,n,r===void 0?0:r|0,i===void 0?e.length-1:i|0):a(e,t,void 0,n===void 0?0:n|0,r===void 0?e.length-1:r|0)}e.exports={ge:function(e,n,r,i,a){return o(e,n,r,i,a,t)},gt:function(e,t,r,i,a){return o(e,t,r,i,a,n)},lt:function(e,t,n,i,a){return o(e,t,n,i,a,r)},le:function(e,t,n,r,a){return o(e,t,n,r,a,i)},eq:function(e,t,n,r,i){return o(e,t,n,r,i,a)}}},2288:function(e,t){"use restrict";var n=32;t.INT_BITS=n,t.INT_MAX=2147483647,t.INT_MIN=-1<<n-1,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>n-1;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t=(e>65535)<<4,n;return e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,t|=n,t|e>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return e-=e>>>1&1431655765,e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24};function r(e){var t=32;return e&=-e,e&&t--,e&65535&&(t-=16),e&16711935&&(t-=8),e&252645135&&(t-=4),e&858993459&&(t-=2),e&1431655765&&--t,t}t.countTrailingZeros=r,t.nextPow2=function(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var i=Array(256);(function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=n&1,--i;e[t]=r<<i&255}})(i),t.reverse=function(e){return i[e&255]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t&=65535,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1},t.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16},t.interleave3=function(e,t,n){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,t&=1023,t=(t|t<<16)&4278190335,t=(t|t<<8)&251719695,t=(t|t<<4)&3272356035,t=(t|t<<2)&1227133513,e|=t<<1,n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,e|n<<2},t.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},1928:function(e,t,n){e=n.nmd(e),(function(e,t){function r(e,t){if(!e)throw Error(t||`Assertion failed`)}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function a(e,t,n){if(a.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,e!==null&&((t===`le`||t===`be`)&&(n=t,t=10),this._init(e||0,t||10,n||`be`))}typeof e==`object`?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;var o;try{o=typeof window<`u`&&window.Buffer!==void 0?window.Buffer:n(6601).Buffer}catch{}a.isBN=function(e){return e instanceof a?!0:typeof e==`object`&&!!e&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,t){return e.cmp(t)>0?e:t},a.min=function(e,t){return e.cmp(t)<0?e:t},a.prototype._init=function(e,t,n){if(typeof e==`number`)return this._initNumber(e,t,n);if(typeof e==`object`)return this._initArray(e,t,n);t===`hex`&&(t=16),r(t===(t|0)&&t>=2&&t<=36),e=e.toString().replace(/\s+/g,``);var i=0;e[0]===`-`&&(i++,this.negative=1),i<e.length&&(t===16?this._parseHex(e,i,n):(this._parseBase(e,t,i),n===`le`&&this._initArray(this.toArray(),t,n)))},a.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),n===`le`&&this._initArray(this.toArray(),t,n)},a.prototype._initArray=function(e,t,n){if(r(typeof e.length==`number`),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,o,s=0;if(n===`be`)for(i=e.length-1,a=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,s+=24,s>=26&&(s-=26,a++);else if(n===`le`)for(i=0,a=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=o<<s&67108863,this.words[a+1]=o>>>26-s&67108863,s+=24,s>=26&&(s-=26,a++);return this.strip()};function s(e,t){var n=e.charCodeAt(t);return n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:n-48&15}function c(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}a.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i=0,a=0,o;if(n===`be`)for(r=e.length-1;r>=t;r-=2)o=c(e,t,r)<<i,this.words[a]|=o&67108863,i>=18?(i-=18,a+=1,this.words[a]|=o>>>26):i+=8;else for(r=(e.length-t)%2==0?t+1:t;r<e.length;r+=2)o=c(e,t,r)<<i,this.words[a]|=o&67108863,i>=18?(i-=18,a+=1,this.words[a]|=o>>>26):i+=8;this.strip()};function l(e,t,n,r){for(var i=0,a=Math.min(e.length,n),o=t;o<a;o++){var s=e.charCodeAt(o)-48;i*=r,s>=49?i+=s-49+10:s>=17?i+=s-17+10:i+=s}return i}a.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var a=e.length-n,o=a%r,s=Math.min(a,a-o)+n,c=0,u=n;u<s;u+=r)c=l(e,u,u+r,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(o!==0){var d=1;for(c=l(e,u,e.length,t),u=0;u<o;u++)d*=t;this.imuln(d),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this.strip()},a.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?`<BN-R: `:`<BN: `)+this.toString(16)+`>`};var u=`.0.00.000.0000.00000.000000.0000000.00000000.000000000.0000000000.00000000000.000000000000.0000000000000.00000000000000.000000000000000.0000000000000000.00000000000000000.000000000000000000.0000000000000000000.00000000000000000000.000000000000000000000.0000000000000000000000.00000000000000000000000.000000000000000000000000.0000000000000000000000000`.split(`.`),d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(e,t){e||=10,t=t|0||1;var n;if(e===16||e===`hex`){n=``;for(var i=0,a=0,o=0;o<this.length;o++){var s=this.words[o],c=((s<<i|a)&16777215).toString(16);a=s>>>24-i&16777215,n=a!==0||o!==this.length-1?u[6-c.length]+c+n:c+n,i+=2,i>=26&&(i-=26,o--)}for(a!==0&&(n=a.toString(16)+n);n.length%t!==0;)n=`0`+n;return this.negative!==0&&(n=`-`+n),n}if(e===(e|0)&&e>=2&&e<=36){var l=d[e],p=f[e];n=``;var m=this.clone();for(m.negative=0;!m.isZero();){var h=m.modn(p).toString(e);m=m.idivn(p),n=m.isZero()?h+n:u[l-h.length]+h+n}for(this.isZero()&&(n=`0`+n);n.length%t!==0;)n=`0`+n;return this.negative!==0&&(n=`-`+n),n}r(!1,`Base should be between 2 and 36`)},a.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,`Number can only safely store up to 53 bits`),this.negative===0?e:-e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,t){return r(o!==void 0),this.toArrayLike(o,e,t)},a.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},a.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,`byte array longer than desired length`),r(a>0,`Requested array length <= 0`),this.strip();var o=t===`le`,s=new e(a),c,l,u=this.clone();if(o){for(l=0;!u.isZero();l++)c=u.andln(255),u.iushrn(8),s[l]=c;for(;l<a;l++)s[l]=0}else{for(l=0;l<a-i;l++)s[l]=0;for(l=0;!u.isZero();l++)c=u.andln(255),u.iushrn(8),s[a-l-1]=c}return s},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},a.prototype._zeroBits=function(e){if(e===0)return 26;var t=e,n=0;return t&8191||(n+=13,t>>>=13),t&127||(n+=7,t>>>=7),t&15||(n+=4,t>>>=4),t&3||(n+=2,t>>>=2),t&1||n++,n},a.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return(this.length-1)*26+t};function p(e){for(var t=Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,n!==26)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return this.negative===0?this.clone():this.abs().inotn(e).iaddn(1)},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},a.prototype.ior=function(e){return r((this.negative|e.negative)===0),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){for(var t=this.length>e.length?e:this,n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},a.prototype.iand=function(e){return r((this.negative|e.negative)===0),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},a.prototype.ixor=function(e){return r((this.negative|e.negative)===0),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){r(typeof e==`number`&&e>=0);var t=Math.ceil(e/26)|0,n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=~this.words[i]&67108863;return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,t){r(typeof e==`number`&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),t?this.words[n]=this.words[n]|1<<i:this.words[n]=this.words[n]&~(1<<i),this.strip()},a.prototype.iadd=function(e){var t;if(this.negative!==0&&e.negative===0)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();var n,r;this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,a=0;a<r.length;a++)t=(n.words[a]|0)+(r.words[a]|0)+i,this.words[a]=t&67108863,i=t>>>26;for(;i!==0&&a<n.length;a++)t=(n.words[a]|0)+i,this.words[a]=t&67108863,i=t>>>26;if(this.length=n.length,i!==0)this.words[this.length]=i,this.length++;else if(n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this},a.prototype.add=function(e){var t;return e.negative!==0&&this.negative===0?(e.negative=0,t=this.sub(e),e.negative^=1,t):e.negative===0&&this.negative!==0?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n=this.cmp(e);if(n===0)return this.negative=0,this.length=1,this.words[0]=0,this;var r,i;n>0?(r=this,i=e):(r=e,i=this);for(var a=0,o=0;o<i.length;o++)t=(r.words[o]|0)-(i.words[o]|0)+a,a=t>>26,this.words[o]=t&67108863;for(;a!==0&&o<r.length;o++)t=(r.words[o]|0)+a,a=t>>26,this.words[o]=t&67108863;if(a===0&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};function m(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=e.words[0]|0,a=t.words[0]|0,o=i*a,s=o&67108863,c=o/67108864|0;n.words[0]=s;for(var l=1;l<r;l++){for(var u=c>>>26,d=c&67108863,f=Math.min(l,t.length-1),p=Math.max(0,l-e.length+1);p<=f;p++){var m=l-p|0;i=e.words[m]|0,a=t.words[p]|0,o=i*a+d,u+=o/67108864|0,d=o&67108863}n.words[l]=d|0,c=u|0}return c===0?n.length--:n.words[l]=c|0,n.strip()}var h=function(e,t,n){var r=e.words,i=t.words,a=n.words,o=0,s,c,l,u=r[0]|0,d=u&8191,f=u>>>13,p=r[1]|0,m=p&8191,h=p>>>13,g=r[2]|0,_=g&8191,v=g>>>13,y=r[3]|0,b=y&8191,x=y>>>13,S=r[4]|0,C=S&8191,w=S>>>13,T=r[5]|0,E=T&8191,D=T>>>13,O=r[6]|0,k=O&8191,A=O>>>13,j=r[7]|0,M=j&8191,N=j>>>13,P=r[8]|0,F=P&8191,I=P>>>13,L=r[9]|0,R=L&8191,z=L>>>13,B=i[0]|0,V=B&8191,H=B>>>13,U=i[1]|0,W=U&8191,G=U>>>13,K=i[2]|0,ee=K&8191,q=K>>>13,J=i[3]|0,Y=J&8191,te=J>>>13,ne=i[4]|0,re=ne&8191,ie=ne>>>13,ae=i[5]|0,oe=ae&8191,se=ae>>>13,ce=i[6]|0,le=ce&8191,ue=ce>>>13,de=i[7]|0,fe=de&8191,pe=de>>>13,me=i[8]|0,he=me&8191,ge=me>>>13,_e=i[9]|0,ve=_e&8191,ye=_e>>>13;n.negative=e.negative^t.negative,n.length=19,s=Math.imul(d,V),c=Math.imul(d,H),c=c+Math.imul(f,V)|0,l=Math.imul(f,H);var be=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(be>>>26)|0,be&=67108863,s=Math.imul(m,V),c=Math.imul(m,H),c=c+Math.imul(h,V)|0,l=Math.imul(h,H),s=s+Math.imul(d,W)|0,c=c+Math.imul(d,G)|0,c=c+Math.imul(f,W)|0,l=l+Math.imul(f,G)|0;var xe=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(xe>>>26)|0,xe&=67108863,s=Math.imul(_,V),c=Math.imul(_,H),c=c+Math.imul(v,V)|0,l=Math.imul(v,H),s=s+Math.imul(m,W)|0,c=c+Math.imul(m,G)|0,c=c+Math.imul(h,W)|0,l=l+Math.imul(h,G)|0,s=s+Math.imul(d,ee)|0,c=c+Math.imul(d,q)|0,c=c+Math.imul(f,ee)|0,l=l+Math.imul(f,q)|0;var Se=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(Se>>>26)|0,Se&=67108863,s=Math.imul(b,V),c=Math.imul(b,H),c=c+Math.imul(x,V)|0,l=Math.imul(x,H),s=s+Math.imul(_,W)|0,c=c+Math.imul(_,G)|0,c=c+Math.imul(v,W)|0,l=l+Math.imul(v,G)|0,s=s+Math.imul(m,ee)|0,c=c+Math.imul(m,q)|0,c=c+Math.imul(h,ee)|0,l=l+Math.imul(h,q)|0,s=s+Math.imul(d,Y)|0,c=c+Math.imul(d,te)|0,c=c+Math.imul(f,Y)|0,l=l+Math.imul(f,te)|0;var Ce=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,s=Math.imul(C,V),c=Math.imul(C,H),c=c+Math.imul(w,V)|0,l=Math.imul(w,H),s=s+Math.imul(b,W)|0,c=c+Math.imul(b,G)|0,c=c+Math.imul(x,W)|0,l=l+Math.imul(x,G)|0,s=s+Math.imul(_,ee)|0,c=c+Math.imul(_,q)|0,c=c+Math.imul(v,ee)|0,l=l+Math.imul(v,q)|0,s=s+Math.imul(m,Y)|0,c=c+Math.imul(m,te)|0,c=c+Math.imul(h,Y)|0,l=l+Math.imul(h,te)|0,s=s+Math.imul(d,re)|0,c=c+Math.imul(d,ie)|0,c=c+Math.imul(f,re)|0,l=l+Math.imul(f,ie)|0;var we=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(we>>>26)|0,we&=67108863,s=Math.imul(E,V),c=Math.imul(E,H),c=c+Math.imul(D,V)|0,l=Math.imul(D,H),s=s+Math.imul(C,W)|0,c=c+Math.imul(C,G)|0,c=c+Math.imul(w,W)|0,l=l+Math.imul(w,G)|0,s=s+Math.imul(b,ee)|0,c=c+Math.imul(b,q)|0,c=c+Math.imul(x,ee)|0,l=l+Math.imul(x,q)|0,s=s+Math.imul(_,Y)|0,c=c+Math.imul(_,te)|0,c=c+Math.imul(v,Y)|0,l=l+Math.imul(v,te)|0,s=s+Math.imul(m,re)|0,c=c+Math.imul(m,ie)|0,c=c+Math.imul(h,re)|0,l=l+Math.imul(h,ie)|0,s=s+Math.imul(d,oe)|0,c=c+Math.imul(d,se)|0,c=c+Math.imul(f,oe)|0,l=l+Math.imul(f,se)|0;var Te=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(Te>>>26)|0,Te&=67108863,s=Math.imul(k,V),c=Math.imul(k,H),c=c+Math.imul(A,V)|0,l=Math.imul(A,H),s=s+Math.imul(E,W)|0,c=c+Math.imul(E,G)|0,c=c+Math.imul(D,W)|0,l=l+Math.imul(D,G)|0,s=s+Math.imul(C,ee)|0,c=c+Math.imul(C,q)|0,c=c+Math.imul(w,ee)|0,l=l+Math.imul(w,q)|0,s=s+Math.imul(b,Y)|0,c=c+Math.imul(b,te)|0,c=c+Math.imul(x,Y)|0,l=l+Math.imul(x,te)|0,s=s+Math.imul(_,re)|0,c=c+Math.imul(_,ie)|0,c=c+Math.imul(v,re)|0,l=l+Math.imul(v,ie)|0,s=s+Math.imul(m,oe)|0,c=c+Math.imul(m,se)|0,c=c+Math.imul(h,oe)|0,l=l+Math.imul(h,se)|0,s=s+Math.imul(d,le)|0,c=c+Math.imul(d,ue)|0,c=c+Math.imul(f,le)|0,l=l+Math.imul(f,ue)|0;var Ee=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,s=Math.imul(M,V),c=Math.imul(M,H),c=c+Math.imul(N,V)|0,l=Math.imul(N,H),s=s+Math.imul(k,W)|0,c=c+Math.imul(k,G)|0,c=c+Math.imul(A,W)|0,l=l+Math.imul(A,G)|0,s=s+Math.imul(E,ee)|0,c=c+Math.imul(E,q)|0,c=c+Math.imul(D,ee)|0,l=l+Math.imul(D,q)|0,s=s+Math.imul(C,Y)|0,c=c+Math.imul(C,te)|0,c=c+Math.imul(w,Y)|0,l=l+Math.imul(w,te)|0,s=s+Math.imul(b,re)|0,c=c+Math.imul(b,ie)|0,c=c+Math.imul(x,re)|0,l=l+Math.imul(x,ie)|0,s=s+Math.imul(_,oe)|0,c=c+Math.imul(_,se)|0,c=c+Math.imul(v,oe)|0,l=l+Math.imul(v,se)|0,s=s+Math.imul(m,le)|0,c=c+Math.imul(m,ue)|0,c=c+Math.imul(h,le)|0,l=l+Math.imul(h,ue)|0,s=s+Math.imul(d,fe)|0,c=c+Math.imul(d,pe)|0,c=c+Math.imul(f,fe)|0,l=l+Math.imul(f,pe)|0;var X=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(X>>>26)|0,X&=67108863,s=Math.imul(F,V),c=Math.imul(F,H),c=c+Math.imul(I,V)|0,l=Math.imul(I,H),s=s+Math.imul(M,W)|0,c=c+Math.imul(M,G)|0,c=c+Math.imul(N,W)|0,l=l+Math.imul(N,G)|0,s=s+Math.imul(k,ee)|0,c=c+Math.imul(k,q)|0,c=c+Math.imul(A,ee)|0,l=l+Math.imul(A,q)|0,s=s+Math.imul(E,Y)|0,c=c+Math.imul(E,te)|0,c=c+Math.imul(D,Y)|0,l=l+Math.imul(D,te)|0,s=s+Math.imul(C,re)|0,c=c+Math.imul(C,ie)|0,c=c+Math.imul(w,re)|0,l=l+Math.imul(w,ie)|0,s=s+Math.imul(b,oe)|0,c=c+Math.imul(b,se)|0,c=c+Math.imul(x,oe)|0,l=l+Math.imul(x,se)|0,s=s+Math.imul(_,le)|0,c=c+Math.imul(_,ue)|0,c=c+Math.imul(v,le)|0,l=l+Math.imul(v,ue)|0,s=s+Math.imul(m,fe)|0,c=c+Math.imul(m,pe)|0,c=c+Math.imul(h,fe)|0,l=l+Math.imul(h,pe)|0,s=s+Math.imul(d,he)|0,c=c+Math.imul(d,ge)|0,c=c+Math.imul(f,he)|0,l=l+Math.imul(f,ge)|0;var Z=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(Z>>>26)|0,Z&=67108863,s=Math.imul(R,V),c=Math.imul(R,H),c=c+Math.imul(z,V)|0,l=Math.imul(z,H),s=s+Math.imul(F,W)|0,c=c+Math.imul(F,G)|0,c=c+Math.imul(I,W)|0,l=l+Math.imul(I,G)|0,s=s+Math.imul(M,ee)|0,c=c+Math.imul(M,q)|0,c=c+Math.imul(N,ee)|0,l=l+Math.imul(N,q)|0,s=s+Math.imul(k,Y)|0,c=c+Math.imul(k,te)|0,c=c+Math.imul(A,Y)|0,l=l+Math.imul(A,te)|0,s=s+Math.imul(E,re)|0,c=c+Math.imul(E,ie)|0,c=c+Math.imul(D,re)|0,l=l+Math.imul(D,ie)|0,s=s+Math.imul(C,oe)|0,c=c+Math.imul(C,se)|0,c=c+Math.imul(w,oe)|0,l=l+Math.imul(w,se)|0,s=s+Math.imul(b,le)|0,c=c+Math.imul(b,ue)|0,c=c+Math.imul(x,le)|0,l=l+Math.imul(x,ue)|0,s=s+Math.imul(_,fe)|0,c=c+Math.imul(_,pe)|0,c=c+Math.imul(v,fe)|0,l=l+Math.imul(v,pe)|0,s=s+Math.imul(m,he)|0,c=c+Math.imul(m,ge)|0,c=c+Math.imul(h,he)|0,l=l+Math.imul(h,ge)|0,s=s+Math.imul(d,ve)|0,c=c+Math.imul(d,ye)|0,c=c+Math.imul(f,ve)|0,l=l+Math.imul(f,ye)|0;var De=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(De>>>26)|0,De&=67108863,s=Math.imul(R,W),c=Math.imul(R,G),c=c+Math.imul(z,W)|0,l=Math.imul(z,G),s=s+Math.imul(F,ee)|0,c=c+Math.imul(F,q)|0,c=c+Math.imul(I,ee)|0,l=l+Math.imul(I,q)|0,s=s+Math.imul(M,Y)|0,c=c+Math.imul(M,te)|0,c=c+Math.imul(N,Y)|0,l=l+Math.imul(N,te)|0,s=s+Math.imul(k,re)|0,c=c+Math.imul(k,ie)|0,c=c+Math.imul(A,re)|0,l=l+Math.imul(A,ie)|0,s=s+Math.imul(E,oe)|0,c=c+Math.imul(E,se)|0,c=c+Math.imul(D,oe)|0,l=l+Math.imul(D,se)|0,s=s+Math.imul(C,le)|0,c=c+Math.imul(C,ue)|0,c=c+Math.imul(w,le)|0,l=l+Math.imul(w,ue)|0,s=s+Math.imul(b,fe)|0,c=c+Math.imul(b,pe)|0,c=c+Math.imul(x,fe)|0,l=l+Math.imul(x,pe)|0,s=s+Math.imul(_,he)|0,c=c+Math.imul(_,ge)|0,c=c+Math.imul(v,he)|0,l=l+Math.imul(v,ge)|0,s=s+Math.imul(m,ve)|0,c=c+Math.imul(m,ye)|0,c=c+Math.imul(h,ve)|0,l=l+Math.imul(h,ye)|0;var Q=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(Q>>>26)|0,Q&=67108863,s=Math.imul(R,ee),c=Math.imul(R,q),c=c+Math.imul(z,ee)|0,l=Math.imul(z,q),s=s+Math.imul(F,Y)|0,c=c+Math.imul(F,te)|0,c=c+Math.imul(I,Y)|0,l=l+Math.imul(I,te)|0,s=s+Math.imul(M,re)|0,c=c+Math.imul(M,ie)|0,c=c+Math.imul(N,re)|0,l=l+Math.imul(N,ie)|0,s=s+Math.imul(k,oe)|0,c=c+Math.imul(k,se)|0,c=c+Math.imul(A,oe)|0,l=l+Math.imul(A,se)|0,s=s+Math.imul(E,le)|0,c=c+Math.imul(E,ue)|0,c=c+Math.imul(D,le)|0,l=l+Math.imul(D,ue)|0,s=s+Math.imul(C,fe)|0,c=c+Math.imul(C,pe)|0,c=c+Math.imul(w,fe)|0,l=l+Math.imul(w,pe)|0,s=s+Math.imul(b,he)|0,c=c+Math.imul(b,ge)|0,c=c+Math.imul(x,he)|0,l=l+Math.imul(x,ge)|0,s=s+Math.imul(_,ve)|0,c=c+Math.imul(_,ye)|0,c=c+Math.imul(v,ve)|0,l=l+Math.imul(v,ye)|0;var Oe=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,s=Math.imul(R,Y),c=Math.imul(R,te),c=c+Math.imul(z,Y)|0,l=Math.imul(z,te),s=s+Math.imul(F,re)|0,c=c+Math.imul(F,ie)|0,c=c+Math.imul(I,re)|0,l=l+Math.imul(I,ie)|0,s=s+Math.imul(M,oe)|0,c=c+Math.imul(M,se)|0,c=c+Math.imul(N,oe)|0,l=l+Math.imul(N,se)|0,s=s+Math.imul(k,le)|0,c=c+Math.imul(k,ue)|0,c=c+Math.imul(A,le)|0,l=l+Math.imul(A,ue)|0,s=s+Math.imul(E,fe)|0,c=c+Math.imul(E,pe)|0,c=c+Math.imul(D,fe)|0,l=l+Math.imul(D,pe)|0,s=s+Math.imul(C,he)|0,c=c+Math.imul(C,ge)|0,c=c+Math.imul(w,he)|0,l=l+Math.imul(w,ge)|0,s=s+Math.imul(b,ve)|0,c=c+Math.imul(b,ye)|0,c=c+Math.imul(x,ve)|0,l=l+Math.imul(x,ye)|0;var ke=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(ke>>>26)|0,ke&=67108863,s=Math.imul(R,re),c=Math.imul(R,ie),c=c+Math.imul(z,re)|0,l=Math.imul(z,ie),s=s+Math.imul(F,oe)|0,c=c+Math.imul(F,se)|0,c=c+Math.imul(I,oe)|0,l=l+Math.imul(I,se)|0,s=s+Math.imul(M,le)|0,c=c+Math.imul(M,ue)|0,c=c+Math.imul(N,le)|0,l=l+Math.imul(N,ue)|0,s=s+Math.imul(k,fe)|0,c=c+Math.imul(k,pe)|0,c=c+Math.imul(A,fe)|0,l=l+Math.imul(A,pe)|0,s=s+Math.imul(E,he)|0,c=c+Math.imul(E,ge)|0,c=c+Math.imul(D,he)|0,l=l+Math.imul(D,ge)|0,s=s+Math.imul(C,ve)|0,c=c+Math.imul(C,ye)|0,c=c+Math.imul(w,ve)|0,l=l+Math.imul(w,ye)|0;var Ae=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,s=Math.imul(R,oe),c=Math.imul(R,se),c=c+Math.imul(z,oe)|0,l=Math.imul(z,se),s=s+Math.imul(F,le)|0,c=c+Math.imul(F,ue)|0,c=c+Math.imul(I,le)|0,l=l+Math.imul(I,ue)|0,s=s+Math.imul(M,fe)|0,c=c+Math.imul(M,pe)|0,c=c+Math.imul(N,fe)|0,l=l+Math.imul(N,pe)|0,s=s+Math.imul(k,he)|0,c=c+Math.imul(k,ge)|0,c=c+Math.imul(A,he)|0,l=l+Math.imul(A,ge)|0,s=s+Math.imul(E,ve)|0,c=c+Math.imul(E,ye)|0,c=c+Math.imul(D,ve)|0,l=l+Math.imul(D,ye)|0;var je=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(je>>>26)|0,je&=67108863,s=Math.imul(R,le),c=Math.imul(R,ue),c=c+Math.imul(z,le)|0,l=Math.imul(z,ue),s=s+Math.imul(F,fe)|0,c=c+Math.imul(F,pe)|0,c=c+Math.imul(I,fe)|0,l=l+Math.imul(I,pe)|0,s=s+Math.imul(M,he)|0,c=c+Math.imul(M,ge)|0,c=c+Math.imul(N,he)|0,l=l+Math.imul(N,ge)|0,s=s+Math.imul(k,ve)|0,c=c+Math.imul(k,ye)|0,c=c+Math.imul(A,ve)|0,l=l+Math.imul(A,ye)|0;var Me=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(Me>>>26)|0,Me&=67108863,s=Math.imul(R,fe),c=Math.imul(R,pe),c=c+Math.imul(z,fe)|0,l=Math.imul(z,pe),s=s+Math.imul(F,he)|0,c=c+Math.imul(F,ge)|0,c=c+Math.imul(I,he)|0,l=l+Math.imul(I,ge)|0,s=s+Math.imul(M,ve)|0,c=c+Math.imul(M,ye)|0,c=c+Math.imul(N,ve)|0,l=l+Math.imul(N,ye)|0;var Ne=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,s=Math.imul(R,he),c=Math.imul(R,ge),c=c+Math.imul(z,he)|0,l=Math.imul(z,ge),s=s+Math.imul(F,ve)|0,c=c+Math.imul(F,ye)|0,c=c+Math.imul(I,ve)|0,l=l+Math.imul(I,ye)|0;var Pe=(o+s|0)+((c&8191)<<13)|0;o=(l+(c>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,s=Math.imul(R,ve),c=Math.imul(R,ye),c=c+Math.imul(z,ve)|0,l=Math.imul(z,ye);var Fe=(o+s|0)+((c&8191)<<13)|0;return o=(l+(c>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,a[0]=be,a[1]=xe,a[2]=Se,a[3]=Ce,a[4]=we,a[5]=Te,a[6]=Ee,a[7]=X,a[8]=Z,a[9]=De,a[10]=Q,a[11]=Oe,a[12]=ke,a[13]=Ae,a[14]=je,a[15]=Me,a[16]=Ne,a[17]=Pe,a[18]=Fe,o!==0&&(a[19]=o,n.length++),n};Math.imul||(h=m);function g(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,a=0;a<n.length-1;a++){var o=i;i=0;for(var s=r&67108863,c=Math.min(a,t.length-1),l=Math.max(0,a-e.length+1);l<=c;l++){var u=a-l,d=(e.words[u]|0)*(t.words[l]|0),f=d&67108863;o=o+(d/67108864|0)|0,f=f+s|0,s=f&67108863,o=o+(f>>>26)|0,i+=o>>>26,o&=67108863}n.words[a]=s,r=o,o=i}return r===0?n.length--:n.words[a]=r,n.strip()}function _(e,t,n){return new v().mulp(e,t,n)}a.prototype.mulTo=function(e,t){var n,r=this.length+e.length;return n=this.length===10&&e.length===10?h(this,e,t):r<63?m(this,e,t):r<1024?g(this,e,t):_(this,e,t),n};function v(e,t){this.x=e,this.y=t}v.prototype.makeRBT=function(e){for(var t=Array(e),n=a.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},v.prototype.revBin=function(e,t,n){if(e===0||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(e&1)<<t-i-1,e>>=1;return r},v.prototype.permute=function(e,t,n,r,i,a){for(var o=0;o<a;o++)r[o]=t[e[o]],i[o]=n[e[o]]},v.prototype.transform=function(e,t,n,r,i,a){this.permute(a,e,t,n,r,i);for(var o=1;o<i;o<<=1)for(var s=o<<1,c=Math.cos(2*Math.PI/s),l=Math.sin(2*Math.PI/s),u=0;u<i;u+=s)for(var d=c,f=l,p=0;p<o;p++){var m=n[u+p],h=r[u+p],g=n[u+p+o],_=r[u+p+o],v=d*g-f*_;_=d*_+f*g,g=v,n[u+p]=m+g,r[u+p]=h+_,n[u+p+o]=m-g,r[u+p+o]=h-_,p!==s&&(v=c*d-l*f,f=c*f+l*d,d=v)}},v.prototype.guessLen13b=function(e,t){var n=Math.max(t,e)|1,r=n&1,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},v.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=Math.round(e[2*r+1]/t)*8192+Math.round(e[2*r]/t)+n;e[r]=i&67108863,n=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,n,i){for(var a=0,o=0;o<t;o++)a+=e[o]|0,n[2*o]=a&8191,a>>>=13,n[2*o+1]=a&8191,a>>>=13;for(o=2*t;o<i;++o)n[o]=0;r(a===0),r((a&-8192)==0)},v.prototype.stub=function(e){for(var t=Array(e),n=0;n<e;n++)t[n]=0;return t},v.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),a=this.stub(r),o=Array(r),s=Array(r),c=Array(r),l=Array(r),u=Array(r),d=Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,o,r),this.convert13b(t.words,t.length,l,r),this.transform(o,a,s,c,r,i),this.transform(l,a,u,d,r,i);for(var p=0;p<r;p++){var m=s[p]*u[p]-c[p]*d[p];c[p]=s[p]*d[p]+c[p]*u[p],s[p]=m}return this.conjugate(s,c,r),this.transform(s,c,f,a,r,i),this.conjugate(f,a,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},a.prototype.mul=function(e){var t=new a(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},a.prototype.mulf=function(e){var t=new a(null);return t.words=Array(this.length+e.length),_(this,e,t)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){r(typeof e==`number`),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(this.words[n]|0)*e,a=(i&67108863)+(t&67108863);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[n]=a&67108863}return t!==0&&(this.words[n]=t,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var t=p(e);if(t.length===0)return new a(1);for(var n=this,r=0;r<t.length&&t[r]===0;r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())t[r]!==0&&(n=n.mul(i));return n},a.prototype.iushln=function(e){r(typeof e==`number`&&e>=0);var t=e%26,n=(e-t)/26,i=67108863>>>26-t<<26-t,a;if(t!==0){var o=0;for(a=0;a<this.length;a++){var s=this.words[a]&i,c=(this.words[a]|0)-s<<t;this.words[a]=c|o,o=s>>>26-t}o&&(this.words[a]=o,this.length++)}if(n!==0){for(a=this.length-1;a>=0;a--)this.words[a+n]=this.words[a];for(a=0;a<n;a++)this.words[a]=0;this.length+=n}return this.strip()},a.prototype.ishln=function(e){return r(this.negative===0),this.iushln(e)},a.prototype.iushrn=function(e,t,n){r(typeof e==`number`&&e>=0);var i=t?(t-t%26)/26:0,a=e%26,o=Math.min((e-a)/26,this.length),s=67108863^67108863>>>a<<a,c=n;if(i-=o,i=Math.max(0,i),c){for(var l=0;l<o;l++)c.words[l]=this.words[l];c.length=o}if(o!==0)if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;var u=0;for(l=this.length-1;l>=0&&(u!==0||l>=i);l--){var d=this.words[l]|0;this.words[l]=u<<26-a|d>>>a,u=d&s}return c&&u!==0&&(c.words[c.length++]=u),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,t,n){return r(this.negative===0),this.iushrn(e,t,n)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){r(typeof e==`number`&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return this.length<=n?!1:!!(this.words[n]&i)},a.prototype.imaskn=function(e){r(typeof e==`number`&&e>=0);var t=e%26,n=(e-t)/26;if(r(this.negative===0,`imaskn works only with positive numbers`),this.length<=n)return this;if(t!==0&&n++,this.length=Math.min(n,this.length),t!==0){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return r(typeof e==`number`),r(e<67108864),e<0?this.isubn(-e):this.negative===0?this._iaddn(e):this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},a.prototype.isubn=function(e){if(r(typeof e==`number`),r(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,--this.words[t+1];return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,t,n){var i=e.length+n,a;this._expand(i);var o,s=0;for(a=0;a<e.length;a++){o=(this.words[a+n]|0)+s;var c=(e.words[a]|0)*t;o-=c&67108863,s=(o>>26)-(c/67108864|0),this.words[a+n]=o&67108863}for(;a<this.length-n;a++)o=(this.words[a+n]|0)+s,s=o>>26,this.words[a+n]=o&67108863;if(s===0)return this.strip();for(r(s===-1),s=0,a=0;a<this.length;a++)o=-(this.words[a]|0)+s,s=o>>26,this.words[a]=o&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,t){var n=this.length-e.length,r=this.clone(),i=e,o=i.words[i.length-1]|0;n=26-this._countBits(o),n!==0&&(i=i.ushln(n),r.iushln(n),o=i.words[i.length-1]|0);var s=r.length-i.length,c;if(t!==`mod`){c=new a(null),c.length=s+1,c.words=Array(c.length);for(var l=0;l<c.length;l++)c.words[l]=0}var u=r.clone()._ishlnsubmul(i,1,s);u.negative===0&&(r=u,c&&(c.words[s]=1));for(var d=s-1;d>=0;d--){var f=(r.words[i.length+d]|0)*67108864+(r.words[i.length+d-1]|0);for(f=Math.min(f/o|0,67108863),r._ishlnsubmul(i,f,d);r.negative!==0;)f--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);c&&(c.words[d]=f)}return c&&c.strip(),r.strip(),t!==`div`&&n!==0&&r.iushrn(n),{div:c||null,mod:r}},a.prototype.divmod=function(e,t,n){if(r(!e.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var i,o,s;return this.negative!==0&&e.negative===0?(s=this.neg().divmod(e,t),t!==`mod`&&(i=s.div.neg()),t!==`div`&&(o=s.mod.neg(),n&&o.negative!==0&&o.iadd(e)),{div:i,mod:o}):this.negative===0&&e.negative!==0?(s=this.divmod(e.neg(),t),t!==`mod`&&(i=s.div.neg()),{div:i,mod:s.mod}):(this.negative&e.negative)===0?e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:e.length===1?t===`div`?{div:this.divn(e.words[0]),mod:null}:t===`mod`?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,t):(s=this.neg().divmod(e.neg(),t),t!==`div`&&(o=s.mod.neg(),n&&o.negative!==0&&o.isub(e)),{div:s.div,mod:o})},a.prototype.div=function(e){return this.divmod(e,`div`,!1).div},a.prototype.mod=function(e){return this.divmod(e,`mod`,!1).mod},a.prototype.umod=function(e){return this.divmod(e,`mod`,!0).mod},a.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=t.div.negative===0?t.mod:t.mod.isub(e),r=e.ushrn(1),i=e.andln(1),a=n.cmp(r);return a<0||i===1&&a===0?t.div:t.div.negative===0?t.div.iaddn(1):t.div.isubn(1)},a.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(this.words[i]|0))%e;return n},a.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(this.words[n]|0)+t*67108864;this.words[n]=i/e|0,t=i%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){r(e.negative===0),r(!e.isZero());var t=this,n=e.clone();t=t.negative===0?t.clone():t.umod(e);for(var i=new a(1),o=new a(0),s=new a(0),c=new a(1),l=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++l;for(var u=n.clone(),d=t.clone();!t.isZero();){for(var f=0,p=1;(t.words[0]&p)===0&&f<26;++f,p<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(u),o.isub(d)),i.iushrn(1),o.iushrn(1);for(var m=0,h=1;(n.words[0]&h)===0&&m<26;++m,h<<=1);if(m>0)for(n.iushrn(m);m-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(u),c.isub(d)),s.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),o.isub(c)):(n.isub(t),s.isub(i),c.isub(o))}return{a:s,b:c,gcd:n.iushln(l)}},a.prototype._invmp=function(e){r(e.negative===0),r(!e.isZero());var t=this,n=e.clone();t=t.negative===0?t.clone():t.umod(e);for(var i=new a(1),o=new a(0),s=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;(t.words[0]&l)===0&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)i.isOdd()&&i.iadd(s),i.iushrn(1);for(var u=0,d=1;(n.words[0]&d)===0&&u<26;++u,d<<=1);if(u>0)for(n.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(s),o.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(o)):(n.isub(t),o.isub(i))}var f=t.cmpn(1)===0?i:o;return f.cmpn(0)<0&&f.iadd(e),f},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);do{for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var a=t;t=n,n=a}else if(i===0||n.cmpn(1)===0)break;t.isub(n)}while(!0);return n.iushln(r)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return(this.words[0]&1)==0},a.prototype.isOdd=function(){return(this.words[0]&1)==1},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){r(typeof e==`number`);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,o=n;a!==0&&o<this.length;o++){var s=this.words[o]|0;s+=a,a=s>>>26,s&=67108863,this.words[o]=s}return a!==0&&(this.words[o]=a,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(e){var t=e<0;if(this.negative!==0&&!t)return-1;if(this.negative===0&&t)return 1;this.strip();var n;if(this.length>1)n=1;else{t&&(e=-e),r(e<=67108863,`Number is too big`);var i=this.words[0]|0;n=i===e?0:i<e?-1:1}return this.negative===0?n:-n|0},a.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var t=this.ucmp(e);return this.negative===0?t:-t|0},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=this.words[n]|0,i=e.words[n]|0;if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},a.prototype.gtn=function(e){return this.cmpn(e)===1},a.prototype.gt=function(e){return this.cmp(e)===1},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return this.cmpn(e)===-1},a.prototype.lt=function(e){return this.cmp(e)===-1},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return this.cmpn(e)===0},a.prototype.eq=function(e){return this.cmp(e)===0},a.red=function(e){return new T(e)},a.prototype.toRed=function(e){return r(!this.red,`Already a number in reduction context`),r(this.negative===0,`red works only with positives`),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return r(this.red,`fromRed works only with numbers in reduction context`),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return r(!this.red,`Already a number in reduction context`),this._forceRed(e)},a.prototype.redAdd=function(e){return r(this.red,`redAdd works only with red numbers`),this.red.add(this,e)},a.prototype.redIAdd=function(e){return r(this.red,`redIAdd works only with red numbers`),this.red.iadd(this,e)},a.prototype.redSub=function(e){return r(this.red,`redSub works only with red numbers`),this.red.sub(this,e)},a.prototype.redISub=function(e){return r(this.red,`redISub works only with red numbers`),this.red.isub(this,e)},a.prototype.redShl=function(e){return r(this.red,`redShl works only with red numbers`),this.red.shl(this,e)},a.prototype.redMul=function(e){return r(this.red,`redMul works only with red numbers`),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return r(this.red,`redMul works only with red numbers`),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return r(this.red,`redSqr works only with red numbers`),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,`redISqr works only with red numbers`),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,`redSqrt works only with red numbers`),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,`redInvm works only with red numbers`),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,`redNeg works only with red numbers`),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return r(this.red&&!e.red,`redPow(normalNum)`),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new a(t,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}b.prototype._tmp=function(){var e=new a(null);return e.words=Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t=e,n;do this.split(t,this.tmp),t=this.imulK(t),t=t.iadd(this.tmp),n=t.bitLength();while(n>this.n);var r=n<this.n?-1:t.ucmp(this.p);return r===0?(t.words[0]=0,t.length=1):r>0?t.isub(this.p):t.strip===void 0?t._strip():t.strip(),t},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)};function x(){b.call(this,`k256`,`ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f`)}i(x,b),x.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9){e.words[0]=0,e.length=1;return}var a=e.words[9];for(t.words[t.length++]=a&n,i=10;i<e.length;i++){var o=e.words[i]|0;e.words[i-10]=(o&n)<<4|a>>>22,a=o}a>>>=22,e.words[i-10]=a,a===0&&e.length>10?e.length-=10:e.length-=9},x.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=e.words[n]|0;t+=r*977,e.words[n]=t&67108863,t=r*64+(t/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function S(){b.call(this,`p224`,`ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001`)}i(S,b);function C(){b.call(this,`p192`,`ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff`)}i(C,b);function w(){b.call(this,`25519`,`7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed`)}i(w,b),w.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=(e.words[n]|0)*19+t,i=r&67108863;r>>>=26,e.words[n]=i,t=r}return t!==0&&(e.words[e.length++]=t),e},a._prime=function(e){if(y[e])return y[e];var t;if(e===`k256`)t=new x;else if(e===`p224`)t=new S;else if(e===`p192`)t=new C;else if(e===`p25519`)t=new w;else throw Error(`Unknown prime `+e);return y[e]=t,t};function T(e){if(typeof e==`string`){var t=a._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),`modulus must be greater than 1`),this.m=e,this.prime=null}T.prototype._verify1=function(e){r(e.negative===0,`red works only with positives`),r(e.red,`red works only with red numbers`)},T.prototype._verify2=function(e,t){r((e.negative|t.negative)===0,`red works only with positives`),r(e.red&&e.red===t.red,`red works only with red numbers`)},T.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},T.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},T.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},T.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},T.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},T.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},T.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},T.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},T.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},T.prototype.isqr=function(e){return this.imul(e,e.clone())},T.prototype.sqr=function(e){return this.mul(e,e)},T.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),t===3){var n=this.m.add(new a(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),o=0;!i.isZero()&&i.andln(1)===0;)o++,i.iushrn(1);r(!i.isZero());var s=new a(1).toRed(this),c=s.redNeg(),l=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new a(2*u*u).toRed(this);this.pow(u,l).cmp(c)!==0;)u.redIAdd(c);for(var d=this.pow(u,i),f=this.pow(e,i.addn(1).iushrn(1)),p=this.pow(e,i),m=o;p.cmp(s)!==0;){for(var h=p,g=0;h.cmp(s)!==0;g++)h=h.redSqr();r(g<m);var _=this.pow(d,new a(1).iushln(m-g-1));f=f.redMul(_),d=_.redSqr(),p=p.redMul(d),m=g}return f},T.prototype.invm=function(e){var t=e._invmp(this.m);return t.negative===0?this.imod(t):(t.negative=0,this.imod(t).redNeg())},T.prototype.pow=function(e,t){if(t.isZero())return new a(1).toRed(this);if(t.cmpn(1)===0)return e.clone();var n=4,r=Array(1<<n);r[0]=new a(1).toRed(this),r[1]=e;for(var i=2;i<r.length;i++)r[i]=this.mul(r[i-1],e);var o=r[0],s=0,c=0,l=t.bitLength()%26;for(l===0&&(l=26),i=t.length-1;i>=0;i--){for(var u=t.words[i],d=l-1;d>=0;d--){var f=u>>d&1;if(o!==r[0]&&(o=this.sqr(o)),f===0&&s===0){c=0;continue}s<<=1,s|=f,c++,!(c!==n&&(i!==0||d!==0))&&(o=this.mul(o,r[s]),c=0,s=0)}l=26}return o},T.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},T.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},a.mont=function(e){return new E(e)};function E(e){T.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(E,T),E.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},E.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},E.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},E.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new a(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},E.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}})(e,this)},2692:function(e){e.exports=t;function t(e){var t,n,r,i=e.length,a=0;for(t=0;t<i;++t)a+=e[t].length;var o=Array(a),s=0;for(t=0;t<i;++t){var c=e[t],l=c.length;for(n=0;n<l;++n){var u=o[s++]=Array(l-1),d=0;for(r=0;r<l;++r)r!==n&&(u[d++]=c[r]);if(n&1){var f=u[1];u[1]=u[0],u[0]=f}}}return o}},2569:function(e,t,n){e.exports=p;var r=n(5306),i=n(1390),a=n(2337);function o(e,t){for(var n=0;n<e;++n)if(!(t[n]<=t[n+e]))return!0;return!1}function s(e,t,n,r){for(var i=0,a=0,s=0,c=e.length;s<c;++s){var l=e[s];if(!o(t,l)){for(var u=0;u<2*t;++u)n[i++]=l[u];r[a++]=s}}return a}function c(e,t,n,o){var c=e.length,l=t.length;if(!(c<=0||l<=0)){var u=e[0].length>>>1;if(!(u<=0)){var d,f=r.mallocDouble(2*u*c),p=r.mallocInt32(c);if(c=s(e,u,f,p),c>0){if(u===1&&o)i.init(c),d=i.sweepComplete(u,n,0,c,f,p,0,c,f,p);else{var m=r.mallocDouble(2*u*l),h=r.mallocInt32(l);l=s(t,u,m,h),l>0&&(i.init(c+l),d=u===1?i.sweepBipartite(u,n,0,c,f,p,0,l,m,h):a(u,n,o,c,f,p,l,m,h),r.free(m),r.free(h))}r.free(f),r.free(p)}return d}}}var l;function u(e,t){l.push([e,t])}function d(e){return l=[],c(e,e,u,!0),l}function f(e,t){return l=[],c(e,t,u,!1),l}function p(e,t,n){switch(arguments.length){case 1:return d(e);case 2:return typeof t==`function`?c(e,e,t,!0):f(e,t);case 3:return c(e,t,n,!1);default:throw Error(`box-intersect: Invalid arguments`)}}},7333:function(e,t){function n(){function e(e,t,n,r,i,a,o,s,c,l,u){for(var d=2*e,f=r,p=d*r;f<i;++f,p+=d){var m=a[t+p],h=a[t+p+e],g=o[f];Q:for(var _=s,v=d*s;_<c;++_,v+=d){var y=l[t+v],b=l[t+v+e],x=u[_];if(!(b<m||h<y)){for(var S=t+1;S<e;++S){var C=a[S+p],w=a[S+e+p],T=l[S+v],E=l[S+e+v];if(w<T||E<C)continue Q}var D=n(g,x);if(D!==void 0)return D}}}}function t(e,t,n,r,i,a,o,s,c,l,u){for(var d=2*e,f=s,p=d*s;f<c;++f,p+=d){var m=l[t+p],h=l[t+p+e],g=u[f];Q:for(var _=r,v=d*r;_<i;++_,v+=d){var y=a[t+v],b=a[t+v+e],x=o[_];if(!(h<y||b<m)){for(var S=t+1;S<e;++S){var C=a[S+v],w=a[S+e+v],T=l[S+p],E=l[S+e+p];if(w<T||E<C)continue Q}var D=n(x,g);if(D!==void 0)return D}}}}function n(n,r,i,a,o,s,c,l,u,d,f){return o-a>u-l?e(n,r,i,a,o,s,c,l,u,d,f):t(n,r,i,a,o,s,c,l,u,d,f)}return n}function r(){function e(e,t,n,r,i,a,o,s,c,l,u){for(var d=2*e,f=r,p=d*r;f<i;++f,p+=d){var m=a[t+p],h=a[t+p+e],g=o[f];Q:for(var _=s,v=d*s;_<c;++_,v+=d){var y=l[t+v],b=u[_];if(!(y<=m||h<y)){for(var x=t+1;x<e;++x){var S=a[x+p],C=a[x+e+p],w=l[x+v],T=l[x+e+v];if(C<w||T<S)continue Q}var E=n(b,g);if(E!==void 0)return E}}}}function t(e,t,n,r,i,a,o,s,c,l,u){for(var d=2*e,f=r,p=d*r;f<i;++f,p+=d){var m=a[t+p],h=a[t+p+e],g=o[f];Q:for(var _=s,v=d*s;_<c;++_,v+=d){var y=l[t+v],b=u[_];if(!(y<m||h<y)){for(var x=t+1;x<e;++x){var S=a[x+p],C=a[x+e+p],w=l[x+v],T=l[x+e+v];if(C<w||T<S)continue Q}var E=n(g,b);if(E!==void 0)return E}}}}function n(e,t,n,r,i,a,o,s,c,l,u){for(var d=2*e,f=s,p=d*s;f<c;++f,p+=d){var m=l[t+p],h=u[f];Q:for(var g=r,_=d*r;g<i;++g,_+=d){var v=a[t+_],y=a[t+_+e],b=o[g];if(!(m<=v||y<m)){for(var x=t+1;x<e;++x){var S=a[x+_],C=a[x+e+_],w=l[x+p],T=l[x+e+p];if(C<w||T<S)continue Q}var E=n(h,b);if(E!==void 0)return E}}}}function r(e,t,n,r,i,a,o,s,c,l,u){for(var d=2*e,f=s,p=d*s;f<c;++f,p+=d){var m=l[t+p],h=u[f];Q:for(var g=r,_=d*r;g<i;++g,_+=d){var v=a[t+_],y=a[t+_+e],b=o[g];if(!(m<v||y<m)){for(var x=t+1;x<e;++x){var S=a[x+_],C=a[x+e+_],w=l[x+p],T=l[x+e+p];if(C<w||T<S)continue Q}var E=n(b,h);if(E!==void 0)return E}}}}function i(i,a,o,s,c,l,u,d,f,p,m,h){return l-c>p-f?s?e(i,a,o,c,l,u,d,f,p,m,h):t(i,a,o,c,l,u,d,f,p,m,h):s?n(i,a,o,c,l,u,d,f,p,m,h):r(i,a,o,c,l,u,d,f,p,m,h)}return i}function i(e){return e?n():r()}t.partial=i(!1),t.full=i(!0)},2337:function(e,t,n){e.exports=k;var r=n(5306),i=n(2288),a=n(7333),o=a.partial,s=a.full,c=n(1390),l=n(2464),u=n(122),d=128,f=1<<22,p=1<<22,m=u(`!(lo>=p0)&&!(p1>=hi)`),h=u(`lo===p0`),g=u(`lo<p0`),_=u(`hi<=p0`),v=u(`lo<=p0&&p0<=hi`),y=u(`lo<p0&&p0<=hi`),b=6,x=2,S=1024,C=r.mallocInt32(S),w=r.mallocDouble(S);function T(e,t){var n=8*i.log2(t+1)*(e+1)|0,a=i.nextPow2(b*n);C.length<a&&(r.free(C),C=r.mallocInt32(a));var o=i.nextPow2(x*n);w.length<o&&(r.free(w),w=r.mallocDouble(o))}function E(e,t,n,r,i,a,o,s,c){var l=b*e;C[l]=t,C[l+1]=n,C[l+2]=r,C[l+3]=i,C[l+4]=a,C[l+5]=o;var u=x*e;w[u]=s,w[u+1]=c}function D(e,t,n,r,i,a,o,s,c,l,u){var d=2*e,f=c*d,p=l[f+t];red_loop:for(var m=i,h=i*d;m<a;++m,h+=d){var g=o[h+t],_=o[h+t+e];if(!(p<g||_<p)&&!(r&&p===g)){for(var v=s[m],y=t+1;y<e;++y){var g=o[h+y],_=o[h+y+e],b=l[f+y],x=l[f+y+e];if(_<b||x<g)continue red_loop}var S=r?n(u,v):n(v,u);if(S!==void 0)return S}}}function O(e,t,n,r,i,a,o,s,c,l){var u=2*e,d=s*u,f=c[d+t];red_loop:for(var p=r,m=r*u;p<i;++p,m+=u){var h=o[p];if(h!==l){var g=a[m+t],_=a[m+t+e];if(!(f<g||_<f)){for(var v=t+1;v<e;++v){var g=a[m+v],_=a[m+v+e],y=c[d+v],b=c[d+v+e];if(_<y||b<g)continue red_loop}var x=n(h,l);if(x!==void 0)return x}}}}function k(e,t,n,r,i,a,u,S,k){T(e,r+u);var A=0,j=2*e,M;for(E(A++,0,0,r,0,u,n?16:0,-1/0,1/0),n||E(A++,0,0,u,0,r,1,-1/0,1/0);A>0;){--A;var N=A*b,P=C[N],F=C[N+1],I=C[N+2],L=C[N+3],R=C[N+4],z=C[N+5],B=A*x,V=w[B],H=w[B+1],U=z&1,W=!!(z&16),G=i,K=a,ee=S,q=k;if(U&&(G=S,K=k,ee=i,q=a),!(z&2&&(I=g(e,P,F,I,G,K,H),F>=I))&&!(z&4&&(F=_(e,P,F,I,G,K,V),F>=I))){var J=I-F,Y=R-L;if(W){if(e*J*(J+Y)<p){if(M=c.scanComplete(e,P,t,F,I,G,K,L,R,ee,q),M!==void 0)return M;continue}}else if(e*Math.min(J,Y)<d){if(M=o(e,P,t,U,F,I,G,K,L,R,ee,q),M!==void 0)return M;continue}else if(e*J*Y<f){if(M=c.scanBipartite(e,P,t,U,F,I,G,K,L,R,ee,q),M!==void 0)return M;continue}var te=m(e,P,F,I,G,K,V,H);if(F<te)if(e*(te-F)<d){if(M=s(e,P+1,t,F,te,G,K,L,R,ee,q),M!==void 0)return M}else if(P===e-2){if(M=U?c.sweepBipartite(e,t,L,R,ee,q,F,te,G,K):c.sweepBipartite(e,t,F,te,G,K,L,R,ee,q),M!==void 0)return M}else E(A++,P+1,F,te,L,R,U,-1/0,1/0),E(A++,P+1,L,R,F,te,U^1,-1/0,1/0);if(te<I){var ne=l(e,P,L,R,ee,q),re=ee[j*ne+P],ie=h(e,P,ne,R,ee,q,re);if(ie<R&&E(A++,P,te,I,ie,R,(U|4)+(W?16:0),re,H),L<ne&&E(A++,P,te,I,L,ne,(U|2)+(W?16:0),V,re),ne+1===ie){if(M=W?O(e,P,t,te,I,G,K,ne,ee,q[ne]):D(e,P,t,U,te,I,G,K,ne,ee,q[ne]),M!==void 0)return M}else if(ne<ie){var ae;if(W){if(ae=v(e,P,te,I,G,K,re),te<ae){var oe=h(e,P,te,ae,G,K,re);if(P===e-2){if(te<oe&&(M=c.sweepComplete(e,t,te,oe,G,K,ne,ie,ee,q),M!==void 0)||oe<ae&&(M=c.sweepBipartite(e,t,oe,ae,G,K,ne,ie,ee,q),M!==void 0))return M}else te<oe&&E(A++,P+1,te,oe,ne,ie,16,-1/0,1/0),oe<ae&&(E(A++,P+1,oe,ae,ne,ie,0,-1/0,1/0),E(A++,P+1,ne,ie,oe,ae,1,-1/0,1/0))}}else ae=U?y(e,P,te,I,G,K,re):v(e,P,te,I,G,K,re),te<ae&&(P===e-2?M=U?c.sweepBipartite(e,t,ne,ie,ee,q,te,ae,G,K):c.sweepBipartite(e,t,te,ae,G,K,ne,ie,ee,q):(E(A++,P+1,te,ae,ne,ie,U,-1/0,1/0),E(A++,P+1,ne,ie,te,ae,U^1,-1/0,1/0)))}}}}}},2464:function(e,t,n){e.exports=o;var r=n(122)(`lo<p0`),i=8;function a(e,t,n,r,i,a){for(var o=2*e,s=o*(n+1)+t,c=n+1;c<r;++c,s+=o)for(var l=i[s],u=c,d=o*(c-1);u>n&&i[d+t]>l;--u,d-=o){for(var f=d,p=d+o,m=0;m<o;++m,++f,++p){var h=i[f];i[f]=i[p],i[p]=h}var g=a[u];a[u]=a[u-1],a[u-1]=g}}function o(e,t,n,o,s,c){if(o<=n+1)return n;for(var l=n,u=o,d=o+n>>>1,f=2*e,p=d,m=s[f*d+t];l<u;){if(u-l<i){a(e,t,l,u,s,c),m=s[f*d+t];break}var h=u-l,g=Math.random()*h+l|0,_=s[f*g+t],v=Math.random()*h+l|0,y=s[f*v+t],b=Math.random()*h+l|0,x=s[f*b+t];_<=y?x>=y?(p=v,m=y):_>=x?(p=g,m=_):(p=b,m=x):y>=x?(p=v,m=y):x>=_?(p=g,m=_):(p=b,m=x);for(var S=f*(u-1),C=f*p,w=0;w<f;++w,++S,++C){var T=s[S];s[S]=s[C],s[C]=T}var E=c[u-1];c[u-1]=c[p],c[p]=E,p=r(e,t,l,u-1,s,c,m);for(var S=f*(u-1),C=f*p,w=0;w<f;++w,++S,++C){var T=s[S];s[S]=s[C],s[C]=T}var E=c[u-1];if(c[u-1]=c[p],c[p]=E,d<p){for(u=p-1;l<u&&s[f*(u-1)+t]===m;)--u;u+=1}else if(p<d)for(l=p+1;l<u&&s[f*l+t]===m;)l+=1;else break}return r(e,t,n,d,s,c,s[f*d+t])}},122:function(e){e.exports=n;var t={"lo===p0":r,"lo<p0":i,"lo<=p0":a,"hi<=p0":o,"lo<p0&&p0<=hi":c,"lo<=p0&&p0<=hi":s,"!(lo>=p0)&&!(p1>=hi)":l};function n(e){return t[e]}function r(e,t,n,r,i,a,o){for(var s=2*e,c=s*n,l=c,u=n,d=t,f=e+t,p=n;r>p;++p,c+=s)if(i[c+d]===o)if(u===p)u+=1,l+=s;else{for(var m=0;s>m;++m){var h=i[c+m];i[c+m]=i[l],i[l++]=h}var g=a[p];a[p]=a[u],a[u++]=g}return u}function i(e,t,n,r,i,a,o){for(var s=2*e,c=s*n,l=c,u=n,d=t,f=e+t,p=n;r>p;++p,c+=s)if(i[c+d]<o)if(u===p)u+=1,l+=s;else{for(var m=0;s>m;++m){var h=i[c+m];i[c+m]=i[l],i[l++]=h}var g=a[p];a[p]=a[u],a[u++]=g}return u}function a(e,t,n,r,i,a,o){for(var s=2*e,c=s*n,l=c,u=n,d=e+t,f=n;r>f;++f,c+=s)if(i[c+d]<=o)if(u===f)u+=1,l+=s;else{for(var p=0;s>p;++p){var m=i[c+p];i[c+p]=i[l],i[l++]=m}var h=a[f];a[f]=a[u],a[u++]=h}return u}function o(e,t,n,r,i,a,o){for(var s=2*e,c=s*n,l=c,u=n,d=e+t,f=n;r>f;++f,c+=s)if(i[c+d]<=o)if(u===f)u+=1,l+=s;else{for(var p=0;s>p;++p){var m=i[c+p];i[c+p]=i[l],i[l++]=m}var h=a[f];a[f]=a[u],a[u++]=h}return u}function s(e,t,n,r,i,a,o){for(var s=2*e,c=s*n,l=c,u=n,d=t,f=e+t,p=n;r>p;++p,c+=s){var m=i[c+d],h=i[c+f];if(m<=o&&o<=h)if(u===p)u+=1,l+=s;else{for(var g=0;s>g;++g){var _=i[c+g];i[c+g]=i[l],i[l++]=_}var v=a[p];a[p]=a[u],a[u++]=v}}return u}function c(e,t,n,r,i,a,o){for(var s=2*e,c=s*n,l=c,u=n,d=t,f=e+t,p=n;r>p;++p,c+=s){var m=i[c+d],h=i[c+f];if(m<o&&o<=h)if(u===p)u+=1,l+=s;else{for(var g=0;s>g;++g){var _=i[c+g];i[c+g]=i[l],i[l++]=_}var v=a[p];a[p]=a[u],a[u++]=v}}return u}function l(e,t,n,r,i,a,o,s){for(var c=2*e,l=c*n,u=l,d=n,f=t,p=e+t,m=n;r>m;++m,l+=c){var h=i[l+f],g=i[l+p];if(!(h>=o)&&!(s>=g))if(d===m)d+=1,u+=c;else{for(var _=0;c>_;++_){var v=i[l+_];i[l+_]=i[u],i[u++]=v}var y=a[m];a[m]=a[d],a[d++]=y}}return d}},309:function(e){e.exports=n;var t=32;function n(e,n){n<=4*t?r(0,n-1,e):u(0,n-1,e)}function r(e,t,n){for(var r=2*(e+1),i=e+1;i<=t;++i){for(var a=n[r++],o=n[r++],s=i,c=r-2;s-- >e;){var l=n[c-2],u=n[c-1];if(l<a||l===a&&u<o)break;n[c]=l,n[c+1]=u,c-=2}n[c]=a,n[c+1]=o}}function i(e,t,n){e*=2,t*=2;var r=n[e],i=n[e+1];n[e]=n[t],n[e+1]=n[t+1],n[t]=r,n[t+1]=i}function a(e,t,n){e*=2,t*=2,n[e]=n[t],n[e+1]=n[t+1]}function o(e,t,n,r){e*=2,t*=2,n*=2;var i=r[e],a=r[e+1];r[e]=r[t],r[e+1]=r[t+1],r[t]=r[n],r[t+1]=r[n+1],r[n]=i,r[n+1]=a}function s(e,t,n,r,i){e*=2,t*=2,i[e]=i[t],i[t]=n,i[e+1]=i[t+1],i[t+1]=r}function c(e,t,n){e*=2,t*=2;var r=n[e],i=n[t];return r<i?!1:r===i?n[e+1]>n[t+1]:!0}function l(e,t,n,r){e*=2;var i=r[e];return i<t?!0:i===t?r[e+1]<n:!1}function u(e,n,d){var f=(n-e+1)/6|0,p=e+f,m=n-f,h=e+n>>1,g=h-f,_=h+f,v=p,y=g,b=h,x=_,S=m,C=e+1,w=n-1,T=0;c(v,y,d)&&(T=v,v=y,y=T),c(x,S,d)&&(T=x,x=S,S=T),c(v,b,d)&&(T=v,v=b,b=T),c(y,b,d)&&(T=y,y=b,b=T),c(v,x,d)&&(T=v,v=x,x=T),c(b,x,d)&&(T=b,b=x,x=T),c(y,S,d)&&(T=y,y=S,S=T),c(y,b,d)&&(T=y,y=b,b=T),c(x,S,d)&&(T=x,x=S,S=T);for(var E=d[2*y],D=d[2*y+1],O=d[2*x],k=d[2*x+1],A=2*v,j=2*b,M=2*S,N=2*p,P=2*h,F=2*m,I=0;I<2;++I){var L=d[A+I],R=d[j+I],z=d[M+I];d[N+I]=L,d[P+I]=R,d[F+I]=z}a(g,e,d),a(_,n,d);for(var B=C;B<=w;++B)if(l(B,E,D,d))B!==C&&i(B,C,d),++C;else if(!l(B,O,k,d))for(;;)if(l(w,O,k,d)){l(w,E,D,d)?(o(B,C,w,d),++C,--w):(i(B,w,d),--w);break}else{if(--w<B)break;continue}s(e,C-1,E,D,d),s(n,w+1,O,k,d),C-2-e<=t?r(e,C-2,d):u(e,C-2,d),n-(w+2)<=t?r(w+2,n,d):u(w+2,n,d),w-C<=t?r(C,w,d):u(C,w,d)}},1390:function(e,t,n){e.exports={init:h,sweepBipartite:v,sweepComplete:y,scanBipartite:b,scanComplete:x};var r=n(5306),i=n(2288),a=n(309),o=1<<28,s=1024,c=r.mallocInt32(s),l=r.mallocInt32(s),u=r.mallocInt32(s),d=r.mallocInt32(s),f=r.mallocInt32(s),p=r.mallocInt32(s),m=r.mallocDouble(s*8);function h(e){var t=i.nextPow2(e);c.length<t&&(r.free(c),c=r.mallocInt32(t)),l.length<t&&(r.free(l),l=r.mallocInt32(t)),u.length<t&&(r.free(u),u=r.mallocInt32(t)),d.length<t&&(r.free(d),d=r.mallocInt32(t)),f.length<t&&(r.free(f),f=r.mallocInt32(t)),p.length<t&&(r.free(p),p=r.mallocInt32(t));var n=8*t;m.length<n&&(r.free(m),m=r.mallocDouble(n))}function g(e,t,n,r){var i=t[r],a=e[n-1];e[i]=a,t[a]=i}function _(e,t,n,r){e[n]=r,t[r]=n}function v(e,t,n,r,i,s,f,p,h,v){for(var y=0,b=2*e,x=e-1,S=b-1,C=n;C<r;++C){var w=s[C],T=b*C;m[y++]=i[T+x],m[y++]=-(w+1),m[y++]=i[T+S],m[y++]=w}for(var C=f;C<p;++C){var w=v[C]+o,E=b*C;m[y++]=h[E+x],m[y++]=-w,m[y++]=h[E+S],m[y++]=w}var D=y>>>1;a(m,D);for(var O=0,k=0,C=0;C<D;++C){var A=m[2*C+1]|0;if(A>=o)A=A-o|0,g(u,d,k--,A);else if(A>=0)g(c,l,O--,A);else if(A<=-o){A=-A-o|0;for(var j=0;j<O;++j){var M=t(c[j],A);if(M!==void 0)return M}_(u,d,k++,A)}else{A=-A-1|0;for(var j=0;j<k;++j){var M=t(A,u[j]);if(M!==void 0)return M}_(c,l,O++,A)}}}function y(e,t,n,r,i,o,s,h,v,y){for(var b=0,x=2*e,S=e-1,C=x-1,w=n;w<r;++w){var T=o[w]+1<<1,E=x*w;m[b++]=i[E+S],m[b++]=-T,m[b++]=i[E+C],m[b++]=T}for(var w=s;w<h;++w){var T=y[w]+1<<1,D=x*w;m[b++]=v[D+S],m[b++]=-T|1,m[b++]=v[D+C],m[b++]=T|1}var O=b>>>1;a(m,O);for(var k=0,A=0,j=0,w=0;w<O;++w){var M=m[2*w+1]|0,N=M&1;if(w<O-1&&M>>1==m[2*w+3]>>1&&(N=2,w+=1),M<0){for(var P=-(M>>1)-1,F=0;F<j;++F){var I=t(f[F],P);if(I!==void 0)return I}if(N!==0)for(var F=0;F<k;++F){var I=t(c[F],P);if(I!==void 0)return I}if(N!==1)for(var F=0;F<A;++F){var I=t(u[F],P);if(I!==void 0)return I}N===0?_(c,l,k++,P):N===1?_(u,d,A++,P):N===2&&_(f,p,j++,P)}else{var P=(M>>1)-1;N===0?g(c,l,k--,P):N===1?g(u,d,A--,P):N===2&&g(f,p,j--,P)}}}function b(e,t,n,r,i,s,u,d,f,p,h,v){var y=0,b=2*e,x=t,S=t+e,C=1,w=1;r?w=o:C=o;for(var T=i;T<s;++T){var E=T+C,D=b*T;m[y++]=u[D+x],m[y++]=-E,m[y++]=u[D+S],m[y++]=E}for(var T=f;T<p;++T){var E=T+w,O=b*T;m[y++]=h[O+x],m[y++]=-E}var k=y>>>1;a(m,k);for(var A=0,T=0;T<k;++T){var j=m[2*T+1]|0;if(j<0){var E=-j,M=!1;if(E>=o?(M=!r,E-=o):(M=!!r,--E),M)_(c,l,A++,E);else{var N=v[E],P=b*E,F=h[P+t+1],I=h[P+t+1+e];red_loop:for(var L=0;L<A;++L){var R=c[L],z=b*R;if(!(I<u[z+t+1]||u[z+t+1+e]<F)){for(var B=t+2;B<e;++B)if(h[P+B+e]<u[z+B]||u[z+B+e]<h[P+B])continue red_loop;var V=d[R],H=r?n(N,V):n(V,N);if(H!==void 0)return H}}}}else g(c,l,A--,j-C)}}function x(e,t,n,r,i,s,l,u,d,f,p){for(var h=0,g=2*e,_=t,v=t+e,y=r;y<i;++y){var b=y+o,x=g*y;m[h++]=s[x+_],m[h++]=-b,m[h++]=s[x+v],m[h++]=b}for(var y=u;y<d;++y){var b=y+1,S=g*y;m[h++]=f[S+_],m[h++]=-b}var C=h>>>1;a(m,C);for(var w=0,y=0;y<C;++y){var T=m[2*y+1]|0;if(T<0){var b=-T;if(b>=o)c[w++]=b-o;else{--b;var E=p[b],D=g*b,O=f[D+t+1],k=f[D+t+1+e];red_loop:for(var A=0;A<w;++A){var j=c[A],M=l[j];if(M===E)break;var N=g*j;if(!(k<s[N+t+1]||s[N+t+1+e]<O)){for(var P=t+2;P<e;++P)if(f[D+P+e]<s[N+P]||s[N+P+e]<f[D+P])continue red_loop;var F=n(M,E);if(F!==void 0)return F}}}}else{for(var b=T-o,A=w-1;A>=0;--A)if(c[A]===b){for(var P=A+1;P<w;++P)c[P-1]=c[P];break}--w}}}},7761:function(e,t,n){var r=n(9971),i=n(743),a=n(2161),o=n(7098);e.exports=d;function s(e){return[Math.min(e[0],e[1]),Math.max(e[0],e[1])]}function c(e,t){return e[0]-t[0]||e[1]-t[1]}function l(e){return e.map(s).sort(c)}function u(e,t,n){return t in e?e[t]:n}function d(e,t,n){Array.isArray(t)?(n||={},t||=[]):(n=t||{},t=[]);var s=!!u(n,`delaunay`,!0),c=!!u(n,`interior`,!0),d=!!u(n,`exterior`,!0),f=!!u(n,`infinity`,!1);if(!c&&!d||e.length===0)return[];var p=r(e,t);if(s||c!==d||f){for(var m=i(e.length,l(t)),h=0;h<p.length;++h){var g=p[h];m.addTriangle(g[0],g[1],g[2])}return s&&a(e,m),d?c?f?o(m,0,f):m.cells():o(m,1,f):o(m,-1)}else return p}},2161:function(e,t,n){var r=n(2227)[4];n(5070),e.exports=a;function i(e,t,n,i,a,o){var s=t.opposite(i,a);if(!(s<0)){if(a<i){var c=i;i=a,a=c,c=o,o=s,s=c}t.isConstraint(i,a)||r(e[i],e[a],e[o],e[s])<0&&n.push(i,a)}}function a(e,t){for(var n=[],a=e.length,o=t.stars,s=0;s<a;++s)for(var c=o[s],l=1;l<c.length;l+=2){var u=c[l];if(!(u<s)&&!t.isConstraint(s,u)){for(var d=c[l-1],f=-1,p=1;p<c.length;p+=2)if(c[p-1]===u){f=c[p];break}f<0||r(e[s],e[u],e[d],e[f])<0&&n.push(s,u)}}for(;n.length>0;){for(var u=n.pop(),s=n.pop(),d=-1,f=-1,c=o[s],m=1;m<c.length;m+=2){var h=c[m-1],g=c[m];h===u?f=g:g===u&&(d=h)}d<0||f<0||r(e[s],e[u],e[d],e[f])>=0||(t.flip(s,u),i(e,t,n,d,s,f),i(e,t,n,s,f,d),i(e,t,n,f,u,d),i(e,t,n,u,d,f))}}},7098:function(e,t,n){var r=n(5070);e.exports=l;function i(e,t,n,r,i,a,o){this.cells=e,this.neighbor=t,this.flags=r,this.constraint=n,this.active=i,this.next=a,this.boundary=o}var a=i.prototype;function o(e,t){return e[0]-t[0]||e[1]-t[1]||e[2]-t[2]}a.locate=function(){var e=[0,0,0];return function(t,n,i){var a=t,s=n,c=i;return n<i?n<t&&(a=n,s=i,c=t):i<t&&(a=i,s=t,c=n),a<0?-1:(e[0]=a,e[1]=s,e[2]=c,r.eq(this.cells,e,o))}}();function s(e,t){for(var n=e.cells(),r=n.length,a=0;a<r;++a){var s=n[a],c=s[0],l=s[1],u=s[2];l<u?l<c&&(s[0]=l,s[1]=u,s[2]=c):u<c&&(s[0]=u,s[1]=c,s[2]=l)}n.sort(o);for(var d=Array(r),a=0;a<d.length;++a)d[a]=0;var f=[],p=[],m=Array(3*r),h=Array(3*r),g=null;t&&(g=[]);for(var _=new i(n,m,h,d,f,p,g),a=0;a<r;++a)for(var s=n[a],v=0;v<3;++v){var c=s[v],l=s[(v+1)%3],y=m[3*a+v]=_.locate(l,c,e.opposite(l,c)),b=h[3*a+v]=e.isConstraint(c,l);y<0&&(b?p.push(a):(f.push(a),d[a]=1),t&&g.push([l,c,-1]))}return _}function c(e,t,n){for(var r=0,i=0;i<e.length;++i)t[i]===n&&(e[r++]=e[i]);return e.length=r,e}function l(e,t,n){var r=s(e,n);if(t===0)return n?r.cells.concat(r.boundary):r.cells;for(var i=1,a=r.active,o=r.next,l=r.flags,u=r.cells,d=r.constraint,f=r.neighbor;a.length>0||o.length>0;){for(;a.length>0;){var p=a.pop();if(l[p]!==-i){l[p]=i,u[p];for(var m=0;m<3;++m){var h=f[3*p+m];h>=0&&l[h]===0&&(d[3*p+m]?o.push(h):(a.push(h),l[h]=i))}}}var g=o;o=a,a=g,o.length=0,i=-i}var _=c(u,l,t);return n?_.concat(r.boundary):_}},9971:function(e,t,n){var r=n(5070),i=n(417)[3],a=0,o=1,s=2;e.exports=g;function c(e,t,n,r,i){this.a=e,this.b=t,this.idx=n,this.lowerIds=r,this.upperIds=i}function l(e,t,n,r){this.a=e,this.b=t,this.type=n,this.idx=r}function u(e,t){var n=e.a[0]-t.a[0]||e.a[1]-t.a[1]||e.type-t.type;return n||e.type!==a&&(n=i(e.a,e.b,t.b),n)?n:e.idx-t.idx}function d(e,t){return i(e.a,e.b,t)}function f(e,t,n,a,o){for(var s=r.lt(t,a,d),c=r.gt(t,a,d),l=s;l<c;++l){for(var u=t[l],f=u.lowerIds,p=f.length;p>1&&i(n[f[p-2]],n[f[p-1]],a)>0;)e.push([f[p-1],f[p-2],o]),--p;f.length=p,f.push(o);for(var m=u.upperIds,p=m.length;p>1&&i(n[m[p-2]],n[m[p-1]],a)<0;)e.push([m[p-2],m[p-1],o]),--p;m.length=p,m.push(o)}}function p(e,t){var n=e.a[0]<t.a[0]?i(e.a,e.b,t.a):i(t.b,t.a,e.a);return n||(n=t.b[0]<e.b[0]?i(e.a,e.b,t.b):i(t.b,t.a,e.b),n||e.idx-t.idx)}function m(e,t,n){var i=r.le(e,n,p),a=e[i],o=a.upperIds,s=o[o.length-1];a.upperIds=[s],e.splice(i+1,0,new c(n.a,n.b,n.idx,[s],o))}function h(e,t,n){var i=n.a;n.a=n.b,n.b=i;var a=r.eq(e,n,p),o=e[a],s=e[a-1];s.upperIds=o.upperIds,e.splice(a,1)}function g(e,t){for(var n=e.length,r=t.length,i=[],d=0;d<n;++d)i.push(new l(e[d],null,a,d));for(var d=0;d<r;++d){var p=t[d],g=e[p[0]],_=e[p[1]];g[0]<_[0]?i.push(new l(g,_,s,d),new l(_,g,o,d)):g[0]>_[0]&&i.push(new l(_,g,s,d),new l(g,_,o,d))}i.sort(u);for(var v=i[0].a[0]-(1+Math.abs(i[0].a[0]))*2**-52,y=[new c([v,1],[v,0],-1,[],[],[],[])],b=[],d=0,x=i.length;d<x;++d){var S=i[d],C=S.type;C===a?f(b,y,e,S.a,S.idx):C===s?m(y,e,S):h(y,e,S)}return b}},743:function(e,t,n){var r=n(5070);e.exports=s;function i(e,t){this.stars=e,this.edges=t}var a=i.prototype;function o(e,t,n){for(var r=1,i=e.length;r<i;r+=2)if(e[r-1]===t&&e[r]===n){e[r-1]=e[i-2],e[r]=e[i-1],e.length=i-2;return}}a.isConstraint=function(){var e=[0,0];function t(e,t){return e[0]-t[0]||e[1]-t[1]}return function(n,i){return e[0]=Math.min(n,i),e[1]=Math.max(n,i),r.eq(this.edges,e,t)>=0}}(),a.removeTriangle=function(e,t,n){var r=this.stars;o(r[e],t,n),o(r[t],n,e),o(r[n],e,t)},a.addTriangle=function(e,t,n){var r=this.stars;r[e].push(t,n),r[t].push(n,e),r[n].push(e,t)},a.opposite=function(e,t){for(var n=this.stars[t],r=1,i=n.length;r<i;r+=2)if(n[r]===e)return n[r-1];return-1},a.flip=function(e,t){var n=this.opposite(e,t),r=this.opposite(t,e);this.removeTriangle(e,t,n),this.removeTriangle(t,e,r),this.addTriangle(e,r,n),this.addTriangle(t,n,r)},a.edges=function(){for(var e=this.stars,t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length;a<o;a+=2)t.push([i[a],i[a+1]]);return t},a.cells=function(){for(var e=this.stars,t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length;a<o;a+=2){var s=i[a],c=i[a+1];n<Math.min(s,c)&&t.push([n,s,c])}return t};function s(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=[];return new i(n,t)}},9887:function(e){e.exports=t;function t(e){for(var t=1,n=1;n<e.length;++n)for(var r=0;r<n;++r)if(e[n]<e[r])t=-t;else if(e[r]===e[n])return 0;return t}},9243:function(e,t,n){var r=n(3094),i=n(6606);function a(e,t){for(var n=0,r=e.length,i=0;i<r;++i)n+=e[i]*t[i];return n}function o(e){var t=e.length;if(t===0)return[];e[0].length;var n=r([e.length+1,e.length+1],1),o=r([e.length+1],1);n[t][t]=0;for(var s=0;s<t;++s){for(var c=0;c<=s;++c)n[c][s]=n[s][c]=2*a(e[s],e[c]);o[s]=a(e[s],e[s])}for(var l=i(n,o),u=0,d=l[t+1],s=0;s<d.length;++s)u+=d[s];for(var f=Array(t),s=0;s<t;++s){for(var d=l[s],p=0,c=0;c<d.length;++c)p+=d[c];f[s]=p/u}return f}function s(e){if(e.length===0)return[];for(var t=e[0].length,n=r([t]),i=o(e),a=0;a<e.length;++a)for(var s=0;s<t;++s)n[s]+=e[a][s]*i[a];return n}s.barycenetric=o,e.exports=s},1778:function(e,t,n){e.exports=i;var r=n(9243);function i(e){for(var t=r(e),n=0,i=0;i<e.length;++i)for(var a=e[i],o=0;o<t.length;++o)n+=(a[o]-t[o])**2;return Math.sqrt(n/e.length)}},197:function(e,t,n){e.exports=w;var r=n(1731),i=n(2569),a=n(4434),o=n(5125),s=n(8846),c=n(7999),l=n(2826),u=n(8551),d=n(5528);function f(e){var t=c(e);return[u(t,-1/0),u(t,1/0)]}function p(e,t){for(var n=Array(t.length),r=0;r<t.length;++r){var i=t[r],a=e[i[0]],o=e[i[1]];n[r]=[u(Math.min(a[0],o[0]),-1/0),u(Math.min(a[1],o[1]),-1/0),u(Math.max(a[0],o[0]),1/0),u(Math.max(a[1],o[1]),1/0)]}return n}function m(e){for(var t=Array(e.length),n=0;n<e.length;++n){var r=e[n];t[n]=[u(r[0],-1/0),u(r[1],-1/0),u(r[0],1/0),u(r[1],1/0)]}return t}function h(e,t,n){var r=[];return i(n,function(n,i){var o=t[n],s=t[i];if(!(o[0]===s[0]||o[0]===s[1]||o[1]===s[0]||o[1]===s[1])){var c=e[o[0]],l=e[o[1]],u=e[s[0]],d=e[s[1]];a(c,l,u,d)&&r.push([n,i])}}),r}function g(e,t,n,r){var o=[];return i(n,r,function(n,r){var i=t[n];if(!(i[0]===r||i[1]===r)){var s=e[r],c=e[i[0]],l=e[i[1]];a(c,l,s,s)&&o.push([n,r])}}),o}function _(e,t,n,r,i){var a,u,f=e.map(function(e){return[o(e[0]),o(e[1])]});for(a=0;a<n.length;++a){var p=n[a];u=p[0];var m=p[1],h=t[u],g=t[m],_=d(l(e[h[0]]),l(e[h[1]]),l(e[g[0]]),l(e[g[1]]));if(_){var v=e.length;e.push([c(_[0]),c(_[1])]),f.push(_),r.push([u,v],[m,v])}}for(r.sort(function(e,t){if(e[0]!==t[0])return e[0]-t[0];var n=f[e[1]],r=f[t[1]];return s(n[0],r[0])||s(n[1],r[1])}),a=r.length-1;a>=0;--a){var y=r[a];u=y[0];var b=t[u],x=b[0],S=b[1],C=e[x],w=e[S];if((C[0]-w[0]||C[1]-w[1])<0){var T=x;x=S,S=T}b[0]=x;var E=b[1]=y[1],D;for(i&&(D=b[2]);a>0&&r[a-1][0]===u;){var y=r[--a],O=y[1];i?t.push([E,O,D]):t.push([E,O]),E=O}i?t.push([E,S,D]):t.push([E,S])}return f}function v(e,t,n){for(var a=t.length,o=new r(a),s=[],c=0;c<t.length;++c){var l=t[c],d=f(l[0]),p=f(l[1]);s.push([u(d[0],-1/0),u(p[0],-1/0),u(d[1],1/0),u(p[1],1/0)])}i(s,function(e,t){o.link(e,t)});for(var m=!0,h=Array(a),c=0;c<a;++c){var g=o.find(c);g!==c&&(m=!1,e[g]=[Math.min(e[c][0],e[g][0]),Math.min(e[c][1],e[g][1])])}if(m)return null;for(var _=0,c=0;c<a;++c){var g=o.find(c);g===c?(h[c]=_,e[_++]=e[c]):h[c]=-1}e.length=_;for(var c=0;c<a;++c)h[c]<0&&(h[c]=h[o.find(c)]);return h}function y(e,t){return e[0]-t[0]||e[1]-t[1]}function b(e,t){return e[0]-t[0]||e[1]-t[1]||(e[2]<t[2]?-1:e[2]>t[2]?1:0)}function x(e,t,n){if(e.length!==0){if(t)for(var r=0;r<e.length;++r){var i=e[r],a=t[i[0]],o=t[i[1]];i[0]=Math.min(a,o),i[1]=Math.max(a,o)}else for(var r=0;r<e.length;++r){var i=e[r],a=i[0],o=i[1];i[0]=Math.min(a,o),i[1]=Math.max(a,o)}n?e.sort(b):e.sort(y);for(var s=1,r=1;r<e.length;++r){var c=e[r-1],l=e[r];l[0]===c[0]&&l[1]===c[1]&&(!n||l[2]===c[2])||(e[s++]=l)}e.length=s}}function S(e,t,n){var r=v(e,[],m(e));return x(t,r,n),!!r}function C(e,t,n){var r=p(e,t),i=h(e,t,r),a=m(e),o=g(e,t,r,a),s=v(e,_(e,t,i,o,n),a);return x(t,s,n),s?!0:i.length>0||o.length>0}function w(e,t,n){var r;if(n){r=t;for(var i=Array(t.length),a=0;a<t.length;++a){var o=t[a];i[a]=[o[0],o[1],n[a]]}t=i}for(var s=S(e,t,!!n);C(e,t,!!n);)s=!0;if(n&&s){r.length=0,n.length=0;for(var a=0;a<t.length;++a){var o=t[a];r.push([o[0],o[1]]),n.push(o[2])}}return s}},5528:function(e,t,n){e.exports=d;var r=n(3962),i=n(9189),a=n(4354),o=n(4951),s=n(6695),c=n(7584),l=n(4469);function u(e,t){return a(r(e[0],t[1]),r(e[1],t[0]))}function d(e,t,n,r){var a=s(t,e),d=s(r,n),f=u(a,d);return o(f)===0?null:c(e,l(a,i(u(d,s(e,n)),f)))}},5692:function(e){e.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(e,t,n){var r=n(5692),i=n(3578);e.exports=a;function a(e){var t,n,a,l,u,d,f,p,m,h,g;if(e||={},p=(e.nshades||72)-1,f=e.format||`hex`,d=e.colormap,d||=`jet`,typeof d==`string`){if(d=d.toLowerCase(),!r[d])throw Error(d+` not a supported colorscale`);u=r[d]}else if(Array.isArray(d))u=d.slice();else throw Error(`unsupported colormap option`,d);if(u.length>p+1)throw Error(d+` map requires nshades to be at least size `+u.length);h=Array.isArray(e.alpha)?e.alpha.length===2?e.alpha.slice():[1,1]:typeof e.alpha==`number`?[e.alpha,e.alpha]:[1,1],t=u.map(function(e){return Math.round(e.index*p)}),h[0]=Math.min(Math.max(h[0],0),1),h[1]=Math.min(Math.max(h[1],0),1);var _=u.map(function(e,t){var n=u[t].index,r=u[t].rgb.slice();return r.length===4&&r[3]>=0&&r[3]<=1||(r[3]=h[0]+(h[1]-h[0])*n),r}),m=[];for(g=0;g<t.length-1;++g){l=t[g+1]-t[g],n=_[g],a=_[g+1];for(var v=0;v<l;v++){var y=v/l;m.push([Math.round(i(n[0],a[0],y)),Math.round(i(n[1],a[1],y)),Math.round(i(n[2],a[2],y)),i(n[3],a[3],y)])}}return m.push(u[u.length-1].rgb.concat(h[1])),f===`hex`?m=m.map(s):f===`rgbaString`?m=m.map(c):f===`float`&&(m=m.map(o)),m}function o(e){return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function s(e){for(var t,n=`#`,r=0;r<3;++r)t=e[r],t=t.toString(16),n+=(`00`+t).substr(t.length);return n}function c(e){return`rgba(`+e.join(`,`)+`)`}},9398:function(e,t,n){e.exports=l;var r=n(417),i=n(7538),a=n(87),o=n(2019),s=n(9662);function c(e,t,n){var r=a(e[0],-t[0]),i=a(e[1],-t[1]),c=a(n[0],-t[0]),l=a(n[1],-t[1]),u=s(o(r,c),o(i,l));return u[u.length-1]>=0}function l(e,t,n,a){var o=r(t,n,a);if(o===0){var s=i(r(e,t,n)),l=i(r(e,t,a));if(s===l){if(s===0){var u=c(e,t,n);return u===c(e,t,a)?0:u?1:-1}return 0}else if(l===0)return s>0||c(e,t,a)?-1:1;else if(s===0)return l>0||c(e,t,n)?1:-1;return i(l-s)}var d=r(e,t,n);return d>0?o>0&&r(e,t,a)>0?1:-1:d<0?o>0||r(e,t,a)>0?1:-1:r(e,t,a)>0||c(e,t,n)?1:-1}},7538:function(e){e.exports=function(e){return e<0?-1:e>0?1:0}},9209:function(e){e.exports=r;var t=Math.min;function n(e,t){return e-t}function r(e,r){var i=e.length,a=e.length-r.length;if(a)return a;switch(i){case 0:return 0;case 1:return e[0]-r[0];case 2:return e[0]+e[1]-r[0]-r[1]||t(e[0],e[1])-t(r[0],r[1]);case 3:var o=e[0]+e[1],s=r[0]+r[1];if(a=o+e[2]-(s+r[2]),a)return a;var c=t(e[0],e[1]),l=t(r[0],r[1]);return t(c,e[2])-t(l,r[2])||t(c+e[2],o)-t(l+r[2],s);case 4:var u=e[0],d=e[1],f=e[2],p=e[3],m=r[0],h=r[1],g=r[2],_=r[3];return u+d+f+p-(m+h+g+_)||t(u,d,f,p)-t(m,h,g,_,m)||t(u+d,u+f,u+p,d+f,d+p,f+p)-t(m+h,m+g,m+_,h+g,h+_,g+_)||t(u+d+f,u+d+p,u+f+p,d+f+p)-t(m+h+g,m+h+_,m+g+_,h+g+_);default:for(var v=e.slice().sort(n),y=r.slice().sort(n),b=0;b<i;++b)if(a=v[b]-y[b],a)return a;return 0}}},1284:function(e,t,n){var r=n(9209),i=n(9887);e.exports=a;function a(e,t){return r(e,t)||i(e)-i(t)}},5537:function(e,t,n){var r=n(8950),i=n(8722),a=n(3332);e.exports=o;function o(e){var t=e.length;if(t===0)return[];if(t===1)return[[0]];var n=e[0].length;return n===0?[]:n===1?r(e):n===2?i(e):a(e,n)}},8950:function(e){e.exports=t;function t(e){for(var t=0,n=0,r=1;r<e.length;++r)e[r][0]<e[t][0]&&(t=r),e[r][0]>e[n][0]&&(n=r);return t<n?[[t],[n]]:t>n?[[n],[t]]:[[t]]}},8722:function(e,t,n){e.exports=i;var r=n(3266);function i(e){var t=r(e),n=t.length;if(n<=2)return[];for(var i=Array(n),a=t[n-1],o=0;o<n;++o){var s=t[o];i[o]=[a,s],a=s}return i}},3332:function(e,t,n){e.exports=s;var r=n(2183),i=n(2153);function a(e,t){for(var n=e.length,r=Array(n),i=0;i<t.length;++i)r[i]=e[t[i]];for(var a=t.length,i=0;i<n;++i)t.indexOf(i)<0&&(r[a++]=e[i]);return r}function o(e,t){for(var n=e.length,r=t.length,i=0;i<n;++i)for(var a=e[i],o=0;o<a.length;++o){var s=a[o];if(s<r)a[o]=t[s];else{s-=r;for(var c=0;c<r;++c)s>=t[c]&&(s+=1);a[o]=s}}return e}function s(e,t){try{return r(e,!0)}catch{var n=i(e);return n.length<=t?[]:o(r(a(e,n),!0),n)}}},9680:function(e){function t(e,t,n,r,i,a){var o=6*i*i-6*i,s=3*i*i-4*i+1,c=-6*i*i+6*i,l=3*i*i-2*i;if(e.length){a||=Array(e.length);for(var u=e.length-1;u>=0;--u)a[u]=o*e[u]+s*t[u]+c*n[u]+l*r[u];return a}return o*e+s*t+c*n[u]+l*r}function n(e,t,n,r,i,a){var o=i-1,s=i*i,c=o*o,l=(1+2*i)*c,u=i*c,d=s*(3-2*i),f=s*o;if(e.length){a||=Array(e.length);for(var p=e.length-1;p>=0;--p)a[p]=l*e[p]+u*t[p]+d*n[p]+f*r[p];return a}return l*e+u*t+d*n+f*r}e.exports=n,e.exports.derivative=t},4419:function(e,t,n){var r=n(2183),i=n(1215);e.exports=c;function a(e,t){this.point=e,this.index=t}function o(e,t){for(var n=e.point,r=t.point,i=n.length,a=0;a<i;++a){var o=r[a]-n[a];if(o)return o}return 0}function s(e,t,n){if(e===1)return n?[[-1,0]]:[];var r=t.map(function(e,t){return[e[0],t]});r.sort(function(e,t){return e[0]-t[0]});for(var i=Array(e-1),a=1;a<e;++a){var o=r[a-1],s=r[a];i[a-1]=[o[1],s[1]]}return n&&i.push([-1,i[0][1]],[i[e-1][1],-1]),i}function c(e,t){var n=e.length;if(n===0)return[];var c=e[0].length;if(c<1)return[];if(c===1)return s(n,e,t);for(var l=Array(n),u=1,d=0;d<n;++d){for(var f=e[d],p=Array(c+1),m=0,h=0;h<c;++h){var g=f[h];p[h]=g,m+=g*g}p[c]=m,l[d]=new a(p,d),u=Math.max(m,u)}i(l,o),n=l.length;for(var _=Array(n+c+1),v=Array(n+c+1),y=(c+1)*(c+1)*u,b=Array(c+1),d=0;d<=c;++d)b[d]=0;b[c]=y,_[0]=b.slice(),v[0]=-1;for(var d=0;d<=c;++d){var p=b.slice();p[d]=1,_[d+1]=p,v[d+1]=-1}for(var d=0;d<n;++d){var x=l[d];_[d+c+1]=x.point,v[d+c+1]=x.index}var S=r(_,!1);if(S=t?S.filter(function(e){for(var t=0,n=0;n<=c;++n){var r=v[e[n]];if(r<0&&++t>=2)return!1;e[n]=r}return!0}):S.filter(function(e){for(var t=0;t<=c;++t){var n=v[e[t]];if(n<0)return!1;e[t]=n}return!0}),c&1)for(var d=0;d<S.length;++d){var x=S[d],p=x[0];x[0]=x[1],x[1]=p}return S}},8362:function(e){var t=!1;if(typeof Float64Array<`u`){var n=new Float64Array(1),r=new Uint32Array(n.buffer);if(n[0]=1,t=!0,r[1]===1072693248){e.exports=function(e){return n[0]=e,[r[0],r[1]]};function t(e,t){return r[0]=e,r[1]=t,n[0]}e.exports.pack=t;function i(e){return n[0]=e,r[0]}e.exports.lo=i;function a(e){return n[0]=e,r[1]}e.exports.hi=a}else if(r[0]===1072693248){e.exports=function(e){return n[0]=e,[r[1],r[0]]};function t(e,t){return r[1]=e,r[0]=t,n[0]}e.exports.pack=t;function i(e){return n[0]=e,r[1]}e.exports.lo=i;function a(e){return n[0]=e,r[0]}e.exports.hi=a}else t=!1}if(!t){var i=new Buffer(8);e.exports=function(e){return i.writeDoubleLE(e,0,!0),[i.readUInt32LE(0,!0),i.readUInt32LE(4,!0)]};function t(e,t){return i.writeUInt32LE(e,0,!0),i.writeUInt32LE(t,4,!0),i.readDoubleLE(0,!0)}e.exports.pack=t;function n(e){return i.writeDoubleLE(e,0,!0),i.readUInt32LE(0,!0)}e.exports.lo=n;function r(e){return i.writeDoubleLE(e,0,!0),i.readUInt32LE(4,!0)}e.exports.hi=r}e.exports.sign=function(t){return e.exports.hi(t)>>>31},e.exports.exponent=function(t){return(e.exports.hi(t)<<1>>>21)-1023},e.exports.fraction=function(t){var n=e.exports.lo(t),r=e.exports.hi(t),i=r&(1<<20)-1;return r&2146435072&&(i+=1<<20),[n,i]},e.exports.denormalized=function(t){return!(e.exports.hi(t)&2146435072)}},3094:function(e){function t(e,n,r){var i=e[r]|0;if(i<=0)return[];var a=Array(i),o;if(r===e.length-1)for(o=0;o<i;++o)a[o]=n;else for(o=0;o<i;++o)a[o]=t(e,n,r+1);return a}function n(e,t){var n=Array(e),r;for(r=0;r<e;++r)n[r]=t;return n}function r(e,r){switch(r===void 0&&(r=0),typeof e){case`number`:if(e>0)return n(e|0,r);break;case`object`:if(typeof e.length==`number`)return t(e,r,0);break}return[]}e.exports=r},8348:function(e,t,n){e.exports=i;var r=n(1215);function i(e,t){var n=e.length;if(typeof t!=`number`){t=0;for(var i=0;i<n;++i){var a=e[i];t=Math.max(t,a[0],a[1])}t=(t|0)+1}t|=0;for(var o=Array(t),i=0;i<t;++i)o[i]=[];for(var i=0;i<n;++i){var a=e[i];o[a[0]].push(a[1]),o[a[1]].push(a[0])}for(var s=0;s<t;++s)r(o[s],function(e,t){return e-t});return o}},5795:function(e){e.exports=t;function t(e,t,n){var r=t||0,i=n||1;return[[e[12]+e[0],e[13]+e[1],e[14]+e[2],e[15]+e[3]],[e[12]-e[0],e[13]-e[1],e[14]-e[2],e[15]-e[3]],[e[12]+e[4],e[13]+e[5],e[14]+e[6],e[15]+e[7]],[e[12]-e[4],e[13]-e[5],e[14]-e[6],e[15]-e[7]],[r*e[12]+e[8],r*e[13]+e[9],r*e[14]+e[10],r*e[15]+e[11]],[i*e[12]-e[8],i*e[13]-e[9],i*e[14]-e[10],i*e[15]-e[11]]]}},8444:function(e,t,n){e.exports=l;var r=n(9680),i=n(5070);function a(e,t,n){return Math.min(t,Math.max(e,n))}function o(e,t,n){this.dimension=e.length,this.bounds=[Array(this.dimension),Array(this.dimension)];for(var r=0;r<this.dimension;++r)this.bounds[0][r]=-1/0,this.bounds[1][r]=1/0;this._state=e.slice().reverse(),this._velocity=t.slice().reverse(),this._time=[n],this._scratch=[e.slice(),e.slice(),e.slice(),e.slice(),e.slice()]}var s=o.prototype;s.flush=function(e){var t=i.gt(this._time,e)-1;t<=0||(this._time.splice(0,t),this._state.splice(0,t*this.dimension),this._velocity.splice(0,t*this.dimension))},s.curve=function(e){var t=this._time,n=t.length,o=i.le(t,e),s=this._scratch[0],c=this._state,l=this._velocity,u=this.dimension,d=this.bounds;if(o<0)for(var f=u-1,p=0;p<u;++p,--f)s[p]=c[f];else if(o>=n-1)for(var f=c.length-1,m=e-t[n-1],p=0;p<u;++p,--f)s[p]=c[f]+m*l[f];else{for(var f=u*(o+1)-1,h=t[o],g=t[o+1]-h||1,_=this._scratch[1],v=this._scratch[2],y=this._scratch[3],b=this._scratch[4],x=!0,p=0;p<u;++p,--f)_[p]=c[f],y[p]=l[f]*g,v[p]=c[f+u],b[p]=l[f+u]*g,x=x&&_[p]===v[p]&&y[p]===b[p]&&y[p]===0;if(x)for(var p=0;p<u;++p)s[p]=_[p];else r(_,y,v,b,(e-h)/g,s)}for(var S=d[0],C=d[1],p=0;p<u;++p)s[p]=a(S[p],C[p],s[p]);return s},s.dcurve=function(e){var t=this._time,n=t.length,a=i.le(t,e),o=this._scratch[0],s=this._state,c=this._velocity,l=this.dimension;if(a>=n-1){var u=s.length-1;e-t[n-1];for(var d=0;d<l;++d,--u)o[d]=c[u]}else{for(var u=l*(a+1)-1,f=t[a],p=t[a+1]-f||1,m=this._scratch[1],h=this._scratch[2],g=this._scratch[3],_=this._scratch[4],v=!0,d=0;d<l;++d,--u)m[d]=s[u],g[d]=c[u]*p,h[d]=s[u+l],_[d]=c[u+l]*p,v=v&&m[d]===h[d]&&g[d]===_[d]&&g[d]===0;if(v)for(var d=0;d<l;++d)o[d]=0;else{r.derivative(m,g,h,_,(e-f)/p,o);for(var d=0;d<l;++d)o[d]/=p}}return o},s.lastT=function(){var e=this._time;return e[e.length-1]},s.stable=function(){for(var e=this._velocity,t=e.length,n=this.dimension-1;n>=0;--n)if(e[--t])return!1;return!0},s.jump=function(e){var t=this.lastT(),n=this.dimension;if(!(e<t||arguments.length!==n+1)){var r=this._state,i=this._velocity,o=r.length-this.dimension,s=this.bounds,c=s[0],l=s[1];this._time.push(t,e);for(var u=0;u<2;++u)for(var d=0;d<n;++d)r.push(r[o++]),i.push(0);this._time.push(e);for(var d=n;d>0;--d)r.push(a(c[d-1],l[d-1],arguments[d])),i.push(0)}},s.push=function(e){var t=this.lastT(),n=this.dimension;if(!(e<t||arguments.length!==n+1)){var r=this._state,i=this._velocity,o=r.length-this.dimension,s=e-t,c=this.bounds,l=c[0],u=c[1],d=s>1e-6?1/s:0;this._time.push(e);for(var f=n;f>0;--f){var p=a(l[f-1],u[f-1],arguments[f]);r.push(p),i.push((p-r[o++])*d)}}},s.set=function(e){var t=this.dimension;if(!(e<this.lastT()||arguments.length!==t+1)){var n=this._state,r=this._velocity,i=this.bounds,o=i[0],s=i[1];this._time.push(e);for(var c=t;c>0;--c)n.push(a(o[c-1],s[c-1],arguments[c])),r.push(0)}},s.move=function(e){var t=this.lastT(),n=this.dimension;if(!(e<=t||arguments.length!==n+1)){var r=this._state,i=this._velocity,o=r.length-this.dimension,s=this.bounds,c=s[0],l=s[1],u=e-t,d=u>1e-6?1/u:0;this._time.push(e);for(var f=n;f>0;--f){var p=arguments[f];r.push(a(c[f-1],l[f-1],r[o++]+p)),i.push(p*d)}}},s.idle=function(e){var t=this.lastT();if(!(e<t)){var n=this.dimension,r=this._state,i=this._velocity,o=r.length-n,s=this.bounds,c=s[0],l=s[1],u=e-t;this._time.push(e);for(var d=n-1;d>=0;--d)r.push(a(c[d],l[d],r[o]+u*i[o])),i.push(0),o+=1}};function c(e){for(var t=Array(e),n=0;n<e;++n)t[n]=0;return t}function l(e,t,n){switch(arguments.length){case 0:return new o([0],[0],0);case 1:if(typeof e==`number`){var r=c(e);return new o(r,r,0)}else return new o(e,c(e.length),0);case 2:if(typeof t==`number`){var r=c(e.length);return new o(e,r,+t)}else n=0;case 3:if(e.length!==t.length)throw Error(`state and velocity lengths must match`);return new o(e,t,n)}}},7080:function(e){e.exports=_;var t=0,n=1;function r(e,t,n,r,i,a){this._color=e,this.key=t,this.value=n,this.left=r,this.right=i,this._count=a}function i(e){return new r(e._color,e.key,e.value,e.left,e.right,e._count)}function a(e,t){return new r(e,t.key,t.value,t.left,t.right,t._count)}function o(e){e._count=1+(e.left?e.left._count:0)+(e.right?e.right._count:0)}function s(e,t){this._compare=e,this.root=t}var c=s.prototype;Object.defineProperty(c,`keys`,{get:function(){var e=[];return this.forEach(function(t,n){e.push(t)}),e}}),Object.defineProperty(c,`values`,{get:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e}}),Object.defineProperty(c,`length`,{get:function(){return this.root?this.root._count:0}}),c.insert=function(e,i){for(var c=this._compare,l=this.root,u=[],d=[];l;){var f=c(e,l.key);u.push(l),d.push(f),l=f<=0?l.left:l.right}u.push(new r(t,e,i,null,null,1));for(var p=u.length-2;p>=0;--p){var l=u[p];d[p]<=0?u[p]=new r(l._color,l.key,l.value,u[p+1],l.right,l._count+1):u[p]=new r(l._color,l.key,l.value,l.left,u[p+1],l._count+1)}for(var p=u.length-1;p>1;--p){var m=u[p-1],l=u[p];if(m._color===n||l._color===n)break;var h=u[p-2];if(h.left===m)if(m.left===l){var g=h.right;if(g&&g._color===t)m._color=n,h.right=a(n,g),h._color=t,--p;else{if(h._color=t,h.left=m.right,m._color=n,m.right=h,u[p-2]=m,u[p-1]=l,o(h),o(m),p>=3){var _=u[p-3];_.left===h?_.left=m:_.right=m}break}}else{var g=h.right;if(g&&g._color===t)m._color=n,h.right=a(n,g),h._color=t,--p;else{if(m.right=l.left,h._color=t,h.left=l.right,l._color=n,l.left=m,l.right=h,u[p-2]=l,u[p-1]=m,o(h),o(m),o(l),p>=3){var _=u[p-3];_.left===h?_.left=l:_.right=l}break}}else if(m.right===l){var g=h.left;if(g&&g._color===t)m._color=n,h.left=a(n,g),h._color=t,--p;else{if(h._color=t,h.right=m.left,m._color=n,m.left=h,u[p-2]=m,u[p-1]=l,o(h),o(m),p>=3){var _=u[p-3];_.right===h?_.right=m:_.left=m}break}}else{var g=h.left;if(g&&g._color===t)m._color=n,h.left=a(n,g),h._color=t,--p;else{if(m.left=l.right,h._color=t,h.right=l.left,l._color=n,l.right=m,l.left=h,u[p-2]=l,u[p-1]=m,o(h),o(m),o(l),p>=3){var _=u[p-3];_.right===h?_.right=l:_.left=l}break}}}return u[0]._color=n,new s(c,u[0])};function l(e,t){if(t.left){var n=l(e,t.left);if(n)return n}var n=e(t.key,t.value);if(n)return n;if(t.right)return l(e,t.right)}function u(e,t,n,r){if(t(e,r.key)<=0){if(r.left){var i=u(e,t,n,r.left);if(i)return i}var i=n(r.key,r.value);if(i)return i}if(r.right)return u(e,t,n,r.right)}function d(e,t,n,r,i){var a=n(e,i.key),o=n(t,i.key),s;if(a<=0&&(i.left&&(s=d(e,t,n,r,i.left),s)||o>0&&(s=r(i.key,i.value),s)))return s;if(o>0&&i.right)return d(e,t,n,r,i.right)}c.forEach=function(e,t,n){if(this.root)switch(arguments.length){case 1:return l(e,this.root);case 2:return u(t,this._compare,e,this.root);case 3:return this._compare(t,n)>=0?void 0:d(t,n,this._compare,e,this.root)}},Object.defineProperty(c,`begin`,{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.left;return new f(this,e)}}),Object.defineProperty(c,`end`,{get:function(){for(var e=[],t=this.root;t;)e.push(t),t=t.right;return new f(this,e)}}),c.at=function(e){if(e<0)return new f(this,[]);for(var t=this.root,n=[];;){if(n.push(t),t.left){if(e<t.left._count){t=t.left;continue}e-=t.left._count}if(!e)return new f(this,n);if(--e,t.right){if(e>=t.right._count)break;t=t.right}else break}return new f(this,[])},c.ge=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var a=t(e,n.key);r.push(n),a<=0&&(i=r.length),n=a<=0?n.left:n.right}return r.length=i,new f(this,r)},c.gt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var a=t(e,n.key);r.push(n),a<0&&(i=r.length),n=a<0?n.left:n.right}return r.length=i,new f(this,r)},c.lt=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var a=t(e,n.key);r.push(n),a>0&&(i=r.length),n=a<=0?n.left:n.right}return r.length=i,new f(this,r)},c.le=function(e){for(var t=this._compare,n=this.root,r=[],i=0;n;){var a=t(e,n.key);r.push(n),a>=0&&(i=r.length),n=a<0?n.left:n.right}return r.length=i,new f(this,r)},c.find=function(e){for(var t=this._compare,n=this.root,r=[];n;){var i=t(e,n.key);if(r.push(n),i===0)return new f(this,r);n=i<=0?n.left:n.right}return new f(this,[])},c.remove=function(e){var t=this.find(e);return t?t.remove():this},c.get=function(e){for(var t=this._compare,n=this.root;n;){var r=t(e,n.key);if(r===0)return n.value;n=r<=0?n.left:n.right}};function f(e,t){this.tree=e,this._stack=t}var p=f.prototype;Object.defineProperty(p,`valid`,{get:function(){return this._stack.length>0}}),Object.defineProperty(p,`node`,{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),p.clone=function(){return new f(this.tree,this._stack.slice())};function m(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e._color=t._color,e._count=t._count}function h(e){for(var r,s,c,l,u=e.length-1;u>=0;--u){if(r=e[u],u===0){r._color=n;return}if(s=e[u-1],s.left===r){if(c=s.right,c.right&&c.right._color===t){if(c=s.right=i(c),l=c.right=i(c.right),s.right=c.left,c.left=s,c.right=l,c._color=s._color,r._color=n,s._color=n,l._color=n,o(s),o(c),u>1){var d=e[u-2];d.left===s?d.left=c:d.right=c}e[u-1]=c;return}else if(c.left&&c.left._color===t){if(c=s.right=i(c),l=c.left=i(c.left),s.right=l.left,c.left=l.right,l.left=s,l.right=c,l._color=s._color,s._color=n,c._color=n,r._color=n,o(s),o(c),o(l),u>1){var d=e[u-2];d.left===s?d.left=l:d.right=l}e[u-1]=l;return}if(c._color===n)if(s._color===t){s._color=n,s.right=a(t,c);return}else{s.right=a(t,c);continue}else{if(c=i(c),s.right=c.left,c.left=s,c._color=s._color,s._color=t,o(s),o(c),u>1){var d=e[u-2];d.left===s?d.left=c:d.right=c}e[u-1]=c,e[u]=s,u+1<e.length?e[u+1]=r:e.push(r),u+=2}}else{if(c=s.left,c.left&&c.left._color===t){if(c=s.left=i(c),l=c.left=i(c.left),s.left=c.right,c.right=s,c.left=l,c._color=s._color,r._color=n,s._color=n,l._color=n,o(s),o(c),u>1){var d=e[u-2];d.right===s?d.right=c:d.left=c}e[u-1]=c;return}else if(c.right&&c.right._color===t){if(c=s.left=i(c),l=c.right=i(c.right),s.left=l.right,c.right=l.left,l.right=s,l.left=c,l._color=s._color,s._color=n,c._color=n,r._color=n,o(s),o(c),o(l),u>1){var d=e[u-2];d.right===s?d.right=l:d.left=l}e[u-1]=l;return}if(c._color===n)if(s._color===t){s._color=n,s.left=a(t,c);return}else{s.left=a(t,c);continue}else{if(c=i(c),s.left=c.right,c.right=s,c._color=s._color,s._color=t,o(s),o(c),u>1){var d=e[u-2];d.right===s?d.right=c:d.left=c}e[u-1]=c,e[u]=s,u+1<e.length?e[u+1]=r:e.push(r),u+=2}}}}p.remove=function(){var e=this._stack;if(e.length===0)return this.tree;var i=Array(e.length),a=e[e.length-1];i[i.length-1]=new r(a._color,a.key,a.value,a.left,a.right,a._count);for(var o=e.length-2;o>=0;--o){var a=e[o];a.left===e[o+1]?i[o]=new r(a._color,a.key,a.value,i[o+1],a.right,a._count):i[o]=new r(a._color,a.key,a.value,a.left,i[o+1],a._count)}if(a=i[i.length-1],a.left&&a.right){var c=i.length;for(a=a.left;a.right;)i.push(a),a=a.right;var l=i[c-1];i.push(new r(a._color,l.key,l.value,a.left,a.right,a._count)),i[c-1].key=a.key,i[c-1].value=a.value;for(var o=i.length-2;o>=c;--o)a=i[o],i[o]=new r(a._color,a.key,a.value,a.left,i[o+1],a._count);i[c-1].left=i[c]}if(a=i[i.length-1],a._color===t){var u=i[i.length-2];u.left===a?u.left=null:u.right===a&&(u.right=null),i.pop();for(var o=0;o<i.length;++o)i[o]._count--;return new s(this.tree._compare,i[0])}else if(a.left||a.right){a.left?m(a,a.left):a.right&&m(a,a.right),a._color=n;for(var o=0;o<i.length-1;++o)i[o]._count--;return new s(this.tree._compare,i[0])}else if(i.length===1)return new s(this.tree._compare,null);else{for(var o=0;o<i.length;++o)i[o]._count--;var d=i[i.length-2];h(i),d.left===a?d.left=null:d.right=null}return new s(this.tree._compare,i[0])},Object.defineProperty(p,`key`,{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(p,`value`,{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(p,`index`,{get:function(){var e=0,t=this._stack;if(t.length===0){var n=this.tree.root;return n?n._count:0}else t[t.length-1].left&&(e=t[t.length-1].left._count);for(var r=t.length-2;r>=0;--r)t[r+1]===t[r].right&&(++e,t[r].left&&(e+=t[r].left._count));return e},enumerable:!0}),p.next=function(){var e=this._stack;if(e.length!==0){var t=e[e.length-1];if(t.right)for(t=t.right;t;)e.push(t),t=t.left;else for(e.pop();e.length>0&&e[e.length-1].right===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(p,`hasNext`,{get:function(){var e=this._stack;if(e.length===0)return!1;if(e[e.length-1].right)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].left===e[t])return!0;return!1}}),p.update=function(e){var t=this._stack;if(t.length===0)throw Error(`Can't update empty node!`);var n=Array(t.length),i=t[t.length-1];n[n.length-1]=new r(i._color,i.key,e,i.left,i.right,i._count);for(var a=t.length-2;a>=0;--a)i=t[a],i.left===t[a+1]?n[a]=new r(i._color,i.key,i.value,n[a+1],i.right,i._count):n[a]=new r(i._color,i.key,i.value,i.left,n[a+1],i._count);return new s(this.tree._compare,n[0])},p.prev=function(){var e=this._stack;if(e.length!==0){var t=e[e.length-1];if(t.left)for(t=t.left;t;)e.push(t),t=t.right;else for(e.pop();e.length>0&&e[e.length-1].left===t;)t=e[e.length-1],e.pop()}},Object.defineProperty(p,`hasPrev`,{get:function(){var e=this._stack;if(e.length===0)return!1;if(e[e.length-1].left)return!0;for(var t=e.length-1;t>0;--t)if(e[t-1].right===e[t])return!0;return!1}});function g(e,t){return e<t?-1:e>t?1:0}function _(e){return new s(e||g,null)}},7453:function(e,t,n){e.exports=x;var r=n(9557),i=n(1681),a=n(1011),o=n(2864),s=n(8468),c=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function l(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function u(e){this.gl=e,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=[`sans-serif`,`sans-serif`,`sans-serif`],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=[`auto`,`auto`,`auto`],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=[`x`,`y`,`z`],this.labelEnable=[!0,!0,!0],this.labelFont=`sans-serif`,this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=[`auto`,`auto`,`auto`],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=a(e)}var d=u.prototype;d.update=function(e){e||={};function t(t,n,r){if(r in e){var i=e[r],a=this[r],o;(t?Array.isArray(i)&&Array.isArray(i[0]):Array.isArray(i))?this[r]=o=[n(i[0]),n(i[1]),n(i[2])]:this[r]=o=[n(i),n(i),n(i)];for(var s=0;s<3;++s)if(o[s]!==a[s])return!0}return!1}var n=t.bind(this,!1,Number),a=t.bind(this,!1,Boolean),o=t.bind(this,!1,String),c=t.bind(this,!0,function(e){if(Array.isArray(e)){if(e.length===3)return[+e[0],+e[1],+e[2],1];if(e.length===4)return[+e[0],+e[1],+e[2],+e[3]]}return[0,0,0,1]}),l,u=!1,d=!1;if(`bounds`in e){var f=e.bounds;i_loop:for(var p=0;p<2;++p)for(var m=0;m<3;++m)f[p][m]!==this.bounds[p][m]&&(d=!0),this.bounds[p][m]=f[p][m]}if(`ticks`in e){l=e.ticks,u=!0,this.autoTicks=!1;for(var p=0;p<3;++p)this.tickSpacing[p]=0}else n(`tickSpacing`)&&(this.autoTicks=!0,d=!0);if(this._firstInit&&=(`ticks`in e||`tickSpacing`in e||(this.autoTicks=!0),d=!0,u=!0,!1),d&&this.autoTicks&&(l=s.create(this.bounds,this.tickSpacing),u=!0),u){for(var p=0;p<3;++p)l[p].sort(function(e,t){return e.x-t.x});s.equal(l,this.ticks)?u=!1:this.ticks=l}a(`tickEnable`),o(`tickFont`)&&(u=!0),n(`tickSize`),n(`tickAngle`),n(`tickPad`),c(`tickColor`);var h=o(`labels`);o(`labelFont`)&&(h=!0),a(`labelEnable`),n(`labelSize`),n(`labelPad`),c(`labelColor`),a(`lineEnable`),a(`lineMirror`),n(`lineWidth`),c(`lineColor`),a(`lineTickEnable`),a(`lineTickMirror`),n(`lineTickLength`),n(`lineTickWidth`),c(`lineTickColor`),a(`gridEnable`),n(`gridWidth`),c(`gridColor`),a(`zeroEnable`),c(`zeroLineColor`),n(`zeroLineWidth`),a(`backgroundEnable`),c(`backgroundColor`),this._text?this._text&&(h||u)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&u&&(this._lines.dispose(),this._lines=null),this._lines||=i(this.gl,this.bounds,this.ticks)};function f(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var p=[new f,new f,new f];function m(e,t,n,r,i){for(var a=e.primalOffset,o=e.primalMinor,s=e.mirrorOffset,c=e.mirrorMinor,l=r[t],u=0;u<3;++u)if(t!==u){var d=a,f=s,p=o,m=c;l&1<<u&&(d=s,f=a,p=c,m=o),d[u]=n[0][u],f[u]=n[1][u],i[u]>0?(p[u]=-1,m[u]=0):(p[u]=0,m[u]=1)}}var h=[0,0,0],g={model:c,view:c,projection:c,_ortho:!1};d.isOpaque=function(){return!0},d.isTransparent=function(){return!1},d.drawTransparent=function(e){};var _=0,v=[0,0,0],y=[0,0,0],b=[0,0,0];d.draw=function(e){e||=g;for(var t=this.gl,n=e.model||c,r=e.view||c,i=e.projection||c,a=this.bounds,s=e._ortho||!1,u=o(n,r,i,a,s),d=u.cubeEdges,f=u.axis,x=r[12],S=r[13],C=r[14],w=r[15],T=(s?2:1)*this.pixelRatio*(i[3]*x+i[7]*S+i[11]*C+i[15]*w)/t.drawingBufferHeight,E=0;E<3;++E)this.lastCubeProps.cubeEdges[E]=d[E],this.lastCubeProps.axis[E]=f[E];for(var D=p,E=0;E<3;++E)m(p[E],E,this.bounds,d,f);for(var t=this.gl,O=h,E=0;E<3;++E)this.backgroundEnable[E]?O[E]=f[E]:O[E]=0;this._background.draw(n,r,i,a,O,this.backgroundColor),this._lines.bind(n,r,i,this);for(var E=0;E<3;++E){var k=[0,0,0];f[E]>0?k[E]=a[1][E]:k[E]=a[0][E];for(var A=0;A<2;++A){var j=(E+1+A)%3,M=(E+1+(A^1))%3;this.gridEnable[j]&&this._lines.drawGrid(j,M,this.bounds,k,this.gridColor[j],this.gridWidth[j]*this.pixelRatio)}for(var A=0;A<2;++A){var j=(E+1+A)%3,M=(E+1+(A^1))%3;this.zeroEnable[M]&&Math.min(a[0][M],a[1][M])<=0&&Math.max(a[0][M],a[1][M])>=0&&this._lines.drawZero(j,M,this.bounds,k,this.zeroLineColor[M],this.zeroLineWidth[M]*this.pixelRatio)}}for(var E=0;E<3;++E){this.lineEnable[E]&&this._lines.drawAxisLine(E,this.bounds,D[E].primalOffset,this.lineColor[E],this.lineWidth[E]*this.pixelRatio),this.lineMirror[E]&&this._lines.drawAxisLine(E,this.bounds,D[E].mirrorOffset,this.lineColor[E],this.lineWidth[E]*this.pixelRatio);for(var N=l(v,D[E].primalMinor),P=l(y,D[E].mirrorMinor),F=this.lineTickLength,A=0;A<3;++A){var I=T/n[5*A];N[A]*=F[A]*I,P[A]*=F[A]*I}this.lineTickEnable[E]&&this._lines.drawAxisTicks(E,D[E].primalOffset,N,this.lineTickColor[E],this.lineTickWidth[E]*this.pixelRatio),this.lineTickMirror[E]&&this._lines.drawAxisTicks(E,D[E].mirrorOffset,P,this.lineTickColor[E],this.lineTickWidth[E]*this.pixelRatio)}this._lines.unbind(),this._text.bind(n,r,i,this.pixelRatio);var L,R=.5,z,B;function V(e){B=[0,0,0],B[e]=1}function H(e,t,n){var r=(e+1)%3,i=(e+2)%3,a=t[r],o=t[i],s=n[r],c=n[i];if(a>0&&c>0){V(r);return}else if(a>0&&c<0){V(r);return}else if(a<0&&c>0){V(r);return}else if(a<0&&c<0){V(r);return}else if(o>0&&s>0){V(i);return}else if(o>0&&s<0){V(i);return}else if(o<0&&s>0){V(i);return}else if(o<0&&s<0){V(i);return}}for(var E=0;E<3;++E){for(var U=D[E].primalMinor,W=D[E].mirrorMinor,G=l(b,D[E].primalOffset),A=0;A<3;++A)this.lineTickEnable[E]&&(G[A]+=T*U[A]*Math.max(this.lineTickLength[A],0)/n[5*A]);var K=[0,0,0];if(K[E]=1,this.tickEnable[E]){this.tickAngle[E]===-3600?(this.tickAngle[E]=0,this.tickAlign[E]=`auto`):this.tickAlign[E]=-1,z=1,L=[this.tickAlign[E],R,z],L[0]===`auto`?L[0]=_:L[0]=parseInt(``+L[0]),B=[0,0,0],H(E,U,W);for(var A=0;A<3;++A)G[A]+=T*U[A]*this.tickPad[A]/n[5*A];this._text.drawTicks(E,this.tickSize[E],this.tickAngle[E],G,this.tickColor[E],K,B,L)}if(this.labelEnable[E]){z=0,B=[0,0,0],this.labels[E].length>4&&(V(E),z=1),L=[this.labelAlign[E],R,z],L[0]===`auto`?L[0]=_:L[0]=parseInt(``+L[0]);for(var A=0;A<3;++A)G[A]+=T*U[A]*this.labelPad[A]/n[5*A];G[E]+=.5*(a[0][E]+a[1][E]),this._text.drawLabel(E,this.labelSize[E],this.labelAngle[E],G,this.labelColor[E],[0,0,0],B,L)}}this._text.unbind()},d.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function x(e,t){var n=new u(e);return n.update(t),n}},1011:function(e,t,n){e.exports=c;var r=n(5827),i=n(2944),a=n(1943).bg;function o(e,t,n,r){this.gl=e,this.buffer=t,this.vao=n,this.shader=r}var s=o.prototype;s.draw=function(e,t,n,r,i,a){for(var o=!1,s=0;s<3;++s)o||=i[s];if(o){var c=this.gl;c.enable(c.POLYGON_OFFSET_FILL),c.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:e,view:t,projection:n,bounds:r,enable:i,colors:a},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),c.disable(c.POLYGON_OFFSET_FILL)}},s.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function c(e){for(var t=[],n=[],s=0,c=0;c<3;++c)for(var l=(c+1)%3,u=(c+2)%3,d=[0,0,0],f=[0,0,0],p=-1;p<=1;p+=2){n.push(s,s+2,s+1,s+1,s+2,s+3),d[c]=p,f[c]=p;for(var m=-1;m<=1;m+=2){d[l]=m;for(var h=-1;h<=1;h+=2)d[u]=h,t.push(d[0],d[1],d[2],f[0],f[1],f[2]),s+=1}var g=l;l=u,u=g}var _=r(e,new Float32Array(t)),v=r(e,new Uint16Array(n),e.ELEMENT_ARRAY_BUFFER),y=i(e,[{buffer:_,type:e.FLOAT,size:3,offset:0,stride:24},{buffer:_,type:e.FLOAT,size:3,offset:12,stride:24}],v),b=a(e);return b.attributes.position.location=0,b.attributes.normal.location=1,new o(e,_,y,b)}},2864:function(e,t,n){e.exports=v;var r=n(2288),i=n(104),a=n(4670),o=n(417),s=Array(16),c=Array(8),l=Array(8),u=[,,,],d=[0,0,0];(function(){for(var e=0;e<8;++e)c[e]=[1,1,1,1],l[e]=[1,1,1]})();function f(e,t,n){for(var r=0;r<4;++r){e[r]=n[12+r];for(var i=0;i<3;++i)e[r]+=t[i]*n[4*i+r]}}var p=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function m(e){for(var t=0;t<p.length;++t)if(e=a.positive(e,p[t]),e.length<3)return 0;for(var n=e[0],r=n[0]/n[3],i=n[1]/n[3],o=0,t=1;t+1<e.length;++t){var s=e[t],c=e[t+1],l=s[0]/s[3],u=s[1]/s[3],d=c[0]/c[3],f=c[1]/c[3],m=l-r,h=u-i,g=d-r,_=f-i;o+=Math.abs(m*_-h*g)}return o}var h=[1,1,1],g=[0,0,0],_={cubeEdges:h,axis:g};function v(e,t,n,a,p){i(s,t,e),i(s,n,s);for(var v=0,y=0;y<2;++y){u[2]=a[y][2];for(var b=0;b<2;++b){u[1]=a[b][1];for(var x=0;x<2;++x)u[0]=a[x][0],f(c[v],u,s),v+=1}}for(var S=-1,y=0;y<8;++y){for(var C=c[y][3],w=0;w<3;++w)l[y][w]=c[y][w]/C;p&&(l[y][2]*=-1),C<0&&(S<0||l[y][2]<l[S][2])&&(S=y)}if(S<0){S=0;for(var T=0;T<3;++T){for(var E=(T+2)%3,D=(T+1)%3,O=-1,k=-1,A=0;A<2;++A){var j=A<<T,M=j+(A<<E)+(1-A<<D),N=j+(1-A<<E)+(A<<D);o(l[j],l[M],l[N],d)<0||(A?O=1:k=1)}if(O<0||k<0){k>O&&(S|=1<<T);continue}for(var A=0;A<2;++A){var j=A<<T,M=j+(A<<E)+(1-A<<D),N=j+(1-A<<E)+(A<<D),P=m([c[j],c[M],c[N],c[j+(1<<E)+(1<<D)]]);A?O=P:k=P}if(k>O){S|=1<<T;continue}}}for(var F=7^S,I=-1,y=0;y<8;++y)y===S||y===F||(I<0||l[I][1]>l[y][1])&&(I=y);for(var L=-1,y=0;y<3;++y){var R=I^1<<y;if(!(R===S||R===F)){L<0&&(L=R);var D=l[R];D[0]<l[L][0]&&(L=R)}}for(var z=-1,y=0;y<3;++y){var R=I^1<<y;if(!(R===S||R===F||R===L)){z<0&&(z=R);var D=l[R];D[0]>l[z][0]&&(z=R)}}var B=h;B[0]=B[1]=B[2]=0,B[r.log2(L^I)]=I&L,B[r.log2(I^z)]=I&z;var V=z^7;V===S||V===F?(V=L^7,B[r.log2(z^V)]=V&z):B[r.log2(L^V)]=V&L;for(var H=g,U=S,T=0;T<3;++T)U&1<<T?H[T]=-1:H[T]=1;return _}},1681:function(e,t,n){e.exports=h;var r=n(5827),i=n(2944),a=n(1943).j,o=[0,0,0],s=[0,0,0],c=[0,0,0],l=[0,0,0],u=[1,1];function d(e){return e[0]=e[1]=e[2]=0,e}function f(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function p(e,t,n,r,i,a,o,s){this.gl=e,this.vertBuffer=t,this.vao=n,this.shader=r,this.tickCount=i,this.tickOffset=a,this.gridCount=o,this.gridOffset=s}var m=p.prototype;m.bind=function(e,t,n){this.shader.bind(),this.shader.uniforms.model=e,this.shader.uniforms.view=t,this.shader.uniforms.projection=n,u[0]=this.gl.drawingBufferWidth,u[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=u,this.vao.bind()},m.unbind=function(){this.vao.unbind()},m.drawAxisLine=function(e,t,n,r,i){var a=d(s);this.shader.uniforms.majorAxis=s,a[e]=t[1][e]-t[0][e],this.shader.uniforms.minorAxis=a;var o=f(l,n);o[e]+=t[0][e],this.shader.uniforms.offset=o,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=r;var u=d(c);u[(e+2)%3]=1,this.shader.uniforms.screenAxis=u,this.vao.draw(this.gl.TRIANGLES,6);var u=d(c);u[(e+1)%3]=1,this.shader.uniforms.screenAxis=u,this.vao.draw(this.gl.TRIANGLES,6)},m.drawAxisTicks=function(e,t,n,r,i){if(this.tickCount[e]){var a=d(o);a[e]=1,this.shader.uniforms.majorAxis=a,this.shader.uniforms.offset=t,this.shader.uniforms.minorAxis=n,this.shader.uniforms.color=r,this.shader.uniforms.lineWidth=i;var s=d(c);s[e]=1,this.shader.uniforms.screenAxis=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[e],this.tickOffset[e])}},m.drawGrid=function(e,t,n,r,i,a){if(this.gridCount[e]){var u=d(s);u[t]=n[1][t]-n[0][t],this.shader.uniforms.minorAxis=u;var p=f(l,r);p[t]+=n[0][t],this.shader.uniforms.offset=p;var m=d(o);m[e]=1,this.shader.uniforms.majorAxis=m;var h=d(c);h[e]=1,this.shader.uniforms.screenAxis=h,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,this.gridCount[e],this.gridOffset[e])}},m.drawZero=function(e,t,n,r,i,a){var o=d(s);this.shader.uniforms.majorAxis=o,o[e]=n[1][e]-n[0][e],this.shader.uniforms.minorAxis=o;var u=f(l,r);u[e]+=n[0][e],this.shader.uniforms.offset=u;var p=d(c);p[t]=1,this.shader.uniforms.screenAxis=p,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,6)},m.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function h(e,t,n){var o=[],s=[0,0,0],c=[0,0,0],l=[0,0,0],u=[0,0,0];o.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var d=0;d<3;++d){for(var f=o.length/3|0,m=0;m<n[d].length;++m){var h=+n[d][m].x;o.push(h,0,1,h,1,1,h,0,-1,h,0,-1,h,1,1,h,1,-1)}var g=o.length/3|0;s[d]=f,c[d]=g-f;for(var f=o.length/3|0,_=0;_<n[d].length;++_){var h=+n[d][_].x;o.push(h,0,1,h,1,1,h,0,-1,h,0,-1,h,1,1,h,1,-1)}var g=o.length/3|0;l[d]=f,u[d]=g-f}var v=r(e,new Float32Array(o)),y=i(e,[{buffer:v,type:e.FLOAT,size:3,stride:0,offset:0}]),b=a(e);return b.attributes.position.location=0,new p(e,v,y,b,c,s,u,l)}},1943:function(e,t,n){var r=n(6832),i=n(5158),a=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),o=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);t.j=function(e){return i(e,a,o,null,[{name:`position`,type:`vec3`}])};var s=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),c=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);t.f=function(e){return i(e,s,c,null,[{name:`position`,type:`vec3`}])};var l=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),u=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);t.bg=function(e){return i(e,l,u,null,[{name:`position`,type:`vec3`},{name:`normal`,type:`vec3`}])}},9557:function(e,t,n){e.exports=h;var i=n(5827),a=n(2944),o=n(875),s=n(1943).f,c=window||r.global||{},l=c.__TEXT_CACHE||{};c.__TEXT_CACHE={};var u=3;function d(e,t,n,r){this.gl=e,this.shader=t,this.buffer=n,this.vao=r,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var f=d.prototype,p=[0,0];f.bind=function(e,t,n,r){this.vao.bind(),this.shader.bind();var i=this.shader.uniforms;i.model=e,i.view=t,i.projection=n,i.pixelScale=r,p[0]=this.gl.drawingBufferWidth,p[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=p},f.unbind=function(){this.vao.unbind()},f.update=function(e,t,n,r,i){var a=[];function o(e,t,n,r,i,o){var s=l[n];s||=l[n]={};var c=s[t];c||=s[t]=m(t,{triangles:!0,font:n,textAlign:`center`,textBaseline:`middle`,lineSpacing:i,styletags:o});for(var u=(r||12)/12,d=c.positions,f=c.cells,p=0,h=f.length;p<h;++p)for(var g=f[p],_=2;_>=0;--_){var v=d[g[_]];a.push(u*v[0],-u*v[1],e)}}for(var s=[0,0,0],c=[0,0,0],d=[0,0,0],f=[0,0,0],p=1.25,h={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},g=0;g<3;++g){d[g]=a.length/u|0,o(.5*(e[0][g]+e[1][g]),t[g],n[g],12,p,h),f[g]=(a.length/u|0)-d[g],s[g]=a.length/u|0;for(var _=0;_<r[g].length;++_)r[g][_].text&&o(r[g][_].x,r[g][_].text,r[g][_].font||i,r[g][_].fontSize||12,p,h);c[g]=(a.length/u|0)-s[g]}this.buffer.update(a),this.tickOffset=s,this.tickCount=c,this.labelOffset=d,this.labelCount=f},f.drawTicks=function(e,t,n,r,i,a,o,s){this.tickCount[e]&&(this.shader.uniforms.axis=a,this.shader.uniforms.color=i,this.shader.uniforms.angle=n,this.shader.uniforms.scale=t,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[e],this.tickOffset[e]))},f.drawLabel=function(e,t,n,r,i,a,o,s){this.labelCount[e]&&(this.shader.uniforms.axis=a,this.shader.uniforms.color=i,this.shader.uniforms.angle=n,this.shader.uniforms.scale=t,this.shader.uniforms.offset=r,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.labelCount[e],this.labelOffset[e]))},f.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function m(e,t){try{return o(e,t)}catch(t){return console.warn(`error vectorizing text:"`+e+`" error:`,t),{cells:[],positions:[]}}}function h(e,t,n,r,o,c){var l=i(e),u=a(e,[{buffer:l,size:3}]),f=s(e);f.attributes.position.location=0;var p=new d(e,f,l,u);return p.update(t,n,r,o,c),p}},8468:function(e,t){t.create=r,t.equal=i;function n(e,t){var n=e+``,r=n.indexOf(`.`),i=0;r>=0&&(i=n.length-r-1);var a=10**i,o=Math.round(e*t*a),s=o+``;if(s.indexOf(`e`)>=0)return s;var c=o/a,l=o%a;o<0?(c=-Math.ceil(c)|0,l=-l|0):(c=Math.floor(c)|0,l|=0);var u=``+c;if(o<0&&(u=`-`+u),i){for(var d=``+l;d.length<i;)d=`0`+d;return u+`.`+d}else return u}function r(e,t){for(var r=[],i=0;i<3;++i){var a=[];.5*(e[0][i]+e[1][i]);for(var o=0;o*t[i]<=e[1][i];++o)a.push({x:o*t[i],text:n(t[i],o)});for(var o=-1;o*t[i]>=e[0][i];--o)a.push({x:o*t[i],text:n(t[i],o)});r.push(a)}return r}function i(e,t){for(var n=0;n<3;++n){if(e[n].length!==t[n].length)return!1;for(var r=0;r<e[n].length;++r){var i=e[n][r],a=t[n][r];if(i.x!==a.x||i.text!==a.text||i.font!==a.font||i.fontColor!==a.fontColor||i.fontSize!==a.fontSize||i.dx!==a.dx||i.dy!==a.dy)return!1}}return!0}},2771:function(e,t,n){e.exports=_;var r=n(5795),i=n(4670),a=n(2864),o=n(104),s=n(2142),c=n(6342),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),u=new Float32Array(16);function d(e,t,n){this.lo=e,this.hi=t,this.pixelsPerDataUnit=n}var f=[0,0,0,1],p=[0,0,0,1];function m(e,t,n,r,i){for(var a=0;a<3;++a){for(var o=f,s=p,l=0;l<3;++l)s[l]=o[l]=n[l];s[3]=o[3]=1,s[a]+=1,c(s,s,t),s[3]<0&&(e[a]=1/0),--o[a],c(o,o,t),o[3]<0&&(e[a]=1/0);var u=(o[0]/o[3]-s[0]/s[3])*r,d=(o[1]/o[3]-s[1]/s[3])*i;e[a]=.25*Math.sqrt(u*u+d*d)}return e}var h=[new d(1/0,-1/0,1/0),new d(1/0,-1/0,1/0),new d(1/0,-1/0,1/0)],g=[0,0,0];function _(e,t,n,c,d){var f=t.model||l,p=t.view||l,_=t.projection||l,v=t._ortho||!1,y=e.bounds,d=d||a(f,p,_,y,v),b=d.axis;o(u,p,f),o(u,_,u);for(var x=h,S=0;S<3;++S)x[S].lo=1/0,x[S].hi=-1/0,x[S].pixelsPerDataUnit=1/0;var C=r(s(u,u));s(u,u);for(var w=0;w<3;++w){var T=(w+1)%3,E=(w+2)%3,D=g;i_loop:for(var S=0;S<2;++S){var O=[];if(b[w]<0!=!!S){D[w]=y[S][w];for(var k=0;k<2;++k){D[T]=y[k^S][T];for(var A=0;A<2;++A)D[E]=y[A^k^S][E],O.push(D.slice())}for(var j=v?5:4,k=j;k===j;++k){if(O.length===0)continue i_loop;O=i.positive(O,C[k])}for(var k=0;k<O.length;++k)for(var E=O[k],M=m(g,u,E,n,c),A=0;A<3;++A)x[A].lo=Math.min(x[A].lo,E[A]),x[A].hi=Math.max(x[A].hi,E[A]),A!==w&&(x[A].pixelsPerDataUnit=Math.min(x[A].pixelsPerDataUnit,Math.abs(M[A])))}}}return x}},5827:function(e,t,n){var r=n(5306),i=n(7498),a=n(5050),o=[`uint8`,`uint8_clamped`,`uint16`,`uint32`,`int8`,`int16`,`int32`,`float32`];function s(e,t,n,r,i){this.gl=e,this.type=t,this.handle=n,this.length=r,this.usage=i}var c=s.prototype;c.bind=function(){this.gl.bindBuffer(this.type,this.handle)},c.unbind=function(){this.gl.bindBuffer(this.type,null)},c.dispose=function(){this.gl.deleteBuffer(this.handle)};function l(e,t,n,r,i,a){var o=i.length*i.BYTES_PER_ELEMENT;if(a<0)return e.bufferData(t,i,r),o;if(o+a>n)throw Error(`gl-buffer: If resizing buffer, must not specify offset`);return e.bufferSubData(t,a,i),n}function u(e,t){for(var n=r.malloc(e.length,t),i=e.length,a=0;a<i;++a)n[a]=e[a];return n}function d(e,t){for(var n=1,r=t.length-1;r>=0;--r){if(t[r]!==n)return!1;n*=e[r]}return!0}c.update=function(e,t){if(typeof t!=`number`&&(t=-1),this.bind(),typeof e==`object`&&e.shape!==void 0){var n=e.dtype;if(o.indexOf(n)<0&&(n=`float32`),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(n=gl.getExtension(`OES_element_index_uint`)&&n!==`uint16`?`uint32`:`uint16`),n===e.dtype&&d(e.shape,e.stride))e.offset===0&&e.data.length===e.shape[0]?this.length=l(this.gl,this.type,this.length,this.usage,e.data,t):this.length=l(this.gl,this.type,this.length,this.usage,e.data.subarray(e.offset,e.shape[0]),t);else{var s=r.malloc(e.size,n),c=a(s,e.shape);i.assign(c,e),t<0?this.length=l(this.gl,this.type,this.length,this.usage,s,t):this.length=l(this.gl,this.type,this.length,this.usage,s.subarray(0,e.size),t),r.free(s)}}else if(Array.isArray(e)){var f=this.type===this.gl.ELEMENT_ARRAY_BUFFER?u(e,`uint16`):u(e,`float32`);t<0?this.length=l(this.gl,this.type,this.length,this.usage,f,t):this.length=l(this.gl,this.type,this.length,this.usage,f.subarray(0,e.length),t),r.free(f)}else if(typeof e==`object`&&typeof e.length==`number`)this.length=l(this.gl,this.type,this.length,this.usage,e,t);else if(typeof e==`number`||e===void 0){if(t>=0)throw Error(`gl-buffer: Cannot specify offset when resizing buffer`);e|=0,e<=0&&(e=1),this.gl.bufferData(this.type,e|0,this.usage),this.length=e}else throw Error(`gl-buffer: Invalid data type`)};function f(e,t,n,r){if(n||=e.ARRAY_BUFFER,r||=e.DYNAMIC_DRAW,n!==e.ARRAY_BUFFER&&n!==e.ELEMENT_ARRAY_BUFFER)throw Error(`gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER`);if(r!==e.DYNAMIC_DRAW&&r!==e.STATIC_DRAW&&r!==e.STREAM_DRAW)throw Error(`gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW`);var i=e.createBuffer(),a=new s(e,n,i,0,r);return a.update(t),a}e.exports=f},1140:function(e,t,n){var r=n(2858);e.exports=function(e,t){var n=e.positions,i=e.vectors,a={positions:[],vertexIntensity:[],vertexIntensityBounds:e.vertexIntensityBounds,vectors:[],cells:[],coneOffset:e.coneOffset,colormap:e.colormap};if(e.positions.length===0)return t&&(t[0]=[0,0,0],t[1]=[0,0,0]),a;for(var o=0,s=1/0,c=-1/0,l=1/0,u=-1/0,d=1/0,f=-1/0,p=null,m=null,h=[],g=1/0,_=!1,v=0;v<n.length;v++){var y=n[v];s=Math.min(y[0],s),c=Math.max(y[0],c),l=Math.min(y[1],l),u=Math.max(y[1],u),d=Math.min(y[2],d),f=Math.max(y[2],f);var b=i[v];if(r.length(b)>o&&(o=r.length(b)),v){var x=2*r.distance(p,y)/(r.length(m)+r.length(b));x?(g=Math.min(g,x),_=!1):_=!0}_||(p=y,m=b),h.push(b)}var S=[s,l,d],C=[c,u,f];t&&(t[0]=S,t[1]=C),o===0&&(o=1);var w=1/o;isFinite(g)||(g=1),a.vectorScale=g;var T=e.coneSize||.5;e.absoluteConeSize&&(T=e.absoluteConeSize*w),a.coneScale=T;for(var v=0,E=0;v<n.length;v++)for(var y=n[v],D=y[0],O=y[1],k=y[2],A=h[v],j=r.length(A)*w,M=0,N=8;M<N;M++){a.positions.push([D,O,k,E++]),a.positions.push([D,O,k,E++]),a.positions.push([D,O,k,E++]),a.positions.push([D,O,k,E++]),a.positions.push([D,O,k,E++]),a.positions.push([D,O,k,E++]),a.vectors.push(A),a.vectors.push(A),a.vectors.push(A),a.vectors.push(A),a.vectors.push(A),a.vectors.push(A),a.vertexIntensity.push(j,j,j),a.vertexIntensity.push(j,j,j);var P=a.positions.length;a.cells.push([P-6,P-5,P-4],[P-3,P-2,P-1])}return a};var i=n(7234);e.exports.createMesh=n(5028),e.exports.createConeMesh=function(t,n){return e.exports.createMesh(t,n,{shaders:i,traceType:`cone`})}},5028:function(e,t,n){var r=n(5158),i=n(5827),a=n(2944),o=n(8931),s=n(104),c=n(7437),l=n(5050),u=n(9156),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function f(e,t,n,r,i,a,o,s,c,l,u){this.gl=e,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=t,this.dirty=!0,this.triShader=n,this.pickShader=r,this.trianglePositions=i,this.triangleVectors=a,this.triangleColors=s,this.triangleUVs=c,this.triangleIds=o,this.triangleVAO=l,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=u,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=d,this._view=d,this._projection=d,this._resolution=[1,1]}var p=f.prototype;p.isOpaque=function(){return this.opacity>=1},p.isTransparent=function(){return this.opacity<1},p.pickSlots=1,p.setPickBase=function(e){this.pickId=e};function m(e){for(var t=u({colormap:e,nshades:256,format:`rgba`}),n=new Uint8Array(256*4),r=0;r<256;++r){for(var i=t[r],a=0;a<3;++a)n[4*r+a]=i[a];n[4*r+3]=i[3]*255}return l(n,[256,256,4],[4,0,1])}function h(e){for(var t=e.length,n=Array(t),r=0;r<t;++r)n[r]=e[r][2];return n}p.update=function(e){e||={};var t=this.gl;this.dirty=!0,`lightPosition`in e&&(this.lightPosition=e.lightPosition),`opacity`in e&&(this.opacity=e.opacity),`ambient`in e&&(this.ambientLight=e.ambient),`diffuse`in e&&(this.diffuseLight=e.diffuse),`specular`in e&&(this.specularLight=e.specular),`roughness`in e&&(this.roughness=e.roughness),`fresnel`in e&&(this.fresnel=e.fresnel),e.tubeScale!==void 0&&(this.tubeScale=e.tubeScale),e.vectorScale!==void 0&&(this.vectorScale=e.vectorScale),e.coneScale!==void 0&&(this.coneScale=e.coneScale),e.coneOffset!==void 0&&(this.coneOffset=e.coneOffset),e.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=t.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=t.LINEAR,this.texture.setPixels(m(e.colormap)),this.texture.generateMipmap());var n=e.cells,r=e.positions,i=e.vectors;if(!(!r||!n||!i)){var a=[],o=[],s=[],c=[],l=[];this.cells=n,this.positions=r,this.vectors=i;var u=e.meshColor||[1,1,1,1],d=e.vertexIntensity,f=1/0,p=-1/0;if(d)if(e.vertexIntensityBounds)f=+e.vertexIntensityBounds[0],p=+e.vertexIntensityBounds[1];else for(var g=0;g<d.length;++g){var _=d[g];f=Math.min(f,_),p=Math.max(p,_)}else for(var g=0;g<r.length;++g){var _=r[g][2];f=Math.min(f,_),p=Math.max(p,_)}d?this.intensity=d:this.intensity=h(r),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var g=0;g<r.length;++g)for(var v=r[g],y=0;y<3;++y)isNaN(v[y])||!isFinite(v[y])||(this.bounds[0][y]=Math.min(this.bounds[0][y],v[y]),this.bounds[1][y]=Math.max(this.bounds[1][y],v[y]));var b=0;fill_loop:for(var g=0;g<n.length;++g){var x=n[g];switch(x.length){case 3:for(var y=0;y<3;++y)for(var S=x[y],v=r[S],C=0;C<3;++C)if(isNaN(v[C])||!isFinite(v[C]))continue fill_loop;for(var y=0;y<3;++y){var S=x[2-y],v=r[S];a.push(v[0],v[1],v[2],v[3]);var w=i[S];o.push(w[0],w[1],w[2],w[3]||0);var T=u;T.length===3?s.push(T[0],T[1],T[2],1):s.push(T[0],T[1],T[2],T[3]);var E=d?[(d[S]-f)/(p-f),0]:[(v[2]-f)/(p-f),0];c.push(E[0],E[1]),l.push(g)}b+=1;break;default:break}}this.triangleCount=b,this.trianglePositions.update(a),this.triangleVectors.update(o),this.triangleColors.update(s),this.triangleUVs.update(c),this.triangleIds.update(new Uint32Array(l))}},p.drawTransparent=p.draw=function(e){e||={};for(var t=this.gl,n=e.model||d,r=e.view||d,i=e.projection||d,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);var l={model:n,view:r,projection:i,inverseModel:d.slice(),clipBounds:a,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};l.inverseModel=c(l.inverseModel,l.model),t.disable(t.CULL_FACE),this.texture.bind(0);var u=Array(16);s(u,l.view,l.model),s(u,l.projection,u),c(u,u);for(var o=0;o<3;++o)l.eyePosition[o]=u[12+o]/u[15];for(var f=u[15],o=0;o<3;++o)f+=this.lightPosition[o]*u[4*o+3];for(var o=0;o<3;++o){for(var p=u[12+o],m=0;m<3;++m)p+=u[4*m+o]*this.lightPosition[m];l.lightPosition[o]=p/f}if(this.triangleCount>0){var h=this.triShader;h.bind(),h.uniforms=l,this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},p.drawPick=function(e){e||={};for(var t=this.gl,n=e.model||d,r=e.view||d,i=e.projection||d,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);this._model=[].slice.call(n),this._view=[].slice.call(r),this._projection=[].slice.call(i),this._resolution=[t.drawingBufferWidth,t.drawingBufferHeight];var s={model:n,view:r,projection:i,clipBounds:a,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},c=this.pickShader;c.bind(),c.uniforms=s,this.triangleCount>0&&(this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},p.pick=function(e){if(!e||e.id!==this.pickId)return null;var t=e.value[0]+256*e.value[1]+65536*e.value[2],n=this.cells[t],r=this.positions[n[1]].slice(0,3),i={position:r,dataCoordinate:r,index:Math.floor(n[1]/48)};return this.traceType===`cone`?i.index=Math.floor(n[1]/48):this.traceType===`streamtube`&&(i.intensity=this.intensity[n[1]],i.velocity=this.vectors[n[1]].slice(0,3),i.divergence=this.vectors[n[1]][3],i.index=t),i},p.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function g(e,t){var n=r(e,t.meshShader.vertex,t.meshShader.fragment,null,t.meshShader.attributes);return n.attributes.position.location=0,n.attributes.color.location=2,n.attributes.uv.location=3,n.attributes.vector.location=4,n}function _(e,t){var n=r(e,t.pickShader.vertex,t.pickShader.fragment,null,t.pickShader.attributes);return n.attributes.position.location=0,n.attributes.id.location=1,n.attributes.vector.location=4,n}function v(e,t,n){var r=n.shaders;arguments.length===1&&(t=e,e=t.gl);var s=g(e,r),c=_(e,r),u=o(e,l(new Uint8Array([255,255,255,255]),[1,1,4]));u.generateMipmap(),u.minFilter=e.LINEAR_MIPMAP_LINEAR,u.magFilter=e.LINEAR;var d=i(e),p=i(e),m=i(e),h=i(e),v=i(e),y=a(e,[{buffer:d,type:e.FLOAT,size:4},{buffer:v,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:m,type:e.FLOAT,size:4},{buffer:h,type:e.FLOAT,size:2},{buffer:p,type:e.FLOAT,size:4}]),b=new f(e,u,s,c,d,p,v,m,h,y,n.traceType||`cone`);return b.update(t),b}e.exports=v},7234:function(e,t,n){var r=n(6832),i=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),a=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),o=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);t.meshShader={vertex:i,fragment:a,attributes:[{name:`position`,type:`vec4`},{name:`color`,type:`vec4`},{name:`uv`,type:`vec2`},{name:`vector`,type:`vec3`}]},t.pickShader={vertex:o,fragment:s,attributes:[{name:`position`,type:`vec4`},{name:`id`,type:`vec4`},{name:`vector`,type:`vec3`}]}},1950:function(e){e.exports={0:`NONE`,1:`ONE`,2:`LINE_LOOP`,3:`LINE_STRIP`,4:`TRIANGLES`,5:`TRIANGLE_STRIP`,6:`TRIANGLE_FAN`,256:`DEPTH_BUFFER_BIT`,512:`NEVER`,513:`LESS`,514:`EQUAL`,515:`LEQUAL`,516:`GREATER`,517:`NOTEQUAL`,518:`GEQUAL`,519:`ALWAYS`,768:`SRC_COLOR`,769:`ONE_MINUS_SRC_COLOR`,770:`SRC_ALPHA`,771:`ONE_MINUS_SRC_ALPHA`,772:`DST_ALPHA`,773:`ONE_MINUS_DST_ALPHA`,774:`DST_COLOR`,775:`ONE_MINUS_DST_COLOR`,776:`SRC_ALPHA_SATURATE`,1024:`STENCIL_BUFFER_BIT`,1028:`FRONT`,1029:`BACK`,1032:`FRONT_AND_BACK`,1280:`INVALID_ENUM`,1281:`INVALID_VALUE`,1282:`INVALID_OPERATION`,1285:`OUT_OF_MEMORY`,1286:`INVALID_FRAMEBUFFER_OPERATION`,2304:`CW`,2305:`CCW`,2849:`LINE_WIDTH`,2884:`CULL_FACE`,2885:`CULL_FACE_MODE`,2886:`FRONT_FACE`,2928:`DEPTH_RANGE`,2929:`DEPTH_TEST`,2930:`DEPTH_WRITEMASK`,2931:`DEPTH_CLEAR_VALUE`,2932:`DEPTH_FUNC`,2960:`STENCIL_TEST`,2961:`STENCIL_CLEAR_VALUE`,2962:`STENCIL_FUNC`,2963:`STENCIL_VALUE_MASK`,2964:`STENCIL_FAIL`,2965:`STENCIL_PASS_DEPTH_FAIL`,2966:`STENCIL_PASS_DEPTH_PASS`,2967:`STENCIL_REF`,2968:`STENCIL_WRITEMASK`,2978:`VIEWPORT`,3024:`DITHER`,3042:`BLEND`,3088:`SCISSOR_BOX`,3089:`SCISSOR_TEST`,3106:`COLOR_CLEAR_VALUE`,3107:`COLOR_WRITEMASK`,3317:`UNPACK_ALIGNMENT`,3333:`PACK_ALIGNMENT`,3379:`MAX_TEXTURE_SIZE`,3386:`MAX_VIEWPORT_DIMS`,3408:`SUBPIXEL_BITS`,3410:`RED_BITS`,3411:`GREEN_BITS`,3412:`BLUE_BITS`,3413:`ALPHA_BITS`,3414:`DEPTH_BITS`,3415:`STENCIL_BITS`,3553:`TEXTURE_2D`,4352:`DONT_CARE`,4353:`FASTEST`,4354:`NICEST`,5120:`BYTE`,5121:`UNSIGNED_BYTE`,5122:`SHORT`,5123:`UNSIGNED_SHORT`,5124:`INT`,5125:`UNSIGNED_INT`,5126:`FLOAT`,5386:`INVERT`,5890:`TEXTURE`,6401:`STENCIL_INDEX`,6402:`DEPTH_COMPONENT`,6406:`ALPHA`,6407:`RGB`,6408:`RGBA`,6409:`LUMINANCE`,6410:`LUMINANCE_ALPHA`,7680:`KEEP`,7681:`REPLACE`,7682:`INCR`,7683:`DECR`,7936:`VENDOR`,7937:`RENDERER`,7938:`VERSION`,9728:`NEAREST`,9729:`LINEAR`,9984:`NEAREST_MIPMAP_NEAREST`,9985:`LINEAR_MIPMAP_NEAREST`,9986:`NEAREST_MIPMAP_LINEAR`,9987:`LINEAR_MIPMAP_LINEAR`,10240:`TEXTURE_MAG_FILTER`,10241:`TEXTURE_MIN_FILTER`,10242:`TEXTURE_WRAP_S`,10243:`TEXTURE_WRAP_T`,10497:`REPEAT`,10752:`POLYGON_OFFSET_UNITS`,16384:`COLOR_BUFFER_BIT`,32769:`CONSTANT_COLOR`,32770:`ONE_MINUS_CONSTANT_COLOR`,32771:`CONSTANT_ALPHA`,32772:`ONE_MINUS_CONSTANT_ALPHA`,32773:`BLEND_COLOR`,32774:`FUNC_ADD`,32777:`BLEND_EQUATION_RGB`,32778:`FUNC_SUBTRACT`,32779:`FUNC_REVERSE_SUBTRACT`,32819:`UNSIGNED_SHORT_4_4_4_4`,32820:`UNSIGNED_SHORT_5_5_5_1`,32823:`POLYGON_OFFSET_FILL`,32824:`POLYGON_OFFSET_FACTOR`,32854:`RGBA4`,32855:`RGB5_A1`,32873:`TEXTURE_BINDING_2D`,32926:`SAMPLE_ALPHA_TO_COVERAGE`,32928:`SAMPLE_COVERAGE`,32936:`SAMPLE_BUFFERS`,32937:`SAMPLES`,32938:`SAMPLE_COVERAGE_VALUE`,32939:`SAMPLE_COVERAGE_INVERT`,32968:`BLEND_DST_RGB`,32969:`BLEND_SRC_RGB`,32970:`BLEND_DST_ALPHA`,32971:`BLEND_SRC_ALPHA`,33071:`CLAMP_TO_EDGE`,33170:`GENERATE_MIPMAP_HINT`,33189:`DEPTH_COMPONENT16`,33306:`DEPTH_STENCIL_ATTACHMENT`,33635:`UNSIGNED_SHORT_5_6_5`,33648:`MIRRORED_REPEAT`,33901:`ALIASED_POINT_SIZE_RANGE`,33902:`ALIASED_LINE_WIDTH_RANGE`,33984:`TEXTURE0`,33985:`TEXTURE1`,33986:`TEXTURE2`,33987:`TEXTURE3`,33988:`TEXTURE4`,33989:`TEXTURE5`,33990:`TEXTURE6`,33991:`TEXTURE7`,33992:`TEXTURE8`,33993:`TEXTURE9`,33994:`TEXTURE10`,33995:`TEXTURE11`,33996:`TEXTURE12`,33997:`TEXTURE13`,33998:`TEXTURE14`,33999:`TEXTURE15`,34e3:`TEXTURE16`,34001:`TEXTURE17`,34002:`TEXTURE18`,34003:`TEXTURE19`,34004:`TEXTURE20`,34005:`TEXTURE21`,34006:`TEXTURE22`,34007:`TEXTURE23`,34008:`TEXTURE24`,34009:`TEXTURE25`,34010:`TEXTURE26`,34011:`TEXTURE27`,34012:`TEXTURE28`,34013:`TEXTURE29`,34014:`TEXTURE30`,34015:`TEXTURE31`,34016:`ACTIVE_TEXTURE`,34024:`MAX_RENDERBUFFER_SIZE`,34041:`DEPTH_STENCIL`,34055:`INCR_WRAP`,34056:`DECR_WRAP`,34067:`TEXTURE_CUBE_MAP`,34068:`TEXTURE_BINDING_CUBE_MAP`,34069:`TEXTURE_CUBE_MAP_POSITIVE_X`,34070:`TEXTURE_CUBE_MAP_NEGATIVE_X`,34071:`TEXTURE_CUBE_MAP_POSITIVE_Y`,34072:`TEXTURE_CUBE_MAP_NEGATIVE_Y`,34073:`TEXTURE_CUBE_MAP_POSITIVE_Z`,34074:`TEXTURE_CUBE_MAP_NEGATIVE_Z`,34076:`MAX_CUBE_MAP_TEXTURE_SIZE`,34338:`VERTEX_ATTRIB_ARRAY_ENABLED`,34339:`VERTEX_ATTRIB_ARRAY_SIZE`,34340:`VERTEX_ATTRIB_ARRAY_STRIDE`,34341:`VERTEX_ATTRIB_ARRAY_TYPE`,34342:`CURRENT_VERTEX_ATTRIB`,34373:`VERTEX_ATTRIB_ARRAY_POINTER`,34466:`NUM_COMPRESSED_TEXTURE_FORMATS`,34467:`COMPRESSED_TEXTURE_FORMATS`,34660:`BUFFER_SIZE`,34661:`BUFFER_USAGE`,34816:`STENCIL_BACK_FUNC`,34817:`STENCIL_BACK_FAIL`,34818:`STENCIL_BACK_PASS_DEPTH_FAIL`,34819:`STENCIL_BACK_PASS_DEPTH_PASS`,34877:`BLEND_EQUATION_ALPHA`,34921:`MAX_VERTEX_ATTRIBS`,34922:`VERTEX_ATTRIB_ARRAY_NORMALIZED`,34930:`MAX_TEXTURE_IMAGE_UNITS`,34962:`ARRAY_BUFFER`,34963:`ELEMENT_ARRAY_BUFFER`,34964:`ARRAY_BUFFER_BINDING`,34965:`ELEMENT_ARRAY_BUFFER_BINDING`,34975:`VERTEX_ATTRIB_ARRAY_BUFFER_BINDING`,35040:`STREAM_DRAW`,35044:`STATIC_DRAW`,35048:`DYNAMIC_DRAW`,35632:`FRAGMENT_SHADER`,35633:`VERTEX_SHADER`,35660:`MAX_VERTEX_TEXTURE_IMAGE_UNITS`,35661:`MAX_COMBINED_TEXTURE_IMAGE_UNITS`,35663:`SHADER_TYPE`,35664:`FLOAT_VEC2`,35665:`FLOAT_VEC3`,35666:`FLOAT_VEC4`,35667:`INT_VEC2`,35668:`INT_VEC3`,35669:`INT_VEC4`,35670:`BOOL`,35671:`BOOL_VEC2`,35672:`BOOL_VEC3`,35673:`BOOL_VEC4`,35674:`FLOAT_MAT2`,35675:`FLOAT_MAT3`,35676:`FLOAT_MAT4`,35678:`SAMPLER_2D`,35680:`SAMPLER_CUBE`,35712:`DELETE_STATUS`,35713:`COMPILE_STATUS`,35714:`LINK_STATUS`,35715:`VALIDATE_STATUS`,35716:`INFO_LOG_LENGTH`,35717:`ATTACHED_SHADERS`,35718:`ACTIVE_UNIFORMS`,35719:`ACTIVE_UNIFORM_MAX_LENGTH`,35720:`SHADER_SOURCE_LENGTH`,35721:`ACTIVE_ATTRIBUTES`,35722:`ACTIVE_ATTRIBUTE_MAX_LENGTH`,35724:`SHADING_LANGUAGE_VERSION`,35725:`CURRENT_PROGRAM`,36003:`STENCIL_BACK_REF`,36004:`STENCIL_BACK_VALUE_MASK`,36005:`STENCIL_BACK_WRITEMASK`,36006:`FRAMEBUFFER_BINDING`,36007:`RENDERBUFFER_BINDING`,36048:`FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE`,36049:`FRAMEBUFFER_ATTACHMENT_OBJECT_NAME`,36050:`FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL`,36051:`FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE`,36053:`FRAMEBUFFER_COMPLETE`,36054:`FRAMEBUFFER_INCOMPLETE_ATTACHMENT`,36055:`FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT`,36057:`FRAMEBUFFER_INCOMPLETE_DIMENSIONS`,36061:`FRAMEBUFFER_UNSUPPORTED`,36064:`COLOR_ATTACHMENT0`,36096:`DEPTH_ATTACHMENT`,36128:`STENCIL_ATTACHMENT`,36160:`FRAMEBUFFER`,36161:`RENDERBUFFER`,36162:`RENDERBUFFER_WIDTH`,36163:`RENDERBUFFER_HEIGHT`,36164:`RENDERBUFFER_INTERNAL_FORMAT`,36168:`STENCIL_INDEX8`,36176:`RENDERBUFFER_RED_SIZE`,36177:`RENDERBUFFER_GREEN_SIZE`,36178:`RENDERBUFFER_BLUE_SIZE`,36179:`RENDERBUFFER_ALPHA_SIZE`,36180:`RENDERBUFFER_DEPTH_SIZE`,36181:`RENDERBUFFER_STENCIL_SIZE`,36194:`RGB565`,36336:`LOW_FLOAT`,36337:`MEDIUM_FLOAT`,36338:`HIGH_FLOAT`,36339:`LOW_INT`,36340:`MEDIUM_INT`,36341:`HIGH_INT`,36346:`SHADER_COMPILER`,36347:`MAX_VERTEX_UNIFORM_VECTORS`,36348:`MAX_VARYING_VECTORS`,36349:`MAX_FRAGMENT_UNIFORM_VECTORS`,37440:`UNPACK_FLIP_Y_WEBGL`,37441:`UNPACK_PREMULTIPLY_ALPHA_WEBGL`,37442:`CONTEXT_LOST_WEBGL`,37443:`UNPACK_COLORSPACE_CONVERSION_WEBGL`,37444:`BROWSER_DEFAULT_WEBGL`}},6603:function(e,t,n){var r=n(1950);e.exports=function(e){return r[e]}},3110:function(e,t,n){e.exports=f;var r=n(5827),i=n(2944),a=n(7667),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(e,t,n,r){this.gl=e,this.shader=r,this.buffer=t,this.vao=n,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var c=s.prototype;c.isOpaque=function(){return!this.hasAlpha},c.isTransparent=function(){return this.hasAlpha},c.drawTransparent=c.draw=function(e){var t=this.gl,n=this.shader.uniforms;this.shader.bind();var r=n.view=e.view||o,i=n.projection=e.projection||o;n.model=e.model||o,n.clipBounds=this.clipBounds,n.opacity=this.opacity;var a=r[12],s=r[13],c=r[14],l=r[15],u=(e._ortho?2:1)*this.pixelRatio*(i[3]*a+i[7]*s+i[11]*c+i[15]*l)/t.drawingBufferHeight;this.vao.bind();for(var d=0;d<3;++d)t.lineWidth(this.lineWidth[d]*this.pixelRatio),n.capSize=this.capSize[d]*u,this.lineCount[d]&&t.drawArrays(t.LINES,this.lineOffset[d],this.lineCount[d]);this.vao.unbind()};function l(e,t){for(var n=0;n<3;++n)e[0][n]=Math.min(e[0][n],t[n]),e[1][n]=Math.max(e[1][n],t[n])}var u=function(){for(var e=[,,,],t=0;t<3;++t){for(var n=[],r=1;r<=2;++r)for(var i=-1;i<=1;i+=2){var a=(r+t)%3,o=[0,0,0];o[a]=i,n.push(o)}e[t]=n}return e}();function d(e,t,n,r){for(var i=u[r],a=0;a<i.length;++a){var o=i[a];e.push(t[0],t[1],t[2],n[0],n[1],n[2],n[3],o[0],o[1],o[2])}return i.length}c.update=function(e){e||={},`lineWidth`in e&&(this.lineWidth=e.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),`capSize`in e&&(this.capSize=e.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,`opacity`in e&&(this.opacity=+e.opacity,this.opacity<1&&(this.hasAlpha=!0));var t=e.color||[[0,0,0],[0,0,0],[0,0,0]],n=e.position,r=e.error;if(Array.isArray(t[0])||(t=[t,t,t]),n&&r){var i=[],a=n.length,o=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var s=0;s<3;++s){this.lineOffset[s]=o;i_loop:for(var c=0;c<a;++c){for(var u=n[c],f=0;f<3;++f)if(isNaN(u[f])||!isFinite(u[f]))continue i_loop;var p=r[c],m=t[s];if(Array.isArray(m[0])&&(m=t[c]),m.length===3?m=[m[0],m[1],m[2],1]:m.length===4&&(m=[m[0],m[1],m[2],m[3]],!this.hasAlpha&&m[3]<1&&(this.hasAlpha=!0)),!(isNaN(p[0][s])||isNaN(p[1][s]))){if(p[0][s]<0){var h=u.slice();h[s]+=p[0][s],i.push(u[0],u[1],u[2],m[0],m[1],m[2],m[3],0,0,0,h[0],h[1],h[2],m[0],m[1],m[2],m[3],0,0,0),l(this.bounds,h),o+=2+d(i,h,m,s)}if(p[1][s]>0){var h=u.slice();h[s]+=p[1][s],i.push(u[0],u[1],u[2],m[0],m[1],m[2],m[3],0,0,0,h[0],h[1],h[2],m[0],m[1],m[2],m[3],0,0,0),l(this.bounds,h),o+=2+d(i,h,m,s)}}}this.lineCount[s]=o-this.lineOffset[s]}this.buffer.update(i)}},c.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function f(e){var t=e.gl,n=r(t),o=i(t,[{buffer:n,type:t.FLOAT,size:3,offset:0,stride:40},{buffer:n,type:t.FLOAT,size:4,offset:12,stride:40},{buffer:n,type:t.FLOAT,size:3,offset:28,stride:40}]),c=a(t);c.attributes.position.location=0,c.attributes.color.location=1,c.attributes.offset.location=2;var l=new s(t,n,o,c);return l.update(e),l}},7667:function(e,t,n){var r=n(6832),i=n(5158),a=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),o=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);e.exports=function(e){return i(e,a,o,null,[{name:`position`,type:`vec3`},{name:`color`,type:`vec4`},{name:`offset`,type:`vec3`}])}},4234:function(e,t,n){var r=n(8931);e.exports=y;var i=null,a,o,s,c;function l(e){return[e.getParameter(e.FRAMEBUFFER_BINDING),e.getParameter(e.RENDERBUFFER_BINDING),e.getParameter(e.TEXTURE_BINDING_2D)]}function u(e,t){e.bindFramebuffer(e.FRAMEBUFFER,t[0]),e.bindRenderbuffer(e.RENDERBUFFER,t[1]),e.bindTexture(e.TEXTURE_2D,t[2])}function d(e,t){var n=e.getParameter(t.MAX_COLOR_ATTACHMENTS_WEBGL);i=Array(n+1);for(var r=0;r<=n;++r){for(var a=Array(n),o=0;o<r;++o)a[o]=e.COLOR_ATTACHMENT0+o;for(var o=r;o<n;++o)a[o]=e.NONE;i[r]=a}}function f(e){switch(e){case a:throw Error(`gl-fbo: Framebuffer unsupported`);case o:throw Error(`gl-fbo: Framebuffer incomplete attachment`);case s:throw Error(`gl-fbo: Framebuffer incomplete dimensions`);case c:throw Error(`gl-fbo: Framebuffer incomplete missing attachment`);default:throw Error(`gl-fbo: Framebuffer failed for unspecified reason`)}}function p(e,t,n,i,a,o){if(!i)return null;var s=r(e,t,n,a,i);return s.magFilter=e.NEAREST,s.minFilter=e.NEAREST,s.mipSamples=1,s.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,o,e.TEXTURE_2D,s.handle,0),s}function m(e,t,n,r,i){var a=e.createRenderbuffer();return e.bindRenderbuffer(e.RENDERBUFFER,a),e.renderbufferStorage(e.RENDERBUFFER,r,t,n),e.framebufferRenderbuffer(e.FRAMEBUFFER,i,e.RENDERBUFFER,a),a}function h(e){var t=l(e.gl),n=e.gl,r=e.handle=n.createFramebuffer(),a=e._shape[0],o=e._shape[1],s=e.color.length,c=e._ext,d=e._useStencil,h=e._useDepth,g=e._colorType;n.bindFramebuffer(n.FRAMEBUFFER,r);for(var _=0;_<s;++_)e.color[_]=p(n,a,o,g,n.RGBA,n.COLOR_ATTACHMENT0+_);s===0?(e._color_rb=m(n,a,o,n.RGBA4,n.COLOR_ATTACHMENT0),c&&c.drawBuffersWEBGL(i[0])):s>1&&c.drawBuffersWEBGL(i[s]);var v=n.getExtension(`WEBGL_depth_texture`);v?d?e.depth=p(n,a,o,v.UNSIGNED_INT_24_8_WEBGL,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):h&&(e.depth=p(n,a,o,n.UNSIGNED_SHORT,n.DEPTH_COMPONENT,n.DEPTH_ATTACHMENT)):h&&d?e._depth_rb=m(n,a,o,n.DEPTH_STENCIL,n.DEPTH_STENCIL_ATTACHMENT):h?e._depth_rb=m(n,a,o,n.DEPTH_COMPONENT16,n.DEPTH_ATTACHMENT):d&&(e._depth_rb=m(n,a,o,n.STENCIL_INDEX,n.STENCIL_ATTACHMENT));var y=n.checkFramebufferStatus(n.FRAMEBUFFER);if(y!==n.FRAMEBUFFER_COMPLETE){e._destroyed=!0,n.bindFramebuffer(n.FRAMEBUFFER,null),n.deleteFramebuffer(e.handle),e.handle=null,e.depth&&=(e.depth.dispose(),null),e._depth_rb&&=(n.deleteRenderbuffer(e._depth_rb),null);for(var _=0;_<e.color.length;++_)e.color[_].dispose(),e.color[_]=null;e._color_rb&&=(n.deleteRenderbuffer(e._color_rb),null),u(n,t),f(y)}u(n,t)}function g(e,t,n,r,i,a,o,s){this.gl=e,this._shape=[t|0,n|0],this._destroyed=!1,this._ext=s,this.color=Array(i);for(var c=0;c<i;++c)this.color[c]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=r,this._useDepth=a,this._useStencil=o;var l=this,u=[t|0,n|0];Object.defineProperties(u,{0:{get:function(){return l._shape[0]},set:function(e){return l.width=e}},1:{get:function(){return l._shape[1]},set:function(e){return l.height=e}}}),this._shapeVector=u,h(this)}var _=g.prototype;function v(e,t,n){if(e._destroyed)throw Error(`gl-fbo: Can't resize destroyed FBO`);if(!(e._shape[0]===t&&e._shape[1]===n)){var r=e.gl,i=r.getParameter(r.MAX_RENDERBUFFER_SIZE);if(t<0||t>i||n<0||n>i)throw Error(`gl-fbo: Can't resize FBO, invalid dimensions`);e._shape[0]=t,e._shape[1]=n;for(var a=l(r),o=0;o<e.color.length;++o)e.color[o].shape=e._shape;e._color_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,e._color_rb),r.renderbufferStorage(r.RENDERBUFFER,r.RGBA4,e._shape[0],e._shape[1])),e.depth&&(e.depth.shape=e._shape),e._depth_rb&&(r.bindRenderbuffer(r.RENDERBUFFER,e._depth_rb),e._useDepth&&e._useStencil?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e._shape[0],e._shape[1]):e._useDepth?r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_COMPONENT16,e._shape[0],e._shape[1]):e._useStencil&&r.renderbufferStorage(r.RENDERBUFFER,r.STENCIL_INDEX,e._shape[0],e._shape[1])),r.bindFramebuffer(r.FRAMEBUFFER,e.handle);var s=r.checkFramebufferStatus(r.FRAMEBUFFER);s!==r.FRAMEBUFFER_COMPLETE&&(e.dispose(),u(r,a),f(s)),u(r,a)}}Object.defineProperties(_,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(e){if(Array.isArray(e)||(e=[e|0,e|0]),e.length!==2)throw Error(`gl-fbo: Shape vector must be length 2`);var t=e[0]|0,n=e[1]|0;return v(this,t,n),[t,n]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(e){return e|=0,v(this,e,this._shape[1]),e},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(e){return e|=0,v(this,this._shape[0],e),e},enumerable:!1}}),_.bind=function(){if(!this._destroyed){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.handle),e.viewport(0,0,this._shape[0],this._shape[1])}},_.dispose=function(){if(!this._destroyed){this._destroyed=!0;var e=this.gl;e.deleteFramebuffer(this.handle),this.handle=null,this.depth&&=(this.depth.dispose(),null),this._depth_rb&&=(e.deleteRenderbuffer(this._depth_rb),null);for(var t=0;t<this.color.length;++t)this.color[t].dispose(),this.color[t]=null;this._color_rb&&=(e.deleteRenderbuffer(this._color_rb),null)}};function y(e,t,n,r){a||(a=e.FRAMEBUFFER_UNSUPPORTED,o=e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,s=e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,c=e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var l=e.getExtension(`WEBGL_draw_buffers`);if(!i&&l&&d(e,l),Array.isArray(t)&&(r=n,n=t[1]|0,t=t[0]|0),typeof t!=`number`)throw Error(`gl-fbo: Missing shape parameter`);var u=e.getParameter(e.MAX_RENDERBUFFER_SIZE);if(t<0||t>u||n<0||n>u)throw Error(`gl-fbo: Parameters are too large for FBO`);r||={};var f=1;if(`color`in r){if(f=Math.max(r.color|0,0),f<0)throw Error(`gl-fbo: Must specify a nonnegative number of colors`);if(f>1)if(l){if(f>e.getParameter(l.MAX_COLOR_ATTACHMENTS_WEBGL))throw Error(`gl-fbo: Context does not support `+f+` draw buffers`)}else throw Error(`gl-fbo: Multiple draw buffer extension not supported`)}var p=e.UNSIGNED_BYTE,m=e.getExtension(`OES_texture_float`);if(r.float&&f>0){if(!m)throw Error(`gl-fbo: Context does not support floating point textures`);p=e.FLOAT}else r.preferFloat&&f>0&&m&&(p=e.FLOAT);var h=!0;`depth`in r&&(h=!!r.depth);var _=!1;return`stencil`in r&&(_=!!r.stencil),new g(e,t,n,p,f,h,_,l)}},3530:function(e,t,n){var r=n(8974).sprintf,i=n(6603),a=n(9365),o=n(8008);e.exports=s;function s(e,t,n){var s=a(t)||`of unknown name (see npm glsl-shader-name)`,c=`unknown type`;n!==void 0&&(c=n===i.FRAGMENT_SHADER?`fragment`:`vertex`);for(var l=r(`Error compiling %s shader %s:
`,c,s),u=r(`%s%s`,l,e),d=e.split(`
`),f={},p=0;p<d.length;p++){var m=d[p];if(!(m===``||m===`\0`)){var h=parseInt(m.split(`:`)[2]);if(isNaN(h))throw Error(r(`Could not parse error: %s`,m));f[h]=m}}for(var g=o(t).split(`
`),p=0;p<g.length;p++)if(!(!f[p+3]&&!f[p+2]&&!f[p+1])){var _=g[p];if(l+=_+`
`,f[p+1]){var v=f[p+1];v=v.substr(v.split(`:`,3).join(`:`).length+1).trim(),l+=r(`^^^ %s

`,v)}}return{long:l.trim(),short:u.trim()}}},6386:function(e,t,n){e.exports=f;var r=n(5070),i=n(9560),a=n(5306),o=n(5158),s=n(5827),c=n(1292);function l(e,t,n,r,i,a,o){this.plot=e,this.shader=t,this.pickShader=n,this.positionBuffer=r,this.weightBuffer=i,this.colorBuffer=a,this.idBuffer=o,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var u=l.prototype,d=[0,0,1,0,0,1,1,0,1,1,0,1];u.draw=function(){var e=[1,0,0,0,1,0,0,0,1];return function(){var t=this.plot,n=this.shader,r=this.bounds,i=this.numVertices;if(!(i<=0)){var a=t.gl,o=t.dataBox,s=r[2]-r[0],c=r[3]-r[1],l=o[2]-o[0],u=o[3]-o[1];e[0]=2*s/l,e[4]=2*c/u,e[6]=2*(r[0]-o[0])/l-1,e[7]=2*(r[1]-o[1])/u-1,n.bind();var d=n.uniforms;d.viewTransform=e,d.shape=this.shape;var f=n.attributes;this.positionBuffer.bind(),f.position.pointer(),this.weightBuffer.bind(),f.weight.pointer(a.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),f.color.pointer(a.UNSIGNED_BYTE,!0),a.drawArrays(a.TRIANGLES,0,i)}}}(),u.drawPick=function(){var e=[1,0,0,0,1,0,0,0,1],t=[0,0,0,0];return function(n){var r=this.plot,i=this.pickShader,a=this.bounds,o=this.numVertices;if(!(o<=0)){var s=r.gl,c=r.dataBox,l=a[2]-a[0],u=a[3]-a[1],d=c[2]-c[0],f=c[3]-c[1];e[0]=2*l/d,e[4]=2*u/f,e[6]=2*(a[0]-c[0])/d-1,e[7]=2*(a[1]-c[1])/f-1;for(var p=0;p<4;++p)t[p]=n>>p*8&255;this.pickOffset=n,i.bind();var m=i.uniforms;m.viewTransform=e,m.pickOffset=t,m.shape=this.shape;var h=i.attributes;return this.positionBuffer.bind(),h.position.pointer(),this.weightBuffer.bind(),h.weight.pointer(s.UNSIGNED_BYTE,!1),this.idBuffer.bind(),h.pickId.pointer(s.UNSIGNED_BYTE,!1),s.drawArrays(s.TRIANGLES,0,o),n+this.shape[0]*this.shape[1]}}}(),u.pick=function(e,t,n){var r=this.pickOffset,i=this.shape[0]*this.shape[1];if(n<r||n>=r+i)return null;var a=n-r,o=this.xData,s=this.yData;return{object:this,pointId:a,dataCoord:[o[a%this.shape[0]],s[a/this.shape[0]|0]]}},u.update=function(e){e||={};var t=e.shape||[0,0],n=e.x||i(t[0]),o=e.y||i(t[1]),s=e.z||new Float32Array(t[0]*t[1]),c=e.zsmooth!==!1;this.xData=n,this.yData=o;var l=e.colorLevels||[0],u=e.colorValues||[0,0,0,1],f=l.length,p=this.bounds,m,h,g,_;c?(m=p[0]=n[0],h=p[1]=o[0],g=p[2]=n[n.length-1],_=p[3]=o[o.length-1]):(m=p[0]=n[0]+(n[1]-n[0])/2,h=p[1]=o[0]+(o[1]-o[0])/2,g=p[2]=n[n.length-1]+(n[n.length-1]-n[n.length-2])/2,_=p[3]=o[o.length-1]+(o[o.length-1]-o[o.length-2])/2);var v=1/(g-m),y=1/(_-h),b=t[0],x=t[1];this.shape=[b,x];var S=(c?(b-1)*(x-1):b*x)*(d.length>>>1);this.numVertices=S;for(var C=a.mallocUint8(S*4),w=a.mallocFloat32(S*2),T=a.mallocUint8(S*2),E=a.mallocUint32(S),D=0,O=c?b-1:b,k=c?x-1:x,A=0;A<k;++A){var j,M;c?(j=y*(o[A]-h),M=y*(o[A+1]-h)):(j=A<x-1?y*(o[A]-(o[A+1]-o[A])/2-h):y*(o[A]-(o[A]-o[A-1])/2-h),M=A<x-1?y*(o[A]+(o[A+1]-o[A])/2-h):y*(o[A]+(o[A]-o[A-1])/2-h));for(var N=0;N<O;++N){var P,F;c?(P=v*(n[N]-m),F=v*(n[N+1]-m)):(P=N<b-1?v*(n[N]-(n[N+1]-n[N])/2-m):v*(n[N]-(n[N]-n[N-1])/2-m),F=N<b-1?v*(n[N]+(n[N+1]-n[N])/2-m):v*(n[N]+(n[N]-n[N-1])/2-m));for(var I=0;I<d.length;I+=2){var L=d[I],R=d[I+1],z=s[c?(A+R)*b+(N+L):A*b+N],B=r.le(l,z),V,H,U,W;if(B<0)V=u[0],H=u[1],U=u[2],W=u[3];else if(B===f-1)V=u[4*f-4],H=u[4*f-3],U=u[4*f-2],W=u[4*f-1];else{var G=(z-l[B])/(l[B+1]-l[B]),K=1-G,ee=4*B,q=4*(B+1);V=K*u[ee]+G*u[q],H=K*u[ee+1]+G*u[q+1],U=K*u[ee+2]+G*u[q+2],W=K*u[ee+3]+G*u[q+3]}C[4*D]=255*V,C[4*D+1]=255*H,C[4*D+2]=255*U,C[4*D+3]=255*W,w[2*D]=P*.5+F*.5,w[2*D+1]=j*.5+M*.5,T[2*D]=L,T[2*D+1]=R,E[D]=A*b+N,D+=1}}}this.positionBuffer.update(w),this.weightBuffer.update(T),this.colorBuffer.update(C),this.idBuffer.update(E),a.free(w),a.free(C),a.free(T),a.free(E)},u.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function f(e,t){var n=e.gl,r=new l(e,o(n,c.vertex,c.fragment),o(n,c.pickVertex,c.pickFragment),s(n),s(n),s(n),s(n));return r.update(t),e.addObject(r),r}},1292:function(e,t,n){var r=n(6832);e.exports={fragment:r([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(e,t,n){var r=n(6832),i=n(5158),a=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),o=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),c=[{name:`position`,type:`vec3`},{name:`nextPosition`,type:`vec3`},{name:`arcLength`,type:`float`},{name:`lineWidth`,type:`float`},{name:`color`,type:`vec4`}];t.createShader=function(e){return i(e,a,o,null,c)},t.createPickShader=function(e){return i(e,a,s,null,c)}},6086:function(e,t,n){e.exports=b;var r=n(5827),i=n(2944),a=n(8931),o=new Uint8Array(4),s=new Float32Array(o.buffer);function c(e,t,n,r){return o[0]=r,o[1]=n,o[2]=t,o[3]=e,s[0]}var l=n(5070),u=n(5050),d=n(248),f=d.createShader,p=d.createPickShader,m=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(e,t){for(var n=0,r=0;r<3;++r){var i=e[r]-t[r];n+=i*i}return Math.sqrt(n)}function g(e){for(var t=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],n=0;n<3;++n)t[0][n]=Math.max(e[0][n],t[0][n]),t[1][n]=Math.min(e[1][n],t[1][n]);return t}function _(e,t,n,r){this.arcLength=e,this.position=t,this.index=n,this.dataCoordinate=r}function v(e,t,n,r,i,a){this.gl=e,this.shader=t,this.pickShader=n,this.buffer=r,this.vao=i,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=a,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var y=v.prototype;y.isTransparent=function(){return this.hasAlpha},y.isOpaque=function(){return!this.hasAlpha},y.pickSlots=1,y.setPickBase=function(e){this.pickId=e},y.drawTransparent=y.draw=function(e){if(this.vertexCount){var t=this.gl,n=this.shader,r=this.vao;n.bind(),n.uniforms={model:e.model||m,view:e.view||m,projection:e.projection||m,clipBounds:g(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[t.drawingBufferWidth,t.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(t.TRIANGLE_STRIP,this.vertexCount),r.unbind()}},y.drawPick=function(e){if(this.vertexCount){var t=this.gl,n=this.pickShader,r=this.vao;n.bind(),n.uniforms={model:e.model||m,view:e.view||m,projection:e.projection||m,pickId:this.pickId,clipBounds:g(this.clipBounds),screenShape:[t.drawingBufferWidth,t.drawingBufferHeight],pixelRatio:this.pixelRatio},r.bind(),r.draw(t.TRIANGLE_STRIP,this.vertexCount),r.unbind()}},y.update=function(e){var t,n;this.dirty=!0;var r=!!e.connectGaps;`dashScale`in e&&(this.dashScale=e.dashScale),this.hasAlpha=!1,`opacity`in e&&(this.opacity=+e.opacity,this.opacity<1&&(this.hasAlpha=!0));var i=[],a=[],o=[],s=0,c=0,d=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],f=e.position||e.positions;if(f){var p=e.color||e.colors||[0,0,0,1],m=e.lineWidth||1,g=!1;fill_loop:for(t=1;t<f.length;++t){var _=f[t-1],v=f[t];for(a.push(s),o.push(_.slice()),n=0;n<3;++n){if(isNaN(_[n])||isNaN(v[n])||!isFinite(_[n])||!isFinite(v[n])){if(!r&&i.length>0){for(var y=0;y<24;++y)i.push(i[i.length-12]);c+=2,g=!0}continue fill_loop}d[0][n]=Math.min(d[0][n],_[n],v[n]),d[1][n]=Math.max(d[1][n],_[n],v[n])}var b,x;Array.isArray(p[0])?(b=p.length>t-1?p[t-1]:p.length>0?p[p.length-1]:[0,0,0,1],x=p.length>t?p[t]:p.length>0?p[p.length-1]:[0,0,0,1]):b=x=p,b.length===3&&(b=[b[0],b[1],b[2],1]),x.length===3&&(x=[x[0],x[1],x[2],1]),!this.hasAlpha&&b[3]<1&&(this.hasAlpha=!0);var S=Array.isArray(m)?m.length>t-1?m[t-1]:m.length>0?m[m.length-1]:[0,0,0,1]:m,C=s;if(s+=h(_,v),g){for(n=0;n<2;++n)i.push(_[0],_[1],_[2],v[0],v[1],v[2],C,S,b[0],b[1],b[2],b[3]);c+=2,g=!1}i.push(_[0],_[1],_[2],v[0],v[1],v[2],C,S,b[0],b[1],b[2],b[3],_[0],_[1],_[2],v[0],v[1],v[2],C,-S,b[0],b[1],b[2],b[3],v[0],v[1],v[2],_[0],_[1],_[2],s,-S,x[0],x[1],x[2],x[3],v[0],v[1],v[2],_[0],_[1],_[2],s,S,x[0],x[1],x[2],x[3]),c+=4}}if(this.buffer.update(i),a.push(s),o.push(f[f.length-1].slice()),this.bounds=d,this.vertexCount=c,this.points=o,this.arcLength=a,`dashes`in e){var w=e.dashes.slice();for(w.unshift(0),t=1;t<w.length;++t)w[t]=w[t-1]+w[t];var T=u(Array(256*4),[256,1,4]);for(t=0;t<256;++t){for(n=0;n<4;++n)T.set(t,0,n,0);l.le(w,w[w.length-1]*t/255)&1?T.set(t,0,0,0):T.set(t,0,0,255)}this.texture.setPixels(T)}},y.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},y.pick=function(e){if(!e||e.id!==this.pickId)return null;var t=c(e.value[0],e.value[1],e.value[2],0),n=l.le(this.arcLength,t);if(n<0)return null;if(n===this.arcLength.length-1)return new _(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),n);for(var r=this.points[n],i=this.points[Math.min(n+1,this.points.length-1)],a=(t-this.arcLength[n])/(this.arcLength[n+1]-this.arcLength[n]),o=1-a,s=[0,0,0],u=0;u<3;++u)s[u]=o*r[u]+a*i[u];var d=Math.min(a<.5?n:n+1,this.points.length-1);return new _(t,s,d,this.points[d])};function b(e){var t=e.gl||e.scene&&e.scene.gl,n=f(t);n.attributes.position.location=0,n.attributes.nextPosition.location=1,n.attributes.arcLength.location=2,n.attributes.lineWidth.location=3,n.attributes.color.location=4;var o=p(t);o.attributes.position.location=0,o.attributes.nextPosition.location=1,o.attributes.arcLength.location=2,o.attributes.lineWidth.location=3,o.attributes.color.location=4;for(var s=r(t),c=i(t,[{buffer:s,size:3,offset:0,stride:48},{buffer:s,size:3,offset:12,stride:48},{buffer:s,size:1,offset:24,stride:48},{buffer:s,size:1,offset:28,stride:48},{buffer:s,size:4,offset:32,stride:48}]),l=u(Array(256*4),[256,1,4]),d=0;d<256*4;++d)l.data[d]=255;var m=a(t,l);m.wrap=t.REPEAT;var h=new v(t,n,o,s,c,m);return h.update(e),h}},7332:function(e){e.exports=t;function t(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},9823:function(e){e.exports=t;function t(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},7787:function(e){e.exports=t;function t(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=e[8],u=e[9],d=e[10],f=e[11],p=e[12],m=e[13],h=e[14],g=e[15],_=t*o-n*a,v=t*s-r*a,y=t*c-i*a,b=n*s-r*o,x=n*c-i*o,S=r*c-i*s,C=l*m-u*p,w=l*h-d*p,T=l*g-f*p,E=u*h-d*m,D=u*g-f*m;return _*(d*g-f*h)-v*D+y*E+b*T-x*w+S*C}},5950:function(e){e.exports=t;function t(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,c=i+i,l=n*o,u=r*o,d=r*s,f=i*o,p=i*s,m=i*c,h=a*o,g=a*s,_=a*c;return e[0]=1-d-m,e[1]=u+_,e[2]=f-g,e[3]=0,e[4]=u-_,e[5]=1-l-m,e[6]=p+h,e[7]=0,e[8]=f+g,e[9]=p-h,e[10]=1-l-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},7280:function(e){e.exports=t;function t(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=r+r,c=i+i,l=a+a,u=r*s,d=r*c,f=r*l,p=i*c,m=i*l,h=a*l,g=o*s,_=o*c,v=o*l;return e[0]=1-(p+h),e[1]=d+v,e[2]=f-_,e[3]=0,e[4]=d-v,e[5]=1-(u+h),e[6]=m+g,e[7]=0,e[8]=f+_,e[9]=m-g,e[10]=1-(u+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}},9947:function(e){e.exports=t;function t(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},7437:function(e){e.exports=t;function t(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],h=t[13],g=t[14],_=t[15],v=n*s-r*o,y=n*c-i*o,b=n*l-a*o,x=r*c-i*s,S=r*l-a*s,C=i*l-a*c,w=u*h-d*m,T=u*g-f*m,E=u*_-p*m,D=d*g-f*h,O=d*_-p*h,k=f*_-p*g,A=v*k-y*O+b*D+x*E-S*T+C*w;return A?(A=1/A,e[0]=(s*k-c*O+l*D)*A,e[1]=(i*O-r*k-a*D)*A,e[2]=(h*C-g*S+_*x)*A,e[3]=(f*S-d*C-p*x)*A,e[4]=(c*E-o*k-l*T)*A,e[5]=(n*k-i*E+a*T)*A,e[6]=(g*b-m*C-_*y)*A,e[7]=(u*C-f*b+p*y)*A,e[8]=(o*O-s*E+l*w)*A,e[9]=(r*E-n*O-a*w)*A,e[10]=(m*S-h*b+_*v)*A,e[11]=(d*b-u*S-p*v)*A,e[12]=(s*T-o*D-c*w)*A,e[13]=(n*D-r*T+i*w)*A,e[14]=(h*y-m*x-g*v)*A,e[15]=(u*x-d*y+f*v)*A,e):null}},3012:function(e,t,n){var r=n(9947);e.exports=i;function i(e,t,n,i){var a,o,s,c,l,u,d,f,p,m,h=t[0],g=t[1],_=t[2],v=i[0],y=i[1],b=i[2],x=n[0],S=n[1],C=n[2];return Math.abs(h-x)<1e-6&&Math.abs(g-S)<1e-6&&Math.abs(_-C)<1e-6?r(e):(d=h-x,f=g-S,p=_-C,m=1/Math.sqrt(d*d+f*f+p*p),d*=m,f*=m,p*=m,a=y*p-b*f,o=b*d-v*p,s=v*f-y*d,m=Math.sqrt(a*a+o*o+s*s),m?(m=1/m,a*=m,o*=m,s*=m):(a=0,o=0,s=0),c=f*s-p*o,l=p*a-d*s,u=d*o-f*a,m=Math.sqrt(c*c+l*l+u*u),m?(m=1/m,c*=m,l*=m,u*=m):(c=0,l=0,u=0),e[0]=a,e[1]=c,e[2]=d,e[3]=0,e[4]=o,e[5]=l,e[6]=f,e[7]=0,e[8]=s,e[9]=u,e[10]=p,e[11]=0,e[12]=-(a*h+o*g+s*_),e[13]=-(c*h+l*g+u*_),e[14]=-(d*h+f*g+p*_),e[15]=1,e)}},104:function(e){e.exports=t;function t(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],f=t[9],p=t[10],m=t[11],h=t[12],g=t[13],_=t[14],v=t[15],y=n[0],b=n[1],x=n[2],S=n[3];return e[0]=y*r+b*s+x*d+S*h,e[1]=y*i+b*c+x*f+S*g,e[2]=y*a+b*l+x*p+S*_,e[3]=y*o+b*u+x*m+S*v,y=n[4],b=n[5],x=n[6],S=n[7],e[4]=y*r+b*s+x*d+S*h,e[5]=y*i+b*c+x*f+S*g,e[6]=y*a+b*l+x*p+S*_,e[7]=y*o+b*u+x*m+S*v,y=n[8],b=n[9],x=n[10],S=n[11],e[8]=y*r+b*s+x*d+S*h,e[9]=y*i+b*c+x*f+S*g,e[10]=y*a+b*l+x*p+S*_,e[11]=y*o+b*u+x*m+S*v,y=n[12],b=n[13],x=n[14],S=n[15],e[12]=y*r+b*s+x*d+S*h,e[13]=y*i+b*c+x*f+S*g,e[14]=y*a+b*l+x*p+S*_,e[15]=y*o+b*u+x*m+S*v,e}},5268:function(e){e.exports=t;function t(e,t,n,r,i,a,o){var s=1/(t-n),c=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*c,e[14]=(o+a)*l,e[15]=1,e}},1120:function(e){e.exports=t;function t(e,t,n,r,i){var a=1/Math.tan(t/2),o=1/(r-i);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*o,e[15]=0,e}},4422:function(e){e.exports=t;function t(e,t,n,r){var i=r[0],a=r[1],o=r[2],s=Math.sqrt(i*i+a*a+o*o),c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T,E,D,O,k,A,j;return Math.abs(s)<1e-6?null:(s=1/s,i*=s,a*=s,o*=s,c=Math.sin(n),l=Math.cos(n),u=1-l,d=t[0],f=t[1],p=t[2],m=t[3],h=t[4],g=t[5],_=t[6],v=t[7],y=t[8],b=t[9],x=t[10],S=t[11],C=i*i*u+l,w=a*i*u+o*c,T=o*i*u-a*c,E=i*a*u-o*c,D=a*a*u+l,O=o*a*u+i*c,k=i*o*u+a*c,A=a*o*u-i*c,j=o*o*u+l,e[0]=d*C+h*w+y*T,e[1]=f*C+g*w+b*T,e[2]=p*C+_*w+x*T,e[3]=m*C+v*w+S*T,e[4]=d*E+h*D+y*O,e[5]=f*E+g*D+b*O,e[6]=p*E+_*D+x*O,e[7]=m*E+v*D+S*O,e[8]=d*k+h*A+y*j,e[9]=f*k+g*A+b*j,e[10]=p*k+_*A+x*j,e[11]=m*k+v*A+S*j,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}},6109:function(e){e.exports=t;function t(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],c=t[7],l=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*r,e[5]=o*i+u*r,e[6]=s*i+d*r,e[7]=c*i+f*r,e[8]=l*i-a*r,e[9]=u*i-o*r,e[10]=d*i-s*r,e[11]=f*i-c*r,e}},7115:function(e){e.exports=t;function t(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],c=t[3],l=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-l*r,e[1]=o*i-u*r,e[2]=s*i-d*r,e[3]=c*i-f*r,e[8]=a*r+l*i,e[9]=o*r+u*i,e[10]=s*r+d*i,e[11]=c*r+f*i,e}},5240:function(e){e.exports=t;function t(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],c=t[3],l=t[4],u=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*r,e[1]=o*i+u*r,e[2]=s*i+d*r,e[3]=c*i+f*r,e[4]=l*i-a*r,e[5]=u*i-o*r,e[6]=d*i-s*r,e[7]=f*i-c*r,e}},3668:function(e){e.exports=t;function t(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},998:function(e){e.exports=t;function t(e,t,n){var r=n[0],i=n[1],a=n[2],o,s,c,l,u,d,f,p,m,h,g,_;return t===e?(e[12]=t[0]*r+t[4]*i+t[8]*a+t[12],e[13]=t[1]*r+t[5]*i+t[9]*a+t[13],e[14]=t[2]*r+t[6]*i+t[10]*a+t[14],e[15]=t[3]*r+t[7]*i+t[11]*a+t[15]):(o=t[0],s=t[1],c=t[2],l=t[3],u=t[4],d=t[5],f=t[6],p=t[7],m=t[8],h=t[9],g=t[10],_=t[11],e[0]=o,e[1]=s,e[2]=c,e[3]=l,e[4]=u,e[5]=d,e[6]=f,e[7]=p,e[8]=m,e[9]=h,e[10]=g,e[11]=_,e[12]=o*r+u*i+m*a+t[12],e[13]=s*r+d*i+h*a+t[13],e[14]=c*r+f*i+g*a+t[14],e[15]=l*r+p*i+_*a+t[15]),e}},2142:function(e){e.exports=t;function t(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}},4340:function(e,t,n){var r=n(957),i=n(7309);e.exports=l;function a(e,t){for(var n=[0,0,0,0],r=0;r<4;++r)for(var i=0;i<4;++i)n[i]+=e[4*r+i]*t[r];return n}function o(e,t,n,r,i){for(var o=a(r,a(n,a(t,[e[0],e[1],e[2],1]))),s=0;s<3;++s)o[s]/=o[3];return[.5*i[0]*(1+o[0]),.5*i[1]*(1-o[1])]}function s(e,t){if(e.length===2){for(var n=0,a=0,o=0;o<2;++o)n+=(t[o]-e[0][o])**2,a+=(t[o]-e[1][o])**2;return n=Math.sqrt(n),a=Math.sqrt(a),n+a<1e-6?[1,0]:[a/(n+a),n/(a+n)]}else if(e.length===3){var s=[0,0];return i(e[0],e[1],e[2],t,s),r(e,s)}return[]}function c(e,t){for(var n=[0,0,0],r=0;r<e.length;++r)for(var i=e[r],a=t[r],o=0;o<3;++o)n[o]+=a*i[o];return n}function l(e,t,n,r,i,a){if(e.length===1)return[0,e[0].slice()];for(var l=Array(e.length),u=0;u<e.length;++u)l[u]=o(e[u],n,r,i,a);for(var d=0,f=1/0,u=0;u<l.length;++u){for(var p=0,m=0;m<2;++m)p+=(l[u][m]-t[m])**2;p<f&&(f=p,d=u)}for(var h=s(l,t),g=0,u=0;u<3;++u){if(h[u]<-.001||h[u]>1.0001)return null;g+=h[u]}return Math.abs(g-1)>.001?null:[d,c(e,h),h]}},2056:function(e,t,n){var r=n(6832),i=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),a=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),o=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),s=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),l=r([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),d=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),f=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),p=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),m=r([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);t.meshShader={vertex:i,fragment:a,attributes:[{name:`position`,type:`vec3`},{name:`normal`,type:`vec3`},{name:`color`,type:`vec4`},{name:`uv`,type:`vec2`}]},t.wireShader={vertex:o,fragment:s,attributes:[{name:`position`,type:`vec3`},{name:`color`,type:`vec4`},{name:`uv`,type:`vec2`}]},t.pointShader={vertex:c,fragment:l,attributes:[{name:`position`,type:`vec3`},{name:`color`,type:`vec4`},{name:`uv`,type:`vec2`},{name:`pointSize`,type:`float`}]},t.pickShader={vertex:u,fragment:d,attributes:[{name:`position`,type:`vec3`},{name:`id`,type:`vec4`}]},t.pointPickShader={vertex:f,fragment:d,attributes:[{name:`position`,type:`vec3`},{name:`pointSize`,type:`float`},{name:`id`,type:`vec4`}]},t.contourShader={vertex:p,fragment:m,attributes:[{name:`position`,type:`vec3`}]}},8116:function(e,t,n){var r=1e-6,i=1e-6,a=n(5158),o=n(5827),s=n(2944),c=n(8931),l=n(115),u=n(104),d=n(7437),f=n(5050),p=n(9156),m=n(7212),h=n(5306),g=n(2056),_=n(4340),v=g.meshShader,y=g.wireShader,b=g.pointShader,x=g.pickShader,S=g.pointPickShader,C=g.contourShader,w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function T(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,T,E,D){this.gl=e,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=t,this.dirty=!0,this.triShader=n,this.lineShader=r,this.pointShader=i,this.pickShader=a,this.pointPickShader=o,this.contourShader=s,this.trianglePositions=c,this.triangleColors=u,this.triangleNormals=f,this.triangleUVs=d,this.triangleIds=l,this.triangleVAO=p,this.triangleCount=0,this.lineWidth=1,this.edgePositions=m,this.edgeColors=g,this.edgeUVs=_,this.edgeIds=h,this.edgeVAO=v,this.edgeCount=0,this.pointPositions=y,this.pointColors=x,this.pointUVs=S,this.pointSizes=C,this.pointIds=b,this.pointVAO=T,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=E,this.contourVAO=D,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var E=T.prototype;E.isOpaque=function(){return!this.hasAlpha},E.isTransparent=function(){return this.hasAlpha},E.pickSlots=1,E.setPickBase=function(e){this.pickId=e};function D(e,t){if(!t||!t.length)return 1;for(var n=0;n<t.length;++n){if(t.length<2)return 1;if(t[n][0]===e)return t[n][1];if(t[n][0]>e&&n>0){var r=(t[n][0]-e)/(t[n][0]-t[n-1][0]);return t[n][1]*(1-r)+r*t[n-1][1]}}return 1}function O(e,t){for(var n=p({colormap:e,nshades:256,format:`rgba`}),r=new Uint8Array(256*4),i=0;i<256;++i){for(var a=n[i],o=0;o<3;++o)r[4*i+o]=a[o];t?r[4*i+3]=255*D(i/255,t):r[4*i+3]=255*a[3]}return f(r,[256,256,4],[4,0,1])}function k(e){for(var t=e.length,n=Array(t),r=0;r<t;++r)n[r]=e[r][2];return n}E.highlight=function(e){if(!e||!this.contourEnable){this.contourCount=0;return}for(var t=m(this.cells,this.intensity,e.intensity),n=t.cells,r=t.vertexIds,i=t.vertexWeights,a=n.length,o=h.mallocFloat32(6*a),s=0,c=0;c<a;++c)for(var l=n[c],u=0;u<2;++u){var d=l[0];l.length===2&&(d=l[u]);for(var f=r[d][0],p=r[d][1],g=i[d],_=1-g,v=this.positions[f],y=this.positions[p],b=0;b<3;++b)o[s++]=g*v[b]+_*y[b]}this.contourCount=s/3|0,this.contourPositions.update(o.subarray(0,s)),h.free(o)},E.update=function(e){e||={};var t=this.gl;this.dirty=!0,`contourEnable`in e&&(this.contourEnable=e.contourEnable),`contourColor`in e&&(this.contourColor=e.contourColor),`lineWidth`in e&&(this.lineWidth=e.lineWidth),`lightPosition`in e&&(this.lightPosition=e.lightPosition),this.hasAlpha=!1,`opacity`in e&&(this.opacity=e.opacity,this.opacity<1&&(this.hasAlpha=!0)),`opacityscale`in e&&(this.opacityscale=e.opacityscale,this.hasAlpha=!0),`ambient`in e&&(this.ambientLight=e.ambient),`diffuse`in e&&(this.diffuseLight=e.diffuse),`specular`in e&&(this.specularLight=e.specular),`roughness`in e&&(this.roughness=e.roughness),`fresnel`in e&&(this.fresnel=e.fresnel),e.texture?(this.texture.dispose(),this.texture=c(t,e.texture)):e.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=t.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=t.LINEAR,this.texture.setPixels(O(e.colormap,this.opacityscale)),this.texture.generateMipmap());var n=e.cells,a=e.positions;if(!(!a||!n)){var o=[],s=[],u=[],d=[],f=[],p=[],m=[],h=[],g=[],_=[],v=[],y=[],b=[],x=[];this.cells=n,this.positions=a;var S=e.vertexNormals,C=e.cellNormals,w=e.vertexNormalsEpsilon===void 0?r:e.vertexNormalsEpsilon,T=e.faceNormalsEpsilon===void 0?i:e.faceNormalsEpsilon;e.useFacetNormals&&!C&&(C=l.faceNormals(n,a,T)),!C&&!S&&(S=l.vertexNormals(n,a,w));var E=e.vertexColors,A=e.cellColors,j=e.meshColor||[1,1,1,1],M=e.vertexUVs,N=e.vertexIntensity,P=e.cellUVs,F=e.cellIntensity,I=1/0,L=-1/0;if(!M&&!P)if(N)if(e.vertexIntensityBounds)I=+e.vertexIntensityBounds[0],L=+e.vertexIntensityBounds[1];else for(var R=0;R<N.length;++R){var z=N[R];I=Math.min(I,z),L=Math.max(L,z)}else if(F)if(e.cellIntensityBounds)I=+e.cellIntensityBounds[0],L=+e.cellIntensityBounds[1];else for(var R=0;R<F.length;++R){var z=F[R];I=Math.min(I,z),L=Math.max(L,z)}else for(var R=0;R<a.length;++R){var z=a[R][2];I=Math.min(I,z),L=Math.max(L,z)}N?this.intensity=N:F?this.intensity=F:this.intensity=k(a),this.pickVertex=!(F||A);var B=e.pointSizes,V=e.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var R=0;R<a.length;++R)for(var H=a[R],U=0;U<3;++U)isNaN(H[U])||!isFinite(H[U])||(this.bounds[0][U]=Math.min(this.bounds[0][U],H[U]),this.bounds[1][U]=Math.max(this.bounds[1][U],H[U]));var W=0,G=0,K=0;fill_loop:for(var R=0;R<n.length;++R){var ee=n[R];switch(ee.length){case 1:for(var q=ee[0],H=a[q],U=0;U<3;++U)if(isNaN(H[U])||!isFinite(H[U]))continue fill_loop;_.push(H[0],H[1],H[2]);var J=E?E[q]:A?A[R]:j;this.opacityscale&&N?s.push(J[0],J[1],J[2],this.opacity*D((N[q]-I)/(L-I),this.opacityscale)):J.length===3?v.push(J[0],J[1],J[2],this.opacity):(v.push(J[0],J[1],J[2],J[3]*this.opacity),J[3]<1&&(this.hasAlpha=!0));var Y=M?M[q]:N?[(N[q]-I)/(L-I),0]:P?P[R]:F?[(F[R]-I)/(L-I),0]:[(H[2]-I)/(L-I),0];y.push(Y[0],Y[1]),B?b.push(B[q]):b.push(V),x.push(R),K+=1;break;case 2:for(var U=0;U<2;++U)for(var q=ee[U],H=a[q],te=0;te<3;++te)if(isNaN(H[te])||!isFinite(H[te]))continue fill_loop;for(var U=0;U<2;++U){var q=ee[U],H=a[q];p.push(H[0],H[1],H[2]);var J=E?E[q]:A?A[R]:j;this.opacityscale&&N?s.push(J[0],J[1],J[2],this.opacity*D((N[q]-I)/(L-I),this.opacityscale)):J.length===3?m.push(J[0],J[1],J[2],this.opacity):(m.push(J[0],J[1],J[2],J[3]*this.opacity),J[3]<1&&(this.hasAlpha=!0));var Y=M?M[q]:N?[(N[q]-I)/(L-I),0]:P?P[R]:F?[(F[R]-I)/(L-I),0]:[(H[2]-I)/(L-I),0];h.push(Y[0],Y[1]),g.push(R)}G+=1;break;case 3:for(var U=0;U<3;++U)for(var q=ee[U],H=a[q],te=0;te<3;++te)if(isNaN(H[te])||!isFinite(H[te]))continue fill_loop;for(var U=0;U<3;++U){var q=ee[2-U],H=a[q];o.push(H[0],H[1],H[2]);var J=E?E[q]:A?A[R]:j;J?this.opacityscale&&N?s.push(J[0],J[1],J[2],this.opacity*D((N[q]-I)/(L-I),this.opacityscale)):J.length===3?s.push(J[0],J[1],J[2],this.opacity):(s.push(J[0],J[1],J[2],J[3]*this.opacity),J[3]<1&&(this.hasAlpha=!0)):s.push(.5,.5,.5,1);var Y=M?M[q]:N?[(N[q]-I)/(L-I),0]:P?P[R]:F?[(F[R]-I)/(L-I),0]:[(H[2]-I)/(L-I),0];d.push(Y[0],Y[1]);var ne=S?S[q]:C[R];u.push(ne[0],ne[1],ne[2]),f.push(R)}W+=1;break;default:break}}this.pointCount=K,this.edgeCount=G,this.triangleCount=W,this.pointPositions.update(_),this.pointColors.update(v),this.pointUVs.update(y),this.pointSizes.update(b),this.pointIds.update(new Uint32Array(x)),this.edgePositions.update(p),this.edgeColors.update(m),this.edgeUVs.update(h),this.edgeIds.update(new Uint32Array(g)),this.trianglePositions.update(o),this.triangleColors.update(s),this.triangleUVs.update(d),this.triangleNormals.update(u),this.triangleIds.update(new Uint32Array(f))}},E.drawTransparent=E.draw=function(e){e||={};for(var t=this.gl,n=e.model||w,r=e.view||w,i=e.projection||w,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);var s={model:n,view:r,projection:i,inverseModel:w.slice(),clipBounds:a,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};s.inverseModel=d(s.inverseModel,s.model),t.disable(t.CULL_FACE),this.texture.bind(0);var c=Array(16);u(c,s.view,s.model),u(c,s.projection,c),d(c,c);for(var o=0;o<3;++o)s.eyePosition[o]=c[12+o]/c[15];for(var l=c[15],o=0;o<3;++o)l+=this.lightPosition[o]*c[4*o+3];for(var o=0;o<3;++o){for(var f=c[12+o],p=0;p<3;++p)f+=c[4*p+o]*this.lightPosition[p];s.lightPosition[o]=f/l}if(this.triangleCount>0){var m=this.triShader;m.bind(),m.uniforms=s,this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var m=this.lineShader;m.bind(),m.uniforms=s,this.edgeVAO.bind(),t.lineWidth(this.lineWidth*this.pixelRatio),t.drawArrays(t.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var m=this.pointShader;m.bind(),m.uniforms=s,this.pointVAO.bind(),t.drawArrays(t.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var m=this.contourShader;m.bind(),m.uniforms=s,this.contourVAO.bind(),t.drawArrays(t.LINES,0,this.contourCount),this.contourVAO.unbind()}},E.drawPick=function(e){e||={};for(var t=this.gl,n=e.model||w,r=e.view||w,i=e.projection||w,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o<3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);this._model=[].slice.call(n),this._view=[].slice.call(r),this._projection=[].slice.call(i),this._resolution=[t.drawingBufferWidth,t.drawingBufferHeight];var s={model:n,view:r,projection:i,clipBounds:a,pickId:this.pickId/255},c=this.pickShader;if(c.bind(),c.uniforms=s,this.triangleCount>0&&(this.triangleVAO.bind(),t.drawArrays(t.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),t.lineWidth(this.lineWidth*this.pixelRatio),t.drawArrays(t.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var c=this.pointPickShader;c.bind(),c.uniforms=s,this.pointVAO.bind(),t.drawArrays(t.POINTS,0,this.pointCount),this.pointVAO.unbind()}},E.pick=function(e){if(!e||e.id!==this.pickId)return null;for(var t=e.value[0]+256*e.value[1]+65536*e.value[2],n=this.cells[t],r=this.positions,i=Array(n.length),a=0;a<n.length;++a)i[a]=r[n[a]];var o=e.coord[0],s=e.coord[1];if(!this.pickVertex){var c=this.positions[n[0]],l=this.positions[n[1]],u=this.positions[n[2]],d=[(c[0]+l[0]+u[0])/3,(c[1]+l[1]+u[1])/3,(c[2]+l[2]+u[2])/3];return{_cellCenter:!0,position:[o,s],index:t,cell:n,cellId:t,intensity:this.intensity[t],dataCoordinate:d}}var f=_(i,[o*this.pixelRatio,this._resolution[1]-s*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!f)return null;for(var p=f[2],m=0,a=0;a<n.length;++a)m+=p[a]*this.intensity[n[a]];return{position:f[1],index:n[f[0]],cell:n,cellId:t,intensity:m,dataCoordinate:this.positions[n[f[0]]]}},E.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function A(e){var t=a(e,v.vertex,v.fragment);return t.attributes.position.location=0,t.attributes.color.location=2,t.attributes.uv.location=3,t.attributes.normal.location=4,t}function j(e){var t=a(e,y.vertex,y.fragment);return t.attributes.position.location=0,t.attributes.color.location=2,t.attributes.uv.location=3,t}function M(e){var t=a(e,b.vertex,b.fragment);return t.attributes.position.location=0,t.attributes.color.location=2,t.attributes.uv.location=3,t.attributes.pointSize.location=4,t}function N(e){var t=a(e,x.vertex,x.fragment);return t.attributes.position.location=0,t.attributes.id.location=1,t}function P(e){var t=a(e,S.vertex,S.fragment);return t.attributes.position.location=0,t.attributes.id.location=1,t.attributes.pointSize.location=4,t}function F(e){var t=a(e,C.vertex,C.fragment);return t.attributes.position.location=0,t}function I(e,t){if(arguments.length===1&&(t=e,e=t.gl),!(e.getExtension(`OES_standard_derivatives`)||e.getExtension(`MOZ_OES_standard_derivatives`)||e.getExtension(`WEBKIT_OES_standard_derivatives`)))throw Error(`derivatives not supported`);var n=A(e),r=j(e),i=M(e),a=N(e),l=P(e),u=F(e),d=c(e,f(new Uint8Array([255,255,255,255]),[1,1,4]));d.generateMipmap(),d.minFilter=e.LINEAR_MIPMAP_LINEAR,d.magFilter=e.LINEAR;var p=o(e),m=o(e),h=o(e),g=o(e),_=o(e),v=s(e,[{buffer:p,type:e.FLOAT,size:3},{buffer:_,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:m,type:e.FLOAT,size:4},{buffer:h,type:e.FLOAT,size:2},{buffer:g,type:e.FLOAT,size:3}]),y=o(e),b=o(e),x=o(e),S=o(e),C=s(e,[{buffer:y,type:e.FLOAT,size:3},{buffer:S,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:b,type:e.FLOAT,size:4},{buffer:x,type:e.FLOAT,size:2}]),w=o(e),E=o(e),D=o(e),O=o(e),k=o(e),I=s(e,[{buffer:w,type:e.FLOAT,size:3},{buffer:k,type:e.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:E,type:e.FLOAT,size:4},{buffer:D,type:e.FLOAT,size:2},{buffer:O,type:e.FLOAT,size:1}]),L=o(e),R=s(e,[{buffer:L,type:e.FLOAT,size:3}]),z=new T(e,d,n,r,i,a,l,u,p,_,m,h,g,v,y,S,b,x,C,w,k,E,D,O,I,L,R);return z.update(t),z}e.exports=I},4554:function(e,t,n){e.exports=c;var r=n(5827),i=n(5158),a=n(2709);function o(e,t,n){this.plot=e,this.vbo=t,this.shader=n}var s=o.prototype;s.bind=function(){var e=this.shader;this.vbo.bind(),this.shader.bind(),e.attributes.coord.pointer(),e.uniforms.screenBox=this.plot.screenBox},s.drawBox=function(){var e=[0,0],t=[0,0];return function(n,r,i,a,o){var s=this.plot,c=this.shader,l=s.gl;e[0]=n,e[1]=r,t[0]=i,t[1]=a,c.uniforms.lo=e,c.uniforms.hi=t,c.uniforms.color=o,l.drawArrays(l.TRIANGLE_STRIP,0,4)}}(),s.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(e){var t=e.gl;return new o(e,r(t,[0,0,0,1,1,0,1,1]),i(t,a.boxVert,a.lineFrag))}},3016:function(e,t,n){e.exports=u;var r=n(5827),i=n(5158),a=n(5070),o=n(2709);function s(e,t,n,r){this.plot=e,this.vbo=t,this.shader=n,this.tickShader=r,this.ticks=[[],[]]}function c(e,t){return e-t}var l=s.prototype;l.draw=function(){var e=[0,0],t=[0,0],n=[0,0];return function(){for(var r=this.plot,i=this.vbo,a=this.shader,o=this.ticks,s=r.gl,c=r._tickBounds,l=r.dataBox,u=r.viewBox,d=r.gridLineWidth,f=r.gridLineColor,p=r.gridLineEnable,m=r.pixelRatio,h=0;h<2;++h){var g=c[h],_=c[h+2]-g,v=.5*(l[h+2]+l[h]),y=l[h+2]-l[h];t[h]=2*_/y,e[h]=2*(g-v)/y}a.bind(),i.bind(),a.attributes.dataCoord.pointer(),a.uniforms.dataShift=e,a.uniforms.dataScale=t;for(var b=0,h=0;h<2;++h){n[0]=n[1]=0,n[h]=1,a.uniforms.dataAxis=n,a.uniforms.lineWidth=d[h]/(u[h+2]-u[h])*m,a.uniforms.color=f[h];var x=o[h].length*6;p[h]&&x&&s.drawArrays(s.TRIANGLES,b,x),b+=x}}}(),l.drawTickMarks=function(){var e=[0,0],t=[0,0],n=[1,0],r=[0,1],i=[0,0],o=[0,0];return function(){for(var s=this.plot,l=this.vbo,u=this.tickShader,d=this.ticks,f=s.gl,p=s._tickBounds,m=s.dataBox,h=s.viewBox,g=s.pixelRatio,_=s.screenBox,v=_[2]-_[0],y=_[3]-_[1],b=h[2]-h[0],x=h[3]-h[1],S=0;S<2;++S){var C=p[S],w=p[S+2]-C,T=.5*(m[S+2]+m[S]),E=m[S+2]-m[S];t[S]=2*w/E,e[S]=2*(C-T)/E}t[0]*=b/v,e[0]*=b/v,t[1]*=x/y,e[1]*=x/y,u.bind(),l.bind(),u.attributes.dataCoord.pointer();var D=u.uniforms;D.dataShift=e,D.dataScale=t;var O=s.tickMarkLength,k=s.tickMarkWidth,A=s.tickMarkColor,j=0,M=d[0].length*6,N=Math.min(a.ge(d[0],(m[0]-p[0])/(p[2]-p[0]),c),d[0].length),P=Math.min(a.gt(d[0],(m[2]-p[0])/(p[2]-p[0]),c),d[0].length),F=j+6*N,I=6*Math.max(0,P-N),L=Math.min(a.ge(d[1],(m[1]-p[1])/(p[3]-p[1]),c),d[1].length),R=Math.min(a.gt(d[1],(m[3]-p[1])/(p[3]-p[1]),c),d[1].length),z=M+6*L,B=6*Math.max(0,R-L);i[0]=2*(h[0]-O[1])/v-1,i[1]=(h[3]+h[1])/y-1,o[0]=O[1]*g/v,o[1]=k[1]*g/y,B&&(D.color=A[1],D.tickScale=o,D.dataAxis=r,D.screenOffset=i,f.drawArrays(f.TRIANGLES,z,B)),i[0]=(h[2]+h[0])/v-1,i[1]=2*(h[1]-O[0])/y-1,o[0]=k[0]*g/v,o[1]=O[0]*g/y,I&&(D.color=A[0],D.tickScale=o,D.dataAxis=n,D.screenOffset=i,f.drawArrays(f.TRIANGLES,F,I)),i[0]=2*(h[2]+O[3])/v-1,i[1]=(h[3]+h[1])/y-1,o[0]=O[3]*g/v,o[1]=k[3]*g/y,B&&(D.color=A[3],D.tickScale=o,D.dataAxis=r,D.screenOffset=i,f.drawArrays(f.TRIANGLES,z,B)),i[0]=(h[2]+h[0])/v-1,i[1]=2*(h[3]+O[2])/y-1,o[0]=k[2]*g/v,o[1]=O[2]*g/y,I&&(D.color=A[2],D.tickScale=o,D.dataAxis=n,D.screenOffset=i,f.drawArrays(f.TRIANGLES,F,I))}}(),l.update=function(){var e=[1,1,-1,-1,1,-1],t=[1,-1,1,1,-1,-1];return function(n){var r=n.ticks,i=n.bounds,a=new Float32Array(18*(r[0].length+r[1].length));this.plot.zeroLineEnable;for(var o=0,s=[[],[]],c=0;c<2;++c)for(var l=s[c],u=r[c],d=i[c],f=i[c+2],p=0;p<u.length;++p){var m=(u[p].x-d)/(f-d);l.push(m);for(var h=0;h<6;++h)a[o++]=m,a[o++]=e[h],a[o++]=t[h]}this.ticks=s,this.vbo.update(a)}}(),l.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function u(e){var t=e.gl;return new s(e,r(t),i(t,o.gridVert,o.gridFrag),i(t,o.tickVert,o.gridFrag))}},1154:function(e,t,n){e.exports=c;var r=n(5827),i=n(5158),a=n(2709);function o(e,t,n){this.plot=e,this.vbo=t,this.shader=n}var s=o.prototype;s.bind=function(){var e=this.shader;this.vbo.bind(),this.shader.bind(),e.attributes.coord.pointer(),e.uniforms.screenBox=this.plot.screenBox},s.drawLine=function(){var e=[0,0],t=[0,0];return function(n,r,i,a,o,s){var c=this.plot,l=this.shader,u=c.gl;e[0]=n,e[1]=r,t[0]=i,t[1]=a,l.uniforms.start=e,l.uniforms.end=t,l.uniforms.width=o*c.pixelRatio,l.uniforms.color=s,u.drawArrays(u.TRIANGLE_STRIP,0,4)}}(),s.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function c(e){var t=e.gl;return new o(e,r(t,[-1,-1,-1,1,1,-1,1,1]),i(t,a.lineVert,a.lineFrag))}},2709:function(e,t,n){var r=n(6832),i=r([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);e.exports={lineVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:i,textVert:r([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:i,gridVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:i,boxVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(e,t,n){e.exports=u;var r=n(5827),i=n(5158),a=n(6946),o=n(5070),s=n(2709);function c(e,t,n){this.plot=e,this.vbo=t,this.shader=n,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var l=c.prototype;l.drawTicks=function(){var e=[0,0],t=[0,0],n=[0,0];return function(r){var i=this.plot,a=this.shader,s=this.tickX[r],c=this.tickOffset[r],l=i.gl,u=i.viewBox,d=i.dataBox,f=i.screenBox,p=i.pixelRatio,m=i.tickEnable,h=i.tickPad,g=i.tickColor,_=i.tickAngle,v=i.labelEnable,y=i.labelPad,b=i.labelColor,x=i.labelAngle,S=this.labelOffset[r],C=this.labelCount[r],w=o.lt(s,d[r]),T=o.le(s,d[r+2]);e[0]=e[1]=0,e[r]=1,t[r]=(u[2+r]+u[r])/(f[2+r]-f[r])-1;var E=2/f[2+(r^1)]-f[r^1];t[r^1]=E*u[r^1]-1,m[r]&&(t[r^1]-=E*p*h[r],w<T&&c[T]>c[w]&&(a.uniforms.dataAxis=e,a.uniforms.screenOffset=t,a.uniforms.color=g[r],a.uniforms.angle=_[r],l.drawArrays(l.TRIANGLES,c[w],c[T]-c[w]))),v[r]&&C&&(t[r^1]-=E*p*y[r],a.uniforms.dataAxis=n,a.uniforms.screenOffset=t,a.uniforms.color=b[r],a.uniforms.angle=x[r],l.drawArrays(l.TRIANGLES,S,C)),t[r^1]=E*u[2+(r^1)]-1,m[r+2]&&(t[r^1]+=E*p*h[r+2],w<T&&c[T]>c[w]&&(a.uniforms.dataAxis=e,a.uniforms.screenOffset=t,a.uniforms.color=g[r+2],a.uniforms.angle=_[r+2],l.drawArrays(l.TRIANGLES,c[w],c[T]-c[w]))),v[r+2]&&C&&(t[r^1]+=E*p*y[r+2],a.uniforms.dataAxis=n,a.uniforms.screenOffset=t,a.uniforms.color=b[r+2],a.uniforms.angle=x[r+2],l.drawArrays(l.TRIANGLES,S,C))}}(),l.drawTitle=function(){var e=[0,0],t=[0,0];return function(){var n=this.plot,r=this.shader,i=n.gl,a=n.screenBox,o=n.titleCenter,s=n.titleAngle,c=n.titleColor,l=n.pixelRatio;if(this.titleCount){for(var u=0;u<2;++u)t[u]=2*(o[u]*l-a[u])/(a[2+u]-a[u])-1;r.bind(),r.uniforms.dataAxis=e,r.uniforms.screenOffset=t,r.uniforms.angle=s,r.uniforms.color=c,i.drawArrays(i.TRIANGLES,this.titleOffset,this.titleCount)}}}(),l.bind=function(){var e=[0,0],t=[0,0],n=[0,0];return function(){var r=this.plot,i=this.shader,a=r._tickBounds,o=r.dataBox,s=r.screenBox,c=r.viewBox;i.bind();for(var l=0;l<2;++l){var u=a[l],d=a[l+2]-u,f=.5*(o[l+2]+o[l]),p=o[l+2]-o[l],m=c[l],h=c[l+2]-m,g=s[l],_=s[l+2]-g;t[l]=2*d/p*h/_,e[l]=2*(u-f)/p*h/_}n[1]=2*r.pixelRatio/(s[3]-s[1]),n[0]=n[1]*(s[3]-s[1])/(s[2]-s[0]),i.uniforms.dataScale=t,i.uniforms.dataShift=e,i.uniforms.textScale=n,this.vbo.bind(),i.attributes.textCoordinate.pointer()}}(),l.update=function(e){var t=[],n=e.ticks,r=e.bounds,i,o,s,c,l;for(l=0;l<2;++l){var u=[Math.floor(t.length/3)],d=[-1/0],f=n[l];for(i=0;i<f.length;++i){var p=f[i],m=p.x,h=p.text,g=p.font||`sans-serif`;c=p.fontSize||12;for(var _=1/(r[l+2]-r[l]),v=r[l],y=h.split(`
`),b=0;b<y.length;b++)for(s=a(g,y[b]).data,o=0;o<s.length;o+=2)t.push(s[o]*c,-s[o+1]*c-b*c*1.2,(m-v)*_);u.push(Math.floor(t.length/3)),d.push(m)}this.tickOffset[l]=u,this.tickX[l]=d}for(l=0;l<2;++l){for(this.labelOffset[l]=Math.floor(t.length/3),s=a(e.labelFont[l],e.labels[l],{textAlign:`center`}).data,c=e.labelSize[l],i=0;i<s.length;i+=2)t.push(s[i]*c,-s[i+1]*c,0);this.labelCount[l]=Math.floor(t.length/3)-this.labelOffset[l]}for(this.titleOffset=Math.floor(t.length/3),s=a(e.titleFont,e.title).data,c=e.titleSize,i=0;i<s.length;i+=2)t.push(s[i]*c,-s[i+1]*c,0);this.titleCount=Math.floor(t.length/3)-this.titleOffset,this.vbo.update(t)},l.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function u(e){var t=e.gl;return new c(e,r(t),i(t,s.textVert,s.textFrag))}},2117:function(e,t,n){e.exports=f;var r=n(2611),i=n(3016),a=n(5613),o=n(1154),s=n(4554);function c(e,t){this.gl=e,this.pickBuffer=t,this.screenBox=[0,0,e.drawingBufferWidth,e.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var l=c.prototype;l.setDirty=function(){this.dirty=this.pickDirty=!0},l.setOverlayDirty=function(){this.dirty=!0},l.nextDepthValue=function(){return this._depthCounter++/65536},l.draw=function(){return function(){var e=this.gl,t=this.screenBox,n=this.viewBox,r=this.dataBox,i=this.pixelRatio,a=this.grid,o=this.line,s=this.text,c=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,e.bindFramebuffer(e.FRAMEBUFFER,null),e.enable(e.SCISSOR_TEST),e.disable(e.DEPTH_TEST),e.depthFunc(e.LESS),e.depthMask(!1),e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD,e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),this.borderColor){e.scissor(t[0],t[1],t[2]-t[0],t[3]-t[1]);var l=this.borderColor;e.clearColor(l[0]*l[3],l[1]*l[3],l[2]*l[3],l[3]),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}e.scissor(n[0],n[1],n[2]-n[0],n[3]-n[1]),e.viewport(n[0],n[1],n[2]-n[0],n[3]-n[1]);var u=this.backgroundColor;e.clearColor(u[0]*u[3],u[1]*u[3],u[2]*u[3],u[3]),e.clear(e.COLOR_BUFFER_BIT),a.draw();var d=this.zeroLineEnable,f=this.zeroLineColor,p=this.zeroLineWidth;if(d[0]||d[1]){o.bind();for(var m=0;m<2;++m)if(!(!d[m]||!(r[m]<=0&&r[m+2]>=0))){var h=t[m]-r[m]*(t[m+2]-t[m])/(r[m+2]-r[m]);m===0?o.drawLine(h,t[1],h,t[3],p[m],f[m]):o.drawLine(t[0],h,t[2],h,p[m],f[m])}}for(var m=0;m<c.length;++m)c[m].draw();e.viewport(t[0],t[1],t[2]-t[0],t[3]-t[1]),e.scissor(t[0],t[1],t[2]-t[0],t[3]-t[1]),this.grid.drawTickMarks(),o.bind();var g=this.borderLineEnable,_=this.borderLineWidth,v=this.borderLineColor;g[1]&&o.drawLine(n[0],n[1]-.5*_[1]*i,n[0],n[3]+.5*_[3]*i,_[1],v[1]),g[0]&&o.drawLine(n[0]-.5*_[0]*i,n[1],n[2]+.5*_[2]*i,n[1],_[0],v[0]),g[3]&&o.drawLine(n[2],n[1]-.5*_[1]*i,n[2],n[3]+.5*_[3]*i,_[3],v[3]),g[2]&&o.drawLine(n[0]-.5*_[0]*i,n[3],n[2]+.5*_[2]*i,n[3],_[2],v[2]),s.bind();for(var m=0;m<2;++m)s.drawTicks(m);this.titleEnable&&s.drawTitle();for(var y=this.overlays,m=0;m<y.length;++m)y[m].draw();e.disable(e.SCISSOR_TEST),e.disable(e.BLEND),e.depthMask(!0)}}}(),l.drawPick=function(){return function(){if(!this.static){var e=this.pickBuffer;this.gl,this._pickTimeout=null,e.begin();for(var t=1,n=this.objects,r=0;r<n.length;++r)t=n[r].drawPick(t);e.end()}}}(),l.pick=function(){return function(e,t){if(!this.static){var n=this.pixelRatio,r=this.pickPixelRatio,i=this.viewBox,a=Math.round((e-i[0]/n)*r)|0,o=Math.round((t-i[1]/n)*r)|0,s=this.pickBuffer.query(a,o,this.pickRadius);if(!s)return null;for(var c=s.id+(s.value[0]<<8)+(s.value[1]<<16)+(s.value[2]<<24),l=this.objects,u=0;u<l.length;++u){var d=l[u].pick(a,o,c);if(d)return d}return null}}}();function u(e){for(var t=e.slice(),n=0;n<t.length;++n)t[n]=t[n].slice();return t}function d(e,t){return e.x-t.x}l.setScreenBox=function(e){var t=this.screenBox,n=this.pixelRatio;t[0]=Math.round(e[0]*n)|0,t[1]=Math.round(e[1]*n)|0,t[2]=Math.round(e[2]*n)|0,t[3]=Math.round(e[3]*n)|0,this.setDirty()},l.setDataBox=function(e){var t=this.dataBox;(t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3])&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],this.setDirty())},l.setViewBox=function(e){var t=this.pixelRatio,n=this.viewBox;n[0]=Math.round(e[0]*t)|0,n[1]=Math.round(e[1]*t)|0,n[2]=Math.round(e[2]*t)|0,n[3]=Math.round(e[3]*t)|0;var r=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((e[2]-e[0])*r)|0,Math.round((e[3]-e[1])*r)|0],this.setDirty()},l.update=function(e){e||={};var t=this.gl;this.pixelRatio=e.pixelRatio||1;var n=this.pixelRatio;this.pickPixelRatio=Math.max(n,1),this.setScreenBox(e.screenBox||[0,0,t.drawingBufferWidth/n,t.drawingBufferHeight/n]),this.screenBox,this.setViewBox(e.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/n,.125*(this.screenBox[3]-this.screenBox[1])/n,.875*(this.screenBox[2]-this.screenBox[0])/n,.875*(this.screenBox[3]-this.screenBox[1])/n]);var r=this.viewBox,i=(r[2]-r[0])/(r[3]-r[1]);this.setDataBox(e.dataBox||[-10,-10/i,10,10/i]),this.borderColor=e.borderColor===!1?!1:(e.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(e.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(e.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(e.gridLineWidth||[1,1]).slice(),this.gridLineColor=u(e.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(e.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(e.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=u(e.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(e.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(e.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=u(e.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(e.titleCenter||[.5*(r[0]+r[2])/n,(r[3]+120)/n]).slice(),this.titleEnable=!(`titleEnable`in e)||!!e.titleEnable,this.titleAngle=e.titleAngle||0,this.titleColor=(e.titleColor||[0,0,0,1]).slice(),this.labelPad=(e.labelPad||[15,15,15,15]).slice(),this.labelAngle=(e.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(e.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=u(e.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(e.tickPad||[15,15,15,15]).slice(),this.tickAngle=(e.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(e.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=u(e.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(e.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(e.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=u(e.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var a=e.ticks||[[],[]],o=this._tickBounds;o[0]=o[1]=1/0,o[2]=o[3]=-1/0;for(var s=0;s<2;++s){var c=a[s].slice(0);c.length!==0&&(c.sort(d),o[s]=Math.min(o[s],c[0].x),o[s+2]=Math.max(o[s+2],c[c.length-1].x))}this.grid.update({bounds:o,ticks:a}),this.text.update({bounds:o,ticks:a,labels:e.labels||[`x`,`y`],labelSize:e.labelSize||[12,12],labelFont:e.labelFont||[`sans-serif`,`sans-serif`],title:e.title||``,titleSize:e.titleSize||18,titleFont:e.titleFont||`sans-serif`}),this.static=!!e.static,this.setDirty()},l.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var e=this.objects.length-1;e>=0;--e)this.objects[e].dispose();this.objects.length=0;for(var e=this.overlays.length-1;e>=0;--e)this.overlays[e].dispose();this.overlays.length=0,this.gl=null},l.addObject=function(e){this.objects.indexOf(e)<0&&(this.objects.push(e),this.setDirty())},l.removeObject=function(e){for(var t=this.objects,n=0;n<t.length;++n)if(t[n]===e){t.splice(n,1),this.setDirty();break}},l.addOverlay=function(e){this.overlays.indexOf(e)<0&&(this.overlays.push(e),this.setOverlayDirty())},l.removeOverlay=function(e){for(var t=this.overlays,n=0;n<t.length;++n)if(t[n]===e){t.splice(n,1),this.setOverlayDirty();break}};function f(e){var t=e.gl,n=new c(t,r(t,[t.drawingBufferWidth,t.drawingBufferHeight]));return n.grid=i(n),n.text=a(n),n.line=o(n),n.box=s(n),n.update(e),n}},4296:function(e,t,n){e.exports=l;var r=n(8161),i=n(1152),a=n(6145),o=n(6475),s=n(2565),c=n(5233);function l(e,t){e||=document.body,t||={};var n=[.01,1/0];`distanceLimits`in t&&(n[0]=t.distanceLimits[0],n[1]=t.distanceLimits[1]),`zoomMin`in t&&(n[0]=t.zoomMin),`zoomMax`in t&&(n[1]=t.zoomMax);var l=i({center:t.center||[0,0,0],up:t.up||[0,1,0],eye:t.eye||[0,0,10],mode:t.mode||`orbit`,distanceLimits:n}),u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d=0,f=e.clientWidth,p=e.clientHeight,m={keyBindingMode:`rotate`,enableWheel:!0,view:l,element:e,delay:t.delay||16,rotateSpeed:t.rotateSpeed||1,zoomSpeed:t.zoomSpeed||1,translateSpeed:t.translateSpeed||1,flipX:!!t.flipX,flipY:!!t.flipY,modes:l.modes,_ortho:t._ortho||t.projection&&t.projection.type===`orthographic`||!1,tick:function(){var t=r(),n=this.delay,i=t-2*n;l.idle(t-n),l.recalcMatrix(i),l.flush(t-(100+n*2));for(var a=!0,o=l.computedMatrix,s=0;s<16;++s)a&&=u[s]===o[s],u[s]=o[s];var c=e.clientWidth===f&&e.clientHeight===p;return f=e.clientWidth,p=e.clientHeight,a?!c:(d=Math.exp(l.computedRadius[0]),!0)},lookAt:function(e,t,n){l.lookAt(l.lastT(),e,t,n)},rotate:function(e,t,n){l.rotate(l.lastT(),e,t,n)},pan:function(e,t,n){l.pan(l.lastT(),e,t,n)},translate:function(e,t,n){l.translate(l.lastT(),e,t,n)}};return Object.defineProperties(m,{matrix:{get:function(){return l.computedMatrix},set:function(e){return l.setMatrix(l.lastT(),e),l.computedMatrix},enumerable:!0},mode:{get:function(){return l.getMode()},set:function(e){var t=l.computedUp.slice(),n=l.computedEye.slice(),i=l.computedCenter.slice();if(l.setMode(e),e===`turntable`){var a=r();l._active.lookAt(a,n,i,t),l._active.lookAt(a+500,n,i,[0,0,1]),l._active.flush(a)}return l.getMode()},enumerable:!0},center:{get:function(){return l.computedCenter},set:function(e){return l.lookAt(l.lastT(),null,e),l.computedCenter},enumerable:!0},eye:{get:function(){return l.computedEye},set:function(e){return l.lookAt(l.lastT(),e),l.computedEye},enumerable:!0},up:{get:function(){return l.computedUp},set:function(e){return l.lookAt(l.lastT(),null,null,e),l.computedUp},enumerable:!0},distance:{get:function(){return d},set:function(e){return l.setDistance(l.lastT(),e),e},enumerable:!0},distanceLimits:{get:function(){return l.getDistanceLimits(n)},set:function(e){return l.setDistanceLimits(e),e},enumerable:!0}}),e.addEventListener(`contextmenu`,function(e){return e.preventDefault(),!1}),m._lastX=-1,m._lastY=-1,m._lastMods={shift:!1,control:!1,alt:!1,meta:!1},m.enableMouseListeners=function(){m.mouseListener=a(e,t),e.addEventListener(`touchstart`,function(n){var r=s(n.changedTouches[0],e);t(0,r[0],r[1],m._lastMods),t(1,r[0],r[1],m._lastMods)},c?{passive:!0}:!1),e.addEventListener(`touchmove`,function(n){var r=s(n.changedTouches[0],e);t(1,r[0],r[1],m._lastMods),n.preventDefault()},c?{passive:!1}:!1),e.addEventListener(`touchend`,function(e){t(0,m._lastX,m._lastY,m._lastMods)},c?{passive:!0}:!1);function t(t,n,i,a){var o=m.keyBindingMode;if(o!==!1){var s=o===`rotate`,c=o===`pan`,u=o===`zoom`,f=!!a.control,p=!!a.alt,h=!!a.shift,g=!!(t&1),_=!!(t&2),v=!!(t&4),y=1/e.clientHeight,b=y*(n-m._lastX),x=y*(i-m._lastY),S=m.flipX?1:-1,C=m.flipY?1:-1,w=Math.PI*m.rotateSpeed,T=r();if(m._lastX!==-1&&m._lastY!==-1&&((s&&g&&!f&&!p&&!h||g&&!f&&!p&&h)&&l.rotate(T,S*w*b,-C*w*x,0),(c&&g&&!f&&!p&&!h||_||g&&f&&!p&&!h)&&l.pan(T,-m.translateSpeed*b*d,m.translateSpeed*x*d,0),u&&g&&!f&&!p&&!h||v||g&&!f&&p&&!h)){var E=-m.zoomSpeed*x/window.innerHeight*(T-l.lastT())*100;l.pan(T,0,0,d*(Math.exp(E)-1))}return m._lastX=n,m._lastY=i,m._lastMods=a,!0}}m.wheelListener=o(e,function(e,t){if(m.keyBindingMode!==!1&&m.enableWheel){var n=m.flipX?1:-1,i=m.flipY?1:-1,a=r();if(Math.abs(e)>Math.abs(t))l.rotate(a,0,0,-e*n*Math.PI*m.rotateSpeed/window.innerWidth);else if(!m._ortho){var o=-m.zoomSpeed*i*t/window.innerHeight*(a-l.lastT())/20;l.pan(a,0,0,d*(Math.exp(o)-1))}}},!0)},m.enableMouseListeners(),m}},8245:function(e,t,n){var r=n(6832),i=n(5158),a=r([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),o=r([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);e.exports=function(e){return i(e,a,o,null,[{name:`position`,type:`vec2`}])}},1059:function(e,t,n){var r=n(4296),i=n(7453),a=n(2771),o=n(6496),s=n(2611),c=n(4234),l=n(8126),u=n(6145),d=n(1120),f=n(5268),p=n(8245),m=n(2321)({tablet:!0,featureDetect:!0});e.exports={createScene:y,createCamera:r};function h(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function g(e,t){var n=null;try{n=e.getContext(`webgl`,t),n||=e.getContext(`experimental-webgl`,t)}catch{return null}return n}function _(e){var t=Math.round(Math.log(Math.abs(e))/Math.log(10));if(t<0){var n=Math.round(10**-t);return Math.ceil(e*n)/n}else if(t>0){var n=Math.round(10**t);return Math.ceil(e/n)*n}return Math.ceil(e)}function v(e){return typeof e==`boolean`?e:!0}function y(e){e||={},e.camera=e.camera||{};var t=e.canvas;t||(t=document.createElement(`canvas`),e.container?e.container.appendChild(t):document.body.appendChild(t));var n=e.gl;if(n||=(e.glOptions&&(m=!!e.glOptions.preserveDrawingBuffer),g(t,e.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:m})),!n)throw Error(`webgl not supported`);var d=e.bounds||[[-10,-10,-10],[10,10,10]],f=new h,y=c(n,n.drawingBufferWidth,n.drawingBufferHeight,{preferFloat:!m}),x=p(n),S=e.cameraObject&&e.cameraObject._ortho===!0||e.camera.projection&&e.camera.projection.type===`orthographic`||!1,C={eye:e.camera.eye||[2,0,0],center:e.camera.center||[0,0,0],up:e.camera.up||[0,1,0],zoomMin:e.camera.zoomMax||.1,zoomMax:e.camera.zoomMin||100,mode:e.camera.mode||`turntable`,_ortho:S},w=e.axes||{},T=i(n,w);T.enable=!w.disable;var E=e.spikes||{},D=o(n,E),O=[],k=[],A=[],j=[],M=!0,N=!0,P={view:null,projection:Array(16),model:Array(16),_ortho:!1},N=!0,F=[n.drawingBufferWidth,n.drawingBufferHeight],I=e.cameraObject||r(t,C),L={gl:n,contextLost:!1,pixelRatio:e.pixelRatio||1,canvas:t,selection:f,camera:I,axes:T,axesPixels:null,spikes:D,bounds:d,objects:O,shape:F,aspect:e.aspectRatio||[1,1,1],pickRadius:e.pickRadius||10,zNear:e.zNear||.01,zFar:e.zFar||1e3,fovy:e.fovy||Math.PI/4,clearColor:e.clearColor||[0,0,0,0],autoResize:v(e.autoResize),autoBounds:v(e.autoBounds),autoScale:!!e.autoScale,autoCenter:v(e.autoCenter),clipToBounds:v(e.clipToBounds),snapToData:!!e.snapToData,onselect:e.onselect||null,onrender:e.onrender||null,onclick:e.onclick||null,cameraParams:P,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(e){this.aspect[0]=e.x,this.aspect[1]=e.y,this.aspect[2]=e.z,N=!0},setBounds:function(e,t){this.bounds[0][e]=t.min,this.bounds[1][e]=t.max},setClearColor:function(e){this.clearColor=e},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},R=[n.drawingBufferWidth/L.pixelRatio|0,n.drawingBufferHeight/L.pixelRatio|0];function z(){if(!L._stopped&&L.autoResize){var e=t.parentNode,n=1,r=1;e&&e!==document.body?(n=e.clientWidth,r=e.clientHeight):(n=window.innerWidth,r=window.innerHeight);var i=Math.ceil(n*L.pixelRatio)|0,a=Math.ceil(r*L.pixelRatio)|0;if(i!==t.width||a!==t.height){t.width=i,t.height=a;var o=t.style;o.position=o.position||`absolute`,o.left=`0px`,o.top=`0px`,o.width=n+`px`,o.height=r+`px`,M=!0}}}L.autoResize&&z(),window.addEventListener(`resize`,z);function B(){for(var e=O.length,t=j.length,r=0;r<t;++r)A[r]=0;obj_loop:for(var r=0;r<e;++r){var i=O[r],a=i.pickSlots;if(!a){k[r]=-1;continue}for(var o=0;o<t;++o)if(A[o]+a<255){k[r]=o,i.setPickBase(A[o]+1),A[o]+=a;continue obj_loop}var c=s(n,F);k[r]=t,j.push(c),A.push(a),i.setPickBase(1),t+=1}for(;t>0&&A[t-1]===0;)A.pop(),j.pop().dispose()}L.update=function(e){L._stopped||(e||={},M=!0,N=!0)},L.add=function(e){L._stopped||(e.axes=T,O.push(e),k.push(-1),M=!0,N=!0,B())},L.remove=function(e){if(!L._stopped){var t=O.indexOf(e);t<0||(O.splice(t,1),k.pop(),M=!0,N=!0,B())}},L.dispose=function(){if(!L._stopped&&(L._stopped=!0,window.removeEventListener(`resize`,z),t.removeEventListener(`webglcontextlost`,V),L.mouseListener.enabled=!1,!L.contextLost)){T.dispose(),D.dispose();for(var e=0;e<O.length;++e)O[e].dispose();y.dispose();for(var e=0;e<j.length;++e)j[e].dispose();x.dispose(),n=null,T=null,D=null,O=[]}},L._mouseRotating=!1,L._prevButtons=0,L.enableMouseListeners=function(){L.mouseListener=u(t,function(e,t,n){if(!L._stopped){var r=j.length,i=O.length,a=f.object;f.distance=1/0,f.mouse[0]=t,f.mouse[1]=n,f.object=null,f.screen=null,f.dataCoordinate=f.dataPosition=null;var o=!1;if(e&&L._prevButtons)L._mouseRotating=!0;else{L._mouseRotating&&(N=!0),L._mouseRotating=!1;for(var s=0;s<r;++s){var c=j[s].query(t,R[1]-n-1,L.pickRadius);if(c){if(c.distance>f.distance)continue;for(var l=0;l<i;++l){var u=O[l];if(k[l]===s){var d=u.pick(c);d&&(f.buttons=e,f.screen=c.coord,f.distance=c.distance,f.object=u,f.index=d.distance,f.dataPosition=d.position,f.dataCoordinate=d.dataCoordinate,f.data=d,o=!0)}}}}}a&&a!==f.object&&(a.highlight&&a.highlight(null),M=!0),f.object&&(f.object.highlight&&f.object.highlight(f.data),M=!0),o||=f.object!==a,o&&L.onselect&&L.onselect(f),e&1&&!(L._prevButtons&1)&&L.onclick&&L.onclick(f),L._prevButtons=e}})};function V(){if(L.contextLost)return!0;n.isContextLost()&&(L.contextLost=!0,L.mouseListener.enabled=!1,L.selection.object=null,L.oncontextloss&&L.oncontextloss())}t.addEventListener(`webglcontextlost`,V);function H(){if(!V()){n.colorMask(!0,!0,!0,!0),n.depthMask(!0),n.disable(n.BLEND),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL);for(var e=O.length,t=j.length,r=0;r<t;++r){var i=j[r];i.shape=R,i.begin();for(var a=0;a<e;++a)if(k[a]===r){var o=O[a];o.drawPick&&(o.pixelRatio=1,o.drawPick(P))}i.end()}}}var U=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],W=[U[0].slice(),U[1].slice()];function G(){if(!V()){z();var e=L.camera.tick();P.view=L.camera.matrix,M||=e,N||=e,T.pixelRatio=L.pixelRatio,D.pixelRatio=L.pixelRatio;var t=O.length,r=U[0],i=U[1];r[0]=r[1]=r[2]=1/0,i[0]=i[1]=i[2]=-1/0;for(var o=0;o<t;++o){var s=O[o];s.pixelRatio=L.pixelRatio,s.axes=L.axes,M||=!!s.dirty,N||=!!s.dirty;var c=s.bounds;if(c)for(var u=c[0],d=c[1],p=0;p<3;++p)r[p]=Math.min(r[p],u[p]),i[p]=Math.max(i[p],d[p])}var m=L.bounds;if(L.autoBounds)for(var p=0;p<3;++p){if(i[p]<r[p])r[p]=-1,i[p]=1;else{r[p]===i[p]&&(--r[p],i[p]+=1);var h=.05*(i[p]-r[p]);r[p]=r[p]-h,i[p]=i[p]+h}m[0][p]=r[p],m[1][p]=i[p]}for(var g=!1,p=0;p<3;++p)g=g||W[0][p]!==m[0][p]||W[1][p]!==m[1][p],W[0][p]=m[0][p],W[1][p]=m[1][p];if(N||=g,M||=g,M){if(g){for(var v=[0,0,0],o=0;o<3;++o)v[o]=_((m[1][o]-m[0][o])/10);T.autoTicks?T.update({bounds:m,tickSpacing:v}):T.update({bounds:m})}var C=n.drawingBufferWidth,w=n.drawingBufferHeight;F[0]=C,F[1]=w,R[0]=Math.max(C/L.pixelRatio,1)|0,R[1]=Math.max(w/L.pixelRatio,1)|0,b(L,S);for(var o=0;o<t;++o){var s=O[o];s.axesBounds=m,L.clipToBounds&&(s.clipBounds=m)}f.object&&(L.snapToData?D.position=f.dataCoordinate:D.position=f.dataPosition,D.bounds=m),N&&(N=!1,H()),L.axesPixels=a(L.axes,P,C,w),L.onrender&&L.onrender(),n.bindFramebuffer(n.FRAMEBUFFER,null),n.viewport(0,0,C,w),L.clearRGBA(),n.depthMask(!0),n.colorMask(!0,!0,!0,!0),n.enable(n.DEPTH_TEST),n.depthFunc(n.LEQUAL),n.disable(n.BLEND),n.disable(n.CULL_FACE);var E=!1;T.enable&&(E||=T.isTransparent(),T.draw(P)),D.axes=T,f.object&&D.draw(P),n.disable(n.CULL_FACE);for(var o=0;o<t;++o){var s=O[o];s.axes=T,s.pixelRatio=L.pixelRatio,s.isOpaque&&s.isOpaque()&&s.draw(P),s.isTransparent&&s.isTransparent()&&(E=!0)}if(E){y.shape=F,y.bind(),n.clear(n.DEPTH_BUFFER_BIT),n.colorMask(!1,!1,!1,!1),n.depthMask(!0),n.depthFunc(n.LESS),T.enable&&T.isTransparent()&&T.drawTransparent(P);for(var o=0;o<t;++o){var s=O[o];s.isOpaque&&s.isOpaque()&&s.draw(P)}n.enable(n.BLEND),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.colorMask(!0,!0,!0,!0),n.depthMask(!1),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),T.isTransparent()&&T.drawTransparent(P);for(var o=0;o<t;++o){var s=O[o];s.isTransparent&&s.isTransparent()&&s.drawTransparent(P)}n.bindFramebuffer(n.FRAMEBUFFER,null),n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),n.disable(n.DEPTH_TEST),x.bind(),y.color[0].bind(0),x.uniforms.accumBuffer=0,l(n),n.disable(n.BLEND)}M=!1;for(var o=0;o<t;++o)O[o].dirty=!1}}}function K(){L._stopped||L.contextLost||(G(),requestAnimationFrame(K))}return L.enableMouseListeners(),K(),L.redraw=function(){L._stopped||(M=!0,G())},L}function b(e,t){var n=e.bounds,r=e.cameraParams,i=r.projection,a=r.model,o=e.gl.drawingBufferWidth,s=e.gl.drawingBufferHeight,c=e.zNear,l=e.zFar,u=e.fovy,p=o/s;t?(f(i,-p,p,-1,1,c,l),r._ortho=!0):(d(i,u,p,c,l),r._ortho=!1);for(var m=0;m<16;++m)a[m]=0;a[15]=1;for(var h=0,m=0;m<3;++m)h=Math.max(h,n[1][m]-n[0][m]);for(var m=0;m<3;++m)e.autoScale?a[5*m]=e.aspect[m]/(n[1][m]-n[0][m]):a[5*m]=1/h,e.autoCenter&&(a[12+m]=-a[5*m]*.5*(n[0][m]+n[1][m]))}},8023:function(e,t,n){var r=n(6832);t.pointVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),t.pointFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),t.pickVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),t.pickFragment=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(e,t,n){var r=n(5158),i=n(5827),a=n(5306),o=n(8023);e.exports=u;function s(e,t,n,r,i){this.plot=e,this.offsetBuffer=t,this.pickBuffer=n,this.shader=r,this.pickShader=i,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var c=s.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(e){var t;e||={};function n(t,n){return t in e?e[t]:n}this.sizeMin=n(`sizeMin`,.5),this.sizeMax=n(`sizeMax`,20),this.color=n(`color`,[1,0,0,1]).slice(),this.areaRatio=n(`areaRatio`,1),this.borderColor=n(`borderColor`,[0,0,0,1]).slice(),this.blend=n(`blend`,!1);var r=e.positions.length>>>1,i=e.positions instanceof Float32Array,o=e.idToIndex instanceof Int32Array&&e.idToIndex.length>=r,s=e.positions,c=i?s:a.mallocFloat32(s.length),l=o?e.idToIndex:a.mallocInt32(r);if(i||c.set(s),!o)for(c.set(s),t=0;t<r;t++)l[t]=t;this.points=s,this.offsetBuffer.update(c),this.pickBuffer.update(l),i||a.free(c),o||a.free(l),this.pointCount=r,this.pickOffset=0};function l(e,t){var n=0,r=e.length>>>1,i;for(i=0;i<r;i++){var a=e[i*2],o=e[i*2+1];a>=t[0]&&a<=t[2]&&o>=t[1]&&o<=t[3]&&n++}return n}c.unifiedDraw=function(){var e=[1,0,0,0,1,0,0,0,1],t=[0,0,0,0];return function(n){var r=n!==void 0,i=r?this.pickShader:this.shader,a=this.plot.gl,o=this.plot.dataBox;if(this.pointCount===0)return n;var s=o[2]-o[0],c=o[3]-o[1],u=l(this.points,o),d=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/u**.33333));e[0]=2/s,e[4]=2/c,e[6]=-2*o[0]/s-1,e[7]=-2*o[1]/c-1,this.offsetBuffer.bind(),i.bind(),i.attributes.position.pointer(),i.uniforms.matrix=e,i.uniforms.color=this.color,i.uniforms.borderColor=this.borderColor,i.uniforms.pointCloud=d<5,i.uniforms.pointSize=d,i.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),r&&(t[0]=n&255,t[1]=n>>8&255,t[2]=n>>16&255,t[3]=n>>24&255,this.pickBuffer.bind(),i.attributes.pickId.pointer(a.UNSIGNED_BYTE),i.uniforms.pickOffset=t,this.pickOffset=n);var f=a.getParameter(a.BLEND),p=a.getParameter(a.DITHER);return f&&!this.blend&&a.disable(a.BLEND),p&&a.disable(a.DITHER),a.drawArrays(a.POINTS,0,this.pointCount),f&&!this.blend&&a.enable(a.BLEND),p&&a.enable(a.DITHER),n+this.pointCount}}(),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(e,t,n){var r=this.pickOffset,i=this.pointCount;if(n<r||n>=r+i)return null;var a=n-r,o=this.points;return{object:this,pointId:a,dataCoord:[o[2*a],o[2*a+1]]}};function u(e,t){var n=e.gl,a=new s(e,i(n),i(n),r(n,o.pointVertex,o.pointFragment),r(n,o.pickVertex,o.pickFragment));return a.update(t),e.addObject(a),a}},6093:function(e){e.exports=t;function t(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=t[3],c=n[0],l=n[1],u=n[2],d=n[3],f,p=i*c+a*l+o*u+s*d,m,h,g;return p<0&&(p=-p,c=-c,l=-l,u=-u,d=-d),1-p>1e-6?(f=Math.acos(p),m=Math.sin(f),h=Math.sin((1-r)*f)/m,g=Math.sin(r*f)/m):(h=1-r,g=r),e[0]=h*i+g*c,e[1]=h*a+g*l,e[2]=h*o+g*u,e[3]=h*s+g*d,e}},8240:function(e){e.exports=function(e){return!e&&e!==0?``:e.toString()}},4123:function(e,t,n){var r=n(875);e.exports=a;var i={};function a(e,t,n){var a=i[t];if(a||=i[t]={},e in a)return a[e];var o={textAlign:`center`,textBaseline:`middle`,lineHeight:1,font:t,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};o.triangles=!0;var s=r(e,o);o.triangles=!1;var c=r(e,o),l,u;if(n&&n!==1){for(l=0;l<s.positions.length;++l)for(u=0;u<s.positions[l].length;++u)s.positions[l][u]/=n;for(l=0;l<c.positions.length;++l)for(u=0;u<c.positions[l].length;++u)c.positions[l][u]/=n}var d=[[1/0,1/0],[-1/0,-1/0]],f=c.positions.length;for(l=0;l<f;++l){var p=c.positions[l];for(u=0;u<2;++u)d[0][u]=Math.min(d[0][u],p[u]),d[1][u]=Math.max(d[1][u],p[u])}return a[e]=[s,c,d]}},9282:function(e,t,n){var r=n(5158),i=n(6832),a=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),o=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),s=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),c=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),u=[{name:`position`,type:`vec3`},{name:`color`,type:`vec4`},{name:`glyph`,type:`vec2`},{name:`id`,type:`vec4`}],d={vertex:a,fragment:c,attributes:u},f={vertex:o,fragment:c,attributes:u},p={vertex:s,fragment:c,attributes:u},m={vertex:a,fragment:l,attributes:u},h={vertex:o,fragment:l,attributes:u},g={vertex:s,fragment:l,attributes:u};function _(e,t){var n=r(e,t),i=n.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,n}t.createPerspective=function(e){return _(e,d)},t.createOrtho=function(e){return _(e,f)},t.createProject=function(e){return _(e,p)},t.createPickPerspective=function(e){return _(e,m)},t.createPickOrtho=function(e){return _(e,h)},t.createPickProject=function(e){return _(e,g)}},2182:function(e,t,n){var r=n(3596),i=n(5827),a=n(2944),o=n(5306),s=n(104),c=n(9282),l=n(4123),u=n(8240),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];e.exports=P;function f(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];return e[0]=t[0]*n+t[4]*r+t[8]*i+t[12]*a,e[1]=t[1]*n+t[5]*r+t[9]*i+t[13]*a,e[2]=t[2]*n+t[6]*r+t[10]*i+t[14]*a,e[3]=t[3]*n+t[7]*r+t[11]*i+t[15]*a,e}function p(e,t,n,r){return f(r,r,n),f(r,r,t),f(r,r,e)}function m(e,t){this.index=e,this.dataCoordinate=this.position=t}function h(e){return e===!0||e>1?1:e}function g(e,t,n,r,i,a,o,s,c,l,u,d){this.gl=e,this.pixelRatio=1,this.shader=t,this.orthoShader=n,this.projectShader=r,this.pointBuffer=i,this.colorBuffer=a,this.glyphBuffer=o,this.idBuffer=s,this.vao=c,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=l,this.pickOrthoShader=u,this.pickProjectShader=d,this.points=[],this._selectResult=new m(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var _=g.prototype;_.pickSlots=1,_.setPickBase=function(e){this.pickId=e},_.isTransparent=function(){if(this.hasAlpha)return!0;for(var e=0;e<3;++e)if(this.axesProject[e]&&this.projectHasAlpha)return!0;return!1},_.isOpaque=function(){if(!this.hasAlpha)return!0;for(var e=0;e<3;++e)if(this.axesProject[e]&&!this.projectHasAlpha)return!0;return!1};var v=[0,0],y=[0,0,0],b=[0,0,0],x=[0,0,0,1],S=[0,0,0,1],C=d.slice(),w=[0,0,0],T=[[0,0,0],[0,0,0]];function E(e){return e[0]=e[1]=e[2]=0,e}function D(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=1,e}function O(e,t,n,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[n]=r,e}function k(e){for(var t=T,n=0;n<2;++n)for(var r=0;r<3;++r)t[n][r]=Math.max(Math.min(e[n][r],1e8),-1e8);return t}function A(e,t,n,r){var i=t.axesProject,a=t.gl,o=e.uniforms,c=n.model||d,l=n.view||d,u=n.projection||d,f=t.axesBounds,m=k(t.clipBounds),h=t.axes&&t.axes.lastCubeProps?t.axes.lastCubeProps.axis:[1,1,1];v[0]=2/a.drawingBufferWidth,v[1]=2/a.drawingBufferHeight,e.bind(),o.view=l,o.projection=u,o.screenSize=v,o.highlightId=t.highlightId,o.highlightScale=t.highlightScale,o.clipBounds=m,o.pickGroup=t.pickId/255,o.pixelRatio=r;for(var g=0;g<3;++g)if(i[g]){o.scale=t.projectScale[g],o.opacity=t.projectOpacity[g];for(var _=C,T=0;T<16;++T)_[T]=0;for(var T=0;T<4;++T)_[5*T]=1;_[5*g]=0,h[g]<0?_[12+g]=f[0][g]:_[12+g]=f[1][g],s(_,c,_),o.model=_;var A=(g+1)%3,j=(g+2)%3,M=E(y),N=E(b);M[A]=1,N[j]=1;var P=p(u,l,c,D(x,M)),F=p(u,l,c,D(S,N));if(Math.abs(P[1])>Math.abs(F[1])){var I=P;P=F,F=I,I=M,M=N,N=I;var L=A;A=j,j=L}P[0]<0&&(M[A]=-1),F[1]>0&&(N[j]=-1);for(var R=0,z=0,T=0;T<4;++T)R+=c[4*A+T]**2,z+=c[4*j+T]**2;M[A]/=Math.sqrt(R),N[j]/=Math.sqrt(z),o.axes[0]=M,o.axes[1]=N,o.fragClipBounds[0]=O(w,m[0],g,-1e8),o.fragClipBounds[1]=O(w,m[1],g,1e8),t.vao.bind(),t.vao.draw(a.TRIANGLES,t.vertexCount),t.lineWidth>0&&(a.lineWidth(t.lineWidth*r),t.vao.draw(a.LINES,t.lineVertexCount,t.vertexCount)),t.vao.unbind()}}var j=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function M(e,t,n,r,i,a,o){var s=n.gl;if((a===n.projectHasAlpha||o)&&A(t,n,r,i),a===n.hasAlpha||o){e.bind();var c=e.uniforms;c.model=r.model||d,c.view=r.view||d,c.projection=r.projection||d,v[0]=2/s.drawingBufferWidth,v[1]=2/s.drawingBufferHeight,c.screenSize=v,c.highlightId=n.highlightId,c.highlightScale=n.highlightScale,c.fragClipBounds=j,c.clipBounds=n.axes.bounds,c.opacity=n.opacity,c.pickGroup=n.pickId/255,c.pixelRatio=i,n.vao.bind(),n.vao.draw(s.TRIANGLES,n.vertexCount),n.lineWidth>0&&(s.lineWidth(n.lineWidth*i),n.vao.draw(s.LINES,n.lineVertexCount,n.vertexCount)),n.vao.unbind()}}_.draw=function(e){M(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,e,this.pixelRatio,!1,!1)},_.drawTransparent=function(e){M(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,e,this.pixelRatio,!0,!1)},_.drawPick=function(e){M(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,e,1,!0,!0)},_.pick=function(e){if(!e||e.id!==this.pickId)return null;var t=e.value[2]+(e.value[1]<<8)+(e.value[0]<<16);if(t>=this.pointCount||t<0)return null;var n=this.points[t],r=this._selectResult;r.index=t;for(var i=0;i<3;++i)r.position[i]=r.dataCoordinate[i]=n[i];return r},_.highlight=function(e){if(!e)this.highlightId=[1,1,1,1];else{var t=e.index,n=t&255,r=t>>8&255,i=t>>16&255;this.highlightId=[n/255,r/255,i/255,0]}};function N(e,t,n,i){var a=Array.isArray(e)?t<e.length?e[t]:void 0:e;a=u(a);var o=!0;r(a)&&(a=``,o=!1);var s=l(a,n,i);return{mesh:s[0],lines:s[1],bounds:s[2],visible:o}}_.update=function(e){if(e||={},`perspective`in e&&(this.useOrtho=!e.perspective),`orthographic`in e&&(this.useOrtho=!!e.orthographic),`lineWidth`in e&&(this.lineWidth=e.lineWidth),`project`in e)if(Array.isArray(e.project))this.axesProject=e.project;else{var t=!!e.project;this.axesProject=[t,t,t]}if(`projectScale`in e)if(Array.isArray(e.projectScale))this.projectScale=e.projectScale.slice();else{var n=+e.projectScale;this.projectScale=[n,n,n]}if(this.projectHasAlpha=!1,`projectOpacity`in e){if(Array.isArray(e.projectOpacity))this.projectOpacity=e.projectOpacity.slice();else{var n=+e.projectOpacity;this.projectOpacity=[n,n,n]}for(var r=0;r<3;++r)this.projectOpacity[r]=h(this.projectOpacity[r]),this.projectOpacity[r]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,`opacity`in e&&(this.opacity=h(e.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var i=e.position,a=e.font||`normal`,s=e.alignment||[0,0],c,l;if(s.length===2)c=s[0],l=s[1];else{c=[],l=[];for(var r=0;r<s.length;++r)c[r]=s[r][0],l[r]=s[r][1]}var u=[1/0,1/0,1/0],d=[-1/0,-1/0,-1/0],f=e.glyph,p=e.color,m=e.size,g=e.angle,_=e.lineColor,v=-1,y=0,b=0,x=0;if(i.length){x=i.length;count_loop:for(var r=0;r<x;++r){for(var S=i[r],C=0;C<3;++C)if(isNaN(S[C])||!isFinite(S[C]))continue count_loop;var w=N(f,r,a,this.pixelRatio),T=w.mesh,E=w.lines,D=w.bounds;y+=T.cells.length*3,b+=E.edges.length*2}}var O=y+b,k=o.mallocFloat(3*O),A=o.mallocFloat(4*O),j=o.mallocFloat(2*O),M=o.mallocUint32(O);if(O>0){var P=0,F=y,I=[0,0,0,1],L=[0,0,0,1],R=Array.isArray(p)&&Array.isArray(p[0]),z=Array.isArray(_)&&Array.isArray(_[0]);fill_loop:for(var r=0;r<x;++r){v+=1;for(var S=i[r],C=0;C<3;++C){if(isNaN(S[C])||!isFinite(S[C]))continue fill_loop;d[C]=Math.max(d[C],S[C]),u[C]=Math.min(u[C],S[C])}var w=N(f,r,a,this.pixelRatio),T=w.mesh,E=w.lines,D=w.bounds,B=w.visible;if(!B)I=[1,1,1,0];else if(Array.isArray(p)){var V=R?r<p.length?p[r]:[0,0,0,0]:p;if(V.length===3){for(var C=0;C<3;++C)I[C]=V[C];I[3]=1}else if(V.length===4){for(var C=0;C<4;++C)I[C]=V[C];!this.hasAlpha&&V[3]<1&&(this.hasAlpha=!0)}}else I[0]=I[1]=I[2]=0,I[3]=1;if(!B)L=[1,1,1,0];else if(Array.isArray(_)){var V=z?r<_.length?_[r]:[0,0,0,0]:_;if(V.length===3){for(var C=0;C<3;++C)L[C]=V[C];L[C]=1}else if(V.length===4){for(var C=0;C<4;++C)L[C]=V[C];!this.hasAlpha&&V[3]<1&&(this.hasAlpha=!0)}}else L[0]=L[1]=L[2]=0,L[3]=1;var H=.5;B?Array.isArray(m)?H=r<m.length?+m[r]:12:m?H=+m:this.useOrtho&&(H=12):H=0;var U=0;Array.isArray(g)?U=r<g.length?+g[r]:0:g&&(U=+g);for(var W=Math.cos(U),G=Math.sin(U),S=i[r],C=0;C<3;++C)d[C]=Math.max(d[C],S[C]),u[C]=Math.min(u[C],S[C]);var K=c,ee=l,K=0;Array.isArray(c)?K=r<c.length?c[r]:0:c&&(K=c);var ee=0;Array.isArray(l)?ee=r<l.length?l[r]:0:l&&(ee=l),K*=K>0?1-D[0][0]:K<0?1+D[1][0]:1,ee*=ee>0?1-D[0][1]:ee<0?1+D[1][1]:1;for(var q=[K,ee],J=T.cells||[],Y=T.positions||[],C=0;C<J.length;++C)for(var te=J[C],ne=0;ne<3;++ne){for(var re=0;re<3;++re)k[3*P+re]=S[re];for(var re=0;re<4;++re)A[4*P+re]=I[re];M[P]=v;var ie=Y[te[ne]];j[2*P]=H*(W*ie[0]-G*ie[1]+q[0]),j[2*P+1]=H*(G*ie[0]+W*ie[1]+q[1]),P+=1}for(var J=E.edges,Y=E.positions,C=0;C<J.length;++C)for(var te=J[C],ne=0;ne<2;++ne){for(var re=0;re<3;++re)k[3*F+re]=S[re];for(var re=0;re<4;++re)A[4*F+re]=L[re];M[F]=v;var ie=Y[te[ne]];j[2*F]=H*(W*ie[0]-G*ie[1]+q[0]),j[2*F+1]=H*(G*ie[0]+W*ie[1]+q[1]),F+=1}}}this.bounds=[u,d],this.points=i,this.pointCount=i.length,this.vertexCount=y,this.lineVertexCount=b,this.pointBuffer.update(k),this.colorBuffer.update(A),this.glyphBuffer.update(j),this.idBuffer.update(M),o.free(k),o.free(A),o.free(j),o.free(M)},_.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function P(e){var t=e.gl,n=c.createPerspective(t),r=c.createOrtho(t),o=c.createProject(t),s=c.createPickPerspective(t),l=c.createPickOrtho(t),u=c.createPickProject(t),d=i(t),f=i(t),p=i(t),m=i(t),h=new g(t,n,r,o,d,f,p,m,a(t,[{buffer:d,size:3,type:t.FLOAT},{buffer:f,size:4,type:t.FLOAT},{buffer:p,size:2,type:t.FLOAT},{buffer:m,size:4,type:t.UNSIGNED_BYTE,normalized:!0}]),s,l,u);return h.update(e),h}},1884:function(e,t,n){var r=n(6832);t.boxVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),t.boxFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(e,t,n){var r=n(5158),i=n(5827),a=n(1884);e.exports=c;function o(e,t,n){this.plot=e,this.boxBuffer=t,this.boxShader=n,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var s=o.prototype;s.draw=function(){if(this.enabled){var e=this.plot,t=this.selectBox,n=this.borderWidth;this.innerFill;var r=this.innerColor;this.outerFill;var i=this.outerColor,a=this.borderColor,o=e.box,s=e.screenBox,c=e.dataBox,l=e.viewBox,u=e.pixelRatio,d=(t[0]-c[0])*(l[2]-l[0])/(c[2]-c[0])+l[0],f=(t[1]-c[1])*(l[3]-l[1])/(c[3]-c[1])+l[1],p=(t[2]-c[0])*(l[2]-l[0])/(c[2]-c[0])+l[0],m=(t[3]-c[1])*(l[3]-l[1])/(c[3]-c[1])+l[1];if(d=Math.max(d,l[0]),f=Math.max(f,l[1]),p=Math.min(p,l[2]),m=Math.min(m,l[3]),!(p<d||m<f)){o.bind();var h=s[2]-s[0],g=s[3]-s[1];if(this.outerFill&&(o.drawBox(0,0,h,f,i),o.drawBox(0,f,d,m,i),o.drawBox(0,m,h,g,i),o.drawBox(p,f,h,m,i)),this.innerFill&&o.drawBox(d,f,p,m,r),n>0){var _=n*u;o.drawBox(d-_,f-_,p+_,f+_,a),o.drawBox(d-_,m-_,p+_,m+_,a),o.drawBox(d-_,f-_,d+_,m+_,a),o.drawBox(p-_,f-_,p+_,m+_,a)}}}},s.update=function(e){e||={},this.innerFill=!!e.innerFill,this.outerFill=!!e.outerFill,this.innerColor=(e.innerColor||[0,0,0,.5]).slice(),this.outerColor=(e.outerColor||[0,0,0,.5]).slice(),this.borderColor=(e.borderColor||[0,0,0,1]).slice(),this.borderWidth=e.borderWidth||0,this.selectBox=(e.selectBox||this.selectBox).slice()},s.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function c(e,t){var n=e.gl,s=new o(e,i(n,[0,0,0,1,1,0,1,1]),r(n,a.boxVertex,a.boxFragment));return s.update(t),e.addOverlay(s),s}},2611:function(e,t,n){e.exports=d;var r=n(4234),i=n(5306),a=n(5050),o=n(2288).nextPow2,s=function(e,t,n){for(var r=1e8,i=-1,a=-1,o=e.shape[0],s=e.shape[1],c=0;c<o;c++)for(var l=0;l<s;l++){var u=e.get(c,l,0),d=e.get(c,l,1),f=e.get(c,l,2),p=e.get(c,l,3);if(u<255||d<255||f<255||p<255){var m=t-c,h=n-l,g=m*m+h*h;g<r&&(r=g,i=c,a=l)}}return[i,a,r]};function c(e,t,n,r,i){this.coord=[e,t],this.id=n,this.value=r,this.distance=i}function l(e,t,n){this.gl=e,this.fbo=t,this.buffer=n,this._readTimeout=null;var r=this;this._readCallback=function(){r.gl&&(t.bind(),e.readPixels(0,0,t.shape[0],t.shape[1],e.RGBA,e.UNSIGNED_BYTE,r.buffer),r._readTimeout=null)}}var u=l.prototype;Object.defineProperty(u,`shape`,{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(e){if(this.gl){this.fbo.shape=e;var t=this.fbo.shape[0],n=this.fbo.shape[1];if(n*t*4>this.buffer.length){i.free(this.buffer);for(var r=this.buffer=i.mallocUint8(o(n*t*4)),a=0;a<n*t*4;++a)r[a]=255}return e}}}),u.begin=function(){var e=this.gl;this.shape,e&&(this.fbo.bind(),e.clearColor(1,1,1,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT))},u.end=function(){var e=this.gl;e&&(e.bindFramebuffer(e.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},u.query=function(e,t,n){if(!this.gl)return null;var r=this.fbo.shape.slice();e|=0,t|=0,typeof n!=`number`&&(n=1);var i=Math.min(Math.max(e-n,0),r[0])|0,o=Math.min(Math.max(e+n,0),r[0])|0,l=Math.min(Math.max(t-n,0),r[1])|0,u=Math.min(Math.max(t+n,0),r[1])|0;if(o<=i||u<=l)return null;var d=[o-i,u-l],f=a(this.buffer,[d[0],d[1],4],[4,r[0]*4,1],4*(i+r[0]*l)),p=s(f.hi(d[0],d[1],1),n,n),m=p[0],h=p[1];if(m<0||this.radius**2<p[2])return null;var g=f.get(m,h,0),_=f.get(m,h,1),v=f.get(m,h,2),y=f.get(m,h,3);return new c(m+i|0,h+l|0,g,[_,v,y],Math.sqrt(p[2]))},u.dispose=function(){this.gl&&(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function d(e,t){var n=t[0],a=t[1];return new l(e,r(e,n,a,{}),i.mallocUint8(n*a*4))}},5158:function(e,t,n){var r=n(9016),i=n(4280),a=n(3984),o=n(1628),s=n(2631),c=n(9068);function l(e){this.gl=e,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var u=l.prototype;u.bind=function(){this.program||this._relink();var e,t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),n=this.gl.lastAttribCount;if(t>n)for(e=n;e<t;e++)this.gl.enableVertexAttribArray(e);else if(n>t)for(e=t;e<n;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=t,this.gl.useProgram(this.program)},u.dispose=function(){for(var e=this.gl.lastAttribCount,t=0;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function d(e,t){return e.name<t.name?-1:1}u.update=function(e,t,n,l){if(!t||arguments.length===1){var u=e;e=u.vertex,t=u.fragment,n=u.uniforms,l=u.attributes}var f=this,p=f.gl,m=f._vref;f._vref=o.shader(p,p.VERTEX_SHADER,e),m&&m.dispose(),f.vertShader=f._vref.shader;var h=this._fref;if(f._fref=o.shader(p,p.FRAGMENT_SHADER,t),h&&h.dispose(),f.fragShader=f._fref.shader,!n||!l){var g=p.createProgram();if(p.attachShader(g,f.fragShader),p.attachShader(g,f.vertShader),p.linkProgram(g),!p.getProgramParameter(g,p.LINK_STATUS)){var _=p.getProgramInfoLog(g);throw new c(_,`Error linking program:`+_)}n||=s.uniforms(p,g),l||=s.attributes(p,g),p.deleteProgram(g)}l=l.slice(),l.sort(d);var v=[],y=[],b=[],x;for(x=0;x<l.length;++x){var S=l[x];if(S.type.indexOf(`mat`)>=0){for(var C=S.type.charAt(S.type.length-1)|0,w=Array(C),T=0;T<C;++T)w[T]=b.length,y.push(S.name+`[`+T+`]`),typeof S.location==`number`?b.push(S.location+T):Array.isArray(S.location)&&S.location.length===C&&typeof S.location[T]==`number`?b.push(S.location[T]|0):b.push(-1);v.push({name:S.name,type:S.type,locations:w})}else v.push({name:S.name,type:S.type,locations:[b.length]}),y.push(S.name),typeof S.location==`number`?b.push(S.location|0):b.push(-1)}var E=0;for(x=0;x<b.length;++x)if(b[x]<0){for(;b.indexOf(E)>=0;)E+=1;b[x]=E}var D=Array(n.length);function O(){f.program=o.program(p,f._vref,f._fref,y,b);for(var e=0;e<n.length;++e)D[e]=p.getUniformLocation(f.program,n[e].name)}O(),f._relink=O,f.types={uniforms:a(n),attributes:a(l)},f.attributes=i(p,f,v,b),Object.defineProperty(f,`uniforms`,r(p,f,n,D))};function f(e,t,n,r,i){var a=new l(e);return a.update(t,n,r,i),a}e.exports=f},9068:function(e){function t(e,t,n){this.shortMessage=t||``,this.longMessage=n||``,this.rawError=e||``,this.message=`gl-shader: `+(t||e||``)+(n?`
`+n:``),this.stack=Error().stack}t.prototype=Error(),t.prototype.name=`GLError`,t.prototype.constructor=t,e.exports=t},4280:function(e,t,n){e.exports=l;var r=n(9068);function i(e,t,n,r,i,a){this._gl=e,this._wrapper=t,this._index=n,this._locations=r,this._dimension=i,this._constFunc=a}var a=i.prototype;a.pointer=function(e,t,n,r){var i=this,a=i._gl,o=i._locations[i._index];a.vertexAttribPointer(o,i._dimension,e||a.FLOAT,!!t,n||0,r||0),a.enableVertexAttribArray(o)},a.set=function(e,t,n,r){return this._constFunc(this._locations[this._index],e,t,n,r)},Object.defineProperty(a,`location`,{get:function(){return this._locations[this._index]},set:function(e){return e!==this._locations[this._index]&&(this._locations[this._index]=e|0,this._wrapper.program=null),e|0}});var o=[function(e,t,n){return n.length===void 0?e.vertexAttrib1f(t,n):e.vertexAttrib1fv(t,n)},function(e,t,n,r){return n.length===void 0?e.vertexAttrib2f(t,n,r):e.vertexAttrib2fv(t,n)},function(e,t,n,r,i){return n.length===void 0?e.vertexAttrib3f(t,n,r,i):e.vertexAttrib3fv(t,n)},function(e,t,n,r,i,a){return n.length===void 0?e.vertexAttrib4f(t,n,r,i,a):e.vertexAttrib4fv(t,n)}];function s(e,t,n,r,a,s,c){var l=o[a],u=new i(e,t,n,r,a,l);Object.defineProperty(s,c,{set:function(t){return e.disableVertexAttribArray(r[n]),l(e,r[n],t),t},get:function(){return u},enumerable:!0})}function c(e,t,n,r,i,a,o){for(var c=Array(i),l=Array(i),u=0;u<i;++u)s(e,t,n[u],r,i,c,u),l[u]=c[u];Object.defineProperty(c,`location`,{set:function(e){if(Array.isArray(e))for(var t=0;t<i;++t)l[t].location=e[t];else for(var t=0;t<i;++t)l[t].location=e+t;return e},get:function(){for(var e=Array(i),t=0;t<i;++t)e[t]=r[n[t]];return e},enumerable:!0}),c.pointer=function(t,a,o,s){t||=e.FLOAT,a=!!a,o||=i*i,s||=0;for(var c=0;c<i;++c){var l=r[n[c]];e.vertexAttribPointer(l,i,t,a,o,s+c*i),e.enableVertexAttribArray(l)}};var d=Array(i),f=e[`vertexAttrib`+i+`fv`];Object.defineProperty(a,o,{set:function(t){for(var a=0;a<i;++a){var o=r[n[a]];if(e.disableVertexAttribArray(o),Array.isArray(t[0]))f.call(e,o,t[a]);else{for(var s=0;s<i;++s)d[s]=t[i*a+s];f.call(e,o,d)}}return t},get:function(){return c},enumerable:!0})}function l(e,t,n,i){for(var a={},o=0,l=n.length;o<l;++o){var u=n[o],d=u.name,f=u.type,p=u.locations;switch(f){case`bool`:case`int`:case`float`:s(e,t,p[0],i,1,a,d);break;default:if(f.indexOf(`vec`)>=0){var m=f.charCodeAt(f.length-1)-48;if(m<2||m>4)throw new r(``,`Invalid data type for attribute `+d+`: `+f);s(e,t,p[0],i,m,a,d)}else if(f.indexOf(`mat`)>=0){var m=f.charCodeAt(f.length-1)-48;if(m<2||m>4)throw new r(``,`Invalid data type for attribute `+d+`: `+f);c(e,t,p,i,m,a,d)}else throw new r(``,`Unknown data type for attribute `+d+`: `+f);break}}return a}},9016:function(e,t,n){var r=n(3984),i=n(9068);e.exports=s;function a(e){return function(){return e}}function o(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t;return n}function s(e,t,n,s){function c(e){return function(t,n,r){return t.getUniform(n.program,r[e])}}function l(t){return function(r){for(var a=u(``,t),o=0;o<a.length;++o){var c=a[o],l=c[0],d=c[1];if(s[d]){var f=r;if(typeof l==`string`&&(l.indexOf(`.`)===0||l.indexOf(`[`)===0)){var p=l;if(l.indexOf(`.`)===0&&(p=l.slice(1)),p.indexOf(`]`)===p.length-1){var m=p.indexOf(`[`),h=p.slice(0,m),g=p.slice(m+1,p.length-1);f=h?r[h][g]:r[g]}else f=r[p]}var _=n[d].type,v;switch(_){case`bool`:case`int`:case`sampler2D`:case`samplerCube`:e.uniform1i(s[d],f);break;case`float`:e.uniform1f(s[d],f);break;default:var y=_.indexOf(`vec`);if(0<=y&&y<=1&&_.length===4+y){if(v=_.charCodeAt(_.length-1)-48,v<2||v>4)throw new i(``,`Invalid data type`);switch(_.charAt(0)){case`b`:case`i`:e[`uniform`+v+`iv`](s[d],f);break;case`v`:e[`uniform`+v+`fv`](s[d],f);break;default:throw new i(``,`Unrecognized data type for vector `+name+`: `+_)}}else if(_.indexOf(`mat`)===0&&_.length===4){if(v=_.charCodeAt(_.length-1)-48,v<2||v>4)throw new i(``,`Invalid uniform dimension type for matrix `+name+`: `+_);e[`uniformMatrix`+v+`fv`](s[d],!1,f);break}else throw new i(``,`Unknown uniform data type for `+name+`: `+_)}}}}}function u(e,t){if(typeof t!=`object`)return[[e,t]];var n=[];for(var r in t){var i=t[r],a=e;parseInt(r)+``===r?a+=`[`+r+`]`:a+=`.`+r,typeof i==`object`?n.push.apply(n,u(a,i)):n.push([a,i])}return n}function d(e){switch(e){case`bool`:return!1;case`int`:case`sampler2D`:case`samplerCube`:return 0;case`float`:return 0;default:var t=e.indexOf(`vec`);if(0<=t&&t<=1&&e.length===4+t){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new i(``,`Invalid data type`);return e.charAt(0)===`b`?o(n,!1):o(n,0)}else if(e.indexOf(`mat`)===0&&e.length===4){var n=e.charCodeAt(e.length-1)-48;if(n<2||n>4)throw new i(``,`Invalid uniform dimension type for matrix `+name+`: `+e);return o(n*n,0)}else throw new i(``,`Unknown uniform data type for `+name+`: `+e)}}function f(e,t,r){if(typeof r==`object`){var i=p(r);Object.defineProperty(e,t,{get:a(i),set:l(r),enumerable:!0,configurable:!1})}else s[r]?Object.defineProperty(e,t,{get:c(r),set:l(r),enumerable:!0,configurable:!1}):e[t]=d(n[r].type)}function p(e){var t;if(Array.isArray(e)){t=Array(e.length);for(var n=0;n<e.length;++n)f(t,n,e[n])}else for(var r in t={},e)f(t,r,e[r]);return t}var m=r(n,!0);return{get:a(p(m)),set:l(m),enumerable:!0,configurable:!0}}},3984:function(e){e.exports=t;function t(e,t){for(var n={},r=0;r<e.length;++r)for(var i=e[r].name.split(`.`),a=n,o=0;o<i.length;++o){var s=i[o].split(`[`);if(s.length>1){s[0]in a||(a[s[0]]=[]),a=a[s[0]];for(var c=1;c<s.length;++c){var l=parseInt(s[c]);c<s.length-1||o<i.length-1?(l in a||(c<s.length-1?a[l]=[]:a[l]={}),a=a[l]):t?a[l]=r:a[l]=e[r].type}}else o<i.length-1?(s[0]in a||(a[s[0]]={}),a=a[s[0]]):t?a[s[0]]=r:a[s[0]]=e[r].type}return n}},2631:function(e,t){t.uniforms=a,t.attributes=o;var n={FLOAT:`float`,FLOAT_VEC2:`vec2`,FLOAT_VEC3:`vec3`,FLOAT_VEC4:`vec4`,INT:`int`,INT_VEC2:`ivec2`,INT_VEC3:`ivec3`,INT_VEC4:`ivec4`,BOOL:`bool`,BOOL_VEC2:`bvec2`,BOOL_VEC3:`bvec3`,BOOL_VEC4:`bvec4`,FLOAT_MAT2:`mat2`,FLOAT_MAT3:`mat3`,FLOAT_MAT4:`mat4`,SAMPLER_2D:`sampler2D`,SAMPLER_CUBE:`samplerCube`},r=null;function i(e,t){if(!r){var i=Object.keys(n);r={};for(var a=0;a<i.length;++a){var o=i[a];r[e[o]]=n[o]}}return r[t]}function a(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=[],a=0;a<n;++a){var o=e.getActiveUniform(t,a);if(o){var s=i(e,o.type);if(o.size>1)for(var c=0;c<o.size;++c)r.push({name:o.name.replace(`[0]`,`[`+c+`]`),type:s});else r.push({name:o.name,type:s})}}return r}function o(e,t){for(var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=[],a=0;a<n;++a){var o=e.getActiveAttrib(t,a);o&&r.push({name:o.name,type:i(e,o.type)})}return r}},1628:function(e,t,n){t.shader=p,t.program=m;var r=n(9068),i=n(3530),a=new(typeof WeakMap>`u`?n(4037):WeakMap),o=0;function s(e,t,n,r,i,a,o){this.id=e,this.src=t,this.type=n,this.shader=r,this.count=a,this.programs=[],this.cache=o}s.prototype.dispose=function(){if(--this.count===0){for(var e=this.cache,t=e.gl,n=this.programs,r=0,i=n.length;r<i;++r){var a=e.programs[n[r]];a&&(delete e.programs[r],t.deleteProgram(a))}t.deleteShader(this.shader),delete e.shaders[this.type===t.FRAGMENT_SHADER|0][this.src]}};function c(e){this.gl=e,this.shaders=[{},{}],this.programs={}}var l=c.prototype;function u(e,t,n){var a=e.createShader(t);if(e.shaderSource(a,n),e.compileShader(a),!e.getShaderParameter(a,e.COMPILE_STATUS)){var o=e.getShaderInfoLog(a);try{var s=i(o,n,t)}catch(e){throw console.warn(`Failed to format compiler error: `+e),new r(o,`Error compiling shader:
`+o)}throw new r(o,s.short,s.long)}return a}l.getShaderReference=function(e,t){var n=this.gl,r=this.shaders[e===n.FRAGMENT_SHADER|0],i=r[t];if(!i||!n.isShader(i.shader)){var a=u(n,e,t);i=r[t]=new s(o++,t,e,a,[],1,this)}else i.count+=1;return i};function d(e,t,n,i,a){var o=e.createProgram();e.attachShader(o,t),e.attachShader(o,n);for(var s=0;s<i.length;++s)e.bindAttribLocation(o,a[s],i[s]);if(e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){var c=e.getProgramInfoLog(o);throw new r(c,`Error linking program: `+c)}return o}l.getProgram=function(e,t,n,r){var i=[e.id,t.id,n.join(`:`),r.join(`:`)].join(`@`),a=this.programs[i];return(!a||!this.gl.isProgram(a))&&(this.programs[i]=a=d(this.gl,e.shader,t.shader,n,r),e.programs.push(i),t.programs.push(i)),a};function f(e){var t=a.get(e);return t||(t=new c(e),a.set(e,t)),t}function p(e,t,n){return f(e).getShaderReference(t,n)}function m(e,t,n,r,i){return f(e).getProgram(t,n,r,i)}},3050:function(e){e.exports=r;function t(e){this.plot=e,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var n=t.prototype;n.update=function(e){e||={},this.enable=(e.enable||[!0,!0,!1,!1]).slice(),this.width=(e.width||[1,1,1,1]).slice(),this.color=(e.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(e){return e.slice()}),this.center=(e.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},n.draw=function(){var e=this.enable,t=this.width,n=this.color,r=this.center,i=this.plot,a=i.line,o=i.dataBox,s=i.viewBox;if(a.bind(),o[0]<=r[0]&&r[0]<=o[2]&&o[1]<=r[1]&&r[1]<=o[3]){var c=s[0]+(r[0]-o[0])/(o[2]-o[0])*(s[2]-s[0]),l=s[1]+(r[1]-o[1])/(o[3]-o[1])*(s[3]-s[1]);e[0]&&a.drawLine(c,l,s[0],l,t[0],n[0]),e[1]&&a.drawLine(c,l,c,s[1],t[1],n[1]),e[2]&&a.drawLine(c,l,s[2],l,t[2],n[2]),e[3]&&a.drawLine(c,l,c,s[3],t[3],n[3])}},n.dispose=function(){this.plot.removeOverlay(this)};function r(e,n){var r=new t(e);return r.update(n),e.addOverlay(r),r}},3540:function(e,t,n){var r=n(6832),i=n(5158),a=r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),o=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);e.exports=function(e){return i(e,a,o,null,[{name:`position`,type:`vec3`},{name:`color`,type:`vec3`},{name:`weight`,type:`float`}])}},6496:function(e,t,n){var r=n(5827),i=n(2944),a=n(3540);e.exports=f;var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(e,t,n,r){this.gl=e,this.buffer=t,this.vao=n,this.shader=r,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var c=s.prototype,l=[0,0,0],u=[0,0,0],d=[0,0];c.isTransparent=function(){return!1},c.drawTransparent=function(e){},c.draw=function(e){var t=this.gl,n=this.vao,r=this.shader;n.bind(),r.bind();var i=e.model||o,a=e.view||o,s=e.projection||o,c;this.axes&&(c=this.axes.lastCubeProps.axis);for(var f=l,p=u,m=0;m<3;++m)c&&c[m]<0?(f[m]=this.bounds[0][m],p[m]=this.bounds[1][m]):(f[m]=this.bounds[1][m],p[m]=this.bounds[0][m]);d[0]=t.drawingBufferWidth,d[1]=t.drawingBufferHeight,r.uniforms.model=i,r.uniforms.view=a,r.uniforms.projection=s,r.uniforms.coordinates=[this.position,f,p],r.uniforms.colors=this.colors,r.uniforms.screenShape=d;for(var m=0;m<3;++m)r.uniforms.lineWidth=this.lineWidth[m]*this.pixelRatio,this.enabled[m]&&(n.draw(t.TRIANGLES,6,6*m),this.drawSides[m]&&n.draw(t.TRIANGLES,12,18+12*m));n.unbind()},c.update=function(e){e&&(`bounds`in e&&(this.bounds=e.bounds),`position`in e&&(this.position=e.position),`lineWidth`in e&&(this.lineWidth=e.lineWidth),`colors`in e&&(this.colors=e.colors),`enabled`in e&&(this.enabled=e.enabled),`drawSides`in e&&(this.drawSides=e.drawSides))},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function f(e,t){var n=[];function o(e,t,r,i,a,o){var s=[e,t,r,0,0,0,1];s[i+3]=1,s[i]=a,n.push.apply(n,s),s[6]=-1,n.push.apply(n,s),s[i]=o,n.push.apply(n,s),n.push.apply(n,s),s[6]=1,n.push.apply(n,s),s[i]=a,n.push.apply(n,s)}o(0,0,0,0,0,1),o(0,0,0,1,0,1),o(0,0,0,2,0,1),o(1,0,0,1,-1,1),o(1,0,0,2,-1,1),o(0,1,0,0,-1,1),o(0,1,0,2,-1,1),o(0,0,1,0,-1,1),o(0,0,1,1,-1,1);var c=r(e,n),l=i(e,[{type:e.FLOAT,buffer:c,size:3,offset:0,stride:28},{type:e.FLOAT,buffer:c,size:3,offset:12,stride:28},{type:e.FLOAT,buffer:c,size:1,offset:24,stride:28}]),u=a(e);u.attributes.position.location=0,u.attributes.color.location=1,u.attributes.weight.location=2;var d=new s(e,c,l,u);return d.update(t),d}},9578:function(e,t,n){var r=n(6832),i=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),a=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),o=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);t.meshShader={vertex:i,fragment:a,attributes:[{name:`position`,type:`vec4`},{name:`color`,type:`vec4`},{name:`uv`,type:`vec2`},{name:`vector`,type:`vec4`}]},t.pickShader={vertex:o,fragment:s,attributes:[{name:`position`,type:`vec4`},{name:`id`,type:`vec4`},{name:`vector`,type:`vec4`}]}},7307:function(e,t,n){var r=n(2858),i=n(4020),a=[`xyz`,`xzy`,`yxz`,`yzx`,`zxy`,`zyx`],o=function(e,t,n,a){for(var o=e.points,s=e.velocities,c=e.divergences,l=[],u=[],d=[],f=[],p=[],m=[],h=0,g=0,_=i.create(),v=i.create(),y=8,b=0;b<o.length;b++){var x=o[b],S=s[b],C=c[b];t===0&&(C=n*.05),g=r.length(S)/a,_=i.create(),r.copy(_,S),_[3]=C;for(var w=0;w<y;w++)p[w]=[x[0],x[1],x[2],w];if(f.length>0)for(var w=0;w<y;w++){var T=(w+1)%y;l.push(f[w],p[w],p[T],p[T],f[T],f[w]),d.push(v,_,_,_,v,v),m.push(h,g,g,g,h,h);var E=l.length;u.push([E-6,E-5,E-4],[E-3,E-2,E-1])}var D=f;f=p,p=D;var O=v;v=_,_=O;var k=h;h=g,g=k}return{positions:l,cells:u,vectors:d,vertexIntensity:m}},s=function(e,t,n,i){for(var a=0,s=0;s<e.length;s++)for(var c=e[s].velocities,l=0;l<c.length;l++)a=Math.max(a,r.length(c[l]));for(var u=e.map(function(e){return o(e,n,i,a)}),d=[],f=[],p=[],m=[],s=0;s<u.length;s++){var h=u[s],g=d.length;d=d.concat(h.positions),p=p.concat(h.vectors),m=m.concat(h.vertexIntensity);for(var l=0;l<h.cells.length;l++){var _=h.cells[l],v=[];f.push(v);for(var y=0;y<_.length;y++)v.push(_[y]+g)}}return{positions:d,cells:f,vectors:p,vertexIntensity:m,colormap:t}},c=function(e,t){var n=e.length,r;for(r=0;r<n;r++){var i=e[r];if(i===t)return r;if(i>t)return r-1}return r},l=function(e,t,n){return e<t?t:e>n?n:e},u=function(e,t,n){var i=t.vectors,a=t.meshgrid,o=e[0],s=e[1],u=e[2],d=a[0].length,f=a[1].length,p=a[2].length,m=c(a[0],o),h=c(a[1],s),g=c(a[2],u),_=m+1,v=h+1,y=g+1;if(m=l(m,0,d-1),_=l(_,0,d-1),h=l(h,0,f-1),v=l(v,0,f-1),g=l(g,0,p-1),y=l(y,0,p-1),m<0||h<0||g<0||_>d-1||v>f-1||y>p-1)return r.create();var b=a[0][m],x=a[0][_],S=a[1][h],C=a[1][v],w=a[2][g],T=a[2][y],E=(o-b)/(x-b),D=(s-S)/(C-S),O=(u-w)/(T-w);isFinite(E)||(E=.5),isFinite(D)||(D=.5),isFinite(O)||(O=.5);var k,A,j,M,N,P;switch(n.reversedX&&(m=d-1-m,_=d-1-_),n.reversedY&&(h=f-1-h,v=f-1-v),n.reversedZ&&(g=p-1-g,y=p-1-y),n.filled){case 5:N=g,P=y,j=h*p,M=v*p,k=m*p*f,A=_*p*f;break;case 4:N=g,P=y,k=m*p,A=_*p,j=h*p*d,M=v*p*d;break;case 3:j=h,M=v,N=g*f,P=y*f,k=m*f*p,A=_*f*p;break;case 2:j=h,M=v,k=m*f,A=_*f,N=g*f*d,P=y*f*d;break;case 1:k=m,A=_,N=g*d,P=y*d,j=h*d*p,M=v*d*p;break;default:k=m,A=_,j=h*d,M=v*d,N=g*d*f,P=y*d*f;break}var F=i[k+j+N],I=i[k+j+P],L=i[k+M+N],R=i[k+M+P],z=i[A+j+N],B=i[A+j+P],V=i[A+M+N],H=i[A+M+P],U=r.create(),W=r.create(),G=r.create(),K=r.create();r.lerp(U,F,z,E),r.lerp(W,I,B,E),r.lerp(G,L,V,E),r.lerp(K,R,H,E);var ee=r.create(),q=r.create();r.lerp(ee,U,G,D),r.lerp(q,W,K,D);var J=r.create();return r.lerp(J,ee,q,O),J},d=function(e){var t=1/0;e.sort(function(e,t){return e-t});for(var n=e.length,r=1;r<n;r++){var i=Math.abs(e[r]-e[r-1]);i<t&&(t=i)}return t},f=function(e){for(var t=[],n=[],r=[],i={},a={},o={},s=e.length,c=0;c<s;c++){var l=e[c],u=l[0],f=l[1],p=l[2];i[u]||(t.push(u),i[u]=!0),a[f]||(n.push(f),a[f]=!0),o[p]||(r.push(p),o[p]=!0)}var m=d(t),h=d(n),g=d(r),_=Math.min(m,h,g);return isFinite(_)?_:1};e.exports=function(e,t){var n=e.startingPositions,i=e.maxLength||1e3,o=e.tubeSize||1,c=e.absoluteTubeSize,l=e.gridFill||`+x+y+z`,d={};l.indexOf(`-x`)!==-1&&(d.reversedX=!0),l.indexOf(`-y`)!==-1&&(d.reversedY=!0),l.indexOf(`-z`)!==-1&&(d.reversedZ=!0),d.filled=a.indexOf(l.replace(/-/g,``).replace(/\+/g,``));var p=e.getVelocity||function(t){return u(t,e,d)},m=e.getDivergence||function(e,t){var n=r.create(),i=1e-4;r.add(n,e,[i,0,0]);var a=p(n);r.subtract(a,a,t),r.scale(a,a,1/i),r.add(n,e,[0,i,0]);var o=p(n);r.subtract(o,o,t),r.scale(o,o,1/i),r.add(n,e,[0,0,i]);var s=p(n);return r.subtract(s,s,t),r.scale(s,s,1/i),r.add(n,a,o),r.add(n,n,s),n},h=[],g=t[0][0],_=t[0][1],v=t[0][2],y=t[1][0],b=t[1][1],x=t[1][2],S=function(e){var t=e[0],n=e[1],r=e[2];return!(t<g||t>y||n<_||n>b||r<v||r>x)},C=10*r.distance(t[0],t[1])/i,w=C*C,T=1,E=0,D=n.length;D>1&&(T=f(n));for(var O=0;O<D;O++){var k=r.create();r.copy(k,n[O]);var A=[k],j=[],M=p(k),N=k;j.push(M);var P=[],F=m(k,M),I=r.length(F);isFinite(I)&&I>E&&(E=I),P.push(I),h.push({points:A,velocities:j,divergences:P});for(var L=0;L<i*100&&A.length<i&&S(k);){L++;var R=r.clone(M),z=r.squaredLength(R);if(z===0)break;if(z>w&&r.scale(R,R,C/Math.sqrt(z)),r.add(R,R,k),M=p(R),r.squaredDistance(N,R)-w>-1e-4*w){A.push(R),N=R,j.push(M);var F=m(R,M),I=r.length(F);isFinite(I)&&I>E&&(E=I),P.push(I)}k=R}}var B=s(h,e.colormap,E,T);return c?B.tubeScale=c:(E===0&&(E=1),B.tubeScale=o*.5*T/E),B};var p=n(9578),m=n(1140).createMesh;e.exports.createTubeMesh=function(e,t){return m(e,t,{shaders:p,traceType:`streamtube`})}},9054:function(e,t,n){var r=n(5158),i=n(6832),a=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),o=i([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),s=i([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),c=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);t.createShader=function(e){var t=r(e,a,o,null,[{name:`uv`,type:`vec4`},{name:`f`,type:`vec3`},{name:`normal`,type:`vec3`}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t.attributes.normal.location=2,t},t.createPickShader=function(e){var t=r(e,a,c,null,[{name:`uv`,type:`vec4`},{name:`f`,type:`vec3`},{name:`normal`,type:`vec3`}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t.attributes.normal.location=2,t},t.createContourShader=function(e){var t=r(e,s,o,null,[{name:`uv`,type:`vec4`},{name:`f`,type:`float`}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t},t.createPickContourShader=function(e){var t=r(e,s,c,null,[{name:`uv`,type:`vec4`},{name:`f`,type:`float`}]);return t.attributes.uv.location=0,t.attributes.f.location=1,t}},3754:function(e,t,n){e.exports=H;var r=n(2288),i=n(5827),a=n(2944),o=n(8931),s=n(5306),c=n(9156),l=n(7498),u=n(7382),d=n(5050),f=n(4162),p=n(104),m=n(7437),h=n(5070),g=n(9144),_=n(9054),v=_.createShader,y=_.createContourShader,b=_.createPickShader,x=_.createPickContourShader,S=40,C=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],w=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],T=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var e=0;e<3;++e){var t=T[e],n=(e+1)%3,r=(e+2)%3;t[n+0]=1,t[r+3]=1,t[e+6]=1}})();function E(e,t,n,r,i){this.position=e,this.index=t,this.uv=n,this.level=r,this.dataCoordinate=i}var D=256;function O(e,t,n,r,i,a,o,c,l,u,f,p,m,h,g){this.gl=e,this.shape=t,this.bounds=n,this.objectOffset=g,this.intensityBounds=[],this._shader=r,this._pickShader=i,this._coordinateBuffer=a,this._vao=o,this._colorMap=c,this._contourShader=l,this._contourPickShader=u,this._contourBuffer=f,this._contourVAO=p,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new E([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=m,this._dynamicVAO=h,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[d(s.mallocFloat(1024),[0,0]),d(s.mallocFloat(1024),[0,0]),d(s.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var k=O.prototype;k.genColormap=function(e,t){var n=!1,r=u([c({colormap:e,nshades:D,format:`rgba`}).map(function(e,r){var i=t?A(r/255,t):e[3];return i<1&&(n=!0),[e[0],e[1],e[2],255*i]})]);return l.divseq(r,255),this.hasAlphaScale=n,r},k.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},k.isOpaque=function(){return!this.isTransparent()},k.pickSlots=1,k.setPickBase=function(e){this.pickId=e};function A(e,t){if(!t||!t.length)return 1;for(var n=0;n<t.length;++n){if(t.length<2)return 1;if(t[n][0]===e)return t[n][1];if(t[n][0]>e&&n>0){var r=(t[n][0]-e)/(t[n][0]-t[n-1][0]);return t[n][1]*(1-r)+r*t[n-1][1]}}return 1}var j=[0,0,0],M={showSurface:!1,showContour:!1,projections:[C.slice(),C.slice(),C.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function N(e,t){var n,r,i,a=t.axes&&t.axes.lastCubeProps.axis||j,o=t.showSurface,s=t.showContour;for(n=0;n<3;++n)for(o||=t.surfaceProject[n],r=0;r<3;++r)s||=t.contourProject[n][r];for(n=0;n<3;++n){var c=M.projections[n];for(r=0;r<16;++r)c[r]=0;for(r=0;r<4;++r)c[5*r]=1;c[5*n]=0,c[12+n]=t.axesBounds[+(a[n]>0)][n],p(c,e.model,c);var l=M.clipBounds[n];for(i=0;i<2;++i)for(r=0;r<3;++r)l[i][r]=e.clipBounds[i][r];l[0][n]=-1e8,l[1][n]=1e8}return M.showSurface=o,M.showContour=s,M}var P={model:C,view:C,projection:C,inverseModel:C.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},F=C.slice(),I=[1,0,0,0,1,0,0,0,1];function L(e,t){e||={};var n=this.gl;n.disable(n.CULL_FACE),this._colorMap.bind(0);var r=P;r.model=e.model||C,r.view=e.view||C,r.projection=e.projection||C,r.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],r.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],r.objectOffset=this.objectOffset,r.contourColor=this.contourColor[0],r.inverseModel=m(r.inverseModel,r.model);for(var i=0;i<2;++i)for(var a=r.clipBounds[i],o=0;o<3;++o)a[o]=Math.min(Math.max(this.clipBounds[i][o],-1e8),1e8);r.kambient=this.ambientLight,r.kdiffuse=this.diffuseLight,r.kspecular=this.specularLight,r.roughness=this.roughness,r.fresnel=this.fresnel,r.opacity=this.opacity,r.height=0,r.permutation=I,r.vertexColor=this.vertexColor;var s=F;for(p(s,r.view,r.model),p(s,r.projection,s),m(s,s),i=0;i<3;++i)r.eyePosition[i]=s[12+i]/s[15];var c=s[15];for(i=0;i<3;++i)c+=this.lightPosition[i]*s[4*i+3];for(i=0;i<3;++i){var l=s[12+i];for(o=0;o<3;++o)l+=s[4*o+i]*this.lightPosition[o];r.lightPosition[i]=l/c}var u=N(r,this);if(u.showSurface){for(this._shader.bind(),this._shader.uniforms=r,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(n.TRIANGLES,this._vertexCount),i=0;i<3;++i)!this.surfaceProject[i]||!this.vertexCount||(this._shader.uniforms.model=u.projections[i],this._shader.uniforms.clipBounds=u.clipBounds[i],this._vao.draw(n.TRIANGLES,this._vertexCount));this._vao.unbind()}if(u.showContour){var d=this._contourShader;r.kambient=1,r.kdiffuse=0,r.kspecular=0,r.opacity=1,d.bind(),d.uniforms=r;var f=this._contourVAO;for(f.bind(),i=0;i<3;++i)for(d.uniforms.permutation=T[i],n.lineWidth(this.contourWidth[i]*this.pixelRatio),o=0;o<this.contourLevels[i].length;++o)o===this.highlightLevel[i]?(d.uniforms.contourColor=this.highlightColor[i],d.uniforms.contourTint=this.highlightTint[i]):(o===0||o-1===this.highlightLevel[i])&&(d.uniforms.contourColor=this.contourColor[i],d.uniforms.contourTint=this.contourTint[i]),this._contourCounts[i][o]&&(d.uniforms.height=this.contourLevels[i][o],f.draw(n.LINES,this._contourCounts[i][o],this._contourOffsets[i][o]));for(i=0;i<3;++i)for(d.uniforms.model=u.projections[i],d.uniforms.clipBounds=u.clipBounds[i],o=0;o<3;++o)if(this.contourProject[i][o]){d.uniforms.permutation=T[o],n.lineWidth(this.contourWidth[o]*this.pixelRatio);for(var h=0;h<this.contourLevels[o].length;++h)h===this.highlightLevel[o]?(d.uniforms.contourColor=this.highlightColor[o],d.uniforms.contourTint=this.highlightTint[o]):(h===0||h-1===this.highlightLevel[o])&&(d.uniforms.contourColor=this.contourColor[o],d.uniforms.contourTint=this.contourTint[o]),this._contourCounts[o][h]&&(d.uniforms.height=this.contourLevels[o][h],f.draw(n.LINES,this._contourCounts[o][h],this._contourOffsets[o][h]))}for(f.unbind(),f=this._dynamicVAO,f.bind(),i=0;i<3;++i)if(this._dynamicCounts[i]!==0)for(d.uniforms.model=r.model,d.uniforms.clipBounds=r.clipBounds,d.uniforms.permutation=T[i],n.lineWidth(this.dynamicWidth[i]*this.pixelRatio),d.uniforms.contourColor=this.dynamicColor[i],d.uniforms.contourTint=this.dynamicTint[i],d.uniforms.height=this.dynamicLevel[i],f.draw(n.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]),o=0;o<3;++o)this.contourProject[o][i]&&(d.uniforms.model=u.projections[o],d.uniforms.clipBounds=u.clipBounds[o],f.draw(n.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]));f.unbind()}}k.draw=function(e){return L.call(this,e,!1)},k.drawTransparent=function(e){return L.call(this,e,!0)};var R={model:C,view:C,projection:C,inverseModel:C,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};k.drawPick=function(e){e||={};var t=this.gl;t.disable(t.CULL_FACE);var n=R;n.model=e.model||C,n.view=e.view||C,n.projection=e.projection||C,n.shape=this._field[2].shape,n.pickId=this.pickId/255,n.lowerBound=this.bounds[0],n.upperBound=this.bounds[1],n.objectOffset=this.objectOffset,n.permutation=I;for(var r=0;r<2;++r)for(var i=n.clipBounds[r],a=0;a<3;++a)i[a]=Math.min(Math.max(this.clipBounds[r][a],-1e8),1e8);var o=N(n,this);if(o.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=n,this._vao.bind(),this._vao.draw(t.TRIANGLES,this._vertexCount),r=0;r<3;++r)this.surfaceProject[r]&&(this._pickShader.uniforms.model=o.projections[r],this._pickShader.uniforms.clipBounds=o.clipBounds[r],this._vao.draw(t.TRIANGLES,this._vertexCount));this._vao.unbind()}if(o.showContour){var s=this._contourPickShader;s.bind(),s.uniforms=n;var c=this._contourVAO;for(c.bind(),a=0;a<3;++a)for(t.lineWidth(this.contourWidth[a]*this.pixelRatio),s.uniforms.permutation=T[a],r=0;r<this.contourLevels[a].length;++r)this._contourCounts[a][r]&&(s.uniforms.height=this.contourLevels[a][r],c.draw(t.LINES,this._contourCounts[a][r],this._contourOffsets[a][r]));for(r=0;r<3;++r)for(s.uniforms.model=o.projections[r],s.uniforms.clipBounds=o.clipBounds[r],a=0;a<3;++a)if(this.contourProject[r][a]){s.uniforms.permutation=T[a],t.lineWidth(this.contourWidth[a]*this.pixelRatio);for(var l=0;l<this.contourLevels[a].length;++l)this._contourCounts[a][l]&&(s.uniforms.height=this.contourLevels[a][l],c.draw(t.LINES,this._contourCounts[a][l],this._contourOffsets[a][l]))}c.unbind()}},k.pick=function(e){if(!e||e.id!==this.pickId)return null;var t=this._field[2].shape,n=this._pickResult,r=t[0]*(e.value[0]+(e.value[2]>>4)/16)/255,i=Math.floor(r),a=r-i,o=t[1]*(e.value[1]+(e.value[2]&15)/16)/255,s=Math.floor(o),c=o-s;i+=1,s+=1;var l=n.position;l[0]=l[1]=l[2]=0;for(var u=0;u<2;++u)for(var d=u?a:1-a,f=0;f<2;++f)for(var p=f?c:1-c,m=i+u,g=s+f,_=d*p,v=0;v<3;++v)l[v]+=this._field[v].get(m,g)*_;for(var y=this._pickResult.level,b=0;b<3;++b)if(y[b]=h.le(this.contourLevels[b],l[b]),y[b]<0)this.contourLevels[b].length>0&&(y[b]=0);else if(y[b]<this.contourLevels[b].length-1){var x=this.contourLevels[b][y[b]],S=this.contourLevels[b][y[b]+1];Math.abs(x-l[b])>Math.abs(S-l[b])&&(y[b]+=1)}for(n.index[0]=a<.5?i:i+1,n.index[1]=c<.5?s:s+1,n.uv[0]=r/t[0],n.uv[1]=o/t[1],v=0;v<3;++v)n.dataCoordinate[v]=this._field[v].get(n.index[0],n.index[1]);return n},k.padField=function(e,t){var n=t.shape.slice(),r=e.shape.slice();l.assign(e.lo(1,1).hi(n[0],n[1]),t),l.assign(e.lo(1).hi(n[0],1),t.hi(n[0],1)),l.assign(e.lo(1,r[1]-1).hi(n[0],1),t.lo(0,n[1]-1).hi(n[0],1)),l.assign(e.lo(0,1).hi(1,n[1]),t.hi(1)),l.assign(e.lo(r[0]-1,1).hi(1,n[1]),t.lo(n[0]-1)),e.set(0,0,t.get(0,0)),e.set(0,r[1]-1,t.get(0,n[1]-1)),e.set(r[0]-1,0,t.get(n[0]-1,0)),e.set(r[0]-1,r[1]-1,t.get(n[0]-1,n[1]-1))};function z(e,t){return Array.isArray(e)?[t(e[0]),t(e[1]),t(e[2])]:[t(e),t(e),t(e)]}function B(e){return Array.isArray(e)?e.length===3?[e[0],e[1],e[2],1]:[e[0],e[1],e[2],e[3]]:[0,0,0,1]}function V(e){if(Array.isArray(e)){if(Array.isArray(e))return[B(e[0]),B(e[1]),B(e[2])];var t=B(e);return[t.slice(),t.slice(),t.slice()]}}k.update=function(e){e||={},this.objectOffset=e.objectOffset||this.objectOffset,this.dirty=!0,`contourWidth`in e&&(this.contourWidth=z(e.contourWidth,Number)),`showContour`in e&&(this.showContour=z(e.showContour,Boolean)),`showSurface`in e&&(this.showSurface=!!e.showSurface),`contourTint`in e&&(this.contourTint=z(e.contourTint,Boolean)),`contourColor`in e&&(this.contourColor=V(e.contourColor)),`contourProject`in e&&(this.contourProject=z(e.contourProject,function(e){return z(e,Boolean)})),`surfaceProject`in e&&(this.surfaceProject=e.surfaceProject),`dynamicColor`in e&&(this.dynamicColor=V(e.dynamicColor)),`dynamicTint`in e&&(this.dynamicTint=z(e.dynamicTint,Number)),`dynamicWidth`in e&&(this.dynamicWidth=z(e.dynamicWidth,Number)),`opacity`in e&&(this.opacity=e.opacity),`opacityscale`in e&&(this.opacityscale=e.opacityscale),`colorBounds`in e&&(this.colorBounds=e.colorBounds),`vertexColor`in e&&(this.vertexColor=e.vertexColor?1:0),`colormap`in e&&this._colorMap.setPixels(this.genColormap(e.colormap,this.opacityscale));var t=e.field||e.coords&&e.coords[2]||null,n=!1;if(t||=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0),`field`in e||`coords`in e){var i=(t.shape[0]+2)*(t.shape[1]+2);i>this._field[2].data.length&&(s.freeFloat(this._field[2].data),this._field[2].data=s.mallocFloat(r.nextPow2(i))),this._field[2]=d(this._field[2].data,[t.shape[0]+2,t.shape[1]+2]),this.padField(this._field[2],t),this.shape=t.shape.slice();for(var a=this.shape,o=0;o<2;++o)this._field[2].size>this._field[o].data.length&&(s.freeFloat(this._field[o].data),this._field[o].data=s.mallocFloat(this._field[2].size)),this._field[o]=d(this._field[o].data,[a[0]+2,a[1]+2]);if(e.coords){var c=e.coords;if(!Array.isArray(c)||c.length!==3)throw Error(`gl-surface: invalid coordinates for x/y`);for(o=0;o<2;++o){var l=c[o];for(_=0;_<2;++_)if(l.shape[_]!==a[_])throw Error(`gl-surface: coords have incorrect shape`);this.padField(this._field[o],l)}}else if(e.ticks){var u=e.ticks;if(!Array.isArray(u)||u.length!==2)throw Error(`gl-surface: invalid ticks`);for(o=0;o<2;++o){var p=u[o];if((Array.isArray(p)||p.length)&&(p=d(p)),p.shape[0]!==a[o])throw Error(`gl-surface: invalid tick length`);var m=d(p.data,a);m.stride[o]=p.stride[0],m.stride[o^1]=0,this.padField(this._field[o],m)}}else{for(o=0;o<2;++o){var h=[0,0];h[o]=1,this._field[o]=d(this._field[o].data,[a[0]+2,a[1]+2],h,0)}this._field[0].set(0,0,0);for(var _=0;_<a[0];++_)this._field[0].set(_+1,0,_);for(this._field[0].set(a[0]+1,0,a[0]-1),this._field[1].set(0,0,0),_=0;_<a[1];++_)this._field[1].set(0,_+1,_);this._field[1].set(0,a[1]+1,a[1]-1)}var v=this._field,y=d(s.mallocFloat(v[2].size*3*2),[3,a[0]+2,a[1]+2,2]);for(o=0;o<3;++o)g(y.pick(o),v[o],`mirror`);var b=d(s.mallocFloat(v[2].size*3),[a[0]+2,a[1]+2,3]);for(o=0;o<a[0]+2;++o)for(_=0;_<a[1]+2;++_){var x=y.get(0,o,_,0),S=y.get(0,o,_,1),C=y.get(1,o,_,0),T=y.get(1,o,_,1),E=y.get(2,o,_,0),D=y.get(2,o,_,1),O=C*D-T*E,k=E*S-D*x,A=x*T-S*C,j=Math.sqrt(O*O+k*k+A*A);j<1e-8?(j=Math.max(Math.abs(O),Math.abs(k),Math.abs(A)),j<1e-8?(A=1,k=O=0,j=1):j=1/j):j=1/Math.sqrt(j),b.set(o,_,0,O*j),b.set(o,_,1,k*j),b.set(o,_,2,A*j)}s.free(y.data);var M=[1/0,1/0,1/0],N=[-1/0,-1/0,-1/0],P=1/0,F=-1/0,I=(a[0]-1)*(a[1]-1)*6,L=s.mallocFloat(r.nextPow2(10*I)),R=0,B=0;for(o=0;o<a[0]-1;++o)j_loop:for(_=0;_<a[1]-1;++_){for(var H=0;H<2;++H)for(var U=0;U<2;++U)for(var W=0;W<3;++W){var G=this._field[W].get(1+o+H,1+_+U);if(isNaN(G)||!isFinite(G))continue j_loop}for(W=0;W<6;++W){var K=o+w[W][0],ee=_+w[W][1],q=this._field[0].get(K+1,ee+1),J=this._field[1].get(K+1,ee+1);G=this._field[2].get(K+1,ee+1),O=b.get(K+1,ee+1,0),k=b.get(K+1,ee+1,1),A=b.get(K+1,ee+1,2),e.intensity&&(Y=e.intensity.get(K,ee));var Y=e.intensity?e.intensity.get(K,ee):G+this.objectOffset[2];L[R++]=K,L[R++]=ee,L[R++]=q,L[R++]=J,L[R++]=G,L[R++]=0,L[R++]=Y,L[R++]=O,L[R++]=k,L[R++]=A,M[0]=Math.min(M[0],q+this.objectOffset[0]),M[1]=Math.min(M[1],J+this.objectOffset[1]),M[2]=Math.min(M[2],G+this.objectOffset[2]),P=Math.min(P,Y),N[0]=Math.max(N[0],q+this.objectOffset[0]),N[1]=Math.max(N[1],J+this.objectOffset[1]),N[2]=Math.max(N[2],G+this.objectOffset[2]),F=Math.max(F,Y),B+=1}}for(e.intensityBounds&&(P=+e.intensityBounds[0],F=+e.intensityBounds[1]),o=6;o<R;o+=10)L[o]=(L[o]-P)/(F-P);this._vertexCount=B,this._coordinateBuffer.update(L.subarray(0,R)),s.freeFloat(L),s.free(b.data),this.bounds=[M,N],this.intensity=e.intensity||this._field[2],(this.intensityBounds[0]!==P||this.intensityBounds[1]!==F)&&(n=!0),this.intensityBounds=[P,F]}if(`levels`in e){var te=e.levels;for(te=Array.isArray(te[0])?te.slice():[[],[],te],o=0;o<3;++o)te[o]=te[o].slice(),te[o].sort(function(e,t){return e-t});for(o=0;o<3;++o)for(_=0;_<te[o].length;++_)te[o][_]-=this.objectOffset[o];change_test:for(o=0;o<3;++o){if(te[o].length!==this.contourLevels[o].length){n=!0;break}for(_=0;_<te[o].length;++_)if(te[o][_]!==this.contourLevels[o][_]){n=!0;break change_test}}this.contourLevels=te}if(n){v=this._field,a=this.shape;for(var ne=[],re=0;re<3;++re){var ie=this.contourLevels[re],ae=[],oe=[],se=[0,0,0];for(o=0;o<ie.length;++o){var ce=f(this._field[re],ie[o]);ae.push(ne.length/5|0),B=0;edge_loop:for(_=0;_<ce.cells.length;++_){var le=ce.cells[_];for(W=0;W<2;++W){var ue=ce.positions[le[W]],de=ue[0],fe=Math.floor(de)|0,pe=de-fe,me=ue[1],he=Math.floor(me)|0,ge=me-he,_e=!1;axis_loop:for(var ve=0;ve<3;++ve){se[ve]=0;var ye=(re+ve+1)%3;for(H=0;H<2;++H){var be=H?pe:1-pe;for(K=Math.min(Math.max(fe+H,0),a[0])|0,U=0;U<2;++U){var xe=U?ge:1-ge;if(ee=Math.min(Math.max(he+U,0),a[1])|0,G=ve<2?this._field[ye].get(K,ee):(this.intensity.get(K,ee)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(G)||isNaN(G)){_e=!0;break axis_loop}var Se=be*xe;se[ve]+=Se*G}}}if(!_e)ne.push(se[0],se[1],ue[0],ue[1],se[2]),B+=1;else{if(W>0){for(var Ce=0;Ce<5;++Ce)ne.pop();--B}continue edge_loop}}}oe.push(B)}this._contourOffsets[re]=ae,this._contourCounts[re]=oe}var we=s.mallocFloat(ne.length);for(o=0;o<ne.length;++o)we[o]=ne[o];this._contourBuffer.update(we),s.freeFloat(we)}},k.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var e=0;e<3;++e)s.freeFloat(this._field[e].data)},k.highlight=function(e){var t;if(!e){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(t=0;t<3;++t)this.enableHighlight[t]?this.highlightLevel[t]=e.level[t]:this.highlightLevel[t]=-1;var n=this.snapToData?e.dataCoordinate:e.position;for(t=0;t<3;++t)n[t]-=this.objectOffset[t];if(!((!this.enableDynamic[0]||n[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||n[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||n[2]===this.dynamicLevel[2]))){for(var r=0,i=this.shape,a=s.mallocFloat(12*i[0]*i[1]),o=0;o<3;++o){if(!this.enableDynamic[o]){this.dynamicLevel[o]=NaN,this._dynamicCounts[o]=0;continue}this.dynamicLevel[o]=n[o];var c=(o+1)%3,l=(o+2)%3,u=this._field[o],d=this._field[c],p=this._field[l],m=f(u,n[o]),h=m.cells,g=m.positions;for(this._dynamicOffsets[o]=r,t=0;t<h.length;++t)for(var _=h[t],v=0;v<2;++v){var y=g[_[v]],b=+y[0],x=b|0,S=Math.min(x+1,i[0])|0,C=b-x,w=1-C,T=+y[1],E=T|0,D=Math.min(E+1,i[1])|0,O=T-E,k=1-O,A=w*k,j=w*O,M=C*k,N=C*O,P=A*d.get(x,E)+j*d.get(x,D)+M*d.get(S,E)+N*d.get(S,D),F=A*p.get(x,E)+j*p.get(x,D)+M*p.get(S,E)+N*p.get(S,D);if(isNaN(P)||isNaN(F)){v&&--r;break}a[2*r+0]=P,a[2*r+1]=F,r+=1}this._dynamicCounts[o]=r-this._dynamicOffsets[o]}this._dynamicBuffer.update(a.subarray(0,2*r)),s.freeFloat(a)}};function H(e){var t=e.gl,n=v(t),r=b(t),s=y(t),c=x(t),l=i(t),u=a(t,[{buffer:l,size:4,stride:S,offset:0},{buffer:l,size:3,stride:S,offset:16},{buffer:l,size:3,stride:S,offset:28}]),d=i(t),f=a(t,[{buffer:d,size:4,stride:20,offset:0},{buffer:d,size:1,stride:20,offset:16}]),p=i(t),m=a(t,[{buffer:p,size:2,type:t.FLOAT}]),h=o(t,1,D,t.RGBA,t.UNSIGNED_BYTE);h.minFilter=t.LINEAR,h.magFilter=t.LINEAR;var g=new O(t,[0,0],[[0,0,0],[0,0,0]],n,r,l,u,h,s,c,d,f,p,m,[0,0,0]),_={levels:[[],[],[]]};for(var C in e)_[C]=e[C];return _.colormap=_.colormap||`jet`,g.update(_),g}},8931:function(e,t,n){var r=n(5050),i=n(7498),a=n(5306);e.exports=x;var o=null,s=null,c=null;function l(e){o=[e.LINEAR,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_NEAREST],s=[e.NEAREST,e.LINEAR,e.NEAREST_MIPMAP_NEAREST,e.NEAREST_MIPMAP_LINEAR,e.LINEAR_MIPMAP_NEAREST,e.LINEAR_MIPMAP_LINEAR],c=[e.REPEAT,e.CLAMP_TO_EDGE,e.MIRRORED_REPEAT]}function u(e){return typeof HTMLCanvasElement<`u`&&e instanceof HTMLCanvasElement||typeof HTMLImageElement<`u`&&e instanceof HTMLImageElement||typeof HTMLVideoElement<`u`&&e instanceof HTMLVideoElement||typeof ImageData<`u`&&e instanceof ImageData}var d=function(e,t){i.muls(e,t,255)};function f(e,t,n){var r=e.gl,i=r.getParameter(r.MAX_TEXTURE_SIZE);if(t<0||t>i||n<0||n>i)throw Error(`gl-texture2d: Invalid texture size`);return e._shape=[t,n],e.bind(),r.texImage2D(r.TEXTURE_2D,0,e.format,t,n,0,e.format,e.type,null),e._mipLevels=[0],e}function p(e,t,n,r,i,a){this.gl=e,this.handle=t,this.format=i,this.type=a,this._shape=[n,r],this._mipLevels=[0],this._magFilter=e.NEAREST,this._minFilter=e.NEAREST,this._wrapS=e.CLAMP_TO_EDGE,this._wrapT=e.CLAMP_TO_EDGE,this._anisoSamples=1;var o=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return o._wrapS},set:function(e){return o.wrapS=e}},{get:function(){return o._wrapT},set:function(e){return o.wrapT=e}}]),this._wrapVector=s;var c=[this._shape[0],this._shape[1]];Object.defineProperties(c,[{get:function(){return o._shape[0]},set:function(e){return o.width=e}},{get:function(){return o._shape[1]},set:function(e){return o.height=e}}]),this._shapeVector=c}var m=p.prototype;Object.defineProperties(m,{minFilter:{get:function(){return this._minFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&o.indexOf(e)>=0&&(t.getExtension(`OES_texture_float_linear`)||(e=t.NEAREST)),s.indexOf(e)<0)throw Error(`gl-texture2d: Unknown filter mode `+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e),this._minFilter=e}},magFilter:{get:function(){return this._magFilter},set:function(e){this.bind();var t=this.gl;if(this.type===t.FLOAT&&o.indexOf(e)>=0&&(t.getExtension(`OES_texture_float_linear`)||(e=t.NEAREST)),s.indexOf(e)<0)throw Error(`gl-texture2d: Unknown filter mode `+e);return t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e),this._magFilter=e}},mipSamples:{get:function(){return this._anisoSamples},set:function(e){var t=this._anisoSamples;if(this._anisoSamples=Math.max(e,1)|0,t!==this._anisoSamples){var n=this.gl.getExtension(`EXT_texture_filter_anisotropic`);n&&this.gl.texParameterf(this.gl.TEXTURE_2D,n.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(e){if(this.bind(),c.indexOf(e)<0)throw Error(`gl-texture2d: Unknown wrap mode `+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,e),this._wrapS=e}},wrapT:{get:function(){return this._wrapT},set:function(e){if(this.bind(),c.indexOf(e)<0)throw Error(`gl-texture2d: Unknown wrap mode `+e);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,e),this._wrapT=e}},wrap:{get:function(){return this._wrapVector},set:function(e){if(Array.isArray(e)||(e=[e,e]),e.length!==2)throw Error(`gl-texture2d: Must specify wrap mode for rows and columns`);for(var t=0;t<2;++t)if(c.indexOf(e[t])<0)throw Error(`gl-texture2d: Unknown wrap mode `+e);this._wrapS=e[0],this._wrapT=e[1];var n=this.gl;return this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this._wrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this._wrapT),e}},shape:{get:function(){return this._shapeVector},set:function(e){if(!Array.isArray(e))e=[e|0,e|0];else if(e.length!==2)throw Error(`gl-texture2d: Invalid texture shape`);return f(this,e[0]|0,e[1]|0),[e[0]|0,e[1]|0]}},width:{get:function(){return this._shape[0]},set:function(e){return e|=0,f(this,e,this._shape[1]),e}},height:{get:function(){return this._shape[1]},set:function(e){return e|=0,f(this,this._shape[0],e),e}}}),m.bind=function(e){var t=this.gl;return e!==void 0&&t.activeTexture(t.TEXTURE0+(e|0)),t.bindTexture(t.TEXTURE_2D,this.handle),e===void 0?t.getParameter(t.ACTIVE_TEXTURE)-t.TEXTURE0:e|0},m.dispose=function(){this.gl.deleteTexture(this.handle)},m.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var e=Math.min(this._shape[0],this._shape[1]),t=0;e>0;++t,e>>>=1)this._mipLevels.indexOf(t)<0&&this._mipLevels.push(t)},m.setPixels=function(e,t,n,r){var i=this.gl;this.bind(),Array.isArray(t)?(r=n,n=t[1]|0,t=t[0]|0):(t||=0,n||=0),r||=0;var a=u(e)?e:e.raw;if(a)this._mipLevels.indexOf(r)<0?(i.texImage2D(i.TEXTURE_2D,0,this.format,this.format,this.type,a),this._mipLevels.push(r)):i.texSubImage2D(i.TEXTURE_2D,r,t,n,this.format,this.type,a);else if(e.shape&&e.stride&&e.data){if(e.shape.length<2||t+e.shape[1]>this._shape[1]>>>r||n+e.shape[0]>this._shape[0]>>>r||t<0||n<0)throw Error(`gl-texture2d: Texture dimensions are out of bounds`);g(i,t,n,r,this.format,this.type,this._mipLevels,e)}else throw Error(`gl-texture2d: Unsupported data type`)};function h(e,t){return e.length===3?t[2]===1&&t[1]===e[0]*e[2]&&t[0]===e[2]:t[0]===1&&t[1]===e[0]}function g(e,t,n,o,s,c,l,u){var f=u.dtype,p=u.shape.slice();if(p.length<2||p.length>3)throw Error(`gl-texture2d: Invalid ndarray, must be 2d or 3d`);var m=0,g=0,_=h(p,u.stride.slice());if(f===`float32`?m=e.FLOAT:f===`float64`?(m=e.FLOAT,_=!1,f=`float32`):f===`uint8`?m=e.UNSIGNED_BYTE:(m=e.UNSIGNED_BYTE,_=!1,f=`uint8`),p.length===2)g=e.LUMINANCE,p=[p[0],p[1],1],u=r(u.data,p,[u.stride[0],u.stride[1],1],u.offset);else if(p.length===3){if(p[2]===1)g=e.ALPHA;else if(p[2]===2)g=e.LUMINANCE_ALPHA;else if(p[2]===3)g=e.RGB;else if(p[2]===4)g=e.RGBA;else throw Error(`gl-texture2d: Invalid shape for pixel coords`);p[2]}else throw Error(`gl-texture2d: Invalid shape for texture`);if((g===e.LUMINANCE||g===e.ALPHA)&&(s===e.LUMINANCE||s===e.ALPHA)&&(g=s),g!==s)throw Error(`gl-texture2d: Incompatible texture format for setPixels`);var v=u.size,y=l.indexOf(o)<0;if(y&&l.push(o),m===c&&_)u.offset===0&&u.data.length===v?y?e.texImage2D(e.TEXTURE_2D,o,s,p[0],p[1],0,s,c,u.data):e.texSubImage2D(e.TEXTURE_2D,o,t,n,p[0],p[1],s,c,u.data):y?e.texImage2D(e.TEXTURE_2D,o,s,p[0],p[1],0,s,c,u.data.subarray(u.offset,u.offset+v)):e.texSubImage2D(e.TEXTURE_2D,o,t,n,p[0],p[1],s,c,u.data.subarray(u.offset,u.offset+v));else{var b=c===e.FLOAT?a.mallocFloat32(v):a.mallocUint8(v),x=r(b,p,[p[2],p[2]*p[0],1]);m===e.FLOAT&&c===e.UNSIGNED_BYTE?d(x,u):i.assign(x,u),y?e.texImage2D(e.TEXTURE_2D,o,s,p[0],p[1],0,s,c,b.subarray(0,v)):e.texSubImage2D(e.TEXTURE_2D,o,t,n,p[0],p[1],s,c,b.subarray(0,v)),c===e.FLOAT?a.freeFloat32(b):a.freeUint8(b)}}function _(e){var t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t}function v(e,t,n,r,i){var a=e.getParameter(e.MAX_TEXTURE_SIZE);if(t<0||t>a||n<0||n>a)throw Error(`gl-texture2d: Invalid texture shape`);if(i===e.FLOAT&&!e.getExtension(`OES_texture_float`))throw Error(`gl-texture2d: Floating point textures not supported on this platform`);var o=_(e);return e.texImage2D(e.TEXTURE_2D,0,r,t,n,0,r,i,null),new p(e,o,t,n,r,i)}function y(e,t,n,r,i,a){var o=_(e);return e.texImage2D(e.TEXTURE_2D,0,i,i,a,t),new p(e,o,n,r,i,a)}function b(e,t){var n=t.dtype,o=t.shape.slice(),s=e.getParameter(e.MAX_TEXTURE_SIZE);if(o[0]<0||o[0]>s||o[1]<0||o[1]>s)throw Error(`gl-texture2d: Invalid texture size`);var c=h(o,t.stride.slice()),l=0;n===`float32`?l=e.FLOAT:n===`float64`?(l=e.FLOAT,c=!1,n=`float32`):n===`uint8`?l=e.UNSIGNED_BYTE:(l=e.UNSIGNED_BYTE,c=!1,n=`uint8`);var u=0;if(o.length===2)u=e.LUMINANCE,o=[o[0],o[1],1],t=r(t.data,o,[t.stride[0],t.stride[1],1],t.offset);else if(o.length===3)if(o[2]===1)u=e.ALPHA;else if(o[2]===2)u=e.LUMINANCE_ALPHA;else if(o[2]===3)u=e.RGB;else if(o[2]===4)u=e.RGBA;else throw Error(`gl-texture2d: Invalid shape for pixel coords`);else throw Error(`gl-texture2d: Invalid shape for texture`);l===e.FLOAT&&!e.getExtension(`OES_texture_float`)&&(l=e.UNSIGNED_BYTE,c=!1);var f,m,g=t.size;if(c)f=t.offset===0&&t.data.length===g?t.data:t.data.subarray(t.offset,t.offset+g);else{var v=[o[2],o[2]*o[0],1];m=a.malloc(g,n);var y=r(m,o,v,0);(n===`float32`||n===`float64`)&&l===e.UNSIGNED_BYTE?d(y,t):i.assign(y,t),f=m.subarray(0,g)}var b=_(e);return e.texImage2D(e.TEXTURE_2D,0,u,o[0],o[1],0,u,l,f),c||a.free(m),new p(e,b,o[0],o[1],u,l)}function x(e){if(arguments.length<=1)throw Error(`gl-texture2d: Missing arguments for texture2d constructor`);if(o||l(e),typeof arguments[1]==`number`)return v(e,arguments[1],arguments[2],arguments[3]||e.RGBA,arguments[4]||e.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return v(e,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if(typeof arguments[1]==`object`){var t=arguments[1],n=u(t)?t:t.raw;if(n)return y(e,n,t.width|0,t.height|0,arguments[2]||e.RGBA,arguments[3]||e.UNSIGNED_BYTE);if(t.shape&&t.data&&t.stride)return b(e,t)}throw Error(`gl-texture2d: Invalid arguments for texture2d constructor`)}},3056:function(e){function t(e,t,n){t?t.bind():e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null);var r=e.getParameter(e.MAX_VERTEX_ATTRIBS)|0;if(n){if(n.length>r)throw Error(`gl-vao: Too many vertex attributes`);for(var i=0;i<n.length;++i){var a=n[i];if(a.buffer){var o=a.buffer,s=a.size||4,c=a.type||e.FLOAT,l=!!a.normalized,u=a.stride||0,d=a.offset||0;o.bind(),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,s,c,l,u,d)}else{if(typeof a==`number`)e.vertexAttrib1f(i,a);else if(a.length===1)e.vertexAttrib1f(i,a[0]);else if(a.length===2)e.vertexAttrib2f(i,a[0],a[1]);else if(a.length===3)e.vertexAttrib3f(i,a[0],a[1],a[2]);else if(a.length===4)e.vertexAttrib4f(i,a[0],a[1],a[2],a[3]);else throw Error(`gl-vao: Invalid vertex attribute`);e.disableVertexAttribArray(i)}}for(;i<r;++i)e.disableVertexAttribArray(i)}else{e.bindBuffer(e.ARRAY_BUFFER,null);for(var i=0;i<r;++i)e.disableVertexAttribArray(i)}}e.exports=t},7220:function(e,t,n){var r=n(3056);function i(e){this.gl=e,this._elements=null,this._attributes=null,this._elementsType=e.UNSIGNED_SHORT}i.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},i.prototype.update=function(e,t,n){this._elements=t,this._attributes=e,this._elementsType=n||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(e,t,n){n||=0;var r=this.gl;this._elements?r.drawElements(e,t,this._elementsType,n):r.drawArrays(e,n,t)};function a(e){return new i(e)}e.exports=a},3778:function(e,t,n){var r=n(3056);function i(e,t,n,r,i,a){this.location=e,this.dimension=t,this.a=n,this.b=r,this.c=i,this.d=a}i.prototype.bind=function(e){switch(this.dimension){case 1:e.vertexAttrib1f(this.location,this.a);break;case 2:e.vertexAttrib2f(this.location,this.a,this.b);break;case 3:e.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:e.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function a(e,t,n){this.gl=e,this._ext=t,this.handle=n,this._attribs=[],this._useElements=!1,this._elementsType=e.UNSIGNED_SHORT}a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var e=0;e<this._attribs.length;++e)this._attribs[e].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(e,t,n){if(this.bind(),r(this.gl,t,e),this.unbind(),this._attribs.length=0,e)for(var a=0;a<e.length;++a){var o=e[a];typeof o==`number`?this._attribs.push(new i(a,1,o)):Array.isArray(o)&&this._attribs.push(new i(a,o.length,o[0],o[1],o[2],o[3]))}this._useElements=!!t,this._elementsType=n||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(e,t,n){n||=0;var r=this.gl;this._useElements?r.drawElements(e,t,this._elementsType,n):r.drawArrays(e,n,t)};function o(e,t){return new a(e,t,t.createVertexArrayOES())}e.exports=o},2944:function(e,t,n){var r=n(3778),i=n(7220);function a(e){this.bindVertexArrayOES=e.bindVertexArray.bind(e),this.createVertexArrayOES=e.createVertexArray.bind(e),this.deleteVertexArrayOES=e.deleteVertexArray.bind(e)}function o(e,t,n,o){var s=e.createVertexArray?new a(e):e.getExtension(`OES_vertex_array_object`),c=s?r(e,s):i(e);return c.update(t,n,o),c}e.exports=o},2598:function(e){e.exports=t;function t(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}},5879:function(e,t,n){e.exports=o;var r=n(5415),i=n(899),a=n(9305);function o(e,t){var n=r(e[0],e[1],e[2]),o=r(t[0],t[1],t[2]);i(n,n),i(o,o);var s=a(n,o);return s>1?0:Math.acos(s)}},8827:function(e){e.exports=t;function t(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}},7622:function(e){e.exports=t;function t(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},8782:function(e){e.exports=t;function t(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},8501:function(e){e.exports=t;function t(){var e=new Float32Array(3);return e[0]=0,e[1]=0,e[2]=0,e}},903:function(e){e.exports=t;function t(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],c=n[2];return e[0]=i*c-a*s,e[1]=a*o-r*c,e[2]=r*s-i*o,e}},5981:function(e,t,n){e.exports=n(8288)},8288:function(e){e.exports=t;function t(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+r*r+i*i)}},8629:function(e,t,n){e.exports=n(7979)},7979:function(e){e.exports=t;function t(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}},9305:function(e){e.exports=t;function t(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}},154:function(e){e.exports=1e-6},4932:function(e,t,n){e.exports=i;var r=n(154);function i(e,t){var n=e[0],i=e[1],a=e[2],o=t[0],s=t[1],c=t[2];return Math.abs(n-o)<=r*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=r*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(a-c)<=r*Math.max(1,Math.abs(a),Math.abs(c))}},5777:function(e){e.exports=t;function t(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}},3306:function(e){e.exports=t;function t(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}},7447:function(e,t,n){e.exports=i;var r=n(8501)();function i(e,t,n,i,a,o){var s,c;for(t||=3,n||=0,c=i?Math.min(i*t+n,e.length):e.length,s=n;s<c;s+=t)r[0]=e[s],r[1]=e[s+1],r[2]=e[s+2],a(r,r,o),e[s]=r[0],e[s+1]=r[1],e[s+2]=r[2];return e}},5415:function(e){e.exports=t;function t(e,t,n){var r=new Float32Array(3);return r[0]=e,r[1]=t,r[2]=n,r}},2858:function(e,t,n){e.exports={EPSILON:n(154),create:n(8501),clone:n(7622),angle:n(5879),fromValues:n(5415),copy:n(8782),set:n(831),equals:n(4932),exactEquals:n(5777),add:n(2598),subtract:n(911),sub:n(8921),multiply:n(105),mul:n(5733),divide:n(7979),div:n(8629),min:n(3605),max:n(1716),floor:n(3306),ceil:n(8827),round:n(1624),scale:n(5685),scaleAndAdd:n(6722),distance:n(8288),dist:n(5981),squaredDistance:n(6403),sqrDist:n(5294),length:n(4693),len:n(1468),squaredLength:n(4337),sqrLen:n(3303),negate:n(435),inverse:n(2073),normalize:n(899),dot:n(9305),cross:n(903),lerp:n(1868),random:n(6660),transformMat4:n(3255),transformMat3:n(9908),transformQuat:n(6568),rotateX:n(392),rotateY:n(3222),rotateZ:n(3388),forEach:n(7447)}},2073:function(e){e.exports=t;function t(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}},1468:function(e,t,n){e.exports=n(4693)},4693:function(e){e.exports=t;function t(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}},1868:function(e){e.exports=t;function t(e,t,n,r){var i=t[0],a=t[1],o=t[2];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e}},1716:function(e){e.exports=t;function t(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}},3605:function(e){e.exports=t;function t(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}},5733:function(e,t,n){e.exports=n(105)},105:function(e){e.exports=t;function t(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}},435:function(e){e.exports=t;function t(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}},899:function(e){e.exports=t;function t(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a),e}},6660:function(e){e.exports=t;function t(e,t){t||=1;var n=Math.random()*2*Math.PI,r=Math.random()*2-1,i=Math.sqrt(1-r*r)*t;return e[0]=Math.cos(n)*i,e[1]=Math.sin(n)*i,e[2]=r*t,e}},392:function(e){e.exports=t;function t(e,t,n,r){var i=n[1],a=n[2],o=t[1]-i,s=t[2]-a,c=Math.sin(r),l=Math.cos(r);return e[0]=t[0],e[1]=i+o*l-s*c,e[2]=a+o*c+s*l,e}},3222:function(e){e.exports=t;function t(e,t,n,r){var i=n[0],a=n[2],o=t[0]-i,s=t[2]-a,c=Math.sin(r),l=Math.cos(r);return e[0]=i+s*c+o*l,e[1]=t[1],e[2]=a+s*l-o*c,e}},3388:function(e){e.exports=t;function t(e,t,n,r){var i=n[0],a=n[1],o=t[0]-i,s=t[1]-a,c=Math.sin(r),l=Math.cos(r);return e[0]=i+o*l-s*c,e[1]=a+o*c+s*l,e[2]=t[2],e}},1624:function(e){e.exports=t;function t(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}},5685:function(e){e.exports=t;function t(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}},6722:function(e){e.exports=t;function t(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e}},831:function(e){e.exports=t;function t(e,t,n,r){return e[0]=t,e[1]=n,e[2]=r,e}},5294:function(e,t,n){e.exports=n(6403)},3303:function(e,t,n){e.exports=n(4337)},6403:function(e){e.exports=t;function t(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2];return n*n+r*r+i*i}},4337:function(e){e.exports=t;function t(e){var t=e[0],n=e[1],r=e[2];return t*t+n*n+r*r}},8921:function(e,t,n){e.exports=n(911)},911:function(e){e.exports=t;function t(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}},9908:function(e){e.exports=t;function t(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e}},3255:function(e){e.exports=t;function t(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o||=1,e[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,e[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,e[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,e}},6568:function(e){e.exports=t;function t(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],c=n[2],l=n[3],u=l*r+s*a-c*i,d=l*i+c*r-o*a,f=l*a+o*i-s*r,p=-o*r-s*i-c*a;return e[0]=u*l+p*-o+d*-c-f*-s,e[1]=d*l+p*-s+f*-o-u*-c,e[2]=f*l+p*-c+u*-s-d*-o,e}},3433:function(e){e.exports=t;function t(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e}},1413:function(e){e.exports=t;function t(e){var t=new Float32Array(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}},3470:function(e){e.exports=t;function t(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}},5313:function(e){e.exports=t;function t(){var e=new Float32Array(4);return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}},5446:function(e){e.exports=t;function t(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return Math.sqrt(n*n+r*r+i*i+a*a)}},205:function(e){e.exports=t;function t(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e[3]=t[3]/n[3],e}},4242:function(e){e.exports=t;function t(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}},5680:function(e){e.exports=t;function t(e,t,n,r){var i=new Float32Array(4);return i[0]=e,i[1]=t,i[2]=n,i[3]=r,i}},4020:function(e,t,n){e.exports={create:n(5313),clone:n(1413),fromValues:n(5680),copy:n(3470),set:n(6453),add:n(3433),subtract:n(2705),multiply:n(746),divide:n(205),min:n(2170),max:n(3030),scale:n(5510),scaleAndAdd:n(4224),distance:n(5446),squaredDistance:n(1542),length:n(8177),squaredLength:n(9037),negate:n(6459),inverse:n(8057),normalize:n(381),dot:n(4242),lerp:n(8746),random:n(3770),transformMat4:n(6342),transformQuat:n(5022)}},8057:function(e){e.exports=t;function t(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}},8177:function(e){e.exports=t;function t(e){var t=e[0],n=e[1],r=e[2],i=e[3];return Math.sqrt(t*t+n*n+r*r+i*i)}},8746:function(e){e.exports=t;function t(e,t,n,r){var i=t[0],a=t[1],o=t[2],s=t[3];return e[0]=i+r*(n[0]-i),e[1]=a+r*(n[1]-a),e[2]=o+r*(n[2]-o),e[3]=s+r*(n[3]-s),e}},3030:function(e){e.exports=t;function t(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e[3]=Math.max(t[3],n[3]),e}},2170:function(e){e.exports=t;function t(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e[3]=Math.min(t[3],n[3]),e}},746:function(e){e.exports=t;function t(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}},6459:function(e){e.exports=t;function t(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}},381:function(e){e.exports=t;function t(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a;return o>0&&(o=1/Math.sqrt(o),e[0]=n*o,e[1]=r*o,e[2]=i*o,e[3]=a*o),e}},3770:function(e,t,n){var r=n(381),i=n(5510);e.exports=a;function a(e,t){return t||=1,e[0]=Math.random(),e[1]=Math.random(),e[2]=Math.random(),e[3]=Math.random(),r(e,e),i(e,e,t),e}},5510:function(e){e.exports=t;function t(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}},4224:function(e){e.exports=t;function t(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e[3]=t[3]+n[3]*r,e}},6453:function(e){e.exports=t;function t(e,t,n,r,i){return e[0]=t,e[1]=n,e[2]=r,e[3]=i,e}},1542:function(e){e.exports=t;function t(e,t){var n=t[0]-e[0],r=t[1]-e[1],i=t[2]-e[2],a=t[3]-e[3];return n*n+r*r+i*i+a*a}},9037:function(e){e.exports=t;function t(e){var t=e[0],n=e[1],r=e[2],i=e[3];return t*t+n*n+r*r+i*i}},2705:function(e){e.exports=t;function t(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e}},6342:function(e){e.exports=t;function t(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}},5022:function(e){e.exports=t;function t(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],c=n[2],l=n[3],u=l*r+s*a-c*i,d=l*i+c*r-o*a,f=l*a+o*i-s*r,p=-o*r-s*i-c*a;return e[0]=u*l+p*-o+d*-c-f*-s,e[1]=d*l+p*-s+f*-o-u*-c,e[2]=f*l+p*-c+u*-s-d*-o,e[3]=t[3],e}},9365:function(e,t,n){var r=n(8096),i=n(7896);e.exports=a;function a(e){for(var t=Array.isArray(e)?e:r(e),n=0;n<t.length;n++){var a=t[n];if(a.type===`preprocessor`){var o=a.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(o&&o[2]){var s=o[1],c=o[2];return(s?i(c):c).trim()}}}}},3193:function(e,t,n){e.exports=C;var r=n(399),i=n(9746),a=n(9525),o=n(9458),s=n(3585),c=999,l=9999,u=0,d=1,f=2,p=3,m=4,h=5,g=6,_=7,v=8,y=9,b=10,x=11,S=[`block-comment`,`line-comment`,`preprocessor`,`operator`,`integer`,`float`,`ident`,`builtin`,`keyword`,`whitespace`,`eof`,`integer`];function C(e){var t=0,n=0,C=c,w,T,E=[],D=[],O=1,k=0,A=0,j=!1,M=!1,N=``,P;e||={};var F=a,I=r;e.version===`300 es`&&(F=s,I=o);for(var L={},R={},t=0;t<F.length;t++)L[F[t]]=!0;for(var t=0;t<I.length;t++)R[I[t]]=!0;return function(e){return D=[],e===null?V():B(e)};function z(e){e.length&&D.push({type:S[C],data:e,position:A,line:O,column:k})}function B(e){t=0,e.toString&&(e=e.toString()),N+=e.replace(/\r\n/g,`
`),P=N.length;for(var r;w=N[t],t<P;){switch(r=t,C){case u:t=K();break;case d:t=G();break;case f:t=W();break;case p:t=ee();break;case m:t=Y();break;case x:t=J();break;case h:t=te();break;case l:t=ne();break;case y:t=U();break;case c:t=H();break}if(r!==t)switch(N[r]){case`
`:k=0,++O;break;default:++k;break}}return n+=t,N=N.slice(t),D}function V(e){return E.length&&z(E.join(``)),C=b,z(`(eof)`),D}function H(){return E=E.length?[]:E,T===`/`&&w===`*`?(A=n+t-1,C=u,T=w,t+1):T===`/`&&w===`/`?(A=n+t-1,C=d,T=w,t+1):w===`#`?(C=f,A=n+t,t):/\s/.test(w)?(C=y,A=n+t,t):(j=/\d/.test(w),M=/[^\w_]/.test(w),A=n+t,C=j?m:M?p:l,t)}function U(){return/[^\s]/g.test(w)?(z(E.join(``)),C=c,t):(E.push(w),T=w,t+1)}function W(){return(w===`\r`||w===`
`)&&T!==`\\`?(z(E.join(``)),C=c,t):(E.push(w),T=w,t+1)}function G(){return W()}function K(){return w===`/`&&T===`*`?(E.push(w),z(E.join(``)),C=c,t+1):(E.push(w),T=w,t+1)}function ee(){if(T===`.`&&/\d/.test(w))return C=h,t;if(T===`/`&&w===`*`)return C=u,t;if(T===`/`&&w===`/`)return C=d,t;if(w===`.`&&E.length){for(;q(E););return C=h,t}if(w===`;`||w===`)`||w===`(`){if(E.length)for(;q(E););return z(w),C=c,t+1}var e=E.length===2&&w!==`=`;if(/[\w_\d\s]/.test(w)||e){for(;q(E););return C=c,t}return E.push(w),T=w,t+1}function q(e){var t=0,n,r;do{if(n=i.indexOf(e.slice(0,e.length+t).join(``)),r=i[n],n===-1){if(t--+e.length>0)continue;r=e.slice(0,1).join(``)}return z(r),A+=r.length,E=E.slice(r.length),E.length}while(1)}function J(){return/[^a-fA-F0-9]/.test(w)?(z(E.join(``)),C=c,t):(E.push(w),T=w,t+1)}function Y(){return w===`.`||/[eE]/.test(w)?(E.push(w),C=h,T=w,t+1):w===`x`&&E.length===1&&E[0]===`0`?(C=x,E.push(w),T=w,t+1):/[^\d]/.test(w)?(z(E.join(``)),C=c,t):(E.push(w),T=w,t+1)}function te(){return w===`f`&&(E.push(w),T=w,t+=1),/[eE]/.test(w)||(w===`-`||w===`+`)&&/[eE]/.test(T)?(E.push(w),T=w,t+1):/[^\d]/.test(w)?(z(E.join(``)),C=c,t):(E.push(w),T=w,t+1)}function ne(){if(/[^\d\w_]/.test(w)){var e=E.join(``);return C=R[e]?v:L[e]?_:g,z(E.join(``)),C=c,t}return E.push(w),T=w,t+1}}},3585:function(e,t,n){var r=n(9525);r=r.slice().filter(function(e){return!/^(gl\_|texture)/.test(e)}),e.exports=r.concat(`gl_VertexID.gl_InstanceID.gl_Position.gl_PointSize.gl_FragCoord.gl_FrontFacing.gl_FragDepth.gl_PointCoord.gl_MaxVertexAttribs.gl_MaxVertexUniformVectors.gl_MaxVertexOutputVectors.gl_MaxFragmentInputVectors.gl_MaxVertexTextureImageUnits.gl_MaxCombinedTextureImageUnits.gl_MaxTextureImageUnits.gl_MaxFragmentUniformVectors.gl_MaxDrawBuffers.gl_MinProgramTexelOffset.gl_MaxProgramTexelOffset.gl_DepthRangeParameters.gl_DepthRange.trunc.round.roundEven.isnan.isinf.floatBitsToInt.floatBitsToUint.intBitsToFloat.uintBitsToFloat.packSnorm2x16.unpackSnorm2x16.packUnorm2x16.unpackUnorm2x16.packHalf2x16.unpackHalf2x16.outerProduct.transpose.determinant.inverse.texture.textureSize.textureProj.textureLod.textureOffset.texelFetch.texelFetchOffset.textureProjOffset.textureLodOffset.textureProjLod.textureProjLodOffset.textureGrad.textureGradOffset.textureProjGrad.textureProjGradOffset`.split(`.`))},9525:function(e){e.exports=`abs.acos.all.any.asin.atan.ceil.clamp.cos.cross.dFdx.dFdy.degrees.distance.dot.equal.exp.exp2.faceforward.floor.fract.gl_BackColor.gl_BackLightModelProduct.gl_BackLightProduct.gl_BackMaterial.gl_BackSecondaryColor.gl_ClipPlane.gl_ClipVertex.gl_Color.gl_DepthRange.gl_DepthRangeParameters.gl_EyePlaneQ.gl_EyePlaneR.gl_EyePlaneS.gl_EyePlaneT.gl_Fog.gl_FogCoord.gl_FogFragCoord.gl_FogParameters.gl_FragColor.gl_FragCoord.gl_FragData.gl_FragDepth.gl_FragDepthEXT.gl_FrontColor.gl_FrontFacing.gl_FrontLightModelProduct.gl_FrontLightProduct.gl_FrontMaterial.gl_FrontSecondaryColor.gl_LightModel.gl_LightModelParameters.gl_LightModelProducts.gl_LightProducts.gl_LightSource.gl_LightSourceParameters.gl_MaterialParameters.gl_MaxClipPlanes.gl_MaxCombinedTextureImageUnits.gl_MaxDrawBuffers.gl_MaxFragmentUniformComponents.gl_MaxLights.gl_MaxTextureCoords.gl_MaxTextureImageUnits.gl_MaxTextureUnits.gl_MaxVaryingFloats.gl_MaxVertexAttribs.gl_MaxVertexTextureImageUnits.gl_MaxVertexUniformComponents.gl_ModelViewMatrix.gl_ModelViewMatrixInverse.gl_ModelViewMatrixInverseTranspose.gl_ModelViewMatrixTranspose.gl_ModelViewProjectionMatrix.gl_ModelViewProjectionMatrixInverse.gl_ModelViewProjectionMatrixInverseTranspose.gl_ModelViewProjectionMatrixTranspose.gl_MultiTexCoord0.gl_MultiTexCoord1.gl_MultiTexCoord2.gl_MultiTexCoord3.gl_MultiTexCoord4.gl_MultiTexCoord5.gl_MultiTexCoord6.gl_MultiTexCoord7.gl_Normal.gl_NormalMatrix.gl_NormalScale.gl_ObjectPlaneQ.gl_ObjectPlaneR.gl_ObjectPlaneS.gl_ObjectPlaneT.gl_Point.gl_PointCoord.gl_PointParameters.gl_PointSize.gl_Position.gl_ProjectionMatrix.gl_ProjectionMatrixInverse.gl_ProjectionMatrixInverseTranspose.gl_ProjectionMatrixTranspose.gl_SecondaryColor.gl_TexCoord.gl_TextureEnvColor.gl_TextureMatrix.gl_TextureMatrixInverse.gl_TextureMatrixInverseTranspose.gl_TextureMatrixTranspose.gl_Vertex.greaterThan.greaterThanEqual.inversesqrt.length.lessThan.lessThanEqual.log.log2.matrixCompMult.max.min.mix.mod.normalize.not.notEqual.pow.radians.reflect.refract.sign.sin.smoothstep.sqrt.step.tan.texture2D.texture2DLod.texture2DProj.texture2DProjLod.textureCube.textureCubeLod.texture2DLodEXT.texture2DProjLodEXT.textureCubeLodEXT.texture2DGradEXT.texture2DProjGradEXT.textureCubeGradEXT`.split(`.`)},9458:function(e,t,n){e.exports=n(399).slice().concat(`layout.centroid.smooth.case.mat2x2.mat2x3.mat2x4.mat3x2.mat3x3.mat3x4.mat4x2.mat4x3.mat4x4.uvec2.uvec3.uvec4.samplerCubeShadow.sampler2DArray.sampler2DArrayShadow.isampler2D.isampler3D.isamplerCube.isampler2DArray.usampler2D.usampler3D.usamplerCube.usampler2DArray.coherent.restrict.readonly.writeonly.resource.atomic_uint.noperspective.patch.sample.subroutine.common.partition.active.filter.image1D.image2D.image3D.imageCube.iimage1D.iimage2D.iimage3D.iimageCube.uimage1D.uimage2D.uimage3D.uimageCube.image1DArray.image2DArray.iimage1DArray.iimage2DArray.uimage1DArray.uimage2DArray.image1DShadow.image2DShadow.image1DArrayShadow.image2DArrayShadow.imageBuffer.iimageBuffer.uimageBuffer.sampler1DArray.sampler1DArrayShadow.isampler1D.isampler1DArray.usampler1D.usampler1DArray.isampler2DRect.usampler2DRect.samplerBuffer.isamplerBuffer.usamplerBuffer.sampler2DMS.isampler2DMS.usampler2DMS.sampler2DMSArray.isampler2DMSArray.usampler2DMSArray`.split(`.`))},399:function(e){e.exports=`precision.highp.mediump.lowp.attribute.const.uniform.varying.break.continue.do.for.while.if.else.in.out.inout.float.int.uint.void.bool.true.false.discard.return.mat2.mat3.mat4.vec2.vec3.vec4.ivec2.ivec3.ivec4.bvec2.bvec3.bvec4.sampler1D.sampler2D.sampler3D.samplerCube.sampler1DShadow.sampler2DShadow.struct.asm.class.union.enum.typedef.template.this.packed.goto.switch.default.inline.noinline.volatile.public.static.extern.external.interface.long.short.double.half.fixed.unsigned.input.output.hvec2.hvec3.hvec4.dvec2.dvec3.dvec4.fvec2.fvec3.fvec4.sampler2DRect.sampler3DRect.sampler2DRectShadow.sizeof.cast.namespace.using`.split(`.`)},9746:function(e){e.exports=`<<= >>= ++ -- << >> <= >= == != && || += -= *= /= %= &= ^^ ^= |= ( ) [ ] . ! ~ * / % + - < > & ^ | ? : = , ; { }`.split(` `)},8096:function(e,t,n){var r=n(3193);e.exports=i;function i(e,t){var n=r(t),i=[];return i=i.concat(n(e)),i=i.concat(n(null)),i}},6832:function(e){e.exports=function(e){typeof e==`string`&&(e=[e]);for(var t=[].slice.call(arguments,1),n=[],r=0;r<e.length-1;r++)n.push(e[r],t[r]||``);return n.push(e[r]),n.join(``)}},5233:function(e,t,n){var r=n(4846);function i(){var e=!1;try{var t=Object.defineProperty({},`passive`,{get:function(){e=!0}});window.addEventListener(`test`,null,t),window.removeEventListener(`test`,null,t)}catch{e=!1}return e}e.exports=r&&i()},2183:function(e,t,n){e.exports=p;var r=n(417),i=n(8211).H;function a(e,t,n){this.vertices=e,this.adjacent=t,this.boundary=n,this.lastVisited=-1}a.prototype.flip=function(){var e=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=e;var t=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=t};function o(e,t,n){this.vertices=e,this.cell=t,this.index=n}function s(e,t){return i(e.vertices,t.vertices)}function c(e){return function(){var t=this.tuple;return e.apply(this,t)}}function l(e){var t=r[e+1];return t||=r,c(t)}var u=[];function d(e,t,n){this.dimension=e,this.vertices=t,this.simplices=n,this.interior=n.filter(function(e){return!e.boundary}),this.tuple=Array(e+1);for(var r=0;r<=e;++r)this.tuple[r]=this.vertices[r];var i=u[e];i||=u[e]=l(e),this.orient=i}var f=d.prototype;f.handleBoundaryDegeneracy=function(e,t){var n=this.dimension,r=this.vertices.length-1,i=this.tuple,a=this.vertices,o=[e];for(e.lastVisited=-r;o.length>0;){e=o.pop();for(var s=e.adjacent,c=0;c<=n;++c){var l=s[c];if(!(!l.boundary||l.lastVisited<=-r)){for(var u=l.vertices,d=0;d<=n;++d){var f=u[d];f<0?i[d]=t:i[d]=a[f]}var p=this.orient();if(p>0)return l;l.lastVisited=-r,p===0&&o.push(l)}}}return null},f.walk=function(e,t){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,a=this.tuple,o=t?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[o];outerLoop:for(;!s.boundary;){for(var c=s.vertices,l=s.adjacent,u=0;u<=r;++u)a[u]=i[c[u]];s.lastVisited=n;for(var u=0;u<=r;++u){var d=l[u];if(!(d.lastVisited>=n)){var f=a[u];a[u]=e;var p=this.orient();if(a[u]=f,p<0){s=d;continue outerLoop}else d.boundary?d.lastVisited=-n:d.lastVisited=n}}return}return s},f.addPeaks=function(e,t){var n=this.vertices.length-1,r=this.dimension,i=this.vertices,c=this.tuple,l=this.interior,u=this.simplices,d=[t];t.lastVisited=n,t.vertices[t.vertices.indexOf(-1)]=n,t.boundary=!1,l.push(t);for(var f=[];d.length>0;){var t=d.pop(),p=t.vertices,m=t.adjacent,h=p.indexOf(n);if(!(h<0)){for(var g=0;g<=r;++g)if(g!==h){var _=m[g];if(!(!_.boundary||_.lastVisited>=n)){var v=_.vertices;if(_.lastVisited!==-n){for(var y=0,b=0;b<=r;++b)v[b]<0?(y=b,c[b]=e):c[b]=i[v[b]];if(this.orient()>0){v[y]=n,_.boundary=!1,l.push(_),d.push(_),_.lastVisited=n;continue}else _.lastVisited=-n}var x=_.adjacent,S=p.slice(),C=m.slice(),w=new a(S,C,!0);u.push(w);var T=x.indexOf(t);if(!(T<0)){x[T]=w,C[h]=_,S[g]=-1,C[g]=t,m[g]=w,w.flip();for(var b=0;b<=r;++b){var E=S[b];if(!(E<0||E===n)){for(var D=Array(r-1),O=0,k=0;k<=r;++k){var A=S[k];A<0||k===b||(D[O++]=A)}f.push(new o(D,w,b))}}}}}}}f.sort(s);for(var g=0;g+1<f.length;g+=2){var j=f[g],M=f[g+1],N=j.index,P=M.index;N<0||P<0||(j.cell.adjacent[j.index]=M.cell,M.cell.adjacent[M.index]=j.cell)}},f.insert=function(e,t){var n=this.vertices;n.push(e);var r=this.walk(e,t);if(r){for(var i=this.dimension,a=this.tuple,o=0;o<=i;++o){var s=r.vertices[o];s<0?a[o]=e:a[o]=n[s]}var c=this.orient(a);c<0||c===0&&(r=this.handleBoundaryDegeneracy(r,e),!r)||this.addPeaks(e,r)}},f.boundary=function(){for(var e=this.dimension,t=[],n=this.simplices,r=n.length,i=0;i<r;++i){var a=n[i];if(a.boundary){for(var o=Array(e),s=a.vertices,c=0,l=0,u=0;u<=e;++u)s[u]>=0?o[c++]=s[u]:l=u&1;if(l===(e&1)){var d=o[0];o[0]=o[1],o[1]=d}t.push(o)}}return t};function p(e,t){var n=e.length;if(n===0)throw Error(`Must have at least d+1 points`);var i=e[0].length;if(n<=i)throw Error(`Must input at least d+1 points`);var o=e.slice(0,i+1),s=r.apply(void 0,o);if(s===0)throw Error(`Input not in general position`);for(var c=Array(i+1),l=0;l<=i;++l)c[l]=l;s<0&&(c[0]=1,c[1]=0);for(var u=new a(c,Array(i+1),!1),f=u.adjacent,p=Array(i+2),l=0;l<=i;++l){for(var m=c.slice(),h=0;h<=i;++h)h===l&&(m[h]=-1);var g=m[0];m[0]=m[1],m[1]=g;var _=new a(m,Array(i+1),!0);f[l]=_,p[l]=_}p[i+1]=u;for(var l=0;l<=i;++l)for(var m=f[l].vertices,v=f[l].adjacent,h=0;h<=i;++h){var y=m[h];if(y<0){v[h]=u;continue}for(var b=0;b<=i;++b)f[b].vertices.indexOf(y)<0&&(v[h]=f[b])}for(var x=new d(i,o,p),S=!!t,l=i+1;l<n;++l)x.insert(e[l],S);return x.boundary()}},9014:function(e,t,n){var r=n(5070),i=0,a=1,o=2;e.exports=S;function s(e,t,n,r,i){this.mid=e,this.left=t,this.right=n,this.leftPoints=r,this.rightPoints=i,this.count=(t?t.count:0)+(n?n.count:0)+r.length}var c=s.prototype;function l(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function u(e,t){var n=y(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function d(e,t){var n=e.intervals([]);n.push(t),u(e,n)}function f(e,t){var n=e.intervals([]),r=n.indexOf(t);return r<0?i:(n.splice(r,1),u(e,n),a)}c.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},c.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?d(this,e):this.left.insert(e):this.left=y([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?d(this,e):this.right.insert(e):this.right=y([e]);else{var n=r.ge(this.leftPoints,e,_),i=r.ge(this.rightPoints,e,v);this.leftPoints.splice(n,0,e),this.rightPoints.splice(i,0,e)}},c.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid){if(!this.left)return i;if(4*(this.right?this.right.count:0)>3*(t-1))return f(this,e);var n=this.left.remove(e);return n===o?(this.left=null,--this.count,a):(n===a&&--this.count,n)}else if(e[0]>this.mid){if(!this.right)return i;if(4*(this.left?this.left.count:0)>3*(t-1))return f(this,e);var n=this.right.remove(e);return n===o?(this.right=null,--this.count,a):(n===a&&--this.count,n)}else{if(this.count===1)return this.leftPoints[0]===e?o:i;if(this.leftPoints.length===1&&this.leftPoints[0]===e){if(this.left&&this.right){for(var s=this,c=this.left;c.right;)s=c,c=c.right;if(s===this)c.right=this.right;else{var u=this.left,n=this.right;s.count-=c.count,s.right=c.left,c.left=u,c.right=n}l(this,c),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?l(this,this.left):l(this,this.right);return a}for(var u=r.ge(this.leftPoints,e,_);u<this.leftPoints.length&&this.leftPoints[u][0]===e[0];++u)if(this.leftPoints[u]===e){--this.count,this.leftPoints.splice(u,1);for(var n=r.ge(this.rightPoints,e,v);n<this.rightPoints.length&&this.rightPoints[n][1]===e[1];++n)if(this.rightPoints[n]===e)return this.rightPoints.splice(n,1),a}return i}};function p(e,t,n){for(var r=0;r<e.length&&e[r][0]<=t;++r){var i=n(e[r]);if(i)return i}}function m(e,t,n){for(var r=e.length-1;r>=0&&e[r][1]>=t;--r){var i=n(e[r]);if(i)return i}}function h(e,t){for(var n=0;n<e.length;++n){var r=t(e[n]);if(r)return r}}c.queryPoint=function(e,t){if(e<this.mid){if(this.left){var n=this.left.queryPoint(e,t);if(n)return n}return p(this.leftPoints,e,t)}else if(e>this.mid){if(this.right){var n=this.right.queryPoint(e,t);if(n)return n}return m(this.rightPoints,e,t)}else return h(this.leftPoints,t)},c.queryInterval=function(e,t,n){if(e<this.mid&&this.left){var r=this.left.queryInterval(e,t,n);if(r)return r}if(t>this.mid&&this.right){var r=this.right.queryInterval(e,t,n);if(r)return r}return t<this.mid?p(this.leftPoints,t,n):e>this.mid?m(this.rightPoints,e,n):h(this.leftPoints,n)};function g(e,t){return e-t}function _(e,t){return e[0]-t[0]||e[1]-t[1]}function v(e,t){return e[1]-t[1]||e[0]-t[0]}function y(e){if(e.length===0)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(g);for(var r=t[t.length>>1],i=[],a=[],o=[],n=0;n<e.length;++n){var c=e[n];c[1]<r?i.push(c):r<c[0]?a.push(c):o.push(c)}var l=o,u=o.slice();return l.sort(_),u.sort(v),new s(r,y(i),y(a),l,u)}function b(e){this.root=e}var x=b.prototype;x.insert=function(e){this.root?this.root.insert(e):this.root=new s(e[0],null,null,[e],[e])},x.remove=function(e){if(this.root){var t=this.root.remove(e);return t===o&&(this.root=null),t!==i}return!1},x.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},x.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)},Object.defineProperty(x,`count`,{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(x,`intervals`,{get:function(){return this.root?this.root.intervals([]):[]}});function S(e){return!e||e.length===0?new b(null):new b(y(e))}},9560:function(e){function t(e){for(var t=Array(e),n=0;n<e;++n)t[n]=n;return t}e.exports=t},4846:function(e){e.exports=!0},4780:function(e){e.exports=function(e){return e!=null&&(t(e)||n(e)||!!e._isBuffer)};function t(e){return!!e.constructor&&typeof e.constructor.isBuffer==`function`&&e.constructor.isBuffer(e)}function n(e){return typeof e.readFloatLE==`function`&&typeof e.slice==`function`&&t(e.slice(0,0))}},3596:function(e){e.exports=function(e){for(var t=e.length,n,r=0;r<t;r++)if(n=e.charCodeAt(r),(n<9||n>13)&&n!==32&&n!==133&&n!==160&&n!==5760&&n!==6158&&(n<8192||n>8205)&&n!==8232&&n!==8233&&n!==8239&&n!==8287&&n!==8288&&n!==12288&&n!==65279)return!1;return!0}},3578:function(e){function t(e,t,n){return e*(1-n)+t*n}e.exports=t},7191:function(e,t,n){var r=n(4690),i=n(9823),a=n(7332),o=n(7787),s=n(7437),c=n(2142),l={length:n(4693),normalize:n(899),dot:n(9305),cross:n(903)},u=i(),d=i(),f=[0,0,0,0],p=[[0,0,0],[0,0,0],[0,0,0]],m=[0,0,0];e.exports=function(e,t,n,i,v,y){if(t||=[0,0,0],n||=[0,0,0],i||=[0,0,0],v||=[0,0,0,1],y||=[0,0,0,1],!r(u,e)||(a(d,u),d[3]=0,d[7]=0,d[11]=0,d[15]=1,Math.abs(o(d)<1e-8)))return!1;var b=u[3],x=u[7],S=u[11],C=u[12],w=u[13],T=u[14],E=u[15];if(b!==0||x!==0||S!==0){if(f[0]=b,f[1]=x,f[2]=S,f[3]=E,!s(d,d))return!1;c(d,d),h(v,f,d)}else v[0]=v[1]=v[2]=0,v[3]=1;if(t[0]=C,t[1]=w,t[2]=T,g(p,u),n[0]=l.length(p[0]),l.normalize(p[0],p[0]),i[0]=l.dot(p[0],p[1]),_(p[1],p[1],p[0],1,-i[0]),n[1]=l.length(p[1]),l.normalize(p[1],p[1]),i[0]/=n[1],i[1]=l.dot(p[0],p[2]),_(p[2],p[2],p[0],1,-i[1]),i[2]=l.dot(p[1],p[2]),_(p[2],p[2],p[1],1,-i[2]),n[2]=l.length(p[2]),l.normalize(p[2],p[2]),i[1]/=n[2],i[2]/=n[2],l.cross(m,p[1],p[2]),l.dot(p[0],m)<0)for(var D=0;D<3;D++)n[D]*=-1,p[D][0]*=-1,p[D][1]*=-1,p[D][2]*=-1;return y[0]=.5*Math.sqrt(Math.max(1+p[0][0]-p[1][1]-p[2][2],0)),y[1]=.5*Math.sqrt(Math.max(1-p[0][0]+p[1][1]-p[2][2],0)),y[2]=.5*Math.sqrt(Math.max(1-p[0][0]-p[1][1]+p[2][2],0)),y[3]=.5*Math.sqrt(Math.max(1+p[0][0]+p[1][1]+p[2][2],0)),p[2][1]>p[1][2]&&(y[0]=-y[0]),p[0][2]>p[2][0]&&(y[1]=-y[1]),p[1][0]>p[0][1]&&(y[2]=-y[2]),!0};function h(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}function g(e,t){e[0][0]=t[0],e[0][1]=t[1],e[0][2]=t[2],e[1][0]=t[4],e[1][1]=t[5],e[1][2]=t[6],e[2][0]=t[8],e[2][1]=t[9],e[2][2]=t[10]}function _(e,t,n,r,i){e[0]=t[0]*r+n[0]*i,e[1]=t[1]*r+n[1]*i,e[2]=t[2]*r+n[2]*i}},4690:function(e){e.exports=function(e,t){var n=t[15];if(n===0)return!1;for(var r=1/n,i=0;i<16;i++)e[i]=t[i]*r;return!0}},7649:function(e,t,n){var r=n(1868),i=n(1102),a=n(7191),o=n(7787),s=n(1116),c=f(),l=f(),u=f();e.exports=d;function d(e,t,n,d){if(o(t)===0||o(n)===0)return!1;var f=a(t,c.translate,c.scale,c.skew,c.perspective,c.quaternion),p=a(n,l.translate,l.scale,l.skew,l.perspective,l.quaternion);return!f||!p?!1:(r(u.translate,c.translate,l.translate,d),r(u.skew,c.skew,l.skew,d),r(u.scale,c.scale,l.scale,d),r(u.perspective,c.perspective,l.perspective,d),s(u.quaternion,c.quaternion,l.quaternion,d),i(e,u.translate,u.scale,u.skew,u.perspective,u.quaternion),!0)}function f(){return{translate:p(),scale:p(1),skew:p(),perspective:m(),quaternion:m()}}function p(e){return[e||0,e||0,e||0]}function m(){return[0,0,0,1]}},1102:function(e,t,n){var r={identity:n(9947),translate:n(998),multiply:n(104),create:n(9823),scale:n(3668),fromRotationTranslation:n(7280)};r.create();var i=r.create();e.exports=function(e,t,n,a,o,s){return r.identity(e),r.fromRotationTranslation(e,s,t),e[3]=o[0],e[7]=o[1],e[11]=o[2],e[15]=o[3],r.identity(i),a[2]!==0&&(i[9]=a[2],r.multiply(e,e,i)),a[1]!==0&&(i[9]=0,i[8]=a[1],r.multiply(e,e,i)),a[0]!==0&&(i[8]=0,i[4]=a[0],r.multiply(e,e,i)),r.scale(e,e,n),e}},9298:function(e,t,n){var r=n(5070),i=n(7649),a=n(7437),o=n(6109),s=n(7115),c=n(5240),l=n(3012),u=n(998);n(3668);var d=n(899),f=[0,0,0];e.exports=g;function p(e){this._components=e.slice(),this._time=[0],this.prevMatrix=e.slice(),this.nextMatrix=e.slice(),this.computedMatrix=e.slice(),this.computedInverse=e.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var m=p.prototype;m.recalcMatrix=function(e){var t=this._time,n=r.le(t,e),o=this.computedMatrix;if(!(n<0)){var s=this._components;if(n===t.length-1)for(var c=16*n,l=0;l<16;++l)o[l]=s[c++];else{for(var u=t[n+1]-t[n],c=16*n,f=this.prevMatrix,p=!0,l=0;l<16;++l)f[l]=s[c++];for(var m=this.nextMatrix,l=0;l<16;++l)m[l]=s[c++],p&&=f[l]===m[l];if(u<1e-6||p)for(var l=0;l<16;++l)o[l]=f[l];else i(o,f,m,(e-t[n])/u)}var h=this.computedUp;h[0]=o[1],h[1]=o[5],h[2]=o[9],d(h,h);var g=this.computedInverse;a(g,o);var _=this.computedEye,v=g[15];_[0]=g[12]/v,_[1]=g[13]/v,_[2]=g[14]/v;for(var y=this.computedCenter,b=Math.exp(this.computedRadius[0]),l=0;l<3;++l)y[l]=_[l]-o[2+4*l]*b}},m.idle=function(e){if(!(e<this.lastT())){for(var t=this._components,n=t.length-16,r=0;r<16;++r)t.push(t[n++]);this._time.push(e)}},m.flush=function(e){var t=r.gt(this._time,e)-2;t<0||(this._time.splice(0,t),this._components.splice(0,16*t))},m.lastT=function(){return this._time[this._time.length-1]},m.lookAt=function(e,t,n,r){this.recalcMatrix(e),t||=this.computedEye,n||=f,r||=this.computedUp,this.setMatrix(e,l(this.computedMatrix,t,n,r));for(var i=0,a=0;a<3;++a)i+=(n[a]-t[a])**2;i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},m.rotate=function(e,t,n,r){this.recalcMatrix(e);var i=this.computedInverse;t&&s(i,i,t),n&&o(i,i,n),r&&c(i,i,r),this.setMatrix(e,a(this.computedMatrix,i))};var h=[0,0,0];m.pan=function(e,t,n,r){h[0]=-(t||0),h[1]=-(n||0),h[2]=-(r||0),this.recalcMatrix(e);var i=this.computedInverse;u(i,i,h),this.setMatrix(e,a(i,i))},m.translate=function(e,t,n,r){h[0]=t||0,h[1]=n||0,h[2]=r||0,this.recalcMatrix(e);var i=this.computedMatrix;u(i,i,h),this.setMatrix(e,i)},m.setMatrix=function(e,t){if(!(e<this.lastT())){this._time.push(e);for(var n=0;n<16;++n)this._components.push(t[n])}},m.setDistance=function(e,t){this.computedRadius[0]=t},m.setDistanceLimits=function(e,t){var n=this._limits;n[0]=e,n[1]=t},m.getDistanceLimits=function(e){var t=this._limits;return e?(e[0]=t[0],e[1]=t[1],e):t};function g(e){return e||={},new p(e.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},3266:function(e,t,n){e.exports=i;var r=n(417)[3];function i(e){var t=e.length;if(t<3){for(var n=Array(t),i=0;i<t;++i)n[i]=i;return t===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]?[0]:n}for(var a=Array(t),i=0;i<t;++i)a[i]=i;a.sort(function(t,n){return e[t][0]-e[n][0]||e[t][1]-e[n][1]});for(var o=[a[0],a[1]],s=[a[0],a[1]],i=2;i<t;++i){for(var c=a[i],l=e[c],u=o.length;u>1&&r(e[o[u-2]],e[o[u-1]],l)<=0;)--u,o.pop();for(o.push(c),u=s.length;u>1&&r(e[s[u-2]],e[s[u-1]],l)>=0;)--u,s.pop();s.push(c)}for(var n=Array(s.length+o.length-2),d=0,i=0,f=o.length;i<f;++i)n[d++]=o[i];for(var p=s.length-2;p>0;--p)n[d++]=s[p];return n}},6145:function(e,t,n){e.exports=i;var r=n(4110);function i(e,t){t||(t=e,e=window);var n=0,i=0,a=0,o={shift:!1,alt:!1,control:!1,meta:!1},s=!1;function c(e){var t=!1;return`altKey`in e&&(t||=e.altKey!==o.alt,o.alt=!!e.altKey),`shiftKey`in e&&(t||=e.shiftKey!==o.shift,o.shift=!!e.shiftKey),`ctrlKey`in e&&(t||=e.ctrlKey!==o.control,o.control=!!e.ctrlKey),`metaKey`in e&&(t||=e.metaKey!==o.meta,o.meta=!!e.metaKey),t}function l(e,s){var l=r.x(s),u=r.y(s);`buttons`in s&&(e=s.buttons|0),(e!==n||l!==i||u!==a||c(s))&&(n=e|0,i=l||0,a=u||0,t&&t(n,i,a,o))}function u(e){l(0,e)}function d(){(n||i||a||o.shift||o.alt||o.meta||o.control)&&(i=a=0,n=0,o.shift=o.alt=o.control=o.meta=!1,t&&t(0,0,0,o))}function f(e){c(e)&&t&&t(n,i,a,o)}function p(e){r.buttons(e)===0?l(0,e):l(n,e)}function m(e){l(n|r.buttons(e),e)}function h(e){l(n&~r.buttons(e),e)}function g(){s||(s=!0,e.addEventListener(`mousemove`,p),e.addEventListener(`mousedown`,m),e.addEventListener(`mouseup`,h),e.addEventListener(`mouseleave`,u),e.addEventListener(`mouseenter`,u),e.addEventListener(`mouseout`,u),e.addEventListener(`mouseover`,u),e.addEventListener(`blur`,d),e.addEventListener(`keyup`,f),e.addEventListener(`keydown`,f),e.addEventListener(`keypress`,f),e!==window&&(window.addEventListener(`blur`,d),window.addEventListener(`keyup`,f),window.addEventListener(`keydown`,f),window.addEventListener(`keypress`,f)))}function _(){s&&(s=!1,e.removeEventListener(`mousemove`,p),e.removeEventListener(`mousedown`,m),e.removeEventListener(`mouseup`,h),e.removeEventListener(`mouseleave`,u),e.removeEventListener(`mouseenter`,u),e.removeEventListener(`mouseout`,u),e.removeEventListener(`mouseover`,u),e.removeEventListener(`blur`,d),e.removeEventListener(`keyup`,f),e.removeEventListener(`keydown`,f),e.removeEventListener(`keypress`,f),e!==window&&(window.removeEventListener(`blur`,d),window.removeEventListener(`keyup`,f),window.removeEventListener(`keydown`,f),window.removeEventListener(`keypress`,f)))}g();var v={element:e};return Object.defineProperties(v,{enabled:{get:function(){return s},set:function(e){e?g():_()},enumerable:!0},buttons:{get:function(){return n},enumerable:!0},x:{get:function(){return i},enumerable:!0},y:{get:function(){return a},enumerable:!0},mods:{get:function(){return o},enumerable:!0}}),v}},2565:function(e){var t={left:0,top:0};e.exports=n;function n(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var i=e.clientX||0,a=e.clientY||0,o=r(t);return n[0]=i-o.left,n[1]=a-o.top,n}function r(e){return e===window||e===document||e===document.body?t:e.getBoundingClientRect()}},4110:function(e,t){function n(e){if(typeof e==`object`){if(`buttons`in e)return e.buttons;if(`which`in e){var t=e.which;if(t===2)return 4;if(t===3)return 2;if(t>0)return 1<<t-1}else if(`button`in e){var t=e.button;if(t===1)return 4;if(t===2)return 2;if(t>=0)return 1<<t}}return 0}t.buttons=n;function r(e){return e.target||e.srcElement||window}t.element=r;function i(e){if(typeof e==`object`){if(`offsetX`in e)return e.offsetX;var t=r(e).getBoundingClientRect();return e.clientX-t.left}return 0}t.x=i;function a(e){if(typeof e==`object`){if(`offsetY`in e)return e.offsetY;var t=r(e).getBoundingClientRect();return e.clientY-t.top}return 0}t.y=a},6475:function(e,t,n){var r=n(14);e.exports=i;function i(e,t,n){typeof e==`function`&&(n=!!t,t=e,e=window);var i=r(`ex`,e),a=function(e){n&&e.preventDefault();var r=e.deltaX||0,a=e.deltaY||0,o=e.deltaZ||0,s=e.deltaMode,c=1;switch(s){case 1:c=i;break;case 2:c=window.innerHeight;break}if(r*=c,a*=c,o*=c,r||a||o)return t(r,a,o,e)};return e.addEventListener(`wheel`,a),a}},9284:function(e,t,n){var r=n(5306);e.exports=o;var i={"false,0,1":function(e,t,n,r,i){return function(a,o,s,c){var l=a.shape[0]|0,u=a.shape[1]|0,d=a.data,f=a.offset|0,p=a.stride[0]|0,m=a.stride[1]|0,h=f,g,_=-p|0,v=0,y=-m|0,b=0,x=-p-m|0,S=0,C=p|0,w=m-p*l|0,T=0,E=0,D=0,O=2*l|0,k=r(O),A=r(O),j=0,M=0,N=-1,P=-1,F=0,I=-l|0,L=l|0,R=0,z=-l-1|0,B=l-1|0,V=0,H=0,U=0;for(T=0;T<l;++T)k[j++]=n(d[h],o,s,c),h+=C;if(h+=w,u>0){if(E=1,k[j++]=n(d[h],o,s,c),h+=C,l>0)for(T=1,g=d[h],M=k[j]=n(g,o,s,c),F=k[j+N],R=k[j+I],V=k[j+z],(M!==F||M!==R||M!==V)&&(v=d[h+_],b=d[h+y],S=d[h+x],e(T,E,g,v,b,S,M,F,R,V,o,s,c),H=A[j]=D++),j+=1,h+=C,T=2;T<l;++T)g=d[h],M=k[j]=n(g,o,s,c),F=k[j+N],R=k[j+I],V=k[j+z],(M!==F||M!==R||M!==V)&&(v=d[h+_],b=d[h+y],S=d[h+x],e(T,E,g,v,b,S,M,F,R,V,o,s,c),H=A[j]=D++,V!==F&&t(A[j+N],H,S,v,V,F,o,s,c)),j+=1,h+=C;for(h+=w,j=0,U=N,N=P,P=U,U=I,I=L,L=U,U=z,z=B,B=U,E=2;E<u;++E){if(k[j++]=n(d[h],o,s,c),h+=C,l>0)for(T=1,g=d[h],M=k[j]=n(g,o,s,c),F=k[j+N],R=k[j+I],V=k[j+z],(M!==F||M!==R||M!==V)&&(v=d[h+_],b=d[h+y],S=d[h+x],e(T,E,g,v,b,S,M,F,R,V,o,s,c),H=A[j]=D++,V!==R&&t(A[j+I],H,b,S,R,V,o,s,c)),j+=1,h+=C,T=2;T<l;++T)g=d[h],M=k[j]=n(g,o,s,c),F=k[j+N],R=k[j+I],V=k[j+z],(M!==F||M!==R||M!==V)&&(v=d[h+_],b=d[h+y],S=d[h+x],e(T,E,g,v,b,S,M,F,R,V,o,s,c),H=A[j]=D++,V!==R&&t(A[j+I],H,b,S,R,V,o,s,c),V!==F&&t(A[j+N],H,S,v,V,F,o,s,c)),j+=1,h+=C;E&1&&(j=0),U=N,N=P,P=U,U=I,I=L,L=U,U=z,z=B,B=U,h+=w}}i(A),i(k)}},"false,1,0":function(e,t,n,r,i){return function(a,o,s,c){var l=a.shape[0]|0,u=a.shape[1]|0,d=a.data,f=a.offset|0,p=a.stride[0]|0,m=a.stride[1]|0,h=f,g,_=-p|0,v=0,y=-m|0,b=0,x=-p-m|0,S=0,C=m|0,w=p-m*u|0,T=0,E=0,D=0,O=2*u|0,k=r(O),A=r(O),j=0,M=0,N=-1,P=-1,F=0,I=-u|0,L=u|0,R=0,z=-u-1|0,B=u-1|0,V=0,H=0,U=0;for(E=0;E<u;++E)k[j++]=n(d[h],o,s,c),h+=C;if(h+=w,l>0){if(T=1,k[j++]=n(d[h],o,s,c),h+=C,u>0)for(E=1,g=d[h],M=k[j]=n(g,o,s,c),R=k[j+I],F=k[j+N],V=k[j+z],(M!==R||M!==F||M!==V)&&(v=d[h+_],b=d[h+y],S=d[h+x],e(T,E,g,v,b,S,M,R,F,V,o,s,c),H=A[j]=D++),j+=1,h+=C,E=2;E<u;++E)g=d[h],M=k[j]=n(g,o,s,c),R=k[j+I],F=k[j+N],V=k[j+z],(M!==R||M!==F||M!==V)&&(v=d[h+_],b=d[h+y],S=d[h+x],e(T,E,g,v,b,S,M,R,F,V,o,s,c),H=A[j]=D++,V!==F&&t(A[j+N],H,b,S,F,V,o,s,c)),j+=1,h+=C;for(h+=w,j=0,U=I,I=L,L=U,U=N,N=P,P=U,U=z,z=B,B=U,T=2;T<l;++T){if(k[j++]=n(d[h],o,s,c),h+=C,u>0)for(E=1,g=d[h],M=k[j]=n(g,o,s,c),R=k[j+I],F=k[j+N],V=k[j+z],(M!==R||M!==F||M!==V)&&(v=d[h+_],b=d[h+y],S=d[h+x],e(T,E,g,v,b,S,M,R,F,V,o,s,c),H=A[j]=D++,V!==R&&t(A[j+I],H,S,v,V,R,o,s,c)),j+=1,h+=C,E=2;E<u;++E)g=d[h],M=k[j]=n(g,o,s,c),R=k[j+I],F=k[j+N],V=k[j+z],(M!==R||M!==F||M!==V)&&(v=d[h+_],b=d[h+y],S=d[h+x],e(T,E,g,v,b,S,M,R,F,V,o,s,c),H=A[j]=D++,V!==F&&t(A[j+N],H,b,S,F,V,o,s,c),V!==R&&t(A[j+I],H,S,v,V,R,o,s,c)),j+=1,h+=C;T&1&&(j=0),U=I,I=L,L=U,U=N,N=P,P=U,U=z,z=B,B=U,h+=w}}i(A),i(k)}}};function a(e,t,n,a,o,s){var c=i[[s,o].join(`,`)];return c(e,t,n,r.mallocUint32,r.freeUint32)}function o(e){function t(e){throw Error(`ndarray-extract-contour: `+e)}typeof e!=`object`&&t(`Must specify arguments`);var n=e.order;Array.isArray(n)||t(`Must specify order`);var r=e.arrayArguments||1;r<1&&t(`Must have at least one array argument`);var i=e.scalarArguments||0;i<0&&t(`Scalar arg count must be > 0`),typeof e.vertex!=`function`&&t(`Must specify vertex creation function`),typeof e.cell!=`function`&&t(`Must specify cell creation function`),typeof e.phase!=`function`&&t(`Must specify phase function`);for(var o=e.getters||[],s=Array(r),c=0;c<r;++c)o.indexOf(c)>=0?s[c]=!0:s[c]=!1;return a(e.vertex,e.cell,e.phase,i,n,s)}},9144:function(e,t,n){var r=n(3094),i={zero:function(e,t,n,r){var i=e[0],a=n[0];r|=0;var o=0,s=a;for(o=0;o<i;++o)t[r]=0,r+=s},fdTemplate1:function(e,t,n,r,i,a,o){var s=e[0],c=n[0],l=a[0],u=-1*c,d=c;r|=0,o|=0;var f=0,p=c,m=l;for(f=0;f<s;++f)i[o]=.5*(t[r+u]-t[r+d]),r+=p,o+=m},fdTemplate2:function(e,t,n,r,i,a,o,s,c,l){var u=e[0],d=e[1],f=n[0],p=n[1],m=a[0],h=a[1],g=c[0],_=c[1],v=-1*f,y=f,b=-1*p,x=p;r|=0,o|=0,l|=0;var S=0,C=0,w=p,T=f-d*p,E=h,D=m-d*h,O=_,k=g-d*_;for(C=0;C<u;++C){for(S=0;S<d;++S)i[o]=.5*(t[r+v]-t[r+y]),s[l]=.5*(t[r+b]-t[r+x]),r+=w,o+=E,l+=O;r+=T,o+=D,l+=k}}},a={cdiff:function(e){var t={};return function(n,r,i){var a=n.dtype,o=n.order,s=r.dtype,c=r.order,l=i.dtype,u=i.order,d=[a,o.join(),s,c.join(),l,u.join()].join(),f=t[d];return f||(t[d]=f=e([a,o,s,c,l,u])),f(n.shape.slice(0),n.data,n.stride,n.offset|0,r.data,r.stride,r.offset|0,i.data,i.stride,i.offset|0)}},zero:function(e){var t={};return function(n){var r=n.dtype,i=n.order,a=[r,i.join()].join(),o=t[a];return o||(t[a]=o=e([r,i])),o(n.shape.slice(0),n.data,n.stride,n.offset|0)}},fdTemplate1:function(e){var t={};return function(n,r){var i=n.dtype,a=n.order,o=r.dtype,s=r.order,c=[i,a.join(),o,s.join()].join(),l=t[c];return l||(t[c]=l=e([i,a,o,s])),l(n.shape.slice(0),n.data,n.stride,n.offset|0,r.data,r.stride,r.offset|0)}},fdTemplate2:function(e){var t={};return function(n,r,i){var a=n.dtype,o=n.order,s=r.dtype,c=r.order,l=i.dtype,u=i.order,d=[a,o.join(),s,c.join(),l,u.join()].join(),f=t[d];return f||(t[d]=f=e([a,o,s,c,l,u])),f(n.shape.slice(0),n.data,n.stride,n.offset|0,r.data,r.stride,r.offset|0,i.data,i.stride,i.offset|0)}}};function o(e){var t=a[e.funcName];return t(s.bind(void 0,e))}function s(e){return i[e.funcName]}function c(e){return o({funcName:e.funcName})}var l={},u={},d=c({funcName:`cdiff`}),f=c({funcName:`zero`});function p(e){return e in l?l[e]:l[e]=c({funcName:`fdTemplate`+e})}function m(e,t,n,r){return function(e,i){var a=i.shape.slice();return a[0]>2&&a[1]>2&&r(i.pick(-1,-1).lo(1,1).hi(a[0]-2,a[1]-2),e.pick(-1,-1,0).lo(1,1).hi(a[0]-2,a[1]-2),e.pick(-1,-1,1).lo(1,1).hi(a[0]-2,a[1]-2)),a[1]>2&&(n(i.pick(0,-1).lo(1).hi(a[1]-2),e.pick(0,-1,1).lo(1).hi(a[1]-2)),t(e.pick(0,-1,0).lo(1).hi(a[1]-2))),a[1]>2&&(n(i.pick(a[0]-1,-1).lo(1).hi(a[1]-2),e.pick(a[0]-1,-1,1).lo(1).hi(a[1]-2)),t(e.pick(a[0]-1,-1,0).lo(1).hi(a[1]-2))),a[0]>2&&(n(i.pick(-1,0).lo(1).hi(a[0]-2),e.pick(-1,0,0).lo(1).hi(a[0]-2)),t(e.pick(-1,0,1).lo(1).hi(a[0]-2))),a[0]>2&&(n(i.pick(-1,a[1]-1).lo(1).hi(a[0]-2),e.pick(-1,a[1]-1,0).lo(1).hi(a[0]-2)),t(e.pick(-1,a[1]-1,1).lo(1).hi(a[0]-2))),e.set(0,0,0,0),e.set(0,0,1,0),e.set(a[0]-1,0,0,0),e.set(a[0]-1,0,1,0),e.set(0,a[1]-1,0,0),e.set(0,a[1]-1,1,0),e.set(a[0]-1,a[1]-1,0,0),e.set(a[0]-1,a[1]-1,1,0),e}}function h(e){var t=e.join(),n=u[t];if(n)return n;for(var r=e.length,i=[d,f],a=1;a<=r;++a)i.push(p(a));var n=m.apply(void 0,i);return u[t]=n,n}e.exports=function(e,t,n){return Array.isArray(n)||(n=typeof n==`string`?r(t.dimension,n):r(t.dimension,`clamp`)),t.size===0?e:t.dimension===0?(e.set(0),e):h(n)(e,t)}},3581:function(e){function t(e,t){var n=Math.floor(t),r=t-n,i=0<=n&&n<e.shape[0],a=0<=n+1&&n+1<e.shape[0],o=i?+e.get(n):0,s=a?+e.get(n+1):0;return(1-r)*o+r*s}function n(e,t,n){var r=Math.floor(t),i=t-r,a=0<=r&&r<e.shape[0],o=0<=r+1&&r+1<e.shape[0],s=Math.floor(n),c=n-s,l=0<=s&&s<e.shape[1],u=0<=s+1&&s+1<e.shape[1],d=a&&l?e.get(r,s):0,f=a&&u?e.get(r,s+1):0,p=o&&l?e.get(r+1,s):0,m=o&&u?e.get(r+1,s+1):0;return(1-c)*((1-i)*d+i*p)+c*((1-i)*f+i*m)}function r(e,t,n,r){var i=Math.floor(t),a=t-i,o=0<=i&&i<e.shape[0],s=0<=i+1&&i+1<e.shape[0],c=Math.floor(n),l=n-c,u=0<=c&&c<e.shape[1],d=0<=c+1&&c+1<e.shape[1],f=Math.floor(r),p=r-f,m=0<=f&&f<e.shape[2],h=0<=f+1&&f+1<e.shape[2],g=o&&u&&m?e.get(i,c,f):0,_=o&&d&&m?e.get(i,c+1,f):0,v=s&&u&&m?e.get(i+1,c,f):0,y=s&&d&&m?e.get(i+1,c+1,f):0,b=o&&u&&h?e.get(i,c,f+1):0,x=o&&d&&h?e.get(i,c+1,f+1):0,S=s&&u&&h?e.get(i+1,c,f+1):0,C=s&&d&&h?e.get(i+1,c+1,f+1):0;return(1-p)*((1-l)*((1-a)*g+a*v)+l*((1-a)*_+a*y))+p*((1-l)*((1-a)*b+a*S)+l*((1-a)*x+a*C))}function i(e){var t=e.shape.length|0,n=Array(t),r=Array(t),i=Array(t),a=Array(t),o,s;for(o=0;o<t;++o)s=+arguments[o+1],n[o]=Math.floor(s),r[o]=s-n[o],i[o]=0<=n[o]&&n[o]<e.shape[o],a[o]=0<=n[o]+1&&n[o]+1<e.shape[o];var c=0,l,u,d;i_loop:for(o=0;o<1<<t;++o){for(u=1,d=e.offset,l=0;l<t;++l)if(o&1<<l){if(!a[l])continue i_loop;u*=r[l],d+=e.stride[l]*(n[l]+1)}else{if(!i[l])continue i_loop;u*=1-r[l],d+=e.stride[l]*n[l]}c+=u*e.data[d]}return c}function a(e,a,o,s){switch(e.shape.length){case 0:return 0;case 1:return t(e,a);case 2:return n(e,a,o);case 3:return r(e,a,o,s);default:return i.apply(void 0,arguments)}}e.exports=a,e.exports.d1=t,e.exports.d2=n,e.exports.d3=r},7498:function(e,t){var n={"float64,2,1,0":function(){return function(e,t,n,r,i){var a=e[0],o=e[1],s=e[2],c=n[0],l=n[1],u=n[2];r|=0;var d=0,f=0,p=0,m=u,h=l-s*u,g=c-o*l;for(p=0;p<a;++p){for(f=0;f<o;++f){for(d=0;d<s;++d)t[r]/=i,r+=m;r+=h}r+=g}}},"uint8,2,0,1,float64,2,1,0":function(){return function(e,t,n,r,i,a,o,s){var c=e[0],l=e[1],u=e[2],d=n[0],f=n[1],p=n[2],m=a[0],h=a[1],g=a[2];r|=0,o|=0;for(var _=r,v=o,y=e[0]|0;y>0;){y<64?(c=y,y=0):(c=64,y-=64);for(var b=e[1]|0;b>0;){b<64?(l=b,b=0):(l=64,b-=64),r=_+y*d+b*f,o=v+y*m+b*h;var x=0,S=0,C=0,w=p,T=d-u*p,E=f-c*d,D=g,O=m-u*g,k=h-c*m;for(C=0;C<l;++C){for(S=0;S<c;++S){for(x=0;x<u;++x)t[r]=i[o]*s,r+=w,o+=D;r+=T,o+=O}r+=E,o+=k}}}}},"float32,1,0,float32,1,0":function(){return function(e,t,n,r,i,a,o){var s=e[0],c=e[1],l=n[0],u=n[1],d=a[0],f=a[1];r|=0,o|=0;var p=0,m=0,h=u,g=l-c*u,_=f,v=d-c*f;for(m=0;m<s;++m){for(p=0;p<c;++p)t[r]=i[o],r+=h,o+=_;r+=g,o+=v}}},"float32,1,0,float32,0,1":function(){return function(e,t,n,r,i,a,o){var s=e[0],c=e[1],l=n[0],u=n[1],d=a[0],f=a[1];r|=0,o|=0;for(var p=r,m=o,h=e[1]|0;h>0;){h<64?(c=h,h=0):(c=64,h-=64);for(var g=e[0]|0;g>0;){g<64?(s=g,g=0):(s=64,g-=64),r=p+h*u+g*l,o=m+h*f+g*d;var _=0,v=0,y=u,b=l-c*u,x=f,S=d-c*f;for(v=0;v<s;++v){for(_=0;_<c;++_)t[r]=i[o],r+=y,o+=x;r+=b,o+=S}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(e,t,n,r,i,a,o){var s=e[0],c=e[1],l=e[2],u=n[0],d=n[1],f=n[2],p=a[0],m=a[1],h=a[2];r|=0,o|=0;for(var g=r,_=o,v=e[2]|0;v>0;){v<64?(l=v,v=0):(l=64,v-=64);for(var y=e[0]|0;y>0;){y<64?(s=y,y=0):(s=64,y-=64);for(var b=e[1]|0;b>0;){b<64?(c=b,b=0):(c=64,b-=64),r=g+v*f+y*u+b*d,o=_+v*h+y*p+b*m;var x=0,S=0,C=0,w=f,T=u-l*f,E=d-s*u,D=h,O=p-l*h,k=m-s*p;for(C=0;C<c;++C){for(S=0;S<s;++S){for(x=0;x<l;++x)t[r]=i[o],r+=w,o+=D;r+=T,o+=O}r+=E,o+=k}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(e,t,n,r,i,a,o){var s=e[0],c=e[1],l=e[2],u=n[0],d=n[1],f=n[2],p=a[0],m=a[1],h=a[2];r|=0,o|=0;var g=0,_=0,v=0,y=f,b=u-l*f,x=d-s*u,S=h,C=p-l*h,w=m-s*p;for(v=0;v<c;++v){for(_=0;_<s;++_){for(g=0;g<l;++g)t[r]=i[o],r+=y,o+=S;r+=b,o+=C}r+=x,o+=w}}}};function r(e,t){var r=n[t.join(`,`)];return r()}var i=r,a={mul:function(e){var t={};return function(n,r,i){var a=n.dtype,o=n.order,s=r.dtype,c=r.order,l=i.dtype,u=i.order,d=[a,o.join(),s,c.join(),l,u.join()].join(),f=t[d];return f||(t[d]=f=e([a,o,s,c,l,u])),f(n.shape.slice(0),n.data,n.stride,n.offset|0,r.data,r.stride,r.offset|0,i.data,i.stride,i.offset|0)}},muls:function(e){var t={};return function(n,r,i){var a=n.dtype,o=n.order,s=r.dtype,c=r.order,l=[a,o.join(),s,c.join()].join(),u=t[l];return u||(t[l]=u=e([a,o,s,c])),u(n.shape.slice(0),n.data,n.stride,n.offset|0,r.data,r.stride,r.offset|0,i)}},mulseq:function(e){var t={};return function(n,r){var i=n.dtype,a=n.order,o=[i,a.join()].join(),s=t[o];return s||(t[o]=s=e([i,a])),s(n.shape.slice(0),n.data,n.stride,n.offset|0,r)}},div:function(e){var t={};return function(n,r,i){var a=n.dtype,o=n.order,s=r.dtype,c=r.order,l=i.dtype,u=i.order,d=[a,o.join(),s,c.join(),l,u.join()].join(),f=t[d];return f||(t[d]=f=e([a,o,s,c,l,u])),f(n.shape.slice(0),n.data,n.stride,n.offset|0,r.data,r.stride,r.offset|0,i.data,i.stride,i.offset|0)}},divs:function(e){var t={};return function(n,r,i){var a=n.dtype,o=n.order,s=r.dtype,c=r.order,l=[a,o.join(),s,c.join()].join(),u=t[l];return u||(t[l]=u=e([a,o,s,c])),u(n.shape.slice(0),n.data,n.stride,n.offset|0,r.data,r.stride,r.offset|0,i)}},divseq:function(e){var t={};return function(n,r){var i=n.dtype,a=n.order,o=[i,a.join()].join(),s=t[o];return s||(t[o]=s=e([i,a])),s(n.shape.slice(0),n.data,n.stride,n.offset|0,r)}},assign:function(e){var t={};return function(n,r){var i=n.dtype,a=n.order,o=r.dtype,s=r.order,c=[i,a.join(),o,s.join()].join(),l=t[c];return l||(t[c]=l=e([i,a,o,s])),l(n.shape.slice(0),n.data,n.stride,n.offset|0,r.data,r.stride,r.offset|0)}}};function o(e){var t=a[e.funcName];return t(i.bind(void 0,e))}function s(e){return o({funcName:e.funcName})}var c={mul:`*`,div:`/`};(function(){for(var e in c)t[e]=s({funcName:e}),t[e+`s`]=s({funcName:e+`s`}),t[e+`seq`]=s({funcName:e+`seq`})})(),t.assign=s({funcName:`assign`})},7382:function(e,t,n){var r=n(5050),i=n(9262);e.exports=function(e,t){for(var n=[],a=e,o=1;Array.isArray(a);)n.push(a.length),o*=a.length,a=a[0];return n.length===0?r():(t||=r(new Float64Array(o),n),i(t,e),t)}},9262:function(e){function t(){return function(e,t,n,r,i){var a=e[0],o=e[1],s=e[2],c=n[0],l=n[1],u=n[2],d=[0,0,0];r|=0;var f=0,p=0,m=0,h=u,g=l-s*u,_=c-o*l;for(m=0;m<a;++m){for(p=0;p<o;++p){for(f=0;f<s;++f){var v=i,y;for(y=0;y<d.length-1;++y)v=v[d[y]];t[r]=v[d[d.length-1]],r+=h,++d[2]}r+=g,d[2]-=s,++d[1]}r+=_,d[1]-=o,++d[0]}}}function n(){return t()}var r=n;function i(e){var t={};return function(n,r){var i=n.dtype,a=n.order,o=[i,a.join()].join(),s=t[o];return s||(t[o]=s=e([i,a])),s(n.shape.slice(0),n.data,n.stride,n.offset|0,r)}}function a(e){return i(r.bind(void 0,e))}function o(e){return a({funcName:e.funcName})}e.exports=o({funcName:`convert`})},8139:function(e,t,n){var r=n(5306);function i(e){switch(e){case`uint32`:return[r.mallocUint32,r.freeUint32];default:return null}}var a={"uint32,1,0":function(e,t){return function(n,r,i,a,o,s,c,l,u,d,f){var p,m,h,g=n*o+a,_,v=e(l),y,b,x,S;for(p=n+1;p<=r;++p){for(m=p,g+=o,h=g,y=0,b=g,_=0;_<l;++_)v[y++]=i[b],b+=u;__g:for(;m-- >n;){y=0,b=h-o;__l:for(_=0;_<l;++_){if(x=i[b],S=v[y],x<S)break __g;if(x>S)break __l;b+=d,y+=f}for(y=h,b=h-o,_=0;_<l;++_)i[y]=i[b],y+=u,b+=u;h-=o}for(y=h,b=0,_=0;_<l;++_)i[y]=v[b++],y+=u}t(v)}}};function o(e,t){var n=i(t),r=a[[t,e].join(`,`)];return n?r(n[0],n[1]):r()}var s={"uint32,1,0":function(e,t,n){return function r(i,a,o,s,c,l,u,d,f,p,m){var h=(a-i+1)/6|0,g=i+h,_=a-h,v=i+a>>1,y=v-h,b=v+h,x=g,S=y,C=v,w=b,T=_,E=i+1,D=a-1,O=!0,k,A,j,M,N,P,F,I,L,R=0,z=0,B=0,V,H,U,W,G,K,ee,q,J,Y,te,ne,re,ie,ae,oe,se=d,ce=t(se),le=t(se);H=c*x,U=c*S,oe=s;__l1:for(V=0;V<d;++V){if(F=H+oe,I=U+oe,B=o[F]-o[I],B>0){A=x,x=S,S=A;break __l1}if(B<0)break __l1;oe+=p}H=c*w,U=c*T,oe=s;__l2:for(V=0;V<d;++V){if(F=H+oe,I=U+oe,B=o[F]-o[I],B>0){A=w,w=T,T=A;break __l2}if(B<0)break __l2;oe+=p}H=c*x,U=c*C,oe=s;__l3:for(V=0;V<d;++V){if(F=H+oe,I=U+oe,B=o[F]-o[I],B>0){A=x,x=C,C=A;break __l3}if(B<0)break __l3;oe+=p}H=c*S,U=c*C,oe=s;__l4:for(V=0;V<d;++V){if(F=H+oe,I=U+oe,B=o[F]-o[I],B>0){A=S,S=C,C=A;break __l4}if(B<0)break __l4;oe+=p}H=c*x,U=c*w,oe=s;__l5:for(V=0;V<d;++V){if(F=H+oe,I=U+oe,B=o[F]-o[I],B>0){A=x,x=w,w=A;break __l5}if(B<0)break __l5;oe+=p}H=c*C,U=c*w,oe=s;__l6:for(V=0;V<d;++V){if(F=H+oe,I=U+oe,B=o[F]-o[I],B>0){A=C,C=w,w=A;break __l6}if(B<0)break __l6;oe+=p}H=c*S,U=c*T,oe=s;__l7:for(V=0;V<d;++V){if(F=H+oe,I=U+oe,B=o[F]-o[I],B>0){A=S,S=T,T=A;break __l7}if(B<0)break __l7;oe+=p}H=c*S,U=c*C,oe=s;__l8:for(V=0;V<d;++V){if(F=H+oe,I=U+oe,B=o[F]-o[I],B>0){A=S,S=C,C=A;break __l8}if(B<0)break __l8;oe+=p}H=c*w,U=c*T,oe=s;__l9:for(V=0;V<d;++V){if(F=H+oe,I=U+oe,B=o[F]-o[I],B>0){A=w,w=T,T=A;break __l9}if(B<0)break __l9;oe+=p}for(H=c*x,U=c*S,W=c*C,G=c*w,K=c*T,ee=c*g,q=c*v,J=c*_,ae=0,oe=s,V=0;V<d;++V)F=H+oe,I=U+oe,L=W+oe,Y=G+oe,te=K+oe,ne=ee+oe,re=q+oe,ie=J+oe,ce[ae]=o[I],le[ae]=o[Y],O&&=ce[ae]===le[ae],j=o[F],M=o[L],N=o[te],o[ne]=j,o[re]=M,o[ie]=N,++ae,oe+=f;for(H=c*y,U=c*i,oe=s,V=0;V<d;++V)F=H+oe,I=U+oe,o[F]=o[I],oe+=f;for(H=c*b,U=c*a,oe=s,V=0;V<d;++V)F=H+oe,I=U+oe,o[F]=o[I],oe+=f;if(O)for(P=E;P<=D;++P){F=s+P*c,ae=0;__l10:for(V=0;V<d;++V){if(B=o[F]-ce[ae],B!==0)break __l10;ae+=m,F+=p}if(B!==0)if(B<0){if(P!==E)for(H=c*P,U=c*E,oe=s,V=0;V<d;++V)F=H+oe,I=U+oe,k=o[F],o[F]=o[I],o[I]=k,oe+=f;++E}else for(;;){F=s+D*c,ae=0;__l11:for(V=0;V<d;++V){if(B=o[F]-ce[ae],B!==0)break __l11;ae+=m,F+=p}if(B>0)D--;else if(B<0){for(H=c*P,U=c*E,W=c*D,oe=s,V=0;V<d;++V)F=H+oe,I=U+oe,L=W+oe,k=o[F],o[F]=o[I],o[I]=o[L],o[L]=k,oe+=f;++E,--D;break}else{for(H=c*P,U=c*D,oe=s,V=0;V<d;++V)F=H+oe,I=U+oe,k=o[F],o[F]=o[I],o[I]=k,oe+=f;--D;break}}}else for(P=E;P<=D;++P){F=s+P*c,ae=0;__l12:for(V=0;V<d;++V){if(R=o[F]-ce[ae],R!==0)break __l12;ae+=m,F+=p}if(R<0){if(P!==E)for(H=c*P,U=c*E,oe=s,V=0;V<d;++V)F=H+oe,I=U+oe,k=o[F],o[F]=o[I],o[I]=k,oe+=f;++E}else{F=s+P*c,ae=0;__l13:for(V=0;V<d;++V){if(z=o[F]-le[ae],z!==0)break __l13;ae+=m,F+=p}if(z>0)for(;;){F=s+D*c,ae=0;__l14:for(V=0;V<d;++V){if(B=o[F]-le[ae],B!==0)break __l14;ae+=m,F+=p}if(B>0){if(--D<P)break;continue}else{F=s+D*c,ae=0;__l15:for(V=0;V<d;++V){if(B=o[F]-ce[ae],B!==0)break __l15;ae+=m,F+=p}if(B<0){for(H=c*P,U=c*E,W=c*D,oe=s,V=0;V<d;++V)F=H+oe,I=U+oe,L=W+oe,k=o[F],o[F]=o[I],o[I]=o[L],o[L]=k,oe+=f;++E,--D}else{for(H=c*P,U=c*D,oe=s,V=0;V<d;++V)F=H+oe,I=U+oe,k=o[F],o[F]=o[I],o[I]=k,oe+=f;--D}break}}}}for(H=c*i,U=c*(E-1),ae=0,oe=s,V=0;V<d;++V)F=H+oe,I=U+oe,o[F]=o[I],o[I]=ce[ae],++ae,oe+=f;for(H=c*a,U=c*(D+1),ae=0,oe=s,V=0;V<d;++V)F=H+oe,I=U+oe,o[F]=o[I],o[I]=le[ae],++ae,oe+=f;if(E-2-i<=32?e(i,E-2,o,s,c,l,u,d,f,p,m):r(i,E-2,o,s,c,l,u,d,f,p,m),a-(D+2)<=32?e(D+2,a,o,s,c,l,u,d,f,p,m):r(D+2,a,o,s,c,l,u,d,f,p,m),O){n(ce),n(le);return}if(E<g&&D>_){__l16:for(;;){for(F=s+E*c,ae=0,oe=s,V=0;V<d;++V){if(o[F]!==ce[ae])break __l16;++ae,F+=f}++E}__l17:for(;;){for(F=s+D*c,ae=0,oe=s,V=0;V<d;++V){if(o[F]!==le[ae])break __l17;++ae,F+=f}--D}for(P=E;P<=D;++P){F=s+P*c,ae=0;__l18:for(V=0;V<d;++V){if(R=o[F]-ce[ae],R!==0)break __l18;ae+=m,F+=p}if(R===0){if(P!==E)for(H=c*P,U=c*E,oe=s,V=0;V<d;++V)F=H+oe,I=U+oe,k=o[F],o[F]=o[I],o[I]=k,oe+=f;++E}else{F=s+P*c,ae=0;__l19:for(V=0;V<d;++V){if(z=o[F]-le[ae],z!==0)break __l19;ae+=m,F+=p}if(z===0)for(;;){F=s+D*c,ae=0;__l20:for(V=0;V<d;++V){if(B=o[F]-le[ae],B!==0)break __l20;ae+=m,F+=p}if(B===0){if(--D<P)break;continue}else{F=s+D*c,ae=0;__l21:for(V=0;V<d;++V){if(B=o[F]-ce[ae],B!==0)break __l21;ae+=m,F+=p}if(B<0){for(H=c*P,U=c*E,W=c*D,oe=s,V=0;V<d;++V)F=H+oe,I=U+oe,L=W+oe,k=o[F],o[F]=o[I],o[I]=o[L],o[L]=k,oe+=f;++E,--D}else{for(H=c*P,U=c*D,oe=s,V=0;V<d;++V)F=H+oe,I=U+oe,k=o[F],o[F]=o[I],o[I]=k,oe+=f;--D}break}}}}}n(ce),n(le),D-E<=32?e(E,D,o,s,c,l,u,d,f,p,m):r(E,D,o,s,c,l,u,d,f,p,m)}}};function c(e,t,n){var r=i(t),a=s[[t,e].join(`,`)];return e.length>1&&r?a(n,r[0],r[1]):a(n)}var l={"uint32,1,0":function(e,t){return function(n){var r=n.data,i=n.offset|0,a=n.shape,o=n.stride,s=o[0]|0,c=a[0]|0,l=o[1]|0,u=a[1]|0,d=l,f=l,p=1;c<=32?e(0,c-1,r,i,s,l,c,u,d,f,p):t(0,c-1,r,i,s,l,c,u,d,f,p)}}};function u(e,t){var n=l[[t,e].join(`,`)],r=o(e,t);return n(r,c(e,t,r))}e.exports=u},8729:function(e,t,n){var r=n(8139),i={};function a(e){var t=e.order,n=e.dtype,a=[t,n].join(`:`),o=i[a];return o||(i[a]=o=r(t,n)),o(e),e}e.exports=a},5050:function(e,t,n){var r=n(4780),i=typeof Float64Array<`u`;function a(e,t){return e[0]-t[0]}function o(){var e=this.stride,t=Array(e.length),n;for(n=0;n<t.length;++n)t[n]=[Math.abs(e[n]),n];t.sort(a);var r=Array(t.length);for(n=0;n<r.length;++n)r[n]=t[n][1];return r}var s={T:function(e){function t(e){this.data=e}var n=t.prototype;return n.dtype=e,n.index=function(){return-1},n.size=0,n.dimension=-1,n.shape=n.stride=n.order=[],n.lo=n.hi=n.transpose=n.step=function(){return new t(this.data)},n.get=n.set=function(){},n.pick=function(){return null},function(e){return new t(e)}},0:function(e,t){function n(e,t){this.data=e,this.offset=t}var r=n.prototype;return r.dtype=e,r.index=function(){return this.offset},r.dimension=0,r.size=1,r.shape=r.stride=r.order=[],r.lo=r.hi=r.transpose=r.step=function(){return new n(this.data,this.offset)},r.pick=function(){return t(this.data)},r.valueOf=r.get=function(){return e===`generic`?this.data.get(this.offset):this.data[this.offset]},r.set=function(t){return e===`generic`?this.data.set(this.offset,t):this.data[this.offset]=t},function(e,t,r,i){return new n(e,i)}},1:function(e,t,n){function r(e,t,n,r){this.data=e,this.shape=[t],this.stride=[n],this.offset=r|0}var i=r.prototype;return i.dtype=e,i.dimension=1,Object.defineProperty(i,`size`,{get:function(){return this.shape[0]}}),i.order=[0],i.set=function(t,n){return e===`generic`?this.data.set(this.offset+this.stride[0]*t,n):this.data[this.offset+this.stride[0]*t]=n},i.get=function(t){return e===`generic`?this.data.get(this.offset+this.stride[0]*t):this.data[this.offset+this.stride[0]*t]},i.index=function(e){return this.offset+this.stride[0]*e},i.hi=function(e){return new r(this.data,typeof e!=`number`||e<0?this.shape[0]:e|0,this.stride[0],this.offset)},i.lo=function(e){var t=this.offset,n=0,i=this.shape[0],a=this.stride[0];return typeof e==`number`&&e>=0&&(n=e|0,t+=a*n,i-=n),new r(this.data,i,a,t)},i.step=function(e){var t=this.shape[0],n=this.stride[0],i=this.offset,a=0,o=Math.ceil;return typeof e==`number`&&(a=e|0,a<0?(i+=n*(t-1),t=o(-t/a)):t=o(t/a),n*=a),new r(this.data,t,n,i)},i.transpose=function(e){e=e===void 0?0:e|0;var t=this.shape,n=this.stride;return new r(this.data,t[e],n[e],this.offset)},i.pick=function(e){var n=[],r=[],i=this.offset;typeof e==`number`&&e>=0?i=i+this.stride[0]*e|0:(n.push(this.shape[0]),r.push(this.stride[0]));var a=t[n.length+1];return a(this.data,n,r,i)},function(e,t,n,i){return new r(e,t[0],n[0],i)}},2:function(e,t,n){function r(e,t,n,r,i,a){this.data=e,this.shape=[t,n],this.stride=[r,i],this.offset=a|0}var i=r.prototype;return i.dtype=e,i.dimension=2,Object.defineProperty(i,`size`,{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(i,`order`,{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),i.set=function(t,n,r){return e===`generic`?this.data.set(this.offset+this.stride[0]*t+this.stride[1]*n,r):this.data[this.offset+this.stride[0]*t+this.stride[1]*n]=r},i.get=function(t,n){return e===`generic`?this.data.get(this.offset+this.stride[0]*t+this.stride[1]*n):this.data[this.offset+this.stride[0]*t+this.stride[1]*n]},i.index=function(e,t){return this.offset+this.stride[0]*e+this.stride[1]*t},i.hi=function(e,t){return new r(this.data,typeof e!=`number`||e<0?this.shape[0]:e|0,typeof t!=`number`||t<0?this.shape[1]:t|0,this.stride[0],this.stride[1],this.offset)},i.lo=function(e,t){var n=this.offset,i=0,a=this.shape[0],o=this.shape[1],s=this.stride[0],c=this.stride[1];return typeof e==`number`&&e>=0&&(i=e|0,n+=s*i,a-=i),typeof t==`number`&&t>=0&&(i=t|0,n+=c*i,o-=i),new r(this.data,a,o,s,c,n)},i.step=function(e,t){var n=this.shape[0],i=this.shape[1],a=this.stride[0],o=this.stride[1],s=this.offset,c=0,l=Math.ceil;return typeof e==`number`&&(c=e|0,c<0?(s+=a*(n-1),n=l(-n/c)):n=l(n/c),a*=c),typeof t==`number`&&(c=t|0,c<0?(s+=o*(i-1),i=l(-i/c)):i=l(i/c),o*=c),new r(this.data,n,i,a,o,s)},i.transpose=function(e,t){e=e===void 0?0:e|0,t=t===void 0?1:t|0;var n=this.shape,i=this.stride;return new r(this.data,n[e],n[t],i[e],i[t],this.offset)},i.pick=function(e,n){var r=[],i=[],a=this.offset;typeof e==`number`&&e>=0?a=a+this.stride[0]*e|0:(r.push(this.shape[0]),i.push(this.stride[0])),typeof n==`number`&&n>=0?a=a+this.stride[1]*n|0:(r.push(this.shape[1]),i.push(this.stride[1]));var o=t[r.length+1];return o(this.data,r,i,a)},function(e,t,n,i){return new r(e,t[0],t[1],n[0],n[1],i)}},3:function(e,t,n){function r(e,t,n,r,i,a,o,s){this.data=e,this.shape=[t,n,r],this.stride=[i,a,o],this.offset=s|0}var i=r.prototype;return i.dtype=e,i.dimension=3,Object.defineProperty(i,`size`,{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(i,`order`,{get:function(){var e=Math.abs(this.stride[0]),t=Math.abs(this.stride[1]),n=Math.abs(this.stride[2]);return e>t?t>n?[2,1,0]:e>n?[1,2,0]:[1,0,2]:e>n?[2,0,1]:n>t?[0,1,2]:[0,2,1]}}),i.set=function(t,n,r,i){return e===`generic`?this.data.set(this.offset+this.stride[0]*t+this.stride[1]*n+this.stride[2]*r,i):this.data[this.offset+this.stride[0]*t+this.stride[1]*n+this.stride[2]*r]=i},i.get=function(t,n,r){return e===`generic`?this.data.get(this.offset+this.stride[0]*t+this.stride[1]*n+this.stride[2]*r):this.data[this.offset+this.stride[0]*t+this.stride[1]*n+this.stride[2]*r]},i.index=function(e,t,n){return this.offset+this.stride[0]*e+this.stride[1]*t+this.stride[2]*n},i.hi=function(e,t,n){return new r(this.data,typeof e!=`number`||e<0?this.shape[0]:e|0,typeof t!=`number`||t<0?this.shape[1]:t|0,typeof n!=`number`||n<0?this.shape[2]:n|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},i.lo=function(e,t,n){var i=this.offset,a=0,o=this.shape[0],s=this.shape[1],c=this.shape[2],l=this.stride[0],u=this.stride[1],d=this.stride[2];return typeof e==`number`&&e>=0&&(a=e|0,i+=l*a,o-=a),typeof t==`number`&&t>=0&&(a=t|0,i+=u*a,s-=a),typeof n==`number`&&n>=0&&(a=n|0,i+=d*a,c-=a),new r(this.data,o,s,c,l,u,d,i)},i.step=function(e,t,n){var i=this.shape[0],a=this.shape[1],o=this.shape[2],s=this.stride[0],c=this.stride[1],l=this.stride[2],u=this.offset,d=0,f=Math.ceil;return typeof e==`number`&&(d=e|0,d<0?(u+=s*(i-1),i=f(-i/d)):i=f(i/d),s*=d),typeof t==`number`&&(d=t|0,d<0?(u+=c*(a-1),a=f(-a/d)):a=f(a/d),c*=d),typeof n==`number`&&(d=n|0,d<0?(u+=l*(o-1),o=f(-o/d)):o=f(o/d),l*=d),new r(this.data,i,a,o,s,c,l,u)},i.transpose=function(e,t,n){e=e===void 0?0:e|0,t=t===void 0?1:t|0,n=n===void 0?2:n|0;var i=this.shape,a=this.stride;return new r(this.data,i[e],i[t],i[n],a[e],a[t],a[n],this.offset)},i.pick=function(e,n,r){var i=[],a=[],o=this.offset;typeof e==`number`&&e>=0?o=o+this.stride[0]*e|0:(i.push(this.shape[0]),a.push(this.stride[0])),typeof n==`number`&&n>=0?o=o+this.stride[1]*n|0:(i.push(this.shape[1]),a.push(this.stride[1])),typeof r==`number`&&r>=0?o=o+this.stride[2]*r|0:(i.push(this.shape[2]),a.push(this.stride[2]));var s=t[i.length+1];return s(this.data,i,a,o)},function(e,t,n,i){return new r(e,t[0],t[1],t[2],n[0],n[1],n[2],i)}},4:function(e,t,n){function r(e,t,n,r,i,a,o,s,c,l){this.data=e,this.shape=[t,n,r,i],this.stride=[a,o,s,c],this.offset=l|0}var i=r.prototype;return i.dtype=e,i.dimension=4,Object.defineProperty(i,`size`,{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(i,`order`,{get:n}),i.set=function(t,n,r,i,a){return e===`generic`?this.data.set(this.offset+this.stride[0]*t+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i,a):this.data[this.offset+this.stride[0]*t+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i]=a},i.get=function(t,n,r,i){return e===`generic`?this.data.get(this.offset+this.stride[0]*t+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i):this.data[this.offset+this.stride[0]*t+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i]},i.index=function(e,t,n,r){return this.offset+this.stride[0]*e+this.stride[1]*t+this.stride[2]*n+this.stride[3]*r},i.hi=function(e,t,n,i){return new r(this.data,typeof e!=`number`||e<0?this.shape[0]:e|0,typeof t!=`number`||t<0?this.shape[1]:t|0,typeof n!=`number`||n<0?this.shape[2]:n|0,typeof i!=`number`||i<0?this.shape[3]:i|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},i.lo=function(e,t,n,i){var a=this.offset,o=0,s=this.shape[0],c=this.shape[1],l=this.shape[2],u=this.shape[3],d=this.stride[0],f=this.stride[1],p=this.stride[2],m=this.stride[3];return typeof e==`number`&&e>=0&&(o=e|0,a+=d*o,s-=o),typeof t==`number`&&t>=0&&(o=t|0,a+=f*o,c-=o),typeof n==`number`&&n>=0&&(o=n|0,a+=p*o,l-=o),typeof i==`number`&&i>=0&&(o=i|0,a+=m*o,u-=o),new r(this.data,s,c,l,u,d,f,p,m,a)},i.step=function(e,t,n,i){var a=this.shape[0],o=this.shape[1],s=this.shape[2],c=this.shape[3],l=this.stride[0],u=this.stride[1],d=this.stride[2],f=this.stride[3],p=this.offset,m=0,h=Math.ceil;return typeof e==`number`&&(m=e|0,m<0?(p+=l*(a-1),a=h(-a/m)):a=h(a/m),l*=m),typeof t==`number`&&(m=t|0,m<0?(p+=u*(o-1),o=h(-o/m)):o=h(o/m),u*=m),typeof n==`number`&&(m=n|0,m<0?(p+=d*(s-1),s=h(-s/m)):s=h(s/m),d*=m),typeof i==`number`&&(m=i|0,m<0?(p+=f*(c-1),c=h(-c/m)):c=h(c/m),f*=m),new r(this.data,a,o,s,c,l,u,d,f,p)},i.transpose=function(e,t,n,i){e=e===void 0?0:e|0,t=t===void 0?1:t|0,n=n===void 0?2:n|0,i=i===void 0?3:i|0;var a=this.shape,o=this.stride;return new r(this.data,a[e],a[t],a[n],a[i],o[e],o[t],o[n],o[i],this.offset)},i.pick=function(e,n,r,i){var a=[],o=[],s=this.offset;typeof e==`number`&&e>=0?s=s+this.stride[0]*e|0:(a.push(this.shape[0]),o.push(this.stride[0])),typeof n==`number`&&n>=0?s=s+this.stride[1]*n|0:(a.push(this.shape[1]),o.push(this.stride[1])),typeof r==`number`&&r>=0?s=s+this.stride[2]*r|0:(a.push(this.shape[2]),o.push(this.stride[2])),typeof i==`number`&&i>=0?s=s+this.stride[3]*i|0:(a.push(this.shape[3]),o.push(this.stride[3]));var c=t[a.length+1];return c(this.data,a,o,s)},function(e,t,n,i){return new r(e,t[0],t[1],t[2],t[3],n[0],n[1],n[2],n[3],i)}},5:function(e,t,n){function r(e,t,n,r,i,a,o,s,c,l,u,d){this.data=e,this.shape=[t,n,r,i,a],this.stride=[o,s,c,l,u],this.offset=d|0}var i=r.prototype;return i.dtype=e,i.dimension=5,Object.defineProperty(i,`size`,{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(i,`order`,{get:n}),i.set=function(t,n,r,i,a,o){return e===`generic`?this.data.set(this.offset+this.stride[0]*t+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i+this.stride[4]*a,o):this.data[this.offset+this.stride[0]*t+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i+this.stride[4]*a]=o},i.get=function(t,n,r,i,a){return e===`generic`?this.data.get(this.offset+this.stride[0]*t+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i+this.stride[4]*a):this.data[this.offset+this.stride[0]*t+this.stride[1]*n+this.stride[2]*r+this.stride[3]*i+this.stride[4]*a]},i.index=function(e,t,n,r,i){return this.offset+this.stride[0]*e+this.stride[1]*t+this.stride[2]*n+this.stride[3]*r+this.stride[4]*i},i.hi=function(e,t,n,i,a){return new r(this.data,typeof e!=`number`||e<0?this.shape[0]:e|0,typeof t!=`number`||t<0?this.shape[1]:t|0,typeof n!=`number`||n<0?this.shape[2]:n|0,typeof i!=`number`||i<0?this.shape[3]:i|0,typeof a!=`number`||a<0?this.shape[4]:a|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},i.lo=function(e,t,n,i,a){var o=this.offset,s=0,c=this.shape[0],l=this.shape[1],u=this.shape[2],d=this.shape[3],f=this.shape[4],p=this.stride[0],m=this.stride[1],h=this.stride[2],g=this.stride[3],_=this.stride[4];return typeof e==`number`&&e>=0&&(s=e|0,o+=p*s,c-=s),typeof t==`number`&&t>=0&&(s=t|0,o+=m*s,l-=s),typeof n==`number`&&n>=0&&(s=n|0,o+=h*s,u-=s),typeof i==`number`&&i>=0&&(s=i|0,o+=g*s,d-=s),typeof a==`number`&&a>=0&&(s=a|0,o+=_*s,f-=s),new r(this.data,c,l,u,d,f,p,m,h,g,_,o)},i.step=function(e,t,n,i,a){var o=this.shape[0],s=this.shape[1],c=this.shape[2],l=this.shape[3],u=this.shape[4],d=this.stride[0],f=this.stride[1],p=this.stride[2],m=this.stride[3],h=this.stride[4],g=this.offset,_=0,v=Math.ceil;return typeof e==`number`&&(_=e|0,_<0?(g+=d*(o-1),o=v(-o/_)):o=v(o/_),d*=_),typeof t==`number`&&(_=t|0,_<0?(g+=f*(s-1),s=v(-s/_)):s=v(s/_),f*=_),typeof n==`number`&&(_=n|0,_<0?(g+=p*(c-1),c=v(-c/_)):c=v(c/_),p*=_),typeof i==`number`&&(_=i|0,_<0?(g+=m*(l-1),l=v(-l/_)):l=v(l/_),m*=_),typeof a==`number`&&(_=a|0,_<0?(g+=h*(u-1),u=v(-u/_)):u=v(u/_),h*=_),new r(this.data,o,s,c,l,u,d,f,p,m,h,g)},i.transpose=function(e,t,n,i,a){e=e===void 0?0:e|0,t=t===void 0?1:t|0,n=n===void 0?2:n|0,i=i===void 0?3:i|0,a=a===void 0?4:a|0;var o=this.shape,s=this.stride;return new r(this.data,o[e],o[t],o[n],o[i],o[a],s[e],s[t],s[n],s[i],s[a],this.offset)},i.pick=function(e,n,r,i,a){var o=[],s=[],c=this.offset;typeof e==`number`&&e>=0?c=c+this.stride[0]*e|0:(o.push(this.shape[0]),s.push(this.stride[0])),typeof n==`number`&&n>=0?c=c+this.stride[1]*n|0:(o.push(this.shape[1]),s.push(this.stride[1])),typeof r==`number`&&r>=0?c=c+this.stride[2]*r|0:(o.push(this.shape[2]),s.push(this.stride[2])),typeof i==`number`&&i>=0?c=c+this.stride[3]*i|0:(o.push(this.shape[3]),s.push(this.stride[3])),typeof a==`number`&&a>=0?c=c+this.stride[4]*a|0:(o.push(this.shape[4]),s.push(this.stride[4]));var l=t[o.length+1];return l(this.data,o,s,c)},function(e,t,n,i){return new r(e,t[0],t[1],t[2],t[3],t[4],n[0],n[1],n[2],n[3],n[4],i)}}};function c(e,t){var n=s[t===-1?`T`:String(t)];return t===-1?n(e):t===0?n(e,u[e][0]):n(e,u[e],o)}function l(e){if(r(e))return`buffer`;if(i)switch(Object.prototype.toString.call(e)){case`[object Float64Array]`:return`float64`;case`[object Float32Array]`:return`float32`;case`[object Int8Array]`:return`int8`;case`[object Int16Array]`:return`int16`;case`[object Int32Array]`:return`int32`;case`[object Uint8ClampedArray]`:return`uint8_clamped`;case`[object Uint8Array]`:return`uint8`;case`[object Uint16Array]`:return`uint16`;case`[object Uint32Array]`:return`uint32`;case`[object BigInt64Array]`:return`bigint64`;case`[object BigUint64Array]`:return`biguint64`}return Array.isArray(e)?`array`:`generic`}var u={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function d(e,t,n,r){if(e===void 0){var i=u.array[0];return i([])}else typeof e==`number`&&(e=[e]);t===void 0&&(t=[e.length]);var a=t.length;if(n===void 0){n=Array(a);for(var o=a-1,s=1;o>=0;--o)n[o]=s,s*=t[o]}if(r===void 0){r=0;for(var o=0;o<a;++o)n[o]<0&&(r-=(t[o]-1)*n[o])}for(var d=l(e),f=u[d];f.length<=a+1;)f.push(c(d,f.length-1));var i=f[a+1];return i(e,t,n,r)}e.exports=d},8551:function(e,t,n){var r=n(8362),i=2**-1074,a=-1>>>0;e.exports=o;function o(e,t){if(isNaN(e)||isNaN(t))return NaN;if(e===t)return e;if(e===0)return t<0?-i:i;var n=r.hi(e),o=r.lo(e);return t>e==e>0?o===a?(n+=1,o=0):o+=1:o===0?(o=a,--n):--o,r.pack(o,n)}},115:function(e,t){var n=1e-6,r=1e-6;t.vertexNormals=function(e,t,r){for(var i=t.length,a=Array(i),o=r===void 0?n:r,s=0;s<i;++s)a[s]=[0,0,0];for(var s=0;s<e.length;++s)for(var c=e[s],l=0,u=c[c.length-1],d=c[0],f=0;f<c.length;++f){l=u,u=d,d=c[(f+1)%c.length];for(var p=t[l],m=t[u],h=t[d],g=[,,,],_=0,v=[,,,],y=0,b=0;b<3;++b)g[b]=p[b]-m[b],_+=g[b]*g[b],v[b]=h[b]-m[b],y+=v[b]*v[b];if(_*y>o)for(var x=a[u],S=1/Math.sqrt(_*y),b=0;b<3;++b){var C=(b+1)%3,w=(b+2)%3;x[b]+=S*(v[C]*g[w]-v[w]*g[C])}}for(var s=0;s<i;++s){for(var x=a[s],T=0,b=0;b<3;++b)T+=x[b]*x[b];if(T>o)for(var S=1/Math.sqrt(T),b=0;b<3;++b)x[b]*=S;else for(var b=0;b<3;++b)x[b]=0}return a},t.faceNormals=function(e,t,n){for(var i=e.length,a=Array(i),o=n===void 0?r:n,s=0;s<i;++s){for(var c=e[s],l=[,,,],u=0;u<3;++u)l[u]=t[c[u]];for(var d=[,,,],f=[,,,],u=0;u<3;++u)d[u]=l[1][u]-l[0][u],f[u]=l[2][u]-l[0][u];for(var p=[,,,],m=0,u=0;u<3;++u){var h=(u+1)%3,g=(u+2)%3;p[u]=d[h]*f[g]-d[g]*f[h],m+=p[u]*p[u]}m=m>o?1/Math.sqrt(m):0;for(var u=0;u<3;++u)p[u]*=m;a[s]=p}return a}},567:function(e){e.exports=t;function t(e,t,n,r,i,a,o,s,c,l){var u=t+a+l;if(d>0){var d=Math.sqrt(u+1);e[0]=.5*(o-c)/d,e[1]=.5*(s-r)/d,e[2]=.5*(n-a)/d,e[3]=.5*d}else{var f=Math.max(t,a,l),d=Math.sqrt(2*f-u+1);t>=f?(e[0]=.5*d,e[1]=.5*(i+n)/d,e[2]=.5*(s+r)/d,e[3]=.5*(o-c)/d):a>=f?(e[0]=.5*(n+i)/d,e[1]=.5*d,e[2]=.5*(c+o)/d,e[3]=.5*(s-r)/d):(e[0]=.5*(r+s)/d,e[1]=.5*(o+c)/d,e[2]=.5*d,e[3]=.5*(n-i)/d)}return e}},7774:function(e,t,n){e.exports=p;var r=n(8444),i=n(3012),a=n(5950),o=n(7437),s=n(567);function c(e,t,n){return Math.sqrt(e**2+t**2+n**2)}function l(e,t,n,r){return Math.sqrt(e**2+t**2+n**2+r**2)}function u(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=l(n,r,i,a);o>1e-6?(e[0]=n/o,e[1]=r/o,e[2]=i/o,e[3]=a/o):(e[0]=e[1]=e[2]=0,e[3]=1)}function d(e,t,n){this.radius=r([n]),this.center=r(t),this.rotation=r(e),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var f=d.prototype;f.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},f.recalcMatrix=function(e){this.radius.curve(e),this.center.curve(e),this.rotation.curve(e);var t=this.computedRotation;u(t,t);var n=this.computedMatrix;a(n,t);var r=this.computedCenter,i=this.computedEye,o=this.computedUp,s=Math.exp(this.computedRadius[0]);i[0]=r[0]+s*n[2],i[1]=r[1]+s*n[6],i[2]=r[2]+s*n[10],o[0]=n[1],o[1]=n[5],o[2]=n[9];for(var c=0;c<3;++c){for(var l=0,d=0;d<3;++d)l+=n[c+4*d]*i[d];n[12+c]=-l}},f.getMatrix=function(e,t){this.recalcMatrix(e);var n=this.computedMatrix;if(t){for(var r=0;r<16;++r)t[r]=n[r];return t}return n},f.idle=function(e){this.center.idle(e),this.radius.idle(e),this.rotation.idle(e)},f.flush=function(e){this.center.flush(e),this.radius.flush(e),this.rotation.flush(e)},f.pan=function(e,t,n,r){t||=0,n||=0,r||=0,this.recalcMatrix(e);var i=this.computedMatrix,a=i[1],o=i[5],s=i[9],l=c(a,o,s);a/=l,o/=l,s/=l;var u=i[0],d=i[4],f=i[8],p=u*a+d*o+f*s;u-=a*p,d-=o*p,f-=s*p;var m=c(u,d,f);u/=m,d/=m,f/=m;var h=i[2],g=i[6],_=i[10],v=h*a+g*o+_*s,y=h*u+g*d+_*f;h-=v*a+y*u,g-=v*o+y*d,_-=v*s+y*f;var b=c(h,g,_);h/=b,g/=b,_/=b;var x=u*t+a*n,S=d*t+o*n,C=f*t+s*n;this.center.move(e,x,S,C);var w=Math.exp(this.computedRadius[0]);w=Math.max(1e-4,w+r),this.radius.set(e,Math.log(w))},f.rotate=function(e,t,n,r){this.recalcMatrix(e),t||=0,n||=0;var i=this.computedMatrix,a=i[0],o=i[4],s=i[8],u=i[1],d=i[5],f=i[9],p=i[2],m=i[6],h=i[10],g=t*a+n*u,_=t*o+n*d,v=t*s+n*f,y=-(m*v-h*_),b=-(h*g-p*v),x=-(p*_-m*g),S=Math.sqrt(Math.max(0,1-y**2-b**2-x**2)),C=l(y,b,x,S);C>1e-6?(y/=C,b/=C,x/=C,S/=C):(y=b=x=0,S=1);var w=this.computedRotation,T=w[0],E=w[1],D=w[2],O=w[3],k=T*S+O*y+E*x-D*b,A=E*S+O*b+D*y-T*x,j=D*S+O*x+T*b-E*y,M=O*S-T*y-E*b-D*x;if(r){y=p,b=m,x=h;var N=Math.sin(r)/c(y,b,x);y*=N,b*=N,x*=N,S=Math.cos(t),k=k*S+M*y+A*x-j*b,A=A*S+M*b+j*y-k*x,j=j*S+M*x+k*b-A*y,M=M*S-k*y-A*b-j*x}var P=l(k,A,j,M);P>1e-6?(k/=P,A/=P,j/=P,M/=P):(k=A=j=0,M=1),this.rotation.set(e,k,A,j,M)},f.lookAt=function(e,t,n,r){this.recalcMatrix(e),n||=this.computedCenter,t||=this.computedEye,r||=this.computedUp;var a=this.computedMatrix;i(a,t,n,r);var o=this.computedRotation;s(o,a[0],a[1],a[2],a[4],a[5],a[6],a[8],a[9],a[10]),u(o,o),this.rotation.set(e,o[0],o[1],o[2],o[3]);for(var c=0,l=0;l<3;++l)c+=(n[l]-t[l])**2;this.radius.set(e,.5*Math.log(Math.max(c,1e-6))),this.center.set(e,n[0],n[1],n[2])},f.translate=function(e,t,n,r){this.center.move(e,t||0,n||0,r||0)},f.setMatrix=function(e,t){var n=this.computedRotation;s(n,t[0],t[1],t[2],t[4],t[5],t[6],t[8],t[9],t[10]),u(n,n),this.rotation.set(e,n[0],n[1],n[2],n[3]);var r=this.computedMatrix;o(r,t);var i=r[15];if(Math.abs(i)>1e-6){var a=r[12]/i,c=r[13]/i,l=r[14]/i;this.recalcMatrix(e);var d=Math.exp(this.computedRadius[0]);this.center.set(e,a-r[2]*d,c-r[6]*d,l-r[10]*d),this.radius.idle(e)}else this.center.idle(e),this.radius.idle(e)},f.setDistance=function(e,t){t>0&&this.radius.set(e,Math.log(t))},f.setDistanceLimits=function(e,t){e=e>0?Math.log(e):-1/0,t=t>0?Math.log(t):1/0,t=Math.max(t,e),this.radius.bounds[0][0]=e,this.radius.bounds[1][0]=t},f.getDistanceLimits=function(e){var t=this.radius.bounds;return e?(e[0]=Math.exp(t[0][0]),e[1]=Math.exp(t[1][0]),e):[Math.exp(t[0][0]),Math.exp(t[1][0])]},f.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},f.fromJSON=function(e){var t=this.lastT(),n=e.center;n&&this.center.set(t,n[0],n[1],n[2]);var r=e.rotation;r&&this.rotation.set(t,r[0],r[1],r[2],r[3]);var i=e.distance;i&&i>0&&this.radius.set(t,Math.log(i)),this.setDistanceLimits(e.zoomMin,e.zoomMax)};function p(e){e||={};var t=e.center||[0,0,0],n=e.rotation||[0,0,0,1],r=e.radius||1;t=[].slice.call(t,0,3),n=[].slice.call(n,0,4),u(n,n);var i=new d(n,t,Math.log(r));return i.setDistanceLimits(e.zoomMin,e.zoomMax),(`eye`in e||`up`in e)&&i.lookAt(0,e.eye,e.center,e.up),i}},4930:function(e,t,n){var r=n(6184);e.exports=function(e,t,n){return n=n===void 0?` `:n+``,r(n,t)+e}},4405:function(e){e.exports=function(e,t){return t||=[0,``],e=String(e),t[0]=parseFloat(e,10),t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||``,t}},4166:function(e,t,n){e.exports=i;var r=n(9398);function i(e,t){for(var n=t.length|0,i=e.length,a=[Array(n),Array(n)],o=0;o<n;++o)a[0][o]=[],a[1][o]=[];for(var o=0;o<i;++o){var s=e[o];a[0][s[0]].push(s),a[1][s[1]].push(s)}for(var c=[],o=0;o<n;++o)a[0][o].length+a[1][o].length===0&&c.push([o]);function l(e,t){var n=a[t][e[t]];n.splice(n.indexOf(e),1)}function u(e,n,i){for(var o,s,c,u=0;u<2;++u)if(a[u][n].length>0){o=a[u][n][0],c=u;break}s=o[c^1];for(var d=0;d<2;++d)for(var f=a[d][n],p=0;p<f.length;++p){var m=f[p],h=m[d^1];r(t[e],t[n],t[s],t[h])>0&&(o=m,s=h,c=d)}return i||o&&l(o,c),s}function d(e,n){var i=a[n][e][0],o=[e];l(i,n);for(var s=i[n^1];;){for(;s!==e;)o.push(s),s=u(o[o.length-2],s,!1);if(a[0][e].length+a[1][e].length===0)break;var c=o[o.length-1],d=e,f=o[1],p=u(c,d,!0);if(r(t[c],t[d],t[f],t[p])<0)break;o.push(e),s=u(c,d)}return o}function f(e,t){return t[1]===t[t.length-1]}for(var o=0;o<n;++o)for(var p=0;p<2;++p){for(var m=[];a[p][o].length>0;){a[0][o].length;var h=d(o,p);f(m,h)?m.push.apply(m,h):(m.length>0&&c.push(m),m=h)}m.length>0&&c.push(m)}return c}},3959:function(e,t,n){e.exports=i;var r=n(8348);function i(e,t){for(var n=r(e,t.length),i=Array(t.length),a=Array(t.length),o=[],s=0;s<t.length;++s){var c=n[s].length;a[s]=c,i[s]=!0,c<=1&&o.push(s)}for(;o.length>0;){var l=o.pop();i[l]=!1;for(var u=n[l],s=0;s<u.length;++s){var d=u[s];--a[d]===0&&o.push(d)}}for(var f=Array(t.length),p=[],s=0;s<t.length;++s)if(i[s]){var l=p.length;f[s]=l,p.push(t[s])}else f[s]=-1;for(var m=[],s=0;s<e.length;++s){var h=e[s];i[h[0]]&&i[h[1]]&&m.push([f[h[0]],f[h[1]]])}return[m,p]}},8040:function(e,t,n){e.exports=f;var r=n(8348),i=n(4166),a=n(211),o=n(9660),s=n(9662),c=n(1215),l=n(3959);function u(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t;return n}function d(e){for(var t=Array(e),n=0;n<e;++n)t[n]=[];return t}function f(e,t){var n=l(e,t);e=n[0],t=n[1];var f=t.length;e.length;for(var p=r(e,t.length),m=0;m<f;++m)if(p[m].length%2==1)throw Error(`planar-graph-to-polyline: graph must be manifold`);var h=i(e,t);function g(e){for(var n=e.length,r=[0],i=0;i<n;++i){var a=t[e[i]],c=t[e[(i+1)%n]],l=o(-a[0],a[1]),u=o(-a[0],c[1]),d=o(c[0],a[1]),f=o(c[0],c[1]);r=s(r,s(s(l,u),s(d,f)))}return r[r.length-1]>0}h=h.filter(g);for(var _=h.length,v=Array(_),y=Array(_),m=0;m<_;++m){v[m]=m;var b=Array(_),x=a([h[m].map(function(e){return t[e]})]),S=0;outer:for(var C=0;C<_;++C)if(b[C]=0,m!==C){for(var w=h[C],T=w.length,E=0;E<T;++E){var D=x(t[w[E]]);if(D!==0){D<0&&(b[C]=1,S+=1);continue outer}}b[C]=1,S+=1}y[m]=[S,m,b]}y.sort(function(e,t){return t[0]-e[0]});for(var m=0;m<_;++m)for(var b=y[m],O=b[1],k=b[2],C=0;C<_;++C)k[C]&&(v[C]=O);for(var A=d(_),m=0;m<_;++m)A[m].push(v[m]),A[v[m]].push(m);for(var j={},M=u(f,!1),m=0;m<_;++m)for(var w=h[m],T=w.length,C=0;C<T;++C){var N=w[C],P=w[(C+1)%T],F=Math.min(N,P)+`:`+Math.max(N,P);if(F in j){var I=j[F];A[I].push(m),A[m].push(I),M[N]=M[P]=!0}else j[F]=m}function L(e){for(var t=e.length,n=0;n<t;++n)if(!M[e[n]])return!1;return!0}for(var R=[],z=u(_,-1),m=0;m<_;++m)v[m]===m&&!L(h[m])?(R.push(m),z[m]=0):z[m]=-1;for(var n=[];R.length>0;){var B=R.pop(),V=A[B];c(V,function(e,t){return e-t});var H=V.length,U=z[B],W;if(U===0){var w=h[B];W=[w]}for(var m=0;m<H;++m){var G=V[m];if(!(z[G]>=0)&&(z[G]=U^1,R.push(G),U===0)){var w=h[G];L(w)||(w.reverse(),W.push(w))}}U===0&&n.push(W)}return n}},211:function(e,t,n){e.exports=m;var r=n(417)[3],i=n(4385),a=n(9014),o=n(5070);function s(){return!0}function c(e){return function(t,n){var r=e[t];return r?!!r.queryPoint(n,s):!1}}function l(e){for(var t={},n=0;n<e.length;++n){var r=e[n],i=r[0][0],o=r[0][1],s=r[1][1],l=[Math.min(o,s),Math.max(o,s)];i in t?t[i].push(l):t[i]=[l]}for(var u={},d=Object.keys(t),n=0;n<d.length;++n){var f=t[d[n]];u[d[n]]=a(f)}return c(u)}function u(e,t){return function(n){var i=o.le(t,n[0]);if(i<0)return 1;var a=e[i];if(!a)if(i>0&&t[i]===n[0])a=e[i-1];else return 1;for(var s=1;a;){var c=a.key,l=r(n,c[0],c[1]);if(c[0][0]<c[1][0])if(l<0)a=a.left;else if(l>0)s=-1,a=a.right;else return 0;else if(l>0)a=a.left;else if(l<0)s=1,a=a.right;else return 0}return s}}function d(e){return 1}function f(e){return function(t){return e(t[0],t[1])?0:1}}function p(e,t){return function(n){return e(n[0],n[1])?0:t(n)}}function m(e){for(var t=e.length,n=[],r=[],a=0;a<t;++a)for(var o=e[a],s=o.length,c=s-1,m=0;m<s;c=m++){var h=o[c],g=o[m];h[0]===g[0]?r.push([h,g]):n.push([h,g])}if(n.length===0)return r.length===0?d:f(l(r));var _=i(n),v=u(_.slabs,_.coordinates);return r.length===0?v:p(l(r),v)}},7309:function(e){var t=new Float64Array(4),n=new Float64Array(4),r=new Float64Array(4);function i(e,i,a,o,s){t.length<o.length&&(t=new Float64Array(o.length),n=new Float64Array(o.length),r=new Float64Array(o.length));for(var c=0;c<o.length;++c)t[c]=e[c]-o[c],n[c]=i[c]-e[c],r[c]=a[c]-e[c];for(var l=0,u=0,d=0,f=0,p=0,m=0,c=0;c<o.length;++c){var h=n[c],g=r[c],_=t[c];l+=h*h,u+=h*g,d+=g*g,f+=_*h,p+=_*g,m+=_*_}var v=Math.abs(l*d-u*u),y=u*p-d*f,b=u*f-l*p,x;if(y+b<=v)if(y<0)b<0&&f<0?(b=0,-f>=l?(y=1,x=l+2*f+m):(y=-f/l,x=f*y+m)):(y=0,p>=0?(b=0,x=m):-p>=d?(b=1,x=d+2*p+m):(b=-p/d,x=p*b+m));else if(b<0)b=0,f>=0?(y=0,x=m):-f>=l?(y=1,x=l+2*f+m):(y=-f/l,x=f*y+m);else{var S=1/v;y*=S,b*=S,x=y*(l*y+u*b+2*f)+b*(u*y+d*b+2*p)+m}else{var C,w,T,E;y<0?(C=u+f,w=d+p,w>C?(T=w-C,E=l-2*u+d,T>=E?(y=1,b=0,x=l+2*f+m):(y=T/E,b=1-y,x=y*(l*y+u*b+2*f)+b*(u*y+d*b+2*p)+m)):(y=0,w<=0?(b=1,x=d+2*p+m):p>=0?(b=0,x=m):(b=-p/d,x=p*b+m))):b<0?(C=u+p,w=l+f,w>C?(T=w-C,E=l-2*u+d,T>=E?(b=1,y=0,x=d+2*p+m):(b=T/E,y=1-b,x=y*(l*y+u*b+2*f)+b*(u*y+d*b+2*p)+m)):(b=0,w<=0?(y=1,x=l+2*f+m):f>=0?(y=0,x=m):(y=-f/l,x=f*y+m))):(T=d+p-u-f,T<=0?(y=0,b=1,x=d+2*p+m):(E=l-2*u+d,T>=E?(y=1,b=0,x=l+2*f+m):(y=T/E,b=1-y,x=y*(l*y+u*b+2*f)+b*(u*y+d*b+2*p)+m)))}for(var D=1-y-b,c=0;c<o.length;++c)s[c]=D*e[c]+y*i[c]+b*a[c];return x<0?0:x}e.exports=i},1116:function(e,t,n){e.exports=n(6093)},7584:function(e,t,n){var r=n(1539);e.exports=i;function i(e,t){for(var n=e.length,i=Array(n),a=0;a<n;++a)i[a]=r(e[a],t[a]);return i}},2826:function(e,t,n){e.exports=i;var r=n(5125);function i(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=r(e[n]);return t}},4469:function(e,t,n){var r=n(5125),i=n(3962);e.exports=a;function a(e,t){for(var n=r(t),a=e.length,o=Array(a),s=0;s<a;++s)o[s]=i(e[s],n);return o}},6695:function(e,t,n){var r=n(4354);e.exports=i;function i(e,t){for(var n=e.length,i=Array(n),a=0;a<n;++a)i[a]=r(e[a],t[a]);return i}},7037:function(e,t,n){var r=n(9209),i=n(1284),a=n(9887);e.exports=o;function o(e){e.sort(i);for(var t=e.length,n=0,o=0;o<t;++o){var s=e[o],c=a(s);if(c!==0){if(n>0){var l=e[n-1];if(r(s,l)===0&&a(l)!==c){--n;continue}}e[n++]=s}}return e.length=n,e}},6184:function(e){var t=``,n;e.exports=r;function r(e,r){if(typeof e!=`string`)throw TypeError(`expected a string`);if(r===1)return e;if(r===2)return e+e;var i=e.length*r;if(n!==e||n===void 0)n=e,t=``;else if(t.length>=i)return t.substr(0,i);for(;i>t.length&&r>1;)r&1&&(t+=e),r>>=1,e+=e;return t+=e,t=t.substr(0,i),t}},8161:function(e,t,n){e.exports=n.g.performance&&n.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(e){e.exports=t;function t(e){for(var t=e.length,n=e[e.length-1],r=t,i=t-2;i>=0;--i){var a=n,o=e[i];n=a+o;var s=n-a,c=o-s;c&&(e[--r]=n,n=c)}for(var l=0,i=r;i<t;++i){var a=e[i],o=n;n=a+o;var s=n-a,c=o-s;c&&(e[l++]=c)}return e[l++]=n,e.length=l,e}},8167:function(e,t,n){var r=n(9660),i=n(9662),a=n(8289),o=n(402),s=6;function c(e,t,n,r){return function(t){return r(e(n(t[0][0],t[1][1]),n(-t[0][1],t[1][0])))}}function l(e,t,n,r){return function(i){return r(e(t(e(n(i[1][1],i[2][2]),n(-i[1][2],i[2][1])),i[0][0]),e(t(e(n(i[1][0],i[2][2]),n(-i[1][2],i[2][0])),-i[0][1]),t(e(n(i[1][0],i[2][1]),n(-i[1][1],i[2][0])),i[0][2]))))}}function u(e,t,n,r){return function(i){return r(e(e(t(e(t(e(n(i[2][2],i[3][3]),n(-i[2][3],i[3][2])),i[1][1]),e(t(e(n(i[2][1],i[3][3]),n(-i[2][3],i[3][1])),-i[1][2]),t(e(n(i[2][1],i[3][2]),n(-i[2][2],i[3][1])),i[1][3]))),i[0][0]),t(e(t(e(n(i[2][2],i[3][3]),n(-i[2][3],i[3][2])),i[1][0]),e(t(e(n(i[2][0],i[3][3]),n(-i[2][3],i[3][0])),-i[1][2]),t(e(n(i[2][0],i[3][2]),n(-i[2][2],i[3][0])),i[1][3]))),-i[0][1])),e(t(e(t(e(n(i[2][1],i[3][3]),n(-i[2][3],i[3][1])),i[1][0]),e(t(e(n(i[2][0],i[3][3]),n(-i[2][3],i[3][0])),-i[1][1]),t(e(n(i[2][0],i[3][1]),n(-i[2][1],i[3][0])),i[1][3]))),i[0][2]),t(e(t(e(n(i[2][1],i[3][2]),n(-i[2][2],i[3][1])),i[1][0]),e(t(e(n(i[2][0],i[3][2]),n(-i[2][2],i[3][0])),-i[1][1]),t(e(n(i[2][0],i[3][1]),n(-i[2][1],i[3][0])),i[1][2]))),-i[0][3]))))}}function d(e,t,n,r){return function(i){return r(e(e(t(e(e(t(e(t(e(n(i[3][3],i[4][4]),n(-i[3][4],i[4][3])),i[2][2]),e(t(e(n(i[3][2],i[4][4]),n(-i[3][4],i[4][2])),-i[2][3]),t(e(n(i[3][2],i[4][3]),n(-i[3][3],i[4][2])),i[2][4]))),i[1][1]),t(e(t(e(n(i[3][3],i[4][4]),n(-i[3][4],i[4][3])),i[2][1]),e(t(e(n(i[3][1],i[4][4]),n(-i[3][4],i[4][1])),-i[2][3]),t(e(n(i[3][1],i[4][3]),n(-i[3][3],i[4][1])),i[2][4]))),-i[1][2])),e(t(e(t(e(n(i[3][2],i[4][4]),n(-i[3][4],i[4][2])),i[2][1]),e(t(e(n(i[3][1],i[4][4]),n(-i[3][4],i[4][1])),-i[2][2]),t(e(n(i[3][1],i[4][2]),n(-i[3][2],i[4][1])),i[2][4]))),i[1][3]),t(e(t(e(n(i[3][2],i[4][3]),n(-i[3][3],i[4][2])),i[2][1]),e(t(e(n(i[3][1],i[4][3]),n(-i[3][3],i[4][1])),-i[2][2]),t(e(n(i[3][1],i[4][2]),n(-i[3][2],i[4][1])),i[2][3]))),-i[1][4]))),i[0][0]),t(e(e(t(e(t(e(n(i[3][3],i[4][4]),n(-i[3][4],i[4][3])),i[2][2]),e(t(e(n(i[3][2],i[4][4]),n(-i[3][4],i[4][2])),-i[2][3]),t(e(n(i[3][2],i[4][3]),n(-i[3][3],i[4][2])),i[2][4]))),i[1][0]),t(e(t(e(n(i[3][3],i[4][4]),n(-i[3][4],i[4][3])),i[2][0]),e(t(e(n(i[3][0],i[4][4]),n(-i[3][4],i[4][0])),-i[2][3]),t(e(n(i[3][0],i[4][3]),n(-i[3][3],i[4][0])),i[2][4]))),-i[1][2])),e(t(e(t(e(n(i[3][2],i[4][4]),n(-i[3][4],i[4][2])),i[2][0]),e(t(e(n(i[3][0],i[4][4]),n(-i[3][4],i[4][0])),-i[2][2]),t(e(n(i[3][0],i[4][2]),n(-i[3][2],i[4][0])),i[2][4]))),i[1][3]),t(e(t(e(n(i[3][2],i[4][3]),n(-i[3][3],i[4][2])),i[2][0]),e(t(e(n(i[3][0],i[4][3]),n(-i[3][3],i[4][0])),-i[2][2]),t(e(n(i[3][0],i[4][2]),n(-i[3][2],i[4][0])),i[2][3]))),-i[1][4]))),-i[0][1])),e(t(e(e(t(e(t(e(n(i[3][3],i[4][4]),n(-i[3][4],i[4][3])),i[2][1]),e(t(e(n(i[3][1],i[4][4]),n(-i[3][4],i[4][1])),-i[2][3]),t(e(n(i[3][1],i[4][3]),n(-i[3][3],i[4][1])),i[2][4]))),i[1][0]),t(e(t(e(n(i[3][3],i[4][4]),n(-i[3][4],i[4][3])),i[2][0]),e(t(e(n(i[3][0],i[4][4]),n(-i[3][4],i[4][0])),-i[2][3]),t(e(n(i[3][0],i[4][3]),n(-i[3][3],i[4][0])),i[2][4]))),-i[1][1])),e(t(e(t(e(n(i[3][1],i[4][4]),n(-i[3][4],i[4][1])),i[2][0]),e(t(e(n(i[3][0],i[4][4]),n(-i[3][4],i[4][0])),-i[2][1]),t(e(n(i[3][0],i[4][1]),n(-i[3][1],i[4][0])),i[2][4]))),i[1][3]),t(e(t(e(n(i[3][1],i[4][3]),n(-i[3][3],i[4][1])),i[2][0]),e(t(e(n(i[3][0],i[4][3]),n(-i[3][3],i[4][0])),-i[2][1]),t(e(n(i[3][0],i[4][1]),n(-i[3][1],i[4][0])),i[2][3]))),-i[1][4]))),i[0][2]),e(t(e(e(t(e(t(e(n(i[3][2],i[4][4]),n(-i[3][4],i[4][2])),i[2][1]),e(t(e(n(i[3][1],i[4][4]),n(-i[3][4],i[4][1])),-i[2][2]),t(e(n(i[3][1],i[4][2]),n(-i[3][2],i[4][1])),i[2][4]))),i[1][0]),t(e(t(e(n(i[3][2],i[4][4]),n(-i[3][4],i[4][2])),i[2][0]),e(t(e(n(i[3][0],i[4][4]),n(-i[3][4],i[4][0])),-i[2][2]),t(e(n(i[3][0],i[4][2]),n(-i[3][2],i[4][0])),i[2][4]))),-i[1][1])),e(t(e(t(e(n(i[3][1],i[4][4]),n(-i[3][4],i[4][1])),i[2][0]),e(t(e(n(i[3][0],i[4][4]),n(-i[3][4],i[4][0])),-i[2][1]),t(e(n(i[3][0],i[4][1]),n(-i[3][1],i[4][0])),i[2][4]))),i[1][2]),t(e(t(e(n(i[3][1],i[4][2]),n(-i[3][2],i[4][1])),i[2][0]),e(t(e(n(i[3][0],i[4][2]),n(-i[3][2],i[4][0])),-i[2][1]),t(e(n(i[3][0],i[4][1]),n(-i[3][1],i[4][0])),i[2][2]))),-i[1][4]))),-i[0][3]),t(e(e(t(e(t(e(n(i[3][2],i[4][3]),n(-i[3][3],i[4][2])),i[2][1]),e(t(e(n(i[3][1],i[4][3]),n(-i[3][3],i[4][1])),-i[2][2]),t(e(n(i[3][1],i[4][2]),n(-i[3][2],i[4][1])),i[2][3]))),i[1][0]),t(e(t(e(n(i[3][2],i[4][3]),n(-i[3][3],i[4][2])),i[2][0]),e(t(e(n(i[3][0],i[4][3]),n(-i[3][3],i[4][0])),-i[2][2]),t(e(n(i[3][0],i[4][2]),n(-i[3][2],i[4][0])),i[2][3]))),-i[1][1])),e(t(e(t(e(n(i[3][1],i[4][3]),n(-i[3][3],i[4][1])),i[2][0]),e(t(e(n(i[3][0],i[4][3]),n(-i[3][3],i[4][0])),-i[2][1]),t(e(n(i[3][0],i[4][1]),n(-i[3][1],i[4][0])),i[2][3]))),i[1][2]),t(e(t(e(n(i[3][1],i[4][2]),n(-i[3][2],i[4][1])),i[2][0]),e(t(e(n(i[3][0],i[4][2]),n(-i[3][2],i[4][0])),-i[2][1]),t(e(n(i[3][0],i[4][1]),n(-i[3][1],i[4][0])),i[2][2]))),-i[1][3]))),i[0][4])))))}}function f(e){return(e===2?c:e===3?l:e===4?u:e===5?d:void 0)(i,a,r,o)}var p=[function(){return[0]},function(e){return[e[0][0]]}];function m(e,t,n,r,i,a,o,s){return function(c){switch(c.length){case 0:return e(c);case 1:return t(c);case 2:return n(c);case 3:return r(c);case 4:return i(c);case 5:return a(c)}var l=o[c.length];return l||=o[c.length]=s(c.length),l(c)}}function h(){for(;p.length<s;)p.push(f(p.length));e.exports=m.apply(void 0,p.concat([p,f]));for(var t=0;t<p.length;++t)e.exports[t]=p[t]}h()},9130:function(e,t,n){var r=n(9660),i=n(9662);e.exports=a;function a(e,t){for(var n=r(e[0],t[0]),a=1;a<e.length;++a)n=i(n,r(e[a],t[a]));return n}},2227:function(e,t,n){var r=n(9660),i=n(9662),a=n(4078),o=n(8289),s=6;function c(e){return(e===3?f:e===4?p:e===5?m:h)(i,a,r,o)}function l(){return 0}function u(){return 0}function d(){return 0}function f(e,t,n,r){function i(i,a,o){var s=n(i[0],i[0]),c=r(s,a[0]),l=r(s,o[0]),u=n(a[0],a[0]),d=r(u,i[0]),f=r(u,o[0]),p=n(o[0],o[0]),m=r(p,i[0]),h=t(e(t(r(p,a[0]),f),t(d,c)),t(m,l));return h[h.length-1]}return i}function p(e,t,n,r){function i(i,a,o,s){var c=e(n(i[0],i[0]),n(i[1],i[1])),l=r(c,a[0]),u=r(c,o[0]),d=r(c,s[0]),f=e(n(a[0],a[0]),n(a[1],a[1])),p=r(f,i[0]),m=r(f,o[0]),h=r(f,s[0]),g=e(n(o[0],o[0]),n(o[1],o[1])),_=r(g,i[0]),v=r(g,a[0]),y=r(g,s[0]),b=e(n(s[0],s[0]),n(s[1],s[1])),x=r(b,i[0]),S=r(b,a[0]),C=r(b,o[0]),w=t(e(e(r(t(C,y),a[1]),e(r(t(S,h),-o[1]),r(t(v,m),s[1]))),e(r(t(S,h),i[1]),e(r(t(x,d),-a[1]),r(t(p,l),s[1])))),e(e(r(t(C,y),i[1]),e(r(t(x,d),-o[1]),r(t(_,u),s[1]))),e(r(t(v,m),i[1]),e(r(t(_,u),-a[1]),r(t(p,l),o[1])))));return w[w.length-1]}return i}function m(e,t,n,r){function i(i,a,o,s,c){var l=e(n(i[0],i[0]),e(n(i[1],i[1]),n(i[2],i[2]))),u=r(l,a[0]),d=r(l,o[0]),f=r(l,s[0]),p=r(l,c[0]),m=e(n(a[0],a[0]),e(n(a[1],a[1]),n(a[2],a[2]))),h=r(m,i[0]),g=r(m,o[0]),_=r(m,s[0]),v=r(m,c[0]),y=e(n(o[0],o[0]),e(n(o[1],o[1]),n(o[2],o[2]))),b=r(y,i[0]),x=r(y,a[0]),S=r(y,s[0]),C=r(y,c[0]),w=e(n(s[0],s[0]),e(n(s[1],s[1]),n(s[2],s[2]))),T=r(w,i[0]),E=r(w,a[0]),D=r(w,o[0]),O=r(w,c[0]),k=e(n(c[0],c[0]),e(n(c[1],c[1]),n(c[2],c[2]))),A=r(k,i[0]),j=r(k,a[0]),M=r(k,o[0]),N=r(k,s[0]),P=t(e(e(e(r(e(r(t(N,O),o[1]),e(r(t(M,C),-s[1]),r(t(D,S),c[1]))),a[2]),e(r(e(r(t(N,O),a[1]),e(r(t(j,v),-s[1]),r(t(E,_),c[1]))),-o[2]),r(e(r(t(M,C),a[1]),e(r(t(j,v),-o[1]),r(t(x,g),c[1]))),s[2]))),e(r(e(r(t(D,S),a[1]),e(r(t(E,_),-o[1]),r(t(x,g),s[1]))),-c[2]),e(r(e(r(t(N,O),a[1]),e(r(t(j,v),-s[1]),r(t(E,_),c[1]))),i[2]),r(e(r(t(N,O),i[1]),e(r(t(A,p),-s[1]),r(t(T,f),c[1]))),-a[2])))),e(e(r(e(r(t(j,v),i[1]),e(r(t(A,p),-a[1]),r(t(h,u),c[1]))),s[2]),e(r(e(r(t(E,_),i[1]),e(r(t(T,f),-a[1]),r(t(h,u),s[1]))),-c[2]),r(e(r(t(D,S),a[1]),e(r(t(E,_),-o[1]),r(t(x,g),s[1]))),i[2]))),e(r(e(r(t(D,S),i[1]),e(r(t(T,f),-o[1]),r(t(b,d),s[1]))),-a[2]),e(r(e(r(t(E,_),i[1]),e(r(t(T,f),-a[1]),r(t(h,u),s[1]))),o[2]),r(e(r(t(x,g),i[1]),e(r(t(b,d),-a[1]),r(t(h,u),o[1]))),-s[2]))))),e(e(e(r(e(r(t(N,O),o[1]),e(r(t(M,C),-s[1]),r(t(D,S),c[1]))),i[2]),r(e(r(t(N,O),i[1]),e(r(t(A,p),-s[1]),r(t(T,f),c[1]))),-o[2])),e(r(e(r(t(M,C),i[1]),e(r(t(A,p),-o[1]),r(t(b,d),c[1]))),s[2]),r(e(r(t(D,S),i[1]),e(r(t(T,f),-o[1]),r(t(b,d),s[1]))),-c[2]))),e(e(r(e(r(t(M,C),a[1]),e(r(t(j,v),-o[1]),r(t(x,g),c[1]))),i[2]),r(e(r(t(M,C),i[1]),e(r(t(A,p),-o[1]),r(t(b,d),c[1]))),-a[2])),e(r(e(r(t(j,v),i[1]),e(r(t(A,p),-a[1]),r(t(h,u),c[1]))),o[2]),r(e(r(t(x,g),i[1]),e(r(t(b,d),-a[1]),r(t(h,u),o[1]))),-c[2])))));return P[P.length-1]}return i}function h(e,t,n,r){function i(i,a,o,s,c,l){var u=e(e(n(i[0],i[0]),n(i[1],i[1])),e(n(i[2],i[2]),n(i[3],i[3]))),d=r(u,a[0]),f=r(u,o[0]),p=r(u,s[0]),m=r(u,c[0]),h=r(u,l[0]),g=e(e(n(a[0],a[0]),n(a[1],a[1])),e(n(a[2],a[2]),n(a[3],a[3]))),_=r(g,i[0]),v=r(g,o[0]),y=r(g,s[0]),b=r(g,c[0]),x=r(g,l[0]),S=e(e(n(o[0],o[0]),n(o[1],o[1])),e(n(o[2],o[2]),n(o[3],o[3]))),C=r(S,i[0]),w=r(S,a[0]),T=r(S,s[0]),E=r(S,c[0]),D=r(S,l[0]),O=e(e(n(s[0],s[0]),n(s[1],s[1])),e(n(s[2],s[2]),n(s[3],s[3]))),k=r(O,i[0]),A=r(O,a[0]),j=r(O,o[0]),M=r(O,c[0]),N=r(O,l[0]),P=e(e(n(c[0],c[0]),n(c[1],c[1])),e(n(c[2],c[2]),n(c[3],c[3]))),F=r(P,i[0]),I=r(P,a[0]),L=r(P,o[0]),R=r(P,s[0]),z=r(P,l[0]),B=e(e(n(l[0],l[0]),n(l[1],l[1])),e(n(l[2],l[2]),n(l[3],l[3]))),V=r(B,i[0]),H=r(B,a[0]),U=r(B,o[0]),W=r(B,s[0]),G=r(B,c[0]),K=t(e(e(e(r(e(e(r(e(r(t(G,z),s[1]),e(r(t(W,N),-c[1]),r(t(R,M),l[1]))),o[2]),r(e(r(t(G,z),o[1]),e(r(t(U,D),-c[1]),r(t(L,E),l[1]))),-s[2])),e(r(e(r(t(W,N),o[1]),e(r(t(U,D),-s[1]),r(t(j,T),l[1]))),c[2]),r(e(r(t(R,M),o[1]),e(r(t(L,E),-s[1]),r(t(j,T),c[1]))),-l[2]))),a[3]),e(r(e(e(r(e(r(t(G,z),s[1]),e(r(t(W,N),-c[1]),r(t(R,M),l[1]))),a[2]),r(e(r(t(G,z),a[1]),e(r(t(H,x),-c[1]),r(t(I,b),l[1]))),-s[2])),e(r(e(r(t(W,N),a[1]),e(r(t(H,x),-s[1]),r(t(A,y),l[1]))),c[2]),r(e(r(t(R,M),a[1]),e(r(t(I,b),-s[1]),r(t(A,y),c[1]))),-l[2]))),-o[3]),r(e(e(r(e(r(t(G,z),o[1]),e(r(t(U,D),-c[1]),r(t(L,E),l[1]))),a[2]),r(e(r(t(G,z),a[1]),e(r(t(H,x),-c[1]),r(t(I,b),l[1]))),-o[2])),e(r(e(r(t(U,D),a[1]),e(r(t(H,x),-o[1]),r(t(w,v),l[1]))),c[2]),r(e(r(t(L,E),a[1]),e(r(t(I,b),-o[1]),r(t(w,v),c[1]))),-l[2]))),s[3]))),e(e(r(e(e(r(e(r(t(W,N),o[1]),e(r(t(U,D),-s[1]),r(t(j,T),l[1]))),a[2]),r(e(r(t(W,N),a[1]),e(r(t(H,x),-s[1]),r(t(A,y),l[1]))),-o[2])),e(r(e(r(t(U,D),a[1]),e(r(t(H,x),-o[1]),r(t(w,v),l[1]))),s[2]),r(e(r(t(j,T),a[1]),e(r(t(A,y),-o[1]),r(t(w,v),s[1]))),-l[2]))),-c[3]),r(e(e(r(e(r(t(R,M),o[1]),e(r(t(L,E),-s[1]),r(t(j,T),c[1]))),a[2]),r(e(r(t(R,M),a[1]),e(r(t(I,b),-s[1]),r(t(A,y),c[1]))),-o[2])),e(r(e(r(t(L,E),a[1]),e(r(t(I,b),-o[1]),r(t(w,v),c[1]))),s[2]),r(e(r(t(j,T),a[1]),e(r(t(A,y),-o[1]),r(t(w,v),s[1]))),-c[2]))),l[3])),e(r(e(e(r(e(r(t(G,z),s[1]),e(r(t(W,N),-c[1]),r(t(R,M),l[1]))),a[2]),r(e(r(t(G,z),a[1]),e(r(t(H,x),-c[1]),r(t(I,b),l[1]))),-s[2])),e(r(e(r(t(W,N),a[1]),e(r(t(H,x),-s[1]),r(t(A,y),l[1]))),c[2]),r(e(r(t(R,M),a[1]),e(r(t(I,b),-s[1]),r(t(A,y),c[1]))),-l[2]))),i[3]),r(e(e(r(e(r(t(G,z),s[1]),e(r(t(W,N),-c[1]),r(t(R,M),l[1]))),i[2]),r(e(r(t(G,z),i[1]),e(r(t(V,h),-c[1]),r(t(F,m),l[1]))),-s[2])),e(r(e(r(t(W,N),i[1]),e(r(t(V,h),-s[1]),r(t(k,p),l[1]))),c[2]),r(e(r(t(R,M),i[1]),e(r(t(F,m),-s[1]),r(t(k,p),c[1]))),-l[2]))),-a[3])))),e(e(e(r(e(e(r(e(r(t(G,z),a[1]),e(r(t(H,x),-c[1]),r(t(I,b),l[1]))),i[2]),r(e(r(t(G,z),i[1]),e(r(t(V,h),-c[1]),r(t(F,m),l[1]))),-a[2])),e(r(e(r(t(H,x),i[1]),e(r(t(V,h),-a[1]),r(t(_,d),l[1]))),c[2]),r(e(r(t(I,b),i[1]),e(r(t(F,m),-a[1]),r(t(_,d),c[1]))),-l[2]))),s[3]),r(e(e(r(e(r(t(W,N),a[1]),e(r(t(H,x),-s[1]),r(t(A,y),l[1]))),i[2]),r(e(r(t(W,N),i[1]),e(r(t(V,h),-s[1]),r(t(k,p),l[1]))),-a[2])),e(r(e(r(t(H,x),i[1]),e(r(t(V,h),-a[1]),r(t(_,d),l[1]))),s[2]),r(e(r(t(A,y),i[1]),e(r(t(k,p),-a[1]),r(t(_,d),s[1]))),-l[2]))),-c[3])),e(r(e(e(r(e(r(t(R,M),a[1]),e(r(t(I,b),-s[1]),r(t(A,y),c[1]))),i[2]),r(e(r(t(R,M),i[1]),e(r(t(F,m),-s[1]),r(t(k,p),c[1]))),-a[2])),e(r(e(r(t(I,b),i[1]),e(r(t(F,m),-a[1]),r(t(_,d),c[1]))),s[2]),r(e(r(t(A,y),i[1]),e(r(t(k,p),-a[1]),r(t(_,d),s[1]))),-c[2]))),l[3]),r(e(e(r(e(r(t(W,N),o[1]),e(r(t(U,D),-s[1]),r(t(j,T),l[1]))),a[2]),r(e(r(t(W,N),a[1]),e(r(t(H,x),-s[1]),r(t(A,y),l[1]))),-o[2])),e(r(e(r(t(U,D),a[1]),e(r(t(H,x),-o[1]),r(t(w,v),l[1]))),s[2]),r(e(r(t(j,T),a[1]),e(r(t(A,y),-o[1]),r(t(w,v),s[1]))),-l[2]))),i[3]))),e(e(r(e(e(r(e(r(t(W,N),o[1]),e(r(t(U,D),-s[1]),r(t(j,T),l[1]))),i[2]),r(e(r(t(W,N),i[1]),e(r(t(V,h),-s[1]),r(t(k,p),l[1]))),-o[2])),e(r(e(r(t(U,D),i[1]),e(r(t(V,h),-o[1]),r(t(C,f),l[1]))),s[2]),r(e(r(t(j,T),i[1]),e(r(t(k,p),-o[1]),r(t(C,f),s[1]))),-l[2]))),-a[3]),r(e(e(r(e(r(t(W,N),a[1]),e(r(t(H,x),-s[1]),r(t(A,y),l[1]))),i[2]),r(e(r(t(W,N),i[1]),e(r(t(V,h),-s[1]),r(t(k,p),l[1]))),-a[2])),e(r(e(r(t(H,x),i[1]),e(r(t(V,h),-a[1]),r(t(_,d),l[1]))),s[2]),r(e(r(t(A,y),i[1]),e(r(t(k,p),-a[1]),r(t(_,d),s[1]))),-l[2]))),o[3])),e(r(e(e(r(e(r(t(U,D),a[1]),e(r(t(H,x),-o[1]),r(t(w,v),l[1]))),i[2]),r(e(r(t(U,D),i[1]),e(r(t(V,h),-o[1]),r(t(C,f),l[1]))),-a[2])),e(r(e(r(t(H,x),i[1]),e(r(t(V,h),-a[1]),r(t(_,d),l[1]))),o[2]),r(e(r(t(w,v),i[1]),e(r(t(C,f),-a[1]),r(t(_,d),o[1]))),-l[2]))),-s[3]),r(e(e(r(e(r(t(j,T),a[1]),e(r(t(A,y),-o[1]),r(t(w,v),s[1]))),i[2]),r(e(r(t(j,T),i[1]),e(r(t(k,p),-o[1]),r(t(C,f),s[1]))),-a[2])),e(r(e(r(t(A,y),i[1]),e(r(t(k,p),-a[1]),r(t(_,d),s[1]))),o[2]),r(e(r(t(w,v),i[1]),e(r(t(C,f),-a[1]),r(t(_,d),o[1]))),-s[2]))),l[3]))))),e(e(e(r(e(e(r(e(r(t(G,z),s[1]),e(r(t(W,N),-c[1]),r(t(R,M),l[1]))),o[2]),r(e(r(t(G,z),o[1]),e(r(t(U,D),-c[1]),r(t(L,E),l[1]))),-s[2])),e(r(e(r(t(W,N),o[1]),e(r(t(U,D),-s[1]),r(t(j,T),l[1]))),c[2]),r(e(r(t(R,M),o[1]),e(r(t(L,E),-s[1]),r(t(j,T),c[1]))),-l[2]))),i[3]),e(r(e(e(r(e(r(t(G,z),s[1]),e(r(t(W,N),-c[1]),r(t(R,M),l[1]))),i[2]),r(e(r(t(G,z),i[1]),e(r(t(V,h),-c[1]),r(t(F,m),l[1]))),-s[2])),e(r(e(r(t(W,N),i[1]),e(r(t(V,h),-s[1]),r(t(k,p),l[1]))),c[2]),r(e(r(t(R,M),i[1]),e(r(t(F,m),-s[1]),r(t(k,p),c[1]))),-l[2]))),-o[3]),r(e(e(r(e(r(t(G,z),o[1]),e(r(t(U,D),-c[1]),r(t(L,E),l[1]))),i[2]),r(e(r(t(G,z),i[1]),e(r(t(V,h),-c[1]),r(t(F,m),l[1]))),-o[2])),e(r(e(r(t(U,D),i[1]),e(r(t(V,h),-o[1]),r(t(C,f),l[1]))),c[2]),r(e(r(t(L,E),i[1]),e(r(t(F,m),-o[1]),r(t(C,f),c[1]))),-l[2]))),s[3]))),e(e(r(e(e(r(e(r(t(W,N),o[1]),e(r(t(U,D),-s[1]),r(t(j,T),l[1]))),i[2]),r(e(r(t(W,N),i[1]),e(r(t(V,h),-s[1]),r(t(k,p),l[1]))),-o[2])),e(r(e(r(t(U,D),i[1]),e(r(t(V,h),-o[1]),r(t(C,f),l[1]))),s[2]),r(e(r(t(j,T),i[1]),e(r(t(k,p),-o[1]),r(t(C,f),s[1]))),-l[2]))),-c[3]),r(e(e(r(e(r(t(R,M),o[1]),e(r(t(L,E),-s[1]),r(t(j,T),c[1]))),i[2]),r(e(r(t(R,M),i[1]),e(r(t(F,m),-s[1]),r(t(k,p),c[1]))),-o[2])),e(r(e(r(t(L,E),i[1]),e(r(t(F,m),-o[1]),r(t(C,f),c[1]))),s[2]),r(e(r(t(j,T),i[1]),e(r(t(k,p),-o[1]),r(t(C,f),s[1]))),-c[2]))),l[3])),e(r(e(e(r(e(r(t(G,z),o[1]),e(r(t(U,D),-c[1]),r(t(L,E),l[1]))),a[2]),r(e(r(t(G,z),a[1]),e(r(t(H,x),-c[1]),r(t(I,b),l[1]))),-o[2])),e(r(e(r(t(U,D),a[1]),e(r(t(H,x),-o[1]),r(t(w,v),l[1]))),c[2]),r(e(r(t(L,E),a[1]),e(r(t(I,b),-o[1]),r(t(w,v),c[1]))),-l[2]))),i[3]),r(e(e(r(e(r(t(G,z),o[1]),e(r(t(U,D),-c[1]),r(t(L,E),l[1]))),i[2]),r(e(r(t(G,z),i[1]),e(r(t(V,h),-c[1]),r(t(F,m),l[1]))),-o[2])),e(r(e(r(t(U,D),i[1]),e(r(t(V,h),-o[1]),r(t(C,f),l[1]))),c[2]),r(e(r(t(L,E),i[1]),e(r(t(F,m),-o[1]),r(t(C,f),c[1]))),-l[2]))),-a[3])))),e(e(e(r(e(e(r(e(r(t(G,z),a[1]),e(r(t(H,x),-c[1]),r(t(I,b),l[1]))),i[2]),r(e(r(t(G,z),i[1]),e(r(t(V,h),-c[1]),r(t(F,m),l[1]))),-a[2])),e(r(e(r(t(H,x),i[1]),e(r(t(V,h),-a[1]),r(t(_,d),l[1]))),c[2]),r(e(r(t(I,b),i[1]),e(r(t(F,m),-a[1]),r(t(_,d),c[1]))),-l[2]))),o[3]),r(e(e(r(e(r(t(U,D),a[1]),e(r(t(H,x),-o[1]),r(t(w,v),l[1]))),i[2]),r(e(r(t(U,D),i[1]),e(r(t(V,h),-o[1]),r(t(C,f),l[1]))),-a[2])),e(r(e(r(t(H,x),i[1]),e(r(t(V,h),-a[1]),r(t(_,d),l[1]))),o[2]),r(e(r(t(w,v),i[1]),e(r(t(C,f),-a[1]),r(t(_,d),o[1]))),-l[2]))),-c[3])),e(r(e(e(r(e(r(t(L,E),a[1]),e(r(t(I,b),-o[1]),r(t(w,v),c[1]))),i[2]),r(e(r(t(L,E),i[1]),e(r(t(F,m),-o[1]),r(t(C,f),c[1]))),-a[2])),e(r(e(r(t(I,b),i[1]),e(r(t(F,m),-a[1]),r(t(_,d),c[1]))),o[2]),r(e(r(t(w,v),i[1]),e(r(t(C,f),-a[1]),r(t(_,d),o[1]))),-c[2]))),l[3]),r(e(e(r(e(r(t(R,M),o[1]),e(r(t(L,E),-s[1]),r(t(j,T),c[1]))),a[2]),r(e(r(t(R,M),a[1]),e(r(t(I,b),-s[1]),r(t(A,y),c[1]))),-o[2])),e(r(e(r(t(L,E),a[1]),e(r(t(I,b),-o[1]),r(t(w,v),c[1]))),s[2]),r(e(r(t(j,T),a[1]),e(r(t(A,y),-o[1]),r(t(w,v),s[1]))),-c[2]))),i[3]))),e(e(r(e(e(r(e(r(t(R,M),o[1]),e(r(t(L,E),-s[1]),r(t(j,T),c[1]))),i[2]),r(e(r(t(R,M),i[1]),e(r(t(F,m),-s[1]),r(t(k,p),c[1]))),-o[2])),e(r(e(r(t(L,E),i[1]),e(r(t(F,m),-o[1]),r(t(C,f),c[1]))),s[2]),r(e(r(t(j,T),i[1]),e(r(t(k,p),-o[1]),r(t(C,f),s[1]))),-c[2]))),-a[3]),r(e(e(r(e(r(t(R,M),a[1]),e(r(t(I,b),-s[1]),r(t(A,y),c[1]))),i[2]),r(e(r(t(R,M),i[1]),e(r(t(F,m),-s[1]),r(t(k,p),c[1]))),-a[2])),e(r(e(r(t(I,b),i[1]),e(r(t(F,m),-a[1]),r(t(_,d),c[1]))),s[2]),r(e(r(t(A,y),i[1]),e(r(t(k,p),-a[1]),r(t(_,d),s[1]))),-c[2]))),o[3])),e(r(e(e(r(e(r(t(L,E),a[1]),e(r(t(I,b),-o[1]),r(t(w,v),c[1]))),i[2]),r(e(r(t(L,E),i[1]),e(r(t(F,m),-o[1]),r(t(C,f),c[1]))),-a[2])),e(r(e(r(t(I,b),i[1]),e(r(t(F,m),-a[1]),r(t(_,d),c[1]))),o[2]),r(e(r(t(w,v),i[1]),e(r(t(C,f),-a[1]),r(t(_,d),o[1]))),-c[2]))),-s[3]),r(e(e(r(e(r(t(j,T),a[1]),e(r(t(A,y),-o[1]),r(t(w,v),s[1]))),i[2]),r(e(r(t(j,T),i[1]),e(r(t(k,p),-o[1]),r(t(C,f),s[1]))),-a[2])),e(r(e(r(t(A,y),i[1]),e(r(t(k,p),-a[1]),r(t(_,d),s[1]))),o[2]),r(e(r(t(w,v),i[1]),e(r(t(C,f),-a[1]),r(t(_,d),o[1]))),-s[2]))),c[3]))))));return K[K.length-1]}return i}var g=[l,u,d];function _(e){var t=g[e.length];return t||=g[e.length]=c(e.length),t.apply(void 0,e)}function v(e,t,n,r,i,a,o,s){function c(t,n,c,l,u,d){switch(arguments.length){case 0:case 1:return 0;case 2:return r(t,n);case 3:return i(t,n,c);case 4:return a(t,n,c,l);case 5:return o(t,n,c,l,u);case 6:return s(t,n,c,l,u,d)}for(var f=Array(arguments.length),p=0;p<arguments.length;++p)f[p]=arguments[p];return e(f)}return c}function y(){for(;g.length<=s;)g.push(c(g.length));e.exports=v.apply(void 0,[_].concat(g));for(var t=0;t<=s;++t)e.exports[t]=g[t]}y()},6606:function(e,t,n){var r=n(8167),i=6;function a(e){return(e===2?c:e===3?l:e===4?u:e===5?d:f)(e<6?r[e]:r)}function o(){return[[0]]}function s(e,t){return[[t[0]],[e[0][0]]]}function c(e){return function(t,n){return[e([[+n[0],+t[0][1]],[+n[1],+t[1][1]]]),e([[+t[0][0],+n[0]],[+t[1][0],+n[1]]]),e(t)]}}function l(e){return function(t,n){return[e([[+n[0],+t[0][1],+t[0][2]],[+n[1],+t[1][1],+t[1][2]],[+n[2],+t[2][1],+t[2][2]]]),e([[+t[0][0],+n[0],+t[0][2]],[+t[1][0],+n[1],+t[1][2]],[+t[2][0],+n[2],+t[2][2]]]),e([[+t[0][0],+t[0][1],+n[0]],[+t[1][0],+t[1][1],+n[1]],[+t[2][0],+t[2][1],+n[2]]]),e(t)]}}function u(e){return function(t,n){return[e([[+n[0],+t[0][1],+t[0][2],+t[0][3]],[+n[1],+t[1][1],+t[1][2],+t[1][3]],[+n[2],+t[2][1],+t[2][2],+t[2][3]],[+n[3],+t[3][1],+t[3][2],+t[3][3]]]),e([[+t[0][0],+n[0],+t[0][2],+t[0][3]],[+t[1][0],+n[1],+t[1][2],+t[1][3]],[+t[2][0],+n[2],+t[2][2],+t[2][3]],[+t[3][0],+n[3],+t[3][2],+t[3][3]]]),e([[+t[0][0],+t[0][1],+n[0],+t[0][3]],[+t[1][0],+t[1][1],+n[1],+t[1][3]],[+t[2][0],+t[2][1],+n[2],+t[2][3]],[+t[3][0],+t[3][1],+n[3],+t[3][3]]]),e([[+t[0][0],+t[0][1],+t[0][2],+n[0]],[+t[1][0],+t[1][1],+t[1][2],+n[1]],[+t[2][0],+t[2][1],+t[2][2],+n[2]],[+t[3][0],+t[3][1],+t[3][2],+n[3]]]),e(t)]}}function d(e){return function(t,n){return[e([[+n[0],+t[0][1],+t[0][2],+t[0][3],+t[0][4]],[+n[1],+t[1][1],+t[1][2],+t[1][3],+t[1][4]],[+n[2],+t[2][1],+t[2][2],+t[2][3],+t[2][4]],[+n[3],+t[3][1],+t[3][2],+t[3][3],+t[3][4]],[+n[4],+t[4][1],+t[4][2],+t[4][3],+t[4][4]]]),e([[+t[0][0],+n[0],+t[0][2],+t[0][3],+t[0][4]],[+t[1][0],+n[1],+t[1][2],+t[1][3],+t[1][4]],[+t[2][0],+n[2],+t[2][2],+t[2][3],+t[2][4]],[+t[3][0],+n[3],+t[3][2],+t[3][3],+t[3][4]],[+t[4][0],+n[4],+t[4][2],+t[4][3],+t[4][4]]]),e([[+t[0][0],+t[0][1],+n[0],+t[0][3],+t[0][4]],[+t[1][0],+t[1][1],+n[1],+t[1][3],+t[1][4]],[+t[2][0],+t[2][1],+n[2],+t[2][3],+t[2][4]],[+t[3][0],+t[3][1],+n[3],+t[3][3],+t[3][4]],[+t[4][0],+t[4][1],+n[4],+t[4][3],+t[4][4]]]),e([[+t[0][0],+t[0][1],+t[0][2],+n[0],+t[0][4]],[+t[1][0],+t[1][1],+t[1][2],+n[1],+t[1][4]],[+t[2][0],+t[2][1],+t[2][2],+n[2],+t[2][4]],[+t[3][0],+t[3][1],+t[3][2],+n[3],+t[3][4]],[+t[4][0],+t[4][1],+t[4][2],+n[4],+t[4][4]]]),e([[+t[0][0],+t[0][1],+t[0][2],+t[0][3],+n[0]],[+t[1][0],+t[1][1],+t[1][2],+t[1][3],+n[1]],[+t[2][0],+t[2][1],+t[2][2],+t[2][3],+n[2]],[+t[3][0],+t[3][1],+t[3][2],+t[3][3],+n[3]],[+t[4][0],+t[4][1],+t[4][2],+t[4][3],+n[4]]]),e(t)]}}function f(e){return function(t,n){return[e([[+n[0],+t[0][1],+t[0][2],+t[0][3],+t[0][4],+t[0][5]],[+n[1],+t[1][1],+t[1][2],+t[1][3],+t[1][4],+t[1][5]],[+n[2],+t[2][1],+t[2][2],+t[2][3],+t[2][4],+t[2][5]],[+n[3],+t[3][1],+t[3][2],+t[3][3],+t[3][4],+t[3][5]],[+n[4],+t[4][1],+t[4][2],+t[4][3],+t[4][4],+t[4][5]],[+n[5],+t[5][1],+t[5][2],+t[5][3],+t[5][4],+t[5][5]]]),e([[+t[0][0],+n[0],+t[0][2],+t[0][3],+t[0][4],+t[0][5]],[+t[1][0],+n[1],+t[1][2],+t[1][3],+t[1][4],+t[1][5]],[+t[2][0],+n[2],+t[2][2],+t[2][3],+t[2][4],+t[2][5]],[+t[3][0],+n[3],+t[3][2],+t[3][3],+t[3][4],+t[3][5]],[+t[4][0],+n[4],+t[4][2],+t[4][3],+t[4][4],+t[4][5]],[+t[5][0],+n[5],+t[5][2],+t[5][3],+t[5][4],+t[5][5]]]),e([[+t[0][0],+t[0][1],+n[0],+t[0][3],+t[0][4],+t[0][5]],[+t[1][0],+t[1][1],+n[1],+t[1][3],+t[1][4],+t[1][5]],[+t[2][0],+t[2][1],+n[2],+t[2][3],+t[2][4],+t[2][5]],[+t[3][0],+t[3][1],+n[3],+t[3][3],+t[3][4],+t[3][5]],[+t[4][0],+t[4][1],+n[4],+t[4][3],+t[4][4],+t[4][5]],[+t[5][0],+t[5][1],+n[5],+t[5][3],+t[5][4],+t[5][5]]]),e([[+t[0][0],+t[0][1],+t[0][2],+n[0],+t[0][4],+t[0][5]],[+t[1][0],+t[1][1],+t[1][2],+n[1],+t[1][4],+t[1][5]],[+t[2][0],+t[2][1],+t[2][2],+n[2],+t[2][4],+t[2][5]],[+t[3][0],+t[3][1],+t[3][2],+n[3],+t[3][4],+t[3][5]],[+t[4][0],+t[4][1],+t[4][2],+n[4],+t[4][4],+t[4][5]],[+t[5][0],+t[5][1],+t[5][2],+n[5],+t[5][4],+t[5][5]]]),e([[+t[0][0],+t[0][1],+t[0][2],+t[0][3],+n[0],+t[0][5]],[+t[1][0],+t[1][1],+t[1][2],+t[1][3],+n[1],+t[1][5]],[+t[2][0],+t[2][1],+t[2][2],+t[2][3],+n[2],+t[2][5]],[+t[3][0],+t[3][1],+t[3][2],+t[3][3],+n[3],+t[3][5]],[+t[4][0],+t[4][1],+t[4][2],+t[4][3],+n[4],+t[4][5]],[+t[5][0],+t[5][1],+t[5][2],+t[5][3],+n[5],+t[5][5]]]),e([[+t[0][0],+t[0][1],+t[0][2],+t[0][3],+t[0][4],+n[0]],[+t[1][0],+t[1][1],+t[1][2],+t[1][3],+t[1][4],+n[1]],[+t[2][0],+t[2][1],+t[2][2],+t[2][3],+t[2][4],+n[2]],[+t[3][0],+t[3][1],+t[3][2],+t[3][3],+t[3][4],+n[3]],[+t[4][0],+t[4][1],+t[4][2],+t[4][3],+t[4][4],+n[4]],[+t[5][0],+t[5][1],+t[5][2],+t[5][3],+t[5][4],+n[5]]]),e(t)]}}var p=[o,s];function m(e,t,n,r,i,a,o,s){return function(c,l){switch(c.length){case 0:return e(c,l);case 1:return t(c,l);case 2:return n(c,l);case 3:return r(c,l);case 4:return i(c,l);case 5:return a(c,l)}var u=o[c.length];return u||=o[c.length]=s(c.length),u(c,l)}}function h(){for(;p.length<i;)p.push(a(p.length));e.exports=m.apply(void 0,p.concat([p,a]));for(var t=0;t<i;++t)e.exports[t]=p[t]}h()},417:function(e,t,n){var r=n(9660),i=n(9662),a=n(8289),o=n(4078),s=5,c=11102230246251565e-32,l=(3+16*c)*c,u=(7+56*c)*c;function d(e,t,n,r){return function(n,i,a){var o=r(e(e(t(i[1],a[0]),t(-a[1],i[0])),e(t(n[1],i[0]),t(-i[1],n[0]))),e(t(n[1],a[0]),t(-a[1],n[0])));return o[o.length-1]}}function f(e,t,n,r){return function(i,a,o,s){var c=r(e(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),a[2]),e(n(e(t(a[1],s[0]),t(-s[1],a[0])),-o[2]),n(e(t(a[1],o[0]),t(-o[1],a[0])),s[2]))),e(n(e(t(a[1],s[0]),t(-s[1],a[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),s[2])))),e(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),s[2]))),e(n(e(t(a[1],o[0]),t(-o[1],a[0])),i[2]),e(n(e(t(i[1],o[0]),t(-o[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),o[2])))));return c[c.length-1]}}function p(e,t,n,r){return function(i,a,o,s,c){var l=r(e(e(e(n(e(n(e(t(s[1],c[0]),t(-c[1],s[0])),o[2]),e(n(e(t(o[1],c[0]),t(-c[1],o[0])),-s[2]),n(e(t(o[1],s[0]),t(-s[1],o[0])),c[2]))),a[3]),e(n(e(n(e(t(s[1],c[0]),t(-c[1],s[0])),a[2]),e(n(e(t(a[1],c[0]),t(-c[1],a[0])),-s[2]),n(e(t(a[1],s[0]),t(-s[1],a[0])),c[2]))),-o[3]),n(e(n(e(t(o[1],c[0]),t(-c[1],o[0])),a[2]),e(n(e(t(a[1],c[0]),t(-c[1],a[0])),-o[2]),n(e(t(a[1],o[0]),t(-o[1],a[0])),c[2]))),s[3]))),e(n(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),a[2]),e(n(e(t(a[1],s[0]),t(-s[1],a[0])),-o[2]),n(e(t(a[1],o[0]),t(-o[1],a[0])),s[2]))),-c[3]),e(n(e(n(e(t(s[1],c[0]),t(-c[1],s[0])),a[2]),e(n(e(t(a[1],c[0]),t(-c[1],a[0])),-s[2]),n(e(t(a[1],s[0]),t(-s[1],a[0])),c[2]))),i[3]),n(e(n(e(t(s[1],c[0]),t(-c[1],s[0])),i[2]),e(n(e(t(i[1],c[0]),t(-c[1],i[0])),-s[2]),n(e(t(i[1],s[0]),t(-s[1],i[0])),c[2]))),-a[3])))),e(e(n(e(n(e(t(a[1],c[0]),t(-c[1],a[0])),i[2]),e(n(e(t(i[1],c[0]),t(-c[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),c[2]))),s[3]),e(n(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),s[2]))),-c[3]),n(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),a[2]),e(n(e(t(a[1],s[0]),t(-s[1],a[0])),-o[2]),n(e(t(a[1],o[0]),t(-o[1],a[0])),s[2]))),i[3]))),e(n(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),s[2]))),-a[3]),e(n(e(n(e(t(a[1],s[0]),t(-s[1],a[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),s[2]))),o[3]),n(e(n(e(t(a[1],o[0]),t(-o[1],a[0])),i[2]),e(n(e(t(i[1],o[0]),t(-o[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),o[2]))),-s[3]))))),e(e(e(n(e(n(e(t(s[1],c[0]),t(-c[1],s[0])),o[2]),e(n(e(t(o[1],c[0]),t(-c[1],o[0])),-s[2]),n(e(t(o[1],s[0]),t(-s[1],o[0])),c[2]))),i[3]),n(e(n(e(t(s[1],c[0]),t(-c[1],s[0])),i[2]),e(n(e(t(i[1],c[0]),t(-c[1],i[0])),-s[2]),n(e(t(i[1],s[0]),t(-s[1],i[0])),c[2]))),-o[3])),e(n(e(n(e(t(o[1],c[0]),t(-c[1],o[0])),i[2]),e(n(e(t(i[1],c[0]),t(-c[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),c[2]))),s[3]),n(e(n(e(t(o[1],s[0]),t(-s[1],o[0])),i[2]),e(n(e(t(i[1],s[0]),t(-s[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),s[2]))),-c[3]))),e(e(n(e(n(e(t(o[1],c[0]),t(-c[1],o[0])),a[2]),e(n(e(t(a[1],c[0]),t(-c[1],a[0])),-o[2]),n(e(t(a[1],o[0]),t(-o[1],a[0])),c[2]))),i[3]),n(e(n(e(t(o[1],c[0]),t(-c[1],o[0])),i[2]),e(n(e(t(i[1],c[0]),t(-c[1],i[0])),-o[2]),n(e(t(i[1],o[0]),t(-o[1],i[0])),c[2]))),-a[3])),e(n(e(n(e(t(a[1],c[0]),t(-c[1],a[0])),i[2]),e(n(e(t(i[1],c[0]),t(-c[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),c[2]))),o[3]),n(e(n(e(t(a[1],o[0]),t(-o[1],a[0])),i[2]),e(n(e(t(i[1],o[0]),t(-o[1],i[0])),-a[2]),n(e(t(i[1],a[0]),t(-a[1],i[0])),o[2]))),-c[3])))));return l[l.length-1]}}function m(e){return(e===3?d:e===4?f:p)(i,r,a,o)}var h=m(3),g=m(4),_=[function(){return 0},function(){return 0},function(e,t){return t[0]-e[0]},function(e,t,n){var r=(e[1]-n[1])*(t[0]-n[0]),i=(e[0]-n[0])*(t[1]-n[1]),a=r-i,o;if(r>0){if(i<=0)return a;o=r+i}else if(r<0){if(i>=0)return a;o=-(r+i)}else return a;var s=l*o;return a>=s||a<=-s?a:h(e,t,n)},function(e,t,n,r){var i=e[0]-r[0],a=t[0]-r[0],o=n[0]-r[0],s=e[1]-r[1],c=t[1]-r[1],l=n[1]-r[1],d=e[2]-r[2],f=t[2]-r[2],p=n[2]-r[2],m=a*l,h=o*c,_=o*s,v=i*l,y=i*c,b=a*s,x=d*(m-h)+f*(_-v)+p*(y-b),S=u*((Math.abs(m)+Math.abs(h))*Math.abs(d)+(Math.abs(_)+Math.abs(v))*Math.abs(f)+(Math.abs(y)+Math.abs(b))*Math.abs(p));return x>S||-x>S?x:g(e,t,n,r)}];function v(e){var t=_[e.length];return t||=_[e.length]=m(e.length),t.apply(void 0,e)}function y(e,t,n,r,i,a,o){return function(t,n,s,c,l){switch(arguments.length){case 0:case 1:return 0;case 2:return r(t,n);case 3:return i(t,n,s);case 4:return a(t,n,s,c);case 5:return o(t,n,s,c,l)}for(var u=Array(arguments.length),d=0;d<arguments.length;++d)u[d]=arguments[d];return e(u)}}function b(){for(;_.length<=s;)_.push(m(_.length));e.exports=y.apply(void 0,[v].concat(_));for(var t=0;t<=s;++t)e.exports[t]=_[t]}b()},2019:function(e,t,n){var r=n(9662),i=n(8289);e.exports=a;function a(e,t){if(e.length===1)return i(t,e[0]);if(t.length===1)return i(e,t[0]);if(e.length===0||t.length===0)return[0];var n=[0];if(e.length<t.length)for(var a=0;a<e.length;++a)n=r(n,i(t,e[a]));else for(var a=0;a<t.length;++a)n=r(n,i(e,t[a]));return n}},8289:function(e,t,n){var r=n(9660),i=n(87);e.exports=a;function a(e,t){var n=e.length;if(n===1){var a=r(e[0],t);return a[0]?a:[a[1]]}var o=Array(2*n),s=[.1,.1],c=[.1,.1],l=0;r(e[0],t,s),s[0]&&(o[l++]=s[0]);for(var u=1;u<n;++u){r(e[u],t,c);var d=s[1];i(d,c[0],s),s[0]&&(o[l++]=s[0]);var f=c[1],p=s[1],m=f+p,h=p-(m-f);s[1]=m,h&&(o[l++]=h)}return s[1]&&(o[l++]=s[1]),l===0&&(o[l++]=0),o.length=l,o}},4434:function(e,t,n){e.exports=a;var r=n(417)[3];function i(e,t,n,r){for(var i=0;i<2;++i){var a=e[i],o=t[i],s=Math.min(a,o),c=Math.max(a,o),l=n[i],u=r[i],d=Math.min(l,u);if(Math.max(l,u)<s||c<d)return!1}return!0}function a(e,t,n,a){var o=r(e,n,a),s=r(t,n,a);if(o>0&&s>0||o<0&&s<0)return!1;var c=r(n,e,t),l=r(a,e,t);return c>0&&l>0||c<0&&l<0?!1:o===0&&s===0&&c===0&&l===0?i(e,t,n,a):!0}},4078:function(e){e.exports=n;function t(e,t){var n=e+t,r=n-e,i=n-r,a=t-r,o=e-i+a;return o?[o,n]:[n]}function n(e,n){var r=e.length|0,i=n.length|0;if(r===1&&i===1)return t(e[0],-n[0]);var a=r+i,o=Array(a),s=0,c=0,l=0,u=Math.abs,d=e[c],f=u(d),p=-n[l],m=u(p),h,g;f<m?(g=d,c+=1,c<r&&(d=e[c],f=u(d))):(g=p,l+=1,l<i&&(p=-n[l],m=u(p))),c<r&&f<m||l>=i?(h=d,c+=1,c<r&&(d=e[c],f=u(d))):(h=p,l+=1,l<i&&(p=-n[l],m=u(p)));for(var _=h+g,v=_-h,y=g-v,b=y,x=_,S,C,w,T,E;c<r&&l<i;)f<m?(h=d,c+=1,c<r&&(d=e[c],f=u(d))):(h=p,l+=1,l<i&&(p=-n[l],m=u(p))),g=b,_=h+g,v=_-h,y=g-v,y&&(o[s++]=y),S=x+_,C=S-x,w=S-C,T=_-C,E=x-w,b=E+T,x=S;for(;c<r;)h=d,g=b,_=h+g,v=_-h,y=g-v,y&&(o[s++]=y),S=x+_,C=S-x,w=S-C,T=_-C,E=x-w,b=E+T,x=S,c+=1,c<r&&(d=e[c]);for(;l<i;)h=p,g=b,_=h+g,v=_-h,y=g-v,y&&(o[s++]=y),S=x+_,C=S-x,w=S-C,T=_-C,E=x-w,b=E+T,x=S,l+=1,l<i&&(p=-n[l]);return b&&(o[s++]=b),x&&(o[s++]=x),s||(o[s++]=0),o.length=s,o}},9662:function(e){e.exports=n;function t(e,t){var n=e+t,r=n-e,i=n-r,a=t-r,o=e-i+a;return o?[o,n]:[n]}function n(e,n){var r=e.length|0,i=n.length|0;if(r===1&&i===1)return t(e[0],n[0]);var a=r+i,o=Array(a),s=0,c=0,l=0,u=Math.abs,d=e[c],f=u(d),p=n[l],m=u(p),h,g;f<m?(g=d,c+=1,c<r&&(d=e[c],f=u(d))):(g=p,l+=1,l<i&&(p=n[l],m=u(p))),c<r&&f<m||l>=i?(h=d,c+=1,c<r&&(d=e[c],f=u(d))):(h=p,l+=1,l<i&&(p=n[l],m=u(p)));for(var _=h+g,v=_-h,y=g-v,b=y,x=_,S,C,w,T,E;c<r&&l<i;)f<m?(h=d,c+=1,c<r&&(d=e[c],f=u(d))):(h=p,l+=1,l<i&&(p=n[l],m=u(p))),g=b,_=h+g,v=_-h,y=g-v,y&&(o[s++]=y),S=x+_,C=S-x,w=S-C,T=_-C,E=x-w,b=E+T,x=S;for(;c<r;)h=d,g=b,_=h+g,v=_-h,y=g-v,y&&(o[s++]=y),S=x+_,C=S-x,w=S-C,T=_-C,E=x-w,b=E+T,x=S,c+=1,c<r&&(d=e[c]);for(;l<i;)h=p,g=b,_=h+g,v=_-h,y=g-v,y&&(o[s++]=y),S=x+_,C=S-x,w=S-C,T=_-C,E=x-w,b=E+T,x=S,l+=1,l<i&&(p=n[l]);return b&&(o[s++]=b),x&&(o[s++]=x),s||(o[s++]=0),o.length=s,o}},8691:function(e,t,n){e.exports=a;var r=n(2692),i=n(7037);function a(e){return i(r(e))}},7212:function(e,t,n){e.exports=p;var r=n(5050),i=n(5306),a=n(8729),o=n(1168);function s(e){for(var t=e.length,n=0,r=0;r<t;++r)n=Math.max(n,e[r].length)|0;return n-1}function c(e,t){for(var n=e.length,r=i.mallocUint8(n),a=0;a<n;++a)r[a]=e[a]<t|0;return r}function l(e,t){for(var n=e.length,o=t*(t+1)/2*n|0,s=i.mallocUint32(o*2),c=0,l=0;l<n;++l)for(var u=e[l],t=u.length,d=0;d<t;++d)for(var f=0;f<d;++f){var p=u[f],m=u[d];s[c++]=Math.min(p,m)|0,s[c++]=Math.max(p,m)|0}a(r(s,[c/2|0,2]));for(var h=2,l=2;l<c;l+=2)s[l-2]===s[l]&&s[l-1]===s[l+1]||(s[h++]=s[l],s[h++]=s[l+1]);return r(s,[h/2|0,2])}function u(e,t,n,a){for(var o=e.data,s=e.shape[0],c=i.mallocDouble(s),l=0,u=0;u<s;++u){var d=o[2*u],f=o[2*u+1];if(n[d]!==n[f]){var p=t[d],m=t[f];o[2*l]=d,o[2*l+1]=f,c[l++]=(m-a)/(m-p)}}return e.shape[0]=l,r(c,[l])}function d(e,t){var n=i.mallocInt32(t*2),r=e.shape[0],a=e.data;n[0]=0;for(var o=0,s=0;s<r;++s){var c=a[2*s];if(c!==o){for(n[2*o+1]=s;++o<c;)n[2*o]=s,n[2*o+1]=s;n[2*o]=s}}for(n[2*o+1]=r;++o<t;)n[2*o]=n[2*o+1]=r;return n}function f(e){for(var t=e.shape[0]|0,n=e.data,r=Array(t),i=0;i<t;++i)r[i]=[n[2*i],n[2*i+1]];return r}function p(e,t,n,r){if(n||=0,r===void 0&&(r=s(e)),e.length===0||r<1)return{cells:[],vertexIds:[],vertexWeights:[]};var a=c(t,+n),p=l(e,r),m=u(p,t,a,+n),h=d(p,t.length|0),g=o(r)(e,p.data,h,a),_=f(p),v=[].slice.call(m.data,0,m.shape[0]);return i.free(a),i.free(p.data),i.free(m.data),i.free(h),{cells:g,vertexIds:_,vertexWeights:v}}},1168:function(e){e.exports=n;var t=[function(){function e(e,t,n,r){for(var i=e.length,a=[],o=0;o<i;++o)e[o].length;return a}return e},function(){function e(e,t,n,r){for(var i=Math.min(n,r)|0,a=Math.max(n,r)|0,o=e[2*i],s=e[2*i+1];o<s;){var c=o+s>>1,l=t[2*c+1];if(l===a)return c;a<l?s=c:o=c+1}return o}function t(t,n,r,i){for(var a=t.length,o=[],s=0;s<a;++s){var c=t[s];if(c.length===2){var l=(i[c[0]]<<0)+(i[c[1]]<<1);if(l===0||l===3)continue;switch(l){case 0:break;case 1:o.push([e(r,n,c[0],c[1])]);break;case 2:o.push([e(r,n,c[1],c[0])]);break;case 3:break}}}return o}return t},function(){function e(e,t,n,r){for(var i=Math.min(n,r)|0,a=Math.max(n,r)|0,o=e[2*i],s=e[2*i+1];o<s;){var c=o+s>>1,l=t[2*c+1];if(l===a)return c;a<l?s=c:o=c+1}return o}function t(t,n,r,i){for(var a=t.length,o=[],s=0;s<a;++s){var c=t[s],l=c.length;if(l===3){var u=(i[c[0]]<<0)+(i[c[1]]<<1)+(i[c[2]]<<2);if(u===0||u===7)continue;switch(u){case 0:break;case 1:o.push([e(r,n,c[0],c[2]),e(r,n,c[0],c[1])]);break;case 2:o.push([e(r,n,c[1],c[0]),e(r,n,c[1],c[2])]);break;case 3:o.push([e(r,n,c[0],c[2]),e(r,n,c[1],c[2])]);break;case 4:o.push([e(r,n,c[2],c[1]),e(r,n,c[2],c[0])]);break;case 5:o.push([e(r,n,c[2],c[1]),e(r,n,c[0],c[1])]);break;case 6:o.push([e(r,n,c[1],c[0]),e(r,n,c[2],c[0])]);break;case 7:break}}else if(l===2){var u=(i[c[0]]<<0)+(i[c[1]]<<1);if(u===0||u===3)continue;switch(u){case 0:break;case 1:o.push([e(r,n,c[0],c[1])]);break;case 2:o.push([e(r,n,c[1],c[0])]);break;case 3:break}}}return o}return t},function(){function e(e,t,n,r){for(var i=Math.min(n,r)|0,a=Math.max(n,r)|0,o=e[2*i],s=e[2*i+1];o<s;){var c=o+s>>1,l=t[2*c+1];if(l===a)return c;a<l?s=c:o=c+1}return o}function t(t,n,r,i){for(var a=t.length,o=[],s=0;s<a;++s){var c=t[s],l=c.length;if(l===4){var u=(i[c[0]]<<0)+(i[c[1]]<<1)+(i[c[2]]<<2)+(i[c[3]]<<3);if(u===0||u===15)continue;switch(u){case 0:break;case 1:o.push([e(r,n,c[0],c[1]),e(r,n,c[0],c[2]),e(r,n,c[0],c[3])]);break;case 2:o.push([e(r,n,c[1],c[2]),e(r,n,c[1],c[0]),e(r,n,c[1],c[3])]);break;case 3:o.push([e(r,n,c[1],c[2]),e(r,n,c[0],c[2]),e(r,n,c[0],c[3])],[e(r,n,c[1],c[3]),e(r,n,c[1],c[2]),e(r,n,c[0],c[3])]);break;case 4:o.push([e(r,n,c[2],c[0]),e(r,n,c[2],c[1]),e(r,n,c[2],c[3])]);break;case 5:o.push([e(r,n,c[0],c[1]),e(r,n,c[2],c[1]),e(r,n,c[0],c[3])],[e(r,n,c[2],c[1]),e(r,n,c[2],c[3]),e(r,n,c[0],c[3])]);break;case 6:o.push([e(r,n,c[2],c[0]),e(r,n,c[1],c[0]),e(r,n,c[1],c[3])],[e(r,n,c[2],c[3]),e(r,n,c[2],c[0]),e(r,n,c[1],c[3])]);break;case 7:o.push([e(r,n,c[0],c[3]),e(r,n,c[1],c[3]),e(r,n,c[2],c[3])]);break;case 8:o.push([e(r,n,c[3],c[1]),e(r,n,c[3],c[0]),e(r,n,c[3],c[2])]);break;case 9:o.push([e(r,n,c[3],c[1]),e(r,n,c[0],c[1]),e(r,n,c[0],c[2])],[e(r,n,c[3],c[2]),e(r,n,c[3],c[1]),e(r,n,c[0],c[2])]);break;case 10:o.push([e(r,n,c[1],c[0]),e(r,n,c[3],c[0]),e(r,n,c[1],c[2])],[e(r,n,c[3],c[0]),e(r,n,c[3],c[2]),e(r,n,c[1],c[2])]);break;case 11:o.push([e(r,n,c[1],c[2]),e(r,n,c[0],c[2]),e(r,n,c[3],c[2])]);break;case 12:o.push([e(r,n,c[3],c[0]),e(r,n,c[2],c[0]),e(r,n,c[2],c[1])],[e(r,n,c[3],c[1]),e(r,n,c[3],c[0]),e(r,n,c[2],c[1])]);break;case 13:o.push([e(r,n,c[0],c[1]),e(r,n,c[2],c[1]),e(r,n,c[3],c[1])]);break;case 14:o.push([e(r,n,c[2],c[0]),e(r,n,c[1],c[0]),e(r,n,c[3],c[0])]);break;case 15:break}}else if(l===3){var u=(i[c[0]]<<0)+(i[c[1]]<<1)+(i[c[2]]<<2);if(u===0||u===7)continue;switch(u){case 0:break;case 1:o.push([e(r,n,c[0],c[2]),e(r,n,c[0],c[1])]);break;case 2:o.push([e(r,n,c[1],c[0]),e(r,n,c[1],c[2])]);break;case 3:o.push([e(r,n,c[0],c[2]),e(r,n,c[1],c[2])]);break;case 4:o.push([e(r,n,c[2],c[1]),e(r,n,c[2],c[0])]);break;case 5:o.push([e(r,n,c[2],c[1]),e(r,n,c[0],c[1])]);break;case 6:o.push([e(r,n,c[1],c[0]),e(r,n,c[2],c[0])]);break;case 7:break}}else if(l===2){var u=(i[c[0]]<<0)+(i[c[1]]<<1);if(u===0||u===3)continue;switch(u){case 0:break;case 1:o.push([e(r,n,c[0],c[1])]);break;case 2:o.push([e(r,n,c[1],c[0])]);break;case 3:break}}}return o}return t}];function n(e){return t[e]()}},8211:function(e,t,n){n(2288),n(1731);function r(e,t){var n=e.length,r=e.length-t.length,i=Math.min;if(r)return r;switch(n){case 0:return 0;case 1:return e[0]-t[0];case 2:var a=e[0]+e[1]-t[0]-t[1];return a||i(e[0],e[1])-i(t[0],t[1]);case 3:var o=e[0]+e[1],s=t[0]+t[1];if(a=o+e[2]-(s+t[2]),a)return a;var c=i(e[0],e[1]),l=i(t[0],t[1]),a=i(c,e[2])-i(l,t[2]);return a||i(c+e[2],o)-i(l+t[2],s);default:var u=e.slice(0);u.sort();var d=t.slice(0);d.sort();for(var f=0;f<n;++f)if(r=u[f]-d[f],r)return r;return 0}}t.H=r},9392:function(e,t){"use restrict";var n=32;t.INT_BITS=n,t.INT_MAX=2147483647,t.INT_MIN=-1<<n-1,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>n-1;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t=(e>65535)<<4,n;return e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,t|=n,t|e>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return e-=e>>>1&1431655765,e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24};function r(e){var t=32;return e&=-e,e&&t--,e&65535&&(t-=16),e&16711935&&(t-=8),e&252645135&&(t-=4),e&858993459&&(t-=2),e&1431655765&&--t,t}t.countTrailingZeros=r,t.nextPow2=function(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var i=Array(256);(function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=n&1,--i;e[t]=r<<i&255}})(i),t.reverse=function(e){return i[e&255]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t&=65535,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1},t.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16},t.interleave3=function(e,t,n){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,t&=1023,t=(t|t<<16)&4278190335,t=(t|t<<8)&251719695,t=(t|t<<4)&3272356035,t=(t|t<<2)&1227133513,e|=t<<1,n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,e|n<<2},t.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},6656:function(e,t,n){"use restrict";var r=n(9392),i=n(9521);function a(e){for(var t=0,n=Math.max,r=0,i=e.length;r<i;++r)t=n(t,e[r].length);return t-1}t.dimension=a;function o(e){for(var t=-1,n=Math.max,r=0,i=e.length;r<i;++r)for(var a=e[r],o=0,s=a.length;o<s;++o)t=n(t,a[o]);return t+1}t.countVertices=o;function s(e){for(var t=Array(e.length),n=0,r=e.length;n<r;++n)t[n]=e[n].slice(0);return t}t.cloneCells=s;function c(e,t){var n=e.length,r=e.length-t.length,i=Math.min;if(r)return r;switch(n){case 0:return 0;case 1:return e[0]-t[0];case 2:var a=e[0]+e[1]-t[0]-t[1];return a||i(e[0],e[1])-i(t[0],t[1]);case 3:var o=e[0]+e[1],s=t[0]+t[1];if(a=o+e[2]-(s+t[2]),a)return a;var c=i(e[0],e[1]),l=i(t[0],t[1]),a=i(c,e[2])-i(l,t[2]);return a||i(c+e[2],o)-i(l+t[2],s);default:var u=e.slice(0);u.sort();var d=t.slice(0);d.sort();for(var f=0;f<n;++f)if(r=u[f]-d[f],r)return r;return 0}}t.compareCells=c;function l(e,t){return c(e[0],t[0])}function u(e,t){if(t){for(var n=e.length,r=Array(n),i=0;i<n;++i)r[i]=[e[i],t[i]];r.sort(l);for(var i=0;i<n;++i)e[i]=r[i][0],t[i]=r[i][1];return e}else return e.sort(c),e}t.normalize=u;function d(e){if(e.length===0)return[];for(var t=1,n=e.length,r=1;r<n;++r){var i=e[r];if(c(i,e[r-1])){if(r===t){t++;continue}e[t++]=i}}return e.length=t,e}t.unique=d;function f(e,t){for(var n=0,r=e.length-1,i=-1;n<=r;){var a=n+r>>1,o=c(e[a],t);o<=0?(o===0&&(i=a),n=a+1):o>0&&(r=a-1)}return i}t.findCell=f;function p(e,t){for(var n=Array(e.length),i=0,a=n.length;i<a;++i)n[i]=[];for(var o=[],i=0,s=t.length;i<s;++i)for(var l=t[i],u=l.length,d=1,p=1<<u;d<p;++d){o.length=r.popCount(d);for(var m=0,h=0;h<u;++h)d&1<<h&&(o[m++]=l[h]);var g=f(e,o);if(!(g<0))for(;n[g++].push(i),!(g>=e.length||c(e[g],o)!==0););}return n}t.incidence=p;function m(e,t){if(!t)return p(d(g(e,0)),e,0);for(var n=Array(t),r=0;r<t;++r)n[r]=[];for(var r=0,i=e.length;r<i;++r)for(var a=e[r],o=0,s=a.length;o<s;++o)n[a[o]].push(r);return n}t.dual=m;function h(e){for(var t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],a=i.length|0,o=1,s=1<<a;o<s;++o){for(var c=[],l=0;l<a;++l)o>>>l&1&&c.push(i[l]);t.push(c)}return u(t)}t.explode=h;function g(e,t){if(t<0)return[];for(var n=[],i=(1<<t+1)-1,a=0;a<e.length;++a)for(var o=e[a],s=i;s<1<<o.length;s=r.nextCombination(s)){for(var c=Array(t+1),l=0,d=0;d<o.length;++d)s&1<<d&&(c[l++]=o[d]);n.push(c)}return u(n)}t.skeleton=g;function _(e){for(var t=[],n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length;a<o;++a){for(var s=Array(i.length-1),c=0,l=0;c<o;++c)c!==a&&(s[l++]=i[c]);t.push(s)}return u(t)}t.boundary=_;function v(e,t){for(var n=new i(t),r=0;r<e.length;++r)for(var a=e[r],o=0;o<a.length;++o)for(var s=o+1;s<a.length;++s)n.link(a[o],a[s]);for(var c=[],l=n.ranks,r=0;r<l.length;++r)l[r]=-1;for(var r=0;r<e.length;++r){var u=n.find(e[r][0]);l[u]<0?(l[u]=c.length,c.push([e[r].slice(0)])):c[l[u]].push(e[r].slice(0))}return c}function y(e){for(var t=d(u(g(e,0))),n=new i(t.length),r=0;r<e.length;++r)for(var a=e[r],o=0;o<a.length;++o)for(var s=f(t,[a[o]]),c=o+1;c<a.length;++c)n.link(s,f(t,[a[c]]));for(var l=[],p=n.ranks,r=0;r<p.length;++r)p[r]=-1;for(var r=0;r<e.length;++r){var m=n.find(f(t,[e[r][0]]));p[m]<0?(p[m]=l.length,l.push([e[r].slice(0)])):l[p[m]].push(e[r].slice(0))}return l}function b(e,t){return t?v(e,t):y(e)}t.connectedComponents=b},9521:function(e){"use restrict";e.exports=t;function t(e){this.roots=Array(e),this.ranks=Array(e);for(var t=0;t<e;++t)this.roots[t]=t,this.ranks[t]=0}t.prototype.length=function(){return this.roots.length},t.prototype.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},t.prototype.find=function(e){for(var t=this.roots;t[e]!==e;){var n=t[e];t[e]=t[n],e=n}return e},t.prototype.link=function(e,t){var n=this.find(e),r=this.find(t);if(n!==r){var i=this.ranks,a=this.roots,o=i[n],s=i[r];o<s?a[n]=r:s<o?a[r]=n:(a[r]=n,++i[n])}}},8243:function(e,t,n){e.exports=o;var r=n(417),i=n(6656);function a(e,t,n){return Math.abs(r(e,t,n))/Math.sqrt((t[0]-n[0])**2+(t[1]-n[1])**2)}function o(e,t,n){for(var r=t.length,o=e.length,s=Array(r),c=Array(r),l=Array(r),u=Array(r),d=0;d<r;++d)s[d]=c[d]=-1,l[d]=1/0,u[d]=!1;for(var d=0;d<o;++d){var f=e[d];if(f.length!==2)throw Error(`Input must be a graph`);var p=f[1],m=f[0];c[m]===-1?c[m]=p:c[m]=-2,s[p]===-1?s[p]=m:s[p]=-2}function h(e){if(u[e])return 1/0;var n=s[e],r=c[e];return n<0||r<0?1/0:a(t[e],t[n],t[r])}function g(e,t){var n=w[e],r=w[t];w[e]=r,w[t]=n,T[n]=t,T[r]=e}function _(e){return l[w[e]]}function v(e){return e&1?e-1>>1:(e>>1)-1}function y(e){for(var t=_(e);;){var n=t,r=2*e+1,i=2*(e+1),a=e;if(r<E){var o=_(r);o<n&&(a=r,n=o)}if(i<E&&_(i)<n&&(a=i),a===e)return e;g(e,a),e=a}}function b(e){for(var t=_(e);e>0;){var n=v(e);if(n>=0&&t<_(n)){g(e,n),e=n;continue}return e}}function x(){if(E>0){var e=w[0];return g(0,E-1),--E,y(0),e}return-1}function S(e,t){var n=w[e];return l[n]===t?e:(l[n]=-1/0,b(e),x(),l[n]=t,E+=1,b(E-1))}function C(e){if(!u[e]){u[e]=!0;var t=s[e],n=c[e];s[n]>=0&&(s[n]=t),c[t]>=0&&(c[t]=n),T[t]>=0&&S(T[t],h(t)),T[n]>=0&&S(T[n],h(n))}}for(var w=[],T=Array(r),d=0;d<r;++d)(l[d]=h(d))<1/0?(T[d]=w.length,w.push(d)):T[d]=-1;for(var E=w.length,d=E>>1;d>=0;--d)y(d);for(;;){var D=x();if(D<0||l[D]>n)break;C(D)}for(var O=[],d=0;d<r;++d)u[d]||(T[d]=O.length,O.push(t[d].slice()));O.length;function k(e,t){if(e[t]<0)return t;var n=t,r=t;do{var i=e[r];if(!u[r]||i<0||i===r||(r=i,i=e[r],!u[r]||i<0||i===r))break;r=i,n=e[n]}while(n!==r);for(var a=t;a!==r;a=e[a])e[a]=r;return r}var A=[];return e.forEach(function(e){var t=k(s,e[0]),n=k(c,e[1]);if(t>=0&&n>=0&&t!==n){var r=T[t],i=T[n];r!==i&&A.push([r,i])}}),i.unique(i.normalize(A)),{positions:O,edges:A}}},6638:function(e,t,n){e.exports=a;var r=n(417);function i(e,t){var n,i;if(t[0][0]<t[1][0])n=t[0],i=t[1];else if(t[0][0]>t[1][0])n=t[1],i=t[0];else{var a=Math.min(e[0][1],e[1][1]),o=Math.max(e[0][1],e[1][1]),s=Math.min(t[0][1],t[1][1]),c=Math.max(t[0][1],t[1][1]);return o<s?o-s:a>c?a-c:o-c}var l,u;e[0][1]<e[1][1]?(l=e[0],u=e[1]):(l=e[1],u=e[0]);var d=r(i,n,l);return d||(d=r(i,n,u),d)?d:u-i}function a(e,t){var n,a;if(t[0][0]<t[1][0])n=t[0],a=t[1];else if(t[0][0]>t[1][0])n=t[1],a=t[0];else return i(t,e);var o,s;if(e[0][0]<e[1][0])o=e[0],s=e[1];else if(e[0][0]>e[1][0])o=e[1],s=e[0];else return-i(e,t);var c=r(n,a,s),l=r(n,a,o);if(c<0){if(l<=0)return c}else if(c>0){if(l>=0)return c}else if(l)return l;if(c=r(s,o,a),l=r(s,o,n),c<0){if(l<=0)return c}else if(c>0){if(l>=0)return c}else if(l)return l;return a[0]-s[0]}},4385:function(e,t,n){e.exports=p;var r=n(5070),i=n(7080),a=n(417),o=n(6638);function s(e,t,n){this.slabs=e,this.coordinates=t,this.horizontal=n}var c=s.prototype;function l(e,t){return e.y-t}function u(e,t){for(var n=null;e;){var r=e.key,i,o;r[0][0]<r[1][0]?(i=r[0],o=r[1]):(i=r[1],o=r[0]);var s=a(i,o,t);if(s<0)e=e.left;else if(s>0)if(t[0]!==r[1][0])n=e,e=e.right;else{var c=u(e.right,t);if(c)return c;e=e.left}else if(t[0]!==r[1][0])return e;else{var c=u(e.right,t);if(c)return c;e=e.left}}return n}c.castUp=function(e){var t=r.le(this.coordinates,e[0]);if(t<0)return-1;this.slabs[t];var n=u(this.slabs[t],e),i=-1;if(n&&(i=n.value),this.coordinates[t]===e[0]){var s=null;if(n&&(s=n.key),t>0){var c=u(this.slabs[t-1],e);c&&(s?o(c.key,s)>0&&(s=c.key,i=c.value):(i=c.value,s=c.key))}var d=this.horizontal[t];if(d.length>0){var f=r.ge(d,e[1],l);if(f<d.length){var p=d[f];if(e[1]===p.y){if(p.closed)return p.index;for(;f<d.length-1&&d[f+1].y===e[1];)if(f+=1,p=d[f],p.closed)return p.index;if(p.y===e[1]&&!p.start){if(f+=1,f>=d.length)return i;p=d[f]}}if(p.start)if(s){var m=a(s[0],s[1],[e[0],p.y]);s[0][0]>s[1][0]&&(m=-m),m>0&&(i=p.index)}else i=p.index;else p.y!==e[1]&&(i=p.index)}}}return i};function d(e,t,n,r){this.y=e,this.index=t,this.start=n,this.closed=r}function f(e,t,n,r){this.x=e,this.segment=t,this.create=n,this.index=r}function p(e){for(var t=e.length,n=2*t,r=Array(n),a=0;a<t;++a){var c=e[a],l=c[0][0]<c[1][0];r[2*a]=new f(c[0][0],c,l,a),r[2*a+1]=new f(c[1][0],c,!l,a)}r.sort(function(e,t){var n=e.x-t.x;return n||(n=e.create-t.create,n)?n:Math.min(e.segment[0][1],e.segment[1][1])-Math.min(t.segment[0][1],t.segment[1][1])});for(var u=i(o),p=[],m=[],h=[],a=0;a<n;){for(var g=r[a].x,_=[];a<n;){var v=r[a];if(v.x!==g)break;a+=1,v.segment[0][0]===v.x&&v.segment[1][0]===v.x?v.create&&(v.segment[0][1]<v.segment[1][1]?(_.push(new d(v.segment[0][1],v.index,!0,!0)),_.push(new d(v.segment[1][1],v.index,!1,!1))):(_.push(new d(v.segment[1][1],v.index,!0,!1)),_.push(new d(v.segment[0][1],v.index,!1,!0)))):u=v.create?u.insert(v.segment,v.index):u.remove(v.segment)}p.push(u.root),m.push(g),h.push(_)}return new s(p,m,h)}},4670:function(e,t,n){var r=n(9130),i=n(9662);e.exports=s,e.exports.positive=c,e.exports.negative=l;function a(e,t){var n=i(r(e,t),[t[t.length-1]]);return n[n.length-1]}function o(e,t,n,r){var i=r-t,a=-t/i;a<0?a=0:a>1&&(a=1);for(var o=1-a,s=e.length,c=Array(s),l=0;l<s;++l)c[l]=a*e[l]+o*n[l];return c}function s(e,t){for(var n=[],r=[],i=a(e[e.length-1],t),s=e[e.length-1],c=e[0],l=0;l<e.length;++l,s=c){c=e[l];var u=a(c,t);if(i<0&&u>0||i>0&&u<0){var d=o(s,u,c,i);n.push(d),r.push(d.slice())}u<0?r.push(c.slice()):u>0?n.push(c.slice()):(n.push(c.slice()),r.push(c.slice())),i=u}return{positive:n,negative:r}}function c(e,t){for(var n=[],r=a(e[e.length-1],t),i=e[e.length-1],s=e[0],c=0;c<e.length;++c,i=s){s=e[c];var l=a(s,t);(r<0&&l>0||r>0&&l<0)&&n.push(o(i,l,s,r)),l>=0&&n.push(s.slice()),r=l}return n}function l(e,t){for(var n=[],r=a(e[e.length-1],t),i=e[e.length-1],s=e[0],c=0;c<e.length;++c,i=s){s=e[c];var l=a(s,t);(r<0&&l>0||r>0&&l<0)&&n.push(o(i,l,s,r)),l<=0&&n.push(s.slice()),r=l}return n}},8974:function(e,t,n){var r;(function(){var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function a(e){return s(l(e),arguments)}function o(e,t){return a.apply(null,[e].concat(t||[]))}function s(e,t){var n=1,r=e.length,o,s=``,c,l,u,d,f,p,m,h;for(c=0;c<r;c++)if(typeof e[c]==`string`)s+=e[c];else if(typeof e[c]==`object`){if(u=e[c],u.keys)for(o=t[n],l=0;l<u.keys.length;l++){if(o==null)throw Error(a(`[sprintf] Cannot access property "%s" of undefined value "%s"`,u.keys[l],u.keys[l-1]));o=o[u.keys[l]]}else o=u.param_no?t[u.param_no]:t[n++];if(i.not_type.test(u.type)&&i.not_primitive.test(u.type)&&o instanceof Function&&(o=o()),i.numeric_arg.test(u.type)&&typeof o!=`number`&&isNaN(o))throw TypeError(a(`[sprintf] expecting number but found %T`,o));switch(i.number.test(u.type)&&(m=o>=0),u.type){case`b`:o=parseInt(o,10).toString(2);break;case`c`:o=String.fromCharCode(parseInt(o,10));break;case`d`:case`i`:o=parseInt(o,10);break;case`j`:o=JSON.stringify(o,null,u.width?parseInt(u.width):0);break;case`e`:o=u.precision?parseFloat(o).toExponential(u.precision):parseFloat(o).toExponential();break;case`f`:o=u.precision?parseFloat(o).toFixed(u.precision):parseFloat(o);break;case`g`:o=u.precision?String(Number(o.toPrecision(u.precision))):parseFloat(o);break;case`o`:o=(parseInt(o,10)>>>0).toString(8);break;case`s`:o=String(o),o=u.precision?o.substring(0,u.precision):o;break;case`t`:o=String(!!o),o=u.precision?o.substring(0,u.precision):o;break;case`T`:o=Object.prototype.toString.call(o).slice(8,-1).toLowerCase(),o=u.precision?o.substring(0,u.precision):o;break;case`u`:o=parseInt(o,10)>>>0;break;case`v`:o=o.valueOf(),o=u.precision?o.substring(0,u.precision):o;break;case`x`:o=(parseInt(o,10)>>>0).toString(16);break;case`X`:o=(parseInt(o,10)>>>0).toString(16).toUpperCase();break}i.json.test(u.type)?s+=o:(i.number.test(u.type)&&(!m||u.sign)?(h=m?`+`:`-`,o=o.toString().replace(i.sign,``)):h=``,f=u.pad_char?u.pad_char===`0`?`0`:u.pad_char.charAt(1):` `,p=u.width-(h+o).length,d=u.width&&p>0?f.repeat(p):``,s+=u.align?h+o+d:f===`0`?h+d+o:d+h+o)}return s}var c=Object.create(null);function l(e){if(c[e])return c[e];for(var t=e,n,r=[],a=0;t;){if((n=i.text.exec(t))!==null)r.push(n[0]);else if((n=i.modulo.exec(t))!==null)r.push(`%`);else if((n=i.placeholder.exec(t))!==null){if(n[2]){a|=1;var o=[],s=n[2],l=[];if((l=i.key.exec(s))!==null)for(o.push(l[1]);(s=s.substring(l[0].length))!==``;)if((l=i.key_access.exec(s))!==null)o.push(l[1]);else if((l=i.index_access.exec(s))!==null)o.push(l[1]);else throw SyntaxError(`[sprintf] failed to parse named argument key`);else throw SyntaxError(`[sprintf] failed to parse named argument key`);n[2]=o}else a|=2;if(a===3)throw Error(`[sprintf] mixing positional and named placeholders is not (yet) supported`);r.push({placeholder:n[0],param_no:n[1],keys:n[2],sign:n[3],pad_char:n[4],align:n[5],width:n[6],precision:n[7],type:n[8]})}else throw SyntaxError(`[sprintf] unexpected placeholder`);t=t.substring(n[0].length)}return c[e]=r}t.sprintf=a,t.vsprintf=o,typeof window<`u`&&(window.sprintf=a,window.vsprintf=o,r=function(){return{sprintf:a,vsprintf:o}}.call(t,n,t,e),r!==void 0&&(e.exports=r))})()},4162:function(e,t,n){e.exports=l;var r=n(9284),i=n(9584),a={"2d":function(e,t,n){var r=e({order:t,scalarArguments:3,getters:n===`generic`?[0]:void 0,phase:function(e,t,n,r){return e>r|0},vertex:function(e,t,n,r,i,a,o,s,c,l,u,d,f){var p=(o<<0)+(s<<1)+(c<<2)+(l<<3)|0;if(!(p===0||p===15))switch(p){case 0:u.push([e-.5,t-.5]);break;case 1:u.push([e-.25-.25*(r+n-2*f)/(n-r),t-.25-.25*(i+n-2*f)/(n-i)]);break;case 2:u.push([e-.75-.25*(-r-n+2*f)/(r-n),t-.25-.25*(a+r-2*f)/(r-a)]);break;case 3:u.push([e-.5,t-.5-.5*(i+n+a+r-4*f)/(n-i+r-a)]);break;case 4:u.push([e-.25-.25*(a+i-2*f)/(i-a),t-.75-.25*(-i-n+2*f)/(i-n)]);break;case 5:u.push([e-.5-.5*(r+n+a+i-4*f)/(n-r+i-a),t-.5]);break;case 6:u.push([e-.5-.25*(-r-n+a+i)/(r-n+i-a),t-.5-.25*(-i-n+a+r)/(i-n+r-a)]);break;case 7:u.push([e-.75-.25*(a+i-2*f)/(i-a),t-.75-.25*(a+r-2*f)/(r-a)]);break;case 8:u.push([e-.75-.25*(-a-i+2*f)/(a-i),t-.75-.25*(-a-r+2*f)/(a-r)]);break;case 9:u.push([e-.5-.25*(r+n+-a-i)/(n-r+a-i),t-.5-.25*(i+n+-a-r)/(n-i+a-r)]);break;case 10:u.push([e-.5-.5*(-r-n+-a-i+4*f)/(r-n+a-i),t-.5]);break;case 11:u.push([e-.25-.25*(-a-i+2*f)/(a-i),t-.75-.25*(i+n-2*f)/(n-i)]);break;case 12:u.push([e-.5,t-.5-.5*(-i-n+-a-r+4*f)/(i-n+a-r)]);break;case 13:u.push([e-.75-.25*(r+n-2*f)/(n-r),t-.25-.25*(-a-r+2*f)/(a-r)]);break;case 14:u.push([e-.25-.25*(-r-n+2*f)/(r-n),t-.25-.25*(-i-n+2*f)/(i-n)]);break;case 15:u.push([e-.5,t-.5]);break}},cell:function(e,t,n,r,i,a,o,s,c){i?s.push([e,t]):s.push([t,e])}});return function(e,t){var n=[],i=[];return r(e,n,i,t),{positions:n,cells:i}}}};function o(e,t){var n=a[e.length+`d`];if(n)return n(r,e,t)}function s(e,t){for(var n=i(e,t),r=n.length,a=Array(r),o=Array(r),s=0;s<r;++s)a[s]=[n[s]],o[s]=[s];return{positions:a,cells:o}}var c={};function l(e,t){if(e.dimension<=0)return{positions:[],cells:[]};if(e.dimension===1)return s(e,t);var n=e.order.join()+`-`+e.dtype,r=c[n],t=+t||0;return r||=c[n]=o(e.order,e.dtype),r(e,t)}},6946:function(e,t,n){e.exports=c;var i=n(875),a=window||r.global||{},o=a.__TEXT_CACHE||{};a.__TEXT_CACHE={};function s(e){for(var t=e.cells,n=e.positions,r=new Float32Array(t.length*6),i=0,a=0,o=0;o<t.length;++o)for(var s=t[o],c=0;c<3;++c){var l=n[s[c]];r[i++]=l[0],r[i++]=l[1]+1.4,a=Math.max(l[0],a)}return{data:r,shape:a}}function c(e,t,n){var n=n||{},r=o[e];r||=o[e]={" ":{data:new Float32Array,shape:.2}};var a=r[t];if(!a)if(t.length<=1||!/\d/.test(t))a=r[t]=s(i(t,{triangles:!0,font:e,textAlign:n.textAlign||`left`,textBaseline:`alphabetic`,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var l=t.split(/(\d|\s)/),u=Array(l.length),d=0,f=0,p=0;p<l.length;++p)u[p]=c(e,l[p]),d+=u[p].data.length,f+=u[p].shape,p>0&&(f+=.02);for(var m=new Float32Array(d),h=0,g=-.5*f,p=0;p<u.length;++p){for(var _=u[p].data,v=0;v<_.length;v+=2)m[h++]=_[v]+g,m[h++]=_[v+1];g+=u[p].shape+.02}a=r[t]={data:m,shape:f}}return a}},14:function(e,t,n){var r=n(4405);e.exports=s;var i=96;function a(e,t){var n=r(getComputedStyle(e).getPropertyValue(t));return n[0]*s(n[1],e)}function o(e,t){var n=document.createElement(`div`);n.style[`font-size`]=`128`+e,t.appendChild(n);var r=a(n,`font-size`)/128;return t.removeChild(n),r}function s(e,t){switch(t||=document.body,e=(e||`px`).trim().toLowerCase(),(t===window||t===document)&&(t=document.body),e){case`%`:return t.clientHeight/100;case`ch`:case`ex`:return o(e,t);case`em`:return a(t,`font-size`);case`rem`:return a(document.body,`font-size`);case`vw`:return window.innerWidth/100;case`vh`:return window.innerHeight/100;case`vmin`:return Math.min(window.innerWidth,window.innerHeight)/100;case`vmax`:return Math.max(window.innerWidth,window.innerHeight)/100;case`in`:return i;case`cm`:return i/2.54;case`mm`:return i/25.4;case`pt`:return i/72;case`pc`:return i/6}return 1}},3440:function(e,t,n){e.exports=h;var r=n(8444),i=n(7437),a=n(4422),o=n(903),s=n(899),c=n(9305);function l(e,t,n){return Math.sqrt(e**2+t**2+n**2)}function u(e){return Math.min(1,Math.max(-1,e))}function d(e){var t=Math.abs(e[0]),n=Math.abs(e[1]),r=Math.abs(e[2]),i=[0,0,0];t>Math.max(n,r)?i[2]=1:n>Math.max(t,r)?i[0]=1:i[1]=1;for(var a=0,o=0,c=0;c<3;++c)a+=e[c]*e[c],o+=i[c]*e[c];for(var c=0;c<3;++c)i[c]-=o/a*e[c];return s(i,i),i}function f(e,t,n,i,a,o,s,c){this.center=r(n),this.up=r(i),this.right=r(a),this.radius=r([o]),this.angle=r([s,c]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(e,t),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=Array(16);for(var l=0;l<16;++l)this.computedMatrix[l]=.5;this.recalcMatrix(0)}var p=f.prototype;p.setDistanceLimits=function(e,t){e=e>0?Math.log(e):-1/0,t=t>0?Math.log(t):1/0,t=Math.max(t,e),this.radius.bounds[0][0]=e,this.radius.bounds[1][0]=t},p.getDistanceLimits=function(e){var t=this.radius.bounds[0];return e?(e[0]=Math.exp(t[0][0]),e[1]=Math.exp(t[1][0]),e):[Math.exp(t[0][0]),Math.exp(t[1][0])]},p.recalcMatrix=function(e){this.center.curve(e),this.up.curve(e),this.right.curve(e),this.radius.curve(e),this.angle.curve(e);for(var t=this.computedUp,n=this.computedRight,r=0,i=0,a=0;a<3;++a)i+=t[a]*n[a],r+=t[a]*t[a];for(var c=Math.sqrt(r),u=0,a=0;a<3;++a)n[a]-=t[a]*i/r,u+=n[a]*n[a],t[a]/=c;for(var d=Math.sqrt(u),a=0;a<3;++a)n[a]/=d;var f=this.computedToward;o(f,t,n),s(f,f);for(var p=Math.exp(this.computedRadius[0]),m=this.computedAngle[0],h=this.computedAngle[1],g=Math.cos(m),_=Math.sin(m),v=Math.cos(h),y=Math.sin(h),b=this.computedCenter,x=g*v,S=_*v,C=y,w=-g*y,T=-_*y,E=v,D=this.computedEye,O=this.computedMatrix,a=0;a<3;++a){var k=x*n[a]+S*f[a]+C*t[a];O[4*a+1]=w*n[a]+T*f[a]+E*t[a],O[4*a+2]=k,O[4*a+3]=0}var A=O[1],j=O[5],M=O[9],N=O[2],P=O[6],F=O[10],I=j*F-M*P,L=M*N-A*F,R=A*P-j*N,z=l(I,L,R);I/=z,L/=z,R/=z,O[0]=I,O[4]=L,O[8]=R;for(var a=0;a<3;++a)D[a]=b[a]+O[2+4*a]*p;for(var a=0;a<3;++a){for(var u=0,B=0;B<3;++B)u+=O[a+4*B]*D[B];O[12+a]=-u}O[15]=1},p.getMatrix=function(e,t){this.recalcMatrix(e);var n=this.computedMatrix;if(t){for(var r=0;r<16;++r)t[r]=n[r];return t}return n};var m=[0,0,0];p.rotate=function(e,t,n,r){if(this.angle.move(e,t,n),r){this.recalcMatrix(e);var i=this.computedMatrix;m[0]=i[2],m[1]=i[6],m[2]=i[10];for(var o=this.computedUp,s=this.computedRight,c=this.computedToward,l=0;l<3;++l)i[4*l]=o[l],i[4*l+1]=s[l],i[4*l+2]=c[l];a(i,i,r,m);for(var l=0;l<3;++l)o[l]=i[4*l],s[l]=i[4*l+1];this.up.set(e,o[0],o[1],o[2]),this.right.set(e,s[0],s[1],s[2])}},p.pan=function(e,t,n,r){t||=0,n||=0,r||=0,this.recalcMatrix(e);var i=this.computedMatrix;Math.exp(this.computedRadius[0]);var a=i[1],o=i[5],s=i[9],c=l(a,o,s);a/=c,o/=c,s/=c;var u=i[0],d=i[4],f=i[8],p=u*a+d*o+f*s;u-=a*p,d-=o*p,f-=s*p;var m=l(u,d,f);u/=m,d/=m,f/=m;var h=u*t+a*n,g=d*t+o*n,_=f*t+s*n;this.center.move(e,h,g,_);var v=Math.exp(this.computedRadius[0]);v=Math.max(1e-4,v+r),this.radius.set(e,Math.log(v))},p.translate=function(e,t,n,r){this.center.move(e,t||0,n||0,r||0)},p.setMatrix=function(e,t,n,r){var a=1;typeof n==`number`&&(a=n|0),(a<0||a>3)&&(a=1);var o=(a+2)%3;(a+1)%3,t||=(this.recalcMatrix(e),this.computedMatrix);var s=t[a],c=t[a+4],d=t[a+8];if(r){var f=Math.abs(s),p=Math.abs(c),m=Math.abs(d),h=Math.max(f,p,m);f===h?(s=s<0?-1:1,c=d=0):m===h?(d=d<0?-1:1,s=c=0):(c=c<0?-1:1,s=d=0)}else{var g=l(s,c,d);s/=g,c/=g,d/=g}var _=t[o],v=t[o+4],y=t[o+8],b=_*s+v*c+y*d;_-=s*b,v-=c*b,y-=d*b;var x=l(_,v,y);_/=x,v/=x,y/=x;var S=c*y-d*v,C=d*_-s*y,w=s*v-c*_,T=l(S,C,w);S/=T,C/=T,w/=T,this.center.jump(e,W,G,K),this.radius.idle(e),this.up.jump(e,s,c,d),this.right.jump(e,_,v,y);var E,D;if(a===2){var O=t[1],k=t[5],A=t[9],j=O*_+k*v+A*y,M=O*S+k*C+A*w;E=I<0?-Math.PI/2:Math.PI/2,D=Math.atan2(M,j)}else{var N=t[2],P=t[6],F=t[10],I=N*s+P*c+F*d,L=N*_+P*v+F*y,R=N*S+P*C+F*w;E=Math.asin(u(I)),D=Math.atan2(R,L)}this.angle.jump(e,D,E),this.recalcMatrix(e);var z=t[2],B=t[6],V=t[10],H=this.computedMatrix;i(H,t);var U=H[15],W=H[12]/U,G=H[13]/U,K=H[14]/U,ee=Math.exp(this.computedRadius[0]);this.center.jump(e,W-z*ee,G-B*ee,K-V*ee)},p.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},p.idle=function(e){this.center.idle(e),this.up.idle(e),this.right.idle(e),this.radius.idle(e),this.angle.idle(e)},p.flush=function(e){this.center.flush(e),this.up.flush(e),this.right.flush(e),this.radius.flush(e),this.angle.flush(e)},p.setDistance=function(e,t){t>0&&this.radius.set(e,Math.log(t))},p.lookAt=function(e,t,n,r){this.recalcMatrix(e),t||=this.computedEye,n||=this.computedCenter,r||=this.computedUp;var i=r[0],a=r[1],o=r[2],s=l(i,a,o);if(!(s<1e-6)){i/=s,a/=s,o/=s;var c=t[0]-n[0],d=t[1]-n[1],f=t[2]-n[2],p=l(c,d,f);if(!(p<1e-6)){c/=p,d/=p,f/=p;var m=this.computedRight,h=m[0],g=m[1],_=m[2],v=i*h+a*g+o*_;h-=v*i,g-=v*a,_-=v*o;var y=l(h,g,_);if(!(y<.01&&(h=a*f-o*d,g=o*c-i*f,_=i*d-a*c,y=l(h,g,_),y<1e-6))){h/=y,g/=y,_/=y,this.up.set(e,i,a,o),this.right.set(e,h,g,_),this.center.set(e,n[0],n[1],n[2]),this.radius.set(e,Math.log(p));var b=a*_-o*g,x=o*h-i*_,S=i*g-a*h,C=l(b,x,S);b/=C,x/=C,S/=C;var w=i*c+a*d+o*f,T=h*c+g*d+_*f,E=b*c+x*d+S*f,D=Math.asin(u(w)),O=Math.atan2(E,T),k=this.angle._state,A=k[k.length-1],j=k[k.length-2];A%=2*Math.PI;var M=Math.abs(A+2*Math.PI-O),N=Math.abs(A-O),P=Math.abs(A-2*Math.PI-O);M<N&&(A+=2*Math.PI),P<N&&(A-=2*Math.PI),this.angle.jump(this.angle.lastT(),A,j),this.angle.set(e,O,D)}}}};function h(e){e||={};var t=e.center||[0,0,0],n=e.up||[0,1,0],r=e.right||d(n),i=e.radius||1,a=e.theta||0,u=e.phi||0;if(t=[].slice.call(t,0,3),n=[].slice.call(n,0,3),s(n,n),r=[].slice.call(r,0,3),s(r,r),`eye`in e){var p=e.eye,m=[p[0]-t[0],p[1]-t[1],p[2]-t[2]];o(r,m,n),l(r[0],r[1],r[2])<1e-6?r=d(n):s(r,r),i=l(m[0],m[1],m[2]);var h=c(n,m)/i,g=c(r,m)/i;u=Math.acos(h),a=Math.acos(g)}return i=Math.log(i),new f(e.zoomMin,e.zoomMax,t,n,r,i,a,u)}},9660:function(e){e.exports=n;var t=+(2**27+1);function n(e,n,r){var i=e*n,a=t*e,o=a-(a-e),s=e-o,c=t*n,l=c-(c-n),u=n-l,d=i-o*l-s*l-o*u,f=s*u-d;return r?(r[0]=f,r[1]=i,r):[f,i]}},87:function(e){e.exports=t;function t(e,t,n){var r=e+t,i=r-e,a=r-i,o=t-i,s=e-a;return n?(n[0]=s+o,n[1]=r,n):[s+o,r]}},5306:function(e,t,n){var r=n(2288),i=n(3094),a=n(2146).lW;n.g.__TYPEDARRAY_POOL||(n.g.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var o=typeof Uint8ClampedArray<`u`,s=typeof BigUint64Array<`u`,c=typeof BigInt64Array<`u`,l=n.g.__TYPEDARRAY_POOL;l.UINT8C||=i([32,0]),l.BIGUINT64||=i([32,0]),l.BIGINT64||=i([32,0]),l.BUFFER||=i([32,0]);var u=l.DATA,d=l.BUFFER;t.free=function(e){if(a.isBuffer(e))d[r.log2(e.length)].push(e);else{if(Object.prototype.toString.call(e)!==`[object ArrayBuffer]`&&(e=e.buffer),!e)return;var t=e.length||e.byteLength;u[r.log2(t)|0].push(e)}};function f(e){if(e){var t=e.length||e.byteLength;u[r.log2(t)].push(e)}}function p(e){f(e.buffer)}t.freeUint8=t.freeUint16=t.freeUint32=t.freeBigUint64=t.freeInt8=t.freeInt16=t.freeInt32=t.freeBigInt64=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=p,t.freeArrayBuffer=f,t.freeBuffer=function(e){d[r.log2(e.length)].push(e)},t.malloc=function(e,t){if(t===void 0||t===`arraybuffer`)return m(e);switch(t){case`uint8`:return h(e);case`uint16`:return g(e);case`uint32`:return _(e);case`int8`:return v(e);case`int16`:return y(e);case`int32`:return b(e);case`float`:case`float32`:return x(e);case`double`:case`float64`:return S(e);case`uint8_clamped`:return C(e);case`bigint64`:return T(e);case`biguint64`:return w(e);case`buffer`:return D(e);case`data`:case`dataview`:return E(e);default:return null}return null};function m(e){var e=r.nextPow2(e),t=u[r.log2(e)];return t.length>0?t.pop():new ArrayBuffer(e)}t.mallocArrayBuffer=m;function h(e){return new Uint8Array(m(e),0,e)}t.mallocUint8=h;function g(e){return new Uint16Array(m(2*e),0,e)}t.mallocUint16=g;function _(e){return new Uint32Array(m(4*e),0,e)}t.mallocUint32=_;function v(e){return new Int8Array(m(e),0,e)}t.mallocInt8=v;function y(e){return new Int16Array(m(2*e),0,e)}t.mallocInt16=y;function b(e){return new Int32Array(m(4*e),0,e)}t.mallocInt32=b;function x(e){return new Float32Array(m(4*e),0,e)}t.mallocFloat32=t.mallocFloat=x;function S(e){return new Float64Array(m(8*e),0,e)}t.mallocFloat64=t.mallocDouble=S;function C(e){return o?new Uint8ClampedArray(m(e),0,e):h(e)}t.mallocUint8Clamped=C;function w(e){return s?new BigUint64Array(m(8*e),0,e):null}t.mallocBigUint64=w;function T(e){return c?new BigInt64Array(m(8*e),0,e):null}t.mallocBigInt64=T;function E(e){return new DataView(m(e),0,e)}t.mallocDataView=E;function D(e){e=r.nextPow2(e);var t=d[r.log2(e)];return t.length>0?t.pop():new a(e)}t.mallocBuffer=D,t.clearCache=function(){for(var e=0;e<32;++e)l.UINT8[e].length=0,l.UINT16[e].length=0,l.UINT32[e].length=0,l.INT8[e].length=0,l.INT16[e].length=0,l.INT32[e].length=0,l.FLOAT[e].length=0,l.DOUBLE[e].length=0,l.BIGUINT64[e].length=0,l.BIGINT64[e].length=0,l.UINT8C[e].length=0,u[e].length=0,d[e].length=0}},1731:function(e){"use restrict";e.exports=t;function t(e){this.roots=Array(e),this.ranks=Array(e);for(var t=0;t<e;++t)this.roots[t]=t,this.ranks[t]=0}var n=t.prototype;Object.defineProperty(n,`length`,{get:function(){return this.roots.length}}),n.makeSet=function(){var e=this.roots.length;return this.roots.push(e),this.ranks.push(0),e},n.find=function(e){for(var t=e,n=this.roots;n[e]!==e;)e=n[e];for(;n[t]!==e;){var r=n[t];n[t]=e,t=r}return e},n.link=function(e,t){var n=this.find(e),r=this.find(t);if(n!==r){var i=this.ranks,a=this.roots,o=i[n],s=i[r];o<s?a[n]=r:s<o?a[r]=n:(a[r]=n,++i[n])}}},1215:function(e){function t(e,t){for(var n=1,r=e.length,i=e[0],a=e[0],o=1;o<r;++o)if(a=i,i=e[o],t(i,a)){if(o===n){n++;continue}e[n++]=i}return e.length=n,e}function n(e){for(var t=1,n=e.length,r=e[0],i=e[0],a=1;a<n;++a,i=r)if(i=r,r=e[a],r!==i){if(a===t){t++;continue}e[t++]=r}return e.length=t,e}function r(e,r,i){return e.length===0?e:r?(i||e.sort(r),t(e,r)):(i||e.sort(),n(e))}e.exports=r},875:function(e,t,n){e.exports=o;var r=n(712),i=null,a=null;typeof document<`u`&&(i=document.createElement(`canvas`),i.width=8192,i.height=1024,a=i.getContext(`2d`));function o(e,t){return(typeof t!=`object`||!t)&&(t={}),r(e,t.canvas||i,t.context||a,t)}},712:function(e,t,n){e.exports=T,e.exports.processPixels=w;var r=n(4162),i=n(5050),a=n(8243),o=n(197),s=n(7761),c=n(8040),l=`b`,u=`b|`,d=`i`,f=`i|`,p=`sup`,m=`+`,h=`+1`,g=`sub`,_=`-`,v=`-1`;function y(e,t,n,r){for(var i=`<`+e+`>`,a=`</`+e+`>`,o=i.length,s=a.length,c=t[0]===m||t[0]===_,l=0,u=-s;l>-1&&(l=n.indexOf(i,l),!(l===-1||(u=n.indexOf(a,l+o),u===-1)||u<=l));){for(var d=l;d<u+s;++d)if(d<l+o||d>=u)r[d]=null,n=n.substr(0,d)+` `+n.substr(d+1);else if(r[d]!==null){var f=r[d].indexOf(t[0]);f===-1?r[d]+=t:c&&(r[d]=r[d].substr(0,f+1)+(1+parseInt(r[d][f+1]))+r[d].substr(f+2))}var p=l+o,h=n.substr(p,u-p).indexOf(i);l=h===-1?u+s:h}return r}function b(e,t,n){for(var r=t.textAlign||`start`,i=t.textBaseline||`alphabetic`,a=[1<<30,1<<30],o=[0,0],s=e.length,c=0;c<s;++c)for(var l=e[c],u=0;u<2;++u)a[u]=Math.min(a[u],l[u])|0,o[u]=Math.max(o[u],l[u])|0;var d=0;switch(r){case`center`:d=-.5*(a[0]+o[0]);break;case`right`:case`end`:d=-o[0];break;case`left`:case`start`:d=-a[0];break;default:throw Error(`vectorize-text: Unrecognized textAlign: '`+r+`'`)}var f=0;switch(i){case`hanging`:case`top`:f=-a[1];break;case`middle`:f=-.5*(a[1]+o[1]);break;case`alphabetic`:case`ideographic`:f=-3*n;break;case`bottom`:f=-o[1];break;default:throw Error(`vectorize-text: Unrecoginized textBaseline: '`+i+`'`)}var p=1/n;return`lineHeight`in t?p*=+t.lineHeight:`width`in t?p=t.width/(o[0]-a[0]):`height`in t&&(p=t.height/(o[1]-a[1])),e.map(function(e){return[p*(e[0]+d),p*(e[1]+f)]})}function x(e,t,n,r,a,o){n=n.replace(/\n/g,``),n=o.breaklines===!0?n.replace(/\<br\>/g,`
`):n.replace(/\<br\>/g,` `);var s=``,c=[];for(A=0;A<n.length;++A)c[A]=s;o.bolds===!0&&(c=y(l,u,n,c)),o.italics===!0&&(c=y(d,f,n,c)),o.superscripts===!0&&(c=y(p,h,n,c)),o.subscripts===!0&&(c=y(g,v,n,c));var b=[],x=``;for(A=0;A<n.length;++A)c[A]!==null&&(x+=n[A],b.push(c[A]));var S=x.split(`
`),C=S.length,w=Math.round(a*r),T=r,E=r*2,D=0,O=C*w+E;e.height<O&&(e.height=O),t.fillStyle=`#000`,t.fillRect(0,0,e.width,e.height),t.fillStyle=`#fff`;var k,A,j,M,N,P=0,F=``;function I(){if(F!==``){var e=t.measureText(F).width;t.fillText(F,T+j,E+M),j+=e}}function L(){return``+Math.round(N)+`px `}function R(e,n){var r=``+t.font;if(o.subscripts===!0){var i=e.indexOf(_),a=n.indexOf(_),s=i>-1?parseInt(e[1+i]):0,c=a>-1?parseInt(n[1+a]):0;s!==c&&(r=r.replace(L(),`?px `),N*=.75**(c-s),r=r.replace(`?px `,L())),M+=.25*w*(c-s)}if(o.superscripts===!0){var l=e.indexOf(m),d=n.indexOf(m),p=l>-1?parseInt(e[1+l]):0,h=d>-1?parseInt(n[1+d]):0;p!==h&&(r=r.replace(L(),`?px `),N*=.75**(h-p),r=r.replace(`?px `,L())),M-=.25*w*(h-p)}if(o.bolds===!0){var g=e.indexOf(u)>-1,v=n.indexOf(u)>-1;!g&&v&&(r=y?r.replace(`italic `,`italic bold `):`bold `+r),g&&!v&&(r=r.replace(`bold `,``))}if(o.italics===!0){var y=e.indexOf(f)>-1,b=n.indexOf(f)>-1;!y&&b&&(r=`italic `+r),y&&!b&&(r=r.replace(`italic `,``))}t.font=r}for(k=0;k<C;++k){var z=S[k]+`
`;for(j=0,M=k*w,N=r,F=``,A=0;A<z.length;++A){var B=A+P<b.length?b[A+P]:b[b.length-1];s===B?F+=z[A]:(I(),F=z[A],B!==void 0&&(R(s,B),s=B))}I(),P+=z.length;var V=Math.round(j+2*T)|0;D<V&&(D=V)}var H=D,U=E+w*C;return i(t.getImageData(0,0,H,U).data,[U,H,4]).pick(-1,-1,0).transpose(1,0)}function S(e,t){var n=r(e,128);return t?a(n.cells,n.positions,.25):{edges:n.cells,positions:n.positions}}function C(e,t,n,r){var i=S(e,r),a=b(i.positions,t,n),l=i.edges,u=t.orientation===`ccw`;if(o(a,l),t.polygons||t.polygon||t.polyline){for(var d=c(l,a),f=Array(d.length),p=0;p<d.length;++p){for(var m=d[p],h=Array(m.length),g=0;g<m.length;++g){for(var _=m[g],v=Array(_.length),y=0;y<_.length;++y)v[y]=a[_[y]].slice();u&&v.reverse(),h[g]=v}f[p]=h}return f}else if(t.triangles||t.triangulate||t.triangle)return{cells:s(a,l,{delaunay:!1,exterior:!1,interior:!0}),positions:a};else return{edges:l,positions:a}}function w(e,t,n){try{return C(e,t,n,!0)}catch{}try{return C(e,t,n,!1)}catch{}return t.polygons||t.polyline||t.polygon?[]:t.triangles||t.triangulate||t.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function T(e,t,n,r){var i=64,a=1.25,o={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return r&&(r.size&&r.size>0&&(i=r.size),r.lineSpacing&&r.lineSpacing>0&&(a=r.lineSpacing),r.styletags&&r.styletags.breaklines&&(o.breaklines=!!r.styletags.breaklines),r.styletags&&r.styletags.bolds&&(o.bolds=!!r.styletags.bolds),r.styletags&&r.styletags.italics&&(o.italics=!!r.styletags.italics),r.styletags&&r.styletags.subscripts&&(o.subscripts=!!r.styletags.subscripts),r.styletags&&r.styletags.superscripts&&(o.superscripts=!!r.styletags.superscripts)),n.font=[r.fontStyle,r.fontVariant,r.fontWeight,i+`px`,r.font].filter(function(e){return e}).join(` `),n.textAlign=`start`,n.textBaseline=`alphabetic`,n.direction=`ltr`,w(x(t,n,e,i,a,o),r,i)}},5346:function(e){(function(){if(typeof ses<`u`&&ses.ok&&!ses.ok())return;function t(e){e.permitHostObjects___&&e.permitHostObjects___(t)}typeof ses<`u`&&(ses.weakMapPermitHostObjects=t);var n=!1;if(typeof WeakMap==`function`){var r=WeakMap;if(!(typeof navigator<`u`&&/Firefox/.test(navigator.userAgent))){var i=new r,a=Object.freeze({});if(i.set(a,1),i.get(a)!==1)n=!0;else{e.exports=WeakMap;return}}}Object.prototype.hasOwnProperty;var o=Object.getOwnPropertyNames,s=Object.defineProperty,c=Object.isExtensible,l=`weakmap:`,u=l+`ident:`+Math.random()+`___`;if(typeof crypto<`u`&&typeof crypto.getRandomValues==`function`&&typeof ArrayBuffer==`function`&&typeof Uint8Array==`function`){var d=new ArrayBuffer(25),f=new Uint8Array(d);crypto.getRandomValues(f),u=l+`rand:`+Array.prototype.map.call(f,function(e){return(e%36).toString(36)}).join(``)+`___`}function p(e){return!(e.substr(0,l.length)==l&&e.substr(e.length-3)===`___`)}if(s(Object,`getOwnPropertyNames`,{value:function(e){return o(e).filter(p)}}),`getPropertyNames`in Object){var m=Object.getPropertyNames;s(Object,`getPropertyNames`,{value:function(e){return m(e).filter(p)}})}function h(e){if(e!==Object(e))throw TypeError(`Not an object: `+e);var t=e[u];if(t&&t.key===e)return t;if(c(e)){t={key:e};try{return s(e,u,{value:t,writable:!1,enumerable:!1,configurable:!1}),t}catch{return}}}(function(){var e=Object.freeze;s(Object,`freeze`,{value:function(t){return h(t),e(t)}});var t=Object.seal;s(Object,`seal`,{value:function(e){return h(e),t(e)}});var n=Object.preventExtensions;s(Object,`preventExtensions`,{value:function(e){return h(e),n(e)}})})();function g(e){return e.prototype=null,Object.freeze(e)}var _=!1;function v(){!_&&typeof console<`u`&&(_=!0,console.warn(`WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future.`))}var y=0,b=function(){this instanceof b||v();var e=[],t=[],n=y++;function r(r,i){var a,o=h(r);return o?n in o?o[n]:i:(a=e.indexOf(r),a>=0?t[a]:i)}function i(t){var r=h(t);return r?n in r:e.indexOf(t)>=0}function a(r,i){var a,o=h(r);return o?o[n]=i:(a=e.indexOf(r),a>=0?t[a]=i:(a=e.length,t[a]=i,e[a]=r)),this}function o(r){var i=h(r),a,o;return i?n in i&&delete i[n]:(a=e.indexOf(r),a<0?!1:(o=e.length-1,e[a]=void 0,t[a]=t[o],e[a]=e[o],e.length=o,t.length=o,!0))}return Object.create(b.prototype,{get___:{value:g(r)},has___:{value:g(i)},set___:{value:g(a)},delete___:{value:g(o)}})};b.prototype=Object.create(Object.prototype,{get:{value:function(e,t){return this.get___(e,t)},writable:!0,configurable:!0},has:{value:function(e){return this.has___(e)},writable:!0,configurable:!0},set:{value:function(e,t){return this.set___(e,t)},writable:!0,configurable:!0},delete:{value:function(e){return this.delete___(e)},writable:!0,configurable:!0}}),typeof r==`function`?(function(){n&&typeof Proxy<`u`&&(Proxy=void 0);function i(){this instanceof b||v();var e=new r,i=void 0,a=!1;function o(t,n){return i?e.has(t)?e.get(t):i.get___(t,n):e.get(t,n)}function s(t){return e.has(t)||(i?i.has___(t):!1)}var c=n?function(t,n){return e.set(t,n),e.has(t)||(i||=new b,i.set(t,n)),this}:function(t,n){if(a)try{e.set(t,n)}catch{i||=new b,i.set___(t,n)}else e.set(t,n);return this};function l(t){var n=!!e.delete(t);return i&&i.delete___(t)||n}return Object.create(b.prototype,{get___:{value:g(o)},has___:{value:g(s)},set___:{value:g(c)},delete___:{value:g(l)},permitHostObjects___:{value:g(function(e){if(e===t)a=!0;else throw Error(`bogus call to permitHostObjects___`)})}})}i.prototype=b.prototype,e.exports=i,Object.defineProperty(WeakMap.prototype,`constructor`,{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})})():(typeof Proxy<`u`&&(Proxy=void 0),e.exports=b)})()},9222:function(e,t,n){var r=n(7178);e.exports=i;function i(){var e={};return function(t){if((typeof t!=`object`||!t)&&typeof t!=`function`)throw Error(`Weakmap-shim: Key must be object`);var n=t.valueOf(e);return n&&n.identity===e?n:r(t,e)}}},7178:function(e){e.exports=t;function t(e,t){var n={identity:t},r=e.valueOf;return Object.defineProperty(e,`valueOf`,{value:function(e){return e===t?n:r.apply(this,arguments)},writable:!0}),n}},4037:function(e,t,n){var r=n(9222);e.exports=i;function i(){var e=r();return{get:function(t,n){var r=e(t);return r.hasOwnProperty(`value`)?r.value:n},set:function(t,n){return e(t).value=n,this},has:function(t){return`value`in e(t)},delete:function(t){return delete e(t).value}}}},6183:function(e){function t(){return function(e,t,n,r,i,a){var o=e[0],s=n[0],c=[0],l=s;r|=0;var u=0,d=s;for(u=0;u<o;++u){var f=t[r]-a,p=t[r+l]-a;f>=0!=p>=0&&i.push(c[0]+.5+.5*(f+p)/(f-p)),r+=d,++c[0]}}}function n(){return t()}var r=n;function i(e){var t={};return function(n,r,i){var a=n.dtype,o=n.order,s=[a,o.join()].join(),c=t[s];return c||(t[s]=c=e([a,o])),c(n.shape.slice(0),n.data,n.stride,n.offset|0,r,i)}}function a(e){return i(r.bind(void 0,e))}function o(e){return a({funcName:e.funcName})}e.exports=o({funcName:`zeroCrossings`})},9584:function(e,t,n){e.exports=i;var r=n(6183);function i(e,t){var n=[];return t=+t||0,r(e.hi(e.shape[0]-1),n,t),n}},6601:function(){}},t={};function n(r){var i=t[r];if(i!==void 0)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}return(function(){n.g=function(){if(typeof globalThis==`object`)return globalThis;try{return this||Function(`return this`)()}catch{if(typeof window==`object`)return window}}()})(),(function(){n.nmd=function(e){return e.paths=[],e.children||=[],e}})(),n(7386)}()})}),12856:(function(e,t,n){function r(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,`prototype`,{writable:!1}),e}function o(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Super expression must either be null or a function`);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,`prototype`,{writable:!1}),t&&s(e,t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function c(e){var t=d();return function(){var n=f(e),r;if(t){var i=f(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return l(this,r)}}function l(e,t){if(t&&(p(t)===`object`||typeof t==`function`))return t;if(t!==void 0)throw TypeError(`Derived constructors may only return object or undefined`);return u(e)}function u(e){if(e===void 0)throw ReferenceError(`this hasn't been initialised - super() hasn't been called`);return e}function d(){if(typeof Reflect>`u`||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==`function`)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e){"@babel/helpers - typeof";return p=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},p(e)}var m=n(95341),h=n(95280),g=typeof Symbol==`function`&&typeof Symbol.for==`function`?Symbol.for(`nodejs.util.inspect.custom`):null;t.Buffer=b,t.SlowBuffer=j,t.INSPECT_MAX_BYTES=50;var _=2147483647;t.kMaxLength=_,b.TYPED_ARRAY_SUPPORT=v(),!b.TYPED_ARRAY_SUPPORT&&typeof console<`u`&&typeof console.error==`function`&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function v(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,`parent`,{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,`offset`,{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});function y(e){if(e>_)throw RangeError(`The value "`+e+`" is invalid for option "size"`);var t=new Uint8Array(e);return Object.setPrototypeOf(t,b.prototype),t}function b(e,t,n){if(typeof e==`number`){if(typeof t==`string`)throw TypeError(`The "string" argument must be of type string. Received type number`);return w(e)}return x(e,t,n)}b.poolSize=8192;function x(e,t,n){if(typeof e==`string`)return T(e,t);if(ArrayBuffer.isView(e))return D(e);if(e==null)throw TypeError(`The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type `+p(e));if(xe(e,ArrayBuffer)||e&&xe(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<`u`&&(xe(e,SharedArrayBuffer)||e&&xe(e.buffer,SharedArrayBuffer)))return O(e,t,n);if(typeof e==`number`)throw TypeError(`The "value" argument must not be of type number. Received type number`);var r=e.valueOf&&e.valueOf();if(r!=null&&r!==e)return b.from(r,t,n);var i=k(e);if(i)return i;if(typeof Symbol<`u`&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]==`function`)return b.from(e[Symbol.toPrimitive](`string`),t,n);throw TypeError(`The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type `+p(e))}b.from=function(e,t,n){return x(e,t,n)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function S(e){if(typeof e!=`number`)throw TypeError(`"size" argument must be of type number`);if(e<0)throw RangeError(`The value "`+e+`" is invalid for option "size"`)}function C(e,t,n){return S(e),e<=0||t===void 0?y(e):typeof n==`string`?y(e).fill(t,n):y(e).fill(t)}b.alloc=function(e,t,n){return C(e,t,n)};function w(e){return S(e),y(e<0?0:A(e)|0)}b.allocUnsafe=function(e){return w(e)},b.allocUnsafeSlow=function(e){return w(e)};function T(e,t){if((typeof t!=`string`||t===``)&&(t=`utf8`),!b.isEncoding(t))throw TypeError(`Unknown encoding: `+t);var n=M(e,t)|0,r=y(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function E(e){for(var t=e.length<0?0:A(e.length)|0,n=y(t),r=0;r<t;r+=1)n[r]=e[r]&255;return n}function D(e){if(xe(e,Uint8Array)){var t=new Uint8Array(e);return O(t.buffer,t.byteOffset,t.byteLength)}return E(e)}function O(e,t,n){if(t<0||e.byteLength<t)throw RangeError(`"offset" is outside of buffer bounds`);if(e.byteLength<t+(n||0))throw RangeError(`"length" is outside of buffer bounds`);var r=t===void 0&&n===void 0?new Uint8Array(e):n===void 0?new Uint8Array(e,t):new Uint8Array(e,t,n);return Object.setPrototypeOf(r,b.prototype),r}function k(e){if(b.isBuffer(e)){var t=A(e.length)|0,n=y(t);return n.length===0||e.copy(n,0,0,t),n}if(e.length!==void 0)return typeof e.length!=`number`||Se(e.length)?y(0):E(e);if(e.type===`Buffer`&&Array.isArray(e.data))return E(e.data)}function A(e){if(e>=_)throw RangeError(`Attempt to allocate Buffer larger than maximum size: 0x`+_.toString(16)+` bytes`);return e|0}function j(e){return+e!=e&&(e=0),b.alloc(+e)}b.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==b.prototype},b.compare=function(e,t){if(xe(e,Uint8Array)&&(e=b.from(e,e.offset,e.byteLength)),xe(t,Uint8Array)&&(t=b.from(t,t.offset,t.byteLength)),!b.isBuffer(e)||!b.isBuffer(t))throw TypeError(`The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array`);if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},b.isEncoding=function(e){switch(String(e).toLowerCase()){case`hex`:case`utf8`:case`utf-8`:case`ascii`:case`latin1`:case`binary`:case`base64`:case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return!0;default:return!1}},b.concat=function(e,t){if(!Array.isArray(e))throw TypeError(`"list" argument must be an Array of Buffers`);if(e.length===0)return b.alloc(0);var n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=b.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(xe(a,Uint8Array))i+a.length>r.length?(b.isBuffer(a)||(a=b.from(a)),a.copy(r,i)):Uint8Array.prototype.set.call(r,a,i);else if(b.isBuffer(a))a.copy(r,i);else throw TypeError(`"list" argument must be an Array of Buffers`);i+=a.length}return r};function M(e,t){if(b.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||xe(e,ArrayBuffer))return e.byteLength;if(typeof e!=`string`)throw TypeError(`The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type `+p(e));var n=e.length,r=arguments.length>2&&arguments[2]===!0;if(!r&&n===0)return 0;for(var i=!1;;)switch(t){case`ascii`:case`latin1`:case`binary`:return n;case`utf8`:case`utf-8`:return ge(e).length;case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return n*2;case`hex`:return n>>>1;case`base64`:return ye(e).length;default:if(i)return r?-1:ge(e).length;t=(``+t).toLowerCase(),i=!0}}b.byteLength=M;function N(e,t,n){var r=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,t>>>=0,n<=t))return``;for(e||=`utf8`;;)switch(e){case`hex`:return q(this,t,n);case`utf8`:case`utf-8`:return U(this,t,n);case`ascii`:return K(this,t,n);case`latin1`:case`binary`:return ee(this,t,n);case`base64`:return H(this,t,n);case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return J(this,t,n);default:if(r)throw TypeError(`Unknown encoding: `+e);e=(e+``).toLowerCase(),r=!0}}b.prototype._isBuffer=!0;function P(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}b.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError(`Buffer size must be a multiple of 16-bits`);for(var t=0;t<e;t+=2)P(this,t,t+1);return this},b.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError(`Buffer size must be a multiple of 32-bits`);for(var t=0;t<e;t+=4)P(this,t,t+3),P(this,t+1,t+2);return this},b.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError(`Buffer size must be a multiple of 64-bits`);for(var t=0;t<e;t+=8)P(this,t,t+7),P(this,t+1,t+6),P(this,t+2,t+5),P(this,t+3,t+4);return this},b.prototype.toString=function(){var e=this.length;return e===0?``:arguments.length===0?U(this,0,e):N.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(e){if(!b.isBuffer(e))throw TypeError(`Argument must be a Buffer`);return this===e?!0:b.compare(this,e)===0},b.prototype.inspect=function(){var e=``,n=t.INSPECT_MAX_BYTES;return e=this.toString(`hex`,0,n).replace(/(.{2})/g,`$1 `).trim(),this.length>n&&(e+=` ... `),`<Buffer `+e+`>`},g&&(b.prototype[g]=b.prototype.inspect),b.prototype.compare=function(e,t,n,r,i){if(xe(e,Uint8Array)&&(e=b.from(e,e.offset,e.byteLength)),!b.isBuffer(e))throw TypeError(`The "target" argument must be one of type Buffer or Uint8Array. Received type `+p(e));if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw RangeError(`out of range index`);if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var a=i-r,o=n-t,s=Math.min(a,o),c=this.slice(r,i),l=e.slice(t,n),u=0;u<s;++u)if(c[u]!==l[u]){a=c[u],o=l[u];break}return a<o?-1:o<a?1:0};function F(e,t,n,r,i){if(e.length===0)return-1;if(typeof n==`string`?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,Se(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0)if(i)n=0;else return-1;if(typeof t==`string`&&(t=b.from(t,r)),b.isBuffer(t))return t.length===0?-1:I(e,t,n,r,i);if(typeof t==`number`)return t&=255,typeof Uint8Array.prototype.indexOf==`function`?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):I(e,[t],n,r,i);throw TypeError(`val must be string, number or Buffer`)}function I(e,t,n,r,i){var a=1,o=e.length,s=t.length;if(r!==void 0&&(r=String(r).toLowerCase(),r===`ucs2`||r===`ucs-2`||r===`utf16le`||r===`utf-16le`)){if(e.length<2||t.length<2)return-1;a=2,o/=2,s/=2,n/=2}function c(e,t){return a===1?e[t]:e.readUInt16BE(t*a)}var l;if(i){var u=-1;for(l=n;l<o;l++)if(c(e,l)===c(t,u===-1?0:l-u)){if(u===-1&&(u=l),l-u+1===s)return u*a}else u!==-1&&(l-=l-u),u=-1}else for(n+s>o&&(n=o-s),l=n;l>=0;l--){for(var d=!0,f=0;f<s;f++)if(c(e,l+f)!==c(t,f)){d=!1;break}if(d)return l}return-1}b.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},b.prototype.indexOf=function(e,t,n){return F(this,e,t,n,!0)},b.prototype.lastIndexOf=function(e,t,n){return F(this,e,t,n,!1)};function L(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var a=t.length;r>a/2&&(r=a/2);var o;for(o=0;o<r;++o){var s=parseInt(t.substr(o*2,2),16);if(Se(s))return o;e[n+o]=s}return o}function R(e,t,n,r){return be(ge(t,e.length-n),e,n,r)}function z(e,t,n,r){return be(_e(t),e,n,r)}function B(e,t,n,r){return be(ye(t),e,n,r)}function V(e,t,n,r){return be(ve(t,e.length-n),e,n,r)}b.prototype.write=function(e,t,n,r){if(t===void 0)r=`utf8`,n=this.length,t=0;else if(n===void 0&&typeof t==`string`)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,r===void 0&&(r=`utf8`)):(r=n,n=void 0);else throw Error(`Buffer.write(string, encoding, offset[, length]) is no longer supported`);var i=this.length-t;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError(`Attempt to write outside buffer bounds`);r||=`utf8`;for(var a=!1;;)switch(r){case`hex`:return L(this,e,t,n);case`utf8`:case`utf-8`:return R(this,e,t,n);case`ascii`:case`latin1`:case`binary`:return z(this,e,t,n);case`base64`:return B(this,e,t,n);case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return V(this,e,t,n);default:if(a)throw TypeError(`Unknown encoding: `+r);r=(``+r).toLowerCase(),a=!0}},b.prototype.toJSON=function(){return{type:`Buffer`,data:Array.prototype.slice.call(this._arr||this,0)}};function H(e,t,n){return t===0&&n===e.length?m.fromByteArray(e):m.fromByteArray(e.slice(t,n))}function U(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=n){var c=void 0,l=void 0,u=void 0,d=void 0;switch(s){case 1:a<128&&(o=a);break;case 2:c=e[i+1],(c&192)==128&&(d=(a&31)<<6|c&63,d>127&&(o=d));break;case 3:c=e[i+1],l=e[i+2],(c&192)==128&&(l&192)==128&&(d=(a&15)<<12|(c&63)<<6|l&63,d>2047&&(d<55296||d>57343)&&(o=d));break;case 4:c=e[i+1],l=e[i+2],u=e[i+3],(c&192)==128&&(l&192)==128&&(u&192)==128&&(d=(a&15)<<18|(c&63)<<12|(l&63)<<6|u&63,d>65535&&d<1114112&&(o=d))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|o&1023),r.push(o),i+=s}return G(r)}var W=4096;function G(e){var t=e.length;if(t<=W)return String.fromCharCode.apply(String,e);for(var n=``,r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=W));return n}function K(e,t,n){var r=``;n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]&127);return r}function ee(e,t,n){var r=``;n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function q(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i=``,a=t;a<n;++a)i+=Ce[e[a]];return i}function J(e,t,n){for(var r=e.slice(t,n),i=``,a=0;a<r.length-1;a+=2)i+=String.fromCharCode(r[a]+r[a+1]*256);return i}b.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,b.prototype),r};function Y(e,t,n){if(e%1!=0||e<0)throw RangeError(`offset is not uint`);if(e+t>n)throw RangeError(`Trying to access beyond buffer length`)}b.prototype.readUintLE=b.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||Y(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return r},b.prototype.readUintBE=b.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||Y(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},b.prototype.readUint8=b.prototype.readUInt8=function(e,t){return e>>>=0,t||Y(e,1,this.length),this[e]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(e,t){return e>>>=0,t||Y(e,2,this.length),this[e]|this[e+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(e,t){return e>>>=0,t||Y(e,2,this.length),this[e]<<8|this[e+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(e,t){return e>>>=0,t||Y(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(e,t){return e>>>=0,t||Y(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},b.prototype.readBigUInt64LE=we(function(e){e>>>=0,fe(e,`offset`);var t=this[e],n=this[e+7];(t===void 0||n===void 0)&&pe(e,this.length-8);var r=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,i=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))}),b.prototype.readBigUInt64BE=we(function(e){e>>>=0,fe(e,`offset`);var t=this[e],n=this[e+7];(t===void 0||n===void 0)&&pe(e,this.length-8);var r=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],i=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(r)<<BigInt(32))+BigInt(i)}),b.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||Y(e,t,this.length);for(var r=this[e],i=1,a=0;++a<t&&(i*=256);)r+=this[e+a]*i;return i*=128,r>=i&&(r-=2**(8*t)),r},b.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||Y(e,t,this.length);for(var r=t,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i;return i*=128,a>=i&&(a-=2**(8*t)),a},b.prototype.readInt8=function(e,t){return e>>>=0,t||Y(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},b.prototype.readInt16LE=function(e,t){e>>>=0,t||Y(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n},b.prototype.readInt16BE=function(e,t){e>>>=0,t||Y(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n},b.prototype.readInt32LE=function(e,t){return e>>>=0,t||Y(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},b.prototype.readInt32BE=function(e,t){return e>>>=0,t||Y(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},b.prototype.readBigInt64LE=we(function(e){e>>>=0,fe(e,`offset`);var t=this[e],n=this[e+7];(t===void 0||n===void 0)&&pe(e,this.length-8);var r=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),b.prototype.readBigInt64BE=we(function(e){e>>>=0,fe(e,`offset`);var t=this[e],n=this[e+7];(t===void 0||n===void 0)&&pe(e,this.length-8);var r=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)}),b.prototype.readFloatLE=function(e,t){return e>>>=0,t||Y(e,4,this.length),h.read(this,e,!0,23,4)},b.prototype.readFloatBE=function(e,t){return e>>>=0,t||Y(e,4,this.length),h.read(this,e,!1,23,4)},b.prototype.readDoubleLE=function(e,t){return e>>>=0,t||Y(e,8,this.length),h.read(this,e,!0,52,8)},b.prototype.readDoubleBE=function(e,t){return e>>>=0,t||Y(e,8,this.length),h.read(this,e,!1,52,8)};function te(e,t,n,r,i,a){if(!b.isBuffer(e))throw TypeError(`"buffer" argument must be a Buffer instance`);if(t>i||t<a)throw RangeError(`"value" argument is out of bounds`);if(n+r>e.length)throw RangeError(`Index out of range`)}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=2**(8*n)-1;te(this,e,t,n,i,0)}var a=1,o=0;for(this[t]=e&255;++o<n&&(a*=256);)this[t+o]=e/a&255;return t+n},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=2**(8*n)-1;te(this,e,t,n,i,0)}var a=n-1,o=1;for(this[t+a]=e&255;--a>=0&&(o*=256);)this[t+a]=e/o&255;return t+n},b.prototype.writeUint8=b.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||te(this,e,t,1,255,0),this[t]=e&255,t+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||te(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||te(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||te(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||te(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function ne(e,t,n,r,i){de(t,r,i,e,n,7);var a=Number(t&BigInt(4294967295));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,n}function re(e,t,n,r,i){de(t,r,i,e,n,7);var a=Number(t&BigInt(4294967295));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;var o=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=o,o>>=8,e[n+2]=o,o>>=8,e[n+1]=o,o>>=8,e[n]=o,n+8}b.prototype.writeBigUInt64LE=we(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(this,e,t,BigInt(0),BigInt(`0xffffffffffffffff`))}),b.prototype.writeBigUInt64BE=we(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return re(this,e,t,BigInt(0),BigInt(`0xffffffffffffffff`))}),b.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=2**(8*n-1);te(this,e,t,n,i-1,-i)}var a=0,o=1,s=0;for(this[t]=e&255;++a<n&&(o*=256);)e<0&&s===0&&this[t+a-1]!==0&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},b.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=2**(8*n-1);te(this,e,t,n,i-1,-i)}var a=n-1,o=1,s=0;for(this[t+a]=e&255;--a>=0&&(o*=256);)e<0&&s===0&&this[t+a+1]!==0&&(s=1),this[t+a]=(e/o>>0)-s&255;return t+n},b.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||te(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1},b.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||te(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2},b.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||te(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2},b.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||te(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},b.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||te(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4},b.prototype.writeBigInt64LE=we(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(this,e,t,-BigInt(`0x8000000000000000`),BigInt(`0x7fffffffffffffff`))}),b.prototype.writeBigInt64BE=we(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return re(this,e,t,-BigInt(`0x8000000000000000`),BigInt(`0x7fffffffffffffff`))});function ie(e,t,n,r,i,a){if(n+r>e.length||n<0)throw RangeError(`Index out of range`)}function ae(e,t,n,r,i){return t=+t,n>>>=0,i||ie(e,t,n,4,34028234663852886e22,-34028234663852886e22),h.write(e,t,n,r,23,4),n+4}b.prototype.writeFloatLE=function(e,t,n){return ae(this,e,t,!0,n)},b.prototype.writeFloatBE=function(e,t,n){return ae(this,e,t,!1,n)};function oe(e,t,n,r,i){return t=+t,n>>>=0,i||ie(e,t,n,8,17976931348623157e292,-17976931348623157e292),h.write(e,t,n,r,52,8),n+8}b.prototype.writeDoubleLE=function(e,t,n){return oe(this,e,t,!0,n)},b.prototype.writeDoubleBE=function(e,t,n){return oe(this,e,t,!1,n)},b.prototype.copy=function(e,t,n,r){if(!b.isBuffer(e))throw TypeError(`argument should be a Buffer`);if(n||=0,!r&&r!==0&&(r=this.length),t>=e.length&&(t=e.length),t||=0,r>0&&r<n&&(r=n),r===n||e.length===0||this.length===0)return 0;if(t<0)throw RangeError(`targetStart out of bounds`);if(n<0||n>=this.length)throw RangeError(`Index out of range`);if(r<0)throw RangeError(`sourceEnd out of bounds`);r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&typeof Uint8Array.prototype.copyWithin==`function`?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},b.prototype.fill=function(e,t,n,r){if(typeof e==`string`){if(typeof t==`string`?(r=t,t=0,n=this.length):typeof n==`string`&&(r=n,n=this.length),r!==void 0&&typeof r!=`string`)throw TypeError(`encoding must be a string`);if(typeof r==`string`&&!b.isEncoding(r))throw TypeError(`Unknown encoding: `+r);if(e.length===1){var i=e.charCodeAt(0);(r===`utf8`&&i<128||r===`latin1`)&&(e=i)}}else typeof e==`number`?e&=255:typeof e==`boolean`&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError(`Out of range index`);if(n<=t)return this;t>>>=0,n=n===void 0?this.length:n>>>0,e||=0;var a;if(typeof e==`number`)for(a=t;a<n;++a)this[a]=e;else{var o=b.isBuffer(e)?e:b.from(e,r),s=o.length;if(s===0)throw TypeError(`The value "`+e+`" is invalid for argument "value"`);for(a=0;a<n-t;++a)this[a+t]=o[a%s]}return this};var se={};function ce(e,t,n){se[e]=function(n){o(s,n);var i=c(s);function s(){var n;return r(this,s),n=i.call(this),Object.defineProperty(u(n),`message`,{value:t.apply(u(n),arguments),writable:!0,configurable:!0}),n.name=`${n.name} [${e}]`,n.stack,delete n.name,n}return a(s,[{key:`code`,get:function(){return e},set:function(e){Object.defineProperty(this,`code`,{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:`toString`,value:function(){return`${this.name} [${e}]: ${this.message}`}}]),s}(n)}ce(`ERR_BUFFER_OUT_OF_BOUNDS`,function(e){return e?`${e} is outside of buffer bounds`:`Attempt to access memory outside buffer bounds`},RangeError),ce(`ERR_INVALID_ARG_TYPE`,function(e,t){return`The "${e}" argument must be of type number. Received type ${p(t)}`},TypeError),ce(`ERR_OUT_OF_RANGE`,function(e,t,n){var r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=le(String(n)):typeof n==`bigint`&&(i=String(n),(n>BigInt(2)**+BigInt(32)||n<-(BigInt(2)**+BigInt(32)))&&(i=le(i)),i+=`n`),r+=` It must be ${t}. Received ${i}`,r},RangeError);function le(e){for(var t=``,n=e.length,r=e[0]===`-`?1:0;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function ue(e,t,n){fe(t,`offset`),(e[t]===void 0||e[t+n]===void 0)&&pe(t,e.length-(n+1))}function de(e,t,n,r,i,a){if(e>n||e<t){var o=typeof t==`bigint`?`n`:``,s=a>3?t===0||t===BigInt(0)?`>= 0${o} and < 2${o} ** ${(a+1)*8}${o}`:`>= -(2${o} ** ${(a+1)*8-1}${o}) and < 2 ** ${(a+1)*8-1}${o}`:`>= ${t}${o} and <= ${n}${o}`;throw new se.ERR_OUT_OF_RANGE(`value`,s,e)}ue(r,i,a)}function fe(e,t){if(typeof e!=`number`)throw new se.ERR_INVALID_ARG_TYPE(t,`number`,e)}function pe(e,t,n){throw Math.floor(e)===e?t<0?new se.ERR_BUFFER_OUT_OF_BOUNDS:new se.ERR_OUT_OF_RANGE(n||`offset`,`>= ${n?1:0} and <= ${t}`,e):(fe(e,n),new se.ERR_OUT_OF_RANGE(n||`offset`,`an integer`,e))}var me=/[^+/0-9A-Za-z-_]/g;function he(e){if(e=e.split(`=`)[0],e=e.trim().replace(me,``),e.length<2)return``;for(;e.length%4!=0;)e+=`=`;return e}function ge(e,t){t||=1/0;for(var n,r=e.length,i=null,a=[],o=0;o<r;++o){if(n=e.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&a.push(239,191,189);continue}else if(o+1===r){(t-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if(--t<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,n&63|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw Error(`Invalid code point`)}return a}function _e(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n)&255);return t}function ve(e,t){for(var n,r,i,a=[],o=0;o<e.length&&!((t-=2)<0);++o)n=e.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}function ye(e){return m.toByteArray(he(e))}function be(e,t,n,r){var i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function xe(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function Se(e){return e!==e}var Ce=function(){for(var e=`0123456789abcdef`,t=Array(256),n=0;n<16;++n)for(var r=n*16,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}();function we(e){return typeof BigInt>`u`?Te:e}function Te(){throw Error(`BigInt not supported`)}}),35791:(function(e){e.exports=i,e.exports.isMobile=i,e.exports.default=i;var t=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,n=/CrOS/,r=/android|ipad|playbook|silk/i;function i(e){e||={};var i=e.ua;if(!i&&typeof navigator<`u`&&(i=navigator.userAgent),i&&i.headers&&typeof i.headers[`user-agent`]==`string`&&(i=i.headers[`user-agent`]),typeof i!=`string`)return!1;var a=t.test(i)&&!n.test(i)||!!e.tablet&&r.test(i);return!a&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&i.indexOf(`Macintosh`)!==-1&&i.indexOf(`Safari`)!==-1&&(a=!0),a}}),86781:(function(e,t,n){n.r(t),n.d(t,{sankeyCenter:function(){return f},sankeyCircular:function(){return A},sankeyJustify:function(){return d},sankeyLeft:function(){return l},sankeyRight:function(){return u}});var r=n(33064),i=n(15140),a=n(45879),o=n(2502),s=n.n(o);function c(e){return e.target.depth}function l(e){return e.depth}function u(e,t){return t-1-e.height}function d(e,t){return e.sourceLinks.length?e.depth:t-1}function f(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?(0,r.VV)(e.sourceLinks,c)-1:0}function p(e){return function(){return e}}var m=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e};function h(e,t){return _(e.source,t.source)||e.index-t.index}function g(e,t){return _(e.target,t.target)||e.index-t.index}function _(e,t){return e.partOfCycle===t.partOfCycle?e.y0-t.y0:e.circularLinkType===`top`||t.circularLinkType===`bottom`?-1:1}function v(e){return e.value}function y(e){return(e.y0+e.y1)/2}function b(e){return y(e.source)}function x(e){return y(e.target)}function S(e){return e.index}function C(e){return e.nodes}function w(e){return e.links}function T(e,t){var n=e.get(t);if(!n)throw Error(`missing: `+t);return n}function E(e,t){return t(e)}var D=25,O=10,k=.3;function A(){var e=0,t=0,n=1,a=1,o=24,s,c=S,l=d,u=C,f=w,E=32,A=2,N,P=null;function I(){var e={nodes:u.apply(null,arguments),links:f.apply(null,arguments)};L(e),j(e,c,P),z(e),H(e),M(e,c),U(e,E,c),W(e);for(var n=4,r=0;r<n;r++)ne(e,a,c),re(e,a,c),J(e,t,a,c),ne(e,a,c),re(e,a,c);return se(e,t,a),R(e,A,a,c),e}I.nodeId=function(e){return arguments.length?(c=typeof e==`function`?e:p(e),I):c},I.nodeAlign=function(e){return arguments.length?(l=typeof e==`function`?e:p(e),I):l},I.nodeWidth=function(e){return arguments.length?(o=+e,I):o},I.nodePadding=function(e){return arguments.length?(s=+e,I):s},I.nodes=function(e){return arguments.length?(u=typeof e==`function`?e:p(e),I):u},I.links=function(e){return arguments.length?(f=typeof e==`function`?e:p(e),I):f},I.size=function(r){return arguments.length?(e=t=0,n=+r[0],a=+r[1],I):[n-e,a-t]},I.extent=function(r){return arguments.length?(e=+r[0][0],n=+r[1][0],t=+r[0][1],a=+r[1][1],I):[[e,t],[n,a]]},I.iterations=function(e){return arguments.length?(E=+e,I):E},I.circularLinkGap=function(e){return arguments.length?(A=+e,I):A},I.nodePaddingRatio=function(e){return arguments.length?(N=+e,I):N},I.sortNodes=function(e){return arguments.length?(P=e,I):P},I.update=function(e){return M(e,c),W(e),e.links.forEach(function(e){e.circular&&(e.circularLinkType=e.y0+e.y1<a?`top`:`bottom`,e.source.circularLinkType=e.circularLinkType,e.target.circularLinkType=e.circularLinkType)}),ne(e,a,c,!1),re(e,a,c),R(e,A,a,c),e};function L(e){e.nodes.forEach(function(e,t){e.index=t,e.sourceLinks=[],e.targetLinks=[]});var t=(0,i.UI)(e.nodes,c);return e.links.forEach(function(e,n){e.index=n;var r=e.source,i=e.target;(r===void 0?`undefined`:m(r))!==`object`&&(r=e.source=T(t,r)),(i===void 0?`undefined`:m(i))!==`object`&&(i=e.target=T(t,i)),r.sourceLinks.push(e),i.targetLinks.push(e)}),e}function z(e){e.nodes.forEach(function(e){e.partOfCycle=!1,e.value=Math.max((0,r.Sm)(e.sourceLinks,v),(0,r.Sm)(e.targetLinks,v)),e.sourceLinks.forEach(function(t){t.circular&&(e.partOfCycle=!0,e.circularLinkType=t.circularLinkType)}),e.targetLinks.forEach(function(t){t.circular&&(e.partOfCycle=!0,e.circularLinkType=t.circularLinkType)})})}function B(e){var t=0,n=0,i=0,a=0,o=(0,r.Fp)(e.nodes,function(e){return e.column});return e.links.forEach(function(e){e.circular&&(e.circularLinkType==`top`?t+=e.width:n+=e.width,e.target.column==0&&(a+=e.width),e.source.column==o&&(i+=e.width))}),t=t>0?t+D+O:t,n=n>0?n+D+O:n,i=i>0?i+D+O:i,a=a>0?a+D+O:a,{top:t,bottom:n,left:a,right:i}}function V(i,s){var c=(0,r.Fp)(i.nodes,function(e){return e.column}),l=n-e,u=a-t,d=l+s.right+s.left,f=u+s.top+s.bottom,p=l/d,m=u/f;return e=e*p+s.left,n=s.right==0?n:n*p,t=t*m+s.top,a*=m,i.nodes.forEach(function(t){t.x0=e+t.column*((n-e-o)/c),t.x1=t.x0+o}),m}function H(e){var t,n,r;for(t=e.nodes,n=[],r=0;t.length;++r,t=n,n=[])t.forEach(function(e){e.depth=r,e.sourceLinks.forEach(function(e){n.indexOf(e.target)<0&&!e.circular&&n.push(e.target)})});for(t=e.nodes,n=[],r=0;t.length;++r,t=n,n=[])t.forEach(function(e){e.height=r,e.targetLinks.forEach(function(e){n.indexOf(e.source)<0&&!e.circular&&n.push(e.source)})});e.nodes.forEach(function(e){e.column=Math.floor(l.call(null,e,r))})}function U(e,n,o){var c=(0,i.b1)().key(function(e){return e.column}).sortKeys(r.j2).entries(e.nodes).map(function(e){return e.values});d(o),p();for(var l=1,u=n;u>0;--u)f(l*=.99,o),p();function d(n){if(N){var i=1/0;c.forEach(function(e){var t=a*N/(e.length+1);i=t<i?t:i}),s=i}var o=(0,r.VV)(c,function(e){return(a-t-(e.length-1)*s)/(0,r.Sm)(e,v)});o*=k,e.links.forEach(function(e){e.width=e.value*o});var l=B(e),u=V(e,l);o*=u,e.links.forEach(function(e){e.width=e.value*o}),c.forEach(function(e){var r=e.length;e.forEach(function(e,i){e.depth==c.length-1&&r==1||e.depth==0&&r==1?(e.y0=a/2-e.value*o,e.y1=e.y0+e.value*o):e.partOfCycle?F(e,n)==0?(e.y0=a/2+i,e.y1=e.y0+e.value*o):e.circularLinkType==`top`?(e.y0=t+i,e.y1=e.y0+e.value*o):(e.y0=a-e.value*o-i,e.y1=e.y0+e.value*o):l.top==0||l.bottom==0?(e.y0=(a-t)/r*i,e.y1=e.y0+e.value*o):(e.y0=(a-t)/2-r/2+i,e.y1=e.y0+e.value*o)})})}function f(e,t){var n=c.length;c.forEach(function(i){var o=i.length,s=i[0].depth;i.forEach(function(i){var c;if((i.sourceLinks.length||i.targetLinks.length)&&!(i.partOfCycle&&F(i,t)>0))if(s==0&&o==1)c=i.y1-i.y0,i.y0=a/2-c/2,i.y1=a/2+c/2;else if(s==n-1&&o==1)c=i.y1-i.y0,i.y0=a/2-c/2,i.y1=a/2+c/2;else{var l=0,u=(0,r.J6)(i.sourceLinks,x),d=(0,r.J6)(i.targetLinks,b);l=u&&d?(u+d)/2:u||d;var f=(l-y(i))*e;i.y0+=f,i.y1+=f}})})}function p(){c.forEach(function(e){var n,r,i=t,o=e.length,c;for(e.sort(_),c=0;c<o;++c)n=e[c],r=i-n.y0,r>0&&(n.y0+=r,n.y1+=r),i=n.y1+s;if(r=i-s-a,r>0)for(i=n.y0-=r,n.y1-=r,c=o-2;c>=0;--c)n=e[c],r=n.y1+s-i,r>0&&(n.y0-=r,n.y1-=r),i=n.y0})}}function W(e){e.nodes.forEach(function(e){e.sourceLinks.sort(g),e.targetLinks.sort(h)}),e.nodes.forEach(function(e){var t=e.y0,n=t,r=e.y1,i=r;e.sourceLinks.forEach(function(e){e.circular?(e.y0=r-e.width/2,r-=e.width):(e.y0=t+e.width/2,t+=e.width)}),e.targetLinks.forEach(function(e){e.circular?(e.y1=i-e.width/2,i-=e.width):(e.y1=n+e.width/2,n+=e.width)})})}return I}function j(e,t,n){var r=0;if(n===null){for(var i=[],a=0;a<e.links.length;a++){var o=e.links[a],c=o.source.index,l=o.target.index;i[c]||(i[c]=[]),i[l]||(i[l]=[]),i[c].indexOf(l)===-1&&i[c].push(l)}var u=s()(i);u.sort(function(e,t){return e.length-t.length});var d={};for(a=0;a<u.length;a++){var f=u[a].slice(-2);d[f[0]]||(d[f[0]]={}),d[f[0]][f[1]]=!0}e.links.forEach(function(e){var t=e.target.index,n=e.source.index;t===n||d[n]&&d[n][t]?(e.circular=!0,e.circularLinkID=r,r+=1):e.circular=!1})}else e.links.forEach(function(e){e.source[n]<e.target[n]?e.circular=!1:(e.circular=!0,e.circularLinkID=r,r+=1)})}function M(e,t){var n=0,r=0;e.links.forEach(function(i){i.circular&&(i.source.circularLinkType||i.target.circularLinkType?i.circularLinkType=i.source.circularLinkType?i.source.circularLinkType:i.target.circularLinkType:i.circularLinkType=n<r?`top`:`bottom`,i.circularLinkType==`top`?n+=1:r+=1,e.nodes.forEach(function(e){(E(e,t)==E(i.source,t)||E(e,t)==E(i.target,t))&&(e.circularLinkType=i.circularLinkType)}))}),e.links.forEach(function(e){e.circular&&(e.source.circularLinkType==e.target.circularLinkType&&(e.circularLinkType=e.source.circularLinkType),oe(e,t)&&(e.circularLinkType=e.source.circularLinkType))})}function N(e){var t=Math.abs(e.y1-e.y0),n=Math.abs(e.target.x0-e.source.x1);return Math.atan(n/t)}function P(e,t){return e.source.column<t.target.column?!1:!(e.target.column>t.source.column)}function F(e,t){var n=0;e.sourceLinks.forEach(function(e){n=e.circular&&!oe(e,t)?n+1:n});var r=0;return e.targetLinks.forEach(function(e){r=e.circular&&!oe(e,t)?r+1:r}),n+r}function I(e){var t=e.source.sourceLinks,n=0;t.forEach(function(e){n=e.circular?n+1:n});var r=e.target.targetLinks,i=0;return r.forEach(function(e){i=e.circular?i+1:i}),!(n>1||i>1)}function L(e,t,n){return e.sort(B),e.forEach(function(r,i){var a=0;if(oe(r,n)&&I(r))r.circularPathData.verticalBuffer=a+r.width/2;else{for(var o=0;o<i;o++)if(P(e[i],e[o])){var s=e[o].circularPathData.verticalBuffer+e[o].width/2+t;a=s>a?s:a}r.circularPathData.verticalBuffer=a+r.width/2}}),e}function R(e,t,n,i){var o=5,s=(0,r.VV)(e.links,function(e){return e.source.y0});e.links.forEach(function(e){e.circular&&(e.circularPathData={})}),L(e.links.filter(function(e){return e.circularLinkType==`top`}),t,i),L(e.links.filter(function(e){return e.circularLinkType==`bottom`}),t,i),e.links.forEach(function(r){if(r.circular){if(r.circularPathData.arcRadius=r.width+O,r.circularPathData.leftNodeBuffer=o,r.circularPathData.rightNodeBuffer=o,r.circularPathData.sourceWidth=r.source.x1-r.source.x0,r.circularPathData.sourceX=r.source.x0+r.circularPathData.sourceWidth,r.circularPathData.targetX=r.target.x0,r.circularPathData.sourceY=r.y0,r.circularPathData.targetY=r.y1,oe(r,i)&&I(r))r.circularPathData.leftSmallArcRadius=O+r.width/2,r.circularPathData.leftLargeArcRadius=O+r.width/2,r.circularPathData.rightSmallArcRadius=O+r.width/2,r.circularPathData.rightLargeArcRadius=O+r.width/2,r.circularLinkType==`bottom`?(r.circularPathData.verticalFullExtent=r.source.y1+D+r.circularPathData.verticalBuffer,r.circularPathData.verticalLeftInnerExtent=r.circularPathData.verticalFullExtent-r.circularPathData.leftLargeArcRadius,r.circularPathData.verticalRightInnerExtent=r.circularPathData.verticalFullExtent-r.circularPathData.rightLargeArcRadius):(r.circularPathData.verticalFullExtent=r.source.y0-D-r.circularPathData.verticalBuffer,r.circularPathData.verticalLeftInnerExtent=r.circularPathData.verticalFullExtent+r.circularPathData.leftLargeArcRadius,r.circularPathData.verticalRightInnerExtent=r.circularPathData.verticalFullExtent+r.circularPathData.rightLargeArcRadius);else{var c=r.source.column,l=r.circularLinkType,u=e.links.filter(function(e){return e.source.column==c&&e.circularLinkType==l});r.circularLinkType==`bottom`?u.sort(H):u.sort(V);var d=0;u.forEach(function(e,n){e.circularLinkID==r.circularLinkID&&(r.circularPathData.leftSmallArcRadius=O+r.width/2+d,r.circularPathData.leftLargeArcRadius=O+r.width/2+n*t+d),d+=e.width}),c=r.target.column,u=e.links.filter(function(e){return e.target.column==c&&e.circularLinkType==l}),r.circularLinkType==`bottom`?u.sort(W):u.sort(U),d=0,u.forEach(function(e,n){e.circularLinkID==r.circularLinkID&&(r.circularPathData.rightSmallArcRadius=O+r.width/2+d,r.circularPathData.rightLargeArcRadius=O+r.width/2+n*t+d),d+=e.width}),r.circularLinkType==`bottom`?(r.circularPathData.verticalFullExtent=Math.max(n,r.source.y1,r.target.y1)+D+r.circularPathData.verticalBuffer,r.circularPathData.verticalLeftInnerExtent=r.circularPathData.verticalFullExtent-r.circularPathData.leftLargeArcRadius,r.circularPathData.verticalRightInnerExtent=r.circularPathData.verticalFullExtent-r.circularPathData.rightLargeArcRadius):(r.circularPathData.verticalFullExtent=s-D-r.circularPathData.verticalBuffer,r.circularPathData.verticalLeftInnerExtent=r.circularPathData.verticalFullExtent+r.circularPathData.leftLargeArcRadius,r.circularPathData.verticalRightInnerExtent=r.circularPathData.verticalFullExtent+r.circularPathData.rightLargeArcRadius)}r.circularPathData.leftInnerExtent=r.circularPathData.sourceX+r.circularPathData.leftNodeBuffer,r.circularPathData.rightInnerExtent=r.circularPathData.targetX-r.circularPathData.rightNodeBuffer,r.circularPathData.leftFullExtent=r.circularPathData.sourceX+r.circularPathData.leftLargeArcRadius+r.circularPathData.leftNodeBuffer,r.circularPathData.rightFullExtent=r.circularPathData.targetX-r.circularPathData.rightLargeArcRadius-r.circularPathData.rightNodeBuffer}r.circular?r.path=z(r):r.path=(0,a.h5)().source(function(e){return[e.source.x0+(e.source.x1-e.source.x0),e.y0]}).target(function(e){return[e.target.x0,e.y1]})(r)})}function z(e){var t=``;return t=e.circularLinkType==`top`?`M`+e.circularPathData.sourceX+` `+e.circularPathData.sourceY+` L`+e.circularPathData.leftInnerExtent+` `+e.circularPathData.sourceY+` A`+e.circularPathData.leftLargeArcRadius+` `+e.circularPathData.leftSmallArcRadius+` 0 0 0 `+e.circularPathData.leftFullExtent+` `+(e.circularPathData.sourceY-e.circularPathData.leftSmallArcRadius)+` L`+e.circularPathData.leftFullExtent+` `+e.circularPathData.verticalLeftInnerExtent+` A`+e.circularPathData.leftLargeArcRadius+` `+e.circularPathData.leftLargeArcRadius+` 0 0 0 `+e.circularPathData.leftInnerExtent+` `+e.circularPathData.verticalFullExtent+` L`+e.circularPathData.rightInnerExtent+` `+e.circularPathData.verticalFullExtent+` A`+e.circularPathData.rightLargeArcRadius+` `+e.circularPathData.rightLargeArcRadius+` 0 0 0 `+e.circularPathData.rightFullExtent+` `+e.circularPathData.verticalRightInnerExtent+` L`+e.circularPathData.rightFullExtent+` `+(e.circularPathData.targetY-e.circularPathData.rightSmallArcRadius)+` A`+e.circularPathData.rightLargeArcRadius+` `+e.circularPathData.rightSmallArcRadius+` 0 0 0 `+e.circularPathData.rightInnerExtent+` `+e.circularPathData.targetY+` L`+e.circularPathData.targetX+` `+e.circularPathData.targetY:`M`+e.circularPathData.sourceX+` `+e.circularPathData.sourceY+` L`+e.circularPathData.leftInnerExtent+` `+e.circularPathData.sourceY+` A`+e.circularPathData.leftLargeArcRadius+` `+e.circularPathData.leftSmallArcRadius+` 0 0 1 `+e.circularPathData.leftFullExtent+` `+(e.circularPathData.sourceY+e.circularPathData.leftSmallArcRadius)+` L`+e.circularPathData.leftFullExtent+` `+e.circularPathData.verticalLeftInnerExtent+` A`+e.circularPathData.leftLargeArcRadius+` `+e.circularPathData.leftLargeArcRadius+` 0 0 1 `+e.circularPathData.leftInnerExtent+` `+e.circularPathData.verticalFullExtent+` L`+e.circularPathData.rightInnerExtent+` `+e.circularPathData.verticalFullExtent+` A`+e.circularPathData.rightLargeArcRadius+` `+e.circularPathData.rightLargeArcRadius+` 0 0 1 `+e.circularPathData.rightFullExtent+` `+e.circularPathData.verticalRightInnerExtent+` L`+e.circularPathData.rightFullExtent+` `+(e.circularPathData.targetY+e.circularPathData.rightSmallArcRadius)+` A`+e.circularPathData.rightLargeArcRadius+` `+e.circularPathData.rightSmallArcRadius+` 0 0 1 `+e.circularPathData.rightInnerExtent+` `+e.circularPathData.targetY+` L`+e.circularPathData.targetX+` `+e.circularPathData.targetY,t}function B(e,t){return G(e)==G(t)?e.circularLinkType==`bottom`?H(e,t):V(e,t):G(t)-G(e)}function V(e,t){return e.y0-t.y0}function H(e,t){return t.y0-e.y0}function U(e,t){return e.y1-t.y1}function W(e,t){return t.y1-e.y1}function G(e){return e.target.column-e.source.column}function K(e){return e.target.x0-e.source.x1}function ee(e,t){var n=N(e),r=K(t)/Math.tan(n);return ae(e)==`up`?e.y1+r:e.y1-r}function q(e,t){var n=N(e),r=K(t)/Math.tan(n);return ae(e)==`up`?e.y1-r:e.y1+r}function J(e,t,n,r){e.links.forEach(function(i){if(!i.circular&&i.target.column-i.source.column>1){var a=i.source.column+1,o=i.target.column-1,s=1,c=o-a+1;for(s=1;a<=o;a++,s++)e.nodes.forEach(function(o){if(o.column==a){var l=s/(c+1),u=(1-l)**3,d=3*l*(1-l)**2,f=3*l**2*(1-l),p=l**3,m=u*i.y0+d*i.y0+f*i.y1+p*i.y1,h=m-i.width/2,g=m+i.width/2,_;h>o.y0&&h<o.y1?(_=o.y1-h+10,_=o.circularLinkType==`bottom`?_:-_,o=te(o,_,t,n),e.nodes.forEach(function(e){E(e,r)==E(o,r)||e.column!=o.column||Y(o,e)&&te(e,_,t,n)})):(g>o.y0&&g<o.y1||h<o.y0&&g>o.y1)&&(_=g-o.y0+10,o=te(o,_,t,n),e.nodes.forEach(function(e){E(e,r)==E(o,r)||e.column!=o.column||e.y0<o.y1&&e.y1>o.y1&&te(e,_,t,n)}))}})}})}function Y(e,t){return e.y0>t.y0&&e.y0<t.y1||e.y1>t.y0&&e.y1<t.y1?!0:e.y0<t.y0&&e.y1>t.y1}function te(e,t,n,r){return e.y0+t>=n&&e.y1+t<=r&&(e.y0+=t,e.y1+=t,e.targetLinks.forEach(function(e){e.y1+=t}),e.sourceLinks.forEach(function(e){e.y0+=t})),e}function ne(e,t,n,r){e.nodes.forEach(function(i){r&&i.y+(i.y1-i.y0)>t&&(i.y-=i.y+(i.y1-i.y0)-t);var a=e.links.filter(function(e){return E(e.source,n)==E(i,n)}),o=a.length;o>1&&a.sort(function(e,t){if(!e.circular&&!t.circular){if(e.target.column==t.target.column)return e.y1-t.y1;if(ie(e,t)){if(e.target.column>t.target.column){var n=q(t,e);return e.y1-n}if(t.target.column>e.target.column)return q(e,t)-t.y1}else return e.y1-t.y1}if(e.circular&&!t.circular)return e.circularLinkType==`top`?-1:1;if(t.circular&&!e.circular)return t.circularLinkType==`top`?1:-1;if(e.circular&&t.circular)return e.circularLinkType===t.circularLinkType&&e.circularLinkType==`top`?e.target.column===t.target.column?e.target.y1-t.target.y1:t.target.column-e.target.column:e.circularLinkType===t.circularLinkType&&e.circularLinkType==`bottom`?e.target.column===t.target.column?t.target.y1-e.target.y1:e.target.column-t.target.column:e.circularLinkType==`top`?-1:1});var s=i.y0;a.forEach(function(e){e.y0=s+e.width/2,s+=e.width}),a.forEach(function(e,t){if(e.circularLinkType==`bottom`){for(var n=t+1,r=0;n<o;n++)r+=a[n].width;e.y0=i.y1-r-e.width/2}})})}function re(e,t,n){e.nodes.forEach(function(t){var r=e.links.filter(function(e){return E(e.target,n)==E(t,n)}),i=r.length;i>1&&r.sort(function(e,t){if(!e.circular&&!t.circular){if(e.source.column==t.source.column)return e.y0-t.y0;if(ie(e,t)){if(t.source.column<e.source.column){var n=ee(t,e);return e.y0-n}if(e.source.column<t.source.column)return ee(e,t)-t.y0}else return e.y0-t.y0}if(e.circular&&!t.circular)return e.circularLinkType==`top`?-1:1;if(t.circular&&!e.circular)return t.circularLinkType==`top`?1:-1;if(e.circular&&t.circular)return e.circularLinkType===t.circularLinkType&&e.circularLinkType==`top`?e.source.column===t.source.column?e.source.y1-t.source.y1:e.source.column-t.source.column:e.circularLinkType===t.circularLinkType&&e.circularLinkType==`bottom`?e.source.column===t.source.column?e.source.y1-t.source.y1:t.source.column-e.source.column:e.circularLinkType==`top`?-1:1});var a=t.y0;r.forEach(function(e){e.y1=a+e.width/2,a+=e.width}),r.forEach(function(e,n){if(e.circularLinkType==`bottom`){for(var a=n+1,o=0;a<i;a++)o+=r[a].width;e.y1=t.y1-o-e.width/2}})})}function ie(e,t){return ae(e)==ae(t)}function ae(e){return e.y0-e.y1>0?`up`:`down`}function oe(e,t){return E(e.source,t)==E(e.target,t)}function se(e,t,n){var i=e.nodes,a=e.links,o=!1,s=!1;if(a.forEach(function(e){e.circularLinkType==`top`?o=!0:e.circularLinkType==`bottom`&&(s=!0)}),o==0||s==0){var c=(0,r.VV)(i,function(e){return e.y0}),l=(0,r.Fp)(i,function(e){return e.y1})-c,u=(n-t)/l;i.forEach(function(e){var t=(e.y1-e.y0)*u;e.y0=(e.y0-c)*u,e.y1=e.y0+t}),a.forEach(function(e){e.y0=(e.y0-c)*u,e.y1=(e.y1-c)*u,e.width*=u})}}}),30838:(function(e,t,n){n.r(t),n.d(t,{sankey:function(){return S},sankeyCenter:function(){return l},sankeyJustify:function(){return c},sankeyLeft:function(){return o},sankeyLinkHorizontal:function(){return E},sankeyRight:function(){return s}});var r=n(33064),i=n(15140);function a(e){return e.target.depth}function o(e){return e.depth}function s(e,t){return t-1-e.height}function c(e,t){return e.sourceLinks.length?e.depth:t-1}function l(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?(0,r.VV)(e.sourceLinks,a)-1:0}function u(e){return function(){return e}}function d(e,t){return p(e.source,t.source)||e.index-t.index}function f(e,t){return p(e.target,t.target)||e.index-t.index}function p(e,t){return e.y0-t.y0}function m(e){return e.value}function h(e){return(e.y0+e.y1)/2}function g(e){return h(e.source)*e.value}function _(e){return h(e.target)*e.value}function v(e){return e.index}function y(e){return e.nodes}function b(e){return e.links}function x(e,t){var n=e.get(t);if(!n)throw Error(`missing: `+t);return n}function S(){var e=0,t=0,n=1,a=1,o=24,s=8,l=v,S=c,C=y,w=b,T=32,E=2/3;function D(){var e={nodes:C.apply(null,arguments),links:w.apply(null,arguments)};return O(e),k(e),A(e),j(e,T),M(e),e}D.update=function(e){return M(e),e},D.nodeId=function(e){return arguments.length?(l=typeof e==`function`?e:u(e),D):l},D.nodeAlign=function(e){return arguments.length?(S=typeof e==`function`?e:u(e),D):S},D.nodeWidth=function(e){return arguments.length?(o=+e,D):o},D.nodePadding=function(e){return arguments.length?(s=+e,D):s},D.nodes=function(e){return arguments.length?(C=typeof e==`function`?e:u(e),D):C},D.links=function(e){return arguments.length?(w=typeof e==`function`?e:u(e),D):w},D.size=function(r){return arguments.length?(e=t=0,n=+r[0],a=+r[1],D):[n-e,a-t]},D.extent=function(r){return arguments.length?(e=+r[0][0],n=+r[1][0],t=+r[0][1],a=+r[1][1],D):[[e,t],[n,a]]},D.iterations=function(e){return arguments.length?(T=+e,D):T};function O(e){e.nodes.forEach(function(e,t){e.index=t,e.sourceLinks=[],e.targetLinks=[]});var t=(0,i.UI)(e.nodes,l);e.links.forEach(function(e,n){e.index=n;var r=e.source,i=e.target;typeof r!=`object`&&(r=e.source=x(t,r)),typeof i!=`object`&&(i=e.target=x(t,i)),r.sourceLinks.push(e),i.targetLinks.push(e)})}function k(e){e.nodes.forEach(function(e){e.value=Math.max((0,r.Sm)(e.sourceLinks,m),(0,r.Sm)(e.targetLinks,m))})}function A(t){var r,i,a;for(r=t.nodes,i=[],a=0;r.length;++a,r=i,i=[])r.forEach(function(e){e.depth=a,e.sourceLinks.forEach(function(e){i.indexOf(e.target)<0&&i.push(e.target)})});for(r=t.nodes,i=[],a=0;r.length;++a,r=i,i=[])r.forEach(function(e){e.height=a,e.targetLinks.forEach(function(e){i.indexOf(e.source)<0&&i.push(e.source)})});var s=(n-e-o)/(a-1);t.nodes.forEach(function(t){t.x1=(t.x0=e+Math.max(0,Math.min(a-1,Math.floor(S.call(null,t,a))))*s)+o})}function j(e){var n=(0,i.b1)().key(function(e){return e.x0}).sortKeys(r.j2).entries(e.nodes).map(function(e){return e.values});l(),f();for(var o=1,c=T;c>0;--c)d(o*=.99),f(),u(o),f();function l(){var i=(0,r.Fp)(n,function(e){return e.length}),o=E*(a-t)/(i-1);s>o&&(s=o);var c=(0,r.VV)(n,function(e){return(a-t-(e.length-1)*s)/(0,r.Sm)(e,m)});n.forEach(function(e){e.forEach(function(e,t){e.y1=(e.y0=t)+e.value*c})}),e.links.forEach(function(e){e.width=e.value*c})}function u(e){n.forEach(function(t){t.forEach(function(t){if(t.targetLinks.length){var n=((0,r.Sm)(t.targetLinks,g)/(0,r.Sm)(t.targetLinks,m)-h(t))*e;t.y0+=n,t.y1+=n}})})}function d(e){n.slice().reverse().forEach(function(t){t.forEach(function(t){if(t.sourceLinks.length){var n=((0,r.Sm)(t.sourceLinks,_)/(0,r.Sm)(t.sourceLinks,m)-h(t))*e;t.y0+=n,t.y1+=n}})})}function f(){n.forEach(function(e){var n,r,i=t,o=e.length,c;for(e.sort(p),c=0;c<o;++c)n=e[c],r=i-n.y0,r>0&&(n.y0+=r,n.y1+=r),i=n.y1+s;if(r=i-s-a,r>0)for(i=n.y0-=r,n.y1-=r,c=o-2;c>=0;--c)n=e[c],r=n.y1+s-i,r>0&&(n.y0-=r,n.y1-=r),i=n.y0})}}function M(e){e.nodes.forEach(function(e){e.sourceLinks.sort(f),e.targetLinks.sort(d)}),e.nodes.forEach(function(e){var t=e.y0,n=t;e.sourceLinks.forEach(function(e){e.y0=t+e.width/2,t+=e.width}),e.targetLinks.forEach(function(e){e.y1=n+e.width/2,n+=e.width})})}return D}var C=n(45879);function w(e){return[e.source.x1,e.y0]}function T(e){return[e.target.x0,e.y1]}function E(){return(0,C.h5)().source(w).target(T)}}),39898:(function(e,t,n){var r,i;(function(){var a={version:`3.8.0`},o=[].slice,s=function(e){return o.call(e)},c=self.document;function l(e){return e&&(e.ownerDocument||e.document||e).documentElement}function u(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(c)try{s(c.documentElement.childNodes)[0].nodeType}catch{s=function(e){for(var t=e.length,n=Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),c)try{c.createElement(`DIV`).style.setProperty(`opacity`,0,``)}catch{var d=this.Element.prototype,f=d.setAttribute,p=d.setAttributeNS,m=this.CSSStyleDeclaration.prototype,h=m.setProperty;d.setAttribute=function(e,t){f.call(this,e,t+``)},d.setAttributeNS=function(e,t,n){p.call(this,e,t,n+``)},m.setProperty=function(e,t,n){h.call(this,e,t+``,n)}}a.ascending=g;function g(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}a.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},a.min=function(e,t){var n=-1,r=e.length,i,a;if(arguments.length===1){for(;++n<r;)if((a=e[n])!=null&&a>=a){i=a;break}for(;++n<r;)(a=e[n])!=null&&i>a&&(i=a)}else{for(;++n<r;)if((a=t.call(e,e[n],n))!=null&&a>=a){i=a;break}for(;++n<r;)(a=t.call(e,e[n],n))!=null&&i>a&&(i=a)}return i},a.max=function(e,t){var n=-1,r=e.length,i,a;if(arguments.length===1){for(;++n<r;)if((a=e[n])!=null&&a>=a){i=a;break}for(;++n<r;)(a=e[n])!=null&&a>i&&(i=a)}else{for(;++n<r;)if((a=t.call(e,e[n],n))!=null&&a>=a){i=a;break}for(;++n<r;)(a=t.call(e,e[n],n))!=null&&a>i&&(i=a)}return i},a.extent=function(e,t){var n=-1,r=e.length,i,a,o;if(arguments.length===1){for(;++n<r;)if((a=e[n])!=null&&a>=a){i=o=a;break}for(;++n<r;)(a=e[n])!=null&&(i>a&&(i=a),o<a&&(o=a))}else{for(;++n<r;)if((a=t.call(e,e[n],n))!=null&&a>=a){i=o=a;break}for(;++n<r;)(a=t.call(e,e[n],n))!=null&&(i>a&&(i=a),o<a&&(o=a))}return[i,o]};function _(e){return e===null?NaN:+e}function v(e){return!isNaN(e)}a.sum=function(e,t){var n=0,r=e.length,i,a=-1;if(arguments.length===1)for(;++a<r;)v(i=+e[a])&&(n+=i);else for(;++a<r;)v(i=+t.call(e,e[a],a))&&(n+=i);return n},a.mean=function(e,t){var n=0,r=e.length,i,a=-1,o=r;if(arguments.length===1)for(;++a<r;)v(i=_(e[a]))?n+=i:--o;else for(;++a<r;)v(i=_(t.call(e,e[a],a)))?n+=i:--o;if(o)return n/o},a.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i},a.median=function(e,t){var n=[],r=e.length,i,o=-1;if(arguments.length===1)for(;++o<r;)v(i=_(e[o]))&&n.push(i);else for(;++o<r;)v(i=_(t.call(e,e[o],o)))&&n.push(i);if(n.length)return a.quantile(n.sort(g),.5)},a.variance=function(e,t){var n=e.length,r=0,i,a,o=0,s=-1,c=0;if(arguments.length===1)for(;++s<n;)v(i=_(e[s]))&&(a=i-r,r+=a/++c,o+=a*(i-r));else for(;++s<n;)v(i=_(t.call(e,e[s],s)))&&(a=i-r,r+=a/++c,o+=a*(i-r));if(c>1)return o/(c-1)},a.deviation=function(){var e=a.variance.apply(this,arguments);return e&&Math.sqrt(e)};function y(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}var b=y(g);a.bisectLeft=b.left,a.bisect=a.bisectRight=b.right,a.bisector=function(e){return y(e.length===1?function(t,n){return g(e(t),n)}:e)},a.shuffle=function(e,t,n){(r=arguments.length)<3&&(n=e.length,r<2&&(t=0));for(var r=n-t,i,a;r;)a=Math.random()*r--|0,i=e[r+t],e[r+t]=e[a+t],e[a+t]=i;return e},a.permute=function(e,t){for(var n=t.length,r=Array(n);n--;)r[n]=e[t[n]];return r},a.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],i=Array(n<0?0:n);t<n;)i[t]=[r,r=e[++t]];return i},a.transpose=function(e){if(!(o=e.length))return[];for(var t=-1,n=a.min(e,x),r=Array(n);++t<n;)for(var i=-1,o,s=r[t]=Array(o);++i<o;)s[i]=e[i][t];return r};function x(e){return e.length}a.zip=function(){return a.transpose(arguments)},a.keys=function(e){var t=[];for(var n in e)t.push(n);return t},a.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},a.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},a.merge=function(e){for(var t=e.length,n,r=-1,i=0,a,o;++r<t;)i+=e[r].length;for(a=Array(i);--t>=0;)for(o=e[t],n=o.length;--n>=0;)a[--i]=o[n];return a};var S=Math.abs;a.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n===1/0)throw Error(`infinite range`);var r=[],i=C(S(n)),a=-1,o;if(e*=i,t*=i,n*=i,n<0)for(;(o=e+n*++a)>t;)r.push(o/i);else for(;(o=e+n*++a)<t;)r.push(o/i);return r};function C(e){for(var t=1;e*t%1;)t*=10;return t}function w(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}a.map=function(e,t){var n=new T;if(e instanceof T)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var r=-1,i=e.length,a;if(arguments.length===1)for(;++r<i;)n.set(r,e[r]);else for(;++r<i;)n.set(t.call(e,a=e[r],r),a)}else for(var o in e)n.set(o,e[o]);return n};function T(){this._=Object.create(null)}var E=`__proto__`,D=`\0`;w(T,{has:A,get:function(e){return this._[O(e)]},set:function(e,t){return this._[O(e)]=t},remove:j,keys:M,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:k(t),value:this._[t]});return e},size:N,empty:P,forEach:function(e){for(var t in this._)e.call(this,k(t),this._[t])}});function O(e){return(e+=``)===E||e[0]===D?D+e:e}function k(e){return(e+=``)[0]===D?e.slice(1):e}function A(e){return O(e)in this._}function j(e){return(e=O(e))in this._&&delete this._[e]}function M(){var e=[];for(var t in this._)e.push(k(t));return e}function N(){var e=0;for(var t in this._)++e;return e}function P(){for(var e in this._)return!1;return!0}a.nest=function(){var e={},t=[],n=[],r,i;function o(n,a,s){if(s>=t.length)return i?i.call(e,a):r?a.sort(r):a;for(var c=-1,l=a.length,u=t[s++],d,f,p,m=new T,h;++c<l;)(h=m.get(d=u(f=a[c])))?h.push(f):m.set(d,[f]);return n?(f=n(),p=function(e,t){f.set(e,o(n,t,s))}):(f={},p=function(e,t){f[e]=o(n,t,s)}),m.forEach(p),f}function s(e,r){if(r>=t.length)return e;var i=[],a=n[r++];return e.forEach(function(e,t){i.push({key:e,values:s(t,r)})}),a?i.sort(function(e,t){return a(e.key,t.key)}):i}return e.map=function(e,t){return o(t,e,0)},e.entries=function(e){return s(o(a.map,e,0),0)},e.key=function(n){return t.push(n),e},e.sortKeys=function(r){return n[t.length-1]=r,e},e.sortValues=function(t){return r=t,e},e.rollup=function(t){return i=t,e},e},a.set=function(e){var t=new F;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t};function F(){this._=Object.create(null)}w(F,{has:A,add:function(e){return this._[O(e+=``)]=!0,e},remove:j,values:M,size:N,empty:P,forEach:function(e){for(var t in this._)e.call(this,k(t))}}),a.behavior={};function I(e){return e}a.rebind=function(e,t){for(var n=1,r=arguments.length,i;++n<r;)e[i=arguments[n]]=L(e,t,t[i]);return e};function L(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function R(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=z.length;n<r;++n){var i=z[n]+t;if(i in e)return i}}var z=[`webkit`,`ms`,`moz`,`Moz`,`o`,`O`];function B(){}a.dispatch=function(){for(var e=new V,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=H(e);return e};function V(){}V.prototype.on=function(e,t){var n=e.indexOf(`.`),r=``;if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(arguments.length===2){if(t==null)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}};function H(e){var t=[],n=new T;function r(){for(var n=t,r=-1,i=n.length,a;++r<i;)(a=n[r].on)&&a.apply(this,arguments);return e}return r.on=function(r,i){var a=n.get(r),o;return arguments.length<2?a&&a.on:(a&&(a.on=null,t=t.slice(0,o=t.indexOf(a)).concat(t.slice(o+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},r}a.event=null;function U(){a.event.preventDefault()}function W(){for(var e=a.event,t;t=e.sourceEvent;)e=t;return e}function G(e){for(var t=new V,n=0,r=arguments.length;++n<r;)t[arguments[n]]=H(t);return t.of=function(n,r){return function(i){try{var o=i.sourceEvent=a.event;i.target=e,a.event=i,t[i.type].apply(n,r)}finally{a.event=o}}},t}a.requote=function(e){return e.replace(K,`\\$&`)};var K=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ee={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function q(e){return ee(e,ne),e}var J=function(e,t){return t.querySelector(e)},Y=function(e,t){return t.querySelectorAll(e)},te=function(e,t){var n=e.matches||e[R(e,`matchesSelector`)];return te=function(e,t){return n.call(e,t)},te(e,t)};typeof Sizzle==`function`&&(J=function(e,t){return Sizzle(e,t)[0]||null},Y=Sizzle,te=Sizzle.matchesSelector),a.selection=function(){return a.select(c.documentElement)};var ne=a.selection.prototype=[];ne.select=function(e){var t=[],n,r,i,a;e=re(e);for(var o=-1,s=this.length;++o<s;){t.push(n=[]),n.parentNode=(i=this[o]).parentNode;for(var c=-1,l=i.length;++c<l;)(a=i[c])?(n.push(r=e.call(a,a.__data__,c,o)),r&&`__data__`in a&&(r.__data__=a.__data__)):n.push(null)}return q(t)};function re(e){return typeof e==`function`?e:function(){return J(e,this)}}ne.selectAll=function(e){var t=[],n,r;e=ie(e);for(var i=-1,a=this.length;++i<a;)for(var o=this[i],c=-1,l=o.length;++c<l;)(r=o[c])&&(t.push(n=s(e.call(r,r.__data__,c,i))),n.parentNode=r);return q(t)};function ie(e){return typeof e==`function`?e:function(){return Y(e,this)}}var ae=`http://www.w3.org/1999/xhtml`,oe={svg:`http://www.w3.org/2000/svg`,xhtml:ae,xlink:`http://www.w3.org/1999/xlink`,xml:`http://www.w3.org/XML/1998/namespace`,xmlns:`http://www.w3.org/2000/xmlns/`};a.ns={prefix:oe,qualify:function(e){var t=e.indexOf(`:`),n=e;return t>=0&&(n=e.slice(0,t))!==`xmlns`&&(e=e.slice(t+1)),oe.hasOwnProperty(n)?{space:oe[n],local:e}:e}},ne.attr=function(e,t){if(arguments.length<2){if(typeof e==`string`){var n=this.node();return e=a.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(se(t,e[t]));return this}return this.each(se(e,t))};function se(e,t){e=a.ns.qualify(e);function n(){this.removeAttribute(e)}function r(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function o(){this.setAttributeNS(e.space,e.local,t)}function s(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}function c(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return t==null?e.local?r:n:typeof t==`function`?e.local?c:s:e.local?o:i}function ce(e){return e.trim().replace(/\s+/g,` `)}ne.classed=function(e,t){if(arguments.length<2){if(typeof e==`string`){var n=this.node(),r=(e=ue(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute(`class`);++i<r;)if(!le(e[i]).test(t))return!1;return!0}for(t in e)this.each(de(t,e[t]));return this}return this.each(de(e,t))};function le(e){return RegExp(`(?:^|\\s+)`+a.requote(e)+`(?:\\s+|$)`,`g`)}function ue(e){return(e+``).trim().split(/^|\s+/)}function de(e,t){e=ue(e).map(fe);var n=e.length;function r(){for(var r=-1;++r<n;)e[r](this,t)}function i(){for(var r=-1,i=t.apply(this,arguments);++r<n;)e[r](this,i)}return typeof t==`function`?i:r}function fe(e){var t=le(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute(`class`)||``;r?(t.lastIndex=0,t.test(i)||n.setAttribute(`class`,ce(i+` `+e))):n.setAttribute(`class`,ce(i.replace(t,` `)))}}ne.style=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!=`string`){for(n in r<2&&(t=``),e)this.each(pe(n,e[n],t));return this}if(r<2){var i=this.node();return u(i).getComputedStyle(i,null).getPropertyValue(e)}n=``}return this.each(pe(e,t,n))};function pe(e,t,n){function r(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function a(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}return t==null?r:typeof t==`function`?a:i}ne.property=function(e,t){if(arguments.length<2){if(typeof e==`string`)return this.node()[e];for(t in e)this.each(me(t,e[t]));return this}return this.each(me(e,t))};function me(e,t){function n(){delete this[e]}function r(){this[e]=t}function i(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}return t==null?n:typeof t==`function`?i:r}ne.text=function(e){return arguments.length?this.each(typeof e==`function`?function(){this.textContent=e.apply(this,arguments)??``}:e==null?function(){this.textContent=``}:function(){this.textContent=e}):this.node().textContent},ne.html=function(e){return arguments.length?this.each(typeof e==`function`?function(){this.innerHTML=e.apply(this,arguments)??``}:e==null?function(){this.innerHTML=``}:function(){this.innerHTML=e}):this.node().innerHTML},ne.append=function(e){return e=he(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})};function he(e){function t(){var t=this.ownerDocument,n=this.namespaceURI;return n===ae&&t.documentElement.namespaceURI===ae?t.createElement(e):t.createElementNS(n,e)}function n(){return this.ownerDocument.createElementNS(e.space,e.local)}return typeof e==`function`?e:(e=a.ns.qualify(e)).local?n:t}ne.insert=function(e,t){return e=he(e),t=re(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},ne.remove=function(){return this.each(ge)};function ge(){var e=this.parentNode;e&&e.removeChild(this)}ne.data=function(e,t){var n=-1,r=this.length,i,a;if(!arguments.length){for(e=Array(r=(i=this[0]).length);++n<r;)(a=i[n])&&(e[n]=a.__data__);return e}function o(e,n){var r,i=e.length,a=n.length,o=Math.min(i,a),u=Array(a),d=Array(a),f=Array(i),p,m;if(t){var h=new T,g=Array(i),_;for(r=-1;++r<i;)(p=e[r])&&(h.has(_=t.call(p,p.__data__,r))?f[r]=p:h.set(_,p),g[r]=_);for(r=-1;++r<a;)(p=h.get(_=t.call(n,m=n[r],r)))?p!==!0&&(u[r]=p,p.__data__=m):d[r]=_e(m),h.set(_,!0);for(r=-1;++r<i;)r in g&&h.get(g[r])!==!0&&(f[r]=e[r])}else{for(r=-1;++r<o;)p=e[r],m=n[r],p?(p.__data__=m,u[r]=p):d[r]=_e(m);for(;r<a;++r)d[r]=_e(n[r]);for(;r<i;++r)f[r]=e[r]}d.update=u,d.parentNode=u.parentNode=f.parentNode=e.parentNode,s.push(d),c.push(u),l.push(f)}var s=xe([]),c=q([]),l=q([]);if(typeof e==`function`)for(;++n<r;)o(i=this[n],e.call(i,i.parentNode.__data__,n));else for(;++n<r;)o(i=this[n],e);return c.enter=function(){return s},c.exit=function(){return l},c};function _e(e){return{__data__:e}}ne.datum=function(e){return arguments.length?this.property(`__data__`,e):this.property(`__data__`)},ne.filter=function(e){var t=[],n,r,i;typeof e!=`function`&&(e=ve(e));for(var a=0,o=this.length;a<o;a++){t.push(n=[]),n.parentNode=(r=this[a]).parentNode;for(var s=0,c=r.length;s<c;s++)(i=r[s])&&e.call(i,i.__data__,s,a)&&n.push(i)}return q(t)};function ve(e){return function(){return te(this,e)}}ne.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n=this[e],r=n.length-1,i=n[r],a;--r>=0;)(a=n[r])&&(i&&i!==a.nextSibling&&i.parentNode.insertBefore(a,i),i=a);return this},ne.sort=function(e){e=ye.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()};function ye(e){return arguments.length||(e=g),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}ne.each=function(e){return be(this,function(t,n,r){e.call(t,t.__data__,n,r)})};function be(e,t){for(var n=0,r=e.length;n<r;n++)for(var i=e[n],a=0,o=i.length,s;a<o;a++)(s=i[a])&&t(s,a,n);return e}ne.call=function(e){var t=s(arguments);return e.apply(t[0]=this,t),this},ne.empty=function(){return!this.node()},ne.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},ne.size=function(){var e=0;return be(this,function(){++e}),e};function xe(e){return ee(e,Se),e}var Se=[];a.selection.enter=xe,a.selection.enter.prototype=Se,Se.append=ne.append,Se.empty=ne.empty,Se.node=ne.node,Se.call=ne.call,Se.size=ne.size,Se.select=function(e){for(var t=[],n,r,i,a,o,s=-1,c=this.length;++s<c;){i=(a=this[s]).update,t.push(n=[]),n.parentNode=a.parentNode;for(var l=-1,u=a.length;++l<u;)(o=a[l])?(n.push(i[l]=r=e.call(a.parentNode,o.__data__,l,s)),r.__data__=o.__data__):n.push(null)}return q(t)},Se.insert=function(e,t){return arguments.length<2&&(t=Ce(this)),ne.insert.call(this,e,t)};function Ce(e){var t,n;return function(r,i,a){var o=e[a].update,s=o.length,c;for(a!=n&&(n=a,t=0),i>=t&&(t=i+1);!(c=o[t])&&++t<s;);return c}}a.select=function(e){var t;return typeof e==`string`?(t=[J(e,c)],t.parentNode=c.documentElement):(t=[e],t.parentNode=l(e)),q([t])},a.selectAll=function(e){var t;return typeof e==`string`?(t=s(Y(e,c)),t.parentNode=c.documentElement):(t=s(e),t.parentNode=null),q([t])},ne.on=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!=`string`){for(n in r<2&&(t=!1),e)this.each(we(n,e[n],t));return this}if(r<2)return(r=this.node()[`__on`+e])&&r._;n=!1}return this.each(we(e,t,n))};function we(e,t,n){var r=`__on`+e,i=e.indexOf(`.`),o=Ee;i>0&&(e=e.slice(0,i));var c=Te.get(e);c&&(e=c,o=X);function l(){var t=this[r];t&&(this.removeEventListener(e,t,t.$),delete this[r])}function u(){var i=o(t,s(arguments));l.call(this),this.addEventListener(e,this[r]=i,i.$=n),i._=t}function d(){var t=RegExp(`^__on([^.]+)`+a.requote(e)+`$`),n;for(var r in this)if(n=r.match(t)){var i=this[r];this.removeEventListener(n[1],i,i.$),delete this[r]}}return i?t?u:l:t?B:d}var Te=a.map({mouseenter:`mouseover`,mouseleave:`mouseout`});c&&Te.forEach(function(e){`on`+e in c&&Te.remove(e)});function Ee(e,t){return function(n){var r=a.event;a.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{a.event=r}}}function X(e,t){var n=Ee(e,t);return function(e){var t=this,r=e.relatedTarget;(!r||r!==t&&!(r.compareDocumentPosition(t)&8))&&n.call(t,e)}}var Z,De=0;function Q(e){var t=`.dragsuppress-`+ ++De,n=`click`+t,r=a.select(u(e)).on(`touchmove`+t,U).on(`dragstart`+t,U).on(`selectstart`+t,U);if(Z??=`onselectstart`in e?!1:R(e.style,`userSelect`),Z){var i=l(e).style,o=i[Z];i[Z]=`none`}return function(e){if(r.on(t,null),Z&&(i[Z]=o),e){var a=function(){r.on(n,null)};r.on(n,function(){U(),a()},!0),setTimeout(a,0)}}}a.mouse=function(e){return ke(e,W())};var Oe=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function ke(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(Oe<0){var i=u(e);if(i.scrollX||i.scrollY){n=a.select(`body`).append(`svg`).style({position:`absolute`,top:0,left:0,margin:0,padding:0,border:`none`},`important`);var o=n[0][0].getScreenCTM();Oe=!(o.f||o.e),n.remove()}}return Oe?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}a.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=W().changedTouches),t){for(var r=0,i=t.length,a;r<i;++r)if((a=t[r]).identifier===n)return ke(e,a)}},a.behavior.drag=function(){var e=G(i,`drag`,`dragstart`,`dragend`),t=null,n=o(B,a.mouse,u,`mousemove`,`mouseup`),r=o(Ae,a.touch,I,`touchmove`,`touchend`);function i(){this.on(`mousedown.drag`,n).on(`touchstart.drag`,r)}function o(n,r,i,o,s){return function(){var c=this,l=a.event.target.correspondingElement||a.event.target,u=c.parentNode,d=e.of(c,arguments),f=0,p=n(),m=`.drag`+(p==null?``:`-`+p),h,g=a.select(i(l)).on(o+m,y).on(s+m,b),_=Q(l),v=r(u,p);t?(h=t.apply(c,arguments),h=[h.x-v[0],h.y-v[1]]):h=[0,0],d({type:`dragstart`});function y(){var e=r(u,p),t,n;e&&(t=e[0]-v[0],n=e[1]-v[1],f|=t|n,v=e,d({type:`drag`,x:e[0]+h[0],y:e[1]+h[1],dx:t,dy:n}))}function b(){r(u,p)&&(g.on(o+m,null).on(s+m,null),_(f),d({type:`dragend`}))}}}return i.origin=function(e){return arguments.length?(t=e,i):t},a.rebind(i,e,`on`)};function Ae(){return a.event.changedTouches[0].identifier}a.touches=function(e,t){return arguments.length<2&&(t=W().touches),t?s(t).map(function(t){var n=ke(e,t);return n.identifier=t.identifier,n}):[]};var je=1e-6,Me=je*je,Ne=Math.PI,Pe=2*Ne,Fe=Pe-je,Ie=Ne/2,Le=Ne/180,Re=180/Ne;function ze(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Be(e){return e>1?Ie:e<-1?-Ie:Math.asin(e)}function Ve(e){return((e=Math.exp(e))-1/e)/2}function He(e){return((e=Math.exp(e))+1/e)/2}function Ue(e){return((e=Math.exp(2*e))-1)/(e+1)}var We=Math.SQRT2,Ge=2,Ke=4;a.interpolateZoom=function(e,t){var n=e[0],r=e[1],i=e[2],a=t[0],o=t[1],s=t[2],c=a-n,l=o-r,u=c*c+l*l,d,f;if(u<Me)f=Math.log(s/i)/We,d=function(e){return[n+e*c,r+e*l,i*Math.exp(We*e*f)]};else{var p=Math.sqrt(u),m=(s*s-i*i+Ke*u)/(2*i*Ge*p),h=(s*s-i*i-Ke*u)/(2*s*Ge*p),g=Math.log(Math.sqrt(m*m+1)-m);f=(Math.log(Math.sqrt(h*h+1)-h)-g)/We,d=function(e){var t=e*f,a=He(g),o=i/(Ge*p)*(a*Ue(We*t+g)-Ve(g));return[n+o*c,r+o*l,i*a/He(We*t+g)]}}return d.duration=f*1e3,d},a.behavior.zoom=function(){var e={x:0,y:0,k:1},t,n,r,i=[960,500],o=qe,s=250,l=0,d=`mousedown.zoom`,f=`mousemove.zoom`,p=`mouseup.zoom`,m,h=`touchstart.zoom`,g,_=G(S,`zoomstart`,`zoom`,`zoomend`),v,y,b,x;Ye||=`onwheel`in c?(Je=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},`wheel`):`onmousewheel`in c?(Je=function(){return a.event.wheelDelta},`mousewheel`):(Je=function(){return-a.event.detail},`MozMousePixelScroll`);function S(e){e.on(d,M).on(Ye+`.zoom`,P).on(`dblclick.zoom`,F).on(h,N)}S.event=function(t){t.each(function(){var t=_.of(this,arguments),r=e;Ga?a.select(this).transition().each(`start.zoom`,function(){e=this.__chart__||{x:0,y:0,k:1},k(t)}).tween(`zoom:zoom`,function(){var o=i[0],s=i[1],c=n?n[0]:o/2,l=n?n[1]:s/2,u=a.interpolateZoom([(c-e.x)/e.k,(l-e.y)/e.k,o/e.k],[(c-r.x)/r.k,(l-r.y)/r.k,o/r.k]);return function(n){var r=u(n),i=o/r[2];this.__chart__=e={x:c-r[0]*i,y:l-r[1]*i,k:i},A(t)}}).each(`interrupt.zoom`,function(){j(t)}).each(`end.zoom`,function(){j(t)}):(this.__chart__=e,k(t),A(t),j(t))})},S.translate=function(t){return arguments.length?(e={x:+t[0],y:+t[1],k:e.k},O(),S):[e.x,e.y]},S.scale=function(t){return arguments.length?(e={x:e.x,y:e.y,k:null},T(+t),O(),S):e.k},S.scaleExtent=function(e){return arguments.length?(o=e==null?qe:[+e[0],+e[1]],S):o},S.center=function(e){return arguments.length?(r=e&&[+e[0],+e[1]],S):r},S.size=function(e){return arguments.length?(i=e&&[+e[0],+e[1]],S):i},S.duration=function(e){return arguments.length?(s=+e,S):s},S.x=function(t){return arguments.length?(y=t,v=t.copy(),e={x:0,y:0,k:1},S):y},S.y=function(t){return arguments.length?(x=t,b=t.copy(),e={x:0,y:0,k:1},S):x};function C(t){return[(t[0]-e.x)/e.k,(t[1]-e.y)/e.k]}function w(t){return[t[0]*e.k+e.x,t[1]*e.k+e.y]}function T(t){e.k=Math.max(o[0],Math.min(o[1],t))}function E(t,n){n=w(n),e.x+=t[0]-n[0],e.y+=t[1]-n[1]}function D(t,r,i,o){t.__chart__={x:e.x,y:e.y,k:e.k},T(2**o),E(n=r,i),t=a.select(t),s>0&&(t=t.transition().duration(s)),t.call(S.event)}function O(){y&&y.domain(v.range().map(function(t){return(t-e.x)/e.k}).map(v.invert)),x&&x.domain(b.range().map(function(t){return(t-e.y)/e.k}).map(b.invert))}function k(e){l++||e({type:`zoomstart`})}function A(t){O(),t({type:`zoom`,scale:e.k,translate:[e.x,e.y]})}function j(e){--l||(e({type:`zoomend`}),n=null)}function M(){var e=this,t=_.of(e,arguments),n=0,r=a.select(u(e)).on(f,s).on(p,c),i=C(a.mouse(e)),o=Q(e);Ba.call(e),k(t);function s(){n=1,E(a.mouse(e),i),A(t)}function c(){r.on(f,null).on(p,null),o(n),j(t)}}function N(){var t=this,n=_.of(t,arguments),r={},i=0,o,s=`.zoom-`+a.event.changedTouches[0].identifier,c=`touchmove`+s,l=`touchend`+s,u=[],f=a.select(t),p=Q(t);v(),k(n),f.on(d,null).on(h,v);function m(){var n=a.touches(t);return o=e.k,n.forEach(function(e){e.identifier in r&&(r[e.identifier]=C(e))}),n}function v(){var n=a.event.target;a.select(n).on(c,y).on(l,b),u.push(n);for(var o=a.event.changedTouches,s=0,d=o.length;s<d;++s)r[o[s].identifier]=null;var f=m(),p=Date.now();if(f.length===1){if(p-g<500){var h=f[0];D(t,h,r[h.identifier],Math.floor(Math.log(e.k)/Math.LN2)+1),U()}g=p}else if(f.length>1){var h=f[0],_=f[1],v=h[0]-_[0],x=h[1]-_[1];i=v*v+x*x}}function y(){var e=a.touches(t),s,c,l,u;Ba.call(t);for(var d=0,f=e.length;d<f;++d,u=null)if(l=e[d],u=r[l.identifier]){if(c)break;s=l,c=u}if(u){var p=(p=l[0]-s[0])*p+(p=l[1]-s[1])*p,m=i&&Math.sqrt(p/i);s=[(s[0]+l[0])/2,(s[1]+l[1])/2],c=[(c[0]+u[0])/2,(c[1]+u[1])/2],T(m*o)}g=null,E(s,c),A(n)}function b(){if(a.event.touches.length){for(var e=a.event.changedTouches,t=0,i=e.length;t<i;++t)delete r[e[t].identifier];for(var o in r){m();return}}a.selectAll(u).on(s,null),f.on(d,M).on(h,N),p(),j(n)}}function P(){var i=_.of(this,arguments);m?clearTimeout(m):(Ba.call(this),t=C(n=r||a.mouse(this)),k(i)),m=setTimeout(function(){m=null,j(i)},50),U(),T(2**(Je()*.002)*e.k),E(n,t),A(i)}function F(){var t=a.mouse(this),n=Math.log(e.k)/Math.LN2;D(this,t,C(t),a.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return a.rebind(S,_,`on`)};var qe=[0,1/0],Je,Ye;a.color=Xe;function Xe(){}Xe.prototype.toString=function(){return this.rgb()+``},a.hsl=Ze;function Ze(e,t,n){return this instanceof Ze?void(this.h=+e,this.s=+t,this.l=+n):arguments.length<2?e instanceof Ze?new Ze(e.h,e.s,e.l):yt(``+e,bt,Ze):new Ze(e,t,n)}var Qe=Ze.prototype=new Xe;Qe.brighter=function(e){return e=.7**(arguments.length?e:1),new Ze(this.h,this.s,this.l/e)},Qe.darker=function(e){return e=.7**(arguments.length?e:1),new Ze(this.h,this.s,e*this.l)},Qe.rgb=function(){return $e(this.h,this.s,this.l)};function $e(e,t,n){var r,i;e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)||t<0?0:t>1?1:t,n=n<0?0:n>1?1:n,i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;function a(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}function o(e){return Math.round(a(e)*255)}return new mt(o(e+120),o(e),o(e-120))}a.hcl=et;function et(e,t,n){return this instanceof et?void(this.h=+e,this.c=+t,this.l=+n):arguments.length<2?e instanceof et?new et(e.h,e.c,e.l):e instanceof rt?ut(e.l,e.a,e.b):ut((e=xt((e=a.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new et(e,t,n)}var tt=et.prototype=new Xe;tt.brighter=function(e){return new et(this.h,this.c,Math.min(100,this.l+it*(arguments.length?e:1)))},tt.darker=function(e){return new et(this.h,this.c,Math.max(0,this.l-it*(arguments.length?e:1)))},tt.rgb=function(){return nt(this.h,this.c,this.l).rgb()};function nt(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new rt(n,Math.cos(e*=Le)*t,Math.sin(e)*t)}a.lab=rt;function rt(e,t,n){return this instanceof rt?void(this.l=+e,this.a=+t,this.b=+n):arguments.length<2?e instanceof rt?new rt(e.l,e.a,e.b):e instanceof et?nt(e.h,e.c,e.l):xt((e=mt(e)).r,e.g,e.b):new rt(e,t,n)}var it=18,at=.95047,ot=1,st=1.08883,ct=rt.prototype=new Xe;ct.brighter=function(e){return new rt(Math.min(100,this.l+it*(arguments.length?e:1)),this.a,this.b)},ct.darker=function(e){return new rt(Math.max(0,this.l-it*(arguments.length?e:1)),this.a,this.b)},ct.rgb=function(){return lt(this.l,this.a,this.b)};function lt(e,t,n){var r=(e+16)/116,i=r+t/500,a=r-n/200;return i=dt(i)*at,r=dt(r)*ot,a=dt(a)*st,new mt(pt(3.2404542*i-1.5371385*r-.4985314*a),pt(-.969266*i+1.8760108*r+.041556*a),pt(.0556434*i-.2040259*r+1.0572252*a))}function ut(e,t,n){return e>0?new et(Math.atan2(n,t)*Re,Math.sqrt(t*t+n*n),e):new et(NaN,NaN,e)}function dt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ft(e){return e>.008856?e**(1/3):7.787037*e+4/29}function pt(e){return Math.round(255*(e<=.00304?12.92*e:1.055*e**(1/2.4)-.055))}a.rgb=mt;function mt(e,t,n){return this instanceof mt?void(this.r=~~e,this.g=~~t,this.b=~~n):arguments.length<2?e instanceof mt?new mt(e.r,e.g,e.b):yt(``+e,mt,$e):new mt(e,t,n)}function ht(e){return new mt(e>>16,e>>8&255,e&255)}function gt(e){return ht(e)+``}var _t=mt.prototype=new Xe;_t.brighter=function(e){e=.7**(arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return!t&&!n&&!r?new mt(i,i,i):(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new mt(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e)))},_t.darker=function(e){return e=.7**(arguments.length?e:1),new mt(e*this.r,e*this.g,e*this.b)},_t.hsl=function(){return bt(this.r,this.g,this.b)},_t.toString=function(){return`#`+vt(this.r)+vt(this.g)+vt(this.b)};function vt(e){return e<16?`0`+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function yt(e,t,n){var r=0,i=0,a=0,o=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()),s,c;if(o)switch(s=o[2].split(`,`),o[1]){case`hsl`:return n(parseFloat(s[0]),parseFloat(s[1])/100,parseFloat(s[2])/100);case`rgb`:return t(Ct(s[0]),Ct(s[1]),Ct(s[2]))}return(c=wt.get(e))?t(c.r,c.g,c.b):(e!=null&&e.charAt(0)===`#`&&!isNaN(c=parseInt(e.slice(1),16))&&(e.length===4?(r=(c&3840)>>4,r=r>>4|r,i=c&240,i=i>>4|i,a=c&15,a=a<<4|a):e.length===7&&(r=(c&16711680)>>16,i=(c&65280)>>8,a=c&255)),t(r,i,a))}function bt(e,t,n){var r=Math.min(e/=255,t/=255,n/=255),i=Math.max(e,t,n),a=i-r,o,s,c=(i+r)/2;return a?(s=c<.5?a/(i+r):a/(2-i-r),o=e==i?(t-n)/a+(t<n?6:0):t==i?(n-e)/a+2:(e-t)/a+4,o*=60):(o=NaN,s=c>0&&c<1?0:o),new Ze(o,s,c)}function xt(e,t,n){e=St(e),t=St(t),n=St(n);var r=ft((.4124564*e+.3575761*t+.1804375*n)/at),i=ft((.2126729*e+.7151522*t+.072175*n)/ot),a=ft((.0193339*e+.119192*t+.9503041*n)/st);return rt(116*i-16,500*(r-i),200*(i-a))}function St(e){return(e/=255)<=.04045?e/12.92:((e+.055)/1.055)**2.4}function Ct(e){var t=parseFloat(e);return e.charAt(e.length-1)===`%`?Math.round(t*2.55):t}var wt=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});wt.forEach(function(e,t){wt.set(e,ht(t))});function Tt(e){return typeof e==`function`?e:function(){return e}}a.functor=Tt,a.xhr=Et(I);function Et(e){return function(t,n,r){return arguments.length===2&&typeof n==`function`&&(r=n,n=null),Dt(t,n,e,r)}}function Dt(e,t,n,r){var i={},o=a.dispatch(`beforesend`,`progress`,`load`,`error`),c={},l=new XMLHttpRequest,u=null;self.XDomainRequest&&!(`withCredentials`in l)&&/^(http(s)?:)?\/\//.test(e)&&(l=new XDomainRequest),`onload`in l?l.onload=l.onerror=d:l.onreadystatechange=function(){l.readyState>3&&d()};function d(){var e=l.status,t;if(!e&&kt(l)||e>=200&&e<300||e===304){try{t=n.call(i,l)}catch(e){o.error.call(i,e);return}o.load.call(i,t)}else o.error.call(i,l)}return l.onprogress=function(e){var t=a.event;a.event=e;try{o.progress.call(i,l)}finally{a.event=t}},i.header=function(e,t){return e=(e+``).toLowerCase(),arguments.length<2?c[e]:(t==null?delete c[e]:c[e]=t+``,i)},i.mimeType=function(e){return arguments.length?(t=e==null?null:e+``,i):t},i.responseType=function(e){return arguments.length?(u=e,i):u},i.response=function(e){return n=e,i},[`get`,`post`].forEach(function(e){i[e]=function(){return i.send.apply(i,[e].concat(s(arguments)))}}),i.send=function(n,r,a){if(arguments.length===2&&typeof r==`function`&&(a=r,r=null),l.open(n,e,!0),t!=null&&!(`accept`in c)&&(c.accept=t+`,*/*`),l.setRequestHeader)for(var s in c)l.setRequestHeader(s,c[s]);return t!=null&&l.overrideMimeType&&l.overrideMimeType(t),u!=null&&(l.responseType=u),a!=null&&i.on(`error`,a).on(`load`,function(e){a(null,e)}),o.beforesend.call(i,l),l.send(r??null),i},i.abort=function(){return l.abort(),i},a.rebind(i,o,`on`),r==null?i:i.get(Ot(r))}function Ot(e){return e.length===1?function(t,n){e(t==null?n:null)}:e}function kt(e){var t=e.responseType;return t&&t!==`text`?e.response:e.responseText}a.dsv=function(e,t){var n=RegExp(`["`+e+`
]`),r=e.charCodeAt(0);function i(e,n,r){arguments.length<3&&(r=n,n=null);var i=Dt(e,t,n==null?a:o(n),r);return i.row=function(e){return arguments.length?i.response((n=e)==null?a:o(e)):n},i}function a(e){return i.parse(e.responseText)}function o(e){return function(t){return i.parse(t.responseText,e)}}i.parse=function(e,t){var n;return i.parseRows(e,function(e,r){if(n)return n(e,r-1);var i=function(t){for(var n={},r=e.length,i=0;i<r;++i)n[e[i]]=t[i];return n};n=t?function(e,n){return t(i(e),n)}:i})},i.parseRows=function(e,t){var n={},i={},a=[],o=e.length,s=0,c=0,l,u;function d(){if(s>=o)return i;if(u)return u=!1,n;var t=s;if(e.charCodeAt(t)===34){for(var a=t;a++<o;)if(e.charCodeAt(a)===34){if(e.charCodeAt(a+1)!==34)break;++a}s=a+2;var c=e.charCodeAt(a+1);return c===13?(u=!0,e.charCodeAt(a+2)===10&&++s):c===10&&(u=!0),e.slice(t+1,a).replace(/""/g,`"`)}for(;s<o;){var c=e.charCodeAt(s++),l=1;if(c===10)u=!0;else if(c===13)u=!0,e.charCodeAt(s)===10&&(++s,++l);else if(c!==r)continue;return e.slice(t,s-l)}return e.slice(t)}for(;(l=d())!==i;){for(var f=[];l!==n&&l!==i;)f.push(l),l=d();t&&(f=t(f,c++))==null||a.push(f)}return a},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var n=new F,r=[];return t.forEach(function(e){for(var t in e)n.has(t)||r.push(n.add(t))}),[r.map(c).join(e)].concat(t.map(function(t){return r.map(function(e){return c(t[e])}).join(e)})).join(`
`)},i.formatRows=function(e){return e.map(s).join(`
`)};function s(t){return t.map(c).join(e)}function c(e){return n.test(e)?`"`+e.replace(/\"/g,`""`)+`"`:e}return i},a.csv=a.dsv(`,`,`text/csv`),a.tsv=a.dsv(`	`,`text/tab-separated-values`);var At,jt,Mt,Nt,Pt=this[R(this,`requestAnimationFrame`)]||function(e){setTimeout(e,17)};a.timer=function(){Ft.apply(this,arguments)};function Ft(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i={c:e,t:n+t,n:null};return jt?jt.n=i:At=i,jt=i,Mt||(Nt=clearTimeout(Nt),Mt=1,Pt(It)),i}function It(){var e=Lt(),t=Rt()-e;t>24?(isFinite(t)&&(clearTimeout(Nt),Nt=setTimeout(It,t)),Mt=0):(Mt=1,Pt(It))}a.timer.flush=function(){Lt(),Rt()};function Lt(){for(var e=Date.now(),t=At;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Rt(){for(var e,t=At,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:At=t.n;return jt=e,n}a.round=function(e,t){return t?Math.round(e*(t=10**t))/t:Math.round(e)},a.geom={};function zt(e){return e[0]}function Bt(e){return e[1]}a.geom.hull=function(e){var t=zt,n=Bt;if(arguments.length)return r(e);function r(e){if(e.length<3)return[];var r=Tt(t),i=Tt(n),a,o=e.length,s=[],c=[];for(a=0;a<o;a++)s.push([+r.call(this,e[a],a),+i.call(this,e[a],a),a]);for(s.sort(Ht),a=0;a<o;a++)c.push([s[a][0],-s[a][1]]);var l=Vt(s),u=Vt(c),d=u[0]===l[0],f=u[u.length-1]===l[l.length-1],p=[];for(a=l.length-1;a>=0;--a)p.push(e[s[l[a]][2]]);for(a=+d;a<u.length-f;++a)p.push(e[s[u[a]][2]]);return p}return r.x=function(e){return arguments.length?(t=e,r):t},r.y=function(e){return arguments.length?(n=e,r):n},r};function Vt(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;i++){for(;r>1&&ze(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Ht(e,t){return e[0]-t[0]||e[1]-t[1]}a.geom.polygon=function(e){return ee(e,Ut),e};var Ut=a.geom.polygon.prototype=[];Ut.area=function(){for(var e=-1,t=this.length,n,r=this[t-1],i=0;++e<t;)n=r,r=this[e],i+=n[1]*r[0]-n[0]*r[1];return i*.5},Ut.centroid=function(e){var t=-1,n=this.length,r=0,i=0,a,o=this[n-1],s;for(arguments.length||(e=-1/(6*this.area()));++t<n;)a=o,o=this[t],s=a[0]*o[1]-o[0]*a[1],r+=(a[0]+o[0])*s,i+=(a[1]+o[1])*s;return[r*e,i*e]},Ut.clip=function(e){for(var t,n=Kt(e),r=-1,i=this.length-Kt(this),a,o,s=this[i-1],c,l,u;++r<i;){for(t=e.slice(),e.length=0,c=this[r],l=t[(o=t.length-n)-1],a=-1;++a<o;)u=t[a],Wt(u,s,c)?(Wt(l,s,c)||e.push(Gt(l,u,s,c)),e.push(u)):Wt(l,s,c)&&e.push(Gt(l,u,s,c)),l=u;n&&e.push(e[0]),s=c}return e};function Wt(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Gt(e,t,n,r){var i=e[0],a=n[0],o=t[0]-i,s=r[0]-a,c=e[1],l=n[1],u=t[1]-c,d=r[1]-l,f=(s*(c-l)-d*(i-a))/(d*o-s*u);return[i+f*o,c+f*u]}function Kt(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}var qt,Jt,Yt,Xt=[],Zt,Qt,$t=[];function en(){Cn(this),this.edge=this.site=this.circle=null}function tn(e){var t=Xt.pop()||new en;return t.site=e,t}function nn(e){pn(e),Yt.remove(e),Xt.push(e),Cn(e)}function rn(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},a=e.P,o=e.N,s=[e];nn(e);for(var c=a;c.circle&&S(n-c.circle.x)<je&&S(r-c.circle.cy)<je;)a=c.P,s.unshift(c),nn(c),c=a;s.unshift(c),pn(c);for(var l=o;l.circle&&S(n-l.circle.x)<je&&S(r-l.circle.cy)<je;)o=l.N,s.push(l),nn(l),l=o;s.push(l),pn(l);var u=s.length,d;for(d=1;d<u;++d)l=s[d],c=s[d-1],bn(l.edge,c.site,l.site,i);c=s[0],l=s[u-1],l.edge=vn(c.site,l.site,null,i),fn(c),fn(l)}function an(e){for(var t=e.x,n=e.y,r,i,a,o,s=Yt._;s;)if(a=on(s,n)-t,a>je)s=s.L;else if(o=t-sn(s,n),o>je){if(!s.R){r=s;break}s=s.R}else{a>-je?(r=s.P,i=s):o>-je?(r=s,i=s.N):r=i=s;break}var c=tn(e);if(Yt.insert(r,c),!(!r&&!i)){if(r===i){pn(r),i=tn(r.site),Yt.insert(c,i),c.edge=i.edge=vn(r.site,c.site),fn(r),fn(i);return}if(!i){c.edge=vn(r.site,c.site);return}pn(r),pn(i);var l=r.site,u=l.x,d=l.y,f=e.x-u,p=e.y-d,m=i.site,h=m.x-u,g=m.y-d,_=2*(f*g-p*h),v=f*f+p*p,y=h*h+g*g,b={x:(g*v-p*y)/_+u,y:(f*y-h*v)/_+d};bn(i.edge,l,m,b),c.edge=vn(l,e,null,b),i.edge=vn(e,m,null,b),fn(r),fn(i)}}function on(e,t){var n=e.site,r=n.x,i=n.y,a=i-t;if(!a)return r;var o=e.P;if(!o)return-1/0;n=o.site;var s=n.x,c=n.y,l=c-t;if(!l)return s;var u=s-r,d=1/a-1/l,f=u/l;return d?(-f+Math.sqrt(f*f-2*d*(u*u/(-2*l)-c+l/2+i-a/2)))/d+r:(r+s)/2}function sn(e,t){var n=e.N;if(n)return on(n,t);var r=e.site;return r.y===t?r.x:1/0}function cn(e){this.site=e,this.edges=[]}cn.prototype.prepare=function(){for(var e=this.edges,t=e.length,n;t--;)n=e[t].edge,(!n.b||!n.a)&&e.splice(t,1);return e.sort(un),e.length};function ln(e){for(var t=e[0][0],n=e[1][0],r=e[0][1],i=e[1][1],a,o,s,c,l=Jt,u=l.length,d,f,p,m,h,g;u--;)if(d=l[u],!(!d||!d.prepare()))for(p=d.edges,m=p.length,f=0;f<m;)g=p[f].end(),s=g.x,c=g.y,h=p[++f%m].start(),a=h.x,o=h.y,(S(s-a)>je||S(c-o)>je)&&(p.splice(f,0,new xn(yn(d.site,g,S(s-t)<je&&i-c>je?{x:t,y:S(a-t)<je?o:i}:S(c-i)<je&&n-s>je?{x:S(o-i)<je?a:n,y:i}:S(s-n)<je&&c-r>je?{x:n,y:S(a-n)<je?o:r}:S(c-r)<je&&s-t>je?{x:S(o-r)<je?a:t,y:r}:null),d.site,null)),++m)}function un(e,t){return t.angle-e.angle}function dn(){Cn(this),this.x=this.y=this.arc=this.site=this.cy=null}function fn(e){var t=e.P,n=e.N;if(!(!t||!n)){var r=t.site,i=e.site,a=n.site;if(r!==a){var o=i.x,s=i.y,c=r.x-o,l=r.y-s,u=a.x-o,d=a.y-s,f=2*(c*d-l*u);if(!(f>=-Me)){var p=c*c+l*l,m=u*u+d*d,h=(d*p-l*m)/f,g=(c*m-u*p)/f,d=g+s,_=$t.pop()||new dn;_.arc=e,_.site=i,_.x=h+o,_.y=d+Math.sqrt(h*h+g*g),_.cy=d,e.circle=_;for(var v=null,y=Qt._;y;)if(_.y<y.y||_.y===y.y&&_.x<=y.x)if(y.L)y=y.L;else{v=y.P;break}else if(y.R)y=y.R;else{v=y;break}Qt.insert(v,_),v||(Zt=_)}}}}function pn(e){var t=e.circle;t&&(t.P||(Zt=t.N),Qt.remove(t),$t.push(t),Cn(t),e.circle=null)}function mn(e,t,n,r){return function(i){var a=i.a,o=i.b,s=a.x,c=a.y,l=o.x,u=o.y,d=0,f=1,p=l-s,m=u-c,h=e-s;if(!(!p&&h>0)){if(h/=p,p<0){if(h<d)return;h<f&&(f=h)}else if(p>0){if(h>f)return;h>d&&(d=h)}if(h=n-s,!(!p&&h<0)){if(h/=p,p<0){if(h>f)return;h>d&&(d=h)}else if(p>0){if(h<d)return;h<f&&(f=h)}if(h=t-c,!(!m&&h>0)){if(h/=m,m<0){if(h<d)return;h<f&&(f=h)}else if(m>0){if(h>f)return;h>d&&(d=h)}if(h=r-c,!(!m&&h<0)){if(h/=m,m<0){if(h>f)return;h>d&&(d=h)}else if(m>0){if(h<d)return;h<f&&(f=h)}return d>0&&(i.a={x:s+d*p,y:c+d*m}),f<1&&(i.b={x:s+f*p,y:c+f*m}),i}}}}}}function hn(e){for(var t=qt,n=mn(e[0][0],e[0][1],e[1][0],e[1][1]),r=t.length,i;r--;)i=t[r],(!gn(i,e)||!n(i)||S(i.a.x-i.b.x)<je&&S(i.a.y-i.b.y)<je)&&(i.a=i.b=null,t.splice(r,1))}function gn(e,t){var n=e.b;if(n)return!0;var r=e.a,i=t[0][0],a=t[1][0],o=t[0][1],s=t[1][1],c=e.l,l=e.r,u=c.x,d=c.y,f=l.x,p=l.y,m=(u+f)/2,h=(d+p)/2,g,_;if(p===d){if(m<i||m>=a)return;if(u>f){if(!r)r={x:m,y:o};else if(r.y>=s)return;n={x:m,y:s}}else{if(!r)r={x:m,y:s};else if(r.y<o)return;n={x:m,y:o}}}else if(g=(u-f)/(p-d),_=h-g*m,g<-1||g>1)if(u>f){if(!r)r={x:(o-_)/g,y:o};else if(r.y>=s)return;n={x:(s-_)/g,y:s}}else{if(!r)r={x:(s-_)/g,y:s};else if(r.y<o)return;n={x:(o-_)/g,y:o}}else if(d<p){if(!r)r={x:i,y:g*i+_};else if(r.x>=a)return;n={x:a,y:g*a+_}}else{if(!r)r={x:a,y:g*a+_};else if(r.x<i)return;n={x:i,y:g*i+_}}return e.a=r,e.b=n,!0}function _n(e,t){this.l=e,this.r=t,this.a=this.b=null}function vn(e,t,n,r){var i=new _n(e,t);return qt.push(i),n&&bn(i,e,t,n),r&&bn(i,t,e,r),Jt[e.i].edges.push(new xn(i,e,t)),Jt[t.i].edges.push(new xn(i,t,e)),i}function yn(e,t,n){var r=new _n(e,null);return r.a=t,r.b=n,qt.push(r),r}function bn(e,t,n,r){!e.a&&!e.b?(e.a=r,e.l=t,e.r=n):e.l===n?e.b=r:e.a=r}function xn(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}xn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Sn(){this._=null}function Cn(e){e.U=e.C=e.L=e.R=e.P=e.N=null}Sn.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=En(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(wn(this,n),e=n,n=e.U),n.C=!1,r.C=!0,Tn(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(Tn(this,n),e=n,n=e.U),n.C=!1,r.C=!0,wn(this,r))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t=e.U,n,r=e.L,i=e.R,a=r?i?En(i):r:i,o;if(t?t.L===e?t.L=a:t.R=a:this._=a,r&&i?(o=a.C,a.C=e.C,a.L=r,r.U=a,a===i?(a.U=t,t=a,e=a.R):(t=a.U,a.U=e.U,e=a.R,t.L=e,a.R=i,i.U=a)):(o=e.C,e=a),e&&(e.U=t),!o){if(e&&e.C){e.C=!1;return}do{if(e===this._)break;if(e===t.L){if(n=t.R,n.C&&(n.C=!1,t.C=!0,wn(this,t),n=t.R),n.L&&n.L.C||n.R&&n.R.C){(!n.R||!n.R.C)&&(n.L.C=!1,n.C=!0,Tn(this,n),n=t.R),n.C=t.C,t.C=n.R.C=!1,wn(this,t),e=this._;break}}else if(n=t.L,n.C&&(n.C=!1,t.C=!0,Tn(this,t),n=t.L),n.L&&n.L.C||n.R&&n.R.C){(!n.L||!n.L.C)&&(n.R.C=!1,n.C=!0,wn(this,n),n=t.L),n.C=t.C,t.C=n.L.C=!1,Tn(this,t),e=this._;break}n.C=!0,e=t,t=t.U}while(!e.C);e&&(e.C=!1)}}};function wn(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Tn(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function En(e){for(;e.L;)e=e.L;return e}function Dn(e,t){var n=e.sort(On).pop(),r,i,a;for(qt=[],Jt=Array(e.length),Yt=new Sn,Qt=new Sn;;)if(a=Zt,n&&(!a||n.y<a.y||n.y===a.y&&n.x<a.x))(n.x!==r||n.y!==i)&&(Jt[n.i]=new cn(n),an(n),r=n.x,i=n.y),n=e.pop();else if(a)rn(a.arc);else break;t&&(hn(t),ln(t));var o={cells:Jt,edges:qt};return Yt=Qt=qt=Jt=null,o}function On(e,t){return t.y-e.y||t.x-e.x}a.geom.voronoi=function(e){var t=zt,n=Bt,r=t,i=n,a=kn;if(e)return o(e);function o(e){var t=Array(e.length),n=a[0][0],r=a[0][1],i=a[1][0],o=a[1][1];return Dn(s(e),a).cells.forEach(function(a,s){var c=a.edges,l=a.site,u=t[s]=c.length?c.map(function(e){var t=e.start();return[t.x,t.y]}):l.x>=n&&l.x<=i&&l.y>=r&&l.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[];u.point=e[s]}),t}function s(e){return e.map(function(e,t){return{x:Math.round(r(e,t)/je)*je,y:Math.round(i(e,t)/je)*je,i:t}})}return o.links=function(e){return Dn(s(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},o.triangles=function(e){var t=[];return Dn(s(e)).cells.forEach(function(n,r){for(var i=n.site,a=n.edges.sort(un),o=-1,s=a.length,c,l=a[s-1].edge,u=l.l===i?l.r:l.l;++o<s;)c=u,l=a[o].edge,u=l.l===i?l.r:l.l,r<c.i&&r<u.i&&An(i,c,u)<0&&t.push([e[r],e[c.i],e[u.i]])}),t},o.x=function(e){return arguments.length?(r=Tt(t=e),o):t},o.y=function(e){return arguments.length?(i=Tt(n=e),o):n},o.clipExtent=function(e){return arguments.length?(a=e??kn,o):a===kn?null:a},o.size=function(e){return arguments.length?o.clipExtent(e&&[[0,0],e]):a===kn?null:a&&a[1]},o};var kn=[[-1e6,-1e6],[1e6,1e6]];function An(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}a.geom.delaunay=function(e){return a.geom.voronoi().triangles(e)},a.geom.quadtree=function(e,t,n,r,i){var a=zt,o=Bt,s;if(s=arguments.length)return a=jn,o=Mn,s===3&&(i=n,r=t,n=t=0),c(e);function c(e){var c,l=Tt(a),u=Tt(o),d,f,p,m,h,g,_,v;if(t!=null)h=t,g=n,_=r,v=i;else if(_=v=-(h=g=1/0),d=[],f=[],m=e.length,s)for(p=0;p<m;++p)c=e[p],c.x<h&&(h=c.x),c.y<g&&(g=c.y),c.x>_&&(_=c.x),c.y>v&&(v=c.y),d.push(c.x),f.push(c.y);else for(p=0;p<m;++p){var y=+l(c=e[p],p),b=+u(c,p);y<h&&(h=y),b<g&&(g=b),y>_&&(_=y),b>v&&(v=b),d.push(y),f.push(b)}var x=_-h,C=v-g;x>C?v=g+x:_=h+C;function w(e,t,n,r,i,a,o,s){if(!(isNaN(n)||isNaN(r)))if(e.leaf){var c=e.x,l=e.y;if(c!=null)if(S(c-n)+S(l-r)<.01)T(e,t,n,r,i,a,o,s);else{var u=e.point;e.x=e.y=e.point=null,T(e,u,c,l,i,a,o,s),T(e,t,n,r,i,a,o,s)}else e.x=n,e.y=r,e.point=t}else T(e,t,n,r,i,a,o,s)}function T(e,t,n,r,i,a,o,s){var c=(i+o)*.5,l=(a+s)*.5,u=n>=c,d=r>=l,f=d<<1|u;e.leaf=!1,e=e.nodes[f]||(e.nodes[f]=Nn()),u?i=c:o=c,d?a=l:s=l,w(e,t,n,r,i,a,o,s)}var E=Nn();if(E.add=function(e){w(E,e,+l(e,++p),+u(e,p),h,g,_,v)},E.visit=function(e){Pn(e,E,h,g,_,v)},E.find=function(e){return Fn(E,e[0],e[1],h,g,_,v)},p=-1,t==null){for(;++p<m;)w(E,e[p],d[p],f[p],h,g,_,v);--p}else e.forEach(E.add);return d=f=e=c=null,E}return c.x=function(e){return arguments.length?(a=e,c):a},c.y=function(e){return arguments.length?(o=e,c):o},c.extent=function(e){return arguments.length?(e==null?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),c):t==null?null:[[t,n],[r,i]]},c.size=function(e){return arguments.length?(e==null?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),c):t==null?null:[r-t,i-n]},c};function jn(e){return e.x}function Mn(e){return e.y}function Nn(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Pn(e,t,n,r,i,a){if(!e(t,n,r,i,a)){var o=(n+i)*.5,s=(r+a)*.5,c=t.nodes;c[0]&&Pn(e,c[0],n,r,o,s),c[1]&&Pn(e,c[1],o,r,i,s),c[2]&&Pn(e,c[2],n,s,o,a),c[3]&&Pn(e,c[3],o,s,i,a)}}function Fn(e,t,n,r,i,a,o){var s=1/0,c;return(function e(l,u,d,f,p){if(!(u>a||d>o||f<r||p<i)){if(m=l.point){var m,h=t-l.x,g=n-l.y,_=h*h+g*g;if(_<s){var v=Math.sqrt(s=_);r=t-v,i=n-v,a=t+v,o=n+v,c=m}}for(var y=l.nodes,b=(u+f)*.5,x=(d+p)*.5,S=(n>=x)<<1|t>=b,C=S+4;S<C;++S)if(l=y[S&3])switch(S&3){case 0:e(l,u,d,b,x);break;case 1:e(l,b,d,f,x);break;case 2:e(l,u,x,b,p);break;case 3:e(l,b,x,f,p);break}}})(e,r,i,a,o),c}a.interpolateRgb=In;function In(e,t){e=a.rgb(e),t=a.rgb(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,s=t.g-r,c=t.b-i;return function(e){return`#`+vt(Math.round(n+o*e))+vt(Math.round(r+s*e))+vt(Math.round(i+c*e))}}a.interpolateObject=Ln;function Ln(e,t){var n={},r={},i;for(i in e)i in t?n[i]=Hn(e[i],t[i]):r[i]=e[i];for(i in t)i in e||(r[i]=t[i]);return function(e){for(i in n)r[i]=n[i](e);return r}}a.interpolateNumber=Rn;function Rn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}a.interpolateString=zn;function zn(e,t){var n=Bn.lastIndex=Vn.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(e+=``,t+=``;(r=Bn.exec(e))&&(i=Vn.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Rn(r,i)})),n=Vn.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?(t=c[0].x,function(e){return t(e)+``}):function(){return t}:(t=c.length,function(e){for(var n=0,r;n<t;++n)s[(r=c[n]).i]=r.x(e);return s.join(``)})}var Bn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vn=new RegExp(Bn.source,`g`);a.interpolate=Hn;function Hn(e,t){for(var n=a.interpolators.length,r;--n>=0&&!(r=a.interpolators[n](e,t)););return r}a.interpolators=[function(e,t){var n=typeof t;return(n===`string`?wt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?In:zn:t instanceof Xe?In:Array.isArray(t)?Un:n===`object`&&isNaN(t)?Ln:Rn)(e,t)}],a.interpolateArray=Un;function Un(e,t){var n=[],r=[],i=e.length,a=t.length,o=Math.min(e.length,t.length),s;for(s=0;s<o;++s)n.push(Hn(e[s],t[s]));for(;s<i;++s)r[s]=e[s];for(;s<a;++s)r[s]=t[s];return function(e){for(s=0;s<o;++s)r[s]=n[s](e);return r}}var Wn=function(){return I},Gn=a.map({linear:Wn,poly:$n,quad:function(){return Xn},cubic:function(){return Zn},sin:function(){return er},exp:function(){return tr},circle:function(){return nr},elastic:rr,back:ir,bounce:function(){return ar}}),Kn=a.map({in:I,out:Jn,"in-out":Yn,"out-in":function(e){return Yn(Jn(e))}});a.ease=function(e){var t=e.indexOf(`-`),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):`in`;return n=Gn.get(n)||Wn,r=Kn.get(r)||I,qn(r(n.apply(null,o.call(arguments,1))))};function qn(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function Jn(e){return function(t){return 1-e(1-t)}}function Yn(e){return function(t){return .5*(t<.5?e(2*t):2-e(2-2*t))}}function Xn(e){return e*e}function Zn(e){return e*e*e}function Qn(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function $n(e){return function(t){return t**+e}}function er(e){return 1-Math.cos(e*Ie)}function tr(e){return 2**(10*(e-1))}function nr(e){return 1-Math.sqrt(1-e*e)}function rr(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/Pe*Math.asin(1/e):(e=1,n=t/4),function(r){return 1+e*2**(-10*r)*Math.sin((r-n)*Pe/t)}}function ir(e){return e||=1.70158,function(t){return t*t*((e+1)*t-e)}}function ar(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}a.interpolateHcl=or;function or(e,t){e=a.hcl(e),t=a.hcl(t);var n=e.h,r=e.c,i=e.l,o=t.h-n,s=t.c-r,c=t.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?t.c:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:o<-180&&(o+=360),function(e){return nt(n+o*e,r+s*e,i+c*e)+``}}a.interpolateHsl=sr;function sr(e,t){e=a.hsl(e),t=a.hsl(t);var n=e.h,r=e.s,i=e.l,o=t.h-n,s=t.s-r,c=t.l-i;return isNaN(s)&&(s=0,r=isNaN(r)?t.s:r),isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:o<-180&&(o+=360),function(e){return $e(n+o*e,r+s*e,i+c*e)+``}}a.interpolateLab=cr;function cr(e,t){e=a.lab(e),t=a.lab(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,s=t.a-r,c=t.b-i;return function(e){return lt(n+o*e,r+s*e,i+c*e)+``}}a.interpolateRound=lr;function lr(e,t){return t-=e,function(n){return Math.round(e+t*n)}}a.transform=function(e){var t=c.createElementNS(a.ns.prefix.svg,`g`);return(a.transform=function(e){if(e!=null){t.setAttribute(`transform`,e);var n=t.transform.baseVal.consolidate()}return new ur(n?n.matrix:pr)})(e)};function ur(e){var t=[e.a,e.b],n=[e.c,e.d],r=fr(t),i=dr(t,n),a=fr($(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Re,this.translate=[e.e,e.f],this.scale=[r,a],this.skew=a?Math.atan2(i,a)*Re:0}ur.prototype.toString=function(){return`translate(`+this.translate+`)rotate(`+this.rotate+`)skewX(`+this.skew+`)scale(`+this.scale+`)`};function dr(e,t){return e[0]*t[0]+e[1]*t[1]}function fr(e){var t=Math.sqrt(dr(e,e));return t&&(e[0]/=t,e[1]/=t),t}function $(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}var pr={a:1,b:0,c:0,d:1,e:0,f:0};a.interpolateTransform=yr;function mr(e){return e.length?e.pop()+`,`:``}function hr(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(`translate(`,null,`,`,null,`)`);r.push({i:i-4,x:Rn(e[0],t[0])},{i:i-2,x:Rn(e[1],t[1])})}else (t[0]||t[1])&&n.push(`translate(`+t+`)`)}function gr(e,t,n,r){e===t?t&&n.push(mr(n)+`rotate(`+t+`)`):(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(mr(n)+`rotate(`,null,`)`)-2,x:Rn(e,t)}))}function _r(e,t,n,r){e===t?t&&n.push(mr(n)+`skewX(`+t+`)`):r.push({i:n.push(mr(n)+`skewX(`,null,`)`)-2,x:Rn(e,t)})}function vr(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(mr(n)+`scale(`,null,`,`,null,`)`);r.push({i:i-4,x:Rn(e[0],t[0])},{i:i-2,x:Rn(e[1],t[1])})}else (t[0]!==1||t[1]!==1)&&n.push(mr(n)+`scale(`+t+`)`)}function yr(e,t){var n=[],r=[];return e=a.transform(e),t=a.transform(t),hr(e.translate,t.translate,n,r),gr(e.rotate,t.rotate,n,r),_r(e.skew,t.skew,n,r),vr(e.scale,t.scale,n,r),e=t=null,function(e){for(var t=-1,i=r.length,a;++t<i;)n[(a=r[t]).i]=a.x(e);return n.join(``)}}function br(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function xr(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}a.layout={},a.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(Sr(e[n]));return t}};function Sr(e){for(var t=e.source,n=e.target,r=wr(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function Cr(e){for(var t=[],n=e.parent;n!=null;)t.push(e),e=n,n=n.parent;return t.push(e),t}function wr(e,t){if(e===t)return e;for(var n=Cr(e),r=Cr(t),i=n.pop(),a=r.pop(),o=null;i===a;)o=i,i=n.pop(),a=r.pop();return o}a.layout.chord=function(){var e={},t,n,r,i,o=0,s,c,l;function u(){var e={},u=[],f=a.range(i),p=[],m,h,g,_,v;for(t=[],n=[],m=0,_=-1;++_<i;){for(h=0,v=-1;++v<i;)h+=r[_][v];u.push(h),p.push(a.range(i)),m+=h}for(s&&f.sort(function(e,t){return s(u[e],u[t])}),c&&p.forEach(function(e,t){e.sort(function(e,n){return c(r[t][e],r[t][n])})}),m=(Pe-o*i)/m,h=0,_=-1;++_<i;){for(g=h,v=-1;++v<i;){var y=f[_],b=p[y][v],x=r[y][b],S=h,C=h+=x*m;e[y+`-`+b]={index:y,subindex:b,startAngle:S,endAngle:C,value:x}}n[y]={index:y,startAngle:g,endAngle:h,value:u[y]},h+=o}for(_=-1;++_<i;)for(v=_-1;++v<i;){var w=e[_+`-`+v],T=e[v+`-`+_];(w.value||T.value)&&t.push(w.value<T.value?{source:T,target:w}:{source:w,target:T})}l&&d()}function d(){t.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}return e.matrix=function(a){return arguments.length?(i=(r=a)&&r.length,t=n=null,e):r},e.padding=function(r){return arguments.length?(o=r,t=n=null,e):o},e.sortGroups=function(r){return arguments.length?(s=r,t=n=null,e):s},e.sortSubgroups=function(n){return arguments.length?(c=n,t=null,e):c},e.sortChords=function(n){return arguments.length?(l=n,t&&d(),e):l},e.chords=function(){return t||u(),t},e.groups=function(){return n||u(),n},e},a.layout.force=function(){var e={},t=a.dispatch(`start`,`tick`,`end`),n,r=[1,1],i,o,s=.9,c=Ar,l=jr,u=-30,d=Mr,f=.1,p=.64,m=[],h=[],g,_,v;function y(e){return function(t,n,r,i){if(t.point!==e){var a=t.cx-e.x,o=t.cy-e.y,s=i-n,c=a*a+o*o;if(s*s/p<c){if(c<d){var l=t.charge/c;e.px-=a*l,e.py-=o*l}return!0}if(t.point&&c&&c<d){var l=t.pointCharge/c;e.px-=a*l,e.py-=o*l}}return!t.charge}}e.tick=function(){if((o*=.99)<.005)return n=null,t.end({type:`end`,alpha:o=0}),!0;var e=m.length,i=h.length,c,l,d,p,b,x,S,C,w;for(l=0;l<i;++l)d=h[l],p=d.source,b=d.target,C=b.x-p.x,w=b.y-p.y,(x=C*C+w*w)&&(x=o*_[l]*((x=Math.sqrt(x))-g[l])/x,C*=x,w*=x,b.x-=C*(S=p.weight+b.weight?p.weight/(p.weight+b.weight):.5),b.y-=w*S,p.x+=C*(S=1-S),p.y+=w*S);if((S=o*f)&&(C=r[0]/2,w=r[1]/2,l=-1,S))for(;++l<e;)d=m[l],d.x+=(C-d.x)*S,d.y+=(w-d.y)*S;if(u)for(kr(c=a.geom.quadtree(m),o,v),l=-1;++l<e;)(d=m[l]).fixed||c.visit(y(d));for(l=-1;++l<e;)d=m[l],d.fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*s,d.y-=(d.py-(d.py=d.y))*s);t.tick({type:`tick`,alpha:o})},e.nodes=function(t){return arguments.length?(m=t,e):m},e.links=function(t){return arguments.length?(h=t,e):h},e.size=function(t){return arguments.length?(r=t,e):r},e.linkDistance=function(t){return arguments.length?(c=typeof t==`function`?t:+t,e):c},e.distance=e.linkDistance,e.linkStrength=function(t){return arguments.length?(l=typeof t==`function`?t:+t,e):l},e.friction=function(t){return arguments.length?(s=+t,e):s},e.charge=function(t){return arguments.length?(u=typeof t==`function`?t:+t,e):u},e.chargeDistance=function(t){return arguments.length?(d=t*t,e):Math.sqrt(d)},e.gravity=function(t){return arguments.length?(f=+t,e):f},e.theta=function(t){return arguments.length?(p=t*t,e):Math.sqrt(p)},e.alpha=function(r){return arguments.length?(r=+r,o?r>0?o=r:(n.c=null,n.t=NaN,n=null,t.end({type:`end`,alpha:o=0})):r>0&&(t.start({type:`start`,alpha:o=r}),n=Ft(e.tick)),e):o},e.start=function(){var t,n=m.length,i=h.length,a=r[0],o=r[1],s,d;for(t=0;t<n;++t)(d=m[t]).index=t,d.weight=0;for(t=0;t<i;++t)d=h[t],typeof d.source==`number`&&(d.source=m[d.source]),typeof d.target==`number`&&(d.target=m[d.target]),++d.source.weight,++d.target.weight;for(t=0;t<n;++t)d=m[t],isNaN(d.x)&&(d.x=f(`x`,a)),isNaN(d.y)&&(d.y=f(`y`,o)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);if(g=[],typeof c==`function`)for(t=0;t<i;++t)g[t]=+c.call(this,h[t],t);else for(t=0;t<i;++t)g[t]=c;if(_=[],typeof l==`function`)for(t=0;t<i;++t)_[t]=+l.call(this,h[t],t);else for(t=0;t<i;++t)_[t]=l;if(v=[],typeof u==`function`)for(t=0;t<n;++t)v[t]=+u.call(this,m[t],t);else for(t=0;t<n;++t)v[t]=u;function f(e,r){if(!s){for(s=Array(n),c=0;c<n;++c)s[c]=[];for(c=0;c<i;++c){var a=h[c];s[a.source.index].push(a.target),s[a.target.index].push(a.source)}}for(var o=s[t],c=-1,l=o.length,u;++c<l;)if(!isNaN(u=o[c][e]))return u;return Math.random()*r}return e.resume()},e.resume=function(){return e.alpha(.1)},e.stop=function(){return e.alpha(0)},e.drag=function(){if(i||=a.behavior.drag().origin(I).on(`dragstart.force`,Tr).on(`drag.force`,b).on(`dragend.force`,Er),!arguments.length)return i;this.on(`mouseover.force`,Dr).on(`mouseout.force`,Or).call(i)};function b(t){t.px=a.event.x,t.py=a.event.y,e.resume()}return a.rebind(e,t,`on`)};function Tr(e){e.fixed|=2}function Er(e){e.fixed&=-7}function Dr(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Or(e){e.fixed&=-5}function kr(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var a=e.nodes,o=a.length,s=-1,c;++s<o;)c=a[s],c!=null&&(kr(c,t,n),e.charge+=c.charge,r+=c.charge*c.cx,i+=c.charge*c.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var l=t*n[e.point.index];e.charge+=e.pointCharge=l,r+=l*e.point.x,i+=l*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}var Ar=20,jr=1,Mr=1/0;a.layout.hierarchy=function(){var e=Rr,t=Ir,n=Lr;function r(i){var a=[i],o=[],s;for(i.depth=0;(s=a.pop())!=null;)if(o.push(s),(l=t.call(r,s,s.depth))&&(c=l.length)){for(var c,l,u;--c>=0;)a.push(u=l[c]),u.parent=s,u.depth=s.depth+1;n&&(s.value=0),s.children=l}else n&&(s.value=+n.call(r,s,s.depth)||0),delete s.children;return Fr(i,function(t){var r,i;e&&(r=t.children)&&r.sort(e),n&&(i=t.parent)&&(i.value+=t.value)}),o}return r.sort=function(t){return arguments.length?(e=t,r):e},r.children=function(e){return arguments.length?(t=e,r):t},r.value=function(e){return arguments.length?(n=e,r):n},r.revalue=function(e){return n&&(Pr(e,function(e){e.children&&(e.value=0)}),Fr(e,function(e){var t;e.children||(e.value=+n.call(r,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)})),e},r};function Nr(e,t){return a.rebind(e,t,`sort`,`children`,`value`),e.nodes=e,e.links=zr,e}function Pr(e,t){for(var n=[e];(e=n.pop())!=null;)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Fr(e,t){for(var n=[e],r=[];(e=n.pop())!=null;)if(r.push(e),(o=e.children)&&(a=o.length))for(var i=-1,a,o;++i<a;)n.push(o[i]);for(;(e=r.pop())!=null;)t(e)}function Ir(e){return e.children}function Lr(e){return e.value}function Rr(e,t){return t.value-e.value}function zr(e){return a.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}a.layout.partition=function(){var e=a.layout.hierarchy(),t=[1,1];function n(e,t,r,i){var a=e.children;if(e.x=t,e.y=e.depth*i,e.dx=r,e.dy=i,a&&(s=a.length)){var o=-1,s,c,l;for(r=e.value?r/e.value:0;++o<s;)n(c=a[o],t,l=c.value*r,i),t+=l}}function r(e){var t=e.children,n=0;if(t&&(a=t.length))for(var i=-1,a;++i<a;)n=Math.max(n,r(t[i]));return 1+n}function i(i,a){var o=e.call(this,i,a);return n(o[0],0,t[0],t[1]/r(o[0])),o}return i.size=function(e){return arguments.length?(t=e,i):t},Nr(i,e)},a.layout.pie=function(){var e=Number,t=Br,n=0,r=Pe,i=0;function o(s){var c=s.length,l=s.map(function(t,n){return+e.call(o,t,n)}),u=+(typeof n==`function`?n.apply(this,arguments):n),d=(typeof r==`function`?r.apply(this,arguments):r)-u,f=Math.min(Math.abs(d)/c,+(typeof i==`function`?i.apply(this,arguments):i)),p=f*(d<0?-1:1),m=a.sum(l),h=m?(d-c*p)/m:0,g=a.range(c),_=[],v;return t!=null&&g.sort(t===Br?function(e,t){return l[t]-l[e]}:function(e,n){return t(s[e],s[n])}),g.forEach(function(e){_[e]={data:s[e],value:v=l[e],startAngle:u,endAngle:u+=v*h+p,padAngle:f}}),_}return o.value=function(t){return arguments.length?(e=t,o):e},o.sort=function(e){return arguments.length?(t=e,o):t},o.startAngle=function(e){return arguments.length?(n=e,o):n},o.endAngle=function(e){return arguments.length?(r=e,o):r},o.padAngle=function(e){return arguments.length?(i=e,o):i},o};var Br={};a.layout.stack=function(){var e=I,t=Kr,n=qr,r=Ur,i=Vr,o=Hr;function s(c,l){if(!(h=c.length))return c;var u=c.map(function(t,n){return e.call(s,t,n)}),d=u.map(function(e){return e.map(function(e,t){return[i.call(s,e,t),o.call(s,e,t)]})}),f=t.call(s,d,l);u=a.permute(u,f),d=a.permute(d,f);var p=n.call(s,d,l),m=u[0].length,h,g,_,v;for(_=0;_<m;++_)for(r.call(s,u[0][_],v=p[_],d[0][_][1]),g=1;g<h;++g)r.call(s,u[g][_],v+=d[g-1][_][1],d[g][_][1]);return c}return s.values=function(t){return arguments.length?(e=t,s):e},s.order=function(e){return arguments.length?(t=typeof e==`function`?e:Wr.get(e)||Kr,s):t},s.offset=function(e){return arguments.length?(n=typeof e==`function`?e:Gr.get(e)||qr,s):n},s.x=function(e){return arguments.length?(i=e,s):i},s.y=function(e){return arguments.length?(o=e,s):o},s.out=function(e){return arguments.length?(r=e,s):r},s};function Vr(e){return e.x}function Hr(e){return e.y}function Ur(e,t,n){e.y0=t,e.y=n}var Wr=a.map({"inside-out":function(e){var t=e.length,n,r,i=e.map(Jr),o=e.map(Yr),s=a.range(t).sort(function(e,t){return i[e]-i[t]}),c=0,l=0,u=[],d=[];for(n=0;n<t;++n)r=s[n],c<l?(c+=o[r],u.push(r)):(l+=o[r],d.push(r));return d.reverse().concat(u)},reverse:function(e){return a.range(e.length).reverse()},default:Kr}),Gr=a.map({silhouette:function(e){var t=e.length,n=e[0].length,r=[],i=0,a,o,s,c=[];for(o=0;o<n;++o){for(a=0,s=0;a<t;a++)s+=e[a][o][1];s>i&&(i=s),r.push(s)}for(o=0;o<n;++o)c[o]=(i-r[o])/2;return c},wiggle:function(e){var t=e.length,n=e[0],r=n.length,i,a,o,s,c,l,u,d,f,p=[];for(p[0]=d=f=0,a=1;a<r;++a){for(i=0,s=0;i<t;++i)s+=e[i][a][1];for(i=0,c=0,u=n[a][0]-n[a-1][0];i<t;++i){for(o=0,l=(e[i][a][1]-e[i][a-1][1])/(2*u);o<i;++o)l+=(e[o][a][1]-e[o][a-1][1])/u;c+=l*e[i][a][1]}p[a]=d-=s?c/s*u:0,d<f&&(f=d)}for(a=0;a<r;++a)p[a]-=f;return p},expand:function(e){var t=e.length,n=e[0].length,r=1/t,i,a,o,s=[];for(a=0;a<n;++a){for(i=0,o=0;i<t;i++)o+=e[i][a][1];if(o)for(i=0;i<t;i++)e[i][a][1]/=o;else for(i=0;i<t;i++)e[i][a][1]=r}for(a=0;a<n;++a)s[a]=0;return s},zero:qr});function Kr(e){return a.range(e.length)}function qr(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function Jr(e){for(var t=1,n=0,r=e[0][1],i,a=e.length;t<a;++t)(i=e[t][1])>r&&(n=t,r=i);return n}function Yr(e){return e.reduce(Xr,0)}function Xr(e,t){return e+t[1]}a.layout.histogram=function(){var e=!0,t=Number,n=$r,r=Zr;function i(i,o){for(var s=[],c=i.map(t,this),l=n.call(this,c,o),u=r.call(this,l,c,o),d,o=-1,f=c.length,p=u.length-1,m=e?1:1/f,h;++o<p;)d=s[o]=[],d.dx=u[o+1]-(d.x=u[o]),d.y=0;if(p>0)for(o=-1;++o<f;)h=c[o],h>=l[0]&&h<=l[1]&&(d=s[a.bisect(u,h,1,p)-1],d.y+=m,d.push(i[o]));return s}return i.value=function(e){return arguments.length?(t=e,i):t},i.range=function(e){return arguments.length?(n=Tt(e),i):n},i.bins=function(e){return arguments.length?(r=typeof e==`number`?function(t){return Qr(t,e)}:Tt(e),i):r},i.frequency=function(t){return arguments.length?(e=!!t,i):e},i};function Zr(e,t){return Qr(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Qr(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,a=[];++n<=t;)a[n]=i*n+r;return a}function $r(e){return[a.min(e),a.max(e)]}a.layout.pack=function(){var e=a.layout.hierarchy().sort(ei),t=0,n=[1,1],r;function i(i,a){var o=e.call(this,i,a),s=o[0],c=n[0],l=n[1],u=r==null?Math.sqrt:typeof r==`function`?r:function(){return r};if(s.x=s.y=0,Fr(s,function(e){e.r=+u(e.value)}),Fr(s,ii),t){var d=t*(r?1:Math.max(2*s.r/c,2*s.r/l))/2;Fr(s,function(e){e.r+=d}),Fr(s,ii),Fr(s,function(e){e.r-=d})}return si(s,c/2,l/2,r?1:1/Math.max(2*s.r/c,2*s.r/l)),o}return i.size=function(e){return arguments.length?(n=e,i):n},i.radius=function(e){return arguments.length?(r=e==null||typeof e==`function`?e:+e,i):r},i.padding=function(e){return arguments.length?(t=+e,i):t},Nr(i,e)};function ei(e,t){return e.value-t.value}function ti(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function ni(e,t){e._pack_next=t,t._pack_prev=e}function ri(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return .999*i*i>n*n+r*r}function ii(e){if(!(t=e.children)||!(f=t.length))return;var t,n=1/0,r=-1/0,i=1/0,a=-1/0,o,s,c,l,u,d,f;function p(e){n=Math.min(e.x-e.r,n),r=Math.max(e.x+e.r,r),i=Math.min(e.y-e.r,i),a=Math.max(e.y+e.r,a)}if(t.forEach(ai),o=t[0],o.x=-o.r,o.y=0,p(o),f>1&&(s=t[1],s.x=s.r,s.y=0,p(s),f>2))for(c=t[2],ci(o,s,c),p(c),ti(o,c),o._pack_prev=c,ti(c,s),s=o._pack_next,l=3;l<f;l++){ci(o,s,c=t[l]);var m=0,h=1,g=1;for(u=s._pack_next;u!==s;u=u._pack_next,h++)if(ri(u,c)){m=1;break}if(m==1)for(d=o._pack_prev;d!==u._pack_prev&&!ri(d,c);d=d._pack_prev,g++);m?(h<g||h==g&&s.r<o.r?ni(o,s=u):ni(o=d,s),l--):(ti(o,c),s=c,p(c))}var _=(n+r)/2,v=(i+a)/2,y=0;for(l=0;l<f;l++)c=t[l],c.x-=_,c.y-=v,y=Math.max(y,c.r+Math.sqrt(c.x*c.x+c.y*c.y));e.r=y,t.forEach(oi)}function ai(e){e._pack_next=e._pack_prev=e}function oi(e){delete e._pack_next,delete e._pack_prev}function si(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var a=-1,o=i.length;++a<o;)si(i[a],t,n,r)}function ci(e,t,n){var r=e.r+n.r,i=t.x-e.x,a=t.y-e.y;if(r&&(i||a)){var o=t.r+n.r,s=i*i+a*a;o*=o,r*=r;var c=.5+(r-o)/(2*s),l=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=e.x+c*i+l*a,n.y=e.y+c*a-l*i}else n.x=e.x+r,n.y=e.y}a.layout.tree=function(){var e=a.layout.hierarchy().sort(null).value(null),t=li,n=[1,1],r=null;function i(i,a){var l=e.call(this,i,a),d=l[0],f=o(d);if(Fr(f,s),f.parent.m=-f.z,Pr(f,c),r)Pr(d,u);else{var p=d,m=d,h=d;Pr(d,function(e){e.x<p.x&&(p=e),e.x>m.x&&(m=e),e.depth>h.depth&&(h=e)});var g=t(p,m)/2-p.x,_=n[0]/(m.x+t(m,p)/2+g),v=n[1]/(h.depth||1);Pr(d,function(e){e.x=(e.x+g)*_,e.y=e.depth*v})}return l}function o(e){for(var t={A:null,children:[e]},n=[t],r;(r=n.pop())!=null;)for(var i=r.children,a,o=0,s=i.length;o<s;++o)n.push((i[o]=a={_:i[o],parent:r,children:(a=i[o].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=a);return t.children[0]}function s(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n.length){pi(e);var a=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+t(e._,i._));e.parent.A=l(e,i,e.parent.A||r[0])}function c(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e,n,r){if(n){for(var i=e,a=e,o=n,s=i.parent.children[0],c=i.m,l=a.m,u=o.m,d=s.m,f;o=di(o),i=ui(i),o&&i;)s=ui(s),a=di(a),a.a=e,f=o.z+u-i.z-c+t(o._,i._),f>0&&(fi(mi(o,e,r),e,f),c+=f,l+=f),u+=o.m,c+=i.m,d+=s.m,l+=a.m;o&&!di(a)&&(a.t=o,a.m+=u-l),i&&!ui(s)&&(s.t=i,s.m+=c-d,r=e)}return r}function u(e){e.x*=n[0],e.y=e.depth*n[1]}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(e){return arguments.length?(r=(n=e)==null?u:null,i):r?null:n},i.nodeSize=function(e){return arguments.length?(r=(n=e)==null?null:u,i):r?n:null},Nr(i,e)};function li(e,t){return e.parent==t.parent?1:2}function ui(e){var t=e.children;return t.length?t[0]:e.t}function di(e){var t=e.children,n;return(n=t.length)?t[n-1]:e.t}function fi(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function pi(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function mi(e,t,n){return e.a.parent===t.parent?e.a:n}a.layout.cluster=function(){var e=a.layout.hierarchy().sort(null).value(null),t=li,n=[1,1],r=!1;function i(i,a){var o=e.call(this,i,a),s=o[0],c,l=0;Fr(s,function(e){var n=e.children;n&&n.length?(e.x=gi(n),e.y=hi(n)):(e.x=c?l+=t(e,c):0,e.y=0,c=e)});var u=_i(s),d=vi(s),f=u.x-t(u,d)/2,p=d.x+t(d,u)/2;return Fr(s,r?function(e){e.x=(e.x-s.x)*n[0],e.y=(s.y-e.y)*n[1]}:function(e){e.x=(e.x-f)/(p-f)*n[0],e.y=(1-(s.y?e.y/s.y:1))*n[1]}),o}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(e){return arguments.length?(r=(n=e)==null,i):r?null:n},i.nodeSize=function(e){return arguments.length?(r=(n=e)!=null,i):r?n:null},Nr(i,e)};function hi(e){return 1+a.max(e,function(e){return e.y})}function gi(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function _i(e){var t=e.children;return t&&t.length?_i(t[0]):e}function vi(e){var t=e.children,n;return t&&(n=t.length)?vi(t[n-1]):e}a.layout.treemap=function(){var e=a.layout.hierarchy(),t=Math.round,n=[1,1],r=null,i=yi,o=!1,s,c=`squarify`,l=.5*(1+Math.sqrt(5));function u(e,t){for(var n=-1,r=e.length,i,a;++n<r;)a=(i=e[n]).value*(t<0?0:t),i.area=isNaN(a)||a<=0?0:a}function d(e){var t=e.children;if(t&&t.length){var n=i(e),r=[],a=t.slice(),o,s=1/0,l,f=c===`slice`?n.dx:c===`dice`?n.dy:c===`slice-dice`?e.depth&1?n.dy:n.dx:Math.min(n.dx,n.dy),h;for(u(a,n.dx*n.dy/e.value),r.area=0;(h=a.length)>0;)r.push(o=a[h-1]),r.area+=o.area,c!==`squarify`||(l=p(r,f))<=s?(a.pop(),s=l):(r.area-=r.pop().area,m(r,f,n,!1),f=Math.min(n.dx,n.dy),r.length=r.area=0,s=1/0);r.length&&=(m(r,f,n,!0),r.area=0),t.forEach(d)}}function f(e){var t=e.children;if(t&&t.length){var n=i(e),r=t.slice(),a,o=[];for(u(r,n.dx*n.dy/e.value),o.area=0;a=r.pop();)o.push(a),o.area+=a.area,a.z!=null&&(m(o,a.z?n.dx:n.dy,n,!r.length),o.length=o.area=0);t.forEach(f)}}function p(e,t){for(var n=e.area,r,i=0,a=1/0,o=-1,s=e.length;++o<s;)(r=e[o].area)&&(r<a&&(a=r),r>i&&(i=r));return n*=n,t*=t,n?Math.max(t*i*l/n,n/(t*a*l)):1/0}function m(e,n,r,i){var a=-1,o=e.length,s=r.x,c=r.y,l=n?t(e.area/n):0,u;if(n==r.dx){for((i||l>r.dy)&&(l=r.dy);++a<o;)u=e[a],u.x=s,u.y=c,u.dy=l,s+=u.dx=Math.min(r.x+r.dx-s,l?t(u.area/l):0);u.z=!0,u.dx+=r.x+r.dx-s,r.y+=l,r.dy-=l}else{for((i||l>r.dx)&&(l=r.dx);++a<o;)u=e[a],u.x=s,u.y=c,u.dx=l,c+=u.dy=Math.min(r.y+r.dy-c,l?t(u.area/l):0);u.z=!1,u.dy+=r.y+r.dy-c,r.x+=l,r.dx-=l}}function h(t){var r=s||e(t),i=r[0];return i.x=i.y=0,i.value?(i.dx=n[0],i.dy=n[1]):i.dx=i.dy=0,s&&e.revalue(i),u([i],i.dx*i.dy/i.value),(s?f:d)(i),o&&(s=r),r}return h.size=function(e){return arguments.length?(n=e,h):n},h.padding=function(e){if(!arguments.length)return r;function t(t){var n=e.call(h,t,t.depth);return n==null?yi(t):bi(t,typeof n==`number`?[n,n,n,n]:n)}function n(t){return bi(t,e)}var a;return i=(r=e)==null?yi:(a=typeof e)==`function`?t:(a===`number`&&(e=[e,e,e,e]),n),h},h.round=function(e){return arguments.length?(t=e?Math.round:Number,h):t!=Number},h.sticky=function(e){return arguments.length?(o=e,s=null,h):o},h.ratio=function(e){return arguments.length?(l=e,h):l},h.mode=function(e){return arguments.length?(c=e+``,h):c},Nr(h,e)};function yi(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function bi(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}a.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do n=Math.random()*2-1,r=Math.random()*2-1,i=n*n+r*r;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=a.random.normal.apply(a,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=a.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},a.scale={};function xi(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function Si(e){return e.rangeExtent?e.rangeExtent():xi(e.range())}function Ci(e,t,n,r){var i=n(e[0],e[1]),a=r(t[0],t[1]);return function(e){return a(i(e))}}function wi(e,t){var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function Ti(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Ei}var Ei={floor:I,ceil:I};function Di(e,t,n,r){var i=[],o=[],s=0,c=Math.min(e.length,t.length)-1;for(e[c]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<=c;)i.push(n(e[s-1],e[s])),o.push(r(t[s-1],t[s]));return function(t){var n=a.bisect(e,t,1,c)-1;return o[n](i[n](t))}}a.scale.linear=function(){return Oi([0,1],[0,1],Hn,!1)};function Oi(e,t,n,r){var i,a;function o(){var o=Math.min(e.length,t.length)>2?Di:Ci,c=r?xr:br;return i=o(e,t,c,n),a=o(t,e,c,Hn),s}function s(e){return i(e)}return s.invert=function(e){return a(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},s.range=function(e){return arguments.length?(t=e,o()):t},s.rangeRound=function(e){return s.range(e).interpolate(lr)},s.clamp=function(e){return arguments.length?(r=e,o()):r},s.interpolate=function(e){return arguments.length?(n=e,o()):n},s.ticks=function(t){return Mi(e,t)},s.tickFormat=function(t,n){return d3_scale_linearTickFormat(e,t,n)},s.nice=function(t){return Ai(e,t),o()},s.copy=function(){return Oi(e,t,n,r)},o()}function ki(e,t){return a.rebind(e,t,`range`,`rangeRound`,`interpolate`,`clamp`)}function Ai(e,t){return wi(e,Ti(ji(e,t)[2])),wi(e,Ti(ji(e,t)[2])),e}function ji(e,t){t??=10;var n=xi(e),r=n[1]-n[0],i=10**Math.floor(Math.log(r/t)/Math.LN10),a=t/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+i*.5,n[2]=i,n}function Mi(e,t){return a.range.apply(a,ji(e,t))}a.scale.log=function(){return Ni(a.scale.linear().domain([0,1]),10,!0,[1,10])};function Ni(e,t,n,r){function i(e){return(n?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function a(e){return n?t**+e:-(t**+-e)}function o(t){return e(i(t))}return o.invert=function(t){return a(e.invert(t))},o.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),o):r},o.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),o):t},o.nice=function(){var t=wi(r.map(i),n?Math:Pi);return e.domain(t),r=t.map(a),o},o.ticks=function(){var e=xi(r),o=[],s=e[0],c=e[1],l=Math.floor(i(s)),u=Math.ceil(i(c)),d=t%1?2:t;if(isFinite(u-l)){if(n){for(;l<u;l++)for(var f=1;f<d;f++)o.push(a(l)*f);o.push(a(l))}else for(o.push(a(l));l++<u;)for(var f=d-1;f>0;f--)o.push(a(l)*f);for(l=0;o[l]<s;l++);for(u=o.length;o[u-1]>c;u--);o=o.slice(l,u)}return o},o.copy=function(){return Ni(e.copy(),t,n,r)},ki(o,e)}var Pi={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};a.scale.pow=function(){return Fi(a.scale.linear(),1,[0,1])};function Fi(e,t,n){var r=Ii(t),i=Ii(1/t);function a(t){return e(r(t))}return a.invert=function(t){return i(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),a):n},a.ticks=function(e){return Mi(n,e)},a.tickFormat=function(e,t){return d3_scale_linearTickFormat(n,e,t)},a.nice=function(e){return a.domain(Ai(n,e))},a.exponent=function(o){return arguments.length?(r=Ii(t=o),i=Ii(1/t),e.domain(n.map(r)),a):t},a.copy=function(){return Fi(e.copy(),t,n)},ki(a,e)}function Ii(e){return function(t){return t<0?-((-t)**+e):t**+e}}a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return Li([],{t:`range`,a:[[]]})};function Li(e,t){var n,r,i;function o(i){return r[((n.get(i)||(t.t===`range`?n.set(i,e.push(i)):NaN))-1)%r.length]}function s(t,n){return a.range(e.length).map(function(e){return t+n*e})}return o.domain=function(r){if(!arguments.length)return e;e=[],n=new T;for(var i=-1,a=r.length,s;++i<a;)n.has(s=r[i])||n.set(s,e.push(s));return o[t.t].apply(o,t.a)},o.range=function(e){return arguments.length?(r=e,i=0,t={t:`range`,a:arguments},o):r},o.rangePoints=function(n,a){arguments.length<2&&(a=0);var c=n[0],l=n[1],u=e.length<2?(c=(c+l)/2,0):(l-c)/(e.length-1+a);return r=s(c+u*a/2,u),i=0,t={t:`rangePoints`,a:arguments},o},o.rangeRoundPoints=function(n,a){arguments.length<2&&(a=0);var c=n[0],l=n[1],u=e.length<2?(c=l=Math.round((c+l)/2),0):(l-c)/(e.length-1+a)|0;return r=s(c+Math.round(u*a/2+(l-c-(e.length-1+a)*u)/2),u),i=0,t={t:`rangeRoundPoints`,a:arguments},o},o.rangeBands=function(n,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=n[1]<n[0],u=n[l-0],d=(n[1-l]-u)/(e.length-a+2*c);return r=s(u+d*c,d),l&&r.reverse(),i=d*(1-a),t={t:`rangeBands`,a:arguments},o},o.rangeRoundBands=function(n,a,c){arguments.length<2&&(a=0),arguments.length<3&&(c=a);var l=n[1]<n[0],u=n[l-0],d=n[1-l],f=Math.floor((d-u)/(e.length-a+2*c));return r=s(u+Math.round((d-u-(e.length-a)*f)/2),f),l&&r.reverse(),i=Math.round(f*(1-a)),t={t:`rangeRoundBands`,a:arguments},o},o.rangeBand=function(){return i},o.rangeExtent=function(){return xi(t.a[0])},o.copy=function(){return Li(e,t)},o.domain(e)}a.scale.category10=function(){return a.scale.ordinal().range(Ri)},a.scale.category20=function(){return a.scale.ordinal().range(zi)},a.scale.category20b=function(){return a.scale.ordinal().range(Bi)},a.scale.category20c=function(){return a.scale.ordinal().range(Vi)};var Ri=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(gt),zi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(gt),Bi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(gt),Vi=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(gt);a.scale.quantile=function(){return Hi([],[])};function Hi(e,t){var n;function r(){var r=0,o=t.length;for(n=[];++r<o;)n[r-1]=a.quantile(e,r/o);return i}function i(e){if(!isNaN(e=+e))return t[a.bisect(n,e)]}return i.domain=function(t){return arguments.length?(e=t.map(_).filter(v).sort(g),r()):e},i.range=function(e){return arguments.length?(t=e,r()):t},i.quantiles=function(){return n},i.invertExtent=function(r){return r=t.indexOf(r),r<0?[NaN,NaN]:[r>0?n[r-1]:e[0],r<n.length?n[r]:e[e.length-1]]},i.copy=function(){return Hi(e,t)},r()}a.scale.quantize=function(){return Ui(0,1,[0,1])};function Ui(e,t,n){var r,i;function a(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function o(){return r=n.length/(t-e),i=n.length-1,a}return a.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},a.range=function(e){return arguments.length?(n=e,o()):n},a.invertExtent=function(t){return t=n.indexOf(t),t=t<0?NaN:t/r+e,[t,t+1/r]},a.copy=function(){return Ui(e,t,n)},o()}a.scale.threshold=function(){return Wi([.5],[0,1])};function Wi(e,t){function n(n){if(n<=n)return t[a.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return Wi(e,t)},n}a.scale.identity=function(){return Gi([0,1])};function Gi(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Mi(e,t)},t.tickFormat=function(t,n){return d3_scale_linearTickFormat(e,t,n)},t.copy=function(){return Gi(e)},t}a.svg={};function Ki(){return 0}a.svg.arc=function(){var e=Ji,t=Yi,n=Ki,r=qi,i=Xi,a=Zi,o=Qi;function s(){var s=Math.max(0,+e.apply(this,arguments)),l=Math.max(0,+t.apply(this,arguments)),u=i.apply(this,arguments)-Ie,d=a.apply(this,arguments)-Ie,f=Math.abs(d-u),p=u>d?0:1;if(l<s&&(m=l,l=s,s=m),f>=Fe)return c(l,p)+(s?c(s,1-p):``)+`Z`;var m,h,g,_,v=0,y=0,b,x,S,C,w,T,E,D,O=[];if((_=(+o.apply(this,arguments)||0)/2)&&(g=r===qi?Math.sqrt(s*s+l*l):+r.apply(this,arguments),p||(y*=-1),l&&(y=Be(g/l*Math.sin(_))),s&&(v=Be(g/s*Math.sin(_)))),l){b=l*Math.cos(u+y),x=l*Math.sin(u+y),S=l*Math.cos(d-y),C=l*Math.sin(d-y);var k=Math.abs(d-u-2*y)<=Ne?0:1;if(y&&$i(b,x,S,C)===p^k){var A=(u+d)/2;b=l*Math.cos(A),x=l*Math.sin(A),S=C=null}}else b=x=0;if(s){w=s*Math.cos(d-v),T=s*Math.sin(d-v),E=s*Math.cos(u+v),D=s*Math.sin(u+v);var j=Math.abs(u-d+2*v)<=Ne?0:1;if(v&&$i(w,T,E,D)===1-p^j){var M=(u+d)/2;w=s*Math.cos(M),T=s*Math.sin(M),E=D=null}}else w=T=0;if(f>je&&(m=Math.min(Math.abs(l-s)/2,+n.apply(this,arguments)))>.001){h=s<l^p?0:1;var N=m,P=m;if(f<Ne){var F=E==null?[w,T]:S==null?[b,x]:Gt([b,x],[E,D],[S,C],[w,T]),I=b-F[0],L=x-F[1],R=S-F[0],z=C-F[1],B=1/Math.sin(Math.acos((I*R+L*z)/(Math.sqrt(I*I+L*L)*Math.sqrt(R*R+z*z)))/2),V=Math.sqrt(F[0]*F[0]+F[1]*F[1]);P=Math.min(m,(s-V)/(B-1)),N=Math.min(m,(l-V)/(B+1))}if(S!=null){var H=ea(E==null?[w,T]:[E,D],[b,x],l,N,p),U=ea([S,C],[w,T],l,N,p);m===N?O.push(`M`,H[0],`A`,N,`,`,N,` 0 0,`,h,` `,H[1],`A`,l,`,`,l,` 0 `,1-p^$i(H[1][0],H[1][1],U[1][0],U[1][1]),`,`,p,` `,U[1],`A`,N,`,`,N,` 0 0,`,h,` `,U[0]):O.push(`M`,H[0],`A`,N,`,`,N,` 0 1,`,h,` `,U[0])}else O.push(`M`,b,`,`,x);if(E!=null){var W=ea([b,x],[E,D],s,-P,p),G=ea([w,T],S==null?[b,x]:[S,C],s,-P,p);m===P?O.push(`L`,G[0],`A`,P,`,`,P,` 0 0,`,h,` `,G[1],`A`,s,`,`,s,` 0 `,p^$i(G[1][0],G[1][1],W[1][0],W[1][1]),`,`,1-p,` `,W[1],`A`,P,`,`,P,` 0 0,`,h,` `,W[0]):O.push(`L`,G[0],`A`,P,`,`,P,` 0 0,`,h,` `,W[0])}else O.push(`L`,w,`,`,T)}else O.push(`M`,b,`,`,x),S!=null&&O.push(`A`,l,`,`,l,` 0 `,k,`,`,p,` `,S,`,`,C),O.push(`L`,w,`,`,T),E!=null&&O.push(`A`,s,`,`,s,` 0 `,j,`,`,1-p,` `,E,`,`,D);return O.push(`Z`),O.join(``)}function c(e,t){return`M0,`+e+`A`+e+`,`+e+` 0 1,`+t+` 0,`+-e+`A`+e+`,`+e+` 0 1,`+t+` 0,`+e}return s.innerRadius=function(t){return arguments.length?(e=Tt(t),s):e},s.outerRadius=function(e){return arguments.length?(t=Tt(e),s):t},s.cornerRadius=function(e){return arguments.length?(n=Tt(e),s):n},s.padRadius=function(e){return arguments.length?(r=e==qi?qi:Tt(e),s):r},s.startAngle=function(e){return arguments.length?(i=Tt(e),s):i},s.endAngle=function(e){return arguments.length?(a=Tt(e),s):a},s.padAngle=function(e){return arguments.length?(o=Tt(e),s):o},s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Ie;return[Math.cos(r)*n,Math.sin(r)*n]},s};var qi=`auto`;function Ji(e){return e.innerRadius}function Yi(e){return e.outerRadius}function Xi(e){return e.startAngle}function Zi(e){return e.endAngle}function Qi(e){return e&&e.padAngle}function $i(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function ea(e,t,n,r,i){var a=e[0]-t[0],o=e[1]-t[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),c=s*o,l=-s*a,u=e[0]+c,d=e[1]+l,f=t[0]+c,p=t[1]+l,m=(u+f)/2,h=(d+p)/2,g=f-u,_=p-d,v=g*g+_*_,y=n-r,b=u*p-f*d,x=(_<0?-1:1)*Math.sqrt(Math.max(0,y*y*v-b*b)),S=(b*_-g*x)/v,C=(-b*g-_*x)/v,w=(b*_+g*x)/v,T=(-b*g+_*x)/v,E=S-m,D=C-h,O=w-m,k=T-h;return E*E+D*D>O*O+k*k&&(S=w,C=T),[[S-c,C-l],[S*n/y,C*n/y]]}function ta(){return!0}function na(e){var t=zt,n=Bt,r=ta,i=ia,a=i.key,o=.7;function s(a){var s=[],c=[],l=-1,u=a.length,d,f=Tt(t),p=Tt(n);function m(){s.push(`M`,i(e(c),o))}for(;++l<u;)r.call(this,d=a[l],l)?c.push([+f.call(this,d,l),+p.call(this,d,l)]):c.length&&(m(),c=[]);return c.length&&m(),s.length?s.join(``):null}return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(r=e,s):r},s.interpolate=function(e){return arguments.length?(a=typeof e==`function`?i=e:(i=ra.get(e)||ia).key,s):a},s.tension=function(e){return arguments.length?(o=e,s):o},s}a.svg.line=function(){return na(I)};var ra=a.map({linear:ia,"linear-closed":aa,step:oa,"step-before":sa,"step-after":ca,basis:ma,"basis-open":ha,"basis-closed":ga,bundle:_a,cardinal:da,"cardinal-open":la,"cardinal-closed":ua,monotone:Ea});ra.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});function ia(e){return e.length>1?e.join(`L`):e+`Z`}function aa(e){return e.join(`L`)+`Z`}function oa(e){for(var t=0,n=e.length,r=e[0],i=[r[0],`,`,r[1]];++t<n;)i.push(`H`,(r[0]+(r=e[t])[0])/2,`V`,r[1]);return n>1&&i.push(`H`,r[0]),i.join(``)}function sa(e){for(var t=0,n=e.length,r=e[0],i=[r[0],`,`,r[1]];++t<n;)i.push(`V`,(r=e[t])[1],`H`,r[0]);return i.join(``)}function ca(e){for(var t=0,n=e.length,r=e[0],i=[r[0],`,`,r[1]];++t<n;)i.push(`H`,(r=e[t])[0],`V`,r[1]);return i.join(``)}function la(e,t){return e.length<4?ia(e):e[1]+fa(e.slice(1,-1),pa(e,t))}function ua(e,t){return e.length<3?aa(e):e[0]+fa((e.push(e[0]),e),pa([e[e.length-2]].concat(e,[e[1]]),t))}function da(e,t){return e.length<3?ia(e):e[0]+fa(e,pa(e,t))}function fa(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return ia(e);var n=e.length!=t.length,r=``,i=e[0],a=e[1],o=t[0],s=o,c=1;if(n&&(r+=`Q`+(a[0]-o[0]*2/3)+`,`+(a[1]-o[1]*2/3)+`,`+a[0]+`,`+a[1],i=e[1],c=2),t.length>1){s=t[1],a=e[c],c++,r+=`C`+(i[0]+o[0])+`,`+(i[1]+o[1])+`,`+(a[0]-s[0])+`,`+(a[1]-s[1])+`,`+a[0]+`,`+a[1];for(var l=2;l<t.length;l++,c++)a=e[c],s=t[l],r+=`S`+(a[0]-s[0])+`,`+(a[1]-s[1])+`,`+a[0]+`,`+a[1]}if(n){var u=e[c];r+=`Q`+(a[0]+s[0]*2/3)+`,`+(a[1]+s[1]*2/3)+`,`+u[0]+`,`+u[1]}return r}function pa(e,t){for(var n=[],r=(1-t)/2,i,a=e[0],o=e[1],s=1,c=e.length;++s<c;)i=a,a=o,o=e[s],n.push([r*(o[0]-i[0]),r*(o[1]-i[1])]);return n}function ma(e){if(e.length<3)return ia(e);var t=1,n=e.length,r=e[0],i=r[0],a=r[1],o=[i,i,i,(r=e[1])[0]],s=[a,a,a,r[1]],c=[i,`,`,a,`L`,va(xa,o),`,`,va(xa,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),Sa(c,o,s);return e.pop(),c.push(`L`,r),c.join(``)}function ha(e){if(e.length<4)return ia(e);for(var t=[],n=-1,r=e.length,i,a=[0],o=[0];++n<3;)i=e[n],a.push(i[0]),o.push(i[1]);for(t.push(va(xa,a)+`,`+va(xa,o)),--n;++n<r;)i=e[n],a.shift(),a.push(i[0]),o.shift(),o.push(i[1]),Sa(t,a,o);return t.join(``)}function ga(e){for(var t,n=-1,r=e.length,i=r+4,a,o=[],s=[];++n<4;)a=e[n%r],o.push(a[0]),s.push(a[1]);for(t=[va(xa,o),`,`,va(xa,s)],--n;++n<i;)a=e[n%r],o.shift(),o.push(a[0]),s.shift(),s.push(a[1]),Sa(t,o,s);return t.join(``)}function _a(e,t){var n=e.length-1;if(n)for(var r=e[0][0],i=e[0][1],a=e[n][0]-r,o=e[n][1]-i,s=-1,c,l;++s<=n;)c=e[s],l=s/n,c[0]=t*c[0]+(1-t)*(r+l*a),c[1]=t*c[1]+(1-t)*(i+l*o);return ma(e)}function va(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}var ya=[0,2/3,1/3,0],ba=[0,1/3,2/3,0],xa=[0,1/6,2/3,1/6];function Sa(e,t,n){e.push(`C`,va(ya,t),`,`,va(ya,n),`,`,va(ba,t),`,`,va(ba,n),`,`,va(xa,t),`,`,va(xa,n))}function Ca(e,t){return(t[1]-e[1])/(t[0]-e[0])}function wa(e){for(var t=0,n=e.length-1,r=[],i=e[0],a=e[1],o=r[0]=Ca(i,a);++t<n;)r[t]=(o+(o=Ca(i=a,a=e[t+1])))/2;return r[t]=o,r}function Ta(e){for(var t=[],n,r,i,a,o=wa(e),s=-1,c=e.length-1;++s<c;)n=Ca(e[s],e[s+1]),S(n)<je?o[s]=o[s+1]=0:(r=o[s]/n,i=o[s+1]/n,a=r*r+i*i,a>9&&(a=n*3/Math.sqrt(a),o[s]=a*r,o[s+1]=a*i));for(s=-1;++s<=c;)a=(e[Math.min(c,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),t.push([a||0,o[s]*a||0]);return t}function Ea(e){return e.length<3?ia(e):e[0]+fa(e,Ta(e))}a.svg.line.radial=function(){var e=na(Da);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e};function Da(e){for(var t,n=-1,r=e.length,i,a;++n<r;)t=e[n],i=t[0],a=t[1]-Ie,t[0]=i*Math.cos(a),t[1]=i*Math.sin(a);return e}function Oa(e){var t=zt,n=zt,r=0,i=Bt,a=ta,o=ia,s=o.key,c=o,l=`L`,u=.7;function d(s){var d=[],f=[],p=[],m=-1,h=s.length,g,_=Tt(t),v=Tt(r),y=t===n?function(){return x}:Tt(n),b=r===i?function(){return S}:Tt(i),x,S;function C(){d.push(`M`,o(e(p),u),l,c(e(f.reverse()),u),`Z`)}for(;++m<h;)a.call(this,g=s[m],m)?(f.push([x=+_.call(this,g,m),S=+v.call(this,g,m)]),p.push([+y.call(this,g,m),+b.call(this,g,m)])):f.length&&(C(),f=[],p=[]);return f.length&&C(),d.length?d.join(``):null}return d.x=function(e){return arguments.length?(t=n=e,d):n},d.x0=function(e){return arguments.length?(t=e,d):t},d.x1=function(e){return arguments.length?(n=e,d):n},d.y=function(e){return arguments.length?(r=i=e,d):i},d.y0=function(e){return arguments.length?(r=e,d):r},d.y1=function(e){return arguments.length?(i=e,d):i},d.defined=function(e){return arguments.length?(a=e,d):a},d.interpolate=function(e){return arguments.length?(s=typeof e==`function`?o=e:(o=ra.get(e)||ia).key,c=o.reverse||o,l=o.closed?`M`:`L`,d):s},d.tension=function(e){return arguments.length?(u=e,d):u},d}sa.reverse=ca,ca.reverse=sa,a.svg.area=function(){return Oa(I)},a.svg.area.radial=function(){var e=Oa(Da);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e};function ka(e){return e.source}function Aa(e){return e.target}a.svg.chord=function(){var e=ka,t=Aa,n=ja,r=Xi,i=Zi;function a(n,r){var i=o(this,e,n,r),a=o(this,t,n,r);return`M`+i.p0+c(i.r,i.p1,i.a1-i.a0)+(s(i,a)?l(i.r,i.p1,i.r,i.p0):l(i.r,i.p1,a.r,a.p0)+c(a.r,a.p1,a.a1-a.a0)+l(a.r,a.p1,i.r,i.p0))+`Z`}function o(e,t,a,o){var s=t.call(e,a,o),c=n.call(e,s,o),l=r.call(e,s,o)-Ie,u=i.call(e,s,o)-Ie;return{r:c,a0:l,a1:u,p0:[c*Math.cos(l),c*Math.sin(l)],p1:[c*Math.cos(u),c*Math.sin(u)]}}function s(e,t){return e.a0==t.a0&&e.a1==t.a1}function c(e,t,n){return`A`+e+`,`+e+` 0 `+ +(n>Ne)+`,1 `+t}function l(e,t,n,r){return`Q 0,0 `+r}return a.radius=function(e){return arguments.length?(n=Tt(e),a):n},a.source=function(t){return arguments.length?(e=Tt(t),a):e},a.target=function(e){return arguments.length?(t=Tt(e),a):t},a.startAngle=function(e){return arguments.length?(r=Tt(e),a):r},a.endAngle=function(e){return arguments.length?(i=Tt(e),a):i},a};function ja(e){return e.radius}a.svg.diagonal=function(){var e=ka,t=Aa,n=Ma;function r(r,i){var a=e.call(this,r,i),o=t.call(this,r,i),s=(a.y+o.y)/2,c=[a,{x:a.x,y:s},{x:o.x,y:s},o];return c=c.map(n),`M`+c[0]+`C`+c[1]+` `+c[2]+` `+c[3]}return r.source=function(t){return arguments.length?(e=Tt(t),r):e},r.target=function(e){return arguments.length?(t=Tt(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r};function Ma(e){return[e.x,e.y]}a.svg.diagonal.radial=function(){var e=a.svg.diagonal(),t=Ma,n=e.projection;return e.projection=function(e){return arguments.length?n(Na(t=e)):t},e};function Na(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Ie;return[n*Math.cos(r),n*Math.sin(r)]}}a.svg.symbol=function(){var e=Fa,t=Pa;function n(n,r){return(La.get(e.call(this,n,r))||Ia)(t.call(this,n,r))}return n.type=function(t){return arguments.length?(e=Tt(t),n):e},n.size=function(e){return arguments.length?(t=Tt(e),n):t},n};function Pa(){return 64}function Fa(){return`circle`}function Ia(e){var t=Math.sqrt(e/Ne);return`M0,`+t+`A`+t+`,`+t+` 0 1,1 0,`+-t+`A`+t+`,`+t+` 0 1,1 0,`+t+`Z`}var La=a.map({circle:Ia,cross:function(e){var t=Math.sqrt(e/5)/2;return`M`+-3*t+`,`+-t+`H`+-t+`V`+-3*t+`H`+t+`V`+-t+`H`+3*t+`V`+t+`H`+t+`V`+3*t+`H`+-t+`V`+t+`H`+-3*t+`Z`},diamond:function(e){var t=Math.sqrt(e/(2*za)),n=t*za;return`M0,`+-t+`L`+n+`,0 0,`+t+` `+-n+`,0Z`},square:function(e){var t=Math.sqrt(e)/2;return`M`+-t+`,`+-t+`L`+t+`,`+-t+` `+t+`,`+t+` `+-t+`,`+t+`Z`},"triangle-down":function(e){var t=Math.sqrt(e/Ra),n=t*Ra/2;return`M0,`+n+`L`+t+`,`+-n+` `+-t+`,`+-n+`Z`},"triangle-up":function(e){var t=Math.sqrt(e/Ra),n=t*Ra/2;return`M0,`+-n+`L`+t+`,`+n+` `+-t+`,`+n+`Z`}});a.svg.symbolTypes=La.keys();var Ra=Math.sqrt(3),za=Math.tan(30*Le);ne.transition=function(e){for(var t=Ga||++Wa,n=Ya(e),r=[],i,a,o=Ka||{time:Date.now(),ease:Qn,delay:0,duration:250},s=-1,c=this.length;++s<c;){r.push(i=[]);for(var l=this[s],u=-1,d=l.length;++u<d;)(a=l[u])&&Xa(a,u,n,t,o),i.push(a)}return Ha(r,n,t)},ne.interrupt=function(e){return this.each(e==null?Ba:Va(Ya(e)))};var Ba=Va(Ya());function Va(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Ha(e,t,n){return ee(e,Ua),e.namespace=t,e.id=n,e}var Ua=[],Wa=0,Ga,Ka;Ua.call=ne.call,Ua.empty=ne.empty,Ua.node=ne.node,Ua.size=ne.size,a.transition=function(e,t){return e&&e.transition?Ga?e.transition(t):e:a.selection().transition(e)},a.transition.prototype=Ua,Ua.select=function(e){var t=this.id,n=this.namespace,r=[],i,a,o;e=re(e);for(var s=-1,c=this.length;++s<c;){r.push(i=[]);for(var l=this[s],u=-1,d=l.length;++u<d;)(o=l[u])&&(a=e.call(o,o.__data__,u,s))?(`__data__`in o&&(a.__data__=o.__data__),Xa(a,u,n,t,o[n][t]),i.push(a)):i.push(null)}return Ha(r,n,t)},Ua.selectAll=function(e){var t=this.id,n=this.namespace,r=[],i,a,o,s,c;e=ie(e);for(var l=-1,u=this.length;++l<u;)for(var d=this[l],f=-1,p=d.length;++f<p;)if(o=d[f]){c=o[n][t],a=e.call(o,o.__data__,f,l),r.push(i=[]);for(var m=-1,h=a.length;++m<h;)(s=a[m])&&Xa(s,m,n,t,c),i.push(s)}return Ha(r,n,t)},Ua.filter=function(e){var t=[],n,r,i;typeof e!=`function`&&(e=ve(e));for(var a=0,o=this.length;a<o;a++){t.push(n=[]);for(var r=this[a],s=0,c=r.length;s<c;s++)(i=r[s])&&e.call(i,i.__data__,s,a)&&n.push(i)}return Ha(t,this.namespace,this.id)},Ua.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):be(this,t==null?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})};function qa(e,t,n,r){var i=e.id,a=e.namespace;return be(e,typeof n==`function`?function(e,o,s){e[a][i].tween.set(t,r(n.call(e,e.__data__,o,s)))}:(n=r(n),function(e){e[a][i].tween.set(t,n)}))}Ua.attr=function(e,t){if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var n=e==`transform`?yr:Hn,r=a.ns.qualify(e);function i(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}function s(e){return e==null?i:(e+=``,function(){var t=this.getAttribute(r),i;return t!==e&&(i=n(t,e),function(e){this.setAttribute(r,i(e))})})}function c(e){return e==null?o:(e+=``,function(){var t=this.getAttributeNS(r.space,r.local),i;return t!==e&&(i=n(t,e),function(e){this.setAttributeNS(r.space,r.local,i(e))})})}return qa(this,`attr.`+e,t,r.local?c:s)},Ua.attrTween=function(e,t){var n=a.ns.qualify(e);function r(e,r){var i=t.call(this,e,r,this.getAttribute(n));return i&&function(e){this.setAttribute(n,i(e))}}function i(e,r){var i=t.call(this,e,r,this.getAttributeNS(n.space,n.local));return i&&function(e){this.setAttributeNS(n.space,n.local,i(e))}}return this.tween(`attr.`+e,n.local?i:r)},Ua.style=function(e,t,n){var r=arguments.length;if(r<3){if(typeof e!=`string`){for(n in r<2&&(t=``),e)this.style(n,e[n],t);return this}n=``}function i(){this.style.removeProperty(e)}function a(t){return t==null?i:(t+=``,function(){var r=u(this).getComputedStyle(this,null).getPropertyValue(e),i;return r!==t&&(i=Hn(r,t),function(t){this.style.setProperty(e,i(t),n)})})}return qa(this,`style.`+e,t,a)},Ua.styleTween=function(e,t,n){arguments.length<3&&(n=``);function r(r,i){var a=t.call(this,r,i,u(this).getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),n)}}return this.tween(`style.`+e,r)},Ua.text=function(e){return qa(this,`text`,e,Ja)};function Ja(e){return e??=``,function(){this.textContent=e}}Ua.remove=function(){var e=this.namespace;return this.each(`end.transition`,function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},Ua.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:(typeof e!=`function`&&(e=a.ease.apply(a,arguments)),be(this,function(r){r[n][t].ease=e}))},Ua.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:be(this,typeof e==`function`?function(r,i,a){r[n][t].delay=+e.call(r,r.__data__,i,a)}:(e=+e,function(r){r[n][t].delay=e}))},Ua.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:be(this,typeof e==`function`?function(r,i,a){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,a))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Ua.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Ka,o=Ga;try{Ga=n,be(this,function(t,i,a){Ka=t[r][n],e.call(t,t.__data__,i,a)})}finally{Ka=i,Ga=o}}else be(this,function(i){var o=i[r][n];(o.event||=a.dispatch(`start`,`end`,`interrupt`)).on(e,t)});return this},Ua.transition=function(){for(var e=this.id,t=++Wa,n=this.namespace,r=[],i,a,o,s,c=0,l=this.length;c<l;c++){r.push(i=[]);for(var a=this[c],u=0,d=a.length;u<d;u++)(o=a[u])&&(s=o[n][e],Xa(o,u,n,t,{time:s.time,ease:s.ease,delay:s.delay+s.duration,duration:s.duration})),i.push(o)}return Ha(r,n,t)};function Ya(e){return e==null?`__transition__`:`__transition_`+e+`__`}function Xa(e,t,n,r,i){var a=e[n]||(e[n]={active:0,count:0}),o=a[r],s,c,l,u,d;function f(e){var t=o.delay;if(c.t=t+s,t<=e)return p(e-t);c.c=p}function p(n){var i=a.active,f=a[i];for(var p in f&&(f.timer.c=null,f.timer.t=NaN,--a.count,delete a[i],f.event&&f.event.interrupt.call(e,e.__data__,f.index)),a)if(+p<r){var h=a[p];h.timer.c=null,h.timer.t=NaN,--a.count,delete a[p]}c.c=m,Ft(function(){return c.c&&m(n||1)&&(c.c=null,c.t=NaN),1},0,s),a.active=r,o.event&&o.event.start.call(e,e.__data__,t),d=[],o.tween.forEach(function(n,r){(r=r.call(e,e.__data__,t))&&d.push(r)}),u=o.ease,l=o.duration}function m(i){for(var s=i/l,c=u(s),f=d.length;f>0;)d[--f].call(e,c);if(s>=1)return o.event&&o.event.end.call(e,e.__data__,t),--a.count?delete a[r]:delete e[n],1}o||(s=i.time,c=Ft(f,0,s),o=a[r]={tween:new T,time:s,timer:c,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++a.count)}a.svg.axis=function(){var e=a.scale.linear(),t=Za,n=6,r=6,i=3,o=[10],c=null,l;function u(s){s.each(function(){var s=a.select(this),u=this.__chart__||e,d=this.__chart__=e.copy(),f=c??(d.ticks?d.ticks.apply(d,o):d.domain()),p=l??(d.tickFormat?d.tickFormat.apply(d,o):I),m=s.selectAll(`.tick`).data(f,d),h=m.enter().insert(`g`,`.domain`).attr(`class`,`tick`).style(`opacity`,je),g=a.transition(m.exit()).style(`opacity`,je).remove(),_=a.transition(m.order()).style(`opacity`,1),v=Math.max(n,0)+i,y,b=Si(d),x=s.selectAll(`.domain`).data([0]),S=(x.enter().append(`path`).attr(`class`,`domain`),a.transition(x));h.append(`line`),h.append(`text`);var C=h.select(`line`),w=_.select(`line`),T=m.select(`text`).text(p),E=h.select(`text`),D=_.select(`text`),O=t===`top`||t===`left`?-1:1,k,A,j,M;if(t===`bottom`||t===`top`?(y=$a,k=`x`,j=`y`,A=`x2`,M=`y2`,T.attr(`dy`,O<0?`0em`:`.71em`).style(`text-anchor`,`middle`),S.attr(`d`,`M`+b[0]+`,`+O*r+`V0H`+b[1]+`V`+O*r)):(y=eo,k=`y`,j=`x`,A=`y2`,M=`x2`,T.attr(`dy`,`.32em`).style(`text-anchor`,O<0?`end`:`start`),S.attr(`d`,`M`+O*r+`,`+b[0]+`H0V`+b[1]+`H`+O*r)),C.attr(M,O*n),E.attr(j,O*v),w.attr(A,0).attr(M,O*n),D.attr(k,0).attr(j,O*v),d.rangeBand){var N=d,P=N.rangeBand()/2;u=d=function(e){return N(e)+P}}else u.rangeBand?u=d:g.call(y,d,u);h.call(y,u,d),_.call(y,d,d)})}return u.scale=function(t){return arguments.length?(e=t,u):e},u.orient=function(e){return arguments.length?(t=e in Qa?e+``:Za,u):t},u.ticks=function(){return arguments.length?(o=s(arguments),u):o},u.tickValues=function(e){return arguments.length?(c=e,u):c},u.tickFormat=function(e){return arguments.length?(l=e,u):l},u.tickSize=function(e){var t=arguments.length;return t?(n=+e,r=+arguments[t-1],u):n},u.innerTickSize=function(e){return arguments.length?(n=+e,u):n},u.outerTickSize=function(e){return arguments.length?(r=+e,u):r},u.tickPadding=function(e){return arguments.length?(i=+e,u):i},u.tickSubdivide=function(){return arguments.length&&u},u};var Za=`bottom`,Qa={top:1,right:1,bottom:1,left:1};function $a(e,t,n){e.attr(`transform`,function(e){var r=t(e);return`translate(`+(isFinite(r)?r:n(e))+`,0)`})}function eo(e,t,n){e.attr(`transform`,function(e){var r=t(e);return`translate(0,`+(isFinite(r)?r:n(e))+`)`})}a.svg.brush=function(){var e=G(f,`brushstart`,`brush`,`brushend`),t=null,n=null,r=[0,0],i=[0,0],o,s,c=!0,l=!0,d=no[0];function f(e){e.each(function(){var e=a.select(this).style(`pointer-events`,`all`).style(`-webkit-tap-highlight-color`,`rgba(0,0,0,0)`).on(`mousedown.brush`,g).on(`touchstart.brush`,g),r=e.selectAll(`.background`).data([0]);r.enter().append(`rect`).attr(`class`,`background`).style(`visibility`,`hidden`).style(`cursor`,`crosshair`),e.selectAll(`.extent`).data([0]).enter().append(`rect`).attr(`class`,`extent`).style(`cursor`,`move`);var i=e.selectAll(`.resize`).data(d,I);i.exit().remove(),i.enter().append(`g`).attr(`class`,function(e){return`resize `+e}).style(`cursor`,function(e){return to[e]}).append(`rect`).attr(`x`,function(e){return/[ew]$/.test(e)?-3:null}).attr(`y`,function(e){return/^[ns]/.test(e)?-3:null}).attr(`width`,6).attr(`height`,6).style(`visibility`,`hidden`),i.style(`display`,f.empty()?`none`:null);var o=a.transition(e),s=a.transition(r),c;t&&(c=Si(t),s.attr(`x`,c[0]).attr(`width`,c[1]-c[0]),m(o)),n&&(c=Si(n),s.attr(`y`,c[0]).attr(`height`,c[1]-c[0]),h(o)),p(o)})}f.event=function(t){t.each(function(){var t=e.of(this,arguments),n={x:r,y:i,i:o,j:s},c=this.__chart__||n;this.__chart__=n,Ga?a.select(this).transition().each(`start.brush`,function(){o=c.i,s=c.j,r=c.x,i=c.y,t({type:`brushstart`})}).tween(`brush:brush`,function(){var e=Un(r,n.x),a=Un(i,n.y);return o=s=null,function(o){r=n.x=e(o),i=n.y=a(o),t({type:`brush`,mode:`resize`})}}).each(`end.brush`,function(){o=n.i,s=n.j,t({type:`brush`,mode:`resize`}),t({type:`brushend`})}):(t({type:`brushstart`}),t({type:`brush`,mode:`resize`}),t({type:`brushend`}))})};function p(e){e.selectAll(`.resize`).attr(`transform`,function(e){return`translate(`+r[+/e$/.test(e)]+`,`+i[+/^s/.test(e)]+`)`})}function m(e){e.select(`.extent`).attr(`x`,r[0]),e.selectAll(`.extent,.n>rect,.s>rect`).attr(`width`,r[1]-r[0])}function h(e){e.select(`.extent`).attr(`y`,i[0]),e.selectAll(`.extent,.e>rect,.w>rect`).attr(`height`,i[1]-i[0])}function g(){var d=this,g=a.select(a.event.target),_=e.of(d,arguments),v=a.select(d),y=g.datum(),b=!/^(n|s)$/.test(y)&&t,x=!/^(e|w)$/.test(y)&&n,S=g.classed(`extent`),C=Q(d),w,T=a.mouse(d),E,D=a.select(u(d)).on(`keydown.brush`,A).on(`keyup.brush`,j);if(a.event.changedTouches?D.on(`touchmove.brush`,M).on(`touchend.brush`,P):D.on(`mousemove.brush`,M).on(`mouseup.brush`,P),v.interrupt().selectAll(`*`).interrupt(),S)T[0]=r[0]-T[0],T[1]=i[0]-T[1];else if(y){var O=+/w$/.test(y),k=+/^n/.test(y);E=[r[1-O]-T[0],i[1-k]-T[1]],T[0]=r[O],T[1]=i[k]}else a.event.altKey&&(w=T.slice());v.style(`pointer-events`,`none`).selectAll(`.resize`).style(`display`,null),a.select(`body`).style(`cursor`,g.style(`cursor`)),_({type:`brushstart`}),M();function A(){a.event.keyCode==32&&(S||=(w=null,T[0]-=r[1],T[1]-=i[1],2),U())}function j(){a.event.keyCode==32&&S==2&&(T[0]+=r[1],T[1]+=i[1],S=0,U())}function M(){var e=a.mouse(d),o=!1;E&&(e[0]+=E[0],e[1]+=E[1]),S||(a.event.altKey?(w||=[(r[0]+r[1])/2,(i[0]+i[1])/2],T[0]=r[+(e[0]<w[0])],T[1]=i[+(e[1]<w[1])]):w=null),b&&N(e,t,0)&&(m(v),o=!0),x&&N(e,n,1)&&(h(v),o=!0),o&&(p(v),_({type:`brush`,mode:S?`move`:`resize`}))}function N(e,t,n){var a=Si(t),u=a[0],d=a[1],f=T[n],p=n?i:r,m=p[1]-p[0],h,g;if(S&&(u-=f,d-=m+f),h=(n?l:c)?Math.max(u,Math.min(d,e[n])):e[n],S?g=(h+=f)+m:(w&&(f=Math.max(u,Math.min(d,2*w[n]-h))),f<h?(g=h,h=f):g=f),p[0]!=h||p[1]!=g)return n?s=null:o=null,p[0]=h,p[1]=g,!0}function P(){M(),v.style(`pointer-events`,`all`).selectAll(`.resize`).style(`display`,f.empty()?`none`:null),a.select(`body`).style(`cursor`,null),D.on(`mousemove.brush`,null).on(`mouseup.brush`,null).on(`touchmove.brush`,null).on(`touchend.brush`,null).on(`keydown.brush`,null).on(`keyup.brush`,null),C(),_({type:`brushend`})}}return f.x=function(e){return arguments.length?(t=e,d=no[!t<<1|!n],f):t},f.y=function(e){return arguments.length?(n=e,d=no[!t<<1|!n],f):n},f.clamp=function(e){return arguments.length?(t&&n?(c=!!e[0],l=!!e[1]):t?c=!!e:n&&(l=!!e),f):t&&n?[c,l]:t?c:n?l:null},f.extent=function(e){var a,c,l,u,d;return arguments.length?(t&&(a=e[0],c=e[1],n&&(a=a[0],c=c[0]),o=[a,c],t.invert&&(a=t(a),c=t(c)),c<a&&(d=a,a=c,c=d),(a!=r[0]||c!=r[1])&&(r=[a,c])),n&&(l=e[0],u=e[1],t&&(l=l[1],u=u[1]),s=[l,u],n.invert&&(l=n(l),u=n(u)),u<l&&(d=l,l=u,u=d),(l!=i[0]||u!=i[1])&&(i=[l,u])),f):(t&&(o?(a=o[0],c=o[1]):(a=r[0],c=r[1],t.invert&&(a=t.invert(a),c=t.invert(c)),c<a&&(d=a,a=c,c=d))),n&&(s?(l=s[0],u=s[1]):(l=i[0],u=i[1],n.invert&&(l=n.invert(l),u=n.invert(u)),u<l&&(d=l,l=u,u=d))),t&&n?[[a,l],[c,u]]:t?[a,c]:n&&[l,u])},f.clear=function(){return f.empty()||(r=[0,0],i=[0,0],o=s=null),f},f.empty=function(){return!!t&&r[0]==r[1]||!!n&&i[0]==i[1]},a.rebind(f,e,`on`)};var to={n:`ns-resize`,e:`ew-resize`,s:`ns-resize`,w:`ew-resize`,nw:`nwse-resize`,ne:`nesw-resize`,se:`nwse-resize`,sw:`nesw-resize`},no=[[`n`,`e`,`s`,`w`,`nw`,`ne`,`se`,`sw`],[`e`,`w`],[`n`,`s`],[]];a.text=Et(function(e){return e.responseText}),a.json=function(e,t){return Dt(e,`application/json`,ro,t)};function ro(e){return JSON.parse(e.responseText)}a.html=function(e,t){return Dt(e,`text/html`,io,t)};function io(e){var t=c.createRange();return t.selectNode(c.body),t.createContextualFragment(e.responseText)}a.xml=Et(function(e){return e.responseXML}),r=a,i=typeof r==`function`?r.call(t,n,t,e):r,i!==void 0&&(e.exports=i)}).apply(self)}),88294:(function(e,t,n){e.exports=n(62849)}),62849:(function(e,t,n){var r=n(91358),i=n(53435),a=n(18863),o=n(21527),s=n(71299),c=n(46775),l=n(30120),u=n(64941),d=n(90660),f=n(27084),p=1073741824;e.exports=function(e,t){t||={},e=l(e,`float64`),t=s(t,{bounds:`range bounds dataBox databox`,maxDepth:`depth maxDepth maxdepth level maxLevel maxlevel levels`,dtype:`type dtype format out dst output destination`});var n=c(t.maxDepth,255),i=c(t.bounds,o(e,2));i[0]===i[2]&&i[2]++,i[1]===i[3]&&i[3]++;var h=m(e,i),g=e.length>>>1,_;t.dtype||=`array`,typeof t.dtype==`string`?_=new(d(t.dtype))(g):t.dtype&&(_=t.dtype,Array.isArray(_)&&(_.length=g));for(var v=0;v<g;++v)_[v]=v;var y=[],b=[],x=[],S=[];k(0,0,1,_,0,1);for(var C=0,w=0;w<y.length;w++){var T=y[w];if(_.set)_.set(T,C);else for(var E=0,D=T.length;E<D;E++)_[E+C]=T[E];var O=C+y[w].length;S[w]=[C,O],C=O}return _.range=A,_;function k(e,t,r,i,a,o){if(!i.length)return null;var s=y[a]||(y[a]=[]),c=x[a]||(x[a]=[]),l=b[a]||(b[a]=[]),u=s.length;if(a++,a>n||o>p){for(var d=0;d<i.length;d++)s.push(i[d]),c.push(o),l.push(null,null,null,null);return u}if(s.push(i[0]),c.push(o),i.length<=1)return l.push(null,null,null,null),u;for(var f=r*.5,m=e+f,g=t+f,_=[],v=[],S=[],C=[],w=1,T=i.length;w<T;w++){var E=i[w],D=h[E*2],O=h[E*2+1];D<m?O<g?_.push(E):v.push(E):O<g?S.push(E):C.push(E)}return o<<=2,l.push(k(e,t,f,_,a,o),k(e,g,f,v,a,o+1),k(m,t,f,S,a,o+2),k(m,g,f,C,a,o+3)),u}function A(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var r;if(u(t[t.length-1])){var o=t.pop();!t.length&&(o.x!=null||o.l!=null||o.left!=null)&&(t=[o],r={}),r=s(o,{level:`level maxLevel`,d:`d diam diameter r radius px pxSize pixel pixelSize maxD size minSize`,lod:`lod details ranges offsets`})}else r={};t.length||(t=i);var l=a.apply(void 0,t),d=[Math.min(l.x,l.x+l.width),Math.min(l.y,l.y+l.height),Math.max(l.x,l.x+l.width),Math.max(l.y,l.y+l.height)],p=d[0],h=d[1],g=d[2],_=d[3],v=m([p,h,g,_],i),x=v[0],S=v[1],C=v[2],w=v[3],T=c(r.level,y.length);if(r.d!=null){var E;typeof r.d==`number`?E=[r.d,r.d]:r.d.length&&(E=r.d),T=Math.min(Math.max(Math.ceil(-f(Math.abs(E[0])/(i[2]-i[0]))),Math.ceil(-f(Math.abs(E[1])/(i[3]-i[1])))),T)}if(T=Math.min(T,y.length),r.lod)return j(x,S,C,w,T);var D=[];O(0,0,1,0,0,1);function O(t,n,r,i,a,o){if(!(a===null||o===null)){var s=t+r,c=n+r;if(!(x>s||S>c||C<t||w<n)&&!(i>=T)&&a!==o){var l=y[i];o===void 0&&(o=l.length);for(var u=a;u<o;u++){var d=l[u],f=e[d*2],m=e[d*2+1];f>=p&&f<=g&&m>=h&&m<=_&&D.push(d)}var v=b[i],E=v[a*4+0],A=v[a*4+1],j=v[a*4+2],M=v[a*4+3],N=k(v,a+1),P=r*.5,F=i+1;O(t,n,P,F,E,A||j||M||N),O(t,n+P,P,F,A,j||M||N),O(t+P,n,P,F,j,M||N),O(t+P,n+P,P,F,M,N)}}}function k(e,t){for(var n=null,r=0;n===null;)if(n=e[t*4+r],r++,r>e.length)return null;return n}return D}function j(e,t,n,i,a){for(var o=[],s=0;s<a;s++){var c=x[s],l=S[s][0],u=M(e,t,s),d=M(n,i,s),f=r.ge(c,u),p=r.gt(c,d,f,c.length-1);o[s]=[f+l,p+l]}return o}function M(e,t,n){for(var r=1,i=.5,a=.5,o=.5,s=0;s<n;s++)r<<=2,r+=e<i?t<a?0:1:t<a?2:3,o*=.5,i+=e<i?-o:o,a+=t<a?-o:o;return r}};function m(e,t){for(var n=t[0],r=t[1],a=t[2],o=t[3],s=1/(a-n),c=1/(o-r),l=Array(e.length),u=0,d=e.length/2;u<d;u++)l[2*u]=i((e[2*u]-n)*s,0,1),l[2*u+1]=i((e[2*u+1]-r)*c,0,1);return l}}),30774:(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(60302),i=6378137;function a(e){return r.geomReduce(e,function(e,t){return e+o(t)},0)}t.default=a;function o(e){var t=0,n;switch(e.type){case`Polygon`:return s(e.coordinates);case`MultiPolygon`:for(n=0;n<e.coordinates.length;n++)t+=s(e.coordinates[n]);return t;case`Point`:case`MultiPoint`:case`LineString`:case`MultiLineString`:return 0}return 0}function s(e){var t=0;if(e&&e.length>0){t+=Math.abs(c(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(c(e[n]))}return t}function c(e){var t,n,r,a,o,s,c,u=0,d=e.length;if(d>2){for(c=0;c<d;c++)c===d-2?(a=d-2,o=d-1,s=0):c===d-1?(a=d-1,o=0,s=1):(a=c,o=c+1,s=c+2),t=e[a],n=e[o],r=e[s],u+=(l(r[0])-l(t[0]))*Math.sin(l(n[1]));u=u*i*i/2}return u}function l(e){return e*Math.PI/180}}),23132:(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:t.earthRadius*100,centimetres:t.earthRadius*100,degrees:t.earthRadius/111325,feet:t.earthRadius*3.28084,inches:t.earthRadius*39.37,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:t.earthRadius*1e3,millimetres:t.earthRadius*1e3,nauticalmiles:t.earthRadius/1852,radians:1,yards:t.earthRadius*1.0936},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function n(e,t,n){n===void 0&&(n={});var r={type:`Feature`};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}t.feature=n;function r(e,t,n){switch(n===void 0&&(n={}),e){case`Point`:return i(t).geometry;case`LineString`:return c(t).geometry;case`Polygon`:return o(t).geometry;case`MultiPoint`:return f(t).geometry;case`MultiLineString`:return d(t).geometry;case`MultiPolygon`:return p(t).geometry;default:throw Error(e+` is invalid`)}}t.geometry=r;function i(e,t,r){if(r===void 0&&(r={}),!e)throw Error(`coordinates is required`);if(!Array.isArray(e))throw Error(`coordinates must be an Array`);if(e.length<2)throw Error(`coordinates must be at least 2 numbers long`);if(!w(e[0])||!w(e[1]))throw Error(`coordinates must contain numbers`);return n({type:`Point`,coordinates:e},t,r)}t.point=i;function a(e,t,n){return n===void 0&&(n={}),u(e.map(function(e){return i(e,t)}),n)}t.points=a;function o(e,t,r){r===void 0&&(r={});for(var i=0,a=e;i<a.length;i++){var o=a[i];if(o.length<4)throw Error(`Each LinearRing of a Polygon must have 4 or more Positions.`);for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw Error(`First and last Position are not equivalent.`)}return n({type:`Polygon`,coordinates:e},t,r)}t.polygon=o;function s(e,t,n){return n===void 0&&(n={}),u(e.map(function(e){return o(e,t)}),n)}t.polygons=s;function c(e,t,r){if(r===void 0&&(r={}),e.length<2)throw Error(`coordinates must be an array of two or more positions`);return n({type:`LineString`,coordinates:e},t,r)}t.lineString=c;function l(e,t,n){return n===void 0&&(n={}),u(e.map(function(e){return c(e,t)}),n)}t.lineStrings=l;function u(e,t){t===void 0&&(t={});var n={type:`FeatureCollection`};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}t.featureCollection=u;function d(e,t,r){return r===void 0&&(r={}),n({type:`MultiLineString`,coordinates:e},t,r)}t.multiLineString=d;function f(e,t,r){return r===void 0&&(r={}),n({type:`MultiPoint`,coordinates:e},t,r)}t.multiPoint=f;function p(e,t,r){return r===void 0&&(r={}),n({type:`MultiPolygon`,coordinates:e},t,r)}t.multiPolygon=p;function m(e,t,r){return r===void 0&&(r={}),n({type:`GeometryCollection`,geometries:e},t,r)}t.geometryCollection=m;function h(e,t){if(t===void 0&&(t=0),t&&!(t>=0))throw Error(`precision must be a positive number`);var n=10**(t||0);return Math.round(e*n)/n}t.round=h;function g(e,n){n===void 0&&(n=`kilometers`);var r=t.factors[n];if(!r)throw Error(n+` units is invalid`);return e*r}t.radiansToLength=g;function _(e,n){n===void 0&&(n=`kilometers`);var r=t.factors[n];if(!r)throw Error(n+` units is invalid`);return e/r}t.lengthToRadians=_;function v(e,t){return b(_(e,t))}t.lengthToDegrees=v;function y(e){var t=e%360;return t<0&&(t+=360),t}t.bearingToAzimuth=y;function b(e){return e%(2*Math.PI)*180/Math.PI}t.radiansToDegrees=b;function x(e){return e%360*Math.PI/180}t.degreesToRadians=x;function S(e,t,n){if(t===void 0&&(t=`kilometers`),n===void 0&&(n=`kilometers`),!(e>=0))throw Error(`length must be a positive number`);return g(_(e,t),n)}t.convertLength=S;function C(e,n,r){if(n===void 0&&(n=`meters`),r===void 0&&(r=`kilometers`),!(e>=0))throw Error(`area must be a positive number`);var i=t.areaFactors[n];if(!i)throw Error(`invalid original units`);var a=t.areaFactors[r];if(!a)throw Error(`invalid final units`);return e/i*a}t.convertArea=C;function w(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}t.isNumber=w;function T(e){return!!e&&e.constructor===Object}t.isObject=T;function E(e){if(!e)throw Error(`bbox is required`);if(!Array.isArray(e))throw Error(`bbox must be an Array`);if(e.length!==4&&e.length!==6)throw Error(`bbox must be an Array of 4 or 6 numbers`);e.forEach(function(e){if(!w(e))throw Error(`bbox must only contain numbers`)})}t.validateBBox=E;function D(e){if(!e)throw Error(`id is required`);if([`string`,`number`].indexOf(typeof e)===-1)throw Error(`id must be a number or a string`)}t.validateId=D}),60302:(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(23132);function i(e,t,n){if(e!==null)for(var r,a,o,s,c,l,u,d=0,f=0,p,m=e.type,h=m===`FeatureCollection`,g=m===`Feature`,_=h?e.features.length:1,v=0;v<_;v++){u=h?e.features[v].geometry:g?e.geometry:e,p=u?u.type===`GeometryCollection`:!1,c=p?u.geometries.length:1;for(var y=0;y<c;y++){var b=0,x=0;if(s=p?u.geometries[y]:u,s!==null){l=s.coordinates;var S=s.type;switch(d=n&&(S===`Polygon`||S===`MultiPolygon`)?1:0,S){case null:break;case`Point`:if(t(l,f,v,b,x)===!1)return!1;f++,b++;break;case`LineString`:case`MultiPoint`:for(r=0;r<l.length;r++){if(t(l[r],f,v,b,x)===!1)return!1;f++,S===`MultiPoint`&&b++}S===`LineString`&&b++;break;case`Polygon`:case`MultiLineString`:for(r=0;r<l.length;r++){for(a=0;a<l[r].length-d;a++){if(t(l[r][a],f,v,b,x)===!1)return!1;f++}S===`MultiLineString`&&b++,S===`Polygon`&&x++}S===`Polygon`&&b++;break;case`MultiPolygon`:for(r=0;r<l.length;r++){for(x=0,a=0;a<l[r].length;a++){for(o=0;o<l[r][a].length-d;o++){if(t(l[r][a][o],f,v,b,x)===!1)return!1;f++}x++}b++}break;case`GeometryCollection`:for(r=0;r<s.geometries.length;r++)if(i(s.geometries[r],t,n)===!1)return!1;break;default:throw Error(`Unknown Geometry Type`)}}}}}function a(e,t,n,r){var a=n;return i(e,function(e,r,i,o,s){a=r===0&&n===void 0?e:t(a,e,r,i,o,s)},r),a}function o(e,t){var n;switch(e.type){case`FeatureCollection`:for(n=0;n<e.features.length&&t(e.features[n].properties,n)!==!1;n++);break;case`Feature`:t(e.properties,0);break}}function s(e,t,n){var r=n;return o(e,function(e,i){r=i===0&&n===void 0?e:t(r,e,i)}),r}function c(e,t){if(e.type===`Feature`)t(e,0);else if(e.type===`FeatureCollection`)for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}function l(e,t,n){var r=n;return c(e,function(e,i){r=i===0&&n===void 0?e:t(r,e,i)}),r}function u(e){var t=[];return i(e,function(e){t.push(e)}),t}function d(e,t){var n,r,i,a,o,s,c,l,u,d,f=0,p=e.type===`FeatureCollection`,m=e.type===`Feature`,h=p?e.features.length:1;for(n=0;n<h;n++){for(s=p?e.features[n].geometry:m?e.geometry:e,l=p?e.features[n].properties:m?e.properties:{},u=p?e.features[n].bbox:m?e.bbox:void 0,d=p?e.features[n].id:m?e.id:void 0,c=s?s.type===`GeometryCollection`:!1,o=c?s.geometries.length:1,i=0;i<o;i++){if(a=c?s.geometries[i]:s,a===null){if(t(null,f,l,u,d)===!1)return!1;continue}switch(a.type){case`Point`:case`LineString`:case`MultiPoint`:case`Polygon`:case`MultiLineString`:case`MultiPolygon`:if(t(a,f,l,u,d)===!1)return!1;break;case`GeometryCollection`:for(r=0;r<a.geometries.length;r++)if(t(a.geometries[r],f,l,u,d)===!1)return!1;break;default:throw Error(`Unknown Geometry Type`)}}f++}}function f(e,t,n){var r=n;return d(e,function(e,i,a,o,s){r=i===0&&n===void 0?e:t(r,e,i,a,o,s)}),r}function p(e,t){d(e,function(e,n,i,a,o){var s=e===null?null:e.type;switch(s){case null:case`Point`:case`LineString`:case`Polygon`:return t(r.feature(e,i,{bbox:a,id:o}),n,0)===!1?!1:void 0}var c;switch(s){case`MultiPoint`:c=`Point`;break;case`MultiLineString`:c=`LineString`;break;case`MultiPolygon`:c=`Polygon`;break}for(var l=0;l<e.coordinates.length;l++){var u=e.coordinates[l],d={type:c,coordinates:u};if(t(r.feature(d,i),n,l)===!1)return!1}})}function m(e,t,n){var r=n;return p(e,function(e,i,a){r=i===0&&a===0&&n===void 0?e:t(r,e,i,a)}),r}function h(e,t){p(e,function(e,n,a){var o=0;if(e.geometry){var s=e.geometry.type;if(!(s===`Point`||s===`MultiPoint`)){var c,l=0,u=0,d=0;if(i(e,function(i,s,f,p,m){if(c===void 0||n>l||p>u||m>d){c=i,l=n,u=p,d=m,o=0;return}if(t(r.lineString([c,i],e.properties),n,a,m,o)===!1)return!1;o++,c=i})===!1)return!1}}})}function g(e,t,n){var r=n,i=!1;return h(e,function(e,a,o,s,c){r=i===!1&&n===void 0?e:t(r,e,a,o,s,c),i=!0}),r}function _(e,t){if(!e)throw Error(`geojson is required`);p(e,function(e,n,i){if(e.geometry!==null){var a=e.geometry.type,o=e.geometry.coordinates;switch(a){case`LineString`:if(t(e,n,i,0,0)===!1)return!1;break;case`Polygon`:for(var s=0;s<o.length;s++)if(t(r.lineString(o[s],e.properties),n,i,s)===!1)return!1;break}}})}function v(e,t,n){var r=n;return _(e,function(e,i,a,o){r=i===0&&n===void 0?e:t(r,e,i,a,o)}),r}function y(e,t){if(t||={},!r.isObject(t))throw Error(`options is invalid`);var n=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,o=t.segmentIndex||0,s=t.properties,c;switch(e.type){case`FeatureCollection`:n<0&&(n=e.features.length+n),s||=e.features[n].properties,c=e.features[n].geometry;break;case`Feature`:s||=e.properties,c=e.geometry;break;case`Point`:case`MultiPoint`:return null;case`LineString`:case`Polygon`:case`MultiLineString`:case`MultiPolygon`:c=e;break;default:throw Error(`geojson is invalid`)}if(c===null)return null;var l=c.coordinates;switch(c.type){case`Point`:case`MultiPoint`:return null;case`LineString`:return o<0&&(o=l.length+o-1),r.lineString([l[o],l[o+1]],s,t);case`Polygon`:return a<0&&(a=l.length+a),o<0&&(o=l[a].length+o-1),r.lineString([l[a][o],l[a][o+1]],s,t);case`MultiLineString`:return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o-1),r.lineString([l[i][o],l[i][o+1]],s,t);case`MultiPolygon`:return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),o<0&&(o=l[i][a].length-o-1),r.lineString([l[i][a][o],l[i][a][o+1]],s,t)}throw Error(`geojson is invalid`)}function b(e,t){if(t||={},!r.isObject(t))throw Error(`options is invalid`);var n=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,o=t.coordIndex||0,s=t.properties,c;switch(e.type){case`FeatureCollection`:n<0&&(n=e.features.length+n),s||=e.features[n].properties,c=e.features[n].geometry;break;case`Feature`:s||=e.properties,c=e.geometry;break;case`Point`:case`MultiPoint`:return null;case`LineString`:case`Polygon`:case`MultiLineString`:case`MultiPolygon`:c=e;break;default:throw Error(`geojson is invalid`)}if(c===null)return null;var l=c.coordinates;switch(c.type){case`Point`:return r.point(l,s,t);case`MultiPoint`:return i<0&&(i=l.length+i),r.point(l[i],s,t);case`LineString`:return o<0&&(o=l.length+o),r.point(l[o],s,t);case`Polygon`:return a<0&&(a=l.length+a),o<0&&(o=l[a].length+o),r.point(l[a][o],s,t);case`MultiLineString`:return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o),r.point(l[i][o],s,t);case`MultiPolygon`:return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),o<0&&(o=l[i][a].length-o),r.point(l[i][a][o],s,t)}throw Error(`geojson is invalid`)}t.coordEach=i,t.coordReduce=a,t.propEach=o,t.propReduce=s,t.featureEach=c,t.featureReduce=l,t.coordAll=u,t.geomEach=d,t.geomReduce=f,t.flattenEach=p,t.flattenReduce=m,t.segmentEach=h,t.segmentReduce=g,t.lineEach=_,t.lineReduce=v,t.findSegment=y,t.findPoint=b}),85268:(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(27138);function i(e){var t=[1/0,1/0,-1/0,-1/0];return r.coordEach(e,function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])}),t}i.default=i,t.default=i}),94228:(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:t.earthRadius*100,centimetres:t.earthRadius*100,degrees:t.earthRadius/111325,feet:t.earthRadius*3.28084,inches:t.earthRadius*39.37,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:t.earthRadius*1e3,millimetres:t.earthRadius*1e3,nauticalmiles:t.earthRadius/1852,radians:1,yards:t.earthRadius*1.0936},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function n(e,t,n){n===void 0&&(n={});var r={type:`Feature`};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}t.feature=n;function r(e,t,n){switch(n===void 0&&(n={}),e){case`Point`:return i(t).geometry;case`LineString`:return c(t).geometry;case`Polygon`:return o(t).geometry;case`MultiPoint`:return f(t).geometry;case`MultiLineString`:return d(t).geometry;case`MultiPolygon`:return p(t).geometry;default:throw Error(e+` is invalid`)}}t.geometry=r;function i(e,t,r){if(r===void 0&&(r={}),!e)throw Error(`coordinates is required`);if(!Array.isArray(e))throw Error(`coordinates must be an Array`);if(e.length<2)throw Error(`coordinates must be at least 2 numbers long`);if(!w(e[0])||!w(e[1]))throw Error(`coordinates must contain numbers`);return n({type:`Point`,coordinates:e},t,r)}t.point=i;function a(e,t,n){return n===void 0&&(n={}),u(e.map(function(e){return i(e,t)}),n)}t.points=a;function o(e,t,r){r===void 0&&(r={});for(var i=0,a=e;i<a.length;i++){var o=a[i];if(o.length<4)throw Error(`Each LinearRing of a Polygon must have 4 or more Positions.`);for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw Error(`First and last Position are not equivalent.`)}return n({type:`Polygon`,coordinates:e},t,r)}t.polygon=o;function s(e,t,n){return n===void 0&&(n={}),u(e.map(function(e){return o(e,t)}),n)}t.polygons=s;function c(e,t,r){if(r===void 0&&(r={}),e.length<2)throw Error(`coordinates must be an array of two or more positions`);return n({type:`LineString`,coordinates:e},t,r)}t.lineString=c;function l(e,t,n){return n===void 0&&(n={}),u(e.map(function(e){return c(e,t)}),n)}t.lineStrings=l;function u(e,t){t===void 0&&(t={});var n={type:`FeatureCollection`};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}t.featureCollection=u;function d(e,t,r){return r===void 0&&(r={}),n({type:`MultiLineString`,coordinates:e},t,r)}t.multiLineString=d;function f(e,t,r){return r===void 0&&(r={}),n({type:`MultiPoint`,coordinates:e},t,r)}t.multiPoint=f;function p(e,t,r){return r===void 0&&(r={}),n({type:`MultiPolygon`,coordinates:e},t,r)}t.multiPolygon=p;function m(e,t,r){return r===void 0&&(r={}),n({type:`GeometryCollection`,geometries:e},t,r)}t.geometryCollection=m;function h(e,t){if(t===void 0&&(t=0),t&&!(t>=0))throw Error(`precision must be a positive number`);var n=10**(t||0);return Math.round(e*n)/n}t.round=h;function g(e,n){n===void 0&&(n=`kilometers`);var r=t.factors[n];if(!r)throw Error(n+` units is invalid`);return e*r}t.radiansToLength=g;function _(e,n){n===void 0&&(n=`kilometers`);var r=t.factors[n];if(!r)throw Error(n+` units is invalid`);return e/r}t.lengthToRadians=_;function v(e,t){return b(_(e,t))}t.lengthToDegrees=v;function y(e){var t=e%360;return t<0&&(t+=360),t}t.bearingToAzimuth=y;function b(e){return e%(2*Math.PI)*180/Math.PI}t.radiansToDegrees=b;function x(e){return e%360*Math.PI/180}t.degreesToRadians=x;function S(e,t,n){if(t===void 0&&(t=`kilometers`),n===void 0&&(n=`kilometers`),!(e>=0))throw Error(`length must be a positive number`);return g(_(e,t),n)}t.convertLength=S;function C(e,n,r){if(n===void 0&&(n=`meters`),r===void 0&&(r=`kilometers`),!(e>=0))throw Error(`area must be a positive number`);var i=t.areaFactors[n];if(!i)throw Error(`invalid original units`);var a=t.areaFactors[r];if(!a)throw Error(`invalid final units`);return e/i*a}t.convertArea=C;function w(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}t.isNumber=w;function T(e){return!!e&&e.constructor===Object}t.isObject=T;function E(e){if(!e)throw Error(`bbox is required`);if(!Array.isArray(e))throw Error(`bbox must be an Array`);if(e.length!==4&&e.length!==6)throw Error(`bbox must be an Array of 4 or 6 numbers`);e.forEach(function(e){if(!w(e))throw Error(`bbox must only contain numbers`)})}t.validateBBox=E;function D(e){if(!e)throw Error(`id is required`);if([`string`,`number`].indexOf(typeof e)===-1)throw Error(`id must be a number or a string`)}t.validateId=D}),27138:(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(94228);function i(e,t,n){if(e!==null)for(var r,a,o,s,c,l,u,d=0,f=0,p,m=e.type,h=m===`FeatureCollection`,g=m===`Feature`,_=h?e.features.length:1,v=0;v<_;v++){u=h?e.features[v].geometry:g?e.geometry:e,p=u?u.type===`GeometryCollection`:!1,c=p?u.geometries.length:1;for(var y=0;y<c;y++){var b=0,x=0;if(s=p?u.geometries[y]:u,s!==null){l=s.coordinates;var S=s.type;switch(d=n&&(S===`Polygon`||S===`MultiPolygon`)?1:0,S){case null:break;case`Point`:if(t(l,f,v,b,x)===!1)return!1;f++,b++;break;case`LineString`:case`MultiPoint`:for(r=0;r<l.length;r++){if(t(l[r],f,v,b,x)===!1)return!1;f++,S===`MultiPoint`&&b++}S===`LineString`&&b++;break;case`Polygon`:case`MultiLineString`:for(r=0;r<l.length;r++){for(a=0;a<l[r].length-d;a++){if(t(l[r][a],f,v,b,x)===!1)return!1;f++}S===`MultiLineString`&&b++,S===`Polygon`&&x++}S===`Polygon`&&b++;break;case`MultiPolygon`:for(r=0;r<l.length;r++){for(x=0,a=0;a<l[r].length;a++){for(o=0;o<l[r][a].length-d;o++){if(t(l[r][a][o],f,v,b,x)===!1)return!1;f++}x++}b++}break;case`GeometryCollection`:for(r=0;r<s.geometries.length;r++)if(i(s.geometries[r],t,n)===!1)return!1;break;default:throw Error(`Unknown Geometry Type`)}}}}}function a(e,t,n,r){var a=n;return i(e,function(e,r,i,o,s){a=r===0&&n===void 0?e:t(a,e,r,i,o,s)},r),a}function o(e,t){var n;switch(e.type){case`FeatureCollection`:for(n=0;n<e.features.length&&t(e.features[n].properties,n)!==!1;n++);break;case`Feature`:t(e.properties,0);break}}function s(e,t,n){var r=n;return o(e,function(e,i){r=i===0&&n===void 0?e:t(r,e,i)}),r}function c(e,t){if(e.type===`Feature`)t(e,0);else if(e.type===`FeatureCollection`)for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}function l(e,t,n){var r=n;return c(e,function(e,i){r=i===0&&n===void 0?e:t(r,e,i)}),r}function u(e){var t=[];return i(e,function(e){t.push(e)}),t}function d(e,t){var n,r,i,a,o,s,c,l,u,d,f=0,p=e.type===`FeatureCollection`,m=e.type===`Feature`,h=p?e.features.length:1;for(n=0;n<h;n++){for(s=p?e.features[n].geometry:m?e.geometry:e,l=p?e.features[n].properties:m?e.properties:{},u=p?e.features[n].bbox:m?e.bbox:void 0,d=p?e.features[n].id:m?e.id:void 0,c=s?s.type===`GeometryCollection`:!1,o=c?s.geometries.length:1,i=0;i<o;i++){if(a=c?s.geometries[i]:s,a===null){if(t(null,f,l,u,d)===!1)return!1;continue}switch(a.type){case`Point`:case`LineString`:case`MultiPoint`:case`Polygon`:case`MultiLineString`:case`MultiPolygon`:if(t(a,f,l,u,d)===!1)return!1;break;case`GeometryCollection`:for(r=0;r<a.geometries.length;r++)if(t(a.geometries[r],f,l,u,d)===!1)return!1;break;default:throw Error(`Unknown Geometry Type`)}}f++}}function f(e,t,n){var r=n;return d(e,function(e,i,a,o,s){r=i===0&&n===void 0?e:t(r,e,i,a,o,s)}),r}function p(e,t){d(e,function(e,n,i,a,o){var s=e===null?null:e.type;switch(s){case null:case`Point`:case`LineString`:case`Polygon`:return t(r.feature(e,i,{bbox:a,id:o}),n,0)===!1?!1:void 0}var c;switch(s){case`MultiPoint`:c=`Point`;break;case`MultiLineString`:c=`LineString`;break;case`MultiPolygon`:c=`Polygon`;break}for(var l=0;l<e.coordinates.length;l++){var u=e.coordinates[l],d={type:c,coordinates:u};if(t(r.feature(d,i),n,l)===!1)return!1}})}function m(e,t,n){var r=n;return p(e,function(e,i,a){r=i===0&&a===0&&n===void 0?e:t(r,e,i,a)}),r}function h(e,t){p(e,function(e,n,a){var o=0;if(e.geometry){var s=e.geometry.type;if(!(s===`Point`||s===`MultiPoint`)){var c,l=0,u=0,d=0;if(i(e,function(i,s,f,p,m){if(c===void 0||n>l||p>u||m>d){c=i,l=n,u=p,d=m,o=0;return}if(t(r.lineString([c,i],e.properties),n,a,m,o)===!1)return!1;o++,c=i})===!1)return!1}}})}function g(e,t,n){var r=n,i=!1;return h(e,function(e,a,o,s,c){r=i===!1&&n===void 0?e:t(r,e,a,o,s,c),i=!0}),r}function _(e,t){if(!e)throw Error(`geojson is required`);p(e,function(e,n,i){if(e.geometry!==null){var a=e.geometry.type,o=e.geometry.coordinates;switch(a){case`LineString`:if(t(e,n,i,0,0)===!1)return!1;break;case`Polygon`:for(var s=0;s<o.length;s++)if(t(r.lineString(o[s],e.properties),n,i,s)===!1)return!1;break}}})}function v(e,t,n){var r=n;return _(e,function(e,i,a,o){r=i===0&&n===void 0?e:t(r,e,i,a,o)}),r}function y(e,t){if(t||={},!r.isObject(t))throw Error(`options is invalid`);var n=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,o=t.segmentIndex||0,s=t.properties,c;switch(e.type){case`FeatureCollection`:n<0&&(n=e.features.length+n),s||=e.features[n].properties,c=e.features[n].geometry;break;case`Feature`:s||=e.properties,c=e.geometry;break;case`Point`:case`MultiPoint`:return null;case`LineString`:case`Polygon`:case`MultiLineString`:case`MultiPolygon`:c=e;break;default:throw Error(`geojson is invalid`)}if(c===null)return null;var l=c.coordinates;switch(c.type){case`Point`:case`MultiPoint`:return null;case`LineString`:return o<0&&(o=l.length+o-1),r.lineString([l[o],l[o+1]],s,t);case`Polygon`:return a<0&&(a=l.length+a),o<0&&(o=l[a].length+o-1),r.lineString([l[a][o],l[a][o+1]],s,t);case`MultiLineString`:return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o-1),r.lineString([l[i][o],l[i][o+1]],s,t);case`MultiPolygon`:return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),o<0&&(o=l[i][a].length-o-1),r.lineString([l[i][a][o],l[i][a][o+1]],s,t)}throw Error(`geojson is invalid`)}function b(e,t){if(t||={},!r.isObject(t))throw Error(`options is invalid`);var n=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,o=t.coordIndex||0,s=t.properties,c;switch(e.type){case`FeatureCollection`:n<0&&(n=e.features.length+n),s||=e.features[n].properties,c=e.features[n].geometry;break;case`Feature`:s||=e.properties,c=e.geometry;break;case`Point`:case`MultiPoint`:return null;case`LineString`:case`Polygon`:case`MultiLineString`:case`MultiPolygon`:c=e;break;default:throw Error(`geojson is invalid`)}if(c===null)return null;var l=c.coordinates;switch(c.type){case`Point`:return r.point(l,s,t);case`MultiPoint`:return i<0&&(i=l.length+i),r.point(l[i],s,t);case`LineString`:return o<0&&(o=l.length+o),r.point(l[o],s,t);case`Polygon`:return a<0&&(a=l.length+a),o<0&&(o=l[a].length+o),r.point(l[a][o],s,t);case`MultiLineString`:return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o),r.point(l[i][o],s,t);case`MultiPolygon`:return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),o<0&&(o=l[i][a].length-o),r.point(l[i][a][o],s,t)}throw Error(`geojson is invalid`)}t.coordEach=i,t.coordReduce=a,t.propEach=o,t.propReduce=s,t.featureEach=c,t.featureReduce=l,t.coordAll=u,t.geomEach=d,t.geomReduce=f,t.flattenEach=p,t.flattenReduce=m,t.segmentEach=h,t.segmentReduce=g,t.lineEach=_,t.lineReduce=v,t.findSegment=y,t.findPoint=b}),29261:(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(88553),i=n(64182);function a(e,t){t===void 0&&(t={});var n=0,a=0,o=0;return r.coordEach(e,function(e){n+=e[0],a+=e[1],o++}),i.point([n/o,a/o],t.properties)}t.default=a}),64182:(function(e,t){Object.defineProperty(t,`__esModule`,{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:t.earthRadius*100,centimetres:t.earthRadius*100,degrees:t.earthRadius/111325,feet:t.earthRadius*3.28084,inches:t.earthRadius*39.37,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:t.earthRadius*1e3,millimetres:t.earthRadius*1e3,nauticalmiles:t.earthRadius/1852,radians:1,yards:t.earthRadius/1.0936},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1/1.0936},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function n(e,t,n){n===void 0&&(n={});var r={type:`Feature`};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}t.feature=n;function r(e,t,n){switch(n===void 0&&(n={}),e){case`Point`:return i(t).geometry;case`LineString`:return c(t).geometry;case`Polygon`:return o(t).geometry;case`MultiPoint`:return f(t).geometry;case`MultiLineString`:return d(t).geometry;case`MultiPolygon`:return p(t).geometry;default:throw Error(e+` is invalid`)}}t.geometry=r;function i(e,t,r){return r===void 0&&(r={}),n({type:`Point`,coordinates:e},t,r)}t.point=i;function a(e,t,n){return n===void 0&&(n={}),u(e.map(function(e){return i(e,t)}),n)}t.points=a;function o(e,t,r){r===void 0&&(r={});for(var i=0,a=e;i<a.length;i++){var o=a[i];if(o.length<4)throw Error(`Each LinearRing of a Polygon must have 4 or more Positions.`);for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw Error(`First and last Position are not equivalent.`)}return n({type:`Polygon`,coordinates:e},t,r)}t.polygon=o;function s(e,t,n){return n===void 0&&(n={}),u(e.map(function(e){return o(e,t)}),n)}t.polygons=s;function c(e,t,r){if(r===void 0&&(r={}),e.length<2)throw Error(`coordinates must be an array of two or more positions`);return n({type:`LineString`,coordinates:e},t,r)}t.lineString=c;function l(e,t,n){return n===void 0&&(n={}),u(e.map(function(e){return c(e,t)}),n)}t.lineStrings=l;function u(e,t){t===void 0&&(t={});var n={type:`FeatureCollection`};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}t.featureCollection=u;function d(e,t,r){return r===void 0&&(r={}),n({type:`MultiLineString`,coordinates:e},t,r)}t.multiLineString=d;function f(e,t,r){return r===void 0&&(r={}),n({type:`MultiPoint`,coordinates:e},t,r)}t.multiPoint=f;function p(e,t,r){return r===void 0&&(r={}),n({type:`MultiPolygon`,coordinates:e},t,r)}t.multiPolygon=p;function m(e,t,r){return r===void 0&&(r={}),n({type:`GeometryCollection`,geometries:e},t,r)}t.geometryCollection=m;function h(e,t){if(t===void 0&&(t=0),t&&!(t>=0))throw Error(`precision must be a positive number`);var n=10**(t||0);return Math.round(e*n)/n}t.round=h;function g(e,n){n===void 0&&(n=`kilometers`);var r=t.factors[n];if(!r)throw Error(n+` units is invalid`);return e*r}t.radiansToLength=g;function _(e,n){n===void 0&&(n=`kilometers`);var r=t.factors[n];if(!r)throw Error(n+` units is invalid`);return e/r}t.lengthToRadians=_;function v(e,t){return b(_(e,t))}t.lengthToDegrees=v;function y(e){var t=e%360;return t<0&&(t+=360),t}t.bearingToAzimuth=y;function b(e){return e%(2*Math.PI)*180/Math.PI}t.radiansToDegrees=b;function x(e){return e%360*Math.PI/180}t.degreesToRadians=x;function S(e,t,n){if(t===void 0&&(t=`kilometers`),n===void 0&&(n=`kilometers`),!(e>=0))throw Error(`length must be a positive number`);return g(_(e,t),n)}t.convertLength=S;function C(e,n,r){if(n===void 0&&(n=`meters`),r===void 0&&(r=`kilometers`),!(e>=0))throw Error(`area must be a positive number`);var i=t.areaFactors[n];if(!i)throw Error(`invalid original units`);var a=t.areaFactors[r];if(!a)throw Error(`invalid final units`);return e/i*a}t.convertArea=C;function w(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)&&!/^\s*$/.test(e)}t.isNumber=w;function T(e){return!!e&&e.constructor===Object}t.isObject=T;function E(e){if(!e)throw Error(`bbox is required`);if(!Array.isArray(e))throw Error(`bbox must be an Array`);if(e.length!==4&&e.length!==6)throw Error(`bbox must be an Array of 4 or 6 numbers`);e.forEach(function(e){if(!w(e))throw Error(`bbox must only contain numbers`)})}t.validateBBox=E;function D(e){if(!e)throw Error(`id is required`);if([`string`,`number`].indexOf(typeof e)===-1)throw Error(`id must be a number or a string`)}t.validateId=D;function O(){throw Error("method has been renamed to `radiansToDegrees`")}t.radians2degrees=O;function k(){throw Error("method has been renamed to `degreesToRadians`")}t.degrees2radians=k;function A(){throw Error("method has been renamed to `lengthToDegrees`")}t.distanceToDegrees=A;function j(){throw Error("method has been renamed to `lengthToRadians`")}t.distanceToRadians=j;function M(){throw Error("method has been renamed to `radiansToLength`")}t.radiansToDistance=M;function N(){throw Error("method has been renamed to `bearingToAzimuth`")}t.bearingToAngle=N;function P(){throw Error("method has been renamed to `convertLength`")}t.convertDistance=P}),88553:(function(e,t,n){Object.defineProperty(t,`__esModule`,{value:!0});var r=n(64182);function i(e,t,n){if(e!==null)for(var r,a,o,s,c,l,u,d=0,f=0,p,m=e.type,h=m===`FeatureCollection`,g=m===`Feature`,_=h?e.features.length:1,v=0;v<_;v++){u=h?e.features[v].geometry:g?e.geometry:e,p=u?u.type===`GeometryCollection`:!1,c=p?u.geometries.length:1;for(var y=0;y<c;y++){var b=0,x=0;if(s=p?u.geometries[y]:u,s!==null){l=s.coordinates;var S=s.type;switch(d=n&&(S===`Polygon`||S===`MultiPolygon`)?1:0,S){case null:break;case`Point`:if(t(l,f,v,b,x)===!1)return!1;f++,b++;break;case`LineString`:case`MultiPoint`:for(r=0;r<l.length;r++){if(t(l[r],f,v,b,x)===!1)return!1;f++,S===`MultiPoint`&&b++}S===`LineString`&&b++;break;case`Polygon`:case`MultiLineString`:for(r=0;r<l.length;r++){for(a=0;a<l[r].length-d;a++){if(t(l[r][a],f,v,b,x)===!1)return!1;f++}S===`MultiLineString`&&b++,S===`Polygon`&&x++}S===`Polygon`&&b++;break;case`MultiPolygon`:for(r=0;r<l.length;r++){for(x=0,a=0;a<l[r].length;a++){for(o=0;o<l[r][a].length-d;o++){if(t(l[r][a][o],f,v,b,x)===!1)return!1;f++}x++}b++}break;case`GeometryCollection`:for(r=0;r<s.geometries.length;r++)if(i(s.geometries[r],t,n)===!1)return!1;break;default:throw Error(`Unknown Geometry Type`)}}}}}function a(e,t,n,r){var a=n;return i(e,function(e,r,i,o,s){a=r===0&&n===void 0?e:t(a,e,r,i,o,s)},r),a}function o(e,t){var n;switch(e.type){case`FeatureCollection`:for(n=0;n<e.features.length&&t(e.features[n].properties,n)!==!1;n++);break;case`Feature`:t(e.properties,0);break}}function s(e,t,n){var r=n;return o(e,function(e,i){r=i===0&&n===void 0?e:t(r,e,i)}),r}function c(e,t){if(e.type===`Feature`)t(e,0);else if(e.type===`FeatureCollection`)for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}function l(e,t,n){var r=n;return c(e,function(e,i){r=i===0&&n===void 0?e:t(r,e,i)}),r}function u(e){var t=[];return i(e,function(e){t.push(e)}),t}function d(e,t){var n,r,i,a,o,s,c,l,u,d,f=0,p=e.type===`FeatureCollection`,m=e.type===`Feature`,h=p?e.features.length:1;for(n=0;n<h;n++){for(s=p?e.features[n].geometry:m?e.geometry:e,l=p?e.features[n].properties:m?e.properties:{},u=p?e.features[n].bbox:m?e.bbox:void 0,d=p?e.features[n].id:m?e.id:void 0,c=s?s.type===`GeometryCollection`:!1,o=c?s.geometries.length:1,i=0;i<o;i++){if(a=c?s.geometries[i]:s,a===null){if(t(null,f,l,u,d)===!1)return!1;continue}switch(a.type){case`Point`:case`LineString`:case`MultiPoint`:case`Polygon`:case`MultiLineString`:case`MultiPolygon`:if(t(a,f,l,u,d)===!1)return!1;break;case`GeometryCollection`:for(r=0;r<a.geometries.length;r++)if(t(a.geometries[r],f,l,u,d)===!1)return!1;break;default:throw Error(`Unknown Geometry Type`)}}f++}}function f(e,t,n){var r=n;return d(e,function(e,i,a,o,s){r=i===0&&n===void 0?e:t(r,e,i,a,o,s)}),r}function p(e,t){d(e,function(e,n,i,a,o){var s=e===null?null:e.type;switch(s){case null:case`Point`:case`LineString`:case`Polygon`:return t(r.feature(e,i,{bbox:a,id:o}),n,0)===!1?!1:void 0}var c;switch(s){case`MultiPoint`:c=`Point`;break;case`MultiLineString`:c=`LineString`;break;case`MultiPolygon`:c=`Polygon`;break}for(var l=0;l<e.coordinates.length;l++){var u=e.coordinates[l],d={type:c,coordinates:u};if(t(r.feature(d,i),n,l)===!1)return!1}})}function m(e,t,n){var r=n;return p(e,function(e,i,a){r=i===0&&a===0&&n===void 0?e:t(r,e,i,a)}),r}function h(e,t){p(e,function(e,n,a){var o=0;if(e.geometry){var s=e.geometry.type;if(!(s===`Point`||s===`MultiPoint`)){var c,l=0,u=0,d=0;if(i(e,function(i,s,f,p,m){if(c===void 0||n>l||p>u||m>d){c=i,l=n,u=p,d=m,o=0;return}if(t(r.lineString([c,i],e.properties),n,a,m,o)===!1)return!1;o++,c=i})===!1)return!1}}})}function g(e,t,n){var r=n,i=!1;return h(e,function(e,a,o,s,c){r=i===!1&&n===void 0?e:t(r,e,a,o,s,c),i=!0}),r}function _(e,t){if(!e)throw Error(`geojson is required`);p(e,function(e,n,i){if(e.geometry!==null){var a=e.geometry.type,o=e.geometry.coordinates;switch(a){case`LineString`:if(t(e,n,i,0,0)===!1)return!1;break;case`Polygon`:for(var s=0;s<o.length;s++)if(t(r.lineString(o[s],e.properties),n,i,s)===!1)return!1;break}}})}function v(e,t,n){var r=n;return _(e,function(e,i,a,o){r=i===0&&n===void 0?e:t(r,e,i,a,o)}),r}function y(e,t){if(t||={},!r.isObject(t))throw Error(`options is invalid`);var n=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,o=t.segmentIndex||0,s=t.properties,c;switch(e.type){case`FeatureCollection`:n<0&&(n=e.features.length+n),s||=e.features[n].properties,c=e.features[n].geometry;break;case`Feature`:s||=e.properties,c=e.geometry;break;case`Point`:case`MultiPoint`:return null;case`LineString`:case`Polygon`:case`MultiLineString`:case`MultiPolygon`:c=e;break;default:throw Error(`geojson is invalid`)}if(c===null)return null;var l=c.coordinates;switch(c.type){case`Point`:case`MultiPoint`:return null;case`LineString`:return o<0&&(o=l.length+o-1),r.lineString([l[o],l[o+1]],s,t);case`Polygon`:return a<0&&(a=l.length+a),o<0&&(o=l[a].length+o-1),r.lineString([l[a][o],l[a][o+1]],s,t);case`MultiLineString`:return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o-1),r.lineString([l[i][o],l[i][o+1]],s,t);case`MultiPolygon`:return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),o<0&&(o=l[i][a].length-o-1),r.lineString([l[i][a][o],l[i][a][o+1]],s,t)}throw Error(`geojson is invalid`)}function b(e,t){if(t||={},!r.isObject(t))throw Error(`options is invalid`);var n=t.featureIndex||0,i=t.multiFeatureIndex||0,a=t.geometryIndex||0,o=t.coordIndex||0,s=t.properties,c;switch(e.type){case`FeatureCollection`:n<0&&(n=e.features.length+n),s||=e.features[n].properties,c=e.features[n].geometry;break;case`Feature`:s||=e.properties,c=e.geometry;break;case`Point`:case`MultiPoint`:return null;case`LineString`:case`Polygon`:case`MultiLineString`:case`MultiPolygon`:c=e;break;default:throw Error(`geojson is invalid`)}if(c===null)return null;var l=c.coordinates;switch(c.type){case`Point`:return r.point(l,s,t);case`MultiPoint`:return i<0&&(i=l.length+i),r.point(l[i],s,t);case`LineString`:return o<0&&(o=l.length+o),r.point(l[o],s,t);case`Polygon`:return a<0&&(a=l.length+a),o<0&&(o=l[a].length+o),r.point(l[a][o],s,t);case`MultiLineString`:return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o),r.point(l[i][o],s,t);case`MultiPolygon`:return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),o<0&&(o=l[i][a].length-o),r.point(l[i][a][o],s,t)}throw Error(`geojson is invalid`)}t.coordEach=i,t.coordReduce=a,t.propEach=o,t.propReduce=s,t.featureEach=c,t.featureReduce=l,t.coordAll=u,t.geomEach=d,t.geomReduce=f,t.flattenEach=p,t.flattenReduce=m,t.segmentEach=h,t.segmentReduce=g,t.lineEach=_,t.lineReduce=v,t.findSegment=y,t.findPoint=b}),65185:(function(e){e.exports=t;function t(e){var t=0,n=0,r=0,i=0;return e.map(function(e){e=e.slice();var a=e[0],o=a.toUpperCase();if(a!=o)switch(e[0]=o,a){case`a`:e[6]+=r,e[7]+=i;break;case`v`:e[1]+=i;break;case`h`:e[1]+=r;break;default:for(var s=1;s<e.length;)e[s++]+=r,e[s++]+=i}switch(o){case`Z`:r=t,i=n;break;case`H`:r=e[1];break;case`V`:i=e[1];break;case`M`:r=t=e[1],i=n=e[2];break;default:r=e[e.length-2],i=e[e.length-1]}return e})}}),21527:(function(e){e.exports=t;function t(e,t){if(!e||e.length==null)throw Error(`Argument should be an array`);t=t==null?1:Math.floor(t);for(var n=Array(t*2),r=0;r<t;r++){for(var i=-1/0,a=1/0,o=r,s=e.length;o<s;o+=t)e[o]>i&&(i=e[o]),e[o]<a&&(a=e[o]);n[r]=a,n[t+r]=i}return n}}),6851:(function(e){e.exports=function(e,t,n){if(typeof Array.prototype.findIndex==`function`)return e.findIndex(t,n);if(typeof t!=`function`)throw TypeError(`predicate must be a function`);var r=Object(e),i=r.length;if(i===0)return-1;for(var a=0;a<i;a++)if(t.call(n,r[a],a,r))return a;return-1}}),54:(function(e,t,n){var r=n(21527);e.exports=i;function i(e,t,n){if(!e||e.length==null)throw Error(`Argument should be an array`);t??=1,n??=r(e,t);for(var i=0;i<t;i++){var a=n[t+i],o=n[i],s=i,c=e.length;if(a===1/0&&o===-1/0)for(s=i;s<c;s+=t)e[s]=e[s]===a?1:e[s]===o?0:.5;else if(a===1/0)for(s=i;s<c;s+=t)e[s]=e[s]===a?1:0;else if(o===-1/0)for(s=i;s<c;s+=t)e[s]=e[s]===o?0:1;else{var l=a-o;for(s=i;s<c;s+=t)isNaN(e[s])||(e[s]=l===0?.5:(e[s]-o)/l)}}return e}}),57471:(function(e){e.exports=function(e,t){var n=typeof e==`number`,r=typeof t==`number`;n&&!r?(t=e,e=0):!n&&!r&&(e=0,t=0),e|=0,t|=0;var i=t-e;if(i<0)throw Error(`array length must be positive`);for(var a=Array(i),o=0,s=e;o<i;o++,s++)a[o]=s;return a}}),32791:(function(e,t,n){var r=n(90386);function i(e){return i=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},i(e)}function a(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}var o=n(79616).codes,s=o.ERR_AMBIGUOUS_ARGUMENT,c=o.ERR_INVALID_ARG_TYPE,l=o.ERR_INVALID_ARG_VALUE,u=o.ERR_INVALID_RETURN_VALUE,d=o.ERR_MISSING_ARGS,f=n(73894),p=n(43827).inspect,m=n(43827).types,h=m.isPromise,g=m.isRegExp,_=Object.assign?Object.assign:n(73523).assign,v=Object.is?Object.is:n(64003),y,b;function x(){var e=n(74061);y=e.isDeepEqual,b=e.isDeepStrictEqual}var S=!1,C=e.exports=O,w={};function T(e){throw e.message instanceof Error?e.message:new f(e)}function E(e,t,n,i,a){var o=arguments.length,s;if(o===0?s=`Failed`:o===1?(n=e,e=void 0):(S===!1&&(S=!0,(r.emitWarning?r.emitWarning:console.warn.bind(console))(`assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.`,`DeprecationWarning`,`DEP0094`)),o===2&&(i=`!=`)),n instanceof Error)throw n;var c={actual:e,expected:t,operator:i===void 0?`fail`:i,stackStartFn:a||E};n!==void 0&&(c.message=n);var l=new f(c);throw s&&(l.message=s,l.generatedMessage=!0),l}C.fail=E,C.AssertionError=f;function D(e,t,n,r){if(!n){var i=!1;if(t===0)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var a=new f({actual:n,expected:!0,message:r,operator:`==`,stackStartFn:e});throw a.generatedMessage=i,a}}function O(){var e=[...arguments];D.apply(void 0,[O,e.length].concat(e))}C.ok=O,C.equal=function e(t,n,r){if(arguments.length<2)throw new d(`actual`,`expected`);t!=n&&T({actual:t,expected:n,message:r,operator:`==`,stackStartFn:e})},C.notEqual=function e(t,n,r){if(arguments.length<2)throw new d(`actual`,`expected`);t==n&&T({actual:t,expected:n,message:r,operator:`!=`,stackStartFn:e})},C.deepEqual=function e(t,n,r){if(arguments.length<2)throw new d(`actual`,`expected`);y===void 0&&x(),y(t,n)||T({actual:t,expected:n,message:r,operator:`deepEqual`,stackStartFn:e})},C.notDeepEqual=function e(t,n,r){if(arguments.length<2)throw new d(`actual`,`expected`);y===void 0&&x(),y(t,n)&&T({actual:t,expected:n,message:r,operator:`notDeepEqual`,stackStartFn:e})},C.deepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new d(`actual`,`expected`);y===void 0&&x(),b(t,n)||T({actual:t,expected:n,message:r,operator:`deepStrictEqual`,stackStartFn:e})},C.notDeepStrictEqual=k;function k(e,t,n){if(arguments.length<2)throw new d(`actual`,`expected`);y===void 0&&x(),b(e,t)&&T({actual:e,expected:t,message:n,operator:`notDeepStrictEqual`,stackStartFn:k})}C.strictEqual=function e(t,n,r){if(arguments.length<2)throw new d(`actual`,`expected`);v(t,n)||T({actual:t,expected:n,message:r,operator:`strictEqual`,stackStartFn:e})},C.notStrictEqual=function e(t,n,r){if(arguments.length<2)throw new d(`actual`,`expected`);v(t,n)&&T({actual:t,expected:n,message:r,operator:`notStrictEqual`,stackStartFn:e})};var A=function e(t,n,r){var i=this;a(this,e),n.forEach(function(e){e in t&&(r!==void 0&&typeof r[e]==`string`&&g(t[e])&&t[e].test(r[e])?i[e]=r[e]:i[e]=t[e])})};function j(e,t,n,r,i,a){if(!(n in e)||!b(e[n],t[n])){if(!r){var o=new f({actual:new A(e,i),expected:new A(t,i,e),operator:`deepStrictEqual`,stackStartFn:a});throw o.actual=e,o.expected=t,o.operator=a.name,o}T({actual:e,expected:t,message:r,operator:a.name,stackStartFn:a})}}function M(e,t,n,r){if(typeof t!=`function`){if(g(t))return t.test(e);if(arguments.length===2)throw new c(`expected`,[`Function`,`RegExp`],t);if(i(e)!==`object`||e===null){var a=new f({actual:e,expected:t,message:n,operator:`deepStrictEqual`,stackStartFn:r});throw a.operator=r.name,a}var o=Object.keys(t);if(t instanceof Error)o.push(`name`,`message`);else if(o.length===0)throw new l(`error`,t,`may not be an empty object`);return y===void 0&&x(),o.forEach(function(i){typeof e[i]==`string`&&g(t[i])&&t[i].test(e[i])||j(e,t,i,n,o,r)}),!0}return t.prototype!==void 0&&e instanceof t?!0:Error.isPrototypeOf(t)?!1:t.call({},e)===!0}function N(e){if(typeof e!=`function`)throw new c(`fn`,`Function`,e);try{e()}catch(e){return e}return w}function P(e){return h(e)||e!==null&&i(e)===`object`&&typeof e.then==`function`&&typeof e.catch==`function`}function F(e){return Promise.resolve().then(function(){var t;if(typeof e==`function`){if(t=e(),!P(t))throw new u(`instance of Promise`,`promiseFn`,t)}else if(P(e))t=e;else throw new c(`promiseFn`,[`Function`,`Promise`],e);return Promise.resolve().then(function(){return t}).then(function(){return w}).catch(function(e){return e})})}function I(e,t,n,r){if(typeof n==`string`){if(arguments.length===4)throw new c(`error`,[`Object`,`Error`,`Function`,`RegExp`],n);if(i(t)===`object`&&t!==null){if(t.message===n)throw new s(`error/message`,`The error message "${t.message}" is identical to the message.`)}else if(t===n)throw new s(`error/message`,`The error "${t}" is identical to the message.`);r=n,n=void 0}else if(n!=null&&i(n)!==`object`&&typeof n!=`function`)throw new c(`error`,[`Object`,`Error`,`Function`,`RegExp`],n);if(t===w){var a=``;n&&n.name&&(a+=` (${n.name})`),a+=r?`: ${r}`:`.`;var o=e.name===`rejects`?`rejection`:`exception`;T({actual:void 0,expected:n,operator:e.name,message:`Missing expected ${o}${a}`,stackStartFn:e})}if(n&&!M(t,n,r,e))throw t}function L(e,t,n,r){if(t!==w){if(typeof n==`string`&&(r=n,n=void 0),!n||M(t,n)){var i=r?`: ${r}`:`.`,a=e.name===`doesNotReject`?`rejection`:`exception`;T({actual:t,expected:n,operator:e.name,message:`Got unwanted ${a}${i}
Actual message: "${t&&t.message}"`,stackStartFn:e})}throw t}}C.throws=function e(t){var n=[...arguments].slice(1);I.apply(void 0,[e,N(t)].concat(n))},C.rejects=function e(t){var n=[...arguments].slice(1);return F(t).then(function(t){return I.apply(void 0,[e,t].concat(n))})},C.doesNotThrow=function e(t){var n=[...arguments].slice(1);L.apply(void 0,[e,N(t)].concat(n))},C.doesNotReject=function e(t){var n=[...arguments].slice(1);return F(t).then(function(t){return L.apply(void 0,[e,t].concat(n))})},C.ifError=function e(t){if(t!=null){var n=`ifError got unwanted exception: `;i(t)===`object`&&typeof t.message==`string`?t.message.length===0&&t.constructor?n+=t.constructor.name:n+=t.message:n+=p(t);var r=new f({actual:t,expected:null,operator:`ifError`,message:n,stackStartFn:e}),a=t.stack;if(typeof a==`string`){var o=a.split(`
`);o.shift();for(var s=r.stack.split(`
`),c=0;c<o.length;c++){var l=s.indexOf(o[c]);if(l!==-1){s=s.slice(0,l);break}}r.stack=`${s.join(`
`)}
${o.join(`
`)}`}throw r}};function R(){var e=[...arguments];D.apply(void 0,[R,e.length].concat(e))}C.strict=_(R,C,{equal:C.strictEqual,deepEqual:C.deepStrictEqual,notEqual:C.notStrictEqual,notDeepEqual:C.notDeepStrictEqual}),C.strict.strict=C.strict}),73894:(function(e,t,n){var r=n(90386);function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t],r=Object.keys(n);typeof Object.getOwnPropertySymbols==`function`&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function l(e,t){return t&&(v(t)===`object`||typeof t==`function`)?t:u(e)}function u(e){if(e===void 0)throw ReferenceError(`this hasn't been initialised - super() hasn't been called`);return e}function d(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Super expression must either be null or a function`);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function f(e){var t=typeof Map==`function`?new Map:void 0;return f=function(e){if(e===null||!h(e))return e;if(typeof e!=`function`)throw TypeError(`Super expression must either be null or a function`);if(t!==void 0){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return m(e,arguments,_(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),g(n,e)},f(e)}function p(){if(typeof Reflect>`u`||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy==`function`)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function m(e,t,n){return m=p()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&g(i,n.prototype),i},m.apply(null,arguments)}function h(e){return Function.toString.call(e).indexOf(`[native code]`)!==-1}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function v(e){return v=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},v(e)}var y=n(43827).inspect,b=n(79616).codes.ERR_INVALID_ARG_TYPE;function x(e,t,n){return(n===void 0||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function S(e,t){if(t=Math.floor(t),e.length==0||t==0)return``;var n=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+=e.substring(0,n-e.length),e}var C=``,w=``,T=``,E=``,D={deepStrictEqual:`Expected values to be strictly deep-equal:`,strictEqual:`Expected values to be strictly equal:`,strictEqualObject:`Expected "actual" to be reference-equal to "expected":`,deepEqual:`Expected values to be loosely deep-equal:`,equal:`Expected values to be loosely equal:`,notDeepStrictEqual:`Expected "actual" not to be strictly deep-equal to:`,notStrictEqual:`Expected "actual" to be strictly unequal to:`,notStrictEqualObject:`Expected "actual" not to be reference-equal to "expected":`,notDeepEqual:`Expected "actual" not to be loosely deep-equal to:`,notEqual:`Expected "actual" to be loosely unequal to:`,notIdentical:`Values identical but not reference-equal:`},O=10;function k(e){var t=Object.keys(e),n=Object.create(Object.getPrototypeOf(e));return t.forEach(function(t){n[t]=e[t]}),Object.defineProperty(n,`message`,{value:e.message}),n}function A(e){return y(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function j(e,t,n){var i=``,a=``,o=0,s=``,c=!1,l=A(e),u=l.split(`
`),d=A(t).split(`
`),f=0,p=``;if(n===`strictEqual`&&v(e)===`object`&&v(t)===`object`&&e!==null&&t!==null&&(n=`strictEqualObject`),u.length===1&&d.length===1&&u[0]!==d[0]){var m=u[0].length+d[0].length;if(m<=O){if((v(e)!==`object`||e===null)&&(v(t)!==`object`||t===null)&&(e!==0||t!==0))return`${D[n]}

${u[0]} !== ${d[0]}
`}else if(n!==`strictEqualObject`&&m<(r.stderr&&r.stderr.isTTY?r.stderr.columns:80)){for(;u[0][f]===d[0][f];)f++;f>2&&(p=`
  ${S(` `,f)}^`,f=0)}}for(var h=u[u.length-1],g=d[d.length-1];h===g&&(f++<2?s=`
  ${h}${s}`:i=h,u.pop(),d.pop(),!(u.length===0||d.length===0));)h=u[u.length-1],g=d[d.length-1];var _=Math.max(u.length,d.length);if(_===0){var y=l.split(`
`);if(y.length>30)for(y[26]=`${C}...${E}`;y.length>27;)y.pop();return`${D.notIdentical}

${y.join(`
`)}
`}f>3&&(s=`
${C}...${E}${s}`,c=!0),i!==``&&(s=`
  ${i}${s}`,i=``);var b=0,k=D[n]+`
${w}+ actual${E} ${T}- expected${E}`,j=` ${C}...${E} Lines skipped`;for(f=0;f<_;f++){var M=f-o;if(u.length<f+1)M>1&&f>2&&(M>4?(a+=`
${C}...${E}`,c=!0):M>3&&(a+=`
  ${d[f-2]}`,b++),a+=`
  ${d[f-1]}`,b++),o=f,i+=`
${T}-${E} ${d[f]}`,b++;else if(d.length<f+1)M>1&&f>2&&(M>4?(a+=`
${C}...${E}`,c=!0):M>3&&(a+=`
  ${u[f-2]}`,b++),a+=`
  ${u[f-1]}`,b++),o=f,a+=`
${w}+${E} ${u[f]}`,b++;else{var N=d[f],P=u[f],F=P!==N&&(!x(P,`,`)||P.slice(0,-1)!==N);F&&x(N,`,`)&&N.slice(0,-1)===P&&(F=!1,P+=`,`),F?(M>1&&f>2&&(M>4?(a+=`
${C}...${E}`,c=!0):M>3&&(a+=`
  ${u[f-2]}`,b++),a+=`
  ${u[f-1]}`,b++),o=f,a+=`
${w}+${E} ${P}`,i+=`
${T}-${E} ${N}`,b+=2):(a+=i,i=``,(M===1||f===0)&&(a+=`
  ${P}`,b++))}if(b>20&&f<_-2)return`${k}${j}
${a}
${C}...${E}${i}
${C}...${E}`}return`${k}${c?j:``}
${a}${i}${s}${p}`}e.exports=function(e){d(t,e);function t(e){var n;if(o(this,t),v(e)!==`object`||e===null)throw new b(`options`,`Object`,e);var i=e.message,a=e.operator,s=e.stackStartFn,c=e.actual,d=e.expected,f=Error.stackTraceLimit;if(Error.stackTraceLimit=0,i!=null)n=l(this,_(t).call(this,String(i)));else if(r.stderr&&r.stderr.isTTY&&(r.stderr&&r.stderr.getColorDepth&&r.stderr.getColorDepth()!==1?(C=`\x1B[34m`,w=`\x1B[32m`,E=`\x1B[39m`,T=`\x1B[31m`):(C=``,w=``,E=``,T=``)),v(c)===`object`&&c!==null&&v(d)===`object`&&d!==null&&`stack`in c&&c instanceof Error&&`stack`in d&&d instanceof Error&&(c=k(c),d=k(d)),a===`deepStrictEqual`||a===`strictEqual`)n=l(this,_(t).call(this,j(c,d,a)));else if(a===`notDeepStrictEqual`||a===`notStrictEqual`){var p=D[a],m=A(c).split(`
`);if(a===`notStrictEqual`&&v(c)===`object`&&c!==null&&(p=D.notStrictEqualObject),m.length>30)for(m[26]=`${C}...${E}`;m.length>27;)m.pop();n=m.length===1?l(this,_(t).call(this,`${p} ${m[0]}`)):l(this,_(t).call(this,`${p}

${m.join(`
`)}
`))}else{var h=A(c),g=``,y=D[a];a===`notDeepEqual`||a===`notEqual`?(h=`${D[a]}

${h}`,h.length>1024&&(h=`${h.slice(0,1021)}...`)):(g=`${A(d)}`,h.length>512&&(h=`${h.slice(0,509)}...`),g.length>512&&(g=`${g.slice(0,509)}...`),a===`deepEqual`||a===`equal`?h=`${y}

${h}

should equal

`:g=` ${a} ${g}`),n=l(this,_(t).call(this,`${h}${g}`))}return Error.stackTraceLimit=f,n.generatedMessage=!i,Object.defineProperty(u(n),`name`,{value:`AssertionError [ERR_ASSERTION]`,enumerable:!1,writable:!0,configurable:!0}),n.code=`ERR_ASSERTION`,n.actual=c,n.expected=d,n.operator=a,Error.captureStackTrace&&Error.captureStackTrace(u(n),s),n.stack,n.name=`AssertionError`,l(n)}return c(t,[{key:`toString`,value:function(){return`${this.name} [${this.code}]: ${this.message}`}},{key:y.custom,value:function(e,t){return y(this,i({},t,{customInspect:!1,depth:0}))}}]),t}(f(Error))}),79616:(function(e,t,n){function r(e){return r=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function a(e,t){return t&&(r(t)===`object`||typeof t==`function`)?t:o(e)}function o(e){if(e===void 0)throw ReferenceError(`this hasn't been initialised - super() hasn't been called`);return e}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(e,t){if(typeof t!=`function`&&t!==null)throw TypeError(`Super expression must either be null or a function`);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}var u={},d,f;function p(e,t,n){n||=Error;function r(e,n,r){return typeof t==`string`?t:t(e,n,r)}u[e]=function(t){c(n,t);function n(t,o,c){var l;return i(this,n),l=a(this,s(n).call(this,r(t,o,c))),l.code=e,l}return n}(n)}function m(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?`one of ${t} ${e.slice(0,n-1).join(`, `)}, or `+e[n-1]:n===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}else return`of ${t} ${String(e)}`}function h(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}function g(e,t,n){return(n===void 0||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function _(e,t,n){return typeof n!=`number`&&(n=0),n+t.length>e.length?!1:e.indexOf(t,n)!==-1}p(`ERR_AMBIGUOUS_ARGUMENT`,`The "%s" argument is ambiguous. %s`,TypeError),p(`ERR_INVALID_ARG_TYPE`,function(e,t,i){d===void 0&&(d=n(32791)),d(typeof e==`string`,`'name' must be a string`);var a;typeof t==`string`&&h(t,`not `)?(a=`must not be`,t=t.replace(/^not /,``)):a=`must be`;var o=g(e,` argument`)?`The ${e} ${a} ${m(t,`type`)}`:`The "${e}" ${_(e,`.`)?`property`:`argument`} ${a} ${m(t,`type`)}`;return o+=`. Received type ${r(i)}`,o},TypeError),p(`ERR_INVALID_ARG_VALUE`,function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`is invalid`;f===void 0&&(f=n(43827));var i=f.inspect(t);return i.length>128&&(i=`${i.slice(0,128)}...`),`The argument '${e}' ${r}. Received ${i}`},TypeError,RangeError),p(`ERR_INVALID_RETURN_VALUE`,function(e,t,n){return`Expected ${e} to be returned from the "${t}" function but got ${n&&n.constructor&&n.constructor.name?`instance of ${n.constructor.name}`:`type ${r(n)}`}.`},TypeError),p(`ERR_MISSING_ARGS`,function(){var e=[...arguments];d===void 0&&(d=n(32791)),d(e.length>0,`At least one arg needs to be specified`);var t=`The `,r=e.length;switch(e=e.map(function(e){return`"${e}"`}),r){case 1:t+=`${e[0]} argument`;break;case 2:t+=`${e[0]} and ${e[1]} arguments`;break;default:t+=e.slice(0,r-1).join(`, `),t+=`, and ${e[r-1]} arguments`;break}return`${t} must be specified`},TypeError),e.exports.codes=u}),74061:(function(e,t,n){function r(e,t){return o(e)||a(e,t)||i()}function i(){throw TypeError(`Invalid attempt to destructure non-iterable instance`)}function a(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(e){i=!0,a=e}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}function o(e){if(Array.isArray(e))return e}function s(e){return s=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},s(e)}var c=/a/g.flags!==void 0,l=function(e){var t=[];return e.forEach(function(e){return t.push(e)}),t},u=function(e){var t=[];return e.forEach(function(e,n){return t.push([n,e])}),t},d=Object.is?Object.is:n(64003),f=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},p=Number.isNaN?Number.isNaN:n(15567);function m(e){return e.call.bind(e)}var h=m(Object.prototype.hasOwnProperty),g=m(Object.prototype.propertyIsEnumerable),_=m(Object.prototype.toString),v=n(43827).types,y=v.isAnyArrayBuffer,b=v.isArrayBufferView,x=v.isDate,S=v.isMap,C=v.isRegExp,w=v.isSet,T=v.isNativeError,E=v.isBoxedPrimitive,D=v.isNumberObject,O=v.isStringObject,k=v.isBooleanObject,A=v.isBigIntObject,j=v.isSymbolObject,M=v.isFloat32Array,N=v.isFloat64Array;function P(e){if(e.length===0||e.length>10)return!0;for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<48||n>57)return!0}return e.length===10&&e>=2**32}function F(e){return Object.keys(e).filter(P).concat(f(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function I(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,a=Math.min(n,r);i<a;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}var L=void 0,R=!0,z=!1,B=0,V=1,H=2,U=3;function W(e,t){return c?e.source===t.source&&e.flags===t.flags:RegExp.prototype.toString.call(e)===RegExp.prototype.toString.call(t)}function G(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function K(e,t){return e.byteLength===t.byteLength?I(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))===0:!1}function ee(e,t){return e.byteLength===t.byteLength&&I(new Uint8Array(e),new Uint8Array(t))===0}function q(e,t){return D(e)?D(t)&&d(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):O(e)?O(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):k(e)?k(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):A(e)?A(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):j(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}function J(e,t,n,r){if(e===t)return e===0&&n?d(e,t):!0;if(n){if(s(e)!==`object`)return typeof e==`number`&&p(e)&&p(t);if(s(t)!==`object`||e===null||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(e===null||s(e)!==`object`)return t===null||s(t)!==`object`?e==t:!1;if(t===null||s(t)!==`object`)return!1}var i=_(e);if(i!==_(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var a=F(e,L),o=F(t,L);return a.length===o.length?te(e,t,n,r,V,a):!1}if(i===`[object Object]`&&(!S(e)&&S(t)||!w(e)&&w(t)))return!1;if(x(e)){if(!x(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(C(e)){if(!C(t)||!W(e,t))return!1}else if(T(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else if(b(e)){if(!n&&(M(e)||N(e))){if(!G(e,t))return!1}else if(!K(e,t))return!1;var c=F(e,L),l=F(t,L);return c.length===l.length?te(e,t,n,r,B,c):!1}else if(w(e))return!w(t)||e.size!==t.size?!1:te(e,t,n,r,H);else if(S(e))return!S(t)||e.size!==t.size?!1:te(e,t,n,r,U);else if(y(e)){if(!ee(e,t))return!1}else if(E(e)&&!q(e,t))return!1;return te(e,t,n,r,B)}function Y(e,t){return t.filter(function(t){return g(e,t)})}function te(e,t,n,r,i,a){if(arguments.length===5){a=Object.keys(e);var o=Object.keys(t);if(a.length!==o.length)return!1}for(var s=0;s<a.length;s++)if(!h(t,a[s]))return!1;if(n&&arguments.length===5){var c=f(e);if(c.length!==0){var l=0;for(s=0;s<c.length;s++){var u=c[s];if(g(e,u)){if(!g(t,u))return!1;a.push(u),l++}else if(g(t,u))return!1}var d=f(t);if(c.length!==d.length&&Y(t,d).length!==l)return!1}else{var p=f(t);if(p.length!==0&&Y(t,p).length!==0)return!1}}if(a.length===0&&(i===B||i===V&&e.length===0||e.size===0))return!0;if(r===void 0)r={val1:new Map,val2:new Map,position:0};else{var m=r.val1.get(e);if(m!==void 0){var _=r.val2.get(t);if(_!==void 0)return m===_}r.position++}r.val1.set(e,r.position),r.val2.set(t,r.position);var v=le(e,t,n,a,r,i);return r.val1.delete(e),r.val2.delete(t),v}function ne(e,t,n,r){for(var i=l(e),a=0;a<i.length;a++){var o=i[a];if(J(t,o,n,r))return e.delete(o),!0}return!1}function re(e){switch(s(e)){case`undefined`:return null;case`object`:return;case`symbol`:return!1;case`string`:e=+e;case`number`:if(p(e))return!1}return!0}function ie(e,t,n){var r=re(n);return r??(t.has(r)&&!e.has(r))}function ae(e,t,n,r,i){var a=re(n);if(a!=null)return a;var o=t.get(a);return o===void 0&&!t.has(a)||!J(r,o,!1,i)?!1:!e.has(a)&&J(r,o,!1,i)}function oe(e,t,n,r){for(var i=null,a=l(e),o=0;o<a.length;o++){var c=a[o];if(s(c)===`object`&&c!==null)i===null&&(i=new Set),i.add(c);else if(!t.has(c)){if(n||!ie(e,t,c))return!1;i===null&&(i=new Set),i.add(c)}}if(i!==null){for(var u=l(t),d=0;d<u.length;d++){var f=u[d];if(s(f)===`object`&&f!==null){if(!ne(i,f,n,r))return!1}else if(!n&&!e.has(f)&&!ne(i,f,n,r))return!1}return i.size===0}return!0}function se(e,t,n,r,i,a){for(var o=l(e),s=0;s<o.length;s++){var c=o[s];if(J(n,c,i,a)&&J(r,t.get(c),i,a))return e.delete(c),!0}return!1}function ce(e,t,n,i){for(var a=null,o=u(e),c=0;c<o.length;c++){var l=r(o[c],2),d=l[0],f=l[1];if(s(d)===`object`&&d!==null)a===null&&(a=new Set),a.add(d);else{var p=t.get(d);if(p===void 0&&!t.has(d)||!J(f,p,n,i)){if(n||!ae(e,t,d,f,i))return!1;a===null&&(a=new Set),a.add(d)}}}if(a!==null){for(var m=u(t),h=0;h<m.length;h++){var g=r(m[h],2),d=g[0],_=g[1];if(s(d)===`object`&&d!==null){if(!se(a,e,d,_,n,i))return!1}else if(!n&&(!e.has(d)||!J(e.get(d),_,!1,i))&&!se(a,e,d,_,!1,i))return!1}return a.size===0}return!0}function le(e,t,n,r,i,a){var o=0;if(a===H){if(!oe(e,t,n,i))return!1}else if(a===U){if(!ce(e,t,n,i))return!1}else if(a===V)for(;o<e.length;o++)if(h(e,o)){if(!h(t,o)||!J(e[o],t[o],n,i))return!1}else if(h(t,o))return!1;else{for(var s=Object.keys(e);o<s.length;o++){var c=s[o];if(!h(t,c)||!J(e[c],t[c],n,i))return!1}return s.length===Object.keys(t).length}for(o=0;o<r.length;o++){var l=r[o];if(!J(e[l],t[l],n,i))return!1}return!0}function ue(e,t){return J(e,t,z)}function de(e,t){return J(e,t,R)}e.exports={isDeepEqual:ue,isDeepStrictEqual:de}}),95341:(function(e,t){t.byteLength=l,t.toByteArray=d,t.fromByteArray=m;for(var n=[],r=[],i=typeof Uint8Array<`u`?Uint8Array:Array,a=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/`,o=0,s=a.length;o<s;++o)n[o]=a[o],r[a.charCodeAt(o)]=o;r[45]=62,r[95]=63;function c(e){var t=e.length;if(t%4>0)throw Error(`Invalid string. Length must be a multiple of 4`);var n=e.indexOf(`=`);n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function l(e){var t=c(e),n=t[0],r=t[1];return(n+r)*3/4-r}function u(e,t,n){return(t+n)*3/4-n}function d(e){var t,n=c(e),a=n[0],o=n[1],s=new i(u(e,a,o)),l=0,d=o>0?a-4:a,f;for(f=0;f<d;f+=4)t=r[e.charCodeAt(f)]<<18|r[e.charCodeAt(f+1)]<<12|r[e.charCodeAt(f+2)]<<6|r[e.charCodeAt(f+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=t&255;return o===2&&(t=r[e.charCodeAt(f)]<<2|r[e.charCodeAt(f+1)]>>4,s[l++]=t&255),o===1&&(t=r[e.charCodeAt(f)]<<10|r[e.charCodeAt(f+1)]<<4|r[e.charCodeAt(f+2)]>>2,s[l++]=t>>8&255,s[l++]=t&255),s}function f(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[e&63]}function p(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(f(r));return i.join(``)}function m(e){for(var t,r=e.length,i=r%3,a=[],o=16383,s=0,c=r-i;s<c;s+=o)a.push(p(e,s,s+o>c?c:s+o));return i===1?(t=e[r-1],a.push(n[t>>2]+n[t<<4&63]+`==`)):i===2&&(t=(e[r-2]<<8)+e[r-1],a.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+`=`)),a.join(``)}}),91358:(function(e){function t(e,t,n,r,i){for(var a=i+1;r<=i;){var o=r+i>>>1,s=e[o];(n===void 0?s-t:n(s,t))>=0?(a=o,i=o-1):r=o+1}return a}function n(e,t,n,r,i){for(var a=i+1;r<=i;){var o=r+i>>>1,s=e[o];(n===void 0?s-t:n(s,t))>0?(a=o,i=o-1):r=o+1}return a}function r(e,t,n,r,i){for(var a=r-1;r<=i;){var o=r+i>>>1,s=e[o];(n===void 0?s-t:n(s,t))<0?(a=o,r=o+1):i=o-1}return a}function i(e,t,n,r,i){for(var a=r-1;r<=i;){var o=r+i>>>1,s=e[o];(n===void 0?s-t:n(s,t))<=0?(a=o,r=o+1):i=o-1}return a}function a(e,t,n,r,i){for(;r<=i;){var a=r+i>>>1,o=e[a],s=n===void 0?o-t:n(o,t);if(s===0)return a;s<=0?r=a+1:i=a-1}return-1}function o(e,t,n,r,i,a){return typeof n==`function`?a(e,t,n,r===void 0?0:r|0,i===void 0?e.length-1:i|0):a(e,t,void 0,n===void 0?0:n|0,r===void 0?e.length-1:r|0)}e.exports={ge:function(e,n,r,i,a){return o(e,n,r,i,a,t)},gt:function(e,t,r,i,a){return o(e,t,r,i,a,n)},lt:function(e,t,n,i,a){return o(e,t,n,i,a,r)},le:function(e,t,n,r,a){return o(e,t,n,r,a,i)},eq:function(e,t,n,r,i){return o(e,t,n,r,i,a)}}}),13547:(function(e,t){"use restrict";var n=32;t.INT_BITS=n,t.INT_MAX=2147483647,t.INT_MIN=-1<<n-1,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>n-1;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1)&&!!e},t.log2=function(e){var t=(e>65535)<<4,n;return e>>>=t,n=(e>255)<<3,e>>>=n,t|=n,n=(e>15)<<2,e>>>=n,t|=n,n=(e>3)<<1,e>>>=n,t|=n,t|e>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return e-=e>>>1&1431655765,e=(e&858993459)+(e>>>2&858993459),(e+(e>>>4)&252645135)*16843009>>>24};function r(e){var t=32;return e&=-e,e&&t--,e&65535&&(t-=16),e&16711935&&(t-=8),e&252645135&&(t-=4),e&858993459&&(t-=2),e&1431655765&&--t,t}t.countTrailingZeros=r,t.nextPow2=function(e){return e+=e===0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1};var i=Array(256);(function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=n&1,--i;e[t]=r<<i&255}})(i),t.reverse=function(e){return i[e&255]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return e&=65535,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t&=65535,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1},t.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=(e|e>>>1)&858993459,e=(e|e>>>2)&252645135,e=(e|e>>>4)&16711935,e=(e|e>>>16)&65535,e<<16>>16},t.interleave3=function(e,t,n){return e&=1023,e=(e|e<<16)&4278190335,e=(e|e<<8)&251719695,e=(e|e<<4)&3272356035,e=(e|e<<2)&1227133513,t&=1023,t=(t|t<<16)&4278190335,t=(t|t<<8)&251719695,t=(t|t<<4)&3272356035,t=(t|t<<2)&1227133513,e|=t<<1,n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,e|n<<2},t.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=(e|e>>>2)&3272356035,e=(e|e>>>4)&251719695,e=(e|e>>>8)&4278190335,e=(e|e>>>16)&1023,e<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}}),44781:(function(e,t,n){var r=n(53435);e.exports=a;var i=0x56bc75e2d63100000;function a(e,t){t||={};var n=t.cutoff==null?.25:t.cutoff,a=t.radius==null?8:t.radius,s=t.channel||0,c,l,u,d,f,p,m,h,g,_,v;if(ArrayBuffer.isView(e)||Array.isArray(e)){if(!t.width||!t.height)throw Error(`For raw data width and height should be provided by options`);c=t.width,l=t.height,d=e,p=t.stride?t.stride:Math.floor(e.length/c/l)}else window.HTMLCanvasElement&&e instanceof window.HTMLCanvasElement?(h=e,m=h.getContext(`2d`),c=h.width,l=h.height,g=m.getImageData(0,0,c,l),d=g.data,p=4):window.CanvasRenderingContext2D&&e instanceof window.CanvasRenderingContext2D?(h=e.canvas,m=e,c=h.width,l=h.height,g=m.getImageData(0,0,c,l),d=g.data,p=4):window.ImageData&&e instanceof window.ImageData&&(g=e,c=e.width,l=e.height,d=g.data,p=4);if(u=Math.max(c,l),window.Uint8ClampedArray&&d instanceof window.Uint8ClampedArray||window.Uint8Array&&d instanceof window.Uint8Array)for(f=d,d=Array(c*l),_=0,v=f.length;_<v;_++)d[_]=f[_*p+s]/255;else if(p!==1)throw Error(`Raw data can have only 1 value per pixel`);var y=Array(c*l),b=Array(c*l),x=Array(u),S=Array(u),C=Array(u+1),w=Array(u);for(_=0,v=c*l;_<v;_++){var T=d[_];y[_]=T===1?0:T===0?i:Math.max(0,.5-T)**2,b[_]=T===1?i:T===0?0:Math.max(0,T-.5)**2}o(y,c,l,x,S,w,C),o(b,c,l,x,S,w,C);var E=window.Float32Array?new Float32Array(c*l):Array(c*l);for(_=0,v=c*l;_<v;_++)E[_]=r(1-((y[_]-b[_])/a+n),0,1);return E}function o(e,t,n,r,i,a,o){for(var c=0;c<t;c++){for(var l=0;l<n;l++)r[l]=e[l*t+c];for(s(r,i,a,o,n),l=0;l<n;l++)e[l*t+c]=i[l]}for(l=0;l<n;l++){for(c=0;c<t;c++)r[c]=e[l*t+c];for(s(r,i,a,o,t),c=0;c<t;c++)e[l*t+c]=Math.sqrt(i[c])}}function s(e,t,n,r,a){n[0]=0,r[0]=-i,r[1]=+i;for(var o=1,s=0;o<a;o++){for(var c=(e[o]+o*o-(e[n[s]]+n[s]*n[s]))/(2*o-2*n[s]);c<=r[s];)s--,c=(e[o]+o*o-(e[n[s]]+n[s]*n[s]))/(2*o-2*n[s]);s++,n[s]=o,r[s]=c,r[s+1]=+i}for(o=0,s=0;o<a;o++){for(;r[s+1]<o;)s++;t[o]=(o-n[s])*(o-n[s])+e[n[s]]}}}),6614:(function(e,t,n){var r=n(68318),i=n(68222),a=i(r(`String.prototype.indexOf`));e.exports=function(e,t){var n=r(e,!!t);return typeof n==`function`&&a(e,`.prototype.`)>-1?i(n):n}}),68222:(function(e,t,n){var r=n(77575),i=n(68318),a=i(`%Function.prototype.apply%`),o=i(`%Function.prototype.call%`),s=i(`%Reflect.apply%`,!0)||r.call(o,a),c=i(`%Object.getOwnPropertyDescriptor%`,!0),l=i(`%Object.defineProperty%`,!0),u=i(`%Math.max%`);if(l)try{l({},`a`,{value:1})}catch{l=null}e.exports=function(e){var t=s(r,o,arguments);return c&&l&&c(t,`length`).configurable&&l(t,`length`,{value:1+u(0,e.length-(arguments.length-1))}),t};var d=function(){return s(r,a,arguments)};l?l(e.exports,`apply`,{value:d}):e.exports.apply=d}),53435:(function(e){e.exports=t;function t(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}}),6475:(function(e,t,n){var r=n(53435);e.exports=i,e.exports.to=i,e.exports.from=a;function i(e,t){t??=!0;var n=e[0],i=e[1],a=e[2],o=e[3];return o??=t?1:255,t&&(n*=255,i*=255,a*=255,o*=255),n=r(n,0,255)&255,i=r(i,0,255)&255,a=r(a,0,255)&255,o=r(o,0,255)&255,n*16777216+(i<<16)+(a<<8)+o}function a(e,t){e=+e;var n=e>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,a=e&255;return t===!1?[n,r,i,a]:[n/255,r/255,i/255,a/255]}}),76857:(function(e){e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}),25075:(function(e,t,n){var r=n(36652),i=n(53435),a=n(90660);e.exports=function(e,t){(t===`float`||!t)&&(t=`array`),t===`uint`&&(t=`uint8`),t===`uint_clamped`&&(t=`uint8_clamped`);var n=new(a(t))(4),s=t!==`uint8`&&t!==`uint8_clamped`;return(!e.length||typeof e==`string`)&&(e=r(e),e[0]/=255,e[1]/=255,e[2]/=255),o(e)?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3]==null?255:e[3],s&&(n[0]/=255,n[1]/=255,n[2]/=255,n[3]/=255),n):(s?(n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3]==null?1:e[3]):(n[0]=i(Math.floor(e[0]*255),0,255),n[1]=i(Math.floor(e[1]*255),0,255),n[2]=i(Math.floor(e[2]*255),0,255),n[3]=e[3]==null?255:i(Math.floor(e[3]*255),0,255)),n)};function o(e){return!!(e instanceof Uint8Array||e instanceof Uint8ClampedArray||Array.isArray(e)&&(e[0]>1||e[0]===0)&&(e[1]>1||e[1]===0)&&(e[2]>1||e[2]===0)&&(!e[3]||e[3]>1))}}),90736:(function(e,t,n){var r=n(76857),i=n(10973),a=n(46775);e.exports=s;var o={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function s(e){var t,s=[],c=1,l;if(typeof e==`string`)if(r[e])s=r[e].slice(),l=`rgb`;else if(e===`transparent`)c=0,l=`rgb`,s=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var u=e.slice(1),d=u.length,f=d<=4;c=1,f?(s=[parseInt(u[0]+u[0],16),parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16)],d===4&&(c=parseInt(u[3]+u[3],16)/255)):(s=[parseInt(u[0]+u[1],16),parseInt(u[2]+u[3],16),parseInt(u[4]+u[5],16)],d===8&&(c=parseInt(u[6]+u[7],16)/255)),s[0]||=0,s[1]||=0,s[2]||=0,l=`rgb`}else if(t=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var p=t[1],m=p===`rgb`,u=p.replace(/a$/,``);l=u;var d=u===`cmyk`?4:u===`gray`?1:3;s=t[2].trim().split(/\s*,\s*/).map(function(e,t){if(/%$/.test(e))return t===d?parseFloat(e)/100:u===`rgb`?parseFloat(e)*255/100:parseFloat(e);if(u[t]===`h`){if(/deg$/.test(e))return parseFloat(e);if(o[e]!==void 0)return o[e]}return parseFloat(e)}),p===u&&s.push(1),c=m||s[d]===void 0?1:s[d],s=s.slice(0,d)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(s=e.match(/([0-9]+)/g).map(function(e){return parseFloat(e)}),l=e.match(/([a-z])/gi).join(``).toLowerCase());else if(!isNaN(e))l=`rgb`,s=[e>>>16,(e&65280)>>>8,e&255];else if(i(e)){var h=a(e.r,e.red,e.R,null);h===null?(l=`hsl`,s=[a(e.h,e.hue,e.H),a(e.s,e.saturation,e.S),a(e.l,e.lightness,e.L,e.b,e.brightness)]):(l=`rgb`,s=[h,a(e.g,e.green,e.G),a(e.b,e.blue,e.B)]),c=a(e.a,e.alpha,e.opacity,1),e.opacity!=null&&(c/=100)}else (Array.isArray(e)||n.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e))&&(s=[e[0],e[1],e[2]],l=`rgb`,c=e.length===4?e[3]:1);return{space:l,values:s,alpha:c}}}),36652:(function(e,t,n){var r=n(90736),i=n(80009),a=n(53435);e.exports=function(e){var t,n=r(e);return n.space?(t=[,,,],t[0]=a(n.values[0],0,255),t[1]=a(n.values[1],0,255),t[2]=a(n.values[2],0,255),n.space[0]===`h`&&(t=i.rgb(t)),t.push(a(n.alpha,0,1)),t):[]}}),80009:(function(e,t,n){var r=n(6866);e.exports={name:`hsl`,min:[0,0,0],max:[360,100,100],channel:[`hue`,`saturation`,`lightness`],alias:[`HSL`],rgb:function(e){var t=e[0]/360,n=e[1]/100,r=e[2]/100,i,a,o,s,c;if(n===0)return c=r*255,[c,c,c];a=r<.5?r*(1+n):r+n-r*n,i=2*r-a,s=[0,0,0];for(var l=0;l<3;l++)o=t+1/3*-(l-1),o<0?o++:o>1&&o--,c=6*o<1?i+(a-i)*6*o:2*o<1?a:3*o<2?i+(a-i)*(2/3-o)*6:i,s[l]=c*255;return s}},r.hsl=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=a-i,s,c,l;return a===i?s=0:t===a?s=(n-r)/o:n===a?s=2+(r-t)/o:r===a&&(s=4+(t-n)/o),s=Math.min(s*60,360),s<0&&(s+=360),l=(i+a)/2,c=a===i?0:l<=.5?o/(a+i):o/(2-a-i),[s,c*100,l*100]}}),6866:(function(e){e.exports={name:`rgb`,min:[0,0,0],max:[255,255,255],channel:[`red`,`green`,`blue`],alias:[`RGB`]}}),24138:(function(e){e.exports={AFG:`afghan`,ALA:`\\b\\wland`,ALB:`albania`,DZA:`algeria`,ASM:`^(?=.*americ).*samoa`,AND:`andorra`,AGO:`angola`,AIA:`anguill?a`,ATA:`antarctica`,ATG:`antigua`,ARG:`argentin`,ARM:`armenia`,ABW:`^(?!.*bonaire).*\\baruba`,AUS:`australia`,AUT:`^(?!.*hungary).*austria|\\baustri.*\\bemp`,AZE:`azerbaijan`,BHS:`bahamas`,BHR:`bahrain`,BGD:`bangladesh|^(?=.*east).*paki?stan`,BRB:`barbados`,BLR:`belarus|byelo`,BEL:`^(?!.*luxem).*belgium`,BLZ:`belize|^(?=.*british).*honduras`,BEN:`benin|dahome`,BMU:`bermuda`,BTN:`bhutan`,BOL:`bolivia`,BES:`^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands`,BIH:`herzegovina|bosnia`,BWA:`botswana|bechuana`,BVT:`bouvet`,BRA:`brazil`,IOT:`british.?indian.?ocean`,BRN:`brunei`,BGR:`bulgaria`,BFA:`burkina|\\bfaso|upper.?volta`,BDI:`burundi`,CPV:`verde`,KHM:`cambodia|kampuchea|khmer`,CMR:`cameroon`,CAN:`canada`,CYM:`cayman`,CAF:`\\bcentral.african.republic`,TCD:`\\bchad`,CHL:`\\bchile`,CHN:`^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china`,CXR:`christmas`,CCK:`\\bcocos|keeling`,COL:`colombia`,COM:`comoro`,COG:`^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo`,COK:`\\bcook`,CRI:`costa.?rica`,CIV:`ivoire|ivory`,HRV:`croatia`,CUB:`\\bcuba`,CUW:`^(?!.*bonaire).*\\bcura(c|)ao`,CYP:`cyprus`,CSK:`czechoslovakia`,CZE:`^(?=.*rep).*czech|czechia|bohemia`,COD:`\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc`,DNK:`denmark`,DJI:`djibouti`,DMA:`dominica(?!n)`,DOM:`dominican.rep`,ECU:`ecuador`,EGY:`egypt`,SLV:`el.?salvador`,GNQ:`guine.*eq|eq.*guine|^(?=.*span).*guinea`,ERI:`eritrea`,EST:`estonia`,ETH:`ethiopia|abyssinia`,FLK:`falkland|malvinas`,FRO:`faroe|faeroe`,FJI:`fiji`,FIN:`finland`,FRA:`^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul`,GUF:`^(?=.*french).*guiana`,PYF:`french.?polynesia|tahiti`,ATF:`french.?southern`,GAB:`gabon`,GMB:`gambia`,GEO:`^(?!.*south).*georgia`,DDR:`german.?democratic.?republic|democratic.?republic.*germany|east.germany`,DEU:`^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german`,GHA:`ghana|gold.?coast`,GIB:`gibraltar`,GRC:`greece|hellenic|hellas`,GRL:`greenland`,GRD:`grenada`,GLP:`guadeloupe`,GUM:`\\bguam`,GTM:`guatemala`,GGY:`guernsey`,GIN:`^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea`,GNB:`bissau|^(?=.*portu).*guinea`,GUY:`guyana|british.?guiana`,HTI:`haiti`,HMD:`heard.*mcdonald`,VAT:`holy.?see|vatican|papal.?st`,HND:`^(?!.*brit).*honduras`,HKG:`hong.?kong`,HUN:`^(?!.*austr).*hungary`,ISL:`iceland`,IND:`india(?!.*ocea)`,IDN:`indonesia`,IRN:`\\biran|persia`,IRQ:`\\biraq|mesopotamia`,IRL:`(^ireland)|(^republic.*ireland)`,IMN:`^(?=.*isle).*\\bman`,ISR:`israel`,ITA:`italy`,JAM:`jamaica`,JPN:`japan`,JEY:`jersey`,JOR:`jordan`,KAZ:`kazak`,KEN:`kenya|british.?east.?africa|east.?africa.?prot`,KIR:`kiribati`,PRK:`^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)`,KWT:`kuwait`,KGZ:`kyrgyz|kirghiz`,LAO:`\\blaos?\\b`,LVA:`latvia`,LBN:`lebanon`,LSO:`lesotho|basuto`,LBR:`liberia`,LBY:`libya`,LIE:`liechtenstein`,LTU:`lithuania`,LUX:`^(?!.*belg).*luxem`,MAC:`maca(o|u)`,MDG:`madagascar|malagasy`,MWI:`malawi|nyasa`,MYS:`malaysia`,MDV:`maldive`,MLI:`\\bmali\\b`,MLT:`\\bmalta`,MHL:`marshall`,MTQ:`martinique`,MRT:`mauritania`,MUS:`mauritius`,MYT:`\\bmayotte`,MEX:`\\bmexic`,FSM:`fed.*micronesia|micronesia.*fed`,MCO:`monaco`,MNG:`mongolia`,MNE:`^(?!.*serbia).*montenegro`,MSR:`montserrat`,MAR:`morocco|\\bmaroc`,MOZ:`mozambique`,MMR:`myanmar|burma`,NAM:`namibia`,NRU:`nauru`,NPL:`nepal`,NLD:`^(?!.*\\bant)(?!.*\\bcarib).*netherlands`,ANT:`^(?=.*\\bant).*(nether|dutch)`,NCL:`new.?caledonia`,NZL:`new.?zealand`,NIC:`nicaragua`,NER:`\\bniger(?!ia)`,NGA:`nigeria`,NIU:`niue`,NFK:`norfolk`,MNP:`mariana`,NOR:`norway`,OMN:`\\boman|trucial`,PAK:`^(?!.*east).*paki?stan`,PLW:`palau`,PSE:`palestin|\\bgaza|west.?bank`,PAN:`panama`,PNG:`papua|new.?guinea`,PRY:`paraguay`,PER:`peru`,PHL:`philippines`,PCN:`pitcairn`,POL:`poland`,PRT:`portugal`,PRI:`puerto.?rico`,QAT:`qatar`,KOR:`^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)`,MDA:`moldov|b(a|e)ssarabia`,REU:`r(e|)union`,ROU:`r(o|u|ou)mania`,RUS:`\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics`,RWA:`rwanda`,BLM:`barth(e|)lemy`,SHN:`helena`,KNA:`kitts|\\bnevis`,LCA:`\\blucia`,MAF:`^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)`,SPM:`miquelon`,VCT:`vincent`,WSM:`^(?!.*amer).*samoa`,SMR:`san.?marino`,STP:`\\bs(a|)o.?tom(e|)`,SAU:`\\bsa\\w*.?arabia`,SEN:`senegal`,SRB:`^(?!.*monte).*serbia`,SYC:`seychell`,SLE:`sierra`,SGP:`singapore`,SXM:`^(?!.*martin)(?!.*saba).*maarten`,SVK:`^(?!.*cze).*slovak`,SVN:`slovenia`,SLB:`solomon`,SOM:`somali`,ZAF:`south.africa|s\\\\..?africa`,SGS:`south.?georgia|sandwich`,SSD:`\\bs\\w*.?sudan`,ESP:`spain`,LKA:`sri.?lanka|ceylon`,SDN:`^(?!.*\\bs(?!u)).*sudan`,SUR:`surinam|dutch.?guiana`,SJM:`svalbard`,SWZ:`swaziland`,SWE:`sweden`,CHE:`switz|swiss`,SYR:`syria`,TWN:`taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china`,TJK:`tajik`,THA:`thailand|\\bsiam`,MKD:`macedonia|fyrom`,TLS:`^(?=.*leste).*timor|^(?=.*east).*timor`,TGO:`togo`,TKL:`tokelau`,TON:`tonga`,TTO:`trinidad|tobago`,TUN:`tunisia`,TUR:`turkey`,TKM:`turkmen`,TCA:`turks`,TUV:`tuvalu`,UGA:`uganda`,UKR:`ukrain`,ARE:`emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em`,GBR:`united.?kingdom|britain|^u\\.?k\\.?$`,TZA:`tanzania`,USA:`united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)`,UMI:`minor.?outlying.?is`,URY:`uruguay`,UZB:`uzbek`,VUT:`vanuatu|new.?hebrides`,VEN:`venezuela`,VNM:`^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam`,VGB:`^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin`,VIR:`^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin`,WLF:`futuna|wallis`,ESH:`western.sahara`,YEM:`^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen`,YMD:`^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen`,YUG:`yugoslavia`,ZMB:`zambia|northern.?rhodesia`,EAZ:`zanzibar`,ZWE:`zimbabwe|^(?!.*northern).*rhodesia`}}),72791:(function(e,t,n){e.exports={parse:n(41004),stringify:n(53313)}}),63625:(function(e,t,n){var r=n(40402);e.exports={isSize:function(e){return/^[\d\.]/.test(e)||e.indexOf(`/`)!==-1||r.indexOf(e)!==-1}}}),41004:(function(e,t,n){var r=n(90448),i=n(38732),a=n(41901),o=n(15659),s=n(96209),c=n(83794),l=n(99011),u=n(63625).isSize;e.exports=f;var d=f.cache={};function f(e){if(typeof e!=`string`)throw Error(`Font argument must be a string.`);if(d[e])return d[e];if(e===``)throw Error(`Cannot parse an empty string.`);if(a.indexOf(e)!==-1)return d[e]={system:e};for(var t={style:`normal`,variant:`normal`,weight:`normal`,stretch:`normal`,lineHeight:`normal`,size:`1rem`,family:[`serif`]},n=l(e,/\s+/),f;f=n.shift();){if(i.indexOf(f)!==-1)return[`style`,`variant`,`weight`,`stretch`].forEach(function(e){t[e]=f}),d[e]=t;if(s.indexOf(f)!==-1){t.style=f;continue}if(f===`normal`||f===`small-caps`){t.variant=f;continue}if(c.indexOf(f)!==-1){t.stretch=f;continue}if(o.indexOf(f)!==-1){t.weight=f;continue}if(u(f)){var m=l(f,`/`);if(t.size=m[0],m[1]==null?n[0]===`/`&&(n.shift(),t.lineHeight=p(n.shift())):t.lineHeight=p(m[1]),!n.length)throw Error(`Missing required font-family.`);return t.family=l(n.join(` `),/\s*,\s*/).map(r),d[e]=t}throw Error(`Unknown or unsupported font token: `+f)}throw Error(`Missing required font-size.`)}function p(e){var t=parseFloat(e);return t.toString()===e?t:e}}),53313:(function(e,t,n){var r=n(71299),i=n(63625).isSize,a=m(n(38732)),o=m(n(41901)),s=m(n(15659)),c=m(n(96209)),l=m(n(83794)),u={normal:1,"small-caps":1},d={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},f={style:`normal`,variant:`normal`,weight:`normal`,stretch:`normal`,size:`1rem`,lineHeight:`normal`,family:`serif`};e.exports=function(e){if(e=r(e,{style:`style fontstyle fontStyle font-style slope distinction`,variant:`variant font-variant fontVariant fontvariant var capitalization`,weight:`weight w font-weight fontWeight fontweight`,stretch:`stretch font-stretch fontStretch fontstretch width`,size:`size s font-size fontSize fontsize height em emSize`,lineHeight:`lh line-height lineHeight lineheight leading`,family:`font family fontFamily font-family fontfamily type typeface face`,system:`system reserved default global`}),e.system)return e.system&&p(e.system,o),e.system;if(p(e.style,c),p(e.variant,u),p(e.weight,s),p(e.stretch,l),e.size??=f.size,typeof e.size==`number`&&(e.size+=`px`),!i)throw Error("Bad size value `"+e.size+"`");e.family||=f.family,Array.isArray(e.family)&&(e.family.length||(e.family=[f.family]),e.family=e.family.map(function(e){return d[e]?e:`"`+e+`"`}).join(`, `));var t=[];return t.push(e.style),e.variant!==e.style&&t.push(e.variant),e.weight!==e.variant&&e.weight!==e.style&&t.push(e.weight),e.stretch!==e.weight&&e.stretch!==e.variant&&e.stretch!==e.style&&t.push(e.stretch),t.push(e.size+(e.lineHeight==null||e.lineHeight===`normal`||e.lineHeight+``==`1`?``:`/`+e.lineHeight)),t.push(e.family),t.filter(Boolean).join(` `)};function p(e,t){if(e&&!t[e]&&!a[e])throw Error("Unknown keyword `"+e+"`");return e}function m(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t}}),55174:(function(e,t,n){var r=n(24582),i=n(10424),a=n(82527),o=n(19012),s=n(21780),c=n(16906),l=Function.prototype.bind,u=Object.defineProperty,d=Object.prototype.hasOwnProperty,f=function(e,t,n){var r=i(t)&&a(t.value),s=o(t);return delete s.writable,delete s.value,s.get=function(){return!n.overwriteDefinition&&d.call(this,e)?r:(t.value=l.call(r,n.resolveContext?n.resolveContext(this):this),u(this,e,t),this[e])},s};e.exports=function(e){var t=s(arguments[1]);return r(t.resolveContext)&&a(t.resolveContext),c(e,function(e,n){return f(n,e,t)})}}),62072:(function(e,t,n){var r=n(24582),i=n(84985),a=n(95879),o=n(21780),s=n(66741),c=e.exports=function(e,t){var n,i,c,l,u;return arguments.length<2||typeof e!=`string`?(l=t,t=e,e=null):l=arguments[2],r(e)?(n=s.call(e,`c`),i=s.call(e,`e`),c=s.call(e,`w`)):(n=c=!0,i=!1),u={value:t,configurable:n,enumerable:i,writable:c},l?a(o(l),u):u};c.gs=function(e,t,n){var c,l,u,d;return typeof e==`string`?u=arguments[3]:(u=n,n=t,t=e,e=null),r(t)?i(t)?r(n)?i(n)||(u=n,n=void 0):n=void 0:(u=t,t=n=void 0):t=void 0,r(e)?(c=s.call(e,`c`),l=s.call(e,`e`)):(c=!0,l=!1),d={get:t,set:n,configurable:c,enumerable:l},u?a(o(u),d):d}}),33064:(function(e,t,n){n.d(t,{j2:function(){return r},Fp:function(){return c},J6:function(){return u},TS:function(){return d},VV:function(){return f},w6:function(){return p},Sm:function(){return m}});function r(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function i(e){return e.length===1&&(e=a(e)),{left:function(t,n,r,i){for(r??=0,i??=t.length;r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(r??=0,i??=t.length;r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}function a(e){return function(t,n){return r(e(t),n)}}var o=i(r);o.right,o.left;var s=Array.prototype;s.slice,s.map;function c(e,t){var n=e.length,r=-1,i,a;if(t==null){for(;++r<n;)if((i=e[r])!=null&&i>=i)for(a=i;++r<n;)(i=e[r])!=null&&i>a&&(a=i)}else for(;++r<n;)if((i=t(e[r],r,e))!=null&&i>=i)for(a=i;++r<n;)(i=t(e[r],r,e))!=null&&i>a&&(a=i);return a}function l(e){return e===null?NaN:+e}function u(e,t){var n=e.length,r=n,i=-1,a,o=0;if(t==null)for(;++i<n;)isNaN(a=l(e[i]))?--r:o+=a;else for(;++i<n;)isNaN(a=l(t(e[i],i,e)))?--r:o+=a;if(r)return o/r}function d(e){for(var t=e.length,n,r=-1,i=0,a,o;++r<t;)i+=e[r].length;for(a=Array(i);--t>=0;)for(o=e[t],n=o.length;--n>=0;)a[--i]=o[n];return a}function f(e,t){var n=e.length,r=-1,i,a;if(t==null){for(;++r<n;)if((i=e[r])!=null&&i>=i)for(a=i;++r<n;)(i=e[r])!=null&&a>i&&(a=i)}else for(;++r<n;)if((i=t(e[r],r,e))!=null&&i>=i)for(a=i;++r<n;)(i=t(e[r],r,e))!=null&&a>i&&(a=i);return a}function p(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=Array(i);++r<i;)a[r]=e+r*n;return a}function m(e,t){var n=e.length,r=-1,i,a=0;if(t==null)for(;++r<n;)(i=+e[r])&&(a+=i);else for(;++r<n;)(i=+t(e[r],r,e))&&(a+=i);return a}}),15140:(function(e,t,n){n.d(t,{UI:function(){return o},b1:function(){return s}});var r=`$`;function i(){}i.prototype=a.prototype={constructor:i,has:function(e){return r+e in this},get:function(e){return this[r+e]},set:function(e,t){return this[r+e]=t,this},remove:function(e){var t=r+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===r&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===r&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===r&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===r&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===r&&++e;return e},empty:function(){for(var e in this)if(e[0]===r)return!1;return!0},each:function(e){for(var t in this)t[0]===r&&e(this[t],t.slice(1),this)}};function a(e,t){var n=new i;if(e instanceof i)e.each(function(e,t){n.set(t,e)});else if(Array.isArray(e)){var r=-1,a=e.length,o;if(t==null)for(;++r<a;)n.set(r,e[r]);else for(;++r<a;)n.set(t(o=e[r],r,e),o)}else if(e)for(var s in e)n.set(s,e[s]);return n}var o=a;function s(){var e=[],t=[],n,r,i;function a(t,i,s,c){if(i>=e.length)return n!=null&&t.sort(n),r==null?t:r(t);for(var l=-1,u=t.length,d=e[i++],f,p,m=o(),h,g=s();++l<u;)(h=m.get(f=d(p=t[l])+``))?h.push(p):m.set(f,[p]);return m.each(function(e,t){c(g,t,a(e,i,s,c))}),g}function s(n,i){if(++i>e.length)return n;var a,o=t[i-1];return r!=null&&i>=e.length?a=n.entries():(a=[],n.each(function(e,t){a.push({key:t,values:s(e,i)})})),o==null?a:a.sort(function(e,t){return o(e.key,t.key)})}return i={object:function(e){return a(e,0,c,l)},map:function(e){return a(e,0,u,d)},entries:function(e){return s(a(e,0,u,d),0)},key:function(t){return e.push(t),i},sortKeys:function(n){return t[e.length-1]=n,i},sortValues:function(e){return n=e,i},rollup:function(e){return r=e,i}}}function c(){return{}}function l(e,t,n){e[t]=n}function u(){return o()}function d(e,t,n){e.set(t,n)}function f(){}var p=o.prototype;f.prototype=m.prototype={constructor:f,has:p.has,add:function(e){return e+=``,this[r+e]=e,this},remove:p.remove,clear:p.clear,values:p.keys,size:p.size,empty:p.empty,each:p.each};function m(e,t){var n=new f;if(e instanceof f)e.each(function(e){n.add(e)});else if(e){var r=-1,i=e.length;if(t==null)for(;++r<i;)n.add(e[r]);else for(;++r<i;)n.add(t(e[r],r,e))}return n}}),49887:(function(e,t,n){n.r(t),n.d(t,{forceCenter:function(){return r},forceCollide:function(){return A},forceLink:function(){return P},forceManyBody:function(){return _e},forceRadial:function(){return ve},forceSimulation:function(){return ge},forceX:function(){return ye},forceY:function(){return be}});function r(e,t){var n;e??=0,t??=0;function r(){var r,i=n.length,a,o=0,s=0;for(r=0;r<i;++r)a=n[r],o+=a.x,s+=a.y;for(o=o/i-e,s=s/i-t,r=0;r<i;++r)a=n[r],a.x-=o,a.y-=s}return r.initialize=function(e){n=e},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(e){return arguments.length?(t=+e,r):t},r}function i(e){return function(){return e}}function a(){return(Math.random()-.5)*1e-6}function o(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return s(this.cover(t,n),t,n,e)}function s(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a=e._root,o={data:r},s=e._x0,c=e._y0,l=e._x1,u=e._y1,d,f,p,m,h,g,_,v;if(!a)return e._root=o,e;for(;a.length;)if((h=t>=(d=(s+l)/2))?s=d:l=d,(g=n>=(f=(c+u)/2))?c=f:u=f,i=a,!(a=a[_=g<<1|h]))return i[_]=o,e;if(p=+e._x.call(null,a.data),m=+e._y.call(null,a.data),t===p&&n===m)return o.next=a,i?i[_]=o:e._root=o,e;do i=i?i[_]=[,,,,]:e._root=[,,,,],(h=t>=(d=(s+l)/2))?s=d:l=d,(g=n>=(f=(c+u)/2))?c=f:u=f;while((_=g<<1|h)==(v=(m>=f)<<1|p>=d));return i[v]=a,i[_]=o,e}function c(e){var t,n,r=e.length,i,a,o=Array(r),c=Array(r),l=1/0,u=1/0,d=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(o[n]=i,c[n]=a,i<l&&(l=i),i>d&&(d=i),a<u&&(u=a),a>f&&(f=a));if(l>d||u>f)return this;for(this.cover(l,u).cover(d,f),n=0;n<r;++n)s(this,o[n],c[n],e[n]);return this}function l(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o=i-n,s=this._root,c,l;n>e||e>=i||r>t||t>=a;)switch(l=(t<r)<<1|e<n,c=[,,,,],c[l]=s,s=c,o*=2,l){case 0:i=n+o,a=r+o;break;case 1:n=i-o,a=r+o;break;case 2:i=n+o,r=a-o;break;case 3:n=i-o,r=a-o;break}this._root&&this._root.length&&(this._root=s)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function u(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function d(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function f(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function p(e,t,n){var r,i=this._x0,a=this._y0,o,s,c,l,u=this._x1,d=this._y1,p=[],m=this._root,h,g;for(m&&p.push(new f(m,i,a,u,d)),n==null?n=1/0:(i=e-n,a=t-n,u=e+n,d=t+n,n*=n);h=p.pop();)if(!(!(m=h.node)||(o=h.x0)>u||(s=h.y0)>d||(c=h.x1)<i||(l=h.y1)<a))if(m.length){var _=(o+c)/2,v=(s+l)/2;p.push(new f(m[3],_,v,c,l),new f(m[2],o,v,_,l),new f(m[1],_,s,c,v),new f(m[0],o,s,_,v)),(g=(t>=v)<<1|e>=_)&&(h=p[p.length-1],p[p.length-1]=p[p.length-1-g],p[p.length-1-g]=h)}else{var y=e-+this._x.call(null,m.data),b=t-+this._y.call(null,m.data),x=y*y+b*b;if(x<n){var S=Math.sqrt(n=x);i=e-S,a=t-S,u=e+S,d=t+S,r=m.data}}return r}function m(e){if(isNaN(u=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,a,o=this._x0,s=this._y0,c=this._x1,l=this._y1,u,d,f,p,m,h,g,_;if(!n)return this;if(n.length)for(;;){if((m=u>=(f=(o+c)/2))?o=f:c=f,(h=d>=(p=(s+l)/2))?s=p:l=p,t=n,!(n=n[g=h<<1|m]))return this;if(!n.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(r=t,_=g)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):t?(a?t[g]=a:delete t[g],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[_]=n:this._root=n),this):(this._root=a,this)}function h(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function g(){return this._root}function _(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function v(e){var t=[],n,r=this._root,i,a,o,s,c;for(r&&t.push(new f(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,a=n.x0,o=n.y0,s=n.x1,c=n.y1)&&r.length){var l=(a+s)/2,u=(o+c)/2;(i=r[3])&&t.push(new f(i,l,u,s,c)),(i=r[2])&&t.push(new f(i,a,u,l,c)),(i=r[1])&&t.push(new f(i,l,o,s,u)),(i=r[0])&&t.push(new f(i,a,o,l,u))}return this}function y(e){var t=[],n=[],r;for(this._root&&t.push(new f(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var a,o=r.x0,s=r.y0,c=r.x1,l=r.y1,u=(o+c)/2,d=(s+l)/2;(a=i[0])&&t.push(new f(a,o,s,u,d)),(a=i[1])&&t.push(new f(a,u,s,c,d)),(a=i[2])&&t.push(new f(a,o,d,u,l)),(a=i[3])&&t.push(new f(a,u,d,c,l))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function b(e){return e[0]}function x(e){return arguments.length?(this._x=e,this):this._x}function S(e){return e[1]}function C(e){return arguments.length?(this._y=e,this):this._y}function w(e,t,n){var r=new T(t??b,n??S,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function T(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function E(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var D=w.prototype=T.prototype;D.copy=function(){var e=new T(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=E(t),e;for(n=[{source:t,target:e._root=[,,,,]}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=[,,,,]}):t.target[i]=E(r));return e},D.add=o,D.addAll=c,D.cover=l,D.data=u,D.extent=d,D.find=p,D.remove=m,D.removeAll=h,D.root=g,D.size=_,D.visit=v,D.visitAfter=y,D.x=x,D.y=C;function O(e){return e.x+e.vx}function k(e){return e.y+e.vy}function A(e){var t,n,r=1,o=1;typeof e!=`function`&&(e=i(e==null?1:+e));function s(){for(var e,i=t.length,s,l,u,d,f,p,m=0;m<o;++m)for(s=w(t,O,k).visitAfter(c),e=0;e<i;++e)l=t[e],f=n[l.index],p=f*f,u=l.x+l.vx,d=l.y+l.vy,s.visit(h);function h(e,t,n,i,o){var s=e.data,c=e.r,m=f+c;if(s){if(s.index>l.index){var h=u-s.x-s.vx,g=d-s.y-s.vy,_=h*h+g*g;_<m*m&&(h===0&&(h=a(),_+=h*h),g===0&&(g=a(),_+=g*g),_=(m-(_=Math.sqrt(_)))/_*r,l.vx+=(h*=_)*(m=(c*=c)/(p+c)),l.vy+=(g*=_)*m,s.vx-=h*(m=1-m),s.vy-=g*m)}return}return t>u+m||i<u-m||n>d+m||o<d-m}}function c(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,i=t.length,a;for(n=Array(i),r=0;r<i;++r)a=t[r],n[a.index]=+e(a,r,t)}}return s.initialize=function(e){t=e,l()},s.iterations=function(e){return arguments.length?(o=+e,s):o},s.strength=function(e){return arguments.length?(r=+e,s):r},s.radius=function(t){return arguments.length?(e=typeof t==`function`?t:i(+t),l(),s):e},s}var j=n(15140);function M(e){return e.index}function N(e,t){var n=e.get(t);if(!n)throw Error(`missing: `+t);return n}function P(e){var t=M,n=f,r,o=i(30),s,c,l,u,d=1;e??=[];function f(e){return 1/Math.min(l[e.source.index],l[e.target.index])}function p(t){for(var n=0,i=e.length;n<d;++n)for(var o=0,c,l,f,p,m,h,g;o<i;++o)c=e[o],l=c.source,f=c.target,p=f.x+f.vx-l.x-l.vx||a(),m=f.y+f.vy-l.y-l.vy||a(),h=Math.sqrt(p*p+m*m),h=(h-s[o])/h*t*r[o],p*=h,m*=h,f.vx-=p*(g=u[o]),f.vy-=m*g,l.vx+=p*(g=1-g),l.vy+=m*g}function m(){if(c){var n,i=c.length,a=e.length,o=(0,j.UI)(c,t),d;for(n=0,l=Array(i);n<a;++n)d=e[n],d.index=n,typeof d.source!=`object`&&(d.source=N(o,d.source)),typeof d.target!=`object`&&(d.target=N(o,d.target)),l[d.source.index]=(l[d.source.index]||0)+1,l[d.target.index]=(l[d.target.index]||0)+1;for(n=0,u=Array(a);n<a;++n)d=e[n],u[n]=l[d.source.index]/(l[d.source.index]+l[d.target.index]);r=Array(a),h(),s=Array(a),g()}}function h(){if(c)for(var t=0,i=e.length;t<i;++t)r[t]=+n(e[t],t,e)}function g(){if(c)for(var t=0,n=e.length;t<n;++t)s[t]=+o(e[t],t,e)}return p.initialize=function(e){c=e,m()},p.links=function(t){return arguments.length?(e=t,m(),p):e},p.id=function(e){return arguments.length?(t=e,p):t},p.iterations=function(e){return arguments.length?(d=+e,p):d},p.strength=function(e){return arguments.length?(n=typeof e==`function`?e:i(+e),h(),p):n},p.distance=function(e){return arguments.length?(o=typeof e==`function`?e:i(+e),g(),p):o},p}var F={value:function(){}};function I(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+``)||r in n||/[\s.]/.test(r))throw Error(`illegal type: `+r);n[r]=[]}return new L(n)}function L(e){this._=e}function R(e,t){return e.trim().split(/^|\s+/).map(function(e){var n=``,r=e.indexOf(`.`);if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw Error(`unknown type: `+e);return{type:e,name:n}})}L.prototype=I.prototype={constructor:L,on:function(e,t){var n=this._,r=R(e+``,n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=z(n[i],e.name)))return i;return}if(t!=null&&typeof t!=`function`)throw Error(`invalid callback: `+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=B(n[i],e.name,t);else if(t==null)for(i in n)n[i]=B(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new L(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw Error(`unknown type: `+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error(`unknown type: `+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function z(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function B(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=F,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var V=I,H=0,U=0,W=0,G=1e3,K,ee,q=0,J=0,Y=0,te=typeof performance==`object`&&performance.now?performance:Date,ne=typeof window==`object`&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function re(){return J||=(ne(ie),te.now()+Y)}function ie(){J=0}function ae(){this._call=this._time=this._next=null}ae.prototype=oe.prototype={constructor:ae,restart:function(e,t,n){if(typeof e!=`function`)throw TypeError(`callback is not a function`);n=(n==null?re():+n)+(t==null?0:+t),!this._next&&ee!==this&&(ee?ee._next=this:K=this,ee=this),this._call=e,this._time=n,de()},stop:function(){this._call&&(this._call=null,this._time=1/0,de())}};function oe(e,t,n){var r=new ae;return r.restart(e,t,n),r}function se(){re(),++H;for(var e=K,t;e;)(t=J-e._time)>=0&&e._call.call(null,t),e=e._next;--H}function ce(){J=(q=te.now())+Y,H=U=0;try{se()}finally{H=0,ue(),J=0}}function le(){var e=te.now(),t=e-q;t>G&&(Y-=t,q=e)}function ue(){for(var e,t=K,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:K=n);ee=e,de(r)}function de(e){H||(U&&=clearTimeout(U),e-J>24?(e<1/0&&(U=setTimeout(ce,e-te.now()-Y)),W&&=clearInterval(W)):(W||=(q=te.now(),setInterval(le,G)),H=1,ne(ce)))}function fe(e){return e.x}function pe(e){return e.y}var me=10,he=Math.PI*(3-Math.sqrt(5));function ge(e){var t,n=1,r=.001,i=1-r**(1/300),a=0,o=.6,s=(0,j.UI)(),c=oe(u),l=V(`tick`,`end`);e??=[];function u(){d(),l.call(`tick`,t),n<r&&(c.stop(),l.call(`end`,t))}function d(r){var c,l=e.length,u;r===void 0&&(r=1);for(var d=0;d<r;++d)for(n+=(a-n)*i,s.each(function(e){e(n)}),c=0;c<l;++c)u=e[c],u.fx==null?u.x+=u.vx*=o:(u.x=u.fx,u.vx=0),u.fy==null?u.y+=u.vy*=o:(u.y=u.fy,u.vy=0);return t}function f(){for(var t=0,n=e.length,r;t<n;++t){if(r=e[t],r.index=t,r.fx!=null&&(r.x=r.fx),r.fy!=null&&(r.y=r.fy),isNaN(r.x)||isNaN(r.y)){var i=me*Math.sqrt(t),a=t*he;r.x=i*Math.cos(a),r.y=i*Math.sin(a)}(isNaN(r.vx)||isNaN(r.vy))&&(r.vx=r.vy=0)}}function p(t){return t.initialize&&t.initialize(e),t}return f(),t={tick:d,restart:function(){return c.restart(u),t},stop:function(){return c.stop(),t},nodes:function(n){return arguments.length?(e=n,f(),s.each(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(a=+e,t):a},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},force:function(e,n){return arguments.length>1?(n==null?s.remove(e):s.set(e,p(n)),t):s.get(e)},find:function(t,n,r){var i=0,a=e.length,o,s,c,l,u;for(r==null?r=1/0:r*=r,i=0;i<a;++i)l=e[i],o=t-l.x,s=n-l.y,c=o*o+s*s,c<r&&(u=l,r=c);return u},on:function(e,n){return arguments.length>1?(l.on(e,n),t):l.on(e)}}}function _e(){var e,t,n,r=i(-30),o,s=1,c=1/0,l=.81;function u(r){var i,a=e.length,o=w(e,fe,pe).visitAfter(f);for(n=r,i=0;i<a;++i)t=e[i],o.visit(p)}function d(){if(e){var t,n=e.length,i;for(o=Array(n),t=0;t<n;++t)i=e[t],o[i.index]=+r(i,t,e)}}function f(e){var t=0,n,r,i=0,a,s,c;if(e.length){for(a=s=c=0;c<4;++c)(n=e[c])&&(r=Math.abs(n.value))&&(t+=n.value,i+=r,a+=r*n.x,s+=r*n.y);e.x=a/i,e.y=s/i}else{n=e,n.x=n.data.x,n.y=n.data.y;do t+=o[n.data.index];while(n=n.next)}e.value=t}function p(e,r,i,u){if(!e.value)return!0;var d=e.x-t.x,f=e.y-t.y,p=u-r,m=d*d+f*f;if(p*p/l<m)return m<c&&(d===0&&(d=a(),m+=d*d),f===0&&(f=a(),m+=f*f),m<s&&(m=Math.sqrt(s*m)),t.vx+=d*e.value*n/m,t.vy+=f*e.value*n/m),!0;if(!(e.length||m>=c)){(e.data!==t||e.next)&&(d===0&&(d=a(),m+=d*d),f===0&&(f=a(),m+=f*f),m<s&&(m=Math.sqrt(s*m)));do e.data!==t&&(p=o[e.data.index]*n/m,t.vx+=d*p,t.vy+=f*p);while(e=e.next)}}return u.initialize=function(t){e=t,d()},u.strength=function(e){return arguments.length?(r=typeof e==`function`?e:i(+e),d(),u):r},u.distanceMin=function(e){return arguments.length?(s=e*e,u):Math.sqrt(s)},u.distanceMax=function(e){return arguments.length?(c=e*e,u):Math.sqrt(c)},u.theta=function(e){return arguments.length?(l=e*e,u):Math.sqrt(l)},u}function ve(e,t,n){var r,a=i(.1),o,s;typeof e!=`function`&&(e=i(+e)),t??=0,n??=0;function c(e){for(var i=0,a=r.length;i<a;++i){var c=r[i],l=c.x-t||1e-6,u=c.y-n||1e-6,d=Math.sqrt(l*l+u*u),f=(s[i]-d)*o[i]*e/d;c.vx+=l*f,c.vy+=u*f}}function l(){if(r){var t,n=r.length;for(o=Array(n),s=Array(n),t=0;t<n;++t)s[t]=+e(r[t],t,r),o[t]=isNaN(s[t])?0:+a(r[t],t,r)}}return c.initialize=function(e){r=e,l()},c.strength=function(e){return arguments.length?(a=typeof e==`function`?e:i(+e),l(),c):a},c.radius=function(t){return arguments.length?(e=typeof t==`function`?t:i(+t),l(),c):e},c.x=function(e){return arguments.length?(t=+e,c):t},c.y=function(e){return arguments.length?(n=+e,c):n},c}function ye(e){var t=i(.1),n,r,a;typeof e!=`function`&&(e=i(e==null?0:+e));function o(e){for(var t=0,i=n.length,o;t<i;++t)o=n[t],o.vx+=(a[t]-o.x)*r[t]*e}function s(){if(n){var i,o=n.length;for(r=Array(o),a=Array(o),i=0;i<o;++i)r[i]=isNaN(a[i]=+e(n[i],i,n))?0:+t(n[i],i,n)}}return o.initialize=function(e){n=e,s()},o.strength=function(e){return arguments.length?(t=typeof e==`function`?e:i(+e),s(),o):t},o.x=function(t){return arguments.length?(e=typeof t==`function`?t:i(+t),s(),o):e},o}function be(e){var t=i(.1),n,r,a;typeof e!=`function`&&(e=i(e==null?0:+e));function o(e){for(var t=0,i=n.length,o;t<i;++t)o=n[t],o.vy+=(a[t]-o.y)*r[t]*e}function s(){if(n){var i,o=n.length;for(r=Array(o),a=Array(o),i=0;i<o;++i)r[i]=isNaN(a[i]=+e(n[i],i,n))?0:+t(n[i],i,n)}}return o.initialize=function(e){n=e,s()},o.strength=function(e){return arguments.length?(t=typeof e==`function`?e:i(+e),s(),o):t},o.y=function(t){return arguments.length?(e=typeof t==`function`?t:i(+t),s(),o):e},o}}),60721:(function(e,t,n){n.d(t,{WU:function(){return x},FF:function(){return y}});function r(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString(`en`).replace(/,/g,``):e.toString(10)}function i(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf(`e`))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function a(e){return e=i(Math.abs(e)),e?e[1]:NaN}function o(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>r&&(s=Math.max(1,r-c)),a.push(n.substring(i-=s,i+s)),!((c+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function s(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}var c=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function l(e){if(!(t=c.exec(e)))throw Error(`invalid format: `+e);var t;return new u({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}l.prototype=u.prototype;function u(e){this.fill=e.fill===void 0?` `:e.fill+``,this.align=e.align===void 0?`>`:e.align+``,this.sign=e.sign===void 0?`-`:e.sign+``,this.symbol=e.symbol===void 0?``:e.symbol+``,this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?``:e.type+``}u.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?`0`:``)+(this.width===void 0?``:Math.max(1,this.width|0))+(this.comma?`,`:``)+(this.precision===void 0?``:`.`+Math.max(0,this.precision|0))+(this.trim?`~`:``)+this.type};function d(e){out:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case`.`:r=i=n;break;case`0`:r===0&&(r=n),i=n;break;default:if(!+e[n])break out;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var f;function p(e,t){var n=i(e,t);if(!n)return e+``;var r=n[0],a=n[1],o=a-(f=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return o===s?r:o>s?r+Array(o-s+1).join(`0`):o>0?r.slice(0,o)+`.`+r.slice(o):`0.`+Array(1-o).join(`0`)+i(e,Math.max(0,t+o-1))[0]}function m(e,t){var n=i(e,t);if(!n)return e+``;var r=n[0],a=n[1];return a<0?`0.`+Array(-a).join(`0`)+r:r.length>a+1?r.slice(0,a+1)+`.`+r.slice(a+1):r+Array(a-r.length+2).join(`0`)}var h={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+``},d:r,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return m(e*100,t)},r:m,s:p,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function g(e){return e}var _=Array.prototype.map,v=[`y`,`z`,`a`,`f`,`p`,`n`,``,`m`,``,`k`,`M`,`G`,`T`,`P`,`E`,`Z`,`Y`];function y(e){var t=e.grouping===void 0||e.thousands===void 0?g:o(_.call(e.grouping,Number),e.thousands+``),n=e.currency===void 0?``:e.currency[0]+``,r=e.currency===void 0?``:e.currency[1]+``,i=e.decimal===void 0?`.`:e.decimal+``,c=e.numerals===void 0?g:s(_.call(e.numerals,String)),u=e.percent===void 0?`%`:e.percent+``,p=e.minus===void 0?`-`:e.minus+``,m=e.nan===void 0?`NaN`:e.nan+``;function y(e){e=l(e);var a=e.fill,o=e.align,s=e.sign,g=e.symbol,_=e.zero,y=e.width,b=e.comma,x=e.precision,S=e.trim,C=e.type;C===`n`?(b=!0,C=`g`):h[C]||(x===void 0&&(x=12),S=!0,C=`g`),(_||a===`0`&&o===`=`)&&(_=!0,a=`0`,o=`=`);var w=g===`$`?n:g===`#`&&/[boxX]/.test(C)?`0`+C.toLowerCase():``,T=g===`$`?r:/[%p]/.test(C)?u:``,E=h[C],D=/[defgprs%]/.test(C);x=x===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function O(e){var n=w,r=T,l,u,h;if(C===`c`)r=E(e)+r,e=``;else{e=+e;var g=e<0||1/e<0;if(e=isNaN(e)?m:E(Math.abs(e),x),S&&(e=d(e)),g&&+e==0&&s!==`+`&&(g=!1),n=(g?s===`(`?s:p:s===`-`||s===`(`?``:s)+n,r=(C===`s`?v[8+f/3]:``)+r+(g&&s===`(`?`)`:``),D){for(l=-1,u=e.length;++l<u;)if(h=e.charCodeAt(l),48>h||h>57){r=(h===46?i+e.slice(l+1):e.slice(l))+r,e=e.slice(0,l);break}}}b&&!_&&(e=t(e,1/0));var O=n.length+e.length+r.length,k=O<y?Array(y-O+1).join(a):``;switch(b&&_&&(e=t(k+e,k.length?y-r.length:1/0),k=``),o){case`<`:e=n+e+r+k;break;case`=`:e=n+k+e+r;break;case`^`:e=k.slice(0,O=k.length>>1)+n+e+r+k.slice(O);break;default:e=k+n+e+r;break}return c(e)}return O.toString=function(){return e+``},O}function b(e,t){var n=y((e=l(e),e.type=`f`,e)),r=Math.max(-8,Math.min(8,Math.floor(a(t)/3)))*3,i=10**-r,o=v[8+r/3];return function(e){return n(i*e)+o}}return{format:y,formatPrefix:b}}var b,x;S({decimal:`.`,thousands:`,`,grouping:[3],currency:[`$`,``],minus:`-`});function S(e){return b=y(e),x=b.format,b.formatPrefix,b}}),65704:(function(e,t,n){n.r(t),n.d(t,{geoAiry:function(){return z},geoAiryRaw:function(){return R},geoAitoff:function(){return V},geoAitoffRaw:function(){return B},geoArmadillo:function(){return U},geoArmadilloRaw:function(){return H},geoAugust:function(){return G},geoAugustRaw:function(){return W},geoBaker:function(){return J},geoBakerRaw:function(){return q},geoBerghaus:function(){return ne},geoBerghausRaw:function(){return te},geoBertin1953:function(){return ue},geoBertin1953Raw:function(){return le},geoBoggs:function(){return ve},geoBoggsRaw:function(){return _e},geoBonne:function(){return Ce},geoBonneRaw:function(){return Se},geoBottomley:function(){return Te},geoBottomleyRaw:function(){return we},geoBromley:function(){return X},geoBromleyRaw:function(){return Ee},geoChamberlin:function(){return Ne},geoChamberlinAfrica:function(){return Me},geoChamberlinRaw:function(){return Ae},geoCollignon:function(){return Fe},geoCollignonRaw:function(){return Pe},geoCraig:function(){return Le},geoCraigRaw:function(){return Ie},geoCraster:function(){return Be},geoCrasterRaw:function(){return ze},geoCylindricalEqualArea:function(){return He},geoCylindricalEqualAreaRaw:function(){return Ve},geoCylindricalStereographic:function(){return We},geoCylindricalStereographicRaw:function(){return Ue},geoEckert1:function(){return Ke},geoEckert1Raw:function(){return Ge},geoEckert2:function(){return Je},geoEckert2Raw:function(){return qe},geoEckert3:function(){return Xe},geoEckert3Raw:function(){return Ye},geoEckert4:function(){return Qe},geoEckert4Raw:function(){return Ze},geoEckert5:function(){return et},geoEckert5Raw:function(){return $e},geoEckert6:function(){return nt},geoEckert6Raw:function(){return tt},geoEisenlohr:function(){return at},geoEisenlohrRaw:function(){return it},geoFahey:function(){return ct},geoFaheyRaw:function(){return st},geoFoucaut:function(){return ut},geoFoucautRaw:function(){return lt},geoFoucautSinusoidal:function(){return ft},geoFoucautSinusoidalRaw:function(){return dt},geoGilbert:function(){return _t},geoGingery:function(){return xt},geoGingeryRaw:function(){return vt},geoGinzburg4:function(){return wt},geoGinzburg4Raw:function(){return Ct},geoGinzburg5:function(){return Et},geoGinzburg5Raw:function(){return Tt},geoGinzburg6:function(){return Ot},geoGinzburg6Raw:function(){return Dt},geoGinzburg8:function(){return At},geoGinzburg8Raw:function(){return kt},geoGinzburg9:function(){return Mt},geoGinzburg9Raw:function(){return jt},geoGringorten:function(){return Lt},geoGringortenQuincuncial:function(){return Ti},geoGringortenRaw:function(){return Pt},geoGuyou:function(){return Gt},geoGuyouRaw:function(){return Ht},geoHammer:function(){return oe},geoHammerRaw:function(){return ie},geoHammerRetroazimuthal:function(){return Yt},geoHammerRetroazimuthalRaw:function(){return qt},geoHealpix:function(){return on},geoHealpixRaw:function(){return en},geoHill:function(){return cn},geoHillRaw:function(){return sn},geoHomolosine:function(){return mn},geoHomolosineRaw:function(){return pn},geoHufnagel:function(){return gn},geoHufnagelRaw:function(){return hn},geoHyperelliptical:function(){return bn},geoHyperellipticalRaw:function(){return yn},geoInterrupt:function(){return wn},geoInterruptedBoggs:function(){return En},geoInterruptedHomolosine:function(){return On},geoInterruptedMollweide:function(){return An},geoInterruptedMollweideHemispheres:function(){return Mn},geoInterruptedQuarticAuthalic:function(){return Cr},geoInterruptedSinuMollweide:function(){return Pn},geoInterruptedSinusoidal:function(){return In},geoKavrayskiy7:function(){return Rn},geoKavrayskiy7Raw:function(){return Ln},geoLagrange:function(){return Bn},geoLagrangeRaw:function(){return zn},geoLarrivee:function(){return Un},geoLarriveeRaw:function(){return Hn},geoLaskowski:function(){return Gn},geoLaskowskiRaw:function(){return Wn},geoLittrow:function(){return qn},geoLittrowRaw:function(){return Kn},geoLoximuthal:function(){return Yn},geoLoximuthalRaw:function(){return Jn},geoMiller:function(){return Zn},geoMillerRaw:function(){return Xn},geoModifiedStereographic:function(){return lr},geoModifiedStereographicAlaska:function(){return ir},geoModifiedStereographicGs48:function(){return ar},geoModifiedStereographicGs50:function(){return or},geoModifiedStereographicLee:function(){return cr},geoModifiedStereographicMiller:function(){return sr},geoModifiedStereographicRaw:function(){return Qn},geoMollweide:function(){return me},geoMollweideRaw:function(){return pe},geoMtFlatPolarParabolic:function(){return $},geoMtFlatPolarParabolicRaw:function(){return fr},geoMtFlatPolarQuartic:function(){return mr},geoMtFlatPolarQuarticRaw:function(){return pr},geoMtFlatPolarSinusoidal:function(){return gr},geoMtFlatPolarSinusoidalRaw:function(){return hr},geoNaturalEarth:function(){return _r.Z},geoNaturalEarth2:function(){return yr},geoNaturalEarth2Raw:function(){return vr},geoNaturalEarthRaw:function(){return _r.K},geoNellHammer:function(){return xr},geoNellHammerRaw:function(){return br},geoNicolosi:function(){return Tr},geoNicolosiRaw:function(){return wr},geoPatterson:function(){return Ir},geoPattersonRaw:function(){return Fr},geoPeirceQuincuncial:function(){return Ei},geoPierceQuincuncial:function(){return Ei},geoPolyconic:function(){return Rr},geoPolyconicRaw:function(){return Lr},geoPolyhedral:function(){return qr},geoPolyhedralButterfly:function(){return ni},geoPolyhedralCollignon:function(){return ai},geoPolyhedralWaterman:function(){return oi},geoProject:function(){return mi},geoQuantize:function(){return Di},geoQuincuncial:function(){return wi},geoRectangularPolyconic:function(){return ki},geoRectangularPolyconicRaw:function(){return Oi},geoRobinson:function(){return Mi},geoRobinsonRaw:function(){return ji},geoSatellite:function(){return Fi},geoSatelliteRaw:function(){return Pi},geoSinuMollweide:function(){return fn},geoSinuMollweideRaw:function(){return dn},geoSinusoidal:function(){return xe},geoSinusoidalRaw:function(){return be},geoStitch:function(){return ta},geoTimes:function(){return ra},geoTimesRaw:function(){return na},geoTwoPointAzimuthal:function(){return sa},geoTwoPointAzimuthalRaw:function(){return aa},geoTwoPointAzimuthalUsa:function(){return oa},geoTwoPointEquidistant:function(){return ua},geoTwoPointEquidistantRaw:function(){return ca},geoTwoPointEquidistantUsa:function(){return la},geoVanDerGrinten:function(){return fa},geoVanDerGrinten2:function(){return ma},geoVanDerGrinten2Raw:function(){return pa},geoVanDerGrinten3:function(){return ga},geoVanDerGrinten3Raw:function(){return ha},geoVanDerGrinten4:function(){return va},geoVanDerGrinten4Raw:function(){return _a},geoVanDerGrintenRaw:function(){return da},geoWagner:function(){return xa},geoWagner4:function(){return Ea},geoWagner4Raw:function(){return Ta},geoWagner6:function(){return Oa},geoWagner6Raw:function(){return Da},geoWagner7:function(){return Sa},geoWagnerRaw:function(){return ba},geoWiechel:function(){return Aa},geoWiechelRaw:function(){return ka},geoWinkel3:function(){return Ma},geoWinkel3Raw:function(){return ja}});var r=n(15002),i=Math.abs,a=Math.atan,o=Math.atan2;Math.ceil;var s=Math.cos,c=Math.exp,l=Math.floor,u=Math.log,d=Math.max,f=Math.min,p=Math.pow,m=Math.round,h=Math.sign||function(e){return e>0?1:e<0?-1:0},g=Math.sin,_=Math.tan,v=1e-6,y=1e-12,b=Math.PI,x=b/2,S=b/4,C=Math.SQRT1_2,w=M(2),T=M(b),E=b*2,D=180/b,O=b/180;function k(e){return e?e/Math.sin(e):1}function A(e){return e>1?x:e<-1?-x:Math.asin(e)}function j(e){return e>1?0:e<-1?b:Math.acos(e)}function M(e){return e>0?Math.sqrt(e):0}function N(e){return e=c(2*e),(e-1)/(e+1)}function P(e){return(c(e)-c(-e))/2}function F(e){return(c(e)+c(-e))/2}function I(e){return u(e+M(e*e+1))}function L(e){return u(e+M(e*e-1))}function R(e){var t=_(e/2),n=2*u(s(e/2))/(t*t);function r(e,t){var r=s(e),i=s(t),a=g(t),o=i*r,c=-((1-o?u((1+o)/2)/(1-o):-.5)+n/(1+o));return[c*i*g(e),c*a]}return r.invert=function(t,r){var a=M(t*t+r*r),c=-e/2,l=50,d;if(!a)return[0,0];do{var f=c/2,p=s(f),m=g(f),h=m/p,_=-u(i(p));c-=d=(2/h*_-n*h-a)/(-_/(m*m)+1-n/(2*p*p))*(p<0?.7:1)}while(i(d)>v&&--l>0);var y=g(c);return[o(t*y,a*s(c)),A(r*y/a)]},r}function z(){var e=x,t=(0,r.r)(R),n=t(e);return n.radius=function(n){return arguments.length?t(e=n*O):e*D},n.scale(179.976).clipAngle(147)}function B(e,t){var n=s(t),r=k(j(n*s(e/=2)));return[2*n*g(e)*r,g(t)*r]}B.invert=function(e,t){if(!(e*e+4*t*t>b*b+v)){var n=e,r=t,a=25;do{var o=g(n),c=g(n/2),l=s(n/2),u=g(r),d=s(r),f=g(2*r),p=u*u,m=d*d,h=c*c,_=1-m*l*l,y=_?j(d*l)*M(x=1/_):x=0,x,S=2*y*d*c-e,C=y*u-t,w=x*(m*h+y*d*l*p),T=x*(.5*o*f-y*2*u*c),E=x*.25*(f*c-y*u*m*o),D=x*(p*l+y*h*d),O=T*E-D*w;if(!O)break;var k=(C*T-S*D)/O,A=(S*E-C*w)/O;n-=k,r-=A}while((i(k)>v||i(A)>v)&&--a>0);return[n,r]}};function V(){return(0,r.Z)(B).scale(152.63)}function H(e){var t=g(e),n=s(e),r=e>=0?1:-1,a=_(r*e),c=(1+t-n)/2;function l(e,i){var l=s(i),u=s(e/=2);return[(1+l)*g(e),(r*i>-o(u,a)-.001?0:-r*10)+c+g(i)*n-(1+l)*t*u]}return l.invert=function(e,l){var u=0,d=0,f=50;do{var p=s(u),m=g(u),h=s(d),_=g(d),y=1+h,b=y*m-e,x=c+_*n-y*t*p-l,S=y*p/2,C=-m*_,w=t*y*m/2,T=n*h+t*p*_,E=C*w-T*S,D=(x*C-b*T)/E/2,O=(b*w-x*S)/E;i(O)>2&&(O/=2),u-=D,d-=O}while((i(D)>v||i(O)>v)&&--f>0);return r*d>-o(s(u),a)-.001?[u*2,d]:null},l}function U(){var e=20*O,t=e>=0?1:-1,n=_(t*e),i=(0,r.r)(H),a=i(e),c=a.stream;return a.parallel=function(r){return arguments.length?(n=_((t=(e=r*O)>=0?1:-1)*e),i(e)):e*D},a.stream=function(r){var i=a.rotate(),l=c(r),u=(a.rotate([0,0]),c(r)),d=a.precision();return a.rotate(i),l.sphere=function(){u.polygonStart(),u.lineStart();for(var r=t*-180;t*r<180;r+=t*90)u.point(r,t*90);if(e)for(;t*(r-=3*t*d)>=-180;)u.point(r,t*-o(s(r*O/2),n)*D);u.lineEnd(),u.polygonEnd()},l},a.scale(218.695).center([0,28.0974])}function W(e,t){var n=_(t/2),r=M(1-n*n),i=1+r*s(e/=2),a=g(e)*r/i,o=n/i,c=a*a,l=o*o;return[4/3*a*(3+c-3*l),4/3*o*(3+3*c-l)]}W.invert=function(e,t){if(e*=3/8,t*=3/8,!e&&i(t)>1)return null;var n=e*e,r=t*t,a=1+n+r,c=M((a-M(a*a-4*t*t))/2),l=A(c)/3,u=c?L(i(t/c))/3:I(i(e))/3,d=s(l),f=F(u),p=f*f-d*d;return[h(e)*2*o(P(u)*d,.25-p),h(t)*2*o(f*g(l),.25+p)]};function G(){return(0,r.Z)(W).scale(66.1603)}var K=M(8),ee=u(1+w);function q(e,t){var n=i(t);return n<S?[e,u(_(S+t/2))]:[e*s(n)*(2*w-1/g(n)),h(t)*(2*w*(n-S)-u(_(n/2)))]}q.invert=function(e,t){if((l=i(t))<ee)return[e,2*a(c(t))-x];var n=S,r=25,o,l;do{var d=s(n/2),f=_(n/2);n-=o=(K*(n-S)-u(f)-l)/(K-d*d/(2*f))}while(i(o)>y&&--r>0);return[e/(s(n)*(K-1/g(n))),h(t)*n]};function J(){return(0,r.Z)(q).scale(112.314)}var Y=n(17889);function te(e){var t=2*b/e;function n(e,n){var r=(0,Y.N)(e,n);if(i(e)>x){var a=o(r[1],r[0]),c=M(r[0]*r[0]+r[1]*r[1]),l=t*m((a-x)/t)+x,u=o(g(a-=l),2-s(a));a=l+A(b/c*g(u))-u,r[0]=c*s(a),r[1]=c*g(a)}return r}return n.invert=function(e,n){var r=M(e*e+n*n);if(r>x){var i=o(n,e),c=t*m((i-x)/t)+x,l=i>c?-1:1,u=r*s(c-i),d=1/_(l*j((u-b)/M(b*(b-2*u)+r*r)));i=c+2*a((d+l*M(d*d-3))/3),e=r*s(i),n=r*g(i)}return Y.N.invert(e,n)},n}function ne(){var e=5,t=(0,r.r)(te),n=t(e),i=n.stream,a=.01,c=-s(a*O),l=g(a*O);return n.lobes=function(n){return arguments.length?t(e=+n):e},n.stream=function(t){var r=n.rotate(),u=i(t),d=(n.rotate([0,0]),i(t));return n.rotate(r),u.sphere=function(){d.polygonStart(),d.lineStart();for(var t=0,n=360/e,r=2*b/e,i=90-180/e,u=x;t<e;++t,i-=n,u-=r)d.point(o(l*s(u),c)*D,A(l*g(u))*D),i<-90?(d.point(-90,-180-i-a),d.point(-90,-180-i+a)):(d.point(90,i+a),d.point(90,i-a));d.lineEnd(),d.polygonEnd()},u},n.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var re=n(12956);function ie(e,t){if(arguments.length<2&&(t=e),t===1)return re.l;if(t===1/0)return ae;function n(n,r){var i=(0,re.l)(n/t,r);return i[0]*=e,i}return n.invert=function(n,r){var i=re.l.invert(n/e,r);return i[0]*=t,i},n}function ae(e,t){return[e*s(t)/s(t/=2),2*g(t)]}ae.invert=function(e,t){var n=2*A(t/2);return[e*s(n/2)/s(n),n]};function oe(){var e=2,t=(0,r.r)(ie),n=t(e);return n.coefficient=function(n){return arguments.length?t(e=+n):e},n.scale(169.529)}function se(e,t,n){var r=100,a,o,s;n=n===void 0?0:+n,t=+t;do o=e(n),s=e(n+v),o===s&&(s=o+v),n-=a=-1*v*(o-t)/(o-s);while(r-- >0&&i(a)>v);return r<0?NaN:n}function ce(e,t,n){return t===void 0&&(t=40),n===void 0&&(n=y),function(r,a,o,s){var c,l,u;o=o===void 0?0:+o,s=s===void 0?0:+s;for(var d=0;d<t;d++){var f=e(o,s),p=f[0]-r,m=f[1]-a;if(i(p)<n&&i(m)<n)break;var h=p*p+m*m;if(h>c){o-=l/=2,s-=u/=2;continue}c=h;var g=(o>0?-1:1)*n,_=(s>0?-1:1)*n,v=e(o+g,s),y=e(o,s+_),b=(v[0]-f[0])/g,x=(v[1]-f[1])/g,S=(y[0]-f[0])/_,C=(y[1]-f[1])/_,w=C*b-x*S,T=(i(w)<.5?.5:1)/w;if(l=(m*S-p*C)*T,u=(p*x-m*b)*T,o+=l,s+=u,i(l)<n&&i(u)<n)break}return[o,s]}}function le(){var e=ie(1.68,2),t=1.4,n=12;function r(r,i){if(r+i<-t){var a=(r-i+1.6)*(r+i+t)/8;r+=a,i-=.8*a*g(i+b/2)}var o=e(r,i),c=(1-s(r*i))/n;return o[1]<0&&(o[0]*=1+c),o[1]>0&&(o[1]*=1+c/1.5*o[0]*o[0]),o}return r.invert=ce(r),r}function ue(){return(0,r.Z)(le()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function de(e,t){var n=e*g(t),r=30,a;do t-=a=(t+g(t)-n)/(1+s(t));while(i(a)>v&&--r>0);return t/2}function fe(e,t,n){function r(r,i){return[e*r*s(i=de(n,i)),t*g(i)]}return r.invert=function(r,i){return i=A(i/t),[r/(e*s(i)),A((2*i+g(2*i))/n)]},r}var pe=fe(w/x,w,b);function me(){return(0,r.Z)(pe).scale(169.529)}var he=2.00276,ge=1.11072;function _e(e,t){var n=de(b,t);return[he*e/(1/s(t)+ge/s(n)),(t+w*g(n))/he]}_e.invert=function(e,t){var n=he*t,r=t<0?-S:S,a=25,o,c;do c=n-w*g(r),r-=o=(g(2*r)+2*r-b*g(c))/(2*s(2*r)+2+b*s(c)*w*s(r));while(i(o)>v&&--a>0);return c=n-w*g(r),[e*(1/s(c)+ge/s(r))/he,c]};function ve(){return(0,r.Z)(_e).scale(160.857)}function ye(e){var t=0,n=(0,r.r)(e),i=n(t);return i.parallel=function(e){return arguments.length?n(t=e*O):t*D},i}function be(e,t){return[e*s(t),t]}be.invert=function(e,t){return[e/s(t),t]};function xe(){return(0,r.Z)(be).scale(152.63)}function Se(e){if(!e)return be;var t=1/_(e);function n(n,r){var i=t+e-r,a=i&&n*s(r)/i;return[i*g(a),t-i*s(a)]}return n.invert=function(n,r){var i=M(n*n+(r=t-r)*r),a=t+e-i;return[i/s(a)*o(n,r),a]},n}function Ce(){return ye(Se).scale(123.082).center([0,26.1441]).parallel(45)}function we(e){function t(t,n){var r=x-n,i=r&&t*e*g(r)/r;return[r*g(i)/e,x-r*s(i)]}return t.invert=function(t,n){var r=t*e,i=x-n,a=M(r*r+i*i),s=o(r,i);return[(a?a/g(a):1)*s/e,x-a]},t}function Te(){var e=.5,t=(0,r.r)(we),n=t(e);return n.fraction=function(n){return arguments.length?t(e=+n):e},n.scale(158.837)}var Ee=fe(1,4/b,b);function X(){return(0,r.Z)(Ee).scale(152.63)}var Z=n(66624),De=n(49386);function Q(e,t,n,r,a,c){var l=s(c),u;if(i(e)>1||i(c)>1)u=j(n*a+t*r*l);else{var d=g(e/2),f=g(c/2);u=2*A(M(d*d+t*r*f*f))}return i(u)>v?[u,o(r*g(c),t*a-n*r*l)]:[0,0]}function Oe(e,t,n){return j((e*e+t*t-n*n)/(2*e*t))}function ke(e){return e-2*b*l((e+b)/(2*b))}function Ae(e,t,n){for(var r=[[e[0],e[1],g(e[1]),s(e[1])],[t[0],t[1],g(t[1]),s(t[1])],[n[0],n[1],g(n[1]),s(n[1])]],i=r[2],a,o=0;o<3;++o,i=a)a=r[o],i.v=Q(a[1]-i[1],i[3],i[2],a[3],a[2],a[0]-i[0]),i.point=[0,0];var c=Oe(r[0].v[0],r[2].v[0],r[1].v[0]),l=Oe(r[0].v[0],r[1].v[0],r[2].v[0]),u=b-c;r[2].point[1]=0,r[0].point[0]=-(r[1].point[0]=r[0].v[0]/2);var d=[r[2].point[0]=r[0].point[0]+r[2].v[0]*s(c),2*(r[0].point[1]=r[1].point[1]=r[2].v[0]*g(c))];function f(e,t){var n=g(t),i=s(t),a=[,,,],o;for(o=0;o<3;++o){var c=r[o];if(a[o]=Q(t-c[1],c[3],c[2],i,n,e-c[0]),!a[o][0])return c.point;a[o][1]=ke(a[o][1]-c.v[1])}var f=d.slice();for(o=0;o<3;++o){var p=o==2?0:o+1,m=Oe(r[o].v[0],a[o][0],a[p][0]);a[o][1]<0&&(m=-m),o?o==1?(m=l-m,f[0]-=a[o][0]*s(m),f[1]-=a[o][0]*g(m)):(m=u-m,f[0]+=a[o][0]*s(m),f[1]+=a[o][0]*g(m)):(f[0]+=a[o][0]*s(m),f[1]-=a[o][0]*g(m))}return f[0]/=3,f[1]/=3,f}return f}function je(e){return e[0]*=O,e[1]*=O,e}function Me(){return Ne([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Ne(e,t,n){var i=(0,Z.Z)({type:`MultiPoint`,coordinates:[e,t,n]}),a=[-i[0],-i[1]],o=(0,De.Z)(a),s=Ae(je(o(e)),je(o(t)),je(o(n)));s.invert=ce(s);var c=(0,r.Z)(s).rotate(a),l=c.center;return delete c.rotate,c.center=function(e){return arguments.length?l(o(e)):o.invert(l())},c.clipAngle(90)}function Pe(e,t){var n=M(1-g(t));return[2/T*e*n,T*(1-n)]}Pe.invert=function(e,t){var n=(n=t/T-1)*n;return[n>0?e*M(b/n)/2:0,A(1-n)]};function Fe(){return(0,r.Z)(Pe).scale(95.6464).center([0,30])}function Ie(e){var t=_(e);function n(e,n){return[e,(e?e/g(e):1)*(g(n)*s(e)-t*s(n))]}return n.invert=t?function(e,n){e&&(n*=g(e)/e);var r=s(e);return[e,2*o(M(r*r+t*t-n*n)-r,t-n)]}:function(e,t){return[e,A(e?t*_(e)/e:t)]},n}function Le(){return ye(Ie).scale(249.828).clipAngle(90)}var Re=M(3);function ze(e,t){return[Re*e*(2*s(2*t/3)-1)/T,Re*T*g(t/3)]}ze.invert=function(e,t){var n=3*A(t/(Re*T));return[T*e/(Re*(2*s(2*n/3)-1)),n]};function Be(){return(0,r.Z)(ze).scale(156.19)}function Ve(e){var t=s(e);function n(e,n){return[e*t,g(n)/t]}return n.invert=function(e,n){return[e/t,A(n*t)]},n}function He(){return ye(Ve).parallel(38.58).scale(195.044)}function Ue(e){var t=s(e);function n(e,n){return[e*t,(1+t)*_(n/2)]}return n.invert=function(e,n){return[e/t,a(n/(1+t))*2]},n}function We(){return ye(Ue).scale(124.75)}function Ge(e,t){var n=M(8/(3*b));return[n*e*(1-i(t)/b),n*t]}Ge.invert=function(e,t){var n=M(8/(3*b)),r=t/n;return[e/(n*(1-i(r)/b)),r]};function Ke(){return(0,r.Z)(Ge).scale(165.664)}function qe(e,t){var n=M(4-3*g(i(t)));return[2/M(6*b)*e*n,h(t)*M(2*b/3)*(2-n)]}qe.invert=function(e,t){var n=2-i(t)/M(2*b/3);return[e*M(6*b)/(2*n),h(t)*A((4-n*n)/3)]};function Je(){return(0,r.Z)(qe).scale(165.664)}function Ye(e,t){var n=M(b*(4+b));return[2/n*e*(1+M(1-4*t*t/(b*b))),4/n*t]}Ye.invert=function(e,t){var n=M(b*(4+b))/2;return[e*n/(1+M(1-t*t*(4+b)/(4*b))),t*n/2]};function Xe(){return(0,r.Z)(Ye).scale(180.739)}function Ze(e,t){var n=(2+x)*g(t);t/=2;for(var r=0,a=1/0;r<10&&i(a)>v;r++){var o=s(t);t-=a=(t+g(t)*(o+2)-n)/(2*o*(1+o))}return[2/M(b*(4+b))*e*(1+s(t)),2*M(b/(4+b))*g(t)]}Ze.invert=function(e,t){var n=t*M((4+b)/b)/2,r=A(n),i=s(r);return[e/(2/M(b*(4+b))*(1+i)),A((r+n*(i+2))/(2+x))]};function Qe(){return(0,r.Z)(Ze).scale(180.739)}function $e(e,t){return[e*(1+s(t))/M(2+b),2*t/M(2+b)]}$e.invert=function(e,t){var n=M(2+b),r=t*n/2;return[n*e/(1+s(r)),r]};function et(){return(0,r.Z)($e).scale(173.044)}function tt(e,t){for(var n=(1+x)*g(t),r=0,a=1/0;r<10&&i(a)>v;r++)t-=a=(t+g(t)-n)/(1+s(t));return n=M(2+b),[e*(1+s(t))/n,2*t/n]}tt.invert=function(e,t){var n=1+x,r=M(n/2);return[e*2*r/(1+s(t*=r)),A((t+g(t))/n)]};function nt(){return(0,r.Z)(tt).scale(173.044)}var rt=3+2*w;function it(e,t){var n=g(e/=2),r=s(e),i=M(s(t)),o=s(t/=2),c=g(t)/(o+w*r*i),l=M(2/(1+c*c)),d=M((w*o+(r+n)*i)/(w*o+(r-n)*i));return[rt*(l*(d-1/d)-2*u(d)),rt*(l*c*(d+1/d)-2*a(c))]}it.invert=function(e,t){if(!(c=W.invert(e/1.2,t*1.065)))return null;var n=c[0],r=c[1],o=20,c;e/=rt,t/=rt;do{var l=n/2,p=r/2,m=g(l),h=s(l),_=g(p),y=s(p),b=s(r),S=M(b),T=_/(y+w*h*S),E=T*T,D=M(2/(1+E)),O=(w*y+(h+m)*S)/(w*y+(h-m)*S),k=M(O),A=k-1/k,j=k+1/k,N=D*A-2*u(k)-e,P=D*T*j-2*a(T)-t,F=_&&C*S*m*E/_,I=(w*h*y+S)/(2*(y+w*h*S)*(y+w*h*S)*S),L=-.5*T*D*D*D,R=L*F,z=L*I,B=(B=2*y+w*S*(h-m))*B*k,V=(w*h*y*S+b)/B,H=-(w*m*_)/(S*B),U=A*R-2*V/k+D*(V+V/O),G=A*z-2*H/k+D*(H+H/O),K=T*j*R-2*F/(1+E)+D*j*F+D*T*(V-V/O),ee=T*j*z-2*I/(1+E)+D*j*I+D*T*(H-H/O),q=G*K-ee*U;if(!q)break;var J=(P*G-N*ee)/q,Y=(N*K-P*U)/q;n-=J,r=d(-x,f(x,r-Y))}while((i(J)>v||i(Y)>v)&&--o>0);return i(i(r)-x)<v?[0,r]:o&&[n,r]};function at(){return(0,r.Z)(it).scale(62.5271)}var ot=s(35*O);function st(e,t){var n=_(t/2);return[e*ot*M(1-n*n),(1+ot)*n]}st.invert=function(e,t){var n=t/(1+ot);return[e&&e/(ot*M(1-n*n)),2*a(n)]};function ct(){return(0,r.Z)(st).scale(137.152)}function lt(e,t){var n=t/2,r=s(n);return[2*e/T*s(t)*r*r,T*_(n)]}lt.invert=function(e,t){var n=a(t/T),r=s(n),i=2*n;return[e*T/2/(s(i)*r*r),i]};function ut(){return(0,r.Z)(lt).scale(135.264)}function dt(e){var t=1-e,n=i(b,0)[0]-i(-b,0)[0],r=M(2*(i(0,x)[1]-i(0,-x)[1])/n);function i(n,r){var i=s(r),a=g(r);return[i/(t+e*i)*n,t*r+e*a]}function a(e,t){var n=i(e,t);return[n[0]*r,n[1]/r]}function o(e){return a(0,e)[1]}return a.invert=function(n,i){var a=se(o,i);return[n/r*(e+t/s(a)),a]},a}function ft(){var e=.5,t=(0,r.r)(dt),n=t(e);return n.alpha=function(n){return arguments.length?t(e=+n):e},n.scale(168.725)}var pt=n(57962),mt=n(97492);function ht(e){return[e[0]/2,A(_(e[1]/2*O))*D]}function gt(e){return[e[0]*2,2*a(g(e[1]*O))*D]}function _t(e){e??=pt.Z;var t=e(),n=(0,mt.Z)().scale(D).precision(0).clipAngle(null).translate([0,0]);function r(e){return t(ht(e))}t.invert&&(r.invert=function(e){return gt(t.invert(e))}),r.stream=function(e){var r=t.stream(e),i=n.stream({point:function(e,t){r.point(e/2,A(_(-t/2*O))*D)},lineStart:function(){r.lineStart()},lineEnd:function(){r.lineEnd()},polygonStart:function(){r.polygonStart()},polygonEnd:function(){r.polygonEnd()}});return i.sphere=r.sphere,i};function i(e){r[e]=function(){return arguments.length?(t[e].apply(t,arguments),r):t[e]()}}return r.rotate=function(e){return arguments.length?(n.rotate(e),r):n.rotate()},r.center=function(e){return arguments.length?(t.center(ht(e)),r):gt(t.center())},i(`angle`),i(`clipAngle`),i(`clipExtent`),i(`fitExtent`),i(`fitHeight`),i(`fitSize`),i(`fitWidth`),i(`scale`),i(`translate`),i(`precision`),r.scale(249.5)}function vt(e,t){var n=2*b/t,r=e*e;function a(t,a){var c=(0,Y.N)(t,a),l=c[0],u=c[1],d=l*l+u*u;if(d>r){var f=M(d),p=o(u,l),h=n*m(p/n),_=p-h,y=e*s(_),S=(e*g(_)-_*g(y))/(x-y),C=yt(_,S),w=(b-e)/bt(C,y,b);l=f;var T=50,E;do l-=E=(e+bt(C,y,l)*w-f)/(C(l)*w);while(i(E)>v&&--T>0);u=_*g(l),l<x&&(u-=S*(l-x));var D=g(h),O=s(h);c[0]=l*O-u*D,c[1]=l*D+u*O}return c}return a.invert=function(t,a){var c=t*t+a*a;if(c>r){var l=M(c),u=o(a,t),d=n*m(u/n),f=u-d;t=l*s(f),a=l*g(f);for(var p=t-x,h=g(t),_=a/h,v=t<x?1/0:0,S=10;;){var C=e*g(_),w=e*s(_),T=g(w),E=x-w,D=(C-_*T)/E,O=yt(_,D);if(i(v)<y||!--S)break;_-=v=(_*h-D*p-a)/(h-p*2*(E*(w+_*C*s(w)-T)-C*(C-_*T))/(E*E))}l=e+bt(O,w,t)*(b-e)/bt(O,w,b),u=d+_,t=l*s(u),a=l*g(u)}return Y.N.invert(t,a)},a}function yt(e,t){return function(n){var r=e*s(n);return n<x&&(r-=t),M(1+r*r)}}function bt(e,t,n){for(var r=50,i=(n-t)/r,a=e(t)+e(n),o=1,s=t;o<r;++o)a+=2*e(s+=i);return a*.5*i}function xt(){var e=6,t=30*O,n=s(t),i=g(t),a=(0,r.r)(vt),c=a(t,e),l=c.stream,u=.01,d=-s(u*O),f=g(u*O);return c.radius=function(r){return arguments.length?(n=s(t=r*O),i=g(t),a(t,e)):t*D},c.lobes=function(n){return arguments.length?a(t,e=+n):e},c.stream=function(t){var r=c.rotate(),a=l(t),u=(c.rotate([0,0]),l(t));return c.rotate(r),a.sphere=function(){u.polygonStart(),u.lineStart();for(var t=0,r=2*b/e,a=0;t<e;++t,a-=r)u.point(o(f*s(a),d)*D,A(f*g(a))*D),u.point(o(i*s(a-r/2),n)*D,A(i*g(a-r/2))*D);u.lineEnd(),u.polygonEnd()},a},c.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function St(e,t,n,r,a,o,c,l){arguments.length<8&&(l=0);function u(i,u){if(!u)return[e*i/b,0];var d=u*u,f=e+d*(t+d*(n+d*r)),p=u*(a-1+d*(o-l+d*c)),m=(f*f+p*p)/(2*p),h=i*A(f/m)/b;return[m*g(h),u*(1+d*l)+m*(1-s(h))]}return u.invert=function(u,d){var f=b*u/e,p=d,m,h,_=50;do{var y=p*p,x=e+y*(t+y*(n+y*r)),S=p*(a-1+y*(o-l+y*c)),C=x*x+S*S,w=2*S,T=C/w,E=T*T,D=A(x/T)/b,O=f*D,k=x*x,j=(2*t+y*(4*n+y*6*r))*p,N=a+y*(3*o+y*5*c),P=2*(x*j+S*(N-1)),F=2*(N-1),I=(P*w-C*F)/(w*w),L=s(O),R=g(O),z=T*L,B=T*R,V=f/b*(1/M(1-k/E))*(j*T-x*I)/E,H=B-u,U=p*(1+y*l)+T-z-d,W=I*R+z*V,G=z*D,K=1+I-(I*L-B*V),ee=B*D,q=W*ee-K*G;if(!q)break;f-=m=(U*W-H*K)/q,p-=h=(H*ee-U*G)/q}while((i(m)>v||i(h)>v)&&--_>0);return[f,p]},u}var Ct=St(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function wt(){return(0,r.Z)(Ct).scale(149.995)}var Tt=St(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Et(){return(0,r.Z)(Tt).scale(153.93)}var Dt=St(5/6*b,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Ot(){return(0,r.Z)(Dt).scale(130.945)}function kt(e,t){var n=e*e,r=t*t;return[e*(1-.162388*r)*(.87-952426e-9*n*n),t*(1+r/12)]}kt.invert=function(e,t){var n=e,r=t,a=50,o;do{var s=r*r;r-=o=(r*(1+s/12)-t)/(1+s/4)}while(i(o)>v&&--a>0);a=50,e/=1-.162388*s;do{var c=(c=n*n)*c;n-=o=(n*(.87-952426e-9*c)-e)/(.87-.00476213*c)}while(i(o)>v&&--a>0);return[n,r]};function At(){return(0,r.Z)(kt).scale(131.747)}var jt=St(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Mt(){return(0,r.Z)(jt).scale(131.087)}function Nt(e){var t=e(x,0)[0]-e(-x,0)[0];function n(n,r){var i=n>0?-.5:.5,a=e(n+i*b,r);return a[0]-=i*t,a}return e.invert&&(n.invert=function(n,r){var i=n>0?-.5:.5,a=e.invert(n+i*t,r),o=a[0]-i*b;return o<-b?o+=2*b:o>b&&(o-=2*b),a[0]=o,a}),n}function Pt(e,t){var n=h(e),r=h(t),a=s(t),c=s(e)*a,l=g(e)*a,u=g(r*t);e=i(o(l,u)),t=A(c),i(e-x)>v&&(e%=x);var d=Ft(e>b/4?x-e:e,t);return e>b/4&&(u=d[0],d[0]=-d[1],d[1]=-u),d[0]*=n,d[1]*=-r,d}Pt.invert=function(e,t){i(e)>1&&(e=h(e)*2-e),i(t)>1&&(t=h(t)*2-t);var n=h(e),r=h(t),a=-n*e,c=-r*t,l=c/a<1,u=It(l?c:a,l?a:c),d=u[0],f=u[1],p=s(f);return l&&(d=-x-d),[n*(o(g(d)*p,-g(f))+b),r*A(s(d)*p)]};function Ft(e,t){if(t===x)return[0,0];var n=g(t),r=n*n,a=r*r,o=1+a,c=1+3*a,l=1-a,u=A(1/M(o)),d=l+r*o*u,f=(1-n)/d,p=M(f),m=f*o,h=M(m),_=p*l,y,S;if(e===0)return[0,-(_+r*h)];var C=s(t),w=1/C,T=2*n*C,E=(-3*r+u*c)*T,D=(-d*C-(1-n)*E)/(d*d),O=l*(.5*D/p)-2*r*p*T,k=r*o*D+f*c*T,j=-w*T,N=-w*k,P=-2*w*O,F=4*e/b,I;if(e>.222*b||t<b/4&&e>.175*b){if(y=(_+r*M(m*(1+a)-_*_))/(1+a),e>b/4)return[y,y];var L=y,R=.5*y;y=.5*(R+L),S=50;do{var z=M(m-y*y),B=y*(P+j*z)+N*A(y/h)-F;if(!B)break;B<0?R=y:L=y,y=.5*(R+L)}while(i(L-R)>v&&--S>0)}else{y=v,S=25;do{var V=y*y,H=M(m-V),U=P+j*H,W=y*U+N*A(y/h)-F,G=U+(N-j*V)/H;y-=I=H?W/G:0}while(i(I)>v&&--S>0)}return[y,-_-r*M(m-y*y)]}function It(e,t){for(var n=0,r=1,a=.5,o=50;;){var c=a*a,l=M(a),u=A(1/M(1+c)),d=1-c+a*(1+c)*u,f=(1-l)/d,p=M(f),m=f*(1+c),h=p*(1-c),g=M(m-e*e),_=t+h+a*g;if(i(r-n)<y||--o===0||_===0)break;_>0?n=a:r=a,a=.5*(n+r)}if(!o)return null;var v=A(l),x=s(v),S=1/x,C=2*l*x,w=(-3*a+u*(1+3*c))*C,T=(-d*x-(1-l)*w)/(d*d),E=.5*T/p,D=(1-c)*E-2*a*p*C,O=-2*S*D,k=-S*C,j=-S*(a*(1+c)*T+f*(1+3*c)*C);return[b/4*(e*(O+k*g)+j*A(e/M(m))),v]}function Lt(){return(0,r.Z)(Nt(Pt)).scale(239.75)}function Rt(e,t,n){var r,i,a;return e?(r=zt(e,n),t?(i=zt(t,1-n),a=i[1]*i[1]+n*r[0]*r[0]*i[0]*i[0],[[r[0]*i[2]/a,r[1]*r[2]*i[0]*i[1]/a],[r[1]*i[1]/a,-r[0]*r[2]*i[0]*i[2]/a],[r[2]*i[1]*i[2]/a,-n*r[0]*r[1]*i[0]/a]]):[[r[0],0],[r[1],0],[r[2],0]]):(i=zt(t,1-n),[[0,i[0]/i[1]],[1/i[1],0],[i[2]/i[1],0]])}function zt(e,t){var n,r,o,l,u;if(t<v)return l=g(e),r=s(e),n=t*(e-l*r)/4,[l-n*r,r+n*l,1-t*l*l/2,e-n];if(t>=1-v)return n=(1-t)/4,r=F(e),l=N(e),o=1/r,u=r*P(e),[l+n*(u-e)/(r*r),o-n*l*o*(u-e),o+n*l*o*(u+e),2*a(c(e))-x+n*(u-e)/r];var d=[1,0,0,0,0,0,0,0,0],f=[M(t),0,0,0,0,0,0,0,0],p=0;for(r=M(1-t),u=1;i(f[p]/d[p])>v&&p<8;)n=d[p++],f[p]=(n-r)/2,d[p]=(n+r)/2,r=M(n*r),u*=2;o=u*d[p]*e;do l=f[p]*g(r=o)/d[p],o=(A(l)+o)/2;while(--p);return[g(o),l=s(o),l/s(o-r),o]}function Bt(e,t,n){var r=i(e),o=P(i(t));if(r){var s=1/g(r),c=1/(_(r)*_(r)),l=-(c+n*(o*o*s*s)-1+n),u=(n-1)*c,d=(-l+M(l*l-4*u))/2;return[Vt(a(1/M(d)),n)*h(e),Vt(a(M((d/c-1)/n)),1-n)*h(t)]}return[0,Vt(a(o),1-n)*h(t)]}function Vt(e,t){if(!t)return e;if(t===1)return u(_(e/2+S));for(var n=1,r=M(1-t),o=M(t),s=0;i(o)>v;s++){if(e%b){var c=a(r*_(e)/n);c<0&&(c+=b),e+=c+~~(e/b)*b}else e+=e;o=(n+r)/2,r=M(n*r),o=((n=o)-r)/2}return e/(p(2,s)*n)}function Ht(e,t){var n=(w-1)/(w+1),r=M(1-n*n),a=Vt(x,r*r),o=-1,l=c(o*u(_(b/4+i(t)/2)))/M(n),d=Ut(l*s(o*e),l*g(o*e)),f=Bt(d[0],d[1],r*r);return[-f[1],(t>=0?1:-1)*(.5*a-f[0])]}function Ut(e,t){var n=e*e,r=t+1,i=1-n-t*t;return[.5*((e>=0?x:-x)-o(i,2*e)),-.25*u(i*i+4*n)+.5*u(r*r+n)]}function Wt(e,t){var n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}Ht.invert=function(e,t){var n=(w-1)/(w+1),r=M(1-n*n),i=Vt(x,r*r),s=-1,l=Rt(.5*i-t,-e,r*r),d=Wt(l[0],l[1]);return[o(d[1],d[0])/s,2*a(c(.5/s*u(n*d[0]*d[0]+n*d[1]*d[1])))-x]};function Gt(){return(0,r.Z)(Nt(Ht)).scale(151.496)}var Kt=n(7613);function qt(e){var t=g(e),n=s(e),r=Jt(e);r.invert=Jt(-e);function a(e,a){var o=r(e,a);e=o[0],a=o[1];var c=g(a),l=s(a),u=s(e),d=j(t*c+n*l*u),f=g(d),p=i(f)>v?d/f:1;return[p*n*g(e),(i(e)>x?p:-p)*(t*l-n*c*u)]}return a.invert=function(e,n){var i=M(e*e+n*n),a=-g(i),c=s(i),l=i*c,u=-n*a,d=i*t,f=M(l*l+u*u-d*d),p=o(l*d+u*f,u*d-l*f),m=(i>x?-1:1)*o(e*a,i*s(p)*c+n*g(p)*a);return r.invert(m,p)},a}function Jt(e){var t=g(e),n=s(e);return function(e,r){var i=s(r),a=s(e)*i,c=g(e)*i,l=g(r);return[o(c,a*n-l*t),A(l*n+a*t)]}}function Yt(){var e=0,t=(0,r.r)(qt),n=t(e),i=n.rotate,a=n.stream,o=(0,Kt.Z)();return n.parallel=function(r){if(!arguments.length)return e*D;var i=n.rotate();return t(e=r*O).rotate(i)},n.rotate=function(t){return arguments.length?(i.call(n,[t[0],t[1]-e*D]),o.center([-t[0],-t[1]]),n):(t=i.call(n),t[1]+=e*D,t)},n.stream=function(e){return e=a(e),e.sphere=function(){e.polygonStart();var t=.01,n=o.radius(90-t)().coordinates[0],r=n.length-1,i=-1,a;for(e.lineStart();++i<r;)e.point((a=n[i])[0],a[1]);for(e.lineEnd(),n=o.radius(90+t)().coordinates[0],r=n.length-1,e.lineStart();--i>=0;)e.point((a=n[i])[0],a[1]);e.lineEnd(),e.polygonEnd()},e},n.scale(79.4187).parallel(45).clipAngle(179.999)}var Xt=n(33064),Zt=n(72736),Qt=A(1-1/3)*D,$t=Ve(0);function en(e){var t=Qt*O,n=Pe(b,t)[0]-Pe(-b,t)[0],r=$t(0,t)[1],a=Pe(0,t)[1],o=T-a,s=E/e,c=4/E,u=r+o*o*4/E;function p(p,m){var h,g=i(m);if(g>t){var _=f(e-1,d(0,l((p+b)/s)));p+=b*(e-1)/e-_*s,h=Pe(p,g),h[0]=h[0]*E/n-E*(e-1)/(2*e)+_*E/e,h[1]=r+(h[1]-a)*4*o/E,m<0&&(h[1]=-h[1])}else h=$t(p,m);return h[0]*=c,h[1]/=u,h}return p.invert=function(t,p){t/=c,p*=u;var m=i(p);if(m>r){var h=f(e-1,d(0,l((t+b)/s)));t=(t+b*(e-1)/e-h*s)*n/E;var g=Pe.invert(t,.25*(m-r)*E/o+a);return g[0]-=b*(e-1)/e-h*s,p<0&&(g[1]=-g[1]),g}return $t.invert(t,p)},p}function tn(e,t){return[e,t&1?90-v:Qt]}function nn(e,t){return[e,t&1?-90+v:-Qt]}function rn(e){return[e[0]*(1-v),e[1]]}function an(e){var t=[].concat((0,Xt.w6)(-180,180+e/2,e).map(tn),(0,Xt.w6)(180,-180-e/2,-e).map(nn));return{type:`Polygon`,coordinates:[e===180?t.map(rn):t]}}function on(){var e=4,t=(0,r.r)(en),n=t(e),i=n.stream;return n.lobes=function(n){return arguments.length?t(e=+n):e},n.stream=function(t){var r=n.rotate(),a=i(t),o=(n.rotate([0,0]),i(t));return n.rotate(r),a.sphere=function(){(0,Zt.Z)(an(180/e),o)},a},n.scale(239.75)}function sn(e){var t=1+e,n=A(g(1/t)),r=2*M(b/(a=b+4*n*t)),a,c=.5*r*(t+M(e*(2+e))),l=e*e,u=t*t;function d(d,f){var p=1-g(f),m,h;if(p&&p<2){var _=x-f,v=25,S;do{var C=g(_),w=s(_),T=n+o(C,t-w),E=1+u-2*t*w;_-=S=(_-l*n-t*C+E*T-.5*p*a)/(2*t*C*T)}while(i(S)>y&&--v>0);m=r*M(E),h=d*T/b}else m=r*(e+p),h=d*n/b;return[m*g(h),c-m*s(h)]}return d.invert=function(e,i){var s=e*e+(i-=c)*i,d=(1+u-s/(r*r))/(2*t),f=j(d),p=g(f),m=n+o(p,t-d);return[A(e/M(s))*b/m,A(1-2*(f-l*n-t*p+(1+u-2*t*d)*m)/a)]},d}function cn(){var e=1,t=(0,r.r)(sn),n=t(e);return n.ratio=function(n){return arguments.length?t(e=+n):e},n.scale(167.774).center([0,18.67])}var ln=.7109889596207567,un=.0528035274542;function dn(e,t){return t>-ln?(e=pe(e,t),e[1]+=un,e):be(e,t)}dn.invert=function(e,t){return t>-ln?pe.invert(e,t-un):be.invert(e,t)};function fn(){return(0,r.Z)(dn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function pn(e,t){return i(t)>ln?(e=pe(e,t),e[1]-=t>0?un:-un,e):be(e,t)}pn.invert=function(e,t){return i(t)>ln?pe.invert(e,t+(t>0?un:-un)):be.invert(e,t)};function mn(){return(0,r.Z)(pn).scale(152.63)}function hn(e,t,n,r){var i=M(4*b/(2*n+(1+e-t/2)*g(2*n)+(e+t)/2*g(4*n)+t/2*g(6*n))),a=M(r*g(n)*M((1+e*s(2*n)+t*s(4*n))/(1+e+t))),o=n*l(1);function c(n){return M(1+e*s(2*n)+t*s(4*n))}function l(r){var i=r*n;return(2*i+(1+e-t/2)*g(2*i)+(e+t)/2*g(4*i)+t/2*g(6*i))/n}function u(e){return c(e)*g(e)}var d=function(e,t){var r=n*se(l,o*g(t)/n,t/b);isNaN(r)&&(r=n*h(t));var u=i*c(r);return[u*a*e/b*s(r),u/a*g(r)]};return d.invert=function(e,t){var r=se(u,t*a/i);return[e*b/(s(r)*i*a*c(r)),A(n*l(r/n)/o)]},n===0&&(i=M(r/b),d=function(e,t){return[e*i,g(t)/i]},d.invert=function(e,t){return[e/i,A(t*i)]}),d}function gn(){var e=1,t=0,n=45*O,i=2,a=(0,r.r)(hn),o=a(e,t,n,i);return o.a=function(r){return arguments.length?a(e=+r,t,n,i):e},o.b=function(r){return arguments.length?a(e,t=+r,n,i):t},o.psiMax=function(r){return arguments.length?a(e,t,n=+r*O,i):n*D},o.ratio=function(r){return arguments.length?a(e,t,n,i=+r):i},o.scale(180.739)}function _n(e,t,n,r,i,a,o,s,c,l,u){if(u.nanEncountered)return NaN;var d=n-t,f=e(t+d*.25),p=e(n-d*.25),m,h,g,_,v,y,b;if(isNaN(f)){u.nanEncountered=!0;return}if(isNaN(p)){u.nanEncountered=!0;return}return m=d*(r+4*f+i)/12,h=d*(i+4*p+a)/12,g=m+h,b=(g-o)/15,l>c?(u.maxDepthCount++,g+b):Math.abs(b)<s?g+b:(_=t+d*.5,v=_n(e,t,_,r,f,i,m,s*.5,c,l+1,u),isNaN(v)||(y=_n(e,_,n,i,p,a,h,s*.5,c,l+1,u),isNaN(y))?(u.nanEncountered=!0,NaN):v+y)}function vn(e,t,n,r,i){var a={maxDepthCount:0,nanEncountered:!1};r===void 0&&(r=1e-8),i===void 0&&(i=20);var o=e(t),s=e(.5*(t+n)),c=e(n);return _n(e,t,n,o,s,c,(o+4*s+c)*(n-t)/6,r,i,1,a)}function yn(e,t,n){function r(n){return e+(1-e)*p(1-p(n,t),1/t)}function a(e){return vn(r,0,e,1e-4)}for(var o=1/a(1),s=1e3,c=1.00000001*o,l=[],u=0;u<=s;u++)l.push(a(u/s)*c);function d(e){var t=0,n=s,r=s>>1;do l[r]>e?n=r:t=r,r=t+n>>1;while(r>t);var i=l[r+1]-l[r];return i&&=(e-l[r+1])/i,(r+1+i)/s}var f=2*d(1)/b*o/n,m=function(e,t){var n=d(i(g(t))),a=r(n)*e;return n/=f,[a,t>=0?n:-n]};return m.invert=function(e,t){var n;return t*=f,i(t)<1&&(n=h(t)*A(a(i(t))*o)),[e/r(i(t)),n]},m}function bn(){var e=0,t=2.5,n=1.183136,i=(0,r.r)(yn),a=i(e,t,n);return a.alpha=function(r){return arguments.length?i(e=+r,t,n):e},a.k=function(r){return arguments.length?i(e,t=+r,n):t},a.gamma=function(r){return arguments.length?i(e,t,n=+r):n},a.scale(152.63)}function xn(e,t){return i(e[0]-t[0])<v&&i(e[1]-t[1])<v}function Sn(e,t){for(var n=-1,r=e.length,i=e[0],a,o,s,c=[];++n<r;){a=e[n],o=(a[0]-i[0])/t,s=(a[1]-i[1])/t;for(var l=0;l<t;++l)c.push([i[0]+l*o,i[1]+l*s]);i=a}return c.push(a),c}function Cn(e){var t=[],n,r,i,a,o,s,c,l=e[0].length;for(c=0;c<l;++c)n=e[0][c],r=n[0][0],i=n[0][1],a=n[1][1],o=n[2][0],s=n[2][1],t.push(Sn([[r+v,i+v],[r+v,a-v],[o-v,a-v],[o-v,s+v]],30));for(c=e[1].length-1;c>=0;--c)n=e[1][c],r=n[0][0],i=n[0][1],a=n[1][1],o=n[2][0],s=n[2][1],t.push(Sn([[o-v,s-v],[o-v,a+v],[r+v,a+v],[r+v,i-v]],30));return{type:`Polygon`,coordinates:[(0,Xt.TS)(t)]}}function wn(e,t,n){var i,a;function o(n,r){for(var i=r<0?-1:1,a=t[+(r<0)],o=0,s=a.length-1;o<s&&n>a[o][2][0];++o);var c=e(n-a[o][1][0],r);return c[0]+=e(a[o][1][0],i*r>i*a[o][0][1]?a[o][0][1]:r)[0],c}n?o.invert=n(o):e.invert&&(o.invert=function(n,r){for(var i=a[+(r<0)],s=t[+(r<0)],c=0,l=i.length;c<l;++c){var u=i[c];if(u[0][0]<=n&&n<u[1][0]&&u[0][1]<=r&&r<u[1][1]){var d=e.invert(n-e(s[c][1][0],0)[0],r);return d[0]+=s[c][1][0],xn(o(d[0],d[1]),[n,r])?d:null}}});var s=(0,r.Z)(o),c=s.stream;return s.stream=function(e){var t=s.rotate(),n=c(e),r=(s.rotate([0,0]),c(e));return s.rotate(t),n.sphere=function(){(0,Zt.Z)(i,r)},n},s.lobes=function(n){return arguments.length?(i=Cn(n),t=n.map(function(e){return e.map(function(e){return[[e[0][0]*O,e[0][1]*O],[e[1][0]*O,e[1][1]*O],[e[2][0]*O,e[2][1]*O]]})}),a=t.map(function(t){return t.map(function(t){var n=e(t[0][0],t[0][1])[0],r=e(t[2][0],t[2][1])[0],i=e(t[1][0],t[0][1])[1],a=e(t[1][0],t[1][1])[1],o;return i>a&&(o=i,i=a,a=o),[[n,i],[r,a]]})}),s):t.map(function(e){return e.map(function(e){return[[e[0][0]*D,e[0][1]*D],[e[1][0]*D,e[1][1]*D],[e[2][0]*D,e[2][1]*D]]})})},t!=null&&s.lobes(t),s}var Tn=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function En(){return wn(_e,Tn).scale(160.857)}var Dn=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function On(){return wn(pn,Dn).scale(152.63)}var kn=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function An(){return wn(pe,kn).scale(169.529)}var jn=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Mn(){return wn(pe,jn).scale(169.529).rotate([20,0])}var Nn=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Pn(){return wn(dn,Nn,ce).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var Fn=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function In(){return wn(be,Fn).scale(152.63).rotate([-20,0])}function Ln(e,t){return[3/E*e*M(b*b/3-t*t),t]}Ln.invert=function(e,t){return[E/3*e/M(b*b/3-t*t),t]};function Rn(){return(0,r.Z)(Ln).scale(158.837)}function zn(e){function t(t,n){if(i(i(n)-x)<v)return[0,n<0?-2:2];var r=g(n),a=p((1+r)/(1-r),e/2),o=.5*(a+1/a)+s(t*=e);return[2*g(t)/o,(a-1/a)/o]}return t.invert=function(t,n){var r=i(n);if(i(r-2)<v)return t?null:[0,h(n)*x];if(r>2)return null;t/=2,n/=2;var a=t*t,s=n*n,c=2*n/(1+a+s);return c=p((1+c)/(1-c),1/e),[o(2*t,1-a-s)/e,A((c-1)/(c+1))]},t}function Bn(){var e=.5,t=(0,r.r)(zn),n=t(e);return n.spacing=function(n){return arguments.length?t(e=+n):e},n.scale(124.75)}var Vn=b/w;function Hn(e,t){return[e*(1+M(s(t)))/2,t/(s(t/2)*s(e/6))]}Hn.invert=function(e,t){var n=i(e),r=i(t),a=v,o=x;r<Vn?o*=r/Vn:a+=6*j(Vn/r);for(var c=0;c<25;c++){var l=g(o),u=M(s(o)),d=g(o/2),f=s(o/2),p=g(a/6),m=s(a/6),h=.5*a*(1+u)-n,_=o/(f*m)-r,y=u?-.25*a*l/u:0,b=.5*(1+u),S=(1+.5*o*d/f)/(f*m),C=o/f*(p/6)/(m*m),w=y*C-S*b,T=(h*C-_*b)/w,E=(_*y-h*S)/w;if(o-=T,a-=E,i(T)<v&&i(E)<v)break}return[e<0?-a:a,t<0?-o:o]};function Un(){return(0,r.Z)(Hn).scale(97.2672)}function Wn(e,t){var n=e*e,r=t*t;return[e*(.975534+r*(-.119161+n*-.0143059+r*-.0547009)),t*(1.00384+n*(.0802894+r*-.02855+n*199025e-9)+r*(.0998909+r*-.0491032))]}Wn.invert=function(e,t){var n=h(e)*b,r=t/2,a=50;do{var o=n*n,s=r*r,c=n*r,l=n*(.975534+s*(-.119161+o*-.0143059+s*-.0547009))-e,u=r*(1.00384+o*(.0802894+s*-.02855+o*199025e-9)+s*(.0998909+s*-.0491032))-t,d=.975534-s*(.119161+3*o*.0143059+s*.0547009),f=-c*(2*.119161+4*.0547009*s+2*.0143059*o),p=c*(2*.0802894+4*199025e-9*o+2*-.02855*s),m=1.00384+o*(.0802894+199025e-9*o)+s*(3*(.0998909-.02855*o)-5*.0491032*s),g=f*p-m*d,_=(u*f-l*m)/g,y=(l*p-u*d)/g;n-=_,r-=y}while((i(_)>v||i(y)>v)&&--a>0);return a&&[n,r]};function Gn(){return(0,r.Z)(Wn).scale(139.98)}function Kn(e,t){return[g(e)/s(t),_(t)*s(e)]}Kn.invert=function(e,t){var n=e*e,r=t*t+1,i=n+r,a=e?C*M((i-M(i*i-4*n))/n):1/M(r);return[A(e*a),h(t)*j(a)]};function qn(){return(0,r.Z)(Kn).scale(144.049).clipAngle(89.999)}function Jn(e){var t=s(e),n=_(S+e/2);function r(r,a){var o=a-e,s=i(o)<v?r*t:i(s=S+a/2)<v||i(i(s)-x)<v?0:r*o/u(_(s)/n);return[s,o]}return r.invert=function(r,a){var o,s=a+e;return[i(a)<v?r/t:i(o=S+s/2)<v||i(i(o)-x)<v?0:r*u(_(o)/n)/a,s]},r}function Yn(){return ye(Jn).parallel(40).scale(158.837)}function Xn(e,t){return[e,1.25*u(_(S+.4*t))]}Xn.invert=function(e,t){return[e,2.5*a(c(.8*t))-.625*b]};function Zn(){return(0,r.Z)(Xn).scale(108.318)}function Qn(e){var t=e.length-1;function n(n,r){for(var i=s(r),a=2/(1+i*s(n)),o=a*i*g(n),c=a*g(r),l=t,u=e[l],d=u[0],f=u[1],p;--l>=0;)u=e[l],d=u[0]+o*(p=d)-c*f,f=u[1]+o*f+c*p;return d=o*(p=d)-c*f,f=o*f+c*p,[d,f]}return n.invert=function(n,r){var c=20,l=n,u=r;do{for(var d=t,f=e[d],p=f[0],m=f[1],h=0,_=0,y;--d>=0;)f=e[d],h=p+l*(y=h)-u*_,_=m+l*_+u*y,p=f[0]+l*(y=p)-u*m,m=f[1]+l*m+u*y;h=p+l*(y=h)-u*_,_=m+l*_+u*y,p=l*(y=p)-u*m-n,m=l*m+u*y-r;var b=h*h+_*_,x,S;l-=x=(p*h+m*_)/b,u-=S=(m*h-p*_)/b}while(i(x)+i(S)>v*v&&--c>0);if(c){var C=M(l*l+u*u),w=2*a(C*.5),T=g(w);return[o(l*T,C*s(w)),C?A(u*T/C):0]}},n}var $n=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],er=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],tr=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],nr=[[.9245,0],[0,0],[.01943,0]],rr=[[.721316,0],[0,0],[-.00881625,-.00617325]];function ir(){return lr($n,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function ar(){return lr(er,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function or(){return lr(tr,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function sr(){return lr(nr,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function cr(){return lr(rr,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function lr(e,t){var n=(0,r.Z)(Qn(e)).rotate(t).clipAngle(90),i=(0,De.Z)(t),a=n.center;return delete n.rotate,n.center=function(e){return arguments.length?a(i(e)):i.invert(a())},n}var ur=M(6),dr=M(7);function fr(e,t){var n=A(7*g(t)/(3*ur));return[ur*e*(2*s(2*n/3)-1)/dr,9*g(n/3)/dr]}fr.invert=function(e,t){var n=3*A(t*dr/9);return[e*dr/(ur*(2*s(2*n/3)-1)),A(g(n)*3*ur/7)]};function $(){return(0,r.Z)(fr).scale(164.859)}function pr(e,t){for(var n=(1+C)*g(t),r=t,a=0,o;a<25&&(r-=o=(g(r/2)+g(r)-n)/(.5*s(r/2)+s(r)),!(i(o)<v));a++);return[e*(1+2*s(r)/s(r/2))/(3*w),2*M(3)*g(r/2)/M(2+w)]}pr.invert=function(e,t){var n=t*M(2+w)/(2*M(3)),r=2*A(n);return[3*w*e/(1+2*s(r)/s(r/2)),A((n+g(r))/(1+C))]};function mr(){return(0,r.Z)(pr).scale(188.209)}function hr(e,t){for(var n=M(6/(4+b)),r=(1+b/4)*g(t),a=t/2,o=0,c;o<25&&(a-=c=(a/2+g(a)-r)/(.5+s(a)),!(i(c)<v));o++);return[n*(.5+s(a))*e/1.5,n*a]}hr.invert=function(e,t){var n=M(6/(4+b)),r=t/n;return i(i(r)-x)<v&&(r=r<0?-x:x),[1.5*e/(n*(.5+s(r))),A((r/2+g(r))/(1+b/4))]};function gr(){return(0,r.Z)(hr).scale(166.518)}var _r=n(26867);function vr(e,t){var n=t*t,r=n*n,i=n*r;return[e*(.84719-.13063*n+i*i*(-.04515+.05494*n-.02326*r+.00331*i)),t*(1.01183+r*r*(-.02625+.01926*n-.00396*r))]}vr.invert=function(e,t){var n=t,r=25,a,o,s,c;do o=n*n,s=o*o,n-=a=(n*(1.01183+s*s*(-.02625+.01926*o-.00396*s))-t)/(1.01183+s*s*(9*-.02625+11*.01926*o+13*-.00396*s));while(i(a)>y&&--r>0);return o=n*n,s=o*o,c=o*s,[e/(.84719-.13063*o+c*c*(-.04515+.05494*o-.02326*s+.00331*c)),n]};function yr(){return(0,r.Z)(vr).scale(175.295)}function br(e,t){return[e*(1+s(t))/2,2*(t-_(t/2))]}br.invert=function(e,t){for(var n=t/2,r=0,a=1/0;r<10&&i(a)>v;++r){var o=s(t/2);t-=a=(t-_(t/2)-n)/(1-.5/(o*o))}return[2*e/(1+s(t)),t]};function xr(){return(0,r.Z)(br).scale(152.63)}var Sr=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Cr(){return wn(ie(1/0),Sr).rotate([20,0]).scale(152.63)}function wr(e,t){var n=g(t),r=s(t),a=h(e);if(e===0||i(t)===x)return[0,t];if(t===0)return[e,0];if(i(e)===x)return[e*r,x*n];var o=b/(2*e)-2*e/b,c=2*t/b,l=(1-c*c)/(n-c),u=o*o,d=l*l,f=1+u/d,p=1+d/u,m=(o*n/l-o/2)/f,_=(d*n/u+l/2)/p,v=m*m+r*r/f,y=_*_-(d*n*n/u+l*n-1)/p;return[x*(m+M(v)*a),x*(_+M(y<0?0:y)*h(-t*o)*a)]}wr.invert=function(e,t){e/=x,t/=x;var n=e*e,r=n+t*t,i=b*b;return[e?(r-1+M((1-r)*(1-r)+4*n))/(2*e)*x:0,se(function(e){return r*(b*g(e)-2*e)*b+4*e*e*(t-g(e))+2*b*e-i*t},0)]};function Tr(){return(0,r.Z)(wr).scale(127.267)}var Er=1.0148,Dr=.23185,Or=-.14499,kr=.02406,Ar=Er,jr=5*Dr,Mr=7*Or,Nr=9*kr,Pr=1.790857183;function Fr(e,t){var n=t*t;return[e,t*(Er+n*n*(Dr+n*(Or+kr*n)))]}Fr.invert=function(e,t){t>Pr?t=Pr:t<-Pr&&(t=-Pr);var n=t,r;do{var a=n*n;n-=r=(n*(Er+a*a*(Dr+a*(Or+kr*a)))-t)/(Ar+a*a*(jr+a*(Mr+Nr*a)))}while(i(r)>v);return[e,n]};function Ir(){return(0,r.Z)(Fr).scale(139.319)}function Lr(e,t){if(i(t)<v)return[e,0];var n=_(t),r=e*g(t);return[g(r)/n,t+(1-s(r))/n]}Lr.invert=function(e,t){if(i(t)<v)return[e,0];var n=e*e+t*t,r=t*.5,a=10,o;do{var c=_(r),l=1/s(r),u=n-2*t*r+r*r;r-=o=(c*u+2*(r-t))/(2+u*l*l+2*(r-t)*c)}while(i(o)>v&&--a>0);return c=_(r),[(i(t)<i(r+1/c)?A(e*c):h(t)*h(e)*(j(i(e*c))+x))/g(r),r]};function Rr(){return(0,r.Z)(Lr).scale(103.74)}var zr=n(77338),Br=n(83074);function Vr(e,t){var n=Wr(e[1],e[0]),r=Wr(t[1],t[0]),i=Kr(n,r),a=Gr(n)/Gr(r);return Ur([1,0,e[0][0],0,1,e[0][1]],Ur([a,0,0,0,a,0],Ur([s(i),g(i),0,-g(i),s(i),0],[1,0,-t[0][0],0,1,-t[0][1]])))}function Hr(e){var t=1/(e[0]*e[4]-e[1]*e[3]);return[t*e[4],-t*e[1],t*(e[1]*e[5]-e[2]*e[4]),-t*e[3],t*e[0],t*(e[2]*e[3]-e[0]*e[5])]}function Ur(e,t){return[e[0]*t[0]+e[1]*t[3],e[0]*t[1]+e[1]*t[4],e[0]*t[2]+e[1]*t[5]+e[2],e[3]*t[0]+e[4]*t[3],e[3]*t[1]+e[4]*t[4],e[3]*t[2]+e[4]*t[5]+e[5]]}function Wr(e,t){return[e[0]-t[0],e[1]-t[1]]}function Gr(e){return M(e[0]*e[0]+e[1]*e[1])}function Kr(e,t){return o(e[0]*t[1]-e[1]*t[0],e[0]*t[0]+e[1]*t[1])}function qr(e,t,n){i(e,{transform:null});function i(e,t){if(e.edges=Zr(e.face),t.face){var n=e.shared=Xr(e.face,t.face),r=Vr(n.map(t.project),n.map(e.project));e.transform=t.transform?Ur(t.transform,r):r;for(var a=t.edges,o=0,s=a.length;o<s;++o)Yr(n[0],a[o][1])&&Yr(n[1],a[o][0])&&(a[o]=e),Yr(n[0],a[o][0])&&Yr(n[1],a[o][1])&&(a[o]=e);for(a=e.edges,o=0,s=a.length;o<s;++o)Yr(n[0],a[o][0])&&Yr(n[1],a[o][1])&&(a[o]=t),Yr(n[0],a[o][1])&&Yr(n[1],a[o][0])&&(a[o]=t)}else e.transform=t.transform;return e.children&&e.children.forEach(function(t){i(t,e)}),e}function a(e,n){var r=t(e,n),i=r.project([e*D,n*D]),a;return(a=r.transform)?[a[0]*i[0]+a[1]*i[1]+a[2],-(a[3]*i[0]+a[4]*i[1]+a[5])]:(i[1]=-i[1],i)}Qr(e)&&(a.invert=function(t,n){var r=o(e,[t,-n]);return r&&(r[0]*=O,r[1]*=O,r)});function o(e,t){var n=e.project.invert,r=e.transform,i=t;if(r&&(r=Hr(r),i=[r[0]*i[0]+r[1]*i[1]+r[2],r[3]*i[0]+r[4]*i[1]+r[5]]),n&&e===s(a=n(i)))return a;for(var a,c=e.children,l=0,u=c&&c.length;l<u;++l)if(a=o(c[l],t))return a}function s(e){return t(e[0]*O,e[1]*O)}var c=(0,r.Z)(a),l=c.stream;return c.stream=function(t){var n=c.rotate(),r=l(t),i=(c.rotate([0,0]),l(t));return c.rotate(n),r.sphere=function(){i.polygonStart(),i.lineStart(),Jr(i,e),i.lineEnd(),i.polygonEnd()},r},c.angle(n==null?-30:n*D)}function Jr(e,t,n){var r,a=t.edges,o=a.length,s,c={type:`MultiPoint`,coordinates:t.face},l=t.face.filter(function(e){return i(e[1])!==90}),u=(0,zr.Z)({type:`MultiPoint`,coordinates:l}),d=!1,f=-1,p=u[1][0]-u[0][0],m=p===180||p===360?[(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2]:(0,Z.Z)(c);if(n)for(;++f<o&&a[f]!==n;);++f;for(var h=0;h<o;++h)s=a[(h+f)%o],Array.isArray(s)?(d||=(e.point((r=(0,Br.Z)(s[0],m)(v))[0],r[1]),!0),e.point((r=(0,Br.Z)(s[1],m)(v))[0],r[1])):(d=!1,s!==n&&Jr(e,s,t))}function Yr(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}function Xr(e,t){for(var n,r,i=e.length,a=null,o=0;o<i;++o){n=e[o];for(var s=t.length;--s>=0;)if(r=t[s],n[0]===r[0]&&n[1]===r[1]){if(a)return[a,n];a=n}}}function Zr(e){for(var t=e.length,n=[],r=e[t-1],i=0;i<t;++i)n.push([r,r=e[i]]);return n}function Qr(e){return e.project.invert||e.children&&e.children.some(Qr)}var $r=n(98936),ei=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],ti=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(e){return e.map(function(e){return ei[e]})});function ni(e){e||=function(e){var t=(0,Z.Z)({type:`MultiPoint`,coordinates:e});return(0,$r.Z)().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var t=ti.map(function(t){return{face:t,project:e(t)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,n){var r=t[e];r&&(r.children||=[]).push(t[n])}),qr(t[0],function(e,n){return t[e<-b/2?n<0?6:4:e<0?n<0?2:0:e<b/2?n<0?3:1:n<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var ri=2/M(3);function ii(e,t){var n=Pe(e,t);return[n[0]*ri,n[1]]}ii.invert=function(e,t){return Pe.invert(e/ri,t)};function ai(e){e||=function(e){var t=(0,Z.Z)({type:`MultiPoint`,coordinates:e});return(0,r.Z)(ii).translate([0,0]).scale(1).rotate(t[1]>0?[-t[0],0]:[180-t[0],180])};var t=ti.map(function(t){return{face:t,project:e(t)}});return[-1,0,0,1,0,1,4,5].forEach(function(e,n){var r=t[e];r&&(r.children||=[]).push(t[n])}),qr(t[0],function(e,n){return t[e<-b/2?n<0?6:4:e<0?n<0?2:0:e<b/2?n<0?3:1:n<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function oi(e){e||=function(e){var t=e.length===6?(0,Z.Z)({type:`MultiPoint`,coordinates:e}):e[0];return(0,$r.Z)().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var t=ti.map(function(e){for(var t=e.map(ui),n=t.length,r=t[n-1],i,a=[],o=0;o<n;++o)i=t[o],a.push(li([r[0]*.9486832980505138+i[0]*.31622776601683794,r[1]*.9486832980505138+i[1]*.31622776601683794,r[2]*.9486832980505138+i[2]*.31622776601683794]),li([i[0]*.9486832980505138+r[0]*.31622776601683794,i[1]*.9486832980505138+r[1]*.31622776601683794,i[2]*.9486832980505138+r[2]*.31622776601683794])),r=i;return a}),n=[],r=[-1,0,0,1,0,1,4,5];t.forEach(function(e,i){for(var a=ti[i],o=a.length,s=n[i]=[],c=0;c<o;++c)t.push([a[c],e[(c*2+2)%(2*o)],e[(c*2+1)%(2*o)]]),r.push(i),s.push(ci(ui(e[(c*2+2)%(2*o)]),ui(e[(c*2+1)%(2*o)])))});var i=t.map(function(t){return{project:e(t),face:t}});r.forEach(function(e,t){var n=i[e];n&&(n.children||=[]).push(i[t])});function a(e,t){var r=s(t),a=[r*s(e),r*g(e),g(t)],o=e<-b/2?t<0?6:4:e<0?t<0?2:0:e<b/2?t<0?3:1:t<0?7:5,c=n[o];return i[si(c[0],a)<0?8+3*o:si(c[1],a)<0?8+3*o+1:si(c[2],a)<0?8+3*o+2:o]}return qr(i[0],a).angle(-30).scale(110.625).center([0,45])}function si(e,t){for(var n=0,r=e.length,i=0;n<r;++n)i+=e[n]*t[n];return i}function ci(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function li(e){return[o(e[1],e[0])*D,A(d(-1,f(1,e[2])))*D]}function ui(e){var t=e[0]*O,n=e[1]*O,r=s(n);return[r*s(t),r*g(t),g(n)]}function di(){}function fi(e){if((n=e.length)<4)return!1;for(var t=0,n,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r<=0}function pi(e,t){for(var n=t[0],r=t[1],i=!1,a=0,o=e.length,s=o-1;a<o;s=a++){var c=e[a],l=c[0],u=c[1],d=e[s],f=d[0],p=d[1];u>r^p>r&&n<(f-l)*(r-u)/(p-u)+l&&(i=!i)}return i}function mi(e,t){var n=t.stream,r;if(!n)throw Error(`invalid projection`);switch(e&&e.type){case`Feature`:r=gi;break;case`FeatureCollection`:r=hi;break;default:r=vi;break}return r(e,n)}function hi(e,t){return{type:`FeatureCollection`,features:e.features.map(function(e){return gi(e,t)})}}function gi(e,t){return{type:`Feature`,id:e.id,properties:e.properties,geometry:vi(e.geometry,t)}}function _i(e,t){return{type:`GeometryCollection`,geometries:e.geometries.map(function(e){return vi(e,t)})}}function vi(e,t){if(!e)return null;if(e.type===`GeometryCollection`)return _i(e,t);var n;switch(e.type){case`Point`:n=xi;break;case`MultiPoint`:n=xi;break;case`LineString`:n=Si;break;case`MultiLineString`:n=Si;break;case`Polygon`:n=Ci;break;case`MultiPolygon`:n=Ci;break;case`Sphere`:n=Ci;break;default:return null}return(0,Zt.Z)(e,t(n)),n.result()}var yi=[],bi=[],xi={point:function(e,t){yi.push([e,t])},result:function(){var e=yi.length?yi.length<2?{type:`Point`,coordinates:yi[0]}:{type:`MultiPoint`,coordinates:yi}:null;return yi=[],e}},Si={lineStart:di,point:function(e,t){yi.push([e,t])},lineEnd:function(){yi.length&&(bi.push(yi),yi=[])},result:function(){var e=bi.length?bi.length<2?{type:`LineString`,coordinates:bi[0]}:{type:`MultiLineString`,coordinates:bi}:null;return bi=[],e}},Ci={polygonStart:di,lineStart:di,point:function(e,t){yi.push([e,t])},lineEnd:function(){var e=yi.length;if(e){do yi.push(yi[0].slice());while(++e<4);bi.push(yi),yi=[]}},polygonEnd:di,result:function(){if(!bi.length)return null;var e=[],t=[];return bi.forEach(function(n){fi(n)?e.push([n]):t.push(n)}),t.forEach(function(t){var n=t[0];e.some(function(e){if(pi(e[0],n))return e.push(t),!0})||e.push([t])}),bi=[],e.length?e.length>1?{type:`MultiPolygon`,coordinates:e}:{type:`Polygon`,coordinates:e[0]}:null}};function wi(e){var t=e(x,0)[0]-e(-x,0)[0];function n(n,r){var a=i(n)<x,o=e(a?n:n>0?n-b:n+b,r),s=(o[0]-o[1])*C,c=(o[0]+o[1])*C;if(a)return[s,c];var l=t*C,u=s>0^c>0?-1:1;return[u*s-h(c)*l,u*c-h(s)*l]}return e.invert&&(n.invert=function(n,r){var a=(n+r)*C,o=(r-n)*C,s=i(a)<.5*t&&i(o)<.5*t;if(!s){var c=t*C,l=a>0^o>0?-1:1,u=-l*n+(o>0?1:-1)*c,d=-l*r+(a>0?1:-1)*c;a=(-u-d)*C,o=(u-d)*C}var f=e.invert(a,o);return s||(f[0]+=a>0?b:-b),f}),(0,r.Z)(n).rotate([-90,-90,45]).clipAngle(179.999)}function Ti(){return wi(Pt).scale(176.423)}function Ei(){return wi(Ht).scale(111.48)}function Di(e,t){if(!(0<=(t=+t)&&t<=20))throw Error(`invalid digits`);function n(e){var n=e.length,r=2,i=Array(n);for(i[0]=+e[0].toFixed(t),i[1]=+e[1].toFixed(t);r<n;)i[r]=e[r],++r;return i}function r(e){return e.map(n)}function i(e){for(var t=n(e[0]),r=[t],i=1;i<e.length;i++){var a=n(e[i]);(a.length>2||a[0]!=t[0]||a[1]!=t[1])&&(r.push(a),t=a)}return r.length===1&&e.length>1&&r.push(n(e[e.length-1])),r}function a(e){return e.map(i)}function o(e){if(e==null)return e;var t;switch(e.type){case`GeometryCollection`:t={type:`GeometryCollection`,geometries:e.geometries.map(o)};break;case`Point`:t={type:`Point`,coordinates:n(e.coordinates)};break;case`MultiPoint`:t={type:e.type,coordinates:r(e.coordinates)};break;case`LineString`:t={type:e.type,coordinates:i(e.coordinates)};break;case`MultiLineString`:case`Polygon`:t={type:e.type,coordinates:a(e.coordinates)};break;case`MultiPolygon`:t={type:`MultiPolygon`,coordinates:e.coordinates.map(a)};break;default:return e}return e.bbox!=null&&(t.bbox=e.bbox),t}function s(e){var t={type:`Feature`,properties:e.properties,geometry:o(e.geometry)};return e.id!=null&&(t.id=e.id),e.bbox!=null&&(t.bbox=e.bbox),t}if(e!=null)switch(e.type){case`Feature`:return s(e);case`FeatureCollection`:var c={type:`FeatureCollection`,features:e.features.map(s)};return e.bbox!=null&&(c.bbox=e.bbox),c;default:return o(e)}return e}function Oi(e){var t=g(e);function n(n,r){var i=t?_(n*t/2)/t:n/2;if(!r)return[2*i,-e];var o=2*a(i*g(r)),c=1/_(r);return[g(o)*c,r+(1-s(o))*c-e]}return n.invert=function(n,r){if(i(r+=e)<v)return[t?2*a(t*n/2)/t:n,0];var o=n*n+r*r,c=0,l=10,u;do{var d=_(c),f=1/s(c),p=o-2*r*c+c*c;c-=u=(d*p+2*(c-r))/(2+p*f*f+2*(c-r)*d)}while(i(u)>v&&--l>0);var m=n*(d=_(c)),h=_(i(r)<i(c+1/d)?A(m)*.5:j(m)*.5+b/4)/g(c);return[t?2*a(t*h)/t:2*h,c]},n}function ki(){return ye(Oi).scale(131.215)}var Ai=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Ai.forEach(function(e){e[1]*=1.0144});function ji(e,t){var n=f(18,i(t)*36/b),r=l(n),a=n-r,o=(m=Ai[r])[0],s=m[1],c=(m=Ai[++r])[0],u=m[1],d=(m=Ai[f(19,++r)])[0],p=m[1],m;return[e*(c+a*(d-o)/2+a*a*(d-2*c+o)/2),(t>0?x:-x)*(u+a*(p-s)/2+a*a*(p-2*u+s)/2)]}ji.invert=function(e,t){var n=t/x,r=n*90,a=f(18,i(r/5)),o=d(0,l(a));do{var s=Ai[o][1],c=Ai[o+1][1],u=Ai[f(19,o+2)][1],p=u-s,m=u-2*c+s,h=2*(i(n)-c)/p,g=m/p,_=h*(1-g*h*(1-2*g*h));if(_>=0||o===1){r=(t>=0?5:-5)*(_+a);var v=50,b;do a=f(18,i(r)/5),o=l(a),_=a-o,s=Ai[o][1],c=Ai[o+1][1],u=Ai[f(19,o+2)][1],r-=(b=(t>=0?x:-x)*(c+_*(u-s)/2+_*_*(u-2*c+s)/2)-t)*D;while(i(b)>y&&--v>0);break}}while(--o>=0);var S=Ai[o][0],C=Ai[o+1][0],w=Ai[f(19,o+2)][0];return[e/(C+_*(w-S)/2+_*_*(w-2*C+S)/2),r*O]};function Mi(){return(0,r.Z)(ji).scale(152.63)}function Ni(e){function t(t,n){var r=s(n),i=(e-1)/(e-r*s(t));return[i*r*g(t),i*g(n)]}return t.invert=function(t,n){var r=t*t+n*n,i=M(r),a=(e-M(1-r*(e+1)/(e-1)))/((e-1)/i+i/(e-1));return[o(t*a,i*M(1-a*a)),i?A(n*a/i):0]},t}function Pi(e,t){var n=Ni(e);if(!t)return n;var r=s(t),i=g(t);function a(t,a){var o=n(t,a),s=o[1],c=s*i/(e-1)+r;return[o[0]*r/c,s/c]}return a.invert=function(t,a){var o=(e-1)/(e-1-a*i);return n.invert(o*t,o*a*r)},a}function Fi(){var e=2,t=0,n=(0,r.r)(Pi),i=n(e,t);return i.distance=function(r){return arguments.length?n(e=+r,t):e},i.tilt=function(r){return arguments.length?n(e,t=r*O):t*D},i.scale(432.147).clipAngle(j(1/e)*D-1e-6)}var Ii=1e-4,Li=1e4,Ri=-180,zi=Ri+Ii,Bi=180,Vi=Bi-Ii,Hi=-90,Ui=Hi+Ii,Wi=90,Gi=Wi-Ii;function Ki(e){return e.length>0}function qi(e){return Math.floor(e*Li)/Li}function Ji(e){return e===Hi||e===Wi?[0,e]:[Ri,qi(e)]}function Yi(e){var t=e[0],n=e[1],r=!1;return t<=zi?(t=Ri,r=!0):t>=Vi&&(t=Bi,r=!0),n<=Ui?(n=Hi,r=!0):n>=Gi&&(n=Wi,r=!0),r?[t,n]:e}function Xi(e){return e.map(Yi)}function Zi(e,t,n){for(var r=0,i=e.length;r<i;++r){var a=e[r].slice();n.push({index:-1,polygon:t,ring:a});for(var o=0,s=a.length;o<s;++o){var c=a[o],l=c[0],u=c[1];if(l<=zi||l>=Vi||u<=Ui||u>=Gi){a[o]=Yi(c);for(var d=o+1;d<s;++d){var f=a[d],p=f[0],m=f[1];if(p>zi&&p<Vi&&m>Ui&&m<Gi)break}if(d===o+1)continue;if(o){var h={index:-1,polygon:t,ring:a.slice(0,o+1)};h.ring[h.ring.length-1]=Ji(u),n[n.length-1]=h}else n.pop();if(d>=s)break;n.push({index:-1,polygon:t,ring:a=a.slice(d-1)}),a[0]=Ji(a[0][1]),o=-1,s=a.length}}}}function Qi(e){var t,n=e.length,r={},i={},a,o,s,c,l;for(t=0;t<n;++t){if(a=e[t],o=a.ring[0],c=a.ring[a.ring.length-1],o[0]===c[0]&&o[1]===c[1]){a.polygon.push(a.ring),e[t]=null;continue}a.index=t,r[o]=i[c]=a}for(t=0;t<n;++t)if(a=e[t],a){if(o=a.ring[0],c=a.ring[a.ring.length-1],s=i[o],l=r[c],delete r[o],delete i[c],o[0]===c[0]&&o[1]===c[1]){a.polygon.push(a.ring);continue}s?(delete i[o],delete r[s.ring[0]],s.ring.pop(),e[s.index]=null,a={index:-1,polygon:s.polygon,ring:s.ring.concat(a.ring)},s===l?a.polygon.push(a.ring):(a.index=n++,e.push(r[a.ring[0]]=i[a.ring[a.ring.length-1]]=a))):l?(delete r[c],delete i[l.ring[l.ring.length-1]],a.ring.pop(),a={index:n++,polygon:l.polygon,ring:a.ring.concat(l.ring)},e[l.index]=null,e.push(r[a.ring[0]]=i[a.ring[a.ring.length-1]]=a)):(a.ring.push(a.ring[0]),a.polygon.push(a.ring))}}function $i(e){var t={type:`Feature`,geometry:ea(e.geometry)};return e.id!=null&&(t.id=e.id),e.bbox!=null&&(t.bbox=e.bbox),e.properties!=null&&(t.properties=e.properties),t}function ea(e){if(e==null)return e;var t,n,r,i;switch(e.type){case`GeometryCollection`:t={type:`GeometryCollection`,geometries:e.geometries.map(ea)};break;case`Point`:t={type:`Point`,coordinates:Yi(e.coordinates)};break;case`MultiPoint`:case`LineString`:t={type:e.type,coordinates:Xi(e.coordinates)};break;case`MultiLineString`:t={type:`MultiLineString`,coordinates:e.coordinates.map(Xi)};break;case`Polygon`:var a=[];Zi(e.coordinates,a,n=[]),Qi(n),t={type:`Polygon`,coordinates:a};break;case`MultiPolygon`:n=[],r=-1,i=e.coordinates.length;for(var o=Array(i);++r<i;)Zi(e.coordinates[r],o[r]=[],n);Qi(n),t={type:`MultiPolygon`,coordinates:o.filter(Ki)};break;default:return e}return e.bbox!=null&&(t.bbox=e.bbox),t}function ta(e){if(e==null)return e;switch(e.type){case`Feature`:return $i(e);case`FeatureCollection`:var t={type:`FeatureCollection`,features:e.features.map($i)};return e.bbox!=null&&(t.bbox=e.bbox),t;default:return ea(e)}}function na(e,t){var n=_(t/2),r=g(S*n);return[e*(.74482-.34588*r*r),1.70711*n]}na.invert=function(e,t){var n=t/1.70711,r=g(S*n);return[e/(.74482-.34588*r*r),2*a(n)]};function ra(){return(0,r.Z)(na).scale(146.153)}function ia(e,t,n){var i=(0,Br.Z)(t,n),a=i(.5),o=(0,De.Z)([-a[0],-a[1]])(t),s=i.distance/2,c=-A(g(o[1]*O)/g(s)),l=[-a[0],-a[1],-(o[0]>0?b-c:c)*D],u=(0,r.Z)(e(s)).rotate(l),d=(0,De.Z)(l),f=u.center;return delete u.rotate,u.center=function(e){return arguments.length?f(d(e)):d.invert(f())},u.clipAngle(90)}function aa(e){var t=s(e);function n(e,n){var r=(0,$r.M)(e,n);return r[0]*=t,r}return n.invert=function(e,n){return $r.M.invert(e/t,n)},n}function oa(){return sa([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function sa(e,t){return ia(aa,e,t)}function ca(e){if(!(e*=2))return Y.N;var t=-e/2,n=-t,r=e*e,i=_(n),a=.5/g(n);function c(i,a){var o=j(s(a)*s(i-t)),c=j(s(a)*s(i-n)),l=a<0?-1:1;return o*=o,c*=c,[(o-c)/(2*e),l*M(4*r*c-(r-o+c)*(r-o+c))/(2*e)]}return c.invert=function(e,r){var c=r*r,l=s(M(c+(d=e+t)*d)),u=s(M(c+(d=e+n)*d)),d,f;return[o(f=l-u,d=(l+u)*i),(r<0?-1:1)*j(M(d*d+f*f)*a)]},c}function la(){return ua([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function ua(e,t){return ia(ca,e,t)}function da(e,t){if(i(t)<v)return[e,0];var n=i(t/x),r=A(n);if(i(e)<v||i(i(t)-x)<v)return[0,h(t)*b*_(r/2)];var a=s(r),o=i(b/e-e/b)/2,c=o*o,l=a/(n+a-1),u=l*(2/n-1),d=u*u,f=d+c,p=l-d,m=c+l;return[h(e)*b*(o*p+M(c*p*p-f*(l*l-d)))/f,h(t)*b*(u*m-o*M((c+1)*f-m*m))/f]}da.invert=function(e,t){if(i(t)<v)return[e,0];if(i(e)<v)return[0,x*g(2*a(t/b))];var n=(e/=b)*e,r=(t/=b)*t,o=n+r,c=o*o,l=-i(t)*(1+o),u=l-2*r+n,d=-2*l+1+2*r+c,f=r/d+(2*u*u*u/(d*d*d)-9*l*u/(d*d))/27,p=(l-u*u/(3*d))/d,m=2*M(-p/3),_=j(3*f/(p*m))/3;return[b*(o-1+M(1+2*(n-r)+c))/(2*e),h(t)*b*(-m*s(_+b/3)-u/(3*d))]};function fa(){return(0,r.Z)(da).scale(79.4183)}function pa(e,t){if(i(t)<v)return[e,0];var n=i(t/x),r=A(n);if(i(e)<v||i(i(t)-x)<v)return[0,h(t)*b*_(r/2)];var a=s(r),o=i(b/e-e/b)/2,c=o*o,l=a*(M(1+c)-o*a)/(1+c*n*n);return[h(e)*b*l,h(t)*b*M(1-l*(2*o+l))]}pa.invert=function(e,t){if(!e)return[0,x*g(2*a(t/b))];var n=i(e/b),r=(1-n*n-(t/=b)*t)/(2*n),s=M(r*r+1);return[h(e)*b*(s-r),h(t)*x*g(2*o(M((1-2*r*n)*(r+s)-n),M(s+r+n)))]};function ma(){return(0,r.Z)(pa).scale(79.4183)}function ha(e,t){if(i(t)<v)return[e,0];var n=t/x,r=A(n);if(i(e)<v||i(i(t)-x)<v)return[0,b*_(r/2)];var a=(b/e-e/b)/2,o=n/(1+s(r));return[b*(h(e)*M(a*a+1-o*o)-a),b*o]}ha.invert=function(e,t){if(!t)return[e,0];var n=t/b,r=(b*b*(1-n*n)-e*e)/(2*b*e);return[e?b*(h(e)*M(r*r+1)-r):0,x*g(2*a(n))]};function ga(){return(0,r.Z)(ha).scale(79.4183)}function _a(e,t){if(!t)return[e,0];var n=i(t);if(!e||n===x)return[0,t];var r=n/x,a=r*r,o=(8*r-a*(a+2)-5)/(2*a*(r-1)),s=o*o,c=r*o,l=a+s+2*c,u=r+3*o,d=e/x,f=d+1/d,p=h(i(e)-x)*M(f*f-4),m=p*p,g=l*(a+s*m-1)+(1-a)*(a*(u*u+4*s)+12*c*s+4*s*s),_=(p*(l+s-1)+2*M(g))/(4*l+m);return[h(e)*x*_,h(t)*x*M(1+p*i(_)-_*_)]}_a.invert=function(e,t){var n;if(!e||!t)return[e,t];t/=b;var r=h(e)*e/x,a=(r*r-1+4*t*t)/i(r),o=a*a,s=2*t,c=50;do{var l=s*s,u=(8*s-l*(l+2)-5)/(2*l*(s-1)),d=(3*s-l*s-10)/(2*l*s),f=u*u,p=s*u,m=s+u,g=m*m,_=s+3*u,y=g*(l+f*o-1)+(1-l)*(l*(_*_+4*f)+f*(12*p+4*f)),S=-2*m*(4*p*f+(1-4*l+3*l*l)*(1+d)+f*(-6+14*l-o+(-8+8*l-2*o)*d)+p*(-8+12*l+(-10+10*l-o)*d)),C=M(y),w=a*(g+f-1)+2*C-r*(4*g+o),T=a*(2*u*d+2*m*(1+d))+S/C-8*m*(a*(-1+f+g)+2*C)*(1+d)/(o+4*g);s-=n=w/T}while(n>v&&--c>0);return[h(e)*(M(a*a+4)+a)*b/4,x*s]};function va(){return(0,r.Z)(_a).scale(127.16)}function ya(e,t,n,r,i){function a(a,o){var c=n*g(r*o),l=M(1-c*c),u=M(2/(1+l*s(a*=i)));return[e*l*u*g(a),t*c*u]}return a.invert=function(a,s){var c=a/e,l=s/t,u=M(c*c+l*l),d=2*A(u/2);return[o(a*_(d),e*u)/i,u&&A(s*g(d)/(t*n*u))/r]},a}function ba(e,t,n,r){var i=b/3;e=d(e,v),t=d(t,v),e=f(e,x),t=f(t,b-v),n=d(n,0),n=f(n,100-v),r=d(r,v);var a=n/100+1,o=r/100,c=j(a*s(i))/i,l=g(e)/g(c*x),u=t/b,p=M(o*g(e/2)/g(t/2));return ya(p/M(u*l*c),1/(p*M(u*l*c)),l,c,u)}function xa(){var e=65*O,t=60*O,n=20,i=200,a=(0,r.r)(ba),o=a(e,t,n,i);return o.poleline=function(r){return arguments.length?a(e=+r*O,t,n,i):e*D},o.parallels=function(r){return arguments.length?a(e,t=+r*O,n,i):t*D},o.inflation=function(r){return arguments.length?a(e,t,n=+r,i):n},o.ratio=function(r){return arguments.length?a(e,t,n,i=+r):i},o.scale(163.775)}function Sa(){return xa().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Ca=4*b+3*M(3),wa=2*M(2*b*M(3)/Ca),Ta=fe(wa*M(3)/b,wa,Ca/6);function Ea(){return(0,r.Z)(Ta).scale(176.84)}function Da(e,t){return[e*M(1-3*t*t/(b*b)),t]}Da.invert=function(e,t){return[e/M(1-3*t*t/(b*b)),t]};function Oa(){return(0,r.Z)(Da).scale(152.63)}function ka(e,t){var n=s(t),r=s(e)*n,i=1-r,a=s(e=o(g(e)*n,-g(t))),c=g(e);return n=M(1-r*r),[c*n-a*i,-a*n-c*i]}ka.invert=function(e,t){var n=(e*e+t*t)/-2,r=M(-n*(2+n)),i=t*n+e*r,a=e*n-t*r,s=M(a*a+i*i);return[o(r*i,s*(1+n)),s?-A(r*a/s):0]};function Aa(){return(0,r.Z)(ka).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function ja(e,t){var n=B(e,t);return[(n[0]+e/x)/2,(n[1]+t)/2]}ja.invert=function(e,t){var n=e,r=t,a=25;do{var o=s(r),c=g(r),l=g(2*r),u=c*c,d=o*o,f=g(n),p=s(n/2),m=g(n/2),h=m*m,_=1-d*p*p,y=_?j(o*p)*M(b=1/_):b=0,b,S=.5*(2*y*o*m+n/x)-e,C=.5*(y*c+r)-t,w=.5*b*(d*h+y*o*p*u)+.5/x,T=b*(f*l/4-y*c*m),E=.125*b*(l*m-y*c*d*f),D=.5*b*(u*p+y*h*o)+.5,O=T*E-D*w,k=(C*T-S*D)/O,A=(S*E-C*w)/O;n-=k,r-=A}while((i(k)>v||i(A)>v)&&--a>0);return[n,r]};function Ma(){return(0,r.Z)(ja).scale(158.837)}}),33940:(function(e,t,n){n.d(t,{Z:function(){return r}});function r(){return new i}function i(){this.reset()}i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(e){o(a,e,this.t),o(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new i;function o(e,t,n){var r=e.s=t+n,i=r-t;e.t=t-(r-i)+(n-i)}}),97860:(function(e,t,n){n.d(t,{L9:function(){return s},ZP:function(){return y},gL:function(){return m}});var r=n(33940),i=n(39695),a=n(73182),o=n(72736),s=(0,r.Z)(),c=(0,r.Z)(),l,u,d,f,p,m={point:a.Z,lineStart:a.Z,lineEnd:a.Z,polygonStart:function(){s.reset(),m.lineStart=h,m.lineEnd=g},polygonEnd:function(){var e=+s;c.add(e<0?i.BZ+e:e),this.lineStart=this.lineEnd=this.point=a.Z},sphere:function(){c.add(i.BZ)}};function h(){m.point=_}function g(){v(l,u)}function _(e,t){m.point=v,l=e,u=t,e*=i.uR,t*=i.uR,d=e,f=(0,i.mC)(t=t/2+i.pu),p=(0,i.O$)(t)}function v(e,t){e*=i.uR,t*=i.uR,t=t/2+i.pu;var n=e-d,r=n>=0?1:-1,a=r*n,o=(0,i.mC)(t),c=(0,i.O$)(t),l=p*c,u=f*o+l*(0,i.mC)(a),m=l*r*(0,i.O$)(a);s.add((0,i.fv)(m,u)),d=e,f=o,p=c}function y(e){return c.reset(),(0,o.Z)(e,m),c*2}}),77338:(function(e,t,n){n.d(t,{Z:function(){return A}});var r=n(33940),i=n(97860),a=n(7620),o=n(39695),s=n(72736),c,l,u,d,f,p,m,h,g=(0,r.Z)(),_,v,y={point:b,lineStart:S,lineEnd:C,polygonStart:function(){y.point=w,y.lineStart=T,y.lineEnd=E,g.reset(),i.gL.polygonStart()},polygonEnd:function(){i.gL.polygonEnd(),y.point=b,y.lineStart=S,y.lineEnd=C,i.L9<0?(c=-(u=180),l=-(d=90)):g>o.Ho?d=90:g<-o.Ho&&(l=-90),v[0]=c,v[1]=u},sphere:function(){c=-(u=180),l=-(d=90)}};function b(e,t){_.push(v=[c=e,u=e]),t<l&&(l=t),t>d&&(d=t)}function x(e,t){var n=(0,a.Og)([e*o.uR,t*o.uR]);if(h){var r=(0,a.T5)(h,n),i=[r[1],-r[0],0],s=(0,a.T5)(i,r);(0,a.iJ)(s),s=(0,a.Y1)(s);var p=e-f,m=p>0?1:-1,g=s[0]*o.RW*m,y,b=(0,o.Wn)(p)>180;b^(m*f<g&&g<m*e)?(y=s[1]*o.RW,y>d&&(d=y)):(g=(g+360)%360-180,b^(m*f<g&&g<m*e)?(y=-s[1]*o.RW,y<l&&(l=y)):(t<l&&(l=t),t>d&&(d=t))),b?e<f?D(c,e)>D(c,u)&&(u=e):D(e,u)>D(c,u)&&(c=e):u>=c?(e<c&&(c=e),e>u&&(u=e)):e>f?D(c,e)>D(c,u)&&(u=e):D(e,u)>D(c,u)&&(c=e)}else _.push(v=[c=e,u=e]);t<l&&(l=t),t>d&&(d=t),h=n,f=e}function S(){y.point=x}function C(){v[0]=c,v[1]=u,y.point=b,h=null}function w(e,t){if(h){var n=e-f;g.add((0,o.Wn)(n)>180?n+(n>0?360:-360):n)}else p=e,m=t;i.gL.point(e,t),x(e,t)}function T(){i.gL.lineStart()}function E(){w(p,m),i.gL.lineEnd(),(0,o.Wn)(g)>o.Ho&&(c=-(u=180)),v[0]=c,v[1]=u,h=null}function D(e,t){return(t-=e)<0?t+360:t}function O(e,t){return e[0]-t[0]}function k(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function A(e){var t,n,r,i,a,o,f;if(d=u=-(c=l=1/0),_=[],(0,s.Z)(e,y),n=_.length){for(_.sort(O),t=1,r=_[0],a=[r];t<n;++t)i=_[t],k(r,i[0])||k(r,i[1])?(D(r[0],i[1])>D(r[0],r[1])&&(r[1]=i[1]),D(i[0],r[1])>D(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,n=a.length-1,t=0,r=a[n];t<=n;r=i,++t)i=a[t],(f=D(r[1],i[0]))>o&&(o=f,c=i[0],u=r[1])}return _=v=null,c===1/0||l===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,l],[u,d]]}}),7620:(function(e,t,n){n.d(t,{Og:function(){return a},T:function(){return l},T5:function(){return s},Y1:function(){return i},iJ:function(){return u},j9:function(){return o},s0:function(){return c}});var r=n(39695);function i(e){return[(0,r.fv)(e[1],e[0]),(0,r.ZR)(e[2])]}function a(e){var t=e[0],n=e[1],i=(0,r.mC)(n);return[i*(0,r.mC)(t),i*(0,r.O$)(t),(0,r.O$)(n)]}function o(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function s(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function c(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function l(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function u(e){var t=(0,r._b)(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}}),66624:(function(e,t,n){n.d(t,{Z:function(){return N}});var r=n(39695),i=n(73182),a=n(72736),o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S={sphere:i.Z,point:C,lineStart:T,lineEnd:O,polygonStart:function(){S.lineStart=k,S.lineEnd=A},polygonEnd:function(){S.lineStart=T,S.lineEnd=O}};function C(e,t){e*=r.uR,t*=r.uR;var n=(0,r.mC)(t);w(n*(0,r.mC)(e),n*(0,r.O$)(e),(0,r.O$)(t))}function w(e,t,n){++o,c+=(e-c)/o,l+=(t-l)/o,u+=(n-u)/o}function T(){S.point=E}function E(e,t){e*=r.uR,t*=r.uR;var n=(0,r.mC)(t);y=n*(0,r.mC)(e),b=n*(0,r.O$)(e),x=(0,r.O$)(t),S.point=D,w(y,b,x)}function D(e,t){e*=r.uR,t*=r.uR;var n=(0,r.mC)(t),i=n*(0,r.mC)(e),a=n*(0,r.O$)(e),o=(0,r.O$)(t),c=(0,r.fv)((0,r._b)((c=b*o-x*a)*c+(c=x*i-y*o)*c+(c=y*a-b*i)*c),y*i+b*a+x*o);s+=c,d+=c*(y+(y=i)),f+=c*(b+(b=a)),p+=c*(x+(x=o)),w(y,b,x)}function O(){S.point=C}function k(){S.point=j}function A(){M(_,v),S.point=C}function j(e,t){_=e,v=t,e*=r.uR,t*=r.uR,S.point=M;var n=(0,r.mC)(t);y=n*(0,r.mC)(e),b=n*(0,r.O$)(e),x=(0,r.O$)(t),w(y,b,x)}function M(e,t){e*=r.uR,t*=r.uR;var n=(0,r.mC)(t),i=n*(0,r.mC)(e),a=n*(0,r.O$)(e),o=(0,r.O$)(t),c=b*o-x*a,l=x*i-y*o,u=y*a-b*i,_=(0,r._b)(c*c+l*l+u*u),v=(0,r.ZR)(_),S=_&&-v/_;m+=S*c,h+=S*l,g+=S*u,s+=v,d+=v*(y+(y=i)),f+=v*(b+(b=a)),p+=v*(x+(x=o)),w(y,b,x)}function N(e){o=s=c=l=u=d=f=p=m=h=g=0,(0,a.Z)(e,S);var t=m,n=h,i=g,_=t*t+n*n+i*i;return _<r.aW&&(t=d,n=f,i=p,s<r.Ho&&(t=c,n=l,i=u),_=t*t+n*n+i*i,_<r.aW)?[NaN,NaN]:[(0,r.fv)(n,t)*r.RW,(0,r.ZR)(i/(0,r._b)(_))*r.RW]}}),7613:(function(e,t,n){n.d(t,{m:function(){return s},Z:function(){return l}});var r=n(7620);function i(e){return function(){return e}}var a=n(39695),o=n(49386);function s(e,t,n,i,o,s){if(n){var l=(0,a.mC)(t),u=(0,a.O$)(t),d=i*n;o==null?(o=t+i*a.BZ,s=t-d/2):(o=c(l,o),s=c(l,s),(i>0?o<s:o>s)&&(o+=i*a.BZ));for(var f,p=o;i>0?p>s:p<s;p-=d)f=(0,r.Y1)([l,-u*(0,a.mC)(p),-u*(0,a.O$)(p)]),e.point(f[0],f[1])}}function c(e,t){t=(0,r.Og)(t),t[0]-=e,(0,r.iJ)(t);var n=(0,a.Kh)(-t[1]);return((-t[2]<0?-n:n)+a.BZ-a.Ho)%a.BZ}function l(){var e=i([0,0]),t=i(90),n=i(6),r,c,l={point:u};function u(e,t){r.push(e=c(e,t)),e[0]*=a.RW,e[1]*=a.RW}function d(){var i=e.apply(this,arguments),u=t.apply(this,arguments)*a.uR,d=n.apply(this,arguments)*a.uR;return r=[],c=(0,o.I)(-i[0]*a.uR,-i[1]*a.uR,0).invert,s(l,u,d,1),i={type:`Polygon`,coordinates:[r]},r=c=null,i}return d.center=function(t){return arguments.length?(e=typeof t==`function`?t:i([+t[0],+t[1]]),d):e},d.radius=function(e){return arguments.length?(t=typeof e==`function`?e:i(+e),d):t},d.precision=function(e){return arguments.length?(n=typeof e==`function`?e:i(+e),d):n},d}}),87070:(function(e,t,n){var r=n(97023),i=n(39695);t.Z=(0,r.Z)(function(){return!0},a,s,[-i.pi,-i.ou]);function a(e){var t=NaN,n=NaN,r=NaN,a;return{lineStart:function(){e.lineStart(),a=1},point:function(s,c){var l=s>0?i.pi:-i.pi,u=(0,i.Wn)(s-t);(0,i.Wn)(u-i.pi)<i.Ho?(e.point(t,n=(n+c)/2>0?i.ou:-i.ou),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(l,n),e.point(s,n),a=0):r!==l&&u>=i.pi&&((0,i.Wn)(t-r)<i.Ho&&(t-=r*i.Ho),(0,i.Wn)(s-l)<i.Ho&&(s-=l*i.Ho),n=o(t,n,s,c),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(l,n),a=0),e.point(t=s,n=c),r=l},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-a}}}function o(e,t,n,r){var a,o,s=(0,i.O$)(e-n);return(0,i.Wn)(s)>i.Ho?(0,i.z4)(((0,i.O$)(t)*(o=(0,i.mC)(r))*(0,i.O$)(n)-(0,i.O$)(r)*(a=(0,i.mC)(t))*(0,i.O$)(e))/(a*o*s)):(t+r)/2}function s(e,t,n,r){var a;if(e==null)a=n*i.ou,r.point(-i.pi,a),r.point(0,a),r.point(i.pi,a),r.point(i.pi,0),r.point(i.pi,-a),r.point(0,-a),r.point(-i.pi,-a),r.point(-i.pi,0),r.point(-i.pi,a);else if((0,i.Wn)(e[0]-t[0])>i.Ho){var o=e[0]<t[0]?i.pi:-i.pi;a=n*o/2,r.point(-o,a),r.point(0,a),r.point(o,a)}else r.point(t[0],t[1])}}),85272:(function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(73182);function i(){var e=[],t;return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:r.Z,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}}),1457:(function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(7620),i=n(7613),a=n(39695),o=n(67108),s=n(97023);function c(e){var t=(0,a.mC)(e),n=6*a.uR,c=t>0,l=(0,a.Wn)(t)>a.Ho;function u(t,r,a,o){(0,i.m)(o,e,n,a,t,r)}function d(e,n){return(0,a.mC)(e)*(0,a.mC)(n)>t}function f(e){var t,n,r,i,s;return{lineStart:function(){i=r=!1,s=1},point:function(u,f){var h=[u,f],g,_=d(u,f),v=c?_?0:m(u,f):_?m(u+(u<0?a.pi:-a.pi),f):0;if(!t&&(i=r=_)&&e.lineStart(),_!==r&&(g=p(t,h),(!g||(0,o.Z)(t,g)||(0,o.Z)(h,g))&&(h[2]=1)),_!==r)s=0,_?(e.lineStart(),g=p(h,t),e.point(g[0],g[1])):(g=p(t,h),e.point(g[0],g[1],2),e.lineEnd()),t=g;else if(l&&t&&c^_){var y;!(v&n)&&(y=p(h,t,!0))&&(s=0,c?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1],3)))}_&&(!t||!(0,o.Z)(t,h))&&e.point(h[0],h[1]),t=h,r=_,n=v},lineEnd:function(){r&&e.lineEnd(),t=null},clean:function(){return s|(i&&r)<<1}}}function p(e,n,i){var o=(0,r.Og)(e),s=(0,r.Og)(n),c=[1,0,0],l=(0,r.T5)(o,s),u=(0,r.j9)(l,l),d=l[0],f=u-d*d;if(!f)return!i&&e;var p=t*u/f,m=-t*d/f,h=(0,r.T5)(c,l),g=(0,r.T)(c,p),_=(0,r.T)(l,m);(0,r.s0)(g,_);var v=h,y=(0,r.j9)(g,v),b=(0,r.j9)(v,v),x=y*y-b*((0,r.j9)(g,g)-1);if(!(x<0)){var S=(0,a._b)(x),C=(0,r.T)(v,(-y-S)/b);if((0,r.s0)(C,g),C=(0,r.Y1)(C),!i)return C;var w=e[0],T=n[0],E=e[1],D=n[1],O;T<w&&(O=w,w=T,T=O);var k=T-w,A=(0,a.Wn)(k-a.pi)<a.Ho,j=A||k<a.Ho;if(!A&&D<E&&(O=E,E=D,D=O),j?A?E+D>0^C[1]<((0,a.Wn)(C[0]-w)<a.Ho?E:D):E<=C[1]&&C[1]<=D:k>a.pi^(w<=C[0]&&C[0]<=T)){var M=(0,r.T)(v,(-y+S)/b);return(0,r.s0)(M,g),[C,(0,r.Y1)(M)]}}}function m(t,n){var r=c?e:a.pi-e,i=0;return t<-r?i|=1:t>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}return(0,s.Z)(d,f,u,c?[0,-e]:[-a.pi,e-a.pi])}}),97023:(function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(85272),i=n(46225),a=n(39695),o=n(23071),s=n(33064);function c(e,t,n,a){return function(c){var d=t(c),f=(0,r.Z)(),p=t(f),m=!1,h,g,_,v={point:y,lineStart:x,lineEnd:S,polygonStart:function(){v.point=C,v.lineStart=w,v.lineEnd=T,g=[],h=[]},polygonEnd:function(){v.point=y,v.lineStart=x,v.lineEnd=S,g=(0,s.TS)(g);var e=(0,o.Z)(h,a);g.length?(m||=(c.polygonStart(),!0),(0,i.Z)(g,u,e,n,c)):e&&(m||=(c.polygonStart(),!0),c.lineStart(),n(null,null,1,c),c.lineEnd()),m&&=(c.polygonEnd(),!1),g=h=null},sphere:function(){c.polygonStart(),c.lineStart(),n(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function y(t,n){e(t,n)&&c.point(t,n)}function b(e,t){d.point(e,t)}function x(){v.point=b,d.lineStart()}function S(){v.point=y,d.lineEnd()}function C(e,t){_.push([e,t]),p.point(e,t)}function w(){p.lineStart(),_=[]}function T(){C(_[0][0],_[0][1]),p.lineEnd();var e=p.clean(),t=f.result(),n,r=t.length,i,a,o;if(_.pop(),h.push(_),_=null,r){if(e&1){if(a=t[0],(i=a.length-1)>0){for(m||=(c.polygonStart(),!0),c.lineStart(),n=0;n<i;++n)c.point((o=a[n])[0],o[1]);c.lineEnd()}return}r>1&&e&2&&t.push(t.pop().concat(t.shift())),g.push(t.filter(l))}}return v}}function l(e){return e.length>1}function u(e,t){return((e=e.x)[0]<0?e[1]-a.ou-a.Ho:a.ou-e[1])-((t=t.x)[0]<0?t[1]-a.ou-a.Ho:a.ou-t[1])}}),87605:(function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(39695),i=n(85272);function a(e,t,n,r,i,a){var o=e[0],s=e[1],c=t[0],l=t[1],u=0,d=1,f=c-o,p=l-s,m=n-o;if(!(!f&&m>0)){if(m/=f,f<0){if(m<u)return;m<d&&(d=m)}else if(f>0){if(m>d)return;m>u&&(u=m)}if(m=i-o,!(!f&&m<0)){if(m/=f,f<0){if(m>d)return;m>u&&(u=m)}else if(f>0){if(m<u)return;m<d&&(d=m)}if(m=r-s,!(!p&&m>0)){if(m/=p,p<0){if(m<u)return;m<d&&(d=m)}else if(p>0){if(m>d)return;m>u&&(u=m)}if(m=a-s,!(!p&&m<0)){if(m/=p,p<0){if(m>d)return;m>u&&(u=m)}else if(p>0){if(m<u)return;m<d&&(d=m)}return u>0&&(e[0]=o+u*f,e[1]=s+u*p),d<1&&(t[0]=o+d*f,t[1]=s+d*p),!0}}}}}var o=n(46225),s=n(33064),c=1e9,l=-c;function u(e,t,n,u){function d(r,i){return e<=r&&r<=n&&t<=i&&i<=u}function f(r,i,a,o){var s=0,c=0;if(r==null||(s=p(r,a))!==(c=p(i,a))||h(r,i)<0^a>0)do o.point(s===0||s===3?e:n,s>1?u:t);while((s=(s+a+4)%4)!==c);else o.point(i[0],i[1])}function p(i,a){return(0,r.Wn)(i[0]-e)<r.Ho?a>0?0:3:(0,r.Wn)(i[0]-n)<r.Ho?a>0?2:1:(0,r.Wn)(i[1]-t)<r.Ho?a>0?1:0:a>0?3:2}function m(e,t){return h(e.x,t.x)}function h(e,t){var n=p(e,1),r=p(t,1);return n===r?n===0?t[1]-e[1]:n===1?e[0]-t[0]:n===2?e[1]-t[1]:t[0]-e[0]:n-r}return function(r){var p=r,h=(0,i.Z)(),g,_,v,y,b,x,S,C,w,T,E,D={point:O,lineStart:M,lineEnd:N,polygonStart:A,polygonEnd:j};function O(e,t){d(e,t)&&p.point(e,t)}function k(){for(var t=0,n=0,r=_.length;n<r;++n)for(var i=_[n],a=1,o=i.length,s=i[0],c,l,d=s[0],f=s[1];a<o;++a)c=d,l=f,s=i[a],d=s[0],f=s[1],l<=u?f>u&&(d-c)*(u-l)>(f-l)*(e-c)&&++t:f<=u&&(d-c)*(u-l)<(f-l)*(e-c)&&--t;return t}function A(){p=h,g=[],_=[],E=!0}function j(){var e=k(),t=E&&e,n=(g=(0,s.TS)(g)).length;(t||n)&&(r.polygonStart(),t&&(r.lineStart(),f(null,null,1,r),r.lineEnd()),n&&(0,o.Z)(g,m,e,f,r),r.polygonEnd()),p=r,g=_=v=null}function M(){D.point=P,_&&_.push(v=[]),T=!0,w=!1,S=C=NaN}function N(){g&&(P(y,b),x&&w&&h.rejoin(),g.push(h.result())),D.point=O,w&&p.lineEnd()}function P(r,i){var o=d(r,i);if(_&&v.push([r,i]),T)y=r,b=i,x=o,T=!1,o&&(p.lineStart(),p.point(r,i));else if(o&&w)p.point(r,i);else{var s=[S=Math.max(l,Math.min(c,S)),C=Math.max(l,Math.min(c,C))],f=[r=Math.max(l,Math.min(c,r)),i=Math.max(l,Math.min(c,i))];a(s,f,e,t,n,u)?(w||(p.lineStart(),p.point(s[0],s[1])),p.point(f[0],f[1]),o||p.lineEnd(),E=!1):o&&(p.lineStart(),p.point(r,i),E=!1)}S=r,C=i,w=o}return D}}}),46225:(function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(67108),i=n(39695);function a(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function o(e,t,n,o,c){var l=[],u=[],d,f;if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],o=e[t],s;if((0,r.Z)(n,o)){if(!n[2]&&!o[2]){for(c.lineStart(),d=0;d<t;++d)c.point((n=e[d])[0],n[1]);c.lineEnd();return}o[0]+=2*i.Ho}l.push(s=new a(n,e,null,!0)),u.push(s.o=new a(n,null,s,!1)),l.push(s=new a(o,e,null,!1)),u.push(s.o=new a(o,null,s,!0))}}),l.length){for(u.sort(t),s(l),s(u),d=0,f=u.length;d<f;++d)u[d].e=n=!n;for(var p=l[0],m,h;;){for(var g=p,_=!0;g.v;)if((g=g.n)===p)return;m=g.z,c.lineStart();do{if(g.v=g.o.v=!0,g.e){if(_)for(d=0,f=m.length;d<f;++d)c.point((h=m[d])[0],h[1]);else o(g.x,g.n.x,1,c);g=g.n}else{if(_)for(m=g.p.z,d=m.length-1;d>=0;--d)c.point((h=m[d])[0],h[1]);else o(g.x,g.p.x,-1,c);g=g.p}g=g.o,m=g.z,_=!_}while(!g.v);c.lineEnd()}}}function s(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}}),96059:(function(e,t,n){n.d(t,{Z:function(){return r}});function r(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return n=t.invert(n,r),n&&e.invert(n[0],n[1])}),n}}),8593:(function(e,t,n){n.d(t,{Z:function(){return r}});function r(e){return e}}),27362:(function(e,t,n){n.r(t),n.d(t,{geoAlbers:function(){return Je},geoAlbersUsa:function(){return Ze},geoArea:function(){return r.ZP},geoAzimuthalEqualArea:function(){return Qe.Z},geoAzimuthalEqualAreaRaw:function(){return Qe.l},geoAzimuthalEquidistant:function(){return $e.Z},geoAzimuthalEquidistantRaw:function(){return $e.N},geoBounds:function(){return i.Z},geoCentroid:function(){return a.Z},geoCircle:function(){return o.Z},geoClipAntimeridian:function(){return s.Z},geoClipCircle:function(){return c.Z},geoClipExtent:function(){return u},geoClipRectangle:function(){return l.Z},geoConicConformal:function(){return ot},geoConicConformalRaw:function(){return at},geoConicEqualArea:function(){return qe},geoConicEqualAreaRaw:function(){return Ke},geoConicEquidistant:function(){return lt},geoConicEquidistantRaw:function(){return ct},geoContains:function(){return L},geoDistance:function(){return O},geoEqualEarth:function(){return _t},geoEqualEarthRaw:function(){return gt},geoEquirectangular:function(){return st.Z},geoEquirectangularRaw:function(){return st.k},geoGnomonic:function(){return vt.Z},geoGnomonicRaw:function(){return vt.M},geoGraticule:function(){return V},geoGraticule10:function(){return H},geoIdentity:function(){return bt},geoInterpolate:function(){return U.Z},geoLength:function(){return T},geoMercator:function(){return nt},geoMercatorRaw:function(){return tt},geoNaturalEarth1:function(){return xt.Z},geoNaturalEarth1Raw:function(){return xt.K},geoOrthographic:function(){return St.Z},geoOrthographicRaw:function(){return St.I},geoPath:function(){return He},geoProjection:function(){return Ue.Z},geoProjectionMutator:function(){return Ue.r},geoRotation:function(){return et.Z},geoStereographic:function(){return Tt},geoStereographicRaw:function(){return wt},geoStream:function(){return h.Z},geoTransform:function(){return yt.Z},geoTransverseMercator:function(){return Dt},geoTransverseMercatorRaw:function(){return Et}});var r=n(97860),i=n(77338),a=n(66624),o=n(7613),s=n(87070),c=n(1457),l=n(87605);function u(){var e=0,t=0,n=960,r=500,i,a,o;return o={stream:function(o){return i&&a===o?i:i=(0,l.Z)(e,t,n,r)(a=o)},extent:function(s){return arguments.length?(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1],i=a=null,o):[[e,t],[n,r]]}}}var d=n(23071),f=n(33940),p=n(39695),m=n(73182),h=n(72736),g=(0,f.Z)(),_,v,y,b={sphere:m.Z,point:m.Z,lineStart:x,lineEnd:m.Z,polygonStart:m.Z,polygonEnd:m.Z};function x(){b.point=C,b.lineEnd=S}function S(){b.point=b.lineEnd=m.Z}function C(e,t){e*=p.uR,t*=p.uR,_=e,v=(0,p.O$)(t),y=(0,p.mC)(t),b.point=w}function w(e,t){e*=p.uR,t*=p.uR;var n=(0,p.O$)(t),r=(0,p.mC)(t),i=(0,p.Wn)(e-_),a=(0,p.mC)(i),o=r*(0,p.O$)(i),s=y*n-v*r*a,c=v*n+y*r*a;g.add((0,p.fv)((0,p._b)(o*o+s*s),c)),_=e,v=n,y=r}function T(e){return g.reset(),(0,h.Z)(e,b),+g}var E=[null,null],D={type:`LineString`,coordinates:E};function O(e,t){return E[0]=e,E[1]=t,T(D)}var k={Feature:function(e,t){return j(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(j(n[r].geometry,t))return!0;return!1}},A={Sphere:function(){return!0},Point:function(e,t){return M(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(M(n[r],t))return!0;return!1},LineString:function(e,t){return N(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(N(n[r],t))return!0;return!1},Polygon:function(e,t){return P(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(P(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(j(n[r],t))return!0;return!1}};function j(e,t){return e&&A.hasOwnProperty(e.type)?A[e.type](e,t):!1}function M(e,t){return O(e,t)===0}function N(e,t){for(var n,r,i,a=0,o=e.length;a<o;a++){if(r=O(e[a],t),r===0||a>0&&(i=O(e[a],e[a-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-((n-r)/i)**2)<p.aW*i))return!0;n=r}return!1}function P(e,t){return!!(0,d.Z)(e.map(F),I(t))}function F(e){return e=e.map(I),e.pop(),e}function I(e){return[e[0]*p.uR,e[1]*p.uR]}function L(e,t){return(e&&k.hasOwnProperty(e.type)?k[e.type]:j)(e,t)}var R=n(33064);function z(e,t,n){var r=(0,R.w6)(e,t-p.Ho,n).concat(t);return function(e){return r.map(function(t){return[e,t]})}}function B(e,t,n){var r=(0,R.w6)(e,t-p.Ho,n).concat(t);return function(e){return r.map(function(t){return[t,e]})}}function V(){var e,t,n,r,i,a,o,s,c=10,l=c,u=90,d=360,f,m,h,g,_=2.5;function v(){return{type:`MultiLineString`,coordinates:y()}}function y(){return(0,R.w6)((0,p.mD)(r/u)*u,n,u).map(h).concat((0,R.w6)((0,p.mD)(s/d)*d,o,d).map(g)).concat((0,R.w6)((0,p.mD)(t/c)*c,e,c).filter(function(e){return(0,p.Wn)(e%u)>p.Ho}).map(f)).concat((0,R.w6)((0,p.mD)(a/l)*l,i,l).filter(function(e){return(0,p.Wn)(e%d)>p.Ho}).map(m))}return v.lines=function(){return y().map(function(e){return{type:`LineString`,coordinates:e}})},v.outline=function(){return{type:`Polygon`,coordinates:[h(r).concat(g(o).slice(1),h(n).reverse().slice(1),g(s).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.extentMajor(e).extentMinor(e):v.extentMinor()},v.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],r>n&&(e=r,r=n,n=e),s>o&&(e=s,s=o,o=e),v.precision(_)):[[r,s],[n,o]]},v.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),a>i&&(n=a,a=i,i=n),v.precision(_)):[[t,a],[e,i]]},v.step=function(e){return arguments.length?v.stepMajor(e).stepMinor(e):v.stepMinor()},v.stepMajor=function(e){return arguments.length?(u=+e[0],d=+e[1],v):[u,d]},v.stepMinor=function(e){return arguments.length?(c=+e[0],l=+e[1],v):[c,l]},v.precision=function(c){return arguments.length?(_=+c,f=z(a,i,90),m=B(t,e,_),h=z(s,o,90),g=B(r,n,_),v):_},v.extentMajor([[-180,-90+p.Ho],[180,90-p.Ho]]).extentMinor([[-180,-80-p.Ho],[180,80+p.Ho]])}function H(){return V()()}var U=n(83074),W=n(8593),G=(0,f.Z)(),K=(0,f.Z)(),ee,q,J,Y,te={point:m.Z,lineStart:m.Z,lineEnd:m.Z,polygonStart:function(){te.lineStart=ne,te.lineEnd=ae},polygonEnd:function(){te.lineStart=te.lineEnd=te.point=m.Z,G.add((0,p.Wn)(K)),K.reset()},result:function(){var e=G/2;return G.reset(),e}};function ne(){te.point=re}function re(e,t){te.point=ie,ee=J=e,q=Y=t}function ie(e,t){K.add(Y*e-J*t),J=e,Y=t}function ae(){ie(ee,q)}var oe=te,se=n(3559),ce=0,le=0,ue=0,de=0,fe=0,pe=0,me=0,he=0,ge=0,_e,ve,ye,be,xe={point:Se,lineStart:Ce,lineEnd:Ee,polygonStart:function(){xe.lineStart=X,xe.lineEnd=Z},polygonEnd:function(){xe.point=Se,xe.lineStart=Ce,xe.lineEnd=Ee},result:function(){var e=ge?[me/ge,he/ge]:pe?[de/pe,fe/pe]:ue?[ce/ue,le/ue]:[NaN,NaN];return ce=le=ue=de=fe=pe=me=he=ge=0,e}};function Se(e,t){ce+=e,le+=t,++ue}function Ce(){xe.point=we}function we(e,t){xe.point=Te,Se(ye=e,be=t)}function Te(e,t){var n=e-ye,r=t-be,i=(0,p._b)(n*n+r*r);de+=i*(ye+e)/2,fe+=i*(be+t)/2,pe+=i,Se(ye=e,be=t)}function Ee(){xe.point=Se}function X(){xe.point=De}function Z(){Q(_e,ve)}function De(e,t){xe.point=Q,Se(_e=ye=e,ve=be=t)}function Q(e,t){var n=e-ye,r=t-be,i=(0,p._b)(n*n+r*r);de+=i*(ye+e)/2,fe+=i*(be+t)/2,pe+=i,i=be*e-ye*t,me+=i*(ye+e),he+=i*(be+t),ge+=i*3,Se(ye=e,be=t)}var Oe=xe;function ke(e){this._context=e}ke.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,p.BZ);break}},result:m.Z};var Ae=(0,f.Z)(),je,Me,Ne,Pe,Fe,Ie={point:m.Z,lineStart:function(){Ie.point=Le},lineEnd:function(){je&&Re(Me,Ne),Ie.point=m.Z},polygonStart:function(){je=!0},polygonEnd:function(){je=null},result:function(){var e=+Ae;return Ae.reset(),e}};function Le(e,t){Ie.point=Re,Me=Pe=e,Ne=Fe=t}function Re(e,t){Pe-=e,Fe-=t,Ae.add((0,p._b)(Pe*Pe+Fe*Fe)),Pe=e,Fe=t}var ze=Ie;function Be(){this._string=[]}Be.prototype={_radius:4.5,_circle:Ve(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push(`Z`),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push(`M`,e,`,`,t),this._point=1;break;case 1:this._string.push(`L`,e,`,`,t);break;default:this._circle??=Ve(this._radius),this._string.push(`M`,e,`,`,t,this._circle);break}},result:function(){if(this._string.length){var e=this._string.join(``);return this._string=[],e}else return null}};function Ve(e){return`m0,`+e+`a`+e+`,`+e+` 0 1,1 0,`+-2*e+`a`+e+`,`+e+` 0 1,1 0,`+2*e+`z`}function He(e,t){var n=4.5,r,i;function a(e){return e&&(typeof n==`function`&&i.pointRadius(+n.apply(this,arguments)),(0,h.Z)(e,r(i))),i.result()}return a.area=function(e){return(0,h.Z)(e,r(oe)),oe.result()},a.measure=function(e){return(0,h.Z)(e,r(ze)),ze.result()},a.bounds=function(e){return(0,h.Z)(e,r(se.Z)),se.Z.result()},a.centroid=function(e){return(0,h.Z)(e,r(Oe)),Oe.result()},a.projection=function(t){return arguments.length?(r=t==null?(e=null,W.Z):(e=t).stream,a):e},a.context=function(e){return arguments.length?(i=e==null?(t=null,new Be):new ke(t=e),typeof n!=`function`&&i.pointRadius(n),a):t},a.pointRadius=function(e){return arguments.length?(n=typeof e==`function`?e:(i.pointRadius(+e),+e),a):n},a.projection(e).context(t)}var Ue=n(15002);function We(e){var t=0,n=p.pi/3,r=(0,Ue.r)(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*p.uR,n=e[1]*p.uR):[t*p.RW,n*p.RW]},i}function Ge(e){var t=(0,p.mC)(e);function n(e,n){return[e*t,(0,p.O$)(n)/t]}return n.invert=function(e,n){return[e/t,(0,p.ZR)(n*t)]},n}function Ke(e,t){var n=(0,p.O$)(e),r=(n+(0,p.O$)(t))/2;if((0,p.Wn)(r)<p.Ho)return Ge(e);var i=1+n*(2*r-n),a=(0,p._b)(i)/r;function o(e,t){var n=(0,p._b)(i-2*r*(0,p.O$)(t))/r;return[n*(0,p.O$)(e*=r),a-n*(0,p.mC)(e)]}return o.invert=function(e,t){var n=a-t,o=(0,p.fv)(e,(0,p.Wn)(n))*(0,p.Xx)(n);return n*r<0&&(o-=p.pi*(0,p.Xx)(e)*(0,p.Xx)(n)),[o/r,(0,p.ZR)((i-(e*e+n*n)*r*r)/(2*r))]},o}function qe(){return We(Ke).scale(155.424).center([0,33.6442])}function Je(){return qe().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var Ye=n(47589);function Xe(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Ze(){var e,t,n=Je(),r,i=qe().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=qe().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,c,l={point:function(e,t){c=[e,t]}};function u(e){var t=e[0],n=e[1];return c=null,(r.point(t,n),c)||(a.point(t,n),c)||(s.point(t,n),c)}u.invert=function(e){var t=n.scale(),r=n.translate(),a=(e[0]-r[0])/t,s=(e[1]-r[1])/t;return(s>=.12&&s<.234&&a>=-.425&&a<-.214?i:s>=.166&&s<.234&&a>=-.214&&a<-.115?o:n).invert(e)},u.stream=function(r){return e&&t===r?e:e=Xe([n.stream(t=r),i.stream(r),o.stream(r)])},u.precision=function(e){return arguments.length?(n.precision(e),i.precision(e),o.precision(e),d()):n.precision()},u.scale=function(e){return arguments.length?(n.scale(e),i.scale(e*.35),o.scale(e),u.translate(n.translate())):n.scale()},u.translate=function(e){if(!arguments.length)return n.translate();var t=n.scale(),c=+e[0],u=+e[1];return r=n.translate(e).clipExtent([[c-.455*t,u-.238*t],[c+.455*t,u+.238*t]]).stream(l),a=i.translate([c-.307*t,u+.201*t]).clipExtent([[c-.425*t+p.Ho,u+.12*t+p.Ho],[c-.214*t-p.Ho,u+.234*t-p.Ho]]).stream(l),s=o.translate([c-.205*t,u+.212*t]).clipExtent([[c-.214*t+p.Ho,u+.166*t+p.Ho],[c-.115*t-p.Ho,u+.234*t-p.Ho]]).stream(l),d()},u.fitExtent=function(e,t){return(0,Ye.qg)(u,e,t)},u.fitSize=function(e,t){return(0,Ye.mF)(u,e,t)},u.fitWidth=function(e,t){return(0,Ye.V6)(u,e,t)},u.fitHeight=function(e,t){return(0,Ye.rf)(u,e,t)};function d(){return e=t=null,u}return u.scale(1070)}var Qe=n(12956),$e=n(17889),et=n(49386);function tt(e,t){return[e,(0,p.cM)((0,p.OR)((p.ou+t)/2))]}tt.invert=function(e,t){return[e,2*(0,p.z4)((0,p.Qq)(t))-p.ou]};function nt(){return rt(tt).scale(961/p.BZ)}function rt(e){var t=(0,Ue.Z)(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,o=null,s,c,l;t.scale=function(e){return arguments.length?(r(e),u()):r()},t.translate=function(e){return arguments.length?(i(e),u()):i()},t.center=function(e){return arguments.length?(n(e),u()):n()},t.clipExtent=function(e){return arguments.length?(e==null?o=s=c=l=null:(o=+e[0][0],s=+e[0][1],c=+e[1][0],l=+e[1][1]),u()):o==null?null:[[o,s],[c,l]]};function u(){var n=p.pi*r(),i=t((0,et.Z)(t.rotate()).invert([0,0]));return a(o==null?[[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]]:e===tt?[[Math.max(i[0]-n,o),s],[Math.min(i[0]+n,c),l]]:[[o,Math.max(i[1]-n,s)],[c,Math.min(i[1]+n,l)]])}return u()}function it(e){return(0,p.OR)((p.ou+e)/2)}function at(e,t){var n=(0,p.mC)(e),r=e===t?(0,p.O$)(e):(0,p.cM)(n/(0,p.mC)(t))/(0,p.cM)(it(t)/it(e)),i=n*(0,p.sQ)(it(e),r)/r;if(!r)return tt;function a(e,t){i>0?t<-p.ou+p.Ho&&(t=-p.ou+p.Ho):t>p.ou-p.Ho&&(t=p.ou-p.Ho);var n=i/(0,p.sQ)(it(t),r);return[n*(0,p.O$)(r*e),i-n*(0,p.mC)(r*e)]}return a.invert=function(e,t){var n=i-t,a=(0,p.Xx)(r)*(0,p._b)(e*e+n*n),o=(0,p.fv)(e,(0,p.Wn)(n))*(0,p.Xx)(n);return n*r<0&&(o-=p.pi*(0,p.Xx)(e)*(0,p.Xx)(n)),[o/r,2*(0,p.z4)((0,p.sQ)(i/a,1/r))-p.ou]},a}function ot(){return We(at).scale(109.5).parallels([30,30])}var st=n(97492);function ct(e,t){var n=(0,p.mC)(e),r=e===t?(0,p.O$)(e):(n-(0,p.mC)(t))/(t-e),i=n/r+e;if((0,p.Wn)(r)<p.Ho)return st.k;function a(e,t){var n=i-t,a=r*e;return[n*(0,p.O$)(a),i-n*(0,p.mC)(a)]}return a.invert=function(e,t){var n=i-t,a=(0,p.fv)(e,(0,p.Wn)(n))*(0,p.Xx)(n);return n*r<0&&(a-=p.pi*(0,p.Xx)(e)*(0,p.Xx)(n)),[a/r,i-(0,p.Xx)(r)*(0,p._b)(e*e+n*n)]},a}function lt(){return We(ct).scale(131.154).center([0,13.9389])}var ut=1.340264,dt=-.081106,ft=893e-6,pt=.003796,mt=(0,p._b)(3)/2,ht=12;function gt(e,t){var n=(0,p.ZR)(mt*(0,p.O$)(t)),r=n*n,i=r*r*r;return[e*(0,p.mC)(n)/(mt*(ut+3*dt*r+i*(7*ft+9*pt*r))),n*(ut+dt*r+i*(ft+pt*r))]}gt.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,o,s,c;a<ht&&(s=n*(ut+dt*r+i*(ft+pt*r))-t,c=ut+3*dt*r+i*(7*ft+9*pt*r),n-=o=s/c,r=n*n,i=r*r*r,!((0,p.Wn)(o)<p.aW));++a);return[mt*e*(ut+3*dt*r+i*(7*ft+9*pt*r))/(0,p.mC)(n),(0,p.ZR)((0,p.O$)(n)/mt)]};function _t(){return(0,Ue.Z)(gt).scale(177.158)}var vt=n(98936),yt=n(64684);function bt(){var e=1,t=0,n=0,r=1,i=1,a=0,o,s,c=null,u,d,f,m=1,h=1,g=(0,yt.l)({point:function(e,t){var n=x([e,t]);this.stream.point(n[0],n[1])}}),_=W.Z,v,y;function b(){return m=e*r,h=e*i,v=y=null,x}function x(e){var r=e[0]*m,i=e[1]*h;if(a){var c=i*o-r*s;r=r*o+i*s,i=c}return[r+t,i+n]}return x.invert=function(e){var r=e[0]-t,i=e[1]-n;if(a){var c=i*o+r*s;r=r*o-i*s,i=c}return[r/m,i/h]},x.stream=function(e){return v&&y===e?v:v=g(_(y=e))},x.postclip=function(e){return arguments.length?(_=e,c=u=d=f=null,b()):_},x.clipExtent=function(e){return arguments.length?(_=e==null?(c=u=d=f=null,W.Z):(0,l.Z)(c=+e[0][0],u=+e[0][1],d=+e[1][0],f=+e[1][1]),b()):c==null?null:[[c,u],[d,f]]},x.scale=function(t){return arguments.length?(e=+t,b()):e},x.translate=function(e){return arguments.length?(t=+e[0],n=+e[1],b()):[t,n]},x.angle=function(e){return arguments.length?(a=e%360*p.uR,s=(0,p.O$)(a),o=(0,p.mC)(a),b()):a*p.RW},x.reflectX=function(e){return arguments.length?(r=e?-1:1,b()):r<0},x.reflectY=function(e){return arguments.length?(i=e?-1:1,b()):i<0},x.fitExtent=function(e,t){return(0,Ye.qg)(x,e,t)},x.fitSize=function(e,t){return(0,Ye.mF)(x,e,t)},x.fitWidth=function(e,t){return(0,Ye.V6)(x,e,t)},x.fitHeight=function(e,t){return(0,Ye.rf)(x,e,t)},x}var xt=n(26867),St=n(57962),Ct=n(25382);function wt(e,t){var n=(0,p.mC)(t),r=1+(0,p.mC)(e)*n;return[n*(0,p.O$)(e)/r,(0,p.O$)(t)/r]}wt.invert=(0,Ct.O)(function(e){return 2*(0,p.z4)(e)});function Tt(){return(0,Ue.Z)(wt).scale(250).clipAngle(142)}function Et(e,t){return[(0,p.cM)((0,p.OR)((p.ou+t)/2)),-e]}Et.invert=function(e,t){return[-t,2*(0,p.z4)((0,p.Qq)(e))-p.ou]};function Dt(){var e=rt(Et),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):(e=t(),[e[1],-e[0]])},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},n([0,0,90]).scale(159.155)}}),83074:(function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(39695);function i(e,t){var n=e[0]*r.uR,i=e[1]*r.uR,a=t[0]*r.uR,o=t[1]*r.uR,s=(0,r.mC)(i),c=(0,r.O$)(i),l=(0,r.mC)(o),u=(0,r.O$)(o),d=s*(0,r.mC)(n),f=s*(0,r.O$)(n),p=l*(0,r.mC)(a),m=l*(0,r.O$)(a),h=2*(0,r.ZR)((0,r._b)((0,r.Jy)(o-i)+s*l*(0,r.Jy)(a-n))),g=(0,r.O$)(h),_=h?function(e){var t=(0,r.O$)(e*=h)/g,n=(0,r.O$)(h-e)/g,i=n*d+t*p,a=n*f+t*m,o=n*c+t*u;return[(0,r.fv)(a,i)*r.RW,(0,r.fv)(o,(0,r._b)(i*i+a*a))*r.RW]}:function(){return[n*r.RW,i*r.RW]};return _.distance=h,_}}),39695:(function(e,t,n){n.d(t,{BZ:function(){return c},Ho:function(){return r},Jy:function(){return T},Kh:function(){return C},O$:function(){return y},OR:function(){return S},Qq:function(){return g},RW:function(){return l},Wn:function(){return d},Xx:function(){return b},ZR:function(){return w},_b:function(){return x},aW:function(){return i},cM:function(){return _},fv:function(){return p},mC:function(){return m},mD:function(){return h},ou:function(){return o},pi:function(){return a},pu:function(){return s},sQ:function(){return v},uR:function(){return u},z4:function(){return f}});var r=1e-6,i=1e-12,a=Math.PI,o=a/2,s=a/4,c=a*2,l=180/a,u=a/180,d=Math.abs,f=Math.atan,p=Math.atan2,m=Math.cos,h=Math.ceil,g=Math.exp;Math.floor;var _=Math.log,v=Math.pow,y=Math.sin,b=Math.sign||function(e){return e>0?1:e<0?-1:0},x=Math.sqrt,S=Math.tan;function C(e){return e>1?0:e<-1?a:Math.acos(e)}function w(e){return e>1?o:e<-1?-o:Math.asin(e)}function T(e){return(e=y(e/2))*e}}),73182:(function(e,t,n){n.d(t,{Z:function(){return r}});function r(){}}),3559:(function(e,t,n){var r=n(73182),i=1/0,a=i,o=-i,s=o,c={point:l,lineStart:r.Z,lineEnd:r.Z,polygonStart:r.Z,polygonEnd:r.Z,result:function(){var e=[[i,a],[o,s]];return o=s=-(a=i=1/0),e}};function l(e,t){e<i&&(i=e),e>o&&(o=e),t<a&&(a=t),t>s&&(s=t)}t.Z=c}),67108:(function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(39695);function i(e,t){return(0,r.Wn)(e[0]-t[0])<r.Ho&&(0,r.Wn)(e[1]-t[1])<r.Ho}}),23071:(function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(33940),i=n(7620),a=n(39695),o=(0,r.Z)();function s(e){return(0,a.Wn)(e[0])<=a.pi?e[0]:(0,a.Xx)(e[0])*(((0,a.Wn)(e[0])+a.pi)%a.BZ-a.pi)}function c(e,t){var n=s(t),r=t[1],c=(0,a.O$)(r),l=[(0,a.O$)(n),-(0,a.mC)(n),0],u=0,d=0;o.reset(),c===1?r=a.ou+a.Ho:c===-1&&(r=-a.ou-a.Ho);for(var f=0,p=e.length;f<p;++f)if(h=(m=e[f]).length)for(var m,h,g=m[h-1],_=s(g),v=g[1]/2+a.pu,y=(0,a.O$)(v),b=(0,a.mC)(v),x=0;x<h;++x,_=C,y=T,b=E,g=S){var S=m[x],C=s(S),w=S[1]/2+a.pu,T=(0,a.O$)(w),E=(0,a.mC)(w),D=C-_,O=D>=0?1:-1,k=O*D,A=k>a.pi,j=y*T;if(o.add((0,a.fv)(j*O*(0,a.O$)(k),b*E+j*(0,a.mC)(k))),u+=A?D+O*a.BZ:D,A^_>=n^C>=n){var M=(0,i.T5)((0,i.Og)(g),(0,i.Og)(S));(0,i.iJ)(M);var N=(0,i.T5)(l,M);(0,i.iJ)(N);var P=(A^D>=0?-1:1)*(0,a.ZR)(N[2]);(r>P||r===P&&(M[0]||M[1]))&&(d+=A^D>=0?1:-1)}}return(u<-a.Ho||u<a.Ho&&o<-a.Ho)^d&1}}),25382:(function(e,t,n){n.d(t,{O:function(){return a},W:function(){return i}});var r=n(39695);function i(e){return function(t,n){var i=(0,r.mC)(t),a=(0,r.mC)(n),o=e(i*a);return[o*a*(0,r.O$)(t),o*(0,r.O$)(n)]}}function a(e){return function(t,n){var i=(0,r._b)(t*t+n*n),a=e(i),o=(0,r.O$)(a),s=(0,r.mC)(a);return[(0,r.fv)(t*o,i*s),(0,r.ZR)(i&&n*o/i)]}}}),12956:(function(e,t,n){n.d(t,{Z:function(){return s},l:function(){return o}});var r=n(39695),i=n(25382),a=n(15002),o=(0,i.W)(function(e){return(0,r._b)(2/(1+e))});o.invert=(0,i.O)(function(e){return 2*(0,r.ZR)(e/2)});function s(){return(0,a.Z)(o).scale(124.75).clipAngle(179.999)}}),17889:(function(e,t,n){n.d(t,{N:function(){return o},Z:function(){return s}});var r=n(39695),i=n(25382),a=n(15002),o=(0,i.W)(function(e){return(e=(0,r.Kh)(e))&&e/(0,r.O$)(e)});o.invert=(0,i.O)(function(e){return e});function s(){return(0,a.Z)(o).scale(79.4188).clipAngle(179.999)}}),97492:(function(e,t,n){n.d(t,{Z:function(){return a},k:function(){return i}});var r=n(15002);function i(e,t){return[e,t]}i.invert=i;function a(){return(0,r.Z)(i).scale(152.63)}}),47589:(function(e,t,n){n.d(t,{V6:function(){return c},mF:function(){return s},qg:function(){return o},rf:function(){return l}});var r=n(72736),i=n(3559);function a(e,t,n){var a=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),a!=null&&e.clipExtent(null),(0,r.Z)(n,e.stream(i.Z)),t(i.Z.result()),a!=null&&e.clipExtent(a),e}function o(e,t,n){return a(e,function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,s])},n)}function s(e,t,n){return o(e,[[0,0],t],n)}function c(e,t,n){return a(e,function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];e.scale(150*i).translate([a,o])},n)}function l(e,t,n){return a(e,function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,o])},n)}}),98936:(function(e,t,n){n.d(t,{M:function(){return o},Z:function(){return s}});var r=n(39695),i=n(25382),a=n(15002);function o(e,t){var n=(0,r.mC)(t),i=(0,r.mC)(e)*n;return[n*(0,r.O$)(e)/i,(0,r.O$)(t)/i]}o.invert=(0,i.O)(r.z4);function s(){return(0,a.Z)(o).scale(144.049).clipAngle(60)}}),15002:(function(e,t,n){n.d(t,{Z:function(){return S},r:function(){return C}});var r=n(87070),i=n(1457),a=n(87605),o=n(96059),s=n(8593),c=n(39695),l=n(49386),u=n(64684),d=n(47589),f=n(7620),p=16,m=(0,c.mC)(30*c.uR);function h(e,t){return+t?_(e,t):g(e)}function g(e){return(0,u.l)({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function _(e,t){function n(r,i,a,o,s,l,u,d,f,p,h,g,_,v){var y=u-r,b=d-i,x=y*y+b*b;if(x>4*t&&_--){var S=o+p,C=s+h,w=l+g,T=(0,c._b)(S*S+C*C+w*w),E=(0,c.ZR)(w/=T),D=(0,c.Wn)((0,c.Wn)(w)-1)<c.Ho||(0,c.Wn)(a-f)<c.Ho?(a+f)/2:(0,c.fv)(C,S),O=e(D,E),k=O[0],A=O[1],j=k-r,M=A-i,N=b*j-y*M;(N*N/x>t||(0,c.Wn)((y*j+b*M)/x-.5)>.3||o*p+s*h+l*g<m)&&(n(r,i,a,o,s,l,k,A,D,S/=T,C/=T,w,_,v),v.point(k,A),n(k,A,D,S,C,w,u,d,f,p,h,g,_,v))}}return function(t){var r,i,a,o,s,c,l,u,d,m,h,g,_={point:v,lineStart:y,lineEnd:x,polygonStart:function(){t.polygonStart(),_.lineStart=S},polygonEnd:function(){t.polygonEnd(),_.lineStart=y}};function v(n,r){n=e(n,r),t.point(n[0],n[1])}function y(){u=NaN,_.point=b,t.lineStart()}function b(r,i){var a=(0,f.Og)([r,i]),o=e(r,i);n(u,d,l,m,h,g,u=o[0],d=o[1],l=r,m=a[0],h=a[1],g=a[2],p,t),t.point(u,d)}function x(){_.point=v,t.lineEnd()}function S(){y(),_.point=C,_.lineEnd=w}function C(e,t){b(r=e,t),i=u,a=d,o=m,s=h,c=g,_.point=b}function w(){n(u,d,l,m,h,g,i,a,r,o,s,c,p,t),_.lineEnd=x,x()}return _}}var v=(0,u.l)({point:function(e,t){this.stream.point(e*c.uR,t*c.uR)}});function y(e){return(0,u.l)({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function b(e,t,n,r,i){function a(a,o){return a*=r,o*=i,[t+e*a,n-e*o]}return a.invert=function(a,o){return[(a-t)/e*r,(n-o)/e*i]},a}function x(e,t,n,r,i,a){var o=(0,c.mC)(a),s=(0,c.O$)(a),l=o*e,u=s*e,d=o/e,f=s/e,p=(s*n-o*t)/e,m=(s*t+o*n)/e;function h(e,a){return e*=r,a*=i,[l*e-u*a+t,n-u*e-l*a]}return h.invert=function(e,t){return[r*(d*e-f*t+p),i*(m-f*e-d*t)]},h}function S(e){return C(function(){return e})()}function C(e){var t,n=150,u=480,f=250,p=0,m=0,g=0,_=0,S=0,C,w=0,T=1,E=1,D=null,O=r.Z,k=null,A,j,M,N=s.Z,P=.5,F,I,L,R,z;function B(e){return L(e[0]*c.uR,e[1]*c.uR)}function V(e){return e=L.invert(e[0],e[1]),e&&[e[0]*c.RW,e[1]*c.RW]}B.stream=function(e){return R&&z===e?R:R=v(y(C)(O(F(N(z=e)))))},B.preclip=function(e){return arguments.length?(O=e,D=void 0,U()):O},B.postclip=function(e){return arguments.length?(N=e,k=A=j=M=null,U()):N},B.clipAngle=function(e){return arguments.length?(O=+e?(0,i.Z)(D=e*c.uR):(D=null,r.Z),U()):D*c.RW},B.clipExtent=function(e){return arguments.length?(N=e==null?(k=A=j=M=null,s.Z):(0,a.Z)(k=+e[0][0],A=+e[0][1],j=+e[1][0],M=+e[1][1]),U()):k==null?null:[[k,A],[j,M]]},B.scale=function(e){return arguments.length?(n=+e,H()):n},B.translate=function(e){return arguments.length?(u=+e[0],f=+e[1],H()):[u,f]},B.center=function(e){return arguments.length?(p=e[0]%360*c.uR,m=e[1]%360*c.uR,H()):[p*c.RW,m*c.RW]},B.rotate=function(e){return arguments.length?(g=e[0]%360*c.uR,_=e[1]%360*c.uR,S=e.length>2?e[2]%360*c.uR:0,H()):[g*c.RW,_*c.RW,S*c.RW]},B.angle=function(e){return arguments.length?(w=e%360*c.uR,H()):w*c.RW},B.reflectX=function(e){return arguments.length?(T=e?-1:1,H()):T<0},B.reflectY=function(e){return arguments.length?(E=e?-1:1,H()):E<0},B.precision=function(e){return arguments.length?(F=h(I,P=e*e),U()):(0,c._b)(P)},B.fitExtent=function(e,t){return(0,d.qg)(B,e,t)},B.fitSize=function(e,t){return(0,d.mF)(B,e,t)},B.fitWidth=function(e,t){return(0,d.V6)(B,e,t)},B.fitHeight=function(e,t){return(0,d.rf)(B,e,t)};function H(){var e=x(n,0,0,T,E,w).apply(null,t(p,m)),r=(w?x:b)(n,u-e[0],f-e[1],T,E,w);return C=(0,l.I)(g,_,S),I=(0,o.Z)(t,r),L=(0,o.Z)(C,I),F=h(I,P),U()}function U(){return R=z=null,B}return function(){return t=e.apply(this,arguments),B.invert=t.invert&&V,H()}}}),26867:(function(e,t,n){n.d(t,{K:function(){return a},Z:function(){return o}});var r=n(15002),i=n(39695);function a(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}a.invert=function(e,t){var n=t,r=25,a;do{var o=n*n,s=o*o;n-=a=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while((0,i.Wn)(a)>i.Ho&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function o(){return(0,r.Z)(a).scale(175.295)}}),57962:(function(e,t,n){n.d(t,{I:function(){return o},Z:function(){return s}});var r=n(39695),i=n(25382),a=n(15002);function o(e,t){return[(0,r.mC)(t)*(0,r.O$)(e),(0,r.O$)(t)]}o.invert=(0,i.O)(r.ZR);function s(){return(0,a.Z)(o).scale(249.5).clipAngle(90+r.Ho)}}),49386:(function(e,t,n){n.d(t,{I:function(){return o},Z:function(){return u}});var r=n(96059),i=n(39695);function a(e,t){return[(0,i.Wn)(e)>i.pi?e+Math.round(-e/i.BZ)*i.BZ:e,t]}a.invert=a;function o(e,t,n){return(e%=i.BZ)?t||n?(0,r.Z)(c(e),l(t,n)):c(e):t||n?l(t,n):a}function s(e){return function(t,n){return t+=e,[t>i.pi?t-i.BZ:t<-i.pi?t+i.BZ:t,n]}}function c(e){var t=s(e);return t.invert=s(-e),t}function l(e,t){var n=(0,i.mC)(e),r=(0,i.O$)(e),a=(0,i.mC)(t),o=(0,i.O$)(t);function s(e,t){var s=(0,i.mC)(t),c=(0,i.mC)(e)*s,l=(0,i.O$)(e)*s,u=(0,i.O$)(t),d=u*n+c*r;return[(0,i.fv)(l*a-d*o,c*n-u*r),(0,i.ZR)(d*a+l*o)]}return s.invert=function(e,t){var s=(0,i.mC)(t),c=(0,i.mC)(e)*s,l=(0,i.O$)(e)*s,u=(0,i.O$)(t),d=u*a-l*o;return[(0,i.fv)(l*a+u*o,c*n+d*r),(0,i.ZR)(d*n-c*r)]},s}function u(e){e=o(e[0]*i.uR,e[1]*i.uR,e.length>2?e[2]*i.uR:0);function t(t){return t=e(t[0]*i.uR,t[1]*i.uR),t[0]*=i.RW,t[1]*=i.RW,t}return t.invert=function(t){return t=e.invert(t[0]*i.uR,t[1]*i.uR),t[0]*=i.RW,t[1]*=i.RW,t},t}}),72736:(function(e,t,n){n.d(t,{Z:function(){return c}});function r(e,t){e&&a.hasOwnProperty(e.type)&&a[e.type](e,t)}var i={Feature:function(e,t){r(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,a=n.length;++i<a;)r(n[i].geometry,t)}},a={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){o(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)o(n[r],t,0)},Polygon:function(e,t){s(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)s(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,a=n.length;++i<a;)r(n[i],t)}};function o(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function s(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)o(e[n],t,1);t.polygonEnd()}function c(e,t){e&&i.hasOwnProperty(e.type)?i[e.type](e,t):r(e,t)}}),64684:(function(e,t,n){n.d(t,{Z:function(){return r},l:function(){return i}});function r(e){return{stream:i(e)}}function i(e){return function(t){var n=new a;for(var r in e)n[r]=e[r];return n.stream=t,n}}function a(){}a.prototype={constructor:a,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}}),674:(function(e,t,n){n.r(t),n.d(t,{cluster:function(){return u},hierarchy:function(){return w},pack:function(){return ne},packEnclose:function(){return M},packSiblings:function(){return K},partition:function(){return ce},stratify:function(){return me},tree:function(){return Ce},treemap:function(){return Z},treemapBinary:function(){return De},treemapDice:function(){return se},treemapResquarify:function(){return Oe},treemapSlice:function(){return we},treemapSliceDice:function(){return Q},treemapSquarify:function(){return X}});function r(e,t){return e.parent===t.parent?1:2}function i(e){return e.reduce(a,0)/e.length}function a(e,t){return e+t.x}function o(e){return 1+e.reduce(s,0)}function s(e,t){return Math.max(e,t.y)}function c(e){for(var t;t=e.children;)e=t[0];return e}function l(e){for(var t;t=e.children;)e=t[t.length-1];return e}function u(){var e=r,t=1,n=1,a=!1;function s(r){var s,u=0;r.eachAfter(function(t){var n=t.children;n?(t.x=i(n),t.y=o(n)):(t.x=s?u+=e(t,s):0,t.y=0,s=t)});var d=c(r),f=l(r),p=d.x-e(d,f)/2,m=f.x+e(f,d)/2;return r.eachAfter(a?function(e){e.x=(e.x-r.x)*t,e.y=(r.y-e.y)*n}:function(e){e.x=(e.x-p)/(m-p)*t,e.y=(1-(r.y?e.y/r.y:1))*n})}return s.separation=function(t){return arguments.length?(e=t,s):e},s.size=function(e){return arguments.length?(a=!1,t=+e[0],n=+e[1],s):a?null:[t,n]},s.nodeSize=function(e){return arguments.length?(a=!0,t=+e[0],n=+e[1],s):a?[t,n]:null},s}function d(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function f(){return this.eachAfter(d)}function p(e){var t=this,n,r=[t],i,a,o;do for(n=r.reverse(),r=[];t=n.pop();)if(e(t),i=t.children,i)for(a=0,o=i.length;a<o;++a)r.push(i[a]);while(r.length);return this}function m(e){for(var t=this,n=[t],r,i;t=n.pop();)if(e(t),r=t.children,r)for(i=r.length-1;i>=0;--i)n.push(r[i]);return this}function h(e){for(var t=this,n=[t],r=[],i,a,o;t=n.pop();)if(r.push(t),i=t.children,i)for(a=0,o=i.length;a<o;++a)n.push(i[a]);for(;t=r.pop();)e(t);return this}function g(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function _(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function v(e){for(var t=this,n=y(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function y(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function b(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function x(){var e=[];return this.each(function(t){e.push(t)}),e}function S(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function C(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function w(e,t){var n=new k(e),r=+e.value&&(n.value=e.value),i,a=[n],o,s,c,l;for(t??=E;i=a.pop();)if(r&&(i.value=+i.data.value),(s=t(i.data))&&(l=s.length))for(i.children=Array(l),c=l-1;c>=0;--c)a.push(o=i.children[c]=new k(s[c])),o.parent=i,o.depth=i.depth+1;return n.eachBefore(O)}function T(){return w(this).eachBefore(D)}function E(e){return e.children}function D(e){e.data=e.data.data}function O(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function k(e){this.data=e,this.depth=this.height=0,this.parent=null}k.prototype=w.prototype={constructor:k,count:f,each:p,eachAfter:h,eachBefore:m,sum:g,sort:_,path:v,ancestors:b,descendants:x,leaves:S,links:C,copy:T};var A=Array.prototype.slice;function j(e){for(var t=e.length,n,r;t;)r=Math.random()*t--|0,n=e[t],e[t]=e[r],e[r]=n;return e}function M(e){for(var t=0,n=(e=j(A.call(e))).length,r=[],i,a;t<n;)i=e[t],a&&F(a,i)?++t:(a=L(r=N(r,i)),t=0);return a}function N(e,t){var n,r;if(I(t,e))return[t];for(n=0;n<e.length;++n)if(P(t,e[n])&&I(z(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(P(z(e[n],e[r]),t)&&P(z(e[n],t),e[r])&&P(z(e[r],t),e[n])&&I(B(e[n],e[r],t),e))return[e[n],e[r],t];throw Error()}function P(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function F(e,t){var n=e.r-t.r+1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function I(e,t){for(var n=0;n<t.length;++n)if(!F(e,t[n]))return!1;return!0}function L(e){switch(e.length){case 1:return R(e[0]);case 2:return z(e[0],e[1]);case 3:return B(e[0],e[1],e[2])}}function R(e){return{x:e.x,y:e.y,r:e.r}}function z(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,s=t.r,c=a-n,l=o-r,u=s-i,d=Math.sqrt(c*c+l*l);return{x:(n+a+c/d*u)/2,y:(r+o+l/d*u)/2,r:(d+i+s)/2}}function B(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,s=t.y,c=t.r,l=n.x,u=n.y,d=n.r,f=r-o,p=r-l,m=i-s,h=i-u,g=c-a,_=d-a,v=r*r+i*i-a*a,y=v-o*o-s*s+c*c,b=v-l*l-u*u+d*d,x=p*m-f*h,S=(m*b-h*y)/(x*2)-r,C=(h*g-m*_)/x,w=(p*y-f*b)/(x*2)-i,T=(f*_-p*g)/x,E=C*C+T*T-1,D=2*(a+S*C+w*T),O=S*S+w*w-a*a,k=-(E?(D+Math.sqrt(D*D-4*E*O))/(2*E):O/D);return{x:r+S+C*k,y:i+w+T*k,r:k}}function V(e,t,n){var r=e.x-t.x,i,a,o=e.y-t.y,s,c,l=r*r+o*o;l?(a=t.r+n.r,a*=a,c=e.r+n.r,c*=c,a>c?(i=(l+c-a)/(2*l),s=Math.sqrt(Math.max(0,c/l-i*i)),n.x=e.x-i*r-s*o,n.y=e.y-i*o+s*r):(i=(l+a-c)/(2*l),s=Math.sqrt(Math.max(0,a/l-i*i)),n.x=t.x+i*r-s*o,n.y=t.y+i*o+s*r)):(n.x=t.x+n.r,n.y=t.y)}function H(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function U(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function W(e){this._=e,this.next=null,this.previous=null}function G(e){if(!(i=e.length))return 0;var t=e[0],n,r,i,a,o,s,c,l,u,d;if(t.x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;V(n,t,r=e[2]),t=new W(t),n=new W(n),r=new W(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;pack:for(s=3;s<i;++s){V(t._,n._,r=e[s]),r=new W(r),c=n.next,l=t.previous,u=n._.r,d=t._.r;do if(u<=d){if(H(c._,r._)){n=c,t.next=n,n.previous=t,--s;continue pack}u+=c._.r,c=c.next}else{if(H(l._,r._)){t=l,t.next=n,n.previous=t,--s;continue pack}d+=l._.r,l=l.previous}while(c!==l.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,a=U(t);(r=r.next)!==n;)(o=U(r))<a&&(t=r,a=o);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=M(t),s=0;s<i;++s)t=e[s],t.x-=r.x,t.y-=r.y;return r.r}function K(e){return G(e),e}function ee(e){return e==null?null:q(e)}function q(e){if(typeof e!=`function`)throw Error();return e}function J(){return 0}function Y(e){return function(){return e}}function te(e){return Math.sqrt(e.value)}function ne(){var e=null,t=1,n=1,r=J;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore(re(e)).eachAfter(ie(r,.5)).eachBefore(ae(1)):i.eachBefore(re(te)).eachAfter(ie(J,1)).eachAfter(ie(r,i.r/Math.min(t,n))).eachBefore(ae(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=ee(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r=typeof e==`function`?e:Y(+e),i):r},i}function re(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function ie(e,t){return function(n){if(r=n.children){var r,i,a=r.length,o=e(n)*t||0,s;if(o)for(i=0;i<a;++i)r[i].r+=o;if(s=G(r),o)for(i=0;i<a;++i)r[i].r-=o;n.r=s+o}}}function ae(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function oe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function se(e,t,n,r,i){for(var a=e.children,o,s=-1,c=a.length,l=e.value&&(r-t)/e.value;++s<c;)o=a[s],o.y0=n,o.y1=i,o.x0=t,o.x1=t+=o.value*l}function ce(){var e=1,t=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/o,i.eachBefore(a(t,o)),r&&i.eachBefore(oe),i}function a(e,t){return function(r){r.children&&se(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,a=r.y0,o=r.x1-n,s=r.y1-n;o<i&&(i=o=(i+o)/2),s<a&&(a=s=(a+s)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=s}}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i}var le=`$`,ue={depth:-1},de={};function fe(e){return e.id}function pe(e){return e.parentId}function me(){var e=fe,t=pe;function n(n){var r,i,a=n.length,o,s,c,l=Array(a),u,d,f={};for(i=0;i<a;++i)r=n[i],c=l[i]=new k(r),(u=e(r,i,n))!=null&&(u+=``)&&(d=le+(c.id=u),f[d]=d in f?de:c);for(i=0;i<a;++i)if(c=l[i],u=t(n[i],i,n),u==null||!(u+=``)){if(o)throw Error(`multiple roots`);o=c}else{if(s=f[le+u],!s)throw Error(`missing: `+u);if(s===de)throw Error(`ambiguous: `+u);s.children?s.children.push(c):s.children=[c],c.parent=s}if(!o)throw Error(`no root`);if(o.parent=ue,o.eachBefore(function(e){e.depth=e.parent.depth+1,--a}).eachBefore(O),o.parent=null,a>0)throw Error(`cycle`);return o}return n.id=function(t){return arguments.length?(e=q(t),n):e},n.parentId=function(e){return arguments.length?(t=q(e),n):t},n}function he(e,t){return e.parent===t.parent?1:2}function ge(e){var t=e.children;return t?t[0]:e.t}function _e(e){var t=e.children;return t?t[t.length-1]:e.t}function ve(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function ye(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function be(e,t,n){return e.a.parent===t.parent?e.a:n}function xe(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}xe.prototype=Object.create(k.prototype);function Se(e){for(var t=new xe(e,0),n,r=[t],i,a,o,s;n=r.pop();)if(a=n._.children)for(n.children=Array(s=a.length),o=s-1;o>=0;--o)r.push(i=n.children[o]=new xe(a[o],o)),i.parent=n;return(t.parent=new xe(null,0)).children=[t],t}function Ce(){var e=he,t=1,n=1,r=null;function i(i){var s=Se(i);if(s.eachAfter(a),s.parent.m=-s.z,s.eachBefore(o),r)i.eachBefore(c);else{var l=i,u=i,d=i;i.eachBefore(function(e){e.x<l.x&&(l=e),e.x>u.x&&(u=e),e.depth>d.depth&&(d=e)});var f=l===u?1:e(l,u)/2,p=f-l.x,m=t/(u.x+f+p),h=n/(d.depth||1);i.eachBefore(function(e){e.x=(e.x+p)*m,e.y=e.depth*h})}return i}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){ye(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=s(t,i,t.parent.A||r[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function s(t,n,r){if(n){for(var i=t,a=t,o=n,s=i.parent.children[0],c=i.m,l=a.m,u=o.m,d=s.m,f;o=_e(o),i=ge(i),o&&i;)s=ge(s),a=_e(a),a.a=t,f=o.z+u-i.z-c+e(o._,i._),f>0&&(ve(be(o,t,r),t,f),c+=f,l+=f),u+=o.m,c+=i.m,d+=s.m,l+=a.m;o&&!_e(a)&&(a.t=o,a.m+=u-l),i&&!ge(s)&&(s.t=i,s.m+=c-d,r=t)}return r}function c(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}function we(e,t,n,r,i){for(var a=e.children,o,s=-1,c=a.length,l=e.value&&(i-n)/e.value;++s<c;)o=a[s],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*l}var Te=(1+Math.sqrt(5))/2;function Ee(e,t,n,r,i,a){for(var o=[],s=t.children,c,l,u=0,d=0,f=s.length,p,m,h=t.value,g,_,v,y,b,x,S;u<f;){p=i-n,m=a-r;do g=s[d++].value;while(!g&&d<f);for(_=v=g,x=Math.max(m/p,p/m)/(h*e),S=g*g*x,b=Math.max(v/S,S/_);d<f;++d){if(g+=l=s[d].value,l<_&&(_=l),l>v&&(v=l),S=g*g*x,y=Math.max(v/S,S/_),y>b){g-=l;break}b=y}o.push(c={value:g,dice:p<m,children:s.slice(u,d)}),c.dice?se(c,n,r,i,h?r+=m*g/h:a):we(c,n,r,h?n+=p*g/h:i,a),h-=g,u=d}return o}var X=(function e(t){function n(e,n,r,i,a){Ee(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n})(Te);function Z(){var e=X,t=!1,n=1,r=1,i=[0],a=J,o=J,s=J,c=J,l=J;function u(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(d),i=[0],t&&e.eachBefore(oe),e}function d(t){var n=i[t.depth],r=t.x0+n,u=t.y0+n,d=t.x1-n,f=t.y1-n;d<r&&(r=d=(r+d)/2),f<u&&(u=f=(u+f)/2),t.x0=r,t.y0=u,t.x1=d,t.y1=f,t.children&&(n=i[t.depth+1]=a(t)/2,r+=l(t)-n,u+=o(t)-n,d-=s(t)-n,f-=c(t)-n,d<r&&(r=d=(r+d)/2),f<u&&(u=f=(u+f)/2),e(t,r,u,d,f))}return u.round=function(e){return arguments.length?(t=!!e,u):t},u.size=function(e){return arguments.length?(n=+e[0],r=+e[1],u):[n,r]},u.tile=function(t){return arguments.length?(e=q(t),u):e},u.padding=function(e){return arguments.length?u.paddingInner(e).paddingOuter(e):u.paddingInner()},u.paddingInner=function(e){return arguments.length?(a=typeof e==`function`?e:Y(+e),u):a},u.paddingOuter=function(e){return arguments.length?u.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):u.paddingTop()},u.paddingTop=function(e){return arguments.length?(o=typeof e==`function`?e:Y(+e),u):o},u.paddingRight=function(e){return arguments.length?(s=typeof e==`function`?e:Y(+e),u):s},u.paddingBottom=function(e){return arguments.length?(c=typeof e==`function`?e:Y(+e),u):c},u.paddingLeft=function(e){return arguments.length?(l=typeof e==`function`?e:Y(+e),u):l},u}function De(e,t,n,r,i){var a=e.children,o,s=a.length,c,l=Array(s+1);for(l[0]=c=o=0;o<s;++o)l[o+1]=c+=a[o].value;u(0,s,e.value,t,n,r,i);function u(e,t,n,r,i,o,s){if(e>=t-1){var c=a[e];c.x0=r,c.y0=i,c.x1=o,c.y1=s;return}for(var d=l[e],f=n/2+d,p=e+1,m=t-1;p<m;){var h=p+m>>>1;l[h]<f?p=h+1:m=h}f-l[p-1]<l[p]-f&&e+1<p&&--p;var g=l[p]-d,_=n-g;if(o-r>s-i){var v=(r*_+o*g)/n;u(e,p,g,r,i,v,s),u(p,t,_,v,i,o,s)}else{var y=(i*_+s*g)/n;u(e,p,g,r,i,o,y),u(p,t,_,r,y,o,s)}}}function Q(e,t,n,r,i){(e.depth&1?we:se)(e,t,n,r,i)}var Oe=(function e(t){function n(e,n,r,i,a){if((o=e._squarify)&&o.ratio===t)for(var o,s,c,l,u=-1,d,f=o.length,p=e.value;++u<f;){for(s=o[u],c=s.children,l=s.value=0,d=c.length;l<d;++l)s.value+=c[l].value;s.dice?se(s,n,r,i,r+=(a-r)*s.value/p):we(s,n,r,n+=(i-n)*s.value/p,a),p-=s.value}else e._squarify=o=Ee(t,e,n,r,i,a),o.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n})(Te)}),45879:(function(e,t,n){n.d(t,{h5:function(){return v}});var r=Math.PI,i=2*r,a=1e-6,o=i-a;function s(){this._x0=this._y0=this._x1=this._y1=null,this._=``}function c(){return new s}s.prototype=c.prototype={constructor:s,moveTo:function(e,t){this._+=`M`+(this._x0=this._x1=+e)+`,`+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+=`Z`)},lineTo:function(e,t){this._+=`L`+(this._x1=+e)+`,`+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+=`Q`+ +e+`,`+ +t+`,`+(this._x1=+n)+`,`+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+=`C`+ +e+`,`+ +t+`,`+ +n+`,`+ +r+`,`+(this._x1=+i)+`,`+(this._y1=+a)},arcTo:function(e,t,n,i,o){e=+e,t=+t,n=+n,i=+i,o=+o;var s=this._x1,c=this._y1,l=n-e,u=i-t,d=s-e,f=c-t,p=d*d+f*f;if(o<0)throw Error(`negative radius: `+o);if(this._x1===null)this._+=`M`+(this._x1=e)+`,`+(this._y1=t);else if(p>a)if(!(Math.abs(f*l-u*d)>a)||!o)this._+=`L`+(this._x1=e)+`,`+(this._y1=t);else{var m=n-s,h=i-c,g=l*l+u*u,_=m*m+h*h,v=Math.sqrt(g),y=Math.sqrt(p),b=o*Math.tan((r-Math.acos((g+p-_)/(2*v*y)))/2),x=b/y,S=b/v;Math.abs(x-1)>a&&(this._+=`L`+(e+x*d)+`,`+(t+x*f)),this._+=`A`+o+`,`+o+`,0,0,`+ +(f*m>d*h)+`,`+(this._x1=e+S*l)+`,`+(this._y1=t+S*u)}},arc:function(e,t,n,s,c,l){e=+e,t=+t,n=+n,l=!!l;var u=n*Math.cos(s),d=n*Math.sin(s),f=e+u,p=t+d,m=1^l,h=l?s-c:c-s;if(n<0)throw Error(`negative radius: `+n);this._x1===null?this._+=`M`+f+`,`+p:(Math.abs(this._x1-f)>a||Math.abs(this._y1-p)>a)&&(this._+=`L`+f+`,`+p),n&&(h<0&&(h=h%i+i),h>o?this._+=`A`+n+`,`+n+`,0,1,`+m+`,`+(e-u)+`,`+(t-d)+`A`+n+`,`+n+`,0,1,`+m+`,`+(this._x1=f)+`,`+(this._y1=p):h>a&&(this._+=`A`+n+`,`+n+`,0,`+ +(h>=r)+`,`+m+`,`+(this._x1=e+n*Math.cos(c))+`,`+(this._y1=t+n*Math.sin(c))))},rect:function(e,t,n,r){this._+=`M`+(this._x0=this._x1=+e)+`,`+(this._y0=this._y1=+t)+`h`+ +n+`v`+ +r+`h`+-n+`Z`},toString:function(){return this._}};var l=c,u=Array.prototype.slice;function d(e){return function(){return e}}function f(e){return e[0]}function p(e){return e[1]}function m(e){return e.source}function h(e){return e.target}function g(e){var t=m,n=h,r=f,i=p,a=null;function o(){var o,s=u.call(arguments),c=t.apply(this,s),d=n.apply(this,s);if(a||=o=l(),e(a,+r.apply(this,(s[0]=c,s)),+i.apply(this,s),+r.apply(this,(s[0]=d,s)),+i.apply(this,s)),o)return a=null,o+``||null}return o.source=function(e){return arguments.length?(t=e,o):t},o.target=function(e){return arguments.length?(n=e,o):n},o.x=function(e){return arguments.length?(r=typeof e==`function`?e:d(+e),o):r},o.y=function(e){return arguments.length?(i=typeof e==`function`?e:d(+e),o):i},o.context=function(e){return arguments.length?(a=e??null,o):a},o}function _(e,t,n,r,i){e.moveTo(t,n),e.bezierCurveTo(t=(t+r)/2,n,t,i,r,i)}function v(){return g(_)}}),84096:(function(e,t,n){n.d(t,{i$:function(){return De},Dq:function(){return f},g0:function(){return Q}});var r=n(58176),i=n(48480),a=n(59879),o=n(82301),s=n(34823),c=n(79791);function l(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function u(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function d(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function f(e){var t=e.dateTime,n=e.date,s=e.time,c=e.periods,f=e.days,m=e.shortDays,h=e.months,g=e.shortMonths,_=y(c),v=b(c),Z=y(f),De=b(f),Q=y(m),Oe=b(m),ke=y(h),Ae=b(h),je=y(g),Me=b(g),Ne={a:qe,A:Je,b:Ye,B:Xe,c:null,d:V,e:V,f:K,H,I:U,j:W,L:G,m:ee,M:q,p:Ze,q:Qe,Q:Ee,s:X,S:J,u:Y,U:te,V:ne,w:re,W:ie,x:null,X:null,y:ae,Y:oe,Z:se,"%":Te},Pe={a:$e,A:et,b:tt,B:nt,c:null,d:ce,e:ce,f:pe,H:le,I:ue,j:de,L:fe,m:me,M:he,p:rt,q:it,Q:Ee,s:X,S:ge,u:_e,U:ve,V:ye,w:be,W:xe,x:null,X:null,y:Se,Y:Ce,Z:we,"%":Te},Fe={a:Be,A:Ve,b:He,B:Ue,c:We,d:j,e:j,f:L,H:N,I:N,j:M,L:I,m:A,M:P,p:ze,q:k,Q:z,s:B,S:F,u:S,U:C,V:w,w:x,W:T,x:Ge,X:Ke,y:D,Y:E,Z:O,"%":R};Ne.x=Ie(n,Ne),Ne.X=Ie(s,Ne),Ne.c=Ie(t,Ne),Pe.x=Ie(n,Pe),Pe.X=Ie(s,Pe),Pe.c=Ie(t,Pe);function Ie(e,t){return function(n){var r=[],i=-1,a=0,o=e.length,s,c,l;for(n instanceof Date||(n=new Date(+n));++i<o;)e.charCodeAt(i)===37&&(r.push(e.slice(a,i)),(c=p[s=e.charAt(++i)])==null?c=s===`e`?` `:`0`:s=e.charAt(++i),(l=t[s])&&(s=l(n,c)),r.push(s),a=i+1);return r.push(e.slice(a,i)),r.join(``)}}function Le(e,t){return function(n){var s=d(1900,void 0,1),c=Re(s,e,n+=``,0),f,p;if(c!=n.length)return null;if(`Q`in s)return new Date(s.Q);if(`s`in s)return new Date(s.s*1e3+(`L`in s?s.L:0));if(t&&!(`Z`in s)&&(s.Z=0),`p`in s&&(s.H=s.H%12+s.p*12),s.m===void 0&&(s.m=`q`in s?s.q:0),`V`in s){if(s.V<1||s.V>53)return null;`w`in s||(s.w=1),`Z`in s?(f=u(d(s.y,0,1)),p=f.getUTCDay(),f=p>4||p===0?r.l6.ceil(f):(0,r.l6)(f),f=i.Z.offset(f,(s.V-1)*7),s.y=f.getUTCFullYear(),s.m=f.getUTCMonth(),s.d=f.getUTCDate()+(s.w+6)%7):(f=l(d(s.y,0,1)),p=f.getDay(),f=p>4||p===0?a.wA.ceil(f):(0,a.wA)(f),f=o.Z.offset(f,(s.V-1)*7),s.y=f.getFullYear(),s.m=f.getMonth(),s.d=f.getDate()+(s.w+6)%7)}else (`W`in s||`U`in s)&&(`w`in s||(s.w=`u`in s?s.u%7:`W`in s?1:0),p=`Z`in s?u(d(s.y,0,1)).getUTCDay():l(d(s.y,0,1)).getDay(),s.m=0,s.d=`W`in s?(s.w+6)%7+s.W*7-(p+5)%7:s.w+s.U*7-(p+6)%7);return`Z`in s?(s.H+=s.Z/100|0,s.M+=s.Z%100,u(s)):l(s)}}function Re(e,t,n,r){for(var i=0,a=t.length,o=n.length,s,c;i<a;){if(r>=o)return-1;if(s=t.charCodeAt(i++),s===37){if(s=t.charAt(i++),c=Fe[s in p?t.charAt(i++):s],!c||(r=c(e,n,r))<0)return-1}else if(s!=n.charCodeAt(r++))return-1}return r}function ze(e,t,n){var r=_.exec(t.slice(n));return r?(e.p=v[r[0].toLowerCase()],n+r[0].length):-1}function Be(e,t,n){var r=Q.exec(t.slice(n));return r?(e.w=Oe[r[0].toLowerCase()],n+r[0].length):-1}function Ve(e,t,n){var r=Z.exec(t.slice(n));return r?(e.w=De[r[0].toLowerCase()],n+r[0].length):-1}function He(e,t,n){var r=je.exec(t.slice(n));return r?(e.m=Me[r[0].toLowerCase()],n+r[0].length):-1}function Ue(e,t,n){var r=ke.exec(t.slice(n));return r?(e.m=Ae[r[0].toLowerCase()],n+r[0].length):-1}function We(e,n,r){return Re(e,t,n,r)}function Ge(e,t,r){return Re(e,n,t,r)}function Ke(e,t,n){return Re(e,s,t,n)}function qe(e){return m[e.getDay()]}function Je(e){return f[e.getDay()]}function Ye(e){return g[e.getMonth()]}function Xe(e){return h[e.getMonth()]}function Ze(e){return c[+(e.getHours()>=12)]}function Qe(e){return 1+~~(e.getMonth()/3)}function $e(e){return m[e.getUTCDay()]}function et(e){return f[e.getUTCDay()]}function tt(e){return g[e.getUTCMonth()]}function nt(e){return h[e.getUTCMonth()]}function rt(e){return c[+(e.getUTCHours()>=12)]}function it(e){return 1+~~(e.getUTCMonth()/3)}return{format:function(e){var t=Ie(e+=``,Ne);return t.toString=function(){return e},t},parse:function(e){var t=Le(e+=``,!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=Ie(e+=``,Pe);return t.toString=function(){return e},t},utcParse:function(e){var t=Le(e+=``,!0);return t.toString=function(){return e},t}}}var p={"-":``,_:` `,0:`0`},m=/^\s*\d+/,h=/^%/,g=/[\\^$*+?|[\]().{}]/g;function _(e,t,n){var r=e<0?`-`:``,i=(r?-e:e)+``,a=i.length;return r+(a<n?Array(n-a+1).join(t)+i:i)}function v(e){return e.replace(g,`\\$&`)}function y(e){return RegExp(`^(?:`+e.map(v).join(`|`)+`)`,`i`)}function b(e){for(var t={},n=-1,r=e.length;++n<r;)t[e[n].toLowerCase()]=n;return t}function x(e,t,n){var r=m.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function S(e,t,n){var r=m.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function C(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function w(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function T(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function E(e,t,n){var r=m.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function D(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function O(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||`00`)),n+r[0].length):-1}function k(e,t,n){var r=m.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function A(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function j(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function M(e,t,n){var r=m.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function N(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function P(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function F(e,t,n){var r=m.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function I(e,t,n){var r=m.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function L(e,t,n){var r=m.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function R(e,t,n){var r=h.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function z(e,t,n){var r=m.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function B(e,t,n){var r=m.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function V(e,t){return _(e.getDate(),t,2)}function H(e,t){return _(e.getHours(),t,2)}function U(e,t){return _(e.getHours()%12||12,t,2)}function W(e,t){return _(1+o.Z.count((0,s.Z)(e),e),t,3)}function G(e,t){return _(e.getMilliseconds(),t,3)}function K(e,t){return G(e,t)+`000`}function ee(e,t){return _(e.getMonth()+1,t,2)}function q(e,t){return _(e.getMinutes(),t,2)}function J(e,t){return _(e.getSeconds(),t,2)}function Y(e){var t=e.getDay();return t===0?7:t}function te(e,t){return _(a.OM.count((0,s.Z)(e)-1,e),t,2)}function ne(e,t){var n=e.getDay();return e=n>=4||n===0?(0,a.bL)(e):a.bL.ceil(e),_(a.bL.count((0,s.Z)(e),e)+((0,s.Z)(e).getDay()===4),t,2)}function re(e){return e.getDay()}function ie(e,t){return _(a.wA.count((0,s.Z)(e)-1,e),t,2)}function ae(e,t){return _(e.getFullYear()%100,t,2)}function oe(e,t){return _(e.getFullYear()%1e4,t,4)}function se(e){var t=e.getTimezoneOffset();return(t>0?`-`:(t*=-1,`+`))+_(t/60|0,`0`,2)+_(t%60,`0`,2)}function ce(e,t){return _(e.getUTCDate(),t,2)}function le(e,t){return _(e.getUTCHours(),t,2)}function ue(e,t){return _(e.getUTCHours()%12||12,t,2)}function de(e,t){return _(1+i.Z.count((0,c.Z)(e),e),t,3)}function fe(e,t){return _(e.getUTCMilliseconds(),t,3)}function pe(e,t){return fe(e,t)+`000`}function me(e,t){return _(e.getUTCMonth()+1,t,2)}function he(e,t){return _(e.getUTCMinutes(),t,2)}function ge(e,t){return _(e.getUTCSeconds(),t,2)}function _e(e){var t=e.getUTCDay();return t===0?7:t}function ve(e,t){return _(r.Ox.count((0,c.Z)(e)-1,e),t,2)}function ye(e,t){var n=e.getUTCDay();return e=n>=4||n===0?(0,r.hB)(e):r.hB.ceil(e),_(r.hB.count((0,c.Z)(e),e)+((0,c.Z)(e).getUTCDay()===4),t,2)}function be(e){return e.getUTCDay()}function xe(e,t){return _(r.l6.count((0,c.Z)(e)-1,e),t,2)}function Se(e,t){return _(e.getUTCFullYear()%100,t,2)}function Ce(e,t){return _(e.getUTCFullYear()%1e4,t,4)}function we(){return`+0000`}function Te(){return`%`}function Ee(e){return+e}function X(e){return Math.floor(e/1e3)}var Z,De,Q;Oe({dateTime:`%x, %X`,date:`%-m/%-d/%Y`,time:`%-I:%M:%S %p`,periods:[`AM`,`PM`],days:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`],shortDays:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],months:[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],shortMonths:[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`]});function Oe(e){return Z=f(e),De=Z.format,Z.parse,Q=Z.utcFormat,Z.utcParse,Z}}),82301:(function(e,t,n){n.d(t,{a:function(){return o}});var r=n(30052),i=n(54263),a=(0,r.Z)(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.yB)/i.UD},function(e){return e.getDate()-1});t.Z=a;var o=a.range}),54263:(function(e,t,n){n.d(t,{UD:function(){return o},Y2:function(){return a},Ym:function(){return r},iM:function(){return s},yB:function(){return i}});var r=1e3,i=6e4,a=36e5,o=864e5,s=6048e5}),81041:(function(e,t,n){n.r(t),n.d(t,{timeDay:function(){return _.Z},timeDays:function(){return _.a},timeFriday:function(){return v.mC},timeFridays:function(){return v.b$},timeHour:function(){return h},timeHours:function(){return g},timeInterval:function(){return r.Z},timeMillisecond:function(){return a},timeMilliseconds:function(){return o},timeMinute:function(){return f},timeMinutes:function(){return p},timeMonday:function(){return v.wA},timeMondays:function(){return v.bJ},timeMonth:function(){return b},timeMonths:function(){return x},timeSaturday:function(){return v.EY},timeSaturdays:function(){return v.Ff},timeSecond:function(){return l},timeSeconds:function(){return u},timeSunday:function(){return v.OM},timeSundays:function(){return v.vm},timeThursday:function(){return v.bL},timeThursdays:function(){return v.$t},timeTuesday:function(){return v.sy},timeTuesdays:function(){return v.aU},timeWednesday:function(){return v.zg},timeWednesdays:function(){return v.Ld},timeWeek:function(){return v.OM},timeWeeks:function(){return v.vm},timeYear:function(){return S.Z},timeYears:function(){return S.g},utcDay:function(){return k.Z},utcDays:function(){return k.y},utcFriday:function(){return A.QQ},utcFridays:function(){return A.fz},utcHour:function(){return D},utcHours:function(){return O},utcMillisecond:function(){return a},utcMilliseconds:function(){return o},utcMinute:function(){return w},utcMinutes:function(){return T},utcMonday:function(){return A.l6},utcMondays:function(){return A.$3},utcMonth:function(){return M},utcMonths:function(){return N},utcSaturday:function(){return A.g4},utcSaturdays:function(){return A.Q_},utcSecond:function(){return l},utcSeconds:function(){return u},utcSunday:function(){return A.Ox},utcSundays:function(){return A.SU},utcThursday:function(){return A.hB},utcThursdays:function(){return A.xj},utcTuesday:function(){return A.J1},utcTuesdays:function(){return A.DK},utcWednesday:function(){return A.b3},utcWednesdays:function(){return A.uy},utcWeek:function(){return A.Ox},utcWeeks:function(){return A.SU},utcYear:function(){return P.Z},utcYears:function(){return P.D}});var r=n(30052),i=(0,r.Z)(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});i.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?(0,r.Z)(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):i};var a=i,o=i.range,s=n(54263),c=(0,r.Z)(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*s.Ym)},function(e,t){return(t-e)/s.Ym},function(e){return e.getUTCSeconds()}),l=c,u=c.range,d=(0,r.Z)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*s.Ym)},function(e,t){e.setTime(+e+t*s.yB)},function(e,t){return(t-e)/s.yB},function(e){return e.getMinutes()}),f=d,p=d.range,m=(0,r.Z)(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*s.Ym-e.getMinutes()*s.yB)},function(e,t){e.setTime(+e+t*s.Y2)},function(e,t){return(t-e)/s.Y2},function(e){return e.getHours()}),h=m,g=m.range,_=n(82301),v=n(59879),y=(0,r.Z)(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),b=y,x=y.range,S=n(34823),C=(0,r.Z)(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*s.yB)},function(e,t){return(t-e)/s.yB},function(e){return e.getUTCMinutes()}),w=C,T=C.range,E=(0,r.Z)(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*s.Y2)},function(e,t){return(t-e)/s.Y2},function(e){return e.getUTCHours()}),D=E,O=E.range,k=n(48480),A=n(58176),j=(0,r.Z)(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()}),M=j,N=j.range,P=n(79791)}),30052:(function(e,t,n){n.d(t,{Z:function(){return a}});var r=new Date,i=new Date;function a(e,t,n,o){function s(t){return e(t=arguments.length===0?new Date:new Date(+t)),t}return s.floor=function(t){return e(t=new Date(+t)),t},s.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,n){return t(e=new Date(+e),n==null?1:Math.floor(n)),e},s.range=function(n,r,i){var a=[],o;if(n=s.ceil(n),i=i==null?1:Math.floor(i),!(n<r)||!(i>0))return a;do a.push(o=new Date(+n)),t(n,i),e(n);while(o<n&&n<r);return a},s.filter=function(n){return a(function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})},n&&(s.count=function(t,a){return r.setTime(+t),i.setTime(+a),e(r),e(i),Math.floor(n(r,i))},s.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?s.filter(o?function(t){return o(t)%e===0}:function(t){return s.count(0,t)%e===0}):s}),s}}),48480:(function(e,t,n){n.d(t,{y:function(){return o}});var r=n(30052),i=n(54263),a=(0,r.Z)(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/i.UD},function(e){return e.getUTCDate()-1});t.Z=a;var o=a.range}),58176:(function(e,t,n){n.d(t,{$3:function(){return m},DK:function(){return h},J1:function(){return c},Ox:function(){return o},QQ:function(){return d},Q_:function(){return y},SU:function(){return p},b3:function(){return l},fz:function(){return v},g4:function(){return f},hB:function(){return u},l6:function(){return s},uy:function(){return g},xj:function(){return _}});var r=n(30052),i=n(54263);function a(e){return(0,r.Z)(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t*7)},function(e,t){return(t-e)/i.iM})}var o=a(0),s=a(1),c=a(2),l=a(3),u=a(4),d=a(5),f=a(6),p=o.range,m=s.range,h=c.range,g=l.range,_=u.range,v=d.range,y=f.range}),79791:(function(e,t,n){n.d(t,{D:function(){return a}});var r=n(30052),i=(0,r.Z)(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});i.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:(0,r.Z)(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})},t.Z=i;var a=i.range}),59879:(function(e,t,n){n.d(t,{$t:function(){return _},EY:function(){return f},Ff:function(){return y},Ld:function(){return g},OM:function(){return o},aU:function(){return h},b$:function(){return v},bJ:function(){return m},bL:function(){return u},mC:function(){return d},sy:function(){return c},vm:function(){return p},wA:function(){return s},zg:function(){return l}});var r=n(30052),i=n(54263);function a(e){return(0,r.Z)(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t*7)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*i.yB)/i.iM})}var o=a(0),s=a(1),c=a(2),l=a(3),u=a(4),d=a(5),f=a(6),p=o.range,m=s.range,h=c.range,g=l.range,_=u.range,v=d.range,y=f.range}),34823:(function(e,t,n){n.d(t,{g:function(){return a}});var r=n(30052),i=(0,r.Z)(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});i.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:(0,r.Z)(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)})},t.Z=i;var a=i.range}),17045:(function(e,t,n){var r=n(8709),i=typeof Symbol==`function`&&typeof Symbol(`foo`)==`symbol`,a=Object.prototype.toString,o=Array.prototype.concat,s=Object.defineProperty,c=function(e){return typeof e==`function`&&a.call(e)===`[object Function]`},l=n(55622)(),u=s&&l,d=function(e,t,n,r){if(t in e){if(r===!0){if(e[t]===n)return}else if(!c(r)||!r())return}u?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n},f=function(e,t){var n=arguments.length>2?arguments[2]:{},a=r(t);i&&(a=o.call(a,Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;s+=1)d(e,a[s],t[a[s]],n[a[s]])};f.supportsDescriptors=!!u,e.exports=f}),46775:(function(e){e.exports=function(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==void 0)return arguments[e]}}),53545:(function(e){e.exports=r;var t=(r.canvas=document.createElement(`canvas`)).getContext(`2d`),n=i([32,126]);r.createPairs=i,r.ascii=n;function r(e,r){Array.isArray(e)&&(e=e.join(`, `));var a={},o,s=16,c=.05;r&&(r.length===2&&typeof r[0]==`number`?o=i(r):Array.isArray(r)?o=r:(r.o?o=i(r.o):r.pairs&&(o=r.pairs),r.fontSize&&(s=r.fontSize),r.threshold!=null&&(c=r.threshold))),o||=n,t.font=s+`px `+e;for(var l=0;l<o.length;l++){var u=o[l],d=t.measureText(u[0]).width+t.measureText(u[1]).width,f=t.measureText(u).width;Math.abs(d-f)>s*c&&(a[u]=(f-d)/s*1e3)}return a}function i(e){for(var t=[],n=e[0];n<=e[1];n++)for(var r=String.fromCharCode(n),i=e[0];i<e[1];i++){var a=r+String.fromCharCode(i);t.push(a)}return t}}),31457:(function(e,t,n){var r=n(65185),i=n(18625),a={M:`moveTo`,C:`bezierCurveTo`};e.exports=function(e,t){e.beginPath(),i(r(t)).forEach(function(t){var n=t[0],r=t.slice(1);e[a[n]].apply(e,r)}),e.closePath()}}),90660:(function(e){e.exports=function(e){switch(e){case`int8`:return Int8Array;case`int16`:return Int16Array;case`int32`:return Int32Array;case`uint8`:return Uint8Array;case`uint16`:return Uint16Array;case`uint32`:return Uint32Array;case`float32`:return Float32Array;case`float64`:return Float64Array;case`array`:return Array;case`uint8_clamped`:return Uint8ClampedArray}}}),12129:(function(e){function t(e,n,r){var i=e[r]|0;if(i<=0)return[];var a=Array(i),o;if(r===e.length-1)for(o=0;o<i;++o)a[o]=n;else for(o=0;o<i;++o)a[o]=t(e,n,r+1);return a}function n(e,t){var n=Array(e),r;for(r=0;r<e;++r)n[r]=t;return n}function r(e,r){switch(r===void 0&&(r=0),typeof e){case`number`:if(e>0)return n(e|0,r);break;case`object`:if(typeof e.length==`number`)return t(e,r,0);break}return[]}e.exports=r}),11474:(function(e){e.exports=t,e.exports.default=t;function t(e,t,r){r||=2;var a=t&&t.length,o=a?t[0]*r:e.length,s=n(e,0,o,r,!0),c=[];if(!s||s.next===s.prev)return c;var u,d,f,p,m,h,g;if(a&&(s=l(e,t,s,r)),e.length>80*r){u=f=e[0],d=p=e[1];for(var _=r;_<o;_+=r)m=e[_],h=e[_+1],m<u&&(u=m),h<d&&(d=h),m>f&&(f=m),h>p&&(p=h);g=Math.max(f-u,p-d),g=g===0?0:1/g}return i(s,c,r,u,d,g),c}function n(e,t,n,r,i){var a,o;if(i===M(e,t,n,r)>0)for(a=t;a<n;a+=r)o=k(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=k(a,e[a],e[a+1],o);return o&&x(o,o.next)&&(A(o),o=o.next),o}function r(e,t){if(!e)return e;t||=e;var n=e,r;do if(r=!1,!n.steiner&&(x(n,n.next)||b(n.prev,n,n.next)===0)){if(A(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function i(e,t,n,l,u,d,f){if(e){!f&&d&&m(e,l,u,d);for(var p=e,h,g;e.prev!==e.next;){if(h=e.prev,g=e.next,d?o(e,l,u,d):a(e)){t.push(h.i/n),t.push(e.i/n),t.push(g.i/n),A(e),e=g.next,p=g.next;continue}if(e=g,e===p){f?f===1?(e=s(r(e),t,n),i(e,t,n,l,u,d,2)):f===2&&c(e,t,n,l,u,d):i(r(e),t,n,l,u,d,1);break}}}}function a(e){var t=e.prev,n=e,r=e.next;if(b(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(v(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&b(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function o(e,t,n,r){var i=e.prev,a=e,o=e.next;if(b(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,c=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=g(s,c,t,n,r),f=g(l,u,t,n,r),p=e.prevZ,m=e.nextZ;p&&p.z>=d&&m&&m.z<=f;){if(p!==e.prev&&p!==e.next&&v(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&b(p.prev,p,p.next)>=0||(p=p.prevZ,m!==e.prev&&m!==e.next&&v(i.x,i.y,a.x,a.y,o.x,o.y,m.x,m.y)&&b(m.prev,m,m.next)>=0))return!1;m=m.nextZ}for(;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&v(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&b(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;m&&m.z<=f;){if(m!==e.prev&&m!==e.next&&v(i.x,i.y,a.x,a.y,o.x,o.y,m.x,m.y)&&b(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function s(e,t,n){var i=e;do{var a=i.prev,o=i.next.next;!x(a,o)&&S(a,i,i.next,o)&&E(a,o)&&E(o,a)&&(t.push(a.i/n),t.push(i.i/n),t.push(o.i/n),A(i),A(i.next),i=e=o),i=i.next}while(i!==e);return r(i)}function c(e,t,n,a,o,s){var c=e;do{for(var l=c.next.next;l!==c.prev;){if(c.i!==l.i&&y(c,l)){var u=O(c,l);c=r(c,c.next),u=r(u,u.next),i(c,t,n,a,o,s),i(u,t,n,a,o,s);return}l=l.next}c=c.next}while(c!==e)}function l(e,t,i,a){var o=[],s,c,l,f,p;for(s=0,c=t.length;s<c;s++)l=t[s]*a,f=s<c-1?t[s+1]*a:e.length,p=n(e,l,f,a,!1),p===p.next&&(p.steiner=!0),o.push(_(p));for(o.sort(u),s=0;s<o.length;s++)d(o[s],i),i=r(i,i.next);return i}function u(e,t){return e.x-t.x}function d(e,t){if(t=f(e,t),t){var n=O(t,e);r(t,t.next),r(n,n.next)}}function f(e,t){var n=t,r=e.x,i=e.y,a=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>a){if(a=s,s===r){if(i===n.y)return n;if(i===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(r===a)return o;var c=o,l=o.x,u=o.y,d=1/0,f;n=o;do r>=n.x&&n.x>=l&&r!==n.x&&v(i<u?r:a,i,l,u,i<u?a:r,i,n.x,n.y)&&(f=Math.abs(i-n.y)/(r-n.x),E(n,e)&&(f<d||f===d&&(n.x>o.x||n.x===o.x&&p(o,n)))&&(o=n,d=f)),n=n.next;while(n!==c);return o}function p(e,t){return b(e.prev,e,t.prev)<0&&b(t.next,e,e.next)<0}function m(e,t,n,r){var i=e;do i.z===null&&(i.z=g(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,h(i)}function h(e){var t,n,r,i,a,o,s,c,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ,r);t++);for(c=l;s>0||c>0&&r;)s!==0&&(c===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1);return e}function g(e,t,n,r,i){return e=32767*(e-n)*i,t=32767*(t-r)*i,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function _(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function v(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function y(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!T(e,t)&&(E(e,t)&&E(t,e)&&D(e,t)&&(b(e.prev,e,t.prev)||b(e,t.prev,t))||x(e,t)&&b(e.prev,e,e.next)>0&&b(t.prev,t,t.next)>0)}function b(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function x(e,t){return e.x===t.x&&e.y===t.y}function S(e,t,n,r){var i=w(b(e,t,n)),a=w(b(e,t,r)),o=w(b(n,r,e)),s=w(b(n,r,t));return!!(i!==a&&o!==s||i===0&&C(e,n,t)||a===0&&C(e,r,t)||o===0&&C(n,e,r)||s===0&&C(n,t,r))}function C(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function w(e){return e>0?1:e<0?-1:0}function T(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&S(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function E(e,t){return b(e.prev,e,e.next)<0?b(e,t,e.next)>=0&&b(e,e.prev,t)>=0:b(e,t,e.prev)<0||b(e,e.next,t)<0}function D(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function O(e,t){var n=new j(e.i,e.x,e.y),r=new j(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function k(e,t,n,r){var i=new j(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function A(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function j(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}t.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(M(e,0,a,n));if(i)for(var s=0,c=t.length;s<c;s++){var l=t[s]*n,u=s<c-1?t[s+1]*n:e.length;o-=Math.abs(M(e,l,u,n))}var d=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,p=r[s+1]*n,m=r[s+2]*n;d+=Math.abs((e[f]-e[m])*(e[p+1]-e[f+1])-(e[f]-e[p])*(e[m+1]-e[f+1]))}return o===0&&d===0?0:Math.abs((d-o)/o)};function M(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}}),2502:(function(e,t,n){var r=n(68664);e.exports=function(e,t){var n=[],i=[],a=[],o={},s=[],c;function l(e){a[e]=!1,o.hasOwnProperty(e)&&Object.keys(o[e]).forEach(function(t){delete o[e][t],a[t]&&l(t)})}function u(e){var t=!1;i.push(e),a[e]=!0;var n,r;for(n=0;n<s[e].length;n++)r=s[e][n],r===c?(d(c,i),t=!0):a[r]||(t=u(r));if(t)l(e);else for(n=0;n<s[e].length;n++){r=s[e][n];var f=o[r];f||(f={},o[r]=f),f[r]=!0}return i.pop(),t}function d(e,r){var i=[].concat(r,e);t?t(u):n.push(i)}function f(t){for(var n=0;n<e.length;n++)n<t&&(e[n]=[]),e[n]=e[n].filter(function(e){return e>=t})}function p(t){f(t);for(var n=r(e).components.filter(function(e){return e.length>1}),i=1/0,a,o=0;o<n.length;o++)for(var s=0;s<n[o].length;s++)n[o][s]<i&&(i=n[o][s],a=o);var c=n[a];if(!c)return!1;var l=e.map(function(e,t){return c.indexOf(t)===-1?[]:e.filter(function(e){return c.indexOf(e)!==-1})});return{leastVertex:i,adjList:l}}c=0;for(var m=e.length;c<m;){var h=p(c);if(c=h.leastVertex,s=h.adjList,s){for(var g=0;g<s.length;g++)for(var _=0;_<s[g].length;_++){var v=s[g][_];a[+v]=!1,o[v]={}}u(c),c+=1}else c=m}if(!t)return n}}),16134:(function(e,t,n){var r=n(36672);e.exports=function(){return r(this).length=0,this}}),4892:(function(e,t,n){e.exports=n(64404)()?Array.from:n(49441)}),64404:(function(e){e.exports=function(){var e=Array.from,t,n;return typeof e==`function`?(t=[`raz`,`dwa`],n=e(t),!!(n&&n!==t&&n[1]===`dwa`)):!1}}),49441:(function(e,t,n){var r=n(8260).iterator,i=n(73051),a=n(33717),o=n(35976),s=n(78513),c=n(36672),l=n(95296),u=n(87963),d=Array.isArray,f=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},m=Object.defineProperty;e.exports=function(e){var t=arguments[1],n=arguments[2],h,g,_,v,y,b,x,S,C,w;if(e=Object(c(e)),l(t)&&s(t),!this||this===Array||!a(this)){if(!t){if(i(e))return y=e.length,y===1?(v=[,],v[0]=e[0],v):Array.apply(null,e);if(d(e)){for(v=Array(y=e.length),g=0;g<y;++g)v[g]=e[g];return v}}v=[]}else h=this;if(!d(e)){if((C=e[r])!==void 0){for(x=s(C).call(e),h&&(v=new h),S=x.next(),g=0;!S.done;)w=t?f.call(t,n,S.value,g):S.value,h?(p.value=w,m(v,g,p)):v[g]=w,S=x.next(),++g;y=g}else if(u(e)){for(y=e.length,h&&(v=new h),g=0,_=0;g<y;++g)w=e[g],g+1<y&&(b=w.charCodeAt(0),b>=55296&&b<=56319&&(w+=e[++g])),w=t?f.call(t,n,w,_):w,h?(p.value=w,m(v,_,p)):v[_]=w,++_;y=_}}if(y===void 0)for(y=o(e.length),h&&(v=new h(y)),g=0;g<y;++g)w=t?f.call(t,n,e[g],g):e[g],h?(p.value=w,m(v,g,p)):v[g]=w;return h&&(p.value=null,v.length=y),v}}),73051:(function(e){var t=Object.prototype.toString,n=t.call((function(){return arguments})());e.exports=function(e){return t.call(e)===n}}),33717:(function(e){var t=Object.prototype.toString,n=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);e.exports=function(e){return typeof e==`function`&&n(t.call(e))}}),52345:(function(e){e.exports=function(){}}),9953:(function(e,t,n){e.exports=n(90436)()?Math.sign:n(6069)}),90436:(function(e){e.exports=function(){var e=Math.sign;return typeof e==`function`?e(10)===1&&e(-20)===-1:!1}}),6069:(function(e){e.exports=function(e){return e=Number(e),isNaN(e)||e===0?e:e>0?1:-1}}),56247:(function(e,t,n){var r=n(9953),i=Math.abs,a=Math.floor;e.exports=function(e){return isNaN(e)?0:(e=Number(e),e===0||!isFinite(e)?e:r(e)*a(i(e)))}}),35976:(function(e,t,n){var r=n(56247),i=Math.max;e.exports=function(e){return i(0,r(e))}}),67260:(function(e,t,n){var r=n(78513),i=n(36672),a=Function.prototype.bind,o=Function.prototype.call,s=Object.keys,c=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(n,l){var u,d=arguments[2],f=arguments[3];return n=Object(i(n)),r(l),u=s(n),f&&u.sort(typeof f==`function`?a.call(f,n):void 0),typeof e!=`function`&&(e=u[e]),o.call(e,u,function(e,r){return c.call(n,e)?o.call(l,d,n[e],e,n,r):t})}}}),95879:(function(e,t,n){e.exports=n(73583)()?Object.assign:n(34205)}),73583:(function(e){e.exports=function(){var e=Object.assign,t;return typeof e==`function`?(t={foo:`raz`},e(t,{bar:`dwa`},{trzy:`trzy`}),t.foo+t.bar+t.trzy===`razdwatrzy`):!1}}),34205:(function(e,t,n){var r=n(68700),i=n(36672),a=Math.max;e.exports=function(e,t){var n,o,s=a(arguments.length,2),c;for(e=Object(i(e)),c=function(r){try{e[r]=t[r]}catch(e){n||=e}},o=1;o<s;++o)t=arguments[o],r(t).forEach(c);if(n!==void 0)throw n;return e}}),19012:(function(e,t,n){var r=n(4892),i=n(95879),a=n(36672);e.exports=function(e){var t=Object(a(e)),n=arguments[1],o=Object(arguments[2]);if(t!==e&&!n)return t;var s={};return n?r(n,function(t){(o.ensure||t in e)&&(s[t]=e[t])}):i(s,e),s}}),52818:(function(e,t,n){var r=Object.create,i;n(33247)()||(i=n(51882)),e.exports=(function(){var e,t,n;return!i||i.level!==1?r:(e={},t={},n={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(e){if(e===`__proto__`){t[e]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}t[e]=n}),Object.defineProperties(e,t),Object.defineProperty(i,`nullPolyfill`,{configurable:!1,enumerable:!1,writable:!1,value:e}),function(t,n){return r(t===null?e:t,n)})})()}),96437:(function(e,t,n){e.exports=n(67260)(`forEach`)}),99611:(function(e,t,n){var r=n(95296),i={function:!0,object:!0};e.exports=function(e){return r(e)&&i[typeof e]||!1}}),95296:(function(e,t,n){var r=n(52345)();e.exports=function(e){return e!==r&&e!==null}}),68700:(function(e,t,n){e.exports=n(13895)()?Object.keys:n(25217)}),13895:(function(e){e.exports=function(){try{return!0}catch{return!1}}}),25217:(function(e,t,n){var r=n(95296),i=Object.keys;e.exports=function(e){return i(r(e)?Object(e):e)}}),16906:(function(e,t,n){var r=n(78513),i=n(96437),a=Function.prototype.call;e.exports=function(e,t){var n={},o=arguments[2];return r(t),i(e,function(e,r,i,s){n[r]=a.call(t,o,e,r,i,s)}),n}}),21780:(function(e,t,n){var r=n(95296),i=Array.prototype.forEach,a=Object.create,o=function(e,t){for(var n in e)t[n]=e[n]};e.exports=function(e){var t=a(null);return i.call(arguments,function(e){r(e)&&o(Object(e),t)}),t}}),1496:(function(e,t,n){e.exports=n(33247)()?Object.setPrototypeOf:n(51882)}),33247:(function(e){var t=Object.create,n=Object.getPrototypeOf,r={};e.exports=function(){var e=Object.setPrototypeOf,i=arguments[0]||t;return typeof e==`function`?n(e(i(null),r))===r:!1}}),51882:(function(e,t,n){var r=n(99611),i=n(36672),a=Object.prototype.isPrototypeOf,o=Object.defineProperty,s={configurable:!0,enumerable:!1,writable:!0,value:void 0},c=function(e,t){if(i(e),t===null||r(t))return e;throw TypeError(`Prototype must be null or an object`)};e.exports=(function(e){var t,n;return e?(e.level===2?e.set?(n=e.set,t=function(e,t){return n.call(c(e,t),t),e}):t=function(e,t){return c(e,t).__proto__=t,e}:t=function e(t,n){var r;return c(t,n),r=a.call(e.nullPolyfill,t),r&&delete e.nullPolyfill.__proto__,n===null&&(n=e.nullPolyfill),t.__proto__=n,r&&o(e.nullPolyfill,`__proto__`,s),t},Object.defineProperty(t,`level`,{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null})((function(){var e=Object.create(null),t={},n,r=Object.getOwnPropertyDescriptor(Object.prototype,`__proto__`);if(r){try{n=r.set,n.call(e,t)}catch{}if(Object.getPrototypeOf(e)===t)return{set:n,level:2}}return e.__proto__=t,Object.getPrototypeOf(e)===t?{level:2}:(e={},e.__proto__=t,Object.getPrototypeOf(e)===t?{level:1}:!1)})()),n(52818)}),78513:(function(e){e.exports=function(e){if(typeof e!=`function`)throw TypeError(e+` is not a function`);return e}}),98976:(function(e,t,n){var r=n(99611);e.exports=function(e){if(!r(e))throw TypeError(e+` is not an Object`);return e}}),36672:(function(e,t,n){var r=n(95296);e.exports=function(e){if(!r(e))throw TypeError(`Cannot use null or undefined`);return e}}),66741:(function(e,t,n){e.exports=n(17557)()?String.prototype.contains:n(60381)}),17557:(function(e){var t=`razdwatrzy`;e.exports=function(){return typeof t.contains==`function`?t.contains(`dwa`)===!0&&t.contains(`foo`)===!1:!1}}),60381:(function(e){var t=String.prototype.indexOf;e.exports=function(e){return t.call(this,e,arguments[1])>-1}}),87963:(function(e){var t=Object.prototype.toString,n=t.call(``);e.exports=function(e){return typeof e==`string`||e&&typeof e==`object`&&(e instanceof String||t.call(e)===n)||!1}}),43043:(function(e){var t=Object.create(null),n=Math.random;e.exports=function(){var e;do e=n().toString(36).slice(2);while(t[e]);return e}}),32411:(function(e,t,n){var r=n(1496),i=n(66741),a=n(62072),o=n(8260),s=n(95426),c=Object.defineProperty,l=e.exports=function(e,t){if(!(this instanceof l))throw TypeError(`Constructor requires 'new'`);s.call(this,e),t=t?i.call(t,`key+value`)?`key+value`:i.call(t,`key`)?`key`:`value`:`value`,c(this,`__kind__`,a(``,t))};r&&r(l,s),delete l.prototype.constructor,l.prototype=Object.create(s.prototype,{_resolve:a(function(e){return this.__kind__===`value`?this.__list__[e]:this.__kind__===`key+value`?[e,this.__list__[e]]:e})}),c(l.prototype,o.toStringTag,a(`c`,`Array Iterator`))}),27515:(function(e,t,n){var r=n(73051),i=n(78513),a=n(87963),o=n(66661),s=Array.isArray,c=Function.prototype.call,l=Array.prototype.some;e.exports=function(e,t){var n,u=arguments[2],d,f,p,m,h,g,_;if(s(e)||r(e)?n=`array`:a(e)?n=`string`:e=o(e),i(t),f=function(){p=!0},n===`array`){l.call(e,function(e){return c.call(t,u,e,f),p});return}if(n===`string`){for(h=e.length,m=0;m<h&&(g=e[m],m+1<h&&(_=g.charCodeAt(0),_>=55296&&_<=56319&&(g+=e[++m])),c.call(t,u,g,f),!p);++m);return}for(d=e.next();!d.done;){if(c.call(t,u,d.value,f),p)return;d=e.next()}}}),66661:(function(e,t,n){var r=n(73051),i=n(87963),a=n(32411),o=n(259),s=n(58095),c=n(8260).iterator;e.exports=function(e){return typeof s(e)[c]==`function`?e[c]():r(e)?new a(e):i(e)?new o(e):new a(e)}}),95426:(function(e,t,n){var r=n(16134),i=n(95879),a=n(78513),o=n(36672),s=n(62072),c=n(55174),l=n(8260),u=Object.defineProperty,d=Object.defineProperties,f;e.exports=f=function(e,t){if(!(this instanceof f))throw TypeError(`Constructor requires 'new'`);d(this,{__list__:s(`w`,o(e)),__context__:s(`w`,t),__nextIndex__:s(`w`,0)}),t&&(a(t.on),t.on(`_add`,this._onAdd),t.on(`_delete`,this._onDelete),t.on(`_clear`,this._onClear))},delete f.prototype.constructor,d(f.prototype,i({_next:s(function(){var e;if(this.__list__){if(this.__redo__&&(e=this.__redo__.shift(),e!==void 0))return e;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:s(function(){return this._createResult(this._next())}),_createResult:s(function(e){return e===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}}),_resolve:s(function(e){return this.__list__[e]}),_unBind:s(function(){this.__list__=null,delete this.__redo__,this.__context__&&=(this.__context__.off(`_add`,this._onAdd),this.__context__.off(`_delete`,this._onDelete),this.__context__.off(`_clear`,this._onClear),null)}),toString:s(function(){return`[object `+(this[l.toStringTag]||`Object`)+`]`})},c({_onAdd:s(function(e){if(!(e>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){u(this,`__redo__`,s(`c`,[e]));return}this.__redo__.forEach(function(t,n){t>=e&&(this.__redo__[n]=++t)},this),this.__redo__.push(e)}}),_onDelete:s(function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(t=this.__redo__.indexOf(e),t!==-1&&this.__redo__.splice(t,1),this.__redo__.forEach(function(t,n){t>e&&(this.__redo__[n]=--t)},this)))}),_onClear:s(function(){this.__redo__&&r.call(this.__redo__),this.__nextIndex__=0})}))),u(f.prototype,l.iterator,s(function(){return this}))}),35940:(function(e,t,n){var r=n(73051),i=n(95296),a=n(87963),o=n(8260).iterator,s=Array.isArray;e.exports=function(e){return i(e)?s(e)||a(e)||r(e)?!0:typeof e[o]==`function`:!1}}),259:(function(e,t,n){var r=n(1496),i=n(62072),a=n(8260),o=n(95426),s=Object.defineProperty,c=e.exports=function(e){if(!(this instanceof c))throw TypeError(`Constructor requires 'new'`);e=String(e),o.call(this,e),s(this,`__length__`,i(``,e.length))};r&&r(c,o),delete c.prototype.constructor,c.prototype=Object.create(o.prototype,{_next:i(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:i(function(e){var t=this.__list__[e],n;return this.__nextIndex__===this.__length__?t:(n=t.charCodeAt(0),n>=55296&&n<=56319?t+this.__list__[this.__nextIndex__++]:t)})}),s(c.prototype,a.toStringTag,i(`c`,`String Iterator`))}),58095:(function(e,t,n){var r=n(35940);e.exports=function(e){if(!r(e))throw TypeError(e+` is not iterable`);return e}}),73523:(function(e){function t(e,t){if(e==null)throw TypeError(`Cannot convert first argument to object`);for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(i!=null)for(var a=Object.keys(Object(i)),o=0,s=a.length;o<s;o++){var c=a[o],l=Object.getOwnPropertyDescriptor(i,c);l!==void 0&&l.enumerable&&(n[c]=i[c])}}return n}function n(){Object.assign||Object.defineProperty(Object,`assign`,{enumerable:!1,configurable:!0,writable:!0,value:t})}e.exports={assign:t,polyfill:n}}),8260:(function(e,t,n){e.exports=n(69711)()?n(94908).Symbol:n(18415)}),69711:(function(e,t,n){var r=n(94908),i={object:!0,symbol:!0};e.exports=function(){var e=r.Symbol;return!(typeof e!=`function`||(e(`test symbol`),!i[typeof e.iterator])||!i[typeof e.toPrimitive]||!i[typeof e.toStringTag])}}),82276:(function(e){e.exports=function(e){return e?typeof e==`symbol`?!0:!e.constructor||e.constructor.name!==`Symbol`?!1:e[e.constructor.toStringTag]===`Symbol`:!1}}),29366:(function(e,t,n){var r=n(62072),i=Object.create,a=Object.defineProperty,o=Object.prototype,s=i(null);e.exports=function(e){for(var t=0,n,i;s[e+(t||``)];)++t;return e+=t||``,s[e]=!0,n=`@@`+e,a(o,n,r.gs(null,function(e){i||=(i=!0,a(this,n,r(e)),!1)})),n}}),92842:(function(e,t,n){var r=n(62072),i=n(94908).Symbol;e.exports=function(e){return Object.defineProperties(e,{hasInstance:r(``,i&&i.hasInstance||e(`hasInstance`)),isConcatSpreadable:r(``,i&&i.isConcatSpreadable||e(`isConcatSpreadable`)),iterator:r(``,i&&i.iterator||e(`iterator`)),match:r(``,i&&i.match||e(`match`)),replace:r(``,i&&i.replace||e(`replace`)),search:r(``,i&&i.search||e(`search`)),species:r(``,i&&i.species||e(`species`)),split:r(``,i&&i.split||e(`split`)),toPrimitive:r(``,i&&i.toPrimitive||e(`toPrimitive`)),toStringTag:r(``,i&&i.toStringTag||e(`toStringTag`)),unscopables:r(``,i&&i.unscopables||e(`unscopables`))})}}),13304:(function(e,t,n){var r=n(62072),i=n(53308),a=Object.create(null);e.exports=function(e){return Object.defineProperties(e,{for:r(function(t){return a[t]?a[t]:a[t]=e(String(t))}),keyFor:r(function(e){for(var t in i(e),a)if(a[t]===e)return t})})}}),18415:(function(e,t,n){var r=n(62072),i=n(53308),a=n(94908).Symbol,o=n(29366),s=n(92842),c=n(13304),l=Object.create,u=Object.defineProperties,d=Object.defineProperty,f,p,m;if(typeof a==`function`)try{String(a()),m=!0}catch{}else a=null;p=function(e){if(this instanceof p)throw TypeError(`Symbol is not a constructor`);return f(e)},e.exports=f=function e(t){var n;if(this instanceof e)throw TypeError(`Symbol is not a constructor`);return m?a(t):(n=l(p.prototype),t=t===void 0?``:String(t),u(n,{__description__:r(``,t),__name__:r(``,o(t))}))},s(f),c(f),u(p.prototype,{constructor:r(f),toString:r(``,function(){return this.__name__})}),u(f.prototype,{toString:r(function(){return`Symbol (`+i(this).__description__+`)`}),valueOf:r(function(){return i(this)})}),d(f.prototype,f.toPrimitive,r(``,function(){var e=i(this);return typeof e==`symbol`?e:e.toString()})),d(f.prototype,f.toStringTag,r(`c`,`Symbol`)),d(p.prototype,f.toStringTag,r(`c`,f.prototype[f.toStringTag])),d(p.prototype,f.toPrimitive,r(`c`,f.prototype[f.toPrimitive]))}),53308:(function(e,t,n){var r=n(82276);e.exports=function(e){if(!r(e))throw TypeError(e+` is not a symbol`);return e}}),83522:(function(e,t,n){e.exports=n(96402)()?WeakMap:n(329)}),96402:(function(e){e.exports=function(){var e,t;if(typeof WeakMap!=`function`)return!1;try{e=new WeakMap([[t={},`one`],[{},`two`],[{},`three`]])}catch{return!1}return!(String(e)!==`[object WeakMap]`||typeof e.set!=`function`||e.set({},1)!==e||typeof e.delete!=`function`||typeof e.has!=`function`||e.get(t)!==`one`)}}),96416:(function(e){e.exports=function(){return typeof WeakMap==`function`?Object.prototype.toString.call(new WeakMap)===`[object WeakMap]`:!1}()}),329:(function(e,t,n){var r=n(95296),i=n(1496),a=n(98976),o=n(36672),s=n(43043),c=n(62072),l=n(66661),u=n(27515),d=n(8260).toStringTag,f=n(96416),p=Array.isArray,m=Object.defineProperty,h=Object.prototype.hasOwnProperty,g=Object.getPrototypeOf,_;e.exports=_=function(){var e=arguments[0],t;if(!(this instanceof _))throw TypeError(`Constructor requires 'new'`);return t=f&&i&&WeakMap!==_?i(new WeakMap,g(this)):this,r(e)&&(p(e)||(e=l(e))),m(t,`__weakMapData__`,c(`c`,`$weakMap$`+s())),e&&u(e,function(e){o(e),t.set(e[0],e[1])}),t},f&&(i&&i(_,WeakMap),_.prototype=Object.create(WeakMap.prototype,{constructor:c(_)})),Object.defineProperties(_.prototype,{delete:c(function(e){return h.call(a(e),this.__weakMapData__)?(delete e[this.__weakMapData__],!0):!1}),get:c(function(e){if(h.call(a(e),this.__weakMapData__))return e[this.__weakMapData__]}),has:c(function(e){return h.call(a(e),this.__weakMapData__)}),set:c(function(e,t){return m(a(e),this.__weakMapData__,c(`c`,t)),this}),toString:c(function(){return`[object WeakMap]`})}),m(_.prototype,d,c(`c`,`WeakMap`))}),15398:(function(e){var t=typeof Reflect==`object`?Reflect:null,n=t&&typeof t.apply==`function`?t.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},r=t&&typeof t.ownKeys==`function`?t.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};function i(e){console&&console.warn&&console.warn(e)}var a=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=v,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function c(e){if(typeof e!=`function`)throw TypeError(`The "listener" argument must be of type Function. Received type `+typeof e)}Object.defineProperty(o,`defaultMaxListeners`,{enumerable:!0,get:function(){return s},set:function(e){if(typeof e!=`number`||e<0||a(e))throw RangeError(`The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received `+e+`.`);s=e}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if(typeof e!=`number`||e<0||a(e))throw RangeError(`The value of "n" is out of range. It must be a non-negative number. Received `+e+`.`);return this._maxListeners=e,this};function l(e){return e._maxListeners===void 0?o.defaultMaxListeners:e._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i=e===`error`,a=this._events;if(a!==void 0)i&&=a.error===void 0;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=Error(`Unhandled error.`+(o?` (`+o.message+`)`:``));throw s.context=o,s}var c=a[e];if(c===void 0)return!1;if(typeof c==`function`)n(c,this,t);else for(var l=c.length,u=h(c,l),r=0;r<l;++r)n(u[r],this,t);return!0};function u(e,t,n,r){var a,o,s;if(c(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit(`newListener`,t,n.listener?n.listener:n),o=e._events),s=o[t]),s===void 0)s=o[t]=n,++e._eventsCount;else if(typeof s==`function`?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),a=l(e),a>0&&s.length>a&&!s.warned){s.warned=!0;var u=Error(`Possible EventEmitter memory leak detected. `+s.length+` `+String(t)+` listeners added. Use emitter.setMaxListeners() to increase limit`);u.name=`MaxListenersExceededWarning`,u.emitter=e,u.type=t,u.count=s.length,i(u)}return e}o.prototype.addListener=function(e,t){return u(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return u(this,e,t,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}o.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,a,o;if(c(t),r=this._events,r===void 0||(n=r[e],n===void 0))return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit(`removeListener`,e,n.listener||t));else if(typeof n!=`function`){for(i=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,i=a;break}if(i<0)return this;i===0?n.shift():g(n,i),n.length===1&&(r[e]=n[0]),r.removeListener!==void 0&&this.emit(`removeListener`,e,o||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n=this._events,r;if(n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i=Object.keys(n),a;for(r=0;r<i.length;++r)a=i[r],a!==`removeListener`&&this.removeAllListeners(a);return this.removeAllListeners(`removeListener`),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t==`function`)this.removeListener(e,t);else if(t!==void 0)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this};function p(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i==`function`?n?[i.listener||i]:[i]:n?_(i):h(i,i.length)}o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return typeof e.listenerCount==`function`?e.listenerCount(t):m.call(e,t)},o.prototype.listenerCount=m;function m(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n==`function`)return 1;if(n!==void 0)return n.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function h(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function _(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function v(e,t){return new Promise(function(n,r){function i(n){e.removeListener(t,a),r(n)}function a(){typeof e.removeListener==`function`&&e.removeListener(`error`,i),n([].slice.call(arguments))}b(e,t,a,{once:!0}),t!==`error`&&y(e,i,{once:!0})})}function y(e,t,n){typeof e.on==`function`&&b(e,`error`,t,n)}function b(e,t,n,r){if(typeof e.on==`function`)r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener==`function`)e.addEventListener(t,function i(a){r.once&&e.removeEventListener(t,i),n(a)});else throw TypeError(`The "emitter" argument must be of type EventEmitter. Received type `+typeof e)}}),60774:(function(e){var t=function(){if(typeof self==`object`&&self)return self;if(typeof window==`object`&&window)return window;throw Error("Unable to resolve global `this`")};e.exports=(function(){if(this)return this;try{Object.defineProperty(Object.prototype,`__global__`,{get:function(){return this},configurable:!0})}catch{return t()}try{return __global__||t()}finally{delete Object.prototype.__global__}})()}),94908:(function(e,t,n){e.exports=n(51152)()?globalThis:n(60774)}),51152:(function(e){e.exports=function(){return typeof globalThis!=`object`||!globalThis?!1:globalThis.Array===Array}}),92770:(function(e,t,n){var r=n(18546);e.exports=function(e){var t=typeof e;if(t===`string`){var n=e;if(e=+e,e===0&&r(n))return!1}else if(t!==`number`)return!1;return e-e<1}}),30120:(function(e,t,n){var r=n(90660);e.exports=i;function i(e,t,n){if(!e)throw TypeError(`must specify data as first parameter`);if(n=(n||0)|0,Array.isArray(e)&&e[0]&&typeof e[0][0]==`number`){var i=e[0].length,a=e.length*i,o,s,c,l;(!t||typeof t==`string`)&&(t=new(r(t||`float32`))(a+n));var u=t.length-n;if(a!==u)throw Error(`source length `+a+` (`+i+`x`+e.length+`) does not match destination length `+u);for(o=0,c=n;o<e.length;o++)for(s=0;s<i;s++)t[c++]=e[o][s]===null?NaN:e[o][s]}else if(!t||typeof t==`string`){var d=r(t||`float32`);if(Array.isArray(e)||t===`array`)for(t=new d(e.length+n),o=0,c=n,l=t.length;c<l;c++,o++)t[c]=e[o]===null?NaN:e[o];else n===0?t=new d(e):(t=new d(e.length+n),t.set(e,n))}else t.set(e,n);return t}}),68016:(function(e,t,n){var r=n(53313),i=[32,126];e.exports=a;function a(e){e||={};var t=e.shape?e.shape:e.canvas?[e.canvas.width,e.canvas.height]:[512,512],n=e.canvas||document.createElement(`canvas`),a=e.font,o=typeof e.step==`number`?[e.step,e.step]:e.step||[32,32],s=e.chars||i;if(a&&typeof a!=`string`&&(a=r(a)),!Array.isArray(s))s=String(s).split(``);else if(s.length===2&&typeof s[0]==`number`&&typeof s[1]==`number`){for(var c=[],l=s[0],u=0;l<=s[1];l++)c[u++]=String.fromCharCode(l);s=c}t=t.slice(),n.width=t[0],n.height=t[1];var d=n.getContext(`2d`);d.fillStyle=`#000`,d.fillRect(0,0,n.width,n.height),d.font=a,d.textAlign=`center`,d.textBaseline=`middle`,d.fillStyle=`#fff`;for(var f=o[0]/2,p=o[1]/2,l=0;l<s.length;l++)d.fillText(s[l],f,p),(f+=o[0])>t[0]-o[0]/2&&(f=o[0]/2,p+=o[1]);return n}}),32879:(function(e){e.exports=t,t.canvas=document.createElement(`canvas`),t.cache={};function t(e,a){a||={},(typeof e==`string`||Array.isArray(e))&&(a.family=e);var o=Array.isArray(a.family)?a.family.join(`, `):a.family;if(!o)throw Error("`family` must be defined");var s=a.size||a.fontSize||a.em||48,c=a.weight||a.fontWeight||``,e=[a.style||a.fontStyle||``,c,s].join(` `)+`px `+o,l=a.origin||`top`;if(t.cache[o]&&s<=t.cache[o].em)return n(t.cache[o],l);var u=a.canvas||t.canvas,d=u.getContext(`2d`),f={upper:a.upper===void 0?`H`:a.upper,lower:a.lower===void 0?`x`:a.lower,descent:a.descent===void 0?`p`:a.descent,ascent:a.ascent===void 0?`h`:a.ascent,tittle:a.tittle===void 0?`i`:a.tittle,overshoot:a.overshoot===void 0?`O`:a.overshoot},p=Math.ceil(s*1.5);u.height=p,u.width=p*.5,d.font=e;var m=`H`,h={top:0};d.clearRect(0,0,p,p),d.textBaseline=`top`,d.fillStyle=`black`,d.fillText(m,0,0);var g=r(d.getImageData(0,0,p,p));d.clearRect(0,0,p,p),d.textBaseline=`bottom`,d.fillText(m,0,p),h.lineHeight=h.bottom=p-r(d.getImageData(0,0,p,p))+g,d.clearRect(0,0,p,p),d.textBaseline=`alphabetic`,d.fillText(m,0,p);var _=p-r(d.getImageData(0,0,p,p))-1+g;for(var v in h.baseline=h.alphabetic=_,d.clearRect(0,0,p,p),d.textBaseline=`middle`,d.fillText(m,0,p*.5),h.median=h.middle=p-r(d.getImageData(0,0,p,p))-1+g-p*.5,d.clearRect(0,0,p,p),d.textBaseline=`hanging`,d.fillText(m,0,p*.5),h.hanging=p-r(d.getImageData(0,0,p,p))-1+g-p*.5,d.clearRect(0,0,p,p),d.textBaseline=`ideographic`,d.fillText(m,0,p),h.ideographic=p-r(d.getImageData(0,0,p,p))-1+g,f.upper&&(d.clearRect(0,0,p,p),d.textBaseline=`top`,d.fillText(f.upper,0,0),h.upper=r(d.getImageData(0,0,p,p)),h.capHeight=h.baseline-h.upper),f.lower&&(d.clearRect(0,0,p,p),d.textBaseline=`top`,d.fillText(f.lower,0,0),h.lower=r(d.getImageData(0,0,p,p)),h.xHeight=h.baseline-h.lower),f.tittle&&(d.clearRect(0,0,p,p),d.textBaseline=`top`,d.fillText(f.tittle,0,0),h.tittle=r(d.getImageData(0,0,p,p))),f.ascent&&(d.clearRect(0,0,p,p),d.textBaseline=`top`,d.fillText(f.ascent,0,0),h.ascent=r(d.getImageData(0,0,p,p))),f.descent&&(d.clearRect(0,0,p,p),d.textBaseline=`top`,d.fillText(f.descent,0,0),h.descent=i(d.getImageData(0,0,p,p))),f.overshoot&&(d.clearRect(0,0,p,p),d.textBaseline=`top`,d.fillText(f.overshoot,0,0),h.overshoot=i(d.getImageData(0,0,p,p))-_),h)h[v]/=s;return h.em=s,t.cache[o]=h,n(h,l)}function n(e,t){var n={};for(var r in typeof t==`string`&&(t=e[t]),e)r!==`em`&&(n[r]=e[r]-t);return n}function r(e){for(var t=e.height,n=e.data,r=3;r<n.length;r+=4)if(n[r]!==0)return Math.floor((r-3)*.25/t)}function i(e){for(var t=e.height,n=e.data,r=n.length-1;r>0;r-=4)if(n[r]!==0)return Math.floor((r-3)*.25/t)}}),31353:(function(e,t,n){var r=n(85395),i=Object.prototype.toString,a=Object.prototype.hasOwnProperty,o=function(e,t,n){for(var r=0,i=e.length;r<i;r++)a.call(e,r)&&(n==null?t(e[r],r,e):t.call(n,e[r],r,e))},s=function(e,t,n){for(var r=0,i=e.length;r<i;r++)n==null?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)},c=function(e,t,n){for(var r in e)a.call(e,r)&&(n==null?t(e[r],r,e):t.call(n,e[r],r,e))};e.exports=function(e,t,n){if(!r(t))throw TypeError(`iterator must be a function`);var a;arguments.length>=3&&(a=n),i.call(e)===`[object Array]`?o(e,t,a):typeof e==`string`?s(e,t,a):c(e,t,a)}}),73047:(function(e){var t=`Function.prototype.bind called on incompatible `,n=Array.prototype.slice,r=Object.prototype.toString,i=`[object Function]`;e.exports=function(e){var a=this;if(typeof a!=`function`||r.call(a)!==i)throw TypeError(t+a);for(var o=n.call(arguments,1),s,c=function(){if(this instanceof s){var t=a.apply(this,o.concat(n.call(arguments)));return Object(t)===t?t:this}else return a.apply(e,o.concat(n.call(arguments)))},l=Math.max(0,a.length-o.length),u=[],d=0;d<l;d++)u.push(`$`+d);if(s=Function(`binder`,`return function (`+u.join(`,`)+`){ return binder.apply(this,arguments); }`)(c),a.prototype){var f=function(){};f.prototype=a.prototype,s.prototype=new f,f.prototype=null}return s}}),77575:(function(e,t,n){var r=n(73047);e.exports=Function.prototype.bind||r}),86249:(function(e){e.exports=t;function t(e,t){if(typeof e!=`string`)throw TypeError(`must specify type string`);if(t||={},typeof document>`u`&&!t.canvas)return null;var n=t.canvas||document.createElement(`canvas`);typeof t.width==`number`&&(n.width=t.width),typeof t.height==`number`&&(n.height=t.height);var r=t,i;try{var a=[e];e.indexOf(`webgl`)===0&&a.push(`experimental-`+e);for(var o=0;o<a.length;o++)if(i=n.getContext(a[o],r),i)return i}catch{i=null}return i||null}}),68318:(function(e,t,n){var r,i=SyntaxError,a=Function,o=TypeError,s=function(e){try{return a(`"use strict"; return (`+e+`).constructor;`)()}catch{}},c=Object.getOwnPropertyDescriptor;if(c)try{c({},``)}catch{c=null}var l=function(){throw new o},u=c?function(){try{return arguments.callee,l}catch{try{return c(arguments,`callee`).get}catch{return l}}}():l,d=n(57877)(),f=Object.getPrototypeOf||function(e){return e.__proto__},p={},m=typeof Uint8Array>`u`?r:f(Uint8Array),h={"%AggregateError%":typeof AggregateError>`u`?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>`u`?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":typeof Atomics>`u`?r:Atomics,"%BigInt%":typeof BigInt>`u`?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>`u`?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>`u`?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>`u`?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>`u`?r:Float32Array,"%Float64Array%":typeof Float64Array>`u`?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>`u`?r:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":p,"%Int8Array%":typeof Int8Array>`u`?r:Int8Array,"%Int16Array%":typeof Int16Array>`u`?r:Int16Array,"%Int32Array%":typeof Int32Array>`u`?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?f(f([][Symbol.iterator]())):r,"%JSON%":typeof JSON==`object`?JSON:r,"%Map%":typeof Map>`u`?r:Map,"%MapIteratorPrototype%":typeof Map>`u`||!d?r:f(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>`u`?r:Promise,"%Proxy%":typeof Proxy>`u`?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>`u`?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>`u`?r:Set,"%SetIteratorPrototype%":typeof Set>`u`||!d?r:f(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>`u`?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?f(``[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":u,"%TypedArray%":m,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>`u`?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>`u`?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>`u`?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>`u`?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>`u`?r:WeakMap,"%WeakRef%":typeof WeakRef>`u`?r:WeakRef,"%WeakSet%":typeof WeakSet>`u`?r:WeakSet};try{null.error}catch(e){h[`%Error.prototype%`]=f(f(e))}var g=function e(t){var n;if(t===`%AsyncFunction%`)n=s(`async function () {}`);else if(t===`%GeneratorFunction%`)n=s(`function* () {}`);else if(t===`%AsyncGeneratorFunction%`)n=s(`async function* () {}`);else if(t===`%AsyncGenerator%`){var r=e(`%AsyncGeneratorFunction%`);r&&(n=r.prototype)}else if(t===`%AsyncIteratorPrototype%`){var i=e(`%AsyncGenerator%`);i&&(n=f(i.prototype))}return h[t]=n,n},_={"%ArrayBufferPrototype%":[`ArrayBuffer`,`prototype`],"%ArrayPrototype%":[`Array`,`prototype`],"%ArrayProto_entries%":[`Array`,`prototype`,`entries`],"%ArrayProto_forEach%":[`Array`,`prototype`,`forEach`],"%ArrayProto_keys%":[`Array`,`prototype`,`keys`],"%ArrayProto_values%":[`Array`,`prototype`,`values`],"%AsyncFunctionPrototype%":[`AsyncFunction`,`prototype`],"%AsyncGenerator%":[`AsyncGeneratorFunction`,`prototype`],"%AsyncGeneratorPrototype%":[`AsyncGeneratorFunction`,`prototype`,`prototype`],"%BooleanPrototype%":[`Boolean`,`prototype`],"%DataViewPrototype%":[`DataView`,`prototype`],"%DatePrototype%":[`Date`,`prototype`],"%ErrorPrototype%":[`Error`,`prototype`],"%EvalErrorPrototype%":[`EvalError`,`prototype`],"%Float32ArrayPrototype%":[`Float32Array`,`prototype`],"%Float64ArrayPrototype%":[`Float64Array`,`prototype`],"%FunctionPrototype%":[`Function`,`prototype`],"%Generator%":[`GeneratorFunction`,`prototype`],"%GeneratorPrototype%":[`GeneratorFunction`,`prototype`,`prototype`],"%Int8ArrayPrototype%":[`Int8Array`,`prototype`],"%Int16ArrayPrototype%":[`Int16Array`,`prototype`],"%Int32ArrayPrototype%":[`Int32Array`,`prototype`],"%JSONParse%":[`JSON`,`parse`],"%JSONStringify%":[`JSON`,`stringify`],"%MapPrototype%":[`Map`,`prototype`],"%NumberPrototype%":[`Number`,`prototype`],"%ObjectPrototype%":[`Object`,`prototype`],"%ObjProto_toString%":[`Object`,`prototype`,`toString`],"%ObjProto_valueOf%":[`Object`,`prototype`,`valueOf`],"%PromisePrototype%":[`Promise`,`prototype`],"%PromiseProto_then%":[`Promise`,`prototype`,`then`],"%Promise_all%":[`Promise`,`all`],"%Promise_reject%":[`Promise`,`reject`],"%Promise_resolve%":[`Promise`,`resolve`],"%RangeErrorPrototype%":[`RangeError`,`prototype`],"%ReferenceErrorPrototype%":[`ReferenceError`,`prototype`],"%RegExpPrototype%":[`RegExp`,`prototype`],"%SetPrototype%":[`Set`,`prototype`],"%SharedArrayBufferPrototype%":[`SharedArrayBuffer`,`prototype`],"%StringPrototype%":[`String`,`prototype`],"%SymbolPrototype%":[`Symbol`,`prototype`],"%SyntaxErrorPrototype%":[`SyntaxError`,`prototype`],"%TypedArrayPrototype%":[`TypedArray`,`prototype`],"%TypeErrorPrototype%":[`TypeError`,`prototype`],"%Uint8ArrayPrototype%":[`Uint8Array`,`prototype`],"%Uint8ClampedArrayPrototype%":[`Uint8ClampedArray`,`prototype`],"%Uint16ArrayPrototype%":[`Uint16Array`,`prototype`],"%Uint32ArrayPrototype%":[`Uint32Array`,`prototype`],"%URIErrorPrototype%":[`URIError`,`prototype`],"%WeakMapPrototype%":[`WeakMap`,`prototype`],"%WeakSetPrototype%":[`WeakSet`,`prototype`]},v=n(77575),y=n(35065),b=v.call(Function.call,Array.prototype.concat),x=v.call(Function.apply,Array.prototype.splice),S=v.call(Function.call,String.prototype.replace),C=v.call(Function.call,String.prototype.slice),w=v.call(Function.call,RegExp.prototype.exec),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,D=function(e){var t=C(e,0,1),n=C(e,-1);if(t===`%`&&n!==`%`)throw new i("invalid intrinsic syntax, expected closing `%`");if(n===`%`&&t!==`%`)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return S(e,T,function(e,t,n,i){r[r.length]=n?S(i,E,`$1`):t||e}),r},O=function(e,t){var n=e,r;if(y(_,n)&&(r=_[n],n=`%`+r[0]+`%`),y(h,n)){var a=h[n];if(a===p&&(a=g(n)),a===void 0&&!t)throw new o(`intrinsic `+e+` exists, but is not available. Please file an issue!`);return{alias:r,name:n,value:a}}throw new i(`intrinsic `+e+` does not exist!`)};e.exports=function(e,t){if(typeof e!=`string`||e.length===0)throw new o(`intrinsic name must be a non-empty string`);if(arguments.length>1&&typeof t!=`boolean`)throw new o(`"allowMissing" argument must be a boolean`);if(w(/^%?[^%]*%?$/,e)===null)throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=D(e),r=n.length>0?n[0]:``,a=O(`%`+r+`%`,t),s=a.name,l=a.value,u=!1,d=a.alias;d&&(r=d[0],x(n,b([0,1],d)));for(var f=1,p=!0;f<n.length;f+=1){var m=n[f],g=C(m,0,1),_=C(m,-1);if((g===`"`||g===`'`||g==="`"||_===`"`||_===`'`||_==="`")&&g!==_)throw new i(`property names with quotes must have matching quotes`);if((m===`constructor`||!p)&&(u=!0),r+=`.`+m,s=`%`+r+`%`,y(h,s))l=h[s];else if(l!=null){if(!(m in l)){if(!t)throw new o(`base intrinsic for `+e+` exists, but the property is not available.`);return}if(c&&f+1>=n.length){var v=c(l,m);p=!!v,l=p&&`get`in v&&!(`originalValue`in v.get)?v.get:l[m]}else p=y(l,m),l=l[m];p&&!u&&(h[s]=l)}}return l}}),85400:(function(e){e.exports=t;function t(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],h=t[13],g=t[14],_=t[15];return e[0]=s*(f*_-p*g)-d*(c*_-l*g)+h*(c*p-l*f),e[1]=-(r*(f*_-p*g)-d*(i*_-a*g)+h*(i*p-a*f)),e[2]=r*(c*_-l*g)-s*(i*_-a*g)+h*(i*l-a*c),e[3]=-(r*(c*p-l*f)-s*(i*p-a*f)+d*(i*l-a*c)),e[4]=-(o*(f*_-p*g)-u*(c*_-l*g)+m*(c*p-l*f)),e[5]=n*(f*_-p*g)-u*(i*_-a*g)+m*(i*p-a*f),e[6]=-(n*(c*_-l*g)-o*(i*_-a*g)+m*(i*l-a*c)),e[7]=n*(c*p-l*f)-o*(i*p-a*f)+u*(i*l-a*c),e[8]=o*(d*_-p*h)-u*(s*_-l*h)+m*(s*p-l*d),e[9]=-(n*(d*_-p*h)-u*(r*_-a*h)+m*(r*p-a*d)),e[10]=n*(s*_-l*h)-o*(r*_-a*h)+m*(r*l-a*s),e[11]=-(n*(s*p-l*d)-o*(r*p-a*d)+u*(r*l-a*s)),e[12]=-(o*(d*g-f*h)-u*(s*g-c*h)+m*(s*f-c*d)),e[13]=n*(d*g-f*h)-u*(r*g-i*h)+m*(r*f-i*d),e[14]=-(n*(s*g-c*h)-o*(r*g-i*h)+m*(r*c-i*s)),e[15]=n*(s*f-c*d)-o*(r*f-i*d)+u*(r*c-i*s),e}}),42331:(function(e){e.exports=t;function t(e){var t=new Float32Array(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}}),31042:(function(e){e.exports=t;function t(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}}),11902:(function(e){e.exports=t;function t(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}}),89887:(function(e){e.exports=t;function t(e){var t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=e[8],u=e[9],d=e[10],f=e[11],p=e[12],m=e[13],h=e[14],g=e[15],_=t*o-n*a,v=t*s-r*a,y=t*c-i*a,b=n*s-r*o,x=n*c-i*o,S=r*c-i*s,C=l*m-u*p,w=l*h-d*p,T=l*g-f*p,E=u*h-d*m,D=u*g-f*m;return _*(d*g-f*h)-v*D+y*E+b*T-x*w+S*C}}),27812:(function(e){e.exports=t;function t(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=n+n,s=r+r,c=i+i,l=n*o,u=r*o,d=r*s,f=i*o,p=i*s,m=i*c,h=a*o,g=a*s,_=a*c;return e[0]=1-d-m,e[1]=u+_,e[2]=f-g,e[3]=0,e[4]=u-_,e[5]=1-l-m,e[6]=p+h,e[7]=0,e[8]=f+g,e[9]=p-h,e[10]=1-l-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}}),34045:(function(e){e.exports=t;function t(e,t,n){var r,i,a,o=n[0],s=n[1],c=n[2],l=Math.sqrt(o*o+s*s+c*c);return Math.abs(l)<1e-6?null:(l=1/l,o*=l,s*=l,c*=l,r=Math.sin(t),i=Math.cos(t),a=1-i,e[0]=o*o*a+i,e[1]=s*o*a+c*r,e[2]=c*o*a-s*r,e[3]=0,e[4]=o*s*a-c*r,e[5]=s*s*a+i,e[6]=c*s*a+o*r,e[7]=0,e[8]=o*c*a+s*r,e[9]=s*c*a-o*r,e[10]=c*c*a+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}}),45973:(function(e){e.exports=t;function t(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=r+r,c=i+i,l=a+a,u=r*s,d=r*c,f=r*l,p=i*c,m=i*l,h=a*l,g=o*s,_=o*c,v=o*l;return e[0]=1-(p+h),e[1]=d+v,e[2]=f-_,e[3]=0,e[4]=d-v,e[5]=1-(u+h),e[6]=m+g,e[7]=0,e[8]=f+_,e[9]=m-g,e[10]=1-(u+p),e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}}),81472:(function(e){e.exports=t;function t(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}}),14669:(function(e){e.exports=t;function t(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}}),75262:(function(e){e.exports=t;function t(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=n,e[7]=0,e[8]=0,e[9]=-n,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}}),331:(function(e){e.exports=t;function t(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=0,e[2]=-n,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=n,e[9]=0,e[10]=r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}}),11049:(function(e){e.exports=t;function t(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=0,e[4]=-n,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}}),75195:(function(e){e.exports=t;function t(e,t,n,r,i,a,o){var s=1/(n-t),c=1/(i-r),l=1/(a-o);return e[0]=a*2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a*2*c,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*c,e[10]=(o+a)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*l,e[15]=0,e}}),71551:(function(e){e.exports=t;function t(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}}),79576:(function(e,t,n){e.exports={create:n(11902),clone:n(42331),copy:n(31042),identity:n(71551),transpose:n(88654),invert:n(95874),adjoint:n(85400),determinant:n(89887),multiply:n(91362),translate:n(31283),scale:n(10789),rotate:n(65074),rotateX:n(35545),rotateY:n(94918),rotateZ:n(15692),fromRotation:n(34045),fromRotationTranslation:n(45973),fromScaling:n(81472),fromTranslation:n(14669),fromXRotation:n(75262),fromYRotation:n(331),fromZRotation:n(11049),fromQuat:n(27812),frustum:n(75195),perspective:n(7864),perspectiveFromFieldOfView:n(35279),ortho:n(60378),lookAt:n(65551),str:n(6726)}}),95874:(function(e){e.exports=t;function t(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],h=t[13],g=t[14],_=t[15],v=n*s-r*o,y=n*c-i*o,b=n*l-a*o,x=r*c-i*s,S=r*l-a*s,C=i*l-a*c,w=u*h-d*m,T=u*g-f*m,E=u*_-p*m,D=d*g-f*h,O=d*_-p*h,k=f*_-p*g,A=v*k-y*O+b*D+x*E-S*T+C*w;return A?(A=1/A,e[0]=(s*k-c*O+l*D)*A,e[1]=(i*O-r*k-a*D)*A,e[2]=(h*C-g*S+_*x)*A,e[3]=(f*S-d*C-p*x)*A,e[4]=(c*E-o*k-l*T)*A,e[5]=(n*k-i*E+a*T)*A,e[6]=(g*b-m*C-_*y)*A,e[7]=(u*C-f*b+p*y)*A,e[8]=(o*O-s*E+l*w)*A,e[9]=(r*E-n*O-a*w)*A,e[10]=(m*S-h*b+_*v)*A,e[11]=(d*b-u*S-p*v)*A,e[12]=(s*T-o*D-c*w)*A,e[13]=(n*D-r*T+i*w)*A,e[14]=(h*y-m*x-g*v)*A,e[15]=(u*x-d*y+f*v)*A,e):null}}),65551:(function(e,t,n){var r=n(71551);e.exports=i;function i(e,t,n,i){var a,o,s,c,l,u,d,f,p,m,h=t[0],g=t[1],_=t[2],v=i[0],y=i[1],b=i[2],x=n[0],S=n[1],C=n[2];return Math.abs(h-x)<1e-6&&Math.abs(g-S)<1e-6&&Math.abs(_-C)<1e-6?r(e):(d=h-x,f=g-S,p=_-C,m=1/Math.sqrt(d*d+f*f+p*p),d*=m,f*=m,p*=m,a=y*p-b*f,o=b*d-v*p,s=v*f-y*d,m=Math.sqrt(a*a+o*o+s*s),m?(m=1/m,a*=m,o*=m,s*=m):(a=0,o=0,s=0),c=f*s-p*o,l=p*a-d*s,u=d*o-f*a,m=Math.sqrt(c*c+l*l+u*u),m?(m=1/m,c*=m,l*=m,u*=m):(c=0,l=0,u=0),e[0]=a,e[1]=c,e[2]=d,e[3]=0,e[4]=o,e[5]=l,e[6]=f,e[7]=0,e[8]=s,e[9]=u,e[10]=p,e[11]=0,e[12]=-(a*h+o*g+s*_),e[13]=-(c*h+l*g+u*_),e[14]=-(d*h+f*g+p*_),e[15]=1,e)}}),91362:(function(e){e.exports=t;function t(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],f=t[9],p=t[10],m=t[11],h=t[12],g=t[13],_=t[14],v=t[15],y=n[0],b=n[1],x=n[2],S=n[3];return e[0]=y*r+b*s+x*d+S*h,e[1]=y*i+b*c+x*f+S*g,e[2]=y*a+b*l+x*p+S*_,e[3]=y*o+b*u+x*m+S*v,y=n[4],b=n[5],x=n[6],S=n[7],e[4]=y*r+b*s+x*d+S*h,e[5]=y*i+b*c+x*f+S*g,e[6]=y*a+b*l+x*p+S*_,e[7]=y*o+b*u+x*m+S*v,y=n[8],b=n[9],x=n[10],S=n[11],e[8]=y*r+b*s+x*d+S*h,e[9]=y*i+b*c+x*f+S*g,e[10]=y*a+b*l+x*p+S*_,e[11]=y*o+b*u+x*m+S*v,y=n[12],b=n[13],x=n[14],S=n[15],e[12]=y*r+b*s+x*d+S*h,e[13]=y*i+b*c+x*f+S*g,e[14]=y*a+b*l+x*p+S*_,e[15]=y*o+b*u+x*m+S*v,e}}),60378:(function(e){e.exports=t;function t(e,t,n,r,i,a,o){var s=1/(t-n),c=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*c,e[14]=(o+a)*l,e[15]=1,e}}),7864:(function(e){e.exports=t;function t(e,t,n,r,i){var a=1/Math.tan(t/2),o=1/(r-i);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+r)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*r*o,e[15]=0,e}}),35279:(function(e){e.exports=t;function t(e,t,n,r){var i=Math.tan(t.upDegrees*Math.PI/180),a=Math.tan(t.downDegrees*Math.PI/180),o=Math.tan(t.leftDegrees*Math.PI/180),s=Math.tan(t.rightDegrees*Math.PI/180),c=2/(o+s),l=2/(i+a);return e[0]=c,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-((o-s)*c*.5),e[9]=(i-a)*l*.5,e[10]=r/(n-r),e[11]=-1,e[12]=0,e[13]=0,e[14]=r*n/(n-r),e[15]=0,e}}),65074:(function(e){e.exports=t;function t(e,t,n,r){var i=r[0],a=r[1],o=r[2],s=Math.sqrt(i*i+a*a+o*o),c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T,E,D,O,k,A,j;return Math.abs(s)<1e-6?null:(s=1/s,i*=s,a*=s,o*=s,c=Math.sin(n),l=Math.cos(n),u=1-l,d=t[0],f=t[1],p=t[2],m=t[3],h=t[4],g=t[5],_=t[6],v=t[7],y=t[8],b=t[9],x=t[10],S=t[11],C=i*i*u+l,w=a*i*u+o*c,T=o*i*u-a*c,E=i*a*u-o*c,D=a*a*u+l,O=o*a*u+i*c,k=i*o*u+a*c,A=a*o*u-i*c,j=o*o*u+l,e[0]=d*C+h*w+y*T,e[1]=f*C+g*w+b*T,e[2]=p*C+_*w+x*T,e[3]=m*C+v*w+S*T,e[4]=d*E+h*D+y*O,e[5]=f*E+g*D+b*O,e[6]=p*E+_*D+x*O,e[7]=m*E+v*D+S*O,e[8]=d*k+h*A+y*j,e[9]=f*k+g*A+b*j,e[10]=p*k+_*A+x*j,e[11]=m*k+v*A+S*j,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}}),35545:(function(e){e.exports=t;function t(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],c=t[7],l=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*r,e[5]=o*i+u*r,e[6]=s*i+d*r,e[7]=c*i+f*r,e[8]=l*i-a*r,e[9]=u*i-o*r,e[10]=d*i-s*r,e[11]=f*i-c*r,e}}),94918:(function(e){e.exports=t;function t(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],c=t[3],l=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i-l*r,e[1]=o*i-u*r,e[2]=s*i-d*r,e[3]=c*i-f*r,e[8]=a*r+l*i,e[9]=o*r+u*i,e[10]=s*r+d*i,e[11]=c*r+f*i,e}}),15692:(function(e){e.exports=t;function t(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],c=t[3],l=t[4],u=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*r,e[1]=o*i+u*r,e[2]=s*i+d*r,e[3]=c*i+f*r,e[4]=l*i-a*r,e[5]=u*i-o*r,e[6]=d*i-s*r,e[7]=f*i-c*r,e}}),10789:(function(e){e.exports=t;function t(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}}),6726:(function(e){e.exports=t;function t(e){return`mat4(`+e[0]+`, `+e[1]+`, `+e[2]+`, `+e[3]+`, `+e[4]+`, `+e[5]+`, `+e[6]+`, `+e[7]+`, `+e[8]+`, `+e[9]+`, `+e[10]+`, `+e[11]+`, `+e[12]+`, `+e[13]+`, `+e[14]+`, `+e[15]+`)`}}),31283:(function(e){e.exports=t;function t(e,t,n){var r=n[0],i=n[1],a=n[2],o,s,c,l,u,d,f,p,m,h,g,_;return t===e?(e[12]=t[0]*r+t[4]*i+t[8]*a+t[12],e[13]=t[1]*r+t[5]*i+t[9]*a+t[13],e[14]=t[2]*r+t[6]*i+t[10]*a+t[14],e[15]=t[3]*r+t[7]*i+t[11]*a+t[15]):(o=t[0],s=t[1],c=t[2],l=t[3],u=t[4],d=t[5],f=t[6],p=t[7],m=t[8],h=t[9],g=t[10],_=t[11],e[0]=o,e[1]=s,e[2]=c,e[3]=l,e[4]=u,e[5]=d,e[6]=f,e[7]=p,e[8]=m,e[9]=h,e[10]=g,e[11]=_,e[12]=o*r+u*i+m*a+t[12],e[13]=s*r+d*i+h*a+t[13],e[14]=c*r+f*i+g*a+t[14],e[15]=l*r+p*i+_*a+t[15]),e}}),88654:(function(e){e.exports=t;function t(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],a=t[6],o=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=a,e[11]=t[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}}),42505:(function(e,t,n){var r=n(72791),i=n(71299),a=n(98580),o=n(12018),s=n(83522),c=n(25075),l=n(68016),u=n(58404),d=n(18863),f=n(10973),p=n(25677),m=n(75686),h=n(53545),g=n(56131),_=n(32879),v=n(30120),y=n(13547).nextPow2,b=new s,x=!1;if(document.body){var S=document.body.appendChild(document.createElement(`div`));S.style.font=`italic small-caps bold condensed 16px/2 cursive`,getComputedStyle(S).fontStretch&&(x=!0),document.body.removeChild(S)}var C=function(e){w(e)?(e={regl:e},this.gl=e.regl._gl):this.gl=o(e),this.shader=b.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=e.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:`uint8`,usage:`stream`}),this.sizeBuffer=this.regl.buffer({type:`float`,usage:`stream`}),this.shader||(this.shader=this.createShader(),b.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(f(e)?e:{})};C.prototype.createShader=function(){var e=this.regl;return{regl:e,draw:e({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:`src alpha`,dstRGB:`one minus src alpha`,srcAlpha:`one minus dst alpha`,dstAlpha:`one`}},stencil:{enable:!1},depth:{enable:!1},count:e.prop(`count`),offset:e.prop(`offset`),attributes:{charOffset:{offset:4,stride:8,buffer:e.this(`sizeBuffer`)},width:{offset:0,stride:8,buffer:e.this(`sizeBuffer`)},char:e.this(`charBuffer`),position:e.this(`position`)},uniforms:{atlasSize:function(e,t){return[t.atlas.width,t.atlas.height]},atlasDim:function(e,t){return[t.atlas.cols,t.atlas.rows]},atlas:function(e,t){return t.atlas.texture},charStep:function(e,t){return t.atlas.step},em:function(e,t){return t.atlas.em},color:e.prop(`color`),opacity:e.prop(`opacity`),viewport:e.this(`viewportArray`),scale:e.this(`scale`),align:e.prop(`align`),baseline:e.prop(`baseline`),translate:e.this(`translate`),positionOffset:e.prop(`positionOffset`)},primitive:`points`,viewport:e.this(`viewport`),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),atlas:{}}},C.prototype.update=function(e){var t=this;if(typeof e==`string`)e={text:e};else if(!e)return;e=i(e,{position:`position positions coord coords coordinates`,font:`font fontFace fontface typeface cssFont css-font family fontFamily`,fontSize:`fontSize fontsize size font-size`,text:`text texts chars characters value values symbols`,align:`align alignment textAlign textbaseline`,baseline:`baseline textBaseline textbaseline`,direction:`dir direction textDirection`,color:`color colour fill fill-color fillColor textColor textcolor`,kerning:`kerning kern`,range:`range dataBox`,viewport:`vp viewport viewBox viewbox viewPort`,opacity:`opacity alpha transparency visible visibility opaque`,offset:`offset positionOffset padding shift indent indentation`},!0),e.opacity!=null&&(Array.isArray(e.opacity)?this.opacity=e.opacity.map(function(e){return parseFloat(e)}):this.opacity=parseFloat(e.opacity)),e.viewport!=null&&(this.viewport=d(e.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport??(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),e.kerning!=null&&(this.kerning=e.kerning),e.offset!=null&&(typeof e.offset==`number`&&(e.offset=[e.offset,0]),this.positionOffset=v(e.offset)),e.direction&&(this.direction=e.direction),e.range&&(this.range=e.range,this.scale=[1/(e.range[2]-e.range[0]),1/(e.range[3]-e.range[1])],this.translate=[-e.range[0],-e.range[1]]),e.scale&&(this.scale=e.scale),e.translate&&(this.translate=e.translate),this.scale||=[1/this.viewport.width,1/this.viewport.height],this.translate||=[0,0],!this.font.length&&!e.font&&(e.font=C.baseFontSize+`px sans-serif`);var n=!1,a=!1;if(e.font&&(Array.isArray(e.font)?e.font:[e.font]).forEach(function(e,i){if(typeof e==`string`)try{e=r.parse(e)}catch{e=r.parse(C.baseFontSize+`px `+e)}else e=r.parse(r.stringify(e));var o=r.stringify({size:C.baseFontSize,family:e.family,stretch:x?e.stretch:void 0,variant:e.variant,weight:e.weight,style:e.style}),s=p(e.size),c=Math.round(s[0]*m(s[1]));if(c!==t.fontSize[i]&&(a=!0,t.fontSize[i]=c),(!t.font[i]||o!=t.font[i].baseString)&&(n=!0,t.font[i]=C.fonts[o],!t.font[i])){var l=e.family.join(`, `),u=[e.style];e.style!=e.variant&&u.push(e.variant),e.variant!=e.weight&&u.push(e.weight),x&&e.weight!=e.stretch&&u.push(e.stretch),t.font[i]={baseString:o,family:l,weight:e.weight,stretch:e.stretch,style:e.style,variant:e.variant,width:{},kerning:{},metrics:_(l,{origin:`top`,fontSize:C.baseFontSize,fontStyle:u.join(` `)})},C.fonts[o]=t.font[i]}}),(n||a)&&this.font.forEach(function(n,i){var a=r.stringify({size:t.fontSize[i],family:n.family,stretch:x?n.stretch:void 0,variant:n.variant,weight:n.weight,style:n.style});if(t.fontAtlas[i]=t.shader.atlas[a],!t.fontAtlas[i]){var o=n.metrics;t.shader.atlas[a]=t.fontAtlas[i]={fontString:a,step:Math.ceil(t.fontSize[i]*o.bottom*.5)*2,em:t.fontSize[i],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:t.regl.texture()}}e.text??=t.text}),typeof e.text==`string`&&e.position&&e.position.length>2){for(var o=Array(e.position.length*.5),s=0;s<o.length;s++)o[s]=e.text;e.text=o}var f;if(e.text!=null||n){if(this.textOffsets=[0],Array.isArray(e.text)){this.count=e.text[0].length,this.counts=[this.count];for(var b=1;b<e.text.length;b++)this.textOffsets[b]=this.textOffsets[b-1]+e.text[b-1].length,this.count+=e.text[b].length,this.counts.push(e.text[b].length);this.text=e.text.join(``)}else this.text=e.text,this.count=this.text.length,this.counts=[this.count];f=[],this.font.forEach(function(e,n){C.atlasContext.font=e.baseString;for(var r=t.fontAtlas[n],i=0;i<t.text.length;i++){var a=t.text.charAt(i);if(r.ids[a]??(r.ids[a]=r.chars.length,r.chars.push(a),f.push(a)),e.width[a]==null&&(e.width[a]=C.atlasContext.measureText(a).width/C.baseFontSize,t.kerning)){var o=[];for(var s in e.width)o.push(s+a,a+s);g(e.kerning,h(e.family,{pairs:o}))}}})}if(e.position)if(e.position.length>2){for(var S=!e.position[0].length,w=u.mallocFloat(this.count*2),T=0,E=0;T<this.counts.length;T++){var D=this.counts[T];if(S)for(var O=0;O<D;O++)w[E++]=e.position[T*2],w[E++]=e.position[T*2+1];else for(var k=0;k<D;k++)w[E++]=e.position[T][0],w[E++]=e.position[T][1]}this.position.call?this.position({type:`float`,data:w}):this.position=this.regl.buffer({type:`float`,data:w}),u.freeFloat(w)}else this.position.destroy&&this.position.destroy(),this.position={constant:e.position};if(e.text||n){var A=u.mallocUint8(this.count),j=u.mallocFloat(this.count*2);this.textWidth=[];for(var M=0,N=0;M<this.counts.length;M++){for(var P=this.counts[M],F=this.font[M]||this.font[0],I=this.fontAtlas[M]||this.fontAtlas[0],L=0;L<P;L++){var R=this.text.charAt(N),z=this.text.charAt(N-1);if(A[N]=I.ids[R],j[N*2]=F.width[R],L){var B=j[N*2-2],V=j[N*2],H=j[N*2-1]+B*.5+V*.5;if(this.kerning){var U=F.kerning[z+R];U&&(H+=U*.001)}j[N*2+1]=H}else j[N*2+1]=j[N*2]*.5;N++}this.textWidth.push(j.length?j[N*2-2]*.5+j[N*2-1]:0)}e.align||=this.align,this.charBuffer({data:A,type:`uint8`,usage:`stream`}),this.sizeBuffer({data:j,type:`float`,usage:`stream`}),u.freeUint8(A),u.freeFloat(j),f.length&&this.font.forEach(function(e,n){var r=t.fontAtlas[n],i=r.step,a=Math.floor(C.maxAtlasSize/i),o=Math.min(a,r.chars.length),s=Math.ceil(r.chars.length/o),c=y(o*i),u=y(s*i);r.width=c,r.height=u,r.rows=s,r.cols=o,r.em&&r.texture({data:l({canvas:C.atlasCanvas,font:r.fontString,chars:r.chars,shape:[c,u],step:[i,i]})})})}if(e.align&&(this.align=e.align,this.alignOffset=this.textWidth.map(function(e,n){var r=Array.isArray(t.align)?t.align.length>1?t.align[n]:t.align[0]:t.align;if(typeof r==`number`)return r;switch(r){case`right`:case`end`:return-e;case`center`:case`centre`:case`middle`:return-e*.5}return 0})),this.baseline==null&&e.baseline==null&&(e.baseline=0),e.baseline!=null&&(this.baseline=e.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(e,n){var r=(t.font[n]||t.font[0]).metrics,i=0;return i+=r.bottom*.5,typeof e==`number`?i+=e-r.baseline:i+=-r[e],i*=-1,i})),e.color!=null)if(e.color||=`transparent`,typeof e.color==`string`||!isNaN(e.color))this.color=c(e.color,`uint8`);else{var W;if(typeof e.color[0]==`number`&&e.color.length>this.counts.length){var G=e.color.length;W=u.mallocUint8(G);for(var K=(e.color.subarray||e.color.slice).bind(e.color),ee=0;ee<G;ee+=4)W.set(c(K(ee,ee+4),`uint8`),ee)}else{var q=e.color.length;W=u.mallocUint8(q*4);for(var J=0;J<q;J++)W.set(c(e.color[J]||0,`uint8`),J*4)}this.color=W}if(e.position||e.text||e.color||e.baseline||e.align||e.font||e.offset||e.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var Y=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Y);for(var te=0;te<this.batch.length;te++)this.batch[te]={count:this.counts.length>1?this.counts[te]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[te]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(te*4,te*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[te]:this.opacity,baseline:this.baselineOffset[te]==null?this.baselineOffset[0]:this.baselineOffset[te],align:this.align?this.alignOffset[te]==null?this.alignOffset[0]:this.alignOffset[te]:0,atlas:this.fontAtlas[te]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(te*2,te*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},C.prototype.destroy=function(){},C.prototype.kerning=!0,C.prototype.position={constant:new Float32Array(2)},C.prototype.translate=null,C.prototype.scale=null,C.prototype.font=null,C.prototype.text=``,C.prototype.positionOffset=[0,0],C.prototype.opacity=1,C.prototype.color=new Uint8Array([0,0,0,255]),C.prototype.alignOffset=[0,0],C.maxAtlasSize=1024,C.atlasCanvas=document.createElement(`canvas`),C.atlasContext=C.atlasCanvas.getContext(`2d`,{alpha:!1}),C.baseFontSize=64,C.fonts={};function w(e){return typeof e==`function`&&e._gl&&e.prop&&e.texture&&e.buffer}e.exports=C}),12018:(function(e,t,n){var r=n(71299);e.exports=function(e){if(e?typeof e==`string`&&(e={container:e}):e={},e=a(e)||o(e)?{container:e}:s(e)?{gl:e}:r(e,{container:`container target element el canvas holder parent parentNode wrapper use ref root node`,gl:`gl context webgl glContext`,attrs:`attributes attrs contextAttributes`,pixelRatio:`pixelRatio pxRatio px ratio pxratio pixelratio`,width:`w width`,height:`h height`},!0),e.pixelRatio||=n.g.pixelRatio||1,e.gl)return e.gl;if(e.canvas&&(e.container=e.canvas.parentNode),e.container){if(typeof e.container==`string`){var t=document.querySelector(e.container);if(!t)throw Error(`Element `+e.container+` is not found`);e.container=t}a(e.container)?(e.canvas=e.container,e.container=e.canvas.parentNode):e.canvas||(e.canvas=c(),e.container.appendChild(e.canvas),i(e))}else if(!e.canvas)if(typeof document<`u`)e.container=document.body||document.documentElement,e.canvas=c(),e.container.appendChild(e.canvas),i(e);else throw Error(`Not DOM environment. Use headless-gl.`);return e.gl||[`webgl`,`experimental-webgl`,`webgl-experimental`].some(function(t){try{e.gl=e.canvas.getContext(t,e.attrs)}catch{}return e.gl}),e.gl};function i(e){if(e.container)if(e.container==document.body)document.body.style.width||(e.canvas.width=e.width||e.pixelRatio*n.g.innerWidth),document.body.style.height||(e.canvas.height=e.height||e.pixelRatio*n.g.innerHeight);else{var t=e.container.getBoundingClientRect();e.canvas.width=e.width||t.right-t.left,e.canvas.height=e.height||t.bottom-t.top}}function a(e){return typeof e.getContext==`function`&&`width`in e&&`height`in e}function o(e){return typeof e.nodeName==`string`&&typeof e.appendChild==`function`&&typeof e.getBoundingClientRect==`function`}function s(e){return typeof e.drawArrays==`function`||typeof e.drawElements==`function`}function c(){var e=document.createElement(`canvas`);return e.style.position=`absolute`,e.style.top=0,e.style.left=0,e}}),56068:(function(e){e.exports=function(e){typeof e==`string`&&(e=[e]);for(var t=[].slice.call(arguments,1),n=[],r=0;r<e.length-1;r++)n.push(e[r],t[r]||``);return n.push(e[r]),n.join(``)}}),40383:(function(e,t,n){var r=n(68318)(`%Object.getOwnPropertyDescriptor%`,!0);if(r)try{r([],`length`)}catch{r=null}e.exports=r}),57035:(function(e,t,n){var r=n(54404);e.exports=typeof n.g.matchMedia==`function`?!n.g.matchMedia(`(hover: none)`).matches:r}),38520:(function(e,t,n){var r=n(54404);function i(){var e=!1;try{var t=Object.defineProperty({},`passive`,{get:function(){e=!0}});window.addEventListener(`test`,null,t),window.removeEventListener(`test`,null,t)}catch{e=!1}return e}e.exports=r&&i()}),55622:(function(e,t,n){var r=n(68318)(`%Object.defineProperty%`,!0),i=function(){if(r)try{return r({},`a`,{value:1}),!0}catch{return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return r([],`length`,{value:1}).length!==1}catch{return!0}},e.exports=i}),57877:(function(e,t,n){var r=typeof Symbol<`u`&&Symbol,i=n(35638);e.exports=function(){return typeof r!=`function`||typeof Symbol!=`function`||typeof r(`foo`)!=`symbol`||typeof Symbol(`bar`)!=`symbol`?!1:i()}}),35638:(function(e){e.exports=function(){if(typeof Symbol!=`function`||typeof Object.getOwnPropertySymbols!=`function`)return!1;if(typeof Symbol.iterator==`symbol`)return!0;var e={},t=Symbol(`test`),n=Object(t);if(typeof t==`string`||Object.prototype.toString.call(t)!==`[object Symbol]`||Object.prototype.toString.call(n)!==`[object Symbol]`)return!1;var r=42;for(t in e[t]=r,e)return!1;if(typeof Object.keys==`function`&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames==`function`&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor==`function`){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==r||a.enumerable!==!0)return!1}return!0}}),84543:(function(e,t,n){var r=n(35638);e.exports=function(){return r()&&!!Symbol.toStringTag}}),35065:(function(e,t,n){e.exports=n(77575).call(Function.call,Object.prototype.hasOwnProperty)}),95280:(function(e,t){t.read=function(e,t,n,r,i){var a,o,s=i*8-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,a=p&(1<<-u)-1,p>>=-u,u+=s;u>0;a=a*256+e[t+d],d+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=o*256+e[t+d],d+=f,u-=8);if(a===0)a=1-l;else if(a===c)return o?NaN:(p?-1:1)*(1/0);else o+=2**r,a-=l;return(p?-1:1)*o*2**(a-r)},t.write=function(e,t,n,r,i,a){var o,s,c,l=a*8-i-1,u=(1<<l)-1,d=u>>1,f=i===23?2**-24-2**-77:0,p=r?0:a-1,m=r?1:-1,h=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=2**-o)<1&&(o--,c*=2),o+d>=1?t+=f/c:t+=f*2**(1-d),t*c>=2&&(o++,c/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*c-1)*2**i,o+=d):(s=t*2**(d-1)*2**i,o=0));i>=8;e[n+p]=s&255,p+=m,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+p]=o&255,p+=m,o/=256,l-=8);e[n+p-m]|=h*128}}),42018:(function(e){typeof Object.create==`function`?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}}),47216:(function(e,t,n){var r=n(84543)(),i=n(6614)(`Object.prototype.toString`),a=function(e){return r&&e&&typeof e==`object`&&Symbol.toStringTag in e?!1:i(e)===`[object Arguments]`},o=function(e){return a(e)?!0:typeof e==`object`&&!!e&&typeof e.length==`number`&&e.length>=0&&i(e)!==`[object Array]`&&i(e.callee)===`[object Function]`},s=function(){return a(arguments)}();a.isLegacyArguments=o,e.exports=s?a:o}),54404:(function(e){e.exports=!0}),85395:(function(e){var t=Function.prototype.toString,n=typeof Reflect==`object`&&Reflect!==null&&Reflect.apply,r,i;if(typeof n==`function`&&typeof Object.defineProperty==`function`)try{r=Object.defineProperty({},`length`,{get:function(){throw i}}),i={},n(function(){throw 42},null,r)}catch(e){e!==i&&(n=null)}else n=null;var a=/^\s*class\b/,o=function(e){try{var n=t.call(e);return a.test(n)}catch{return!1}},s=function(e){try{return o(e)?!1:(t.call(e),!0)}catch{return!1}},c=Object.prototype.toString,l=`[object Object]`,u=`[object Function]`,d=`[object GeneratorFunction]`,f=`[object HTMLAllCollection]`,p=`[object HTML document.all class]`,m=`[object HTMLCollection]`,h=typeof Symbol==`function`&&!!Symbol.toStringTag,g=!(0 in[,]),_=function(){return!1};if(typeof document==`object`){var v=document.all;c.call(v)===c.call(document.all)&&(_=function(e){if((g||!e)&&(e===void 0||typeof e==`object`))try{var t=c.call(e);return(t===f||t===p||t===m||t===l)&&e(``)==null}catch{}return!1})}e.exports=n?function(e){if(_(e))return!0;if(!e||typeof e!=`function`&&typeof e!=`object`)return!1;try{n(e,null,r)}catch(e){if(e!==i)return!1}return!o(e)&&s(e)}:function(e){if(_(e))return!0;if(!e||typeof e!=`function`&&typeof e!=`object`)return!1;if(h)return s(e);if(o(e))return!1;var t=c.call(e);return t!==u&&t!==d&&!/^\[object HTML/.test(t)?!1:s(e)}}),65481:(function(e,t,n){var r=Object.prototype.toString,i=Function.prototype.toString,a=/^\s*(?:function)?\*/,o=n(84543)(),s=Object.getPrototypeOf,c=function(){if(!o)return!1;try{return Function(`return function*() {}`)()}catch{}},l;e.exports=function(e){if(typeof e!=`function`)return!1;if(a.test(i.call(e)))return!0;if(!o)return r.call(e)===`[object GeneratorFunction]`;if(!s)return!1;if(l===void 0){var t=c();l=t?s(t):!1}return s(e)===l}}),62683:(function(e){e.exports=typeof navigator<`u`&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))}),64274:(function(e){e.exports=function(e){return e!==e}}),15567:(function(e,t,n){var r=n(68222),i=n(17045),a=n(64274),o=n(14922),s=n(22442),c=r(o(),Number);i(c,{getPolyfill:o,implementation:a,shim:s}),e.exports=c}),14922:(function(e,t,n){var r=n(64274);e.exports=function(){return Number.isNaN&&!Number.isNaN(`a`)?Number.isNaN:r}}),22442:(function(e,t,n){var r=n(17045),i=n(14922);e.exports=function(){var e=i();return r(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}}),64941:(function(e){e.exports=function(e){var t=typeof e;return e!==null&&(t===`object`||t===`function`)}}),10973:(function(e){var t=Object.prototype.toString;e.exports=function(e){var n;return t.call(e)===`[object Object]`&&(n=Object.getPrototypeOf(e),n===null||n===Object.getPrototypeOf({}))}}),18546:(function(e){e.exports=function(e){for(var t=e.length,n,r=0;r<t;r++)if(n=e.charCodeAt(r),(n<9||n>13)&&n!==32&&n!==133&&n!==160&&n!==5760&&n!==6158&&(n<8192||n>8205)&&n!==8232&&n!==8233&&n!==8239&&n!==8287&&n!==8288&&n!==12288&&n!==65279)return!1;return!0}}),89546:(function(e){e.exports=function(e){return typeof e==`string`?(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4)):!1}}),9187:(function(e,t,n){var r=n(31353),i=n(72077),a=n(6614),o=a(`Object.prototype.toString`),s=n(84543)(),c=n(40383),l=typeof globalThis>`u`?n.g:globalThis,u=i(),d=a(`Array.prototype.indexOf`,!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},f=a(`String.prototype.slice`),p={},m=Object.getPrototypeOf;s&&c&&m&&r(u,function(e){var t=new l[e];if(Symbol.toStringTag in t){var n=m(t),r=c(n,Symbol.toStringTag);r||=c(m(n),Symbol.toStringTag),p[e]=r.get}});var h=function(e){var t=!1;return r(p,function(n,r){if(!t)try{t=n.call(e)===r}catch{}}),t};e.exports=function(e){return!e||typeof e!=`object`?!1:!s||!(Symbol.toStringTag in e)?d(u,f(o(e),8,-1))>-1:c?h(e):!1}}),44517:(function(e){(function(t,n){e.exports=n()})(this,(function(){var e,t,n;function r(r,i){if(!e)e=i;else if(!t)t=i;else{var a=`var sharedChunk = {}; (`+e+`)(sharedChunk); (`+t+`)(sharedChunk);`,o={};e(o),n=i(o),n.workerUrl=window.URL.createObjectURL(new Blob([a],{type:`text/javascript`}))}}return r([`exports`],function(e){function t(e,t){return t={exports:{}},e(t,t.exports),t.exports}var n=`1.10.1`,r=i;function i(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=r,this.p2x=n,this.p2y=r}i.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e},i.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e},i.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},i.prototype.solveCurveX=function(e,t){t===void 0&&(t=1e-6);var n,r,i,a,o;for(i=e,o=0;o<8;o++){if(a=this.sampleCurveX(i)-e,Math.abs(a)<t)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)<1e-6)break;i-=a/s}if(n=0,r=1,i=e,i<n)return n;if(i>r)return r;for(;n<r;){if(a=this.sampleCurveX(i),Math.abs(a-e)<t)return i;e>a?n=i:r=i,i=(r-n)*.5+n}return i},i.prototype.solve=function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))};var a=o;function o(e,t){this.x=e,this.y=t}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),a=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=a,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},o.convert=function(e){return e instanceof o?e:Array.isArray(e)?new o(e[0],e[1]):e};function s(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!s(e[n],t[n]))return!1;return!0}if(typeof e==`object`&&e&&t!==null){if(typeof t!=`object`||Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!s(e[r],t[r]))return!1;return!0}return e===t}function c(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function l(e,t,n,i){var a=new r(e,t,n,i);return function(e){return a.solve(e)}}var u=l(.25,.1,.25,1);function d(e,t,n){return Math.min(n,Math.max(t,e))}function f(e,t,n){var r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function p(e,t,n){if(!e.length)return n(null,[]);var r=e.length,i=Array(e.length),a=null;e.forEach(function(e,o){t(e,function(e,t){e&&(a=e),i[o]=t,--r===0&&n(a,i)})})}function m(e){var t=[];for(var n in e)t.push(e[n]);return t}function h(e,t){var n=[];for(var r in e)r in t||n.push(r);return n}function g(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var a=i[r];for(var o in a)e[o]=a[o]}return e}function _(e,t){for(var n={},r=0;r<t.length;r++){var i=t[r];i in e&&(n[i]=e[i])}return n}var v=1;function y(){return v++}function b(){function e(t){return t?(t^Math.random()*16>>t/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}return e()}function x(e){return e?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e):!1}function S(e,t){e.forEach(function(e){t[e]&&(t[e]=t[e].bind(t))})}function C(e,t){return e.indexOf(t,e.length-t.length)!==-1}function w(e,t,n){var r={};for(var i in e)r[i]=t.call(n||this,e[i],i,e);return r}function T(e,t,n){var r={};for(var i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function E(e){return Array.isArray(e)?e.map(E):typeof e==`object`&&e?w(e,E):e}function D(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}var O={};function k(e){O[e]||(typeof console<`u`&&console.warn(e),O[e]=!0)}function A(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function j(e){for(var t=0,n=0,r=e.length,i=r-1,a=void 0,o=void 0;n<r;i=n++)a=e[n],o=e[i],t+=(o.x-a.x)*(a.y+o.y);return t}function M(e){var t=e[0],n=e[1],r=e[2];return n+=90,n*=Math.PI/180,r*=Math.PI/180,{x:t*Math.cos(n)*Math.sin(r),y:t*Math.sin(n)*Math.sin(r),z:t*Math.cos(r)}}function N(){return typeof WorkerGlobalScope<`u`&&typeof self<`u`&&self instanceof WorkerGlobalScope}function P(e){var t=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,n={};if(e.replace(t,function(e,t,r,i){var a=r||i;return n[t]=a?a.toLowerCase():!0,``}),n[`max-age`]){var r=parseInt(n[`max-age`],10);isNaN(r)?delete n[`max-age`]:n[`max-age`]=r}return n}var F=null;function I(e){if(F==null){var t=e.navigator?e.navigator.userAgent:null;F=!!e.safari||!!(t&&(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match(`Safari`)&&!t.match(`Chrome`)))}return F}function L(e){try{var t=self[e];return t.setItem(`_mapbox_test_`,1),t.removeItem(`_mapbox_test_`),!0}catch{return!1}}function R(e){return self.btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(Number(`0x`+t))}))}function z(e){return decodeURIComponent(self.atob(e).split(``).map(function(e){return`%`+(`00`+e.charCodeAt(0).toString(16)).slice(-2)}).join(``))}var B=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),V=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,H=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,U,W,G={now:B,frame:function(e){var t=V(e);return{cancel:function(){return H(t)}}},getImageData:function(e,t){t===void 0&&(t=0);var n=self.document.createElement(`canvas`),r=n.getContext(`2d`);if(!r)throw Error(`failed to create canvas 2d context`);return n.width=e.width,n.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:function(e){return U||=self.document.createElement(`a`),U.href=e,U.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return self.matchMedia?(W??=self.matchMedia(`(prefers-reduced-motion: reduce)`),W.matches):!1}},K={API_URL:`https://api.mapbox.com`,get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf(`https://api.mapbox.cn`)===0?`https://events.mapbox.cn/events/v2`:this.API_URL.indexOf(`https://api.mapbox.com`)===0?`https://events.mapbox.com/events/v2`:null:null},FEEDBACK_URL:`https://apps.mapbox.com/feedback`,REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ee={supported:!1,testSupport:ne},q,J=!1,Y,te=!1;self.document&&(Y=self.document.createElement(`img`),Y.onload=function(){q&&re(q),q=null,te=!0},Y.onerror=function(){J=!0,q=null},Y.src=`data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=`);function ne(e){J||!Y||(te?re(e):q=e)}function re(e){var t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,Y),e.isContextLost())return;ee.supported=!0}catch{}e.deleteTexture(t),J=!0}var ie=`01`;function ae(){for(var e=`1`,t=`0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ`,n=``,r=0;r<10;r++)n+=t[Math.floor(Math.random()*62)];return{token:[e,ie,n].join(``),tokenExpiresAt:Date.now()+720*60*1e3}}var oe=function(e,t){this._transformRequestFn=e,this._customAccessToken=t,this._createSkuToken()};oe.prototype._createSkuToken=function(){var e=ae();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt},oe.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},oe.prototype.transformRequest=function(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}},oe.prototype.normalizeStyleURL=function(e,t){if(!se(e))return e;var n=pe(e);return n.path=`/styles/v1`+n.path,this._makeAPIURL(n,this._customAccessToken||t)},oe.prototype.normalizeGlyphsURL=function(e,t){if(!se(e))return e;var n=pe(e);return n.path=`/fonts/v1`+n.path,this._makeAPIURL(n,this._customAccessToken||t)},oe.prototype.normalizeSourceURL=function(e,t){if(!se(e))return e;var n=pe(e);return n.path=`/v4/`+n.authority+`.json`,n.params.push(`secure`),this._makeAPIURL(n,this._customAccessToken||t)},oe.prototype.normalizeSpriteURL=function(e,t,n,r){var i=pe(e);return se(e)?(i.path=`/styles/v1`+i.path+`/sprite`+t+n,this._makeAPIURL(i,this._customAccessToken||r)):(i.path+=``+t+n,me(i))},oe.prototype.normalizeTileURL=function(e,t){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!se(e))return e;var n=pe(e),r=/(\.(png|jpg)\d*)(?=$)/,i=/^.+\/v4\//,a=G.devicePixelRatio>=2||t===512?`@2x`:``,o=ee.supported?`.webp`:`$1`;n.path=n.path.replace(r,``+a+o),n.path=n.path.replace(i,`/`),n.path=`/v4`+n.path;var s=this._customAccessToken||de(n.params)||K.ACCESS_TOKEN;return K.REQUIRE_ACCESS_TOKEN&&s&&this._skuToken&&n.params.push(`sku=`+this._skuToken),this._makeAPIURL(n,s)},oe.prototype.canonicalizeTileURL=function(e,t){var n=`/v4/`,r=/\.[\w]+$/,i=pe(e);if(!i.path.match(/(^\/v4\/)/)||!i.path.match(r))return e;var a=`mapbox://tiles/`;a+=i.path.replace(n,``);var o=i.params;return t&&(o=o.filter(function(e){return!e.match(/^access_token=/)})),o.length&&(a+=`?`+o.join(`&`)),a},oe.prototype.canonicalizeTileset=function(e,t){for(var n=t?se(t):!1,r=[],i=0,a=e.tiles||[];i<a.length;i+=1){var o=a[i];le(o)?r.push(this.canonicalizeTileURL(o,n)):r.push(o)}return r},oe.prototype._makeAPIURL=function(e,t){var n=`See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes`,r=pe(K.API_URL);if(e.protocol=r.protocol,e.authority=r.authority,r.path!==`/`&&(e.path=``+r.path+e.path),!K.REQUIRE_ACCESS_TOKEN)return me(e);if(t||=K.ACCESS_TOKEN,!t)throw Error(`An API access token is required to use Mapbox GL. `+n);if(t[0]===`s`)throw Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). `+n);return e.params=e.params.filter(function(e){return e.indexOf(`access_token`)===-1}),e.params.push(`access_token=`+t),me(e)};function se(e){return e.indexOf(`mapbox:`)===0}var ce=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function le(e){return ce.test(e)}function ue(e){return e.indexOf(`sku=`)>0&&le(e)}function de(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t].match(/^access_token=(.*)$/);if(r)return r[1]}return null}var fe=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function pe(e){var t=e.match(fe);if(!t)throw Error(`Unable to parse URL object`);return{protocol:t[1],authority:t[2],path:t[3]||`/`,params:t[4]?t[4].split(`&`):[]}}function me(e){var t=e.params.length?`?`+e.params.join(`&`):``;return e.protocol+`://`+e.authority+e.path+t}var he=`mapbox.eventData`;function ge(e){if(!e)return null;var t=e.split(`.`);if(!t||t.length!==3)return null;try{return JSON.parse(z(t[1]))}catch{return null}}var _e=function(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};_e.prototype.getStorageKey=function(e){var t=ge(K.ACCESS_TOKEN),n=``;return n=t&&t.u?R(t.u):K.ACCESS_TOKEN||``,e?he+`.`+e+`:`+n:he+`:`+n},_e.prototype.fetchEventData=function(){var e=L(`localStorage`),t=this.getStorageKey(),n=this.getStorageKey(`uuid`);if(e)try{var r=self.localStorage.getItem(t);r&&(this.eventData=JSON.parse(r));var i=self.localStorage.getItem(n);i&&(this.anonId=i)}catch{k(`Unable to read from LocalStorage`)}},_e.prototype.saveEventData=function(){var e=L(`localStorage`),t=this.getStorageKey(),n=this.getStorageKey(`uuid`);if(e)try{self.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(t,JSON.stringify(this.eventData))}catch{k(`Unable to write to LocalStorage`)}},_e.prototype.processRequests=function(e){},_e.prototype.postEvent=function(e,t,r,i){var a=this;if(K.EVENTS_URL){var o=pe(K.EVENTS_URL);o.params.push(`access_token=`+(i||K.ACCESS_TOKEN||``));var s={event:this.type,created:new Date(e).toISOString(),sdkIdentifier:`mapbox-gl-js`,sdkVersion:n,skuId:ie,userId:this.anonId},c=t?g(s,t):s;this.pendingRequest=Je({url:me(o),headers:{"Content-Type":`text/plain`},body:JSON.stringify([c])},function(e){a.pendingRequest=null,r(e),a.saveEventData(),a.processRequests(i)})}},_e.prototype.queueRequest=function(e,t){this.queue.push(e),this.processRequests(t)};var ve=function(e){function t(){e.call(this,`map.load`),this.success={},this.skuToken=``}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postMapLoadEvent=function(e,t,n,r){this.skuToken=n,(K.EVENTS_URL&&r||K.ACCESS_TOKEN&&Array.isArray(e)&&e.some(function(e){return se(e)||le(e)}))&&this.queueRequest({id:t,timestamp:Date.now()},r)},t.prototype.processRequests=function(e){var t=this;if(!(this.pendingRequest||this.queue.length===0)){var n=this.queue.shift(),r=n.id,i=n.timestamp;r&&this.success[r]||(this.anonId||this.fetchEventData(),x(this.anonId)||(this.anonId=b()),this.postEvent(i,{skuToken:this.skuToken},function(e){e||r&&(t.success[r]=!0)},e))}},t}(_e),ye=new(function(e){function t(t){e.call(this,`appUserTurnstile`),this._customAccessToken=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.postTurnstileEvent=function(e,t){K.EVENTS_URL&&K.ACCESS_TOKEN&&Array.isArray(e)&&e.some(function(e){return se(e)||le(e)})&&this.queueRequest(Date.now(),t)},t.prototype.processRequests=function(e){var t=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var n=ge(K.ACCESS_TOKEN),r=n?n.u:K.ACCESS_TOKEN,i=r!==this.eventData.tokenU;x(this.anonId)||(this.anonId=b(),i=!0);var a=this.queue.shift();if(this.eventData.lastSuccess){var o=new Date(this.eventData.lastSuccess),s=new Date(a),c=(a-this.eventData.lastSuccess)/(1440*60*1e3);i=i||c>=1||c<-1||o.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(a,{"enabled.telemetry":!1},function(e){e||(t.eventData.lastSuccess=a,t.eventData.tokenU=r)},e)}},t}(_e)),be=ye.postTurnstileEvent.bind(ye),xe=new ve,Se=xe.postMapLoadEvent.bind(xe),Ce=`mapbox-tiles`,we=500,Te=50,Ee=1e3*60*7,X;function Z(){self.caches&&!X&&(X=self.caches.open(Ce))}var De;function Q(e,t){if(De===void 0)try{new Response(new ReadableStream),De=!0}catch{De=!1}De?t(e.body):e.blob().then(t)}function Oe(e,t,n){if(Z(),X){var r={status:t.status,statusText:t.statusText,headers:new self.Headers};t.headers.forEach(function(e,t){return r.headers.set(t,e)});var i=P(t.headers.get(`Cache-Control`)||``);i[`no-store`]||(i[`max-age`]&&r.headers.set(`Expires`,new Date(n+i[`max-age`]*1e3).toUTCString()),!(new Date(r.headers.get(`Expires`)).getTime()-n<Ee)&&Q(t,function(t){var n=new self.Response(t,r);Z(),X&&X.then(function(t){return t.put(ke(e.url),n)}).catch(function(e){return k(e.message)})}))}}function ke(e){var t=e.indexOf(`?`);return t<0?e:e.slice(0,t)}function Ae(e,t){if(Z(),!X)return t(null);var n=ke(e.url);X.then(function(e){e.match(n).then(function(r){var i=je(r);e.delete(n),i&&e.put(n,r.clone()),t(null,r,i)}).catch(t)}).catch(t)}function je(e){if(!e)return!1;var t=new Date(e.headers.get(`Expires`)||0),n=P(e.headers.get(`Cache-Control`)||``);return t>Date.now()&&!n[`no-cache`]}var Me=1/0;function Ne(e){Me++,Me>Te&&(e.getActor().send(`enforceCacheSizeLimit`,we),Me=0)}function Pe(e){Z(),X&&X.then(function(t){t.keys().then(function(n){for(var r=0;r<n.length-e;r++)t.delete(n[r])})})}function Fe(e){var t=self.caches.delete(Ce);e&&t.catch(e).then(function(){return e()})}function Ie(e,t){we=e,Te=t}var Le;function Re(){return Le??=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext(`2d`)&&typeof self.createImageBitmap==`function`,Le}var ze={Unknown:`Unknown`,Style:`Style`,Source:`Source`,Tile:`Tile`,Glyphs:`Glyphs`,SpriteImage:`SpriteImage`,SpriteJSON:`SpriteJSON`,Image:`Image`};typeof Object.freeze==`function`&&Object.freeze(ze);var Be=function(e){function t(t,n,r){n===401&&le(r)&&(t+=`: you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes`),e.call(this,t),this.status=n,this.url=r,this.name=this.constructor.name,this.message=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.name+`: `+this.message+` (`+this.status+`): `+this.url},t}(Error),Ve=N()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol===`blob:`?self.parent:self).location.href},He=function(e){return/^file:/.test(e)||/^file:/.test(Ve())&&!/^\w+:/.test(e)};function Ue(e,t){var n=new self.AbortController,r=new self.Request(e.url,{method:e.method||`GET`,body:e.body,credentials:e.credentials,headers:e.headers,referrer:Ve(),signal:n.signal}),i=!1,a=!1,o=ue(r.url);e.type===`json`&&r.headers.set(`Accept`,`application/json`);var s=function(n,i,s){if(!a){if(n&&n.message!==`SecurityError`&&k(n),i&&s)return c(i);var l=Date.now();self.fetch(r).then(function(n){return n.ok?c(n,o?n.clone():null,l):t(new Be(n.statusText,n.status,e.url))}).catch(function(e){e.code!==20&&t(Error(e.message))})}},c=function(n,o,s){(e.type===`arrayBuffer`?n.arrayBuffer():e.type===`json`?n.json():n.text()).then(function(e){a||(o&&s&&Oe(r,o,s),i=!0,t(null,e,n.headers.get(`Cache-Control`),n.headers.get(`Expires`)))}).catch(function(e){a||t(Error(e.message))})};return o?Ae(r,s):s(null,null),{cancel:function(){a=!0,i||n.abort()}}}function We(e,t){var n=new self.XMLHttpRequest;for(var r in n.open(e.method||`GET`,e.url,!0),e.type===`arrayBuffer`&&(n.responseType=`arraybuffer`),e.headers)n.setRequestHeader(r,e.headers[r]);return e.type===`json`&&(n.responseType=`text`,n.setRequestHeader(`Accept`,`application/json`)),n.withCredentials=e.credentials===`include`,n.onerror=function(){t(Error(n.statusText))},n.onload=function(){if((n.status>=200&&n.status<300||n.status===0)&&n.response!==null){var r=n.response;if(e.type===`json`)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader(`Cache-Control`),n.getResponseHeader(`Expires`))}else t(new Be(n.statusText,n.status,e.url))},n.send(e.body),{cancel:function(){return n.abort()}}}var Ge=function(e,t){if(!He(e.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty(`signal`))return Ue(e,t);if(N()&&self.worker&&self.worker.actor)return self.worker.actor.send(`getResource`,e,t,void 0,!0)}return We(e,t)},Ke=function(e,t){return Ge(g(e,{type:`json`}),t)},qe=function(e,t){return Ge(g(e,{type:`arrayBuffer`}),t)},Je=function(e,t){return Ge(g(e,{method:`POST`}),t)};function Ye(e){var t=self.document.createElement(`a`);return t.href=e,t.protocol===self.document.location.protocol&&t.host===self.document.location.host}var Xe=`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=`;function Ze(e,t,n,r){var i=new self.Image,a=self.URL;i.onload=function(){t(null,i),a.revokeObjectURL(i.src)},i.onerror=function(){return t(Error(`Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))};var o=new self.Blob([new Uint8Array(e)],{type:`image/png`});i.cacheControl=n,i.expires=r,i.src=e.byteLength?a.createObjectURL(o):Xe}function Qe(e,t){var n=new self.Blob([new Uint8Array(e)],{type:`image/png`});self.createImageBitmap(n).then(function(e){t(null,e)}).catch(function(e){t(Error(`Could not load image because of `+e.message+`. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}var $e,et;(function(){$e=[],et=0})();var tt=function(e,t){if(ee.supported&&(e.headers||={},e.headers.accept=`image/webp,*/*`),et>=K.MAX_PARALLEL_IMAGE_REQUESTS){var n={requestParameters:e,callback:t,cancelled:!1,cancel:function(){this.cancelled=!0}};return $e.push(n),n}et++;var r=!1,i=function(){if(!r)for(r=!0,et--;$e.length&&et<K.MAX_PARALLEL_IMAGE_REQUESTS;){var e=$e.shift(),t=e.requestParameters,n=e.callback;e.cancelled||(e.cancel=tt(t,n).cancel)}},a=qe(e,function(e,n,r,a){i(),e?t(e):n&&(Re()?Qe(n,t):Ze(n,t,r,a))});return{cancel:function(){a.cancel(),i()}}},nt=function(e,t){var n=self.document.createElement(`video`);n.muted=!0,n.onloadstart=function(){t(null,n)};for(var r=0;r<e.length;r++){var i=self.document.createElement(`source`);Ye(e[r])||(n.crossOrigin=`Anonymous`),i.src=e[r],n.appendChild(i)}return{cancel:function(){}}};function rt(e,t,n){n[e]&&n[e].indexOf(t)!==-1||(n[e]=n[e]||[],n[e].push(t))}function it(e,t,n){if(n&&n[e]){var r=n[e].indexOf(t);r!==-1&&n[e].splice(r,1)}}var at=function(e,t){t===void 0&&(t={}),g(this,t),this.type=e},ot=function(e){function t(t,n){n===void 0&&(n={}),e.call(this,`error`,g({error:t},n))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(at),st=function(){};st.prototype.on=function(e,t){return this._listeners=this._listeners||{},rt(e,t,this._listeners),this},st.prototype.off=function(e,t){return it(e,t,this._listeners),it(e,t,this._oneTimeListeners),this},st.prototype.once=function(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},rt(e,t,this._oneTimeListeners),this},st.prototype.fire=function(e,t){typeof e==`string`&&(e=new at(e,t||{}));var n=e.type;if(this.listens(n)){e.target=this;for(var r=this._listeners&&this._listeners[n]?this._listeners[n].slice():[],i=0,a=r;i<a.length;i+=1)a[i].call(this,e);for(var o=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[],s=0,c=o;s<c.length;s+=1){var l=c[s];it(n,l,this._oneTimeListeners),l.call(this,e)}var u=this._eventedParent;u&&(g(e,typeof this._eventedParentData==`function`?this._eventedParentData():this._eventedParentData),u.fire(e))}else e instanceof ot&&console.error(e.error);return this},st.prototype.listens=function(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)},st.prototype.setEventedParent=function(e,t){return this._eventedParent=e,this._eventedParentData=t,this};var ct=8,lt={version:{required:!0,type:`enum`,values:[8]},name:{type:`string`},metadata:{type:`*`},center:{type:`array`,value:`number`},zoom:{type:`number`},bearing:{type:`number`,default:0,period:360,units:`degrees`},pitch:{type:`number`,default:0,units:`degrees`},light:{type:`light`},sources:{required:!0,type:`sources`},sprite:{type:`string`},glyphs:{type:`string`},transition:{type:`transition`},layers:{required:!0,type:`array`,value:`layer`}},ut={"*":{type:`source`}},dt=[`source_vector`,`source_raster`,`source_raster_dem`,`source_geojson`,`source_video`,`source_image`],ft={type:{required:!0,type:`enum`,values:{vector:{}}},url:{type:`string`},tiles:{type:`array`,value:`string`},bounds:{type:`array`,value:`number`,length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:`enum`,values:{xyz:{},tms:{}},default:`xyz`},minzoom:{type:`number`,default:0},maxzoom:{type:`number`,default:22},attribution:{type:`string`},promoteId:{type:`promoteId`},"*":{type:`*`}},pt={type:{required:!0,type:`enum`,values:{raster:{}}},url:{type:`string`},tiles:{type:`array`,value:`string`},bounds:{type:`array`,value:`number`,length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:`number`,default:0},maxzoom:{type:`number`,default:22},tileSize:{type:`number`,default:512,units:`pixels`},scheme:{type:`enum`,values:{xyz:{},tms:{}},default:`xyz`},attribution:{type:`string`},"*":{type:`*`}},mt={type:{required:!0,type:`enum`,values:{"raster-dem":{}}},url:{type:`string`},tiles:{type:`array`,value:`string`},bounds:{type:`array`,value:`number`,length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:`number`,default:0},maxzoom:{type:`number`,default:22},tileSize:{type:`number`,default:512,units:`pixels`},attribution:{type:`string`},encoding:{type:`enum`,values:{terrarium:{},mapbox:{}},default:`mapbox`},"*":{type:`*`}},ht={type:{required:!0,type:`enum`,values:{geojson:{}}},data:{type:`*`},maxzoom:{type:`number`,default:18},attribution:{type:`string`},buffer:{type:`number`,default:128,maximum:512,minimum:0},tolerance:{type:`number`,default:.375},cluster:{type:`boolean`,default:!1},clusterRadius:{type:`number`,default:50,minimum:0},clusterMaxZoom:{type:`number`},clusterProperties:{type:`*`},lineMetrics:{type:`boolean`,default:!1},generateId:{type:`boolean`,default:!1},promoteId:{type:`promoteId`}},gt={type:{required:!0,type:`enum`,values:{video:{}}},urls:{required:!0,type:`array`,value:`string`},coordinates:{required:!0,type:`array`,length:4,value:{type:`array`,length:2,value:`number`}}},_t={type:{required:!0,type:`enum`,values:{image:{}}},url:{required:!0,type:`string`},coordinates:{required:!0,type:`array`,length:4,value:{type:`array`,length:2,value:`number`}}},vt={id:{type:`string`,required:!0},type:{type:`enum`,values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:`*`},source:{type:`string`},"source-layer":{type:`string`},minzoom:{type:`number`,minimum:0,maximum:24},maxzoom:{type:`number`,minimum:0,maximum:24},filter:{type:`filter`},layout:{type:`layout`},paint:{type:`paint`}},yt=[`layout_fill`,`layout_line`,`layout_circle`,`layout_heatmap`,`layout_fill-extrusion`,`layout_symbol`,`layout_raster`,`layout_hillshade`,`layout_background`],bt={visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},xt={"fill-sort-key":{type:`number`,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},St={"circle-sort-key":{type:`number`,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},Ct={visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},wt={"line-cap":{type:`enum`,values:{butt:{},round:{},square:{}},default:`butt`,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"line-join":{type:`enum`,values:{bevel:{},round:{},miter:{}},default:`miter`,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"line-miter-limit":{type:`number`,default:2,requires:[{"line-join":`miter`}],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"line-round-limit":{type:`number`,default:1.05,requires:[{"line-join":`round`}],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"line-sort-key":{type:`number`,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},Tt={"symbol-placement":{type:`enum`,values:{point:{},line:{},"line-center":{}},default:`point`,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"symbol-spacing":{type:`number`,default:250,minimum:1,units:`pixels`,requires:[{"symbol-placement":`line`}],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"symbol-avoid-edges":{type:`boolean`,default:!1,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"symbol-sort-key":{type:`number`,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"symbol-z-order":{type:`enum`,values:{auto:{},"viewport-y":{},source:{}},default:`auto`,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"icon-allow-overlap":{type:`boolean`,default:!1,requires:[`icon-image`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"icon-ignore-placement":{type:`boolean`,default:!1,requires:[`icon-image`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"icon-optional":{type:`boolean`,default:!1,requires:[`icon-image`,`text-field`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"icon-rotation-alignment":{type:`enum`,values:{map:{},viewport:{},auto:{}},default:`auto`,requires:[`icon-image`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"icon-size":{type:`number`,default:1,minimum:0,units:`factor of the original icon size`,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"icon-text-fit":{type:`enum`,values:{none:{},width:{},height:{},both:{}},default:`none`,requires:[`icon-image`,`text-field`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"icon-text-fit-padding":{type:`array`,value:`number`,length:4,default:[0,0,0,0],units:`pixels`,requires:[`icon-image`,`text-field`,{"icon-text-fit":[`both`,`width`,`height`]}],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"icon-image":{type:`resolvedImage`,tokens:!0,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"icon-rotate":{type:`number`,default:0,period:360,units:`degrees`,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"icon-padding":{type:`number`,default:2,minimum:0,units:`pixels`,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"icon-keep-upright":{type:`boolean`,default:!1,requires:[`icon-image`,{"icon-rotation-alignment":`map`},{"symbol-placement":[`line`,`line-center`]}],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"icon-offset":{type:`array`,value:`number`,length:2,default:[0,0],requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"icon-anchor":{type:`enum`,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:`center`,requires:[`icon-image`],expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"icon-pitch-alignment":{type:`enum`,values:{map:{},viewport:{},auto:{}},default:`auto`,requires:[`icon-image`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-pitch-alignment":{type:`enum`,values:{map:{},viewport:{},auto:{}},default:`auto`,requires:[`text-field`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-rotation-alignment":{type:`enum`,values:{map:{},viewport:{},auto:{}},default:`auto`,requires:[`text-field`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-field":{type:`formatted`,default:``,tokens:!0,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-font":{type:`array`,value:`string`,default:[`Open Sans Regular`,`Arial Unicode MS Regular`],requires:[`text-field`],expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-size":{type:`number`,default:16,minimum:0,units:`pixels`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-max-width":{type:`number`,default:10,minimum:0,units:`ems`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-line-height":{type:`number`,default:1.2,units:`ems`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"text-letter-spacing":{type:`number`,default:0,units:`ems`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-justify":{type:`enum`,values:{auto:{},left:{},center:{},right:{}},default:`center`,requires:[`text-field`],expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-radial-offset":{type:`number`,units:`ems`,default:0,requires:[`text-field`],"property-type":`data-driven`,expression:{interpolated:!0,parameters:[`zoom`,`feature`]}},"text-variable-anchor":{type:`array`,value:`enum`,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:[`text-field`,{"symbol-placement":[`point`]}],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-anchor":{type:`enum`,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:`center`,requires:[`text-field`,{"!":`text-variable-anchor`}],expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-max-angle":{type:`number`,default:45,units:`degrees`,requires:[`text-field`,{"symbol-placement":[`line`,`line-center`]}],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"text-writing-mode":{type:`array`,value:`enum`,values:{horizontal:{},vertical:{}},requires:[`text-field`,{"symbol-placement":[`point`]}],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-rotate":{type:`number`,default:0,period:360,units:`degrees`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-padding":{type:`number`,default:2,minimum:0,units:`pixels`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"text-keep-upright":{type:`boolean`,default:!0,requires:[`text-field`,{"text-rotation-alignment":`map`},{"symbol-placement":[`line`,`line-center`]}],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-transform":{type:`enum`,values:{none:{},uppercase:{},lowercase:{}},default:`none`,requires:[`text-field`],expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-offset":{type:`array`,value:`number`,units:`ems`,length:2,default:[0,0],requires:[`text-field`,{"!":`text-radial-offset`}],expression:{interpolated:!0,parameters:[`zoom`,`feature`]},"property-type":`data-driven`},"text-allow-overlap":{type:`boolean`,default:!1,requires:[`text-field`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-ignore-placement":{type:`boolean`,default:!1,requires:[`text-field`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-optional":{type:`boolean`,default:!1,requires:[`text-field`,`icon-image`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},Et={visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},Dt={visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},Ot={type:`array`,value:`*`},kt={type:`enum`,values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},At={type:`enum`,values:{Point:{},LineString:{},Polygon:{}}},jt={type:`array`,minimum:0,maximum:24,value:[`number`,`color`],length:2},Mt={type:`array`,value:`*`,minimum:1},Nt={type:`enum`,values:{let:{group:`Variable binding`},var:{group:`Variable binding`},literal:{group:`Types`},array:{group:`Types`},at:{group:`Lookup`},in:{group:`Lookup`},"index-of":{group:`Lookup`},slice:{group:`Lookup`},case:{group:`Decision`},match:{group:`Decision`},coalesce:{group:`Decision`},step:{group:`Ramps, scales, curves`},interpolate:{group:`Ramps, scales, curves`},"interpolate-hcl":{group:`Ramps, scales, curves`},"interpolate-lab":{group:`Ramps, scales, curves`},ln2:{group:`Math`},pi:{group:`Math`},e:{group:`Math`},typeof:{group:`Types`},string:{group:`Types`},number:{group:`Types`},boolean:{group:`Types`},object:{group:`Types`},collator:{group:`Types`},format:{group:`Types`},image:{group:`Types`},"number-format":{group:`Types`},"to-string":{group:`Types`},"to-number":{group:`Types`},"to-boolean":{group:`Types`},"to-rgba":{group:`Color`},"to-color":{group:`Types`},rgb:{group:`Color`},rgba:{group:`Color`},get:{group:`Lookup`},has:{group:`Lookup`},length:{group:`Lookup`},properties:{group:`Feature data`},"feature-state":{group:`Feature data`},"geometry-type":{group:`Feature data`},id:{group:`Feature data`},zoom:{group:`Zoom`},"heatmap-density":{group:`Heatmap`},"line-progress":{group:`Feature data`},accumulated:{group:`Feature data`},"+":{group:`Math`},"*":{group:`Math`},"-":{group:`Math`},"/":{group:`Math`},"%":{group:`Math`},"^":{group:`Math`},sqrt:{group:`Math`},log10:{group:`Math`},ln:{group:`Math`},log2:{group:`Math`},sin:{group:`Math`},cos:{group:`Math`},tan:{group:`Math`},asin:{group:`Math`},acos:{group:`Math`},atan:{group:`Math`},min:{group:`Math`},max:{group:`Math`},round:{group:`Math`},abs:{group:`Math`},ceil:{group:`Math`},floor:{group:`Math`},distance:{group:`Math`},"==":{group:`Decision`},"!=":{group:`Decision`},">":{group:`Decision`},"<":{group:`Decision`},">=":{group:`Decision`},"<=":{group:`Decision`},all:{group:`Decision`},any:{group:`Decision`},"!":{group:`Decision`},within:{group:`Decision`},"is-supported-script":{group:`String`},upcase:{group:`String`},downcase:{group:`String`},concat:{group:`String`},"resolved-locale":{group:`String`}}},Pt={anchor:{type:`enum`,default:`viewport`,values:{map:{},viewport:{}},"property-type":`data-constant`,transition:!1,expression:{interpolated:!1,parameters:[`zoom`]}},position:{type:`array`,default:[1.15,210,30],length:3,value:`number`,"property-type":`data-constant`,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]}},color:{type:`color`,"property-type":`data-constant`,default:`#ffffff`,expression:{interpolated:!0,parameters:[`zoom`]},transition:!0},intensity:{type:`number`,"property-type":`data-constant`,default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:[`zoom`]},transition:!0}},Ft=[`paint_fill`,`paint_line`,`paint_circle`,`paint_heatmap`,`paint_fill-extrusion`,`paint_symbol`,`paint_raster`,`paint_hillshade`,`paint_background`],It={"fill-antialias":{type:`boolean`,default:!0,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"fill-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"fill-color":{type:`color`,default:`#000000`,transition:!0,requires:[{"!":`fill-pattern`}],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"fill-outline-color":{type:`color`,transition:!0,requires:[{"!":`fill-pattern`},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"fill-translate":{type:`array`,value:`number`,length:2,default:[0,0],transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"fill-translate-anchor":{type:`enum`,values:{map:{},viewport:{}},default:`map`,requires:[`fill-translate`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"fill-pattern":{type:`resolvedImage`,transition:!0,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`cross-faded-data-driven`}},Lt={"line-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"line-color":{type:`color`,default:`#000000`,transition:!0,requires:[{"!":`line-pattern`}],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"line-translate":{type:`array`,value:`number`,length:2,default:[0,0],transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"line-translate-anchor":{type:`enum`,values:{map:{},viewport:{}},default:`map`,requires:[`line-translate`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"line-width":{type:`number`,default:1,minimum:0,transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"line-gap-width":{type:`number`,default:0,minimum:0,transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"line-offset":{type:`number`,default:0,transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"line-blur":{type:`number`,default:0,minimum:0,transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"line-dasharray":{type:`array`,value:`number`,minimum:0,transition:!0,units:`line widths`,requires:[{"!":`line-pattern`}],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`cross-faded`},"line-pattern":{type:`resolvedImage`,transition:!0,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`cross-faded-data-driven`},"line-gradient":{type:`color`,transition:!1,requires:[{"!":`line-dasharray`},{"!":`line-pattern`},{source:`geojson`,has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:[`line-progress`]},"property-type":`color-ramp`}},Rt={"circle-radius":{type:`number`,default:5,minimum:0,transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"circle-color":{type:`color`,default:`#000000`,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"circle-blur":{type:`number`,default:0,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"circle-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"circle-translate":{type:`array`,value:`number`,length:2,default:[0,0],transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"circle-translate-anchor":{type:`enum`,values:{map:{},viewport:{}},default:`map`,requires:[`circle-translate`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"circle-pitch-scale":{type:`enum`,values:{map:{},viewport:{}},default:`map`,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"circle-pitch-alignment":{type:`enum`,values:{map:{},viewport:{}},default:`viewport`,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"circle-stroke-width":{type:`number`,default:0,minimum:0,transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"circle-stroke-color":{type:`color`,default:`#000000`,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"circle-stroke-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`}},zt={"heatmap-radius":{type:`number`,default:30,minimum:1,transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"heatmap-weight":{type:`number`,default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"heatmap-intensity":{type:`number`,default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"heatmap-color":{type:`color`,default:[`interpolate`,[`linear`],[`heatmap-density`],0,`rgba(0, 0, 255, 0)`,.1,`royalblue`,.3,`cyan`,.5,`lime`,.7,`yellow`,1,`red`],transition:!1,expression:{interpolated:!0,parameters:[`heatmap-density`]},"property-type":`color-ramp`},"heatmap-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`}},Bt={"icon-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"icon-color":{type:`color`,default:`#000000`,transition:!0,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"icon-halo-color":{type:`color`,default:`rgba(0, 0, 0, 0)`,transition:!0,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"icon-halo-width":{type:`number`,default:0,minimum:0,transition:!0,units:`pixels`,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"icon-halo-blur":{type:`number`,default:0,minimum:0,transition:!0,units:`pixels`,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"icon-translate":{type:`array`,value:`number`,length:2,default:[0,0],transition:!0,units:`pixels`,requires:[`icon-image`],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"icon-translate-anchor":{type:`enum`,values:{map:{},viewport:{}},default:`map`,requires:[`icon-image`,`icon-translate`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"text-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"text-color":{type:`color`,default:`#000000`,transition:!0,overridable:!0,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"text-halo-color":{type:`color`,default:`rgba(0, 0, 0, 0)`,transition:!0,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"text-halo-width":{type:`number`,default:0,minimum:0,transition:!0,units:`pixels`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"text-halo-blur":{type:`number`,default:0,minimum:0,transition:!0,units:`pixels`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"text-translate":{type:`array`,value:`number`,length:2,default:[0,0],transition:!0,units:`pixels`,requires:[`text-field`],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"text-translate-anchor":{type:`enum`,values:{map:{},viewport:{}},default:`map`,requires:[`text-field`,`text-translate`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`}},Vt={"raster-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"raster-hue-rotate":{type:`number`,default:0,period:360,transition:!0,units:`degrees`,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"raster-brightness-min":{type:`number`,default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"raster-brightness-max":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"raster-saturation":{type:`number`,default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"raster-contrast":{type:`number`,default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"raster-resampling":{type:`enum`,values:{linear:{},nearest:{}},default:`linear`,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"raster-fade-duration":{type:`number`,default:300,minimum:0,transition:!1,units:`milliseconds`,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`}},Ht={"hillshade-illumination-direction":{type:`number`,default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"hillshade-illumination-anchor":{type:`enum`,values:{map:{},viewport:{}},default:`viewport`,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"hillshade-exaggeration":{type:`number`,default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"hillshade-shadow-color":{type:`color`,default:`#000000`,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"hillshade-highlight-color":{type:`color`,default:`#FFFFFF`,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"hillshade-accent-color":{type:`color`,default:`#000000`,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`}},Ut={"background-color":{type:`color`,default:`#000000`,transition:!0,requires:[{"!":`background-pattern`}],expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"background-pattern":{type:`resolvedImage`,transition:!0,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`cross-faded`},"background-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`}},Wt={duration:{type:`number`,default:300,minimum:0,units:`milliseconds`},delay:{type:`number`,default:0,minimum:0,units:`milliseconds`}},Gt={"*":{type:`string`}},Kt={$version:ct,$root:lt,sources:ut,source:dt,source_vector:ft,source_raster:pt,source_raster_dem:mt,source_geojson:ht,source_video:gt,source_image:_t,layer:vt,layout:yt,layout_background:bt,layout_fill:xt,layout_circle:St,layout_heatmap:Ct,"layout_fill-extrusion":{visibility:{type:`enum`,values:{visible:{},none:{}},default:`visible`,"property-type":`constant`}},layout_line:wt,layout_symbol:Tt,layout_raster:Et,layout_hillshade:Dt,filter:Ot,filter_operator:kt,geometry_type:At,function:{expression:{type:`expression`},stops:{type:`array`,value:`function_stop`},base:{type:`number`,default:1,minimum:0},property:{type:`string`,default:`$zoom`},type:{type:`enum`,values:{identity:{},exponential:{},interval:{},categorical:{}},default:`exponential`},colorSpace:{type:`enum`,values:{rgb:{},lab:{},hcl:{}},default:`rgb`},default:{type:`*`,required:!1}},function_stop:jt,expression:Mt,expression_name:Nt,light:Pt,paint:Ft,paint_fill:It,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:`number`,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"fill-extrusion-color":{type:`color`,default:`#000000`,transition:!0,requires:[{"!":`fill-extrusion-pattern`}],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"fill-extrusion-translate":{type:`array`,value:`number`,length:2,default:[0,0],transition:!0,units:`pixels`,expression:{interpolated:!0,parameters:[`zoom`]},"property-type":`data-constant`},"fill-extrusion-translate-anchor":{type:`enum`,values:{map:{},viewport:{}},default:`map`,requires:[`fill-extrusion-translate`],expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`},"fill-extrusion-pattern":{type:`resolvedImage`,transition:!0,expression:{interpolated:!1,parameters:[`zoom`,`feature`]},"property-type":`cross-faded-data-driven`},"fill-extrusion-height":{type:`number`,default:0,minimum:0,units:`meters`,transition:!0,expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"fill-extrusion-base":{type:`number`,default:0,minimum:0,units:`meters`,transition:!0,requires:[`fill-extrusion-height`],expression:{interpolated:!0,parameters:[`zoom`,`feature`,`feature-state`]},"property-type":`data-driven`},"fill-extrusion-vertical-gradient":{type:`boolean`,default:!0,transition:!1,expression:{interpolated:!1,parameters:[`zoom`]},"property-type":`data-constant`}},paint_line:Lt,paint_circle:Rt,paint_heatmap:zt,paint_symbol:Bt,paint_raster:Vt,paint_hillshade:Ht,paint_background:Ut,transition:Wt,"property-type":{"data-driven":{type:`property-type`},"cross-faded":{type:`property-type`},"cross-faded-data-driven":{type:`property-type`},"color-ramp":{type:`property-type`},"data-constant":{type:`property-type`},constant:{type:`property-type`}},promoteId:Gt},qt=function(e,t,n,r){this.message=(e?e+`: `:``)+n,r&&(this.identifier=r),t!=null&&t.__line__&&(this.line=t.__line__)};function Jt(e){var t=e.key,n=e.value;return n?[new qt(t,n,`constants have been deprecated as of v8`)]:[]}function Yt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=0,i=t;r<i.length;r+=1){var a=i[r];for(var o in a)e[o]=a[o]}return e}function Xt(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Zt(e){if(Array.isArray(e))return e.map(Zt);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){var t={};for(var n in e)t[n]=Zt(e[n]);return t}return Xt(e)}var Qt=function(e){function t(t,n){e.call(this,n),this.message=n,this.key=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),$t=function(e,t){t===void 0&&(t=[]),this.parent=e,this.bindings={};for(var n=0,r=t;n<r.length;n+=1){var i=r[n],a=i[0],o=i[1];this.bindings[a]=o}};$t.prototype.concat=function(e){return new $t(this,e)},$t.prototype.get=function(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw Error(e+` not found in scope.`)},$t.prototype.has=function(e){return this.bindings[e]?!0:this.parent?this.parent.has(e):!1};var en={kind:`null`},tn={kind:`number`},nn={kind:`string`},rn={kind:`boolean`},an={kind:`color`},on={kind:`object`},sn={kind:`value`},cn={kind:`error`},ln={kind:`collator`},un={kind:`formatted`},dn={kind:`resolvedImage`};function fn(e,t){return{kind:`array`,itemType:e,N:t}}function pn(e){if(e.kind===`array`){var t=pn(e.itemType);return typeof e.N==`number`?`array<`+t+`, `+e.N+`>`:e.itemType.kind===`value`?`array`:`array<`+t+`>`}else return e.kind}var mn=[en,tn,nn,rn,an,un,on,fn(sn),dn];function hn(e,t){if(t.kind===`error`)return null;if(e.kind===`array`){if(t.kind===`array`&&(t.N===0&&t.itemType.kind===`value`||!hn(e.itemType,t.itemType))&&(typeof e.N!=`number`||e.N===t.N))return null}else if(e.kind===t.kind)return null;else if(e.kind===`value`)for(var n=0,r=mn;n<r.length;n+=1){var i=r[n];if(!hn(i,t))return null}return`Expected `+pn(e)+` but found `+pn(t)+` instead.`}function gn(e,t){return t.some(function(t){return t.kind===e.kind})}function _n(e,t){return t.some(function(t){return t===`null`?e===null:t===`array`?Array.isArray(e):t===`object`?e&&!Array.isArray(e)&&typeof e==`object`:t===typeof e})}var vn=t(function(e,t){var n={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function r(e){return e=Math.round(e),e<0?0:e>255?255:e}function i(e){return e<0?0:e>1?1:e}function a(e){return e[e.length-1]===`%`?r(parseFloat(e)/100*255):r(parseInt(e))}function o(e){return e[e.length-1]===`%`?i(parseFloat(e)/100):i(parseFloat(e))}function s(e,t,n){return n<0?n+=1:n>1&&--n,n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}function c(e){var t=e.replace(/ /g,``).toLowerCase();if(t in n)return n[t].slice();if(t[0]===`#`){if(t.length===4){var i=parseInt(t.substr(1),16);return i>=0&&i<=4095?[(i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,1]:null}else if(t.length===7){var i=parseInt(t.substr(1),16);return i>=0&&i<=16777215?[(i&16711680)>>16,(i&65280)>>8,i&255,1]:null}return null}var c=t.indexOf(`(`),l=t.indexOf(`)`);if(c!==-1&&l+1===t.length){var u=t.substr(0,c),d=t.substr(c+1,l-(c+1)).split(`,`),f=1;switch(u){case`rgba`:if(d.length!==4)return null;f=o(d.pop());case`rgb`:return d.length===3?[a(d[0]),a(d[1]),a(d[2]),f]:null;case`hsla`:if(d.length!==4)return null;f=o(d.pop());case`hsl`:if(d.length!==3)return null;var p=(parseFloat(d[0])%360+360)%360/360,m=o(d[1]),h=o(d[2]),g=h<=.5?h*(m+1):h+m-h*m,_=h*2-g;return[r(s(_,g,p+1/3)*255),r(s(_,g,p)*255),r(s(_,g,p-1/3)*255),f];default:return null}}return null}try{t.parseCSSColor=c}catch{}}).parseCSSColor,yn=function(e,t,n,r){r===void 0&&(r=1),this.r=e,this.g=t,this.b=n,this.a=r};yn.parse=function(e){if(e){if(e instanceof yn)return e;if(typeof e==`string`){var t=vn(e);if(t)return new yn(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3])}}},yn.prototype.toString=function(){var e=this.toArray(),t=e[0],n=e[1],r=e[2],i=e[3];return`rgba(`+Math.round(t)+`,`+Math.round(n)+`,`+Math.round(r)+`,`+i+`)`},yn.prototype.toArray=function(){var e=this,t=e.r,n=e.g,r=e.b,i=e.a;return i===0?[0,0,0,0]:[t*255/i,n*255/i,r*255/i,i]},yn.black=new yn(0,0,0,1),yn.white=new yn(1,1,1,1),yn.transparent=new yn(0,0,0,0),yn.red=new yn(1,0,0,1);var bn=function(e,t,n){e?this.sensitivity=t?`variant`:`case`:this.sensitivity=t?`accent`:`base`,this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:`search`})};bn.prototype.compare=function(e,t){return this.collator.compare(e,t)},bn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var xn=function(e,t,n,r,i){this.text=e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=i},Sn=function(e){this.sections=e};Sn.fromString=function(e){return new Sn([new xn(e,null,null,null,null)])},Sn.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(e){return e.text.length!==0||e.image&&e.image.name.length!==0})},Sn.factory=function(e){return e instanceof Sn?e:Sn.fromString(e)},Sn.prototype.toString=function(){return this.sections.length===0?``:this.sections.map(function(e){return e.text}).join(``)},Sn.prototype.serialize=function(){for(var e=[`format`],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];if(r.image){e.push([`image`,r.image.name]);continue}e.push(r.text);var i={};r.fontStack&&(i[`text-font`]=[`literal`,r.fontStack.split(`,`)]),r.scale&&(i[`font-scale`]=r.scale),r.textColor&&(i[`text-color`]=[`rgba`].concat(r.textColor.toArray())),e.push(i)}return e};var Cn=function(e){this.name=e.name,this.available=e.available};Cn.prototype.toString=function(){return this.name},Cn.fromString=function(e){return e?new Cn({name:e,available:!1}):null},Cn.prototype.serialize=function(){return[`image`,this.name]};function wn(e,t,n,r){return typeof e==`number`&&e>=0&&e<=255&&typeof t==`number`&&t>=0&&t<=255&&typeof n==`number`&&n>=0&&n<=255?r===void 0||typeof r==`number`&&r>=0&&r<=1?null:`Invalid rgba value [`+[e,t,n,r].join(`, `)+`]: 'a' must be between 0 and 1.`:`Invalid rgba value [`+(typeof r==`number`?[e,t,n,r]:[e,t,n]).join(`, `)+`]: 'r', 'g', and 'b' must be between 0 and 255.`}function Tn(e){if(e===null||typeof e==`string`||typeof e==`boolean`||typeof e==`number`||e instanceof yn||e instanceof bn||e instanceof Sn||e instanceof Cn)return!0;if(Array.isArray(e)){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(!Tn(r))return!1}return!0}else if(typeof e==`object`){for(var i in e)if(!Tn(e[i]))return!1;return!0}else return!1}function En(e){if(e===null)return en;if(typeof e==`string`)return nn;if(typeof e==`boolean`)return rn;if(typeof e==`number`)return tn;if(e instanceof yn)return an;if(e instanceof bn)return ln;if(e instanceof Sn)return un;if(e instanceof Cn)return dn;if(Array.isArray(e)){for(var t=e.length,n,r=0,i=e;r<i.length;r+=1){var a=i[r],o=En(a);if(!n)n=o;else if(n===o)continue;else{n=sn;break}}return fn(n||sn,t)}else return on}function Dn(e){var t=typeof e;return e===null?``:t===`string`||t===`number`||t===`boolean`?String(e):e instanceof yn||e instanceof Sn||e instanceof Cn?e.toString():JSON.stringify(e)}var On=function(e,t){this.type=e,this.value=t};On.parse=function(e,t){if(e.length!==2)return t.error(`'literal' expression requires exactly one argument, but found `+(e.length-1)+` instead.`);if(!Tn(e[1]))return t.error(`invalid value`);var n=e[1],r=En(n),i=t.expectedType;return r.kind===`array`&&r.N===0&&i&&i.kind===`array`&&(typeof i.N!=`number`||i.N===0)&&(r=i),new On(r,n)},On.prototype.evaluate=function(){return this.value},On.prototype.eachChild=function(){},On.prototype.outputDefined=function(){return!0},On.prototype.serialize=function(){return this.type.kind===`array`||this.type.kind===`object`?[`literal`,this.value]:this.value instanceof yn?[`rgba`].concat(this.value.toArray()):this.value instanceof Sn?this.value.serialize():this.value};var kn=function(e){this.name=`ExpressionEvaluationError`,this.message=e};kn.prototype.toJSON=function(){return this.message};var An={string:nn,number:tn,boolean:rn,object:on},jn=function(e,t){this.type=e,this.args=t};jn.parse=function(e,t){if(e.length<2)return t.error(`Expected at least one argument.`);var n=1,r,i=e[0];if(i===`array`){var a;if(e.length>2){var o=e[1];if(typeof o!=`string`||!(o in An)||o===`object`)return t.error(`The item type argument of "array" must be one of string, number, boolean`,1);a=An[o],n++}else a=sn;var s;if(e.length>3){if(e[2]!==null&&(typeof e[2]!=`number`||e[2]<0||e[2]!==Math.floor(e[2])))return t.error(`The length argument to "array" must be a positive integer literal`,2);s=e[2],n++}r=fn(a,s)}else r=An[i];for(var c=[];n<e.length;n++){var l=t.parse(e[n],n,sn);if(!l)return null;c.push(l)}return new jn(r,c)},jn.prototype.evaluate=function(e){for(var t=0;t<this.args.length;t++){var n=this.args[t].evaluate(e);if(hn(this.type,En(n))){if(t===this.args.length-1)throw new kn(`Expected value to be of type `+pn(this.type)+`, but found `+pn(En(n))+` instead.`)}else return n}return null},jn.prototype.eachChild=function(e){this.args.forEach(e)},jn.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})},jn.prototype.serialize=function(){var e=this.type,t=[e.kind];if(e.kind===`array`){var n=e.itemType;if(n.kind===`string`||n.kind===`number`||n.kind===`boolean`){t.push(n.kind);var r=e.N;(typeof r==`number`||this.args.length>1)&&t.push(r)}}return t.concat(this.args.map(function(e){return e.serialize()}))};var Mn=function(e){this.type=un,this.sections=e};Mn.parse=function(e,t){if(e.length<2)return t.error(`Expected at least one argument.`);var n=e[1];if(!Array.isArray(n)&&typeof n==`object`)return t.error(`First argument must be an image or text section.`);for(var r=[],i=!1,a=1;a<=e.length-1;++a){var o=e[a];if(i&&typeof o==`object`&&!Array.isArray(o)){i=!1;var s=null;if(o[`font-scale`]&&(s=t.parse(o[`font-scale`],1,tn),!s))return null;var c=null;if(o[`text-font`]&&(c=t.parse(o[`text-font`],1,fn(nn)),!c))return null;var l=null;if(o[`text-color`]&&(l=t.parse(o[`text-color`],1,an),!l))return null;var u=r[r.length-1];u.scale=s,u.font=c,u.textColor=l}else{var d=t.parse(e[a],1,sn);if(!d)return null;var f=d.type.kind;if(f!==`string`&&f!==`value`&&f!==`null`&&f!==`resolvedImage`)return t.error(`Formatted text type must be 'string', 'value', 'image' or 'null'.`);i=!0,r.push({content:d,scale:null,font:null,textColor:null})}}return new Mn(r)},Mn.prototype.evaluate=function(e){return new Sn(this.sections.map(function(t){var n=t.content.evaluate(e);return En(n)===dn?new xn(``,n,null,null,null):new xn(Dn(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(`,`):null,t.textColor?t.textColor.evaluate(e):null)}))},Mn.prototype.eachChild=function(e){for(var t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e(r.content),r.scale&&e(r.scale),r.font&&e(r.font),r.textColor&&e(r.textColor)}},Mn.prototype.outputDefined=function(){return!1},Mn.prototype.serialize=function(){for(var e=[`format`],t=0,n=this.sections;t<n.length;t+=1){var r=n[t];e.push(r.content.serialize());var i={};r.scale&&(i[`font-scale`]=r.scale.serialize()),r.font&&(i[`text-font`]=r.font.serialize()),r.textColor&&(i[`text-color`]=r.textColor.serialize()),e.push(i)}return e};var Nn=function(e){this.type=dn,this.input=e};Nn.parse=function(e,t){if(e.length!==2)return t.error(`Expected two arguments.`);var n=t.parse(e[1],1,nn);return n?new Nn(n):t.error(`No image name provided.`)},Nn.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=Cn.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n},Nn.prototype.eachChild=function(e){e(this.input)},Nn.prototype.outputDefined=function(){return!1},Nn.prototype.serialize=function(){return[`image`,this.input.serialize()]};var Pn={"to-boolean":rn,"to-color":an,"to-number":tn,"to-string":nn},Fn=function(e,t){this.type=e,this.args=t};Fn.parse=function(e,t){if(e.length<2)return t.error(`Expected at least one argument.`);var n=e[0];if((n===`to-boolean`||n===`to-string`)&&e.length!==2)return t.error(`Expected one argument.`);for(var r=Pn[n],i=[],a=1;a<e.length;a++){var o=t.parse(e[a],a,sn);if(!o)return null;i.push(o)}return new Fn(r,i)},Fn.prototype.evaluate=function(e){if(this.type.kind===`boolean`)return!!this.args[0].evaluate(e);if(this.type.kind===`color`){for(var t,n,r=0,i=this.args;r<i.length;r+=1){if(t=i[r].evaluate(e),n=null,t instanceof yn)return t;if(typeof t==`string`){var a=e.parseColor(t);if(a)return a}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?`Invalid rbga value `+JSON.stringify(t)+`: expected an array containing either three or four numeric values.`:wn(t[0],t[1],t[2],t[3]),!n))return new yn(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new kn(n||`Could not parse color from value '`+(typeof t==`string`?t:String(JSON.stringify(t)))+`'`)}else if(this.type.kind===`number`){for(var o=null,s=0,c=this.args;s<c.length;s+=1){if(o=c[s].evaluate(e),o===null)return 0;var l=Number(o);if(!isNaN(l))return l}throw new kn(`Could not convert `+JSON.stringify(o)+` to number.`)}else if(this.type.kind===`formatted`)return Sn.fromString(Dn(this.args[0].evaluate(e)));else if(this.type.kind===`resolvedImage`)return Cn.fromString(Dn(this.args[0].evaluate(e)));else return Dn(this.args[0].evaluate(e))},Fn.prototype.eachChild=function(e){this.args.forEach(e)},Fn.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})},Fn.prototype.serialize=function(){if(this.type.kind===`formatted`)return new Mn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind===`resolvedImage`)return new Nn(this.args[0]).serialize();var e=[`to-`+this.type.kind];return this.eachChild(function(t){e.push(t.serialize())}),e};var In=[`Unknown`,`Point`,`LineString`,`Polygon`],Ln=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Ln.prototype.id=function(){return this.feature&&`id`in this.feature?this.feature.id:null},Ln.prototype.geometryType=function(){return this.feature?typeof this.feature.type==`number`?In[this.feature.type]:this.feature.type:null},Ln.prototype.geometry=function(){return this.feature&&`geometry`in this.feature?this.feature.geometry:null},Ln.prototype.canonicalID=function(){return this.canonical},Ln.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Ln.prototype.parseColor=function(e){var t=this._parseColorCache[e];return t||=this._parseColorCache[e]=yn.parse(e),t};var Rn=function(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r};Rn.prototype.evaluate=function(e){return this._evaluate(e,this.args)},Rn.prototype.eachChild=function(e){this.args.forEach(e)},Rn.prototype.outputDefined=function(){return!1},Rn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(e){return e.serialize()}))},Rn.parse=function(e,t){var n,r=e[0],i=Rn.definitions[r];if(!i)return t.error(`Unknown expression "`+r+`". If you wanted a literal array, use ["literal", [...]].`,0);for(var a=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=o.filter(function(t){var n=t[0];return!Array.isArray(n)||n.length===e.length-1}),c=null,l=0,u=s;l<u.length;l+=1){var d=u[l],f=d[0],p=d[1];c=new hr(t.registry,t.path,null,t.scope);for(var m=[],h=!1,g=1;g<e.length;g++){var _=e[g],v=Array.isArray(f)?f[g-1]:f.type,y=c.parse(_,1+m.length,v);if(!y){h=!0;break}m.push(y)}if(!h){if(Array.isArray(f)&&f.length!==m.length){c.error(`Expected `+f.length+` arguments, but found `+m.length+` instead.`);continue}for(var b=0;b<m.length;b++){var x=Array.isArray(f)?f[b]:f.type,S=m[b];c.concat(b+1).checkSubtype(x,S.type)}if(c.errors.length===0)return new Rn(r,a,p,m)}}if(s.length===1)(n=t.errors).push.apply(n,c.errors);else{for(var C=(s.length?s:o).map(function(e){var t=e[0];return zn(t)}).join(` | `),w=[],T=1;T<e.length;T++){var E=t.parse(e[T],1+w.length);if(!E)return null;w.push(pn(E.type))}t.error(`Expected arguments of type `+C+`, but found (`+w.join(`, `)+`) instead.`)}return null},Rn.register=function(e,t){for(var n in Rn.definitions=t,t)e[n]=Rn};function zn(e){return Array.isArray(e)?`(`+e.map(pn).join(`, `)+`)`:`(`+pn(e.type)+`...)`}var Bn=function(e,t,n){this.type=ln,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t};Bn.parse=function(e,t){if(e.length!==2)return t.error(`Expected one argument.`);var n=e[1];if(typeof n!=`object`||Array.isArray(n))return t.error(`Collator options argument must be an object.`);var r=t.parse(n[`case-sensitive`]===void 0?!1:n[`case-sensitive`],1,rn);if(!r)return null;var i=t.parse(n[`diacritic-sensitive`]===void 0?!1:n[`diacritic-sensitive`],1,rn);if(!i)return null;var a=null;return n.locale&&(a=t.parse(n.locale,1,nn),!a)?null:new Bn(r,i,a)},Bn.prototype.evaluate=function(e){return new bn(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)},Bn.prototype.eachChild=function(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)},Bn.prototype.outputDefined=function(){return!1},Bn.prototype.serialize=function(){var e={};return e[`case-sensitive`]=this.caseSensitive.serialize(),e[`diacritic-sensitive`]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),[`collator`,e]};var Vn=8192;function Hn(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Un(e){return(180+e)/360}function Wn(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Gn(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Kn(e,t){var n=Un(e[0]),r=Wn(e[1]),i=2**t.z;return[Math.round(n*i*Vn),Math.round(r*i*Vn)]}function qn(e,t,n){var r=e[0]-t[0],i=e[1]-t[1],a=e[0]-n[0],o=e[1]-n[1];return r*o-a*i===0&&r*a<=0&&i*o<=0}function Jn(e,t,n){return t[1]>e[1]!=n[1]>e[1]&&e[0]<(n[0]-t[0])*(e[1]-t[1])/(n[1]-t[1])+t[0]}function Yn(e,t){for(var n=!1,r=0,i=t.length;r<i;r++)for(var a=t[r],o=0,s=a.length;o<s-1;o++){if(qn(e,a[o],a[o+1]))return!1;Jn(e,a[o],a[o+1])&&(n=!n)}return n}function Xn(e,t){for(var n=0;n<t.length;n++)if(Yn(e,t[n]))return!0;return!1}function Zn(e,t){return e[0]*t[1]-e[1]*t[0]}function Qn(e,t,n,r){var i=e[0]-n[0],a=e[1]-n[1],o=t[0]-n[0],s=t[1]-n[1],c=r[0]-n[0],l=r[1]-n[1],u=i*l-c*a,d=o*l-c*s;return u>0&&d<0||u<0&&d>0}function $n(e,t,n,r){var i=[t[0]-e[0],t[1]-e[1]];return Zn([r[0]-n[0],r[1]-n[1]],i)===0?!1:!!(Qn(e,t,n,r)&&Qn(n,r,e,t))}function er(e,t,n){for(var r=0,i=n;r<i.length;r+=1)for(var a=i[r],o=0;o<a.length-1;++o)if($n(e,t,a[o],a[o+1]))return!0;return!1}function tr(e,t){for(var n=0;n<e.length;++n)if(!Yn(e[n],t))return!1;for(var r=0;r<e.length-1;++r)if(er(e[r],e[r+1],t))return!1;return!0}function nr(e,t){for(var n=0;n<t.length;n++)if(tr(e,t[n]))return!0;return!1}function rr(e,t,n){for(var r=[],i=0;i<e.length;i++){for(var a=[],o=0;o<e[i].length;o++){var s=Kn(e[i][o],n);Hn(t,s),a.push(s)}r.push(a)}return r}function ir(e,t,n){for(var r=[],i=0;i<e.length;i++){var a=rr(e[i],t,n);r.push(a)}return r}function ar(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){var i=r*.5,a=e[0]-n[0]>i?-r:n[0]-e[0]>i?r:0;a===0&&(a=e[0]-n[2]>i?-r:n[2]-e[0]>i?r:0),e[0]+=a}Hn(t,e)}function or(e){e[0]=e[1]=1/0,e[2]=e[3]=-1/0}function sr(e,t,n,r){for(var i=2**r.z*Vn,a=[r.x*Vn,r.y*Vn],o=[],s=0,c=e;s<c.length;s+=1)for(var l=c[s],u=0,d=l;u<d.length;u+=1){var f=d[u],p=[f.x+a[0],f.y+a[1]];ar(p,t,n,i),o.push(p)}return o}function cr(e,t,n,r){for(var i=2**r.z*Vn,a=[r.x*Vn,r.y*Vn],o=[],s=0,c=e;s<c.length;s+=1){for(var l=c[s],u=[],d=0,f=l;d<f.length;d+=1){var p=f[d],m=[p.x+a[0],p.y+a[1]];Hn(t,m),u.push(m)}o.push(u)}if(t[2]-t[0]<=i/2){or(t);for(var h=0,g=o;h<g.length;h+=1)for(var _=g[h],v=0,y=_;v<y.length;v+=1){var b=y[v];ar(b,t,n,i)}}return o}function lr(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(t.type===`Polygon`){var a=rr(t.coordinates,r,i),o=sr(e.geometry(),n,r,i);if(!Gn(n,r))return!1;for(var s=0,c=o;s<c.length;s+=1){var l=c[s];if(!Yn(l,a))return!1}}if(t.type===`MultiPolygon`){var u=ir(t.coordinates,r,i),d=sr(e.geometry(),n,r,i);if(!Gn(n,r))return!1;for(var f=0,p=d;f<p.length;f+=1){var m=p[f];if(!Xn(m,u))return!1}}return!0}function ur(e,t){var n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(t.type===`Polygon`){var a=rr(t.coordinates,r,i),o=cr(e.geometry(),n,r,i);if(!Gn(n,r))return!1;for(var s=0,c=o;s<c.length;s+=1){var l=c[s];if(!tr(l,a))return!1}}if(t.type===`MultiPolygon`){var u=ir(t.coordinates,r,i),d=cr(e.geometry(),n,r,i);if(!Gn(n,r))return!1;for(var f=0,p=d;f<p.length;f+=1){var m=p[f];if(!nr(m,u))return!1}}return!0}var dr=function(e,t){this.type=rn,this.geojson=e,this.geometries=t};dr.parse=function(e,t){if(e.length!==2)return t.error(`'within' expression requires exactly one argument, but found `+(e.length-1)+` instead.`);if(Tn(e[1])){var n=e[1];if(n.type===`FeatureCollection`)for(var r=0;r<n.features.length;++r){var i=n.features[r].geometry.type;if(i===`Polygon`||i===`MultiPolygon`)return new dr(n,n.features[r].geometry)}else if(n.type===`Feature`){var a=n.geometry.type;if(a===`Polygon`||a===`MultiPolygon`)return new dr(n,n.geometry)}else if(n.type===`Polygon`||n.type===`MultiPolygon`)return new dr(n,n)}return t.error(`'within' expression requires valid geojson object that contains polygon geometry type.`)},dr.prototype.evaluate=function(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()===`Point`)return lr(e,this.geometries);if(e.geometryType()===`LineString`)return ur(e,this.geometries)}return!1},dr.prototype.eachChild=function(){},dr.prototype.outputDefined=function(){return!0},dr.prototype.serialize=function(){return[`within`,this.geojson]};function fr(e){if(e instanceof Rn&&(e.name===`get`&&e.args.length===1||e.name===`feature-state`||e.name===`has`&&e.args.length===1||e.name===`properties`||e.name===`geometry-type`||e.name===`id`||/^filter-/.test(e.name))||e instanceof dr)return!1;var t=!0;return e.eachChild(function(e){t&&!fr(e)&&(t=!1)}),t}function $(e){if(e instanceof Rn&&e.name===`feature-state`)return!1;var t=!0;return e.eachChild(function(e){t&&!$(e)&&(t=!1)}),t}function pr(e,t){if(e instanceof Rn&&t.indexOf(e.name)>=0)return!1;var n=!0;return e.eachChild(function(e){n&&!pr(e,t)&&(n=!1)}),n}var mr=function(e,t){this.type=t.type,this.name=e,this.boundExpression=t};mr.parse=function(e,t){if(e.length!==2||typeof e[1]!=`string`)return t.error(`'var' expression requires exactly one string literal argument.`);var n=e[1];return t.scope.has(n)?new mr(n,t.scope.get(n)):t.error(`Unknown variable "`+n+`". Make sure "`+n+`" has been bound in an enclosing "let" expression before using it.`,1)},mr.prototype.evaluate=function(e){return this.boundExpression.evaluate(e)},mr.prototype.eachChild=function(){},mr.prototype.outputDefined=function(){return!1},mr.prototype.serialize=function(){return[`var`,this.name]};var hr=function(e,t,n,r,i){t===void 0&&(t=[]),r===void 0&&(r=new $t),i===void 0&&(i=[]),this.registry=e,this.path=t,this.key=t.map(function(e){return`[`+e+`]`}).join(``),this.scope=r,this.errors=i,this.expectedType=n};hr.prototype.parse=function(e,t,n,r,i){return i===void 0&&(i={}),t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)},hr.prototype._parse=function(e,t){(e===null||typeof e==`string`||typeof e==`boolean`||typeof e==`number`)&&(e=[`literal`,e]);function n(e,t,n){return n===`assert`?new jn(t,[e]):n===`coerce`?new Fn(t,[e]):e}if(Array.isArray(e)){if(e.length===0)return this.error(`Expected an array with at least one element. If you wanted a literal array, use ["literal", []].`);var r=e[0];if(typeof r!=`string`)return this.error(`Expression name must be a string, but found `+typeof r+` instead. If you wanted a literal array, use ["literal", [...]].`,0),null;var i=this.registry[r];if(i){var a=i.parse(e,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if((o.kind===`string`||o.kind===`number`||o.kind===`boolean`||o.kind===`object`||o.kind===`array`)&&s.kind===`value`)a=n(a,o,t.typeAnnotation||`assert`);else if((o.kind===`color`||o.kind===`formatted`||o.kind===`resolvedImage`)&&(s.kind===`value`||s.kind===`string`))a=n(a,o,t.typeAnnotation||`coerce`);else if(this.checkSubtype(o,s))return null}if(!(a instanceof On)&&a.type.kind!==`resolvedImage`&&gr(a)){var c=new Ln;try{a=new On(a.type,a.evaluate(c))}catch(e){return this.error(e.message),null}}return a}return this.error(`Unknown expression "`+r+`". If you wanted a literal array, use ["literal", [...]].`,0)}else if(e===void 0)return this.error(`'undefined' value invalid. Use null instead.`);else if(typeof e==`object`)return this.error(`Bare objects invalid. Use ["literal", {...}] instead.`);else return this.error(`Expected an array, but found `+typeof e+` instead.`)},hr.prototype.concat=function(e,t,n){var r=typeof e==`number`?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new hr(this.registry,r,t||null,i,this.errors)},hr.prototype.error=function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];var r=``+this.key+t.map(function(e){return`[`+e+`]`}).join(``);this.errors.push(new Qt(r,e))},hr.prototype.checkSubtype=function(e,t){var n=hn(e,t);return n&&this.error(n),n};function gr(e){if(e instanceof mr)return gr(e.boundExpression);if(e instanceof Rn&&e.name===`error`||e instanceof Bn||e instanceof dr)return!1;var t=e instanceof Fn||e instanceof jn,n=!0;return e.eachChild(function(e){t?n&&=gr(e):n&&=e instanceof On}),n?fr(e)&&pr(e,[`zoom`,`heatmap-density`,`line-progress`,`accumulated`,`is-supported-script`]):!1}function _r(e,t){for(var n=e.length-1,r=0,i=n,a=0,o,s;r<=i;)if(a=Math.floor((r+i)/2),o=e[a],s=e[a+1],o<=t){if(a===n||t<s)return a;r=a+1}else if(o>t)i=a-1;else throw new kn(`Input is not a number.`);return 0}var vr=function(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(var r=0,i=n;r<i.length;r+=1){var a=i[r],o=a[0],s=a[1];this.labels.push(o),this.outputs.push(s)}};vr.parse=function(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only `+(e.length-1)+`.`);if((e.length-1)%2!=0)return t.error(`Expected an even number of arguments.`);var n=t.parse(e[1],1,tn);if(!n)return null;var r=[],i=null;t.expectedType&&t.expectedType.kind!==`value`&&(i=t.expectedType);for(var a=1;a<e.length;a+=2){var o=a===1?-1/0:e[a],s=e[a+1],c=a,l=a+1;if(typeof o!=`number`)return t.error(`Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.`,c);if(r.length&&r[r.length-1][0]>=o)return t.error(`Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.`,c);var u=t.parse(s,l,i);if(!u)return null;i||=u.type,r.push([o,u])}return new vr(i,n,r)},vr.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[_r(t,r)].evaluate(e)},vr.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1){var r=n[t];e(r)}},vr.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})},vr.prototype.serialize=function(){for(var e=[`step`,this.input.serialize()],t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e};function yr(e,t,n){return e*(1-n)+t*n}function br(e,t,n){return new yn(yr(e.r,t.r,n),yr(e.g,t.g,n),yr(e.b,t.b,n),yr(e.a,t.a,n))}function xr(e,t,n){return e.map(function(e,r){return yr(e,t[r],n)})}var Sr=Object.freeze({__proto__:null,number:yr,color:br,array:xr}),Cr=.95047,wr=1,Tr=1.08883,Er=4/29,Dr=6/29,Or=3*Dr*Dr,kr=Dr*Dr*Dr,Ar=Math.PI/180,jr=180/Math.PI;function Mr(e){return e>kr?e**(1/3):e/Or+Er}function Nr(e){return e>Dr?e*e*e:Or*(e-Er)}function Pr(e){return 255*(e<=.0031308?12.92*e:1.055*e**(1/2.4)-.055)}function Fr(e){return e/=255,e<=.04045?e/12.92:((e+.055)/1.055)**2.4}function Ir(e){var t=Fr(e.r),n=Fr(e.g),r=Fr(e.b),i=Mr((.4124564*t+.3575761*n+.1804375*r)/Cr),a=Mr((.2126729*t+.7151522*n+.072175*r)/wr),o=Mr((.0193339*t+.119192*n+.9503041*r)/Tr);return{l:116*a-16,a:500*(i-a),b:200*(a-o),alpha:e.a}}function Lr(e){var t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=wr*Nr(t),n=Cr*Nr(n),r=Tr*Nr(r),new yn(Pr(3.2404542*n-1.5371385*t-.4985314*r),Pr(-.969266*n+1.8760108*t+.041556*r),Pr(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function Rr(e,t,n){return{l:yr(e.l,t.l,n),a:yr(e.a,t.a,n),b:yr(e.b,t.b,n),alpha:yr(e.alpha,t.alpha,n)}}function zr(e){var t=Ir(e),n=t.l,r=t.a,i=t.b,a=Math.atan2(i,r)*jr;return{h:a<0?a+360:a,c:Math.sqrt(r*r+i*i),l:n,alpha:e.a}}function Br(e){var t=e.h*Ar,n=e.c,r=e.l;return Lr({l:r,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})}function Vr(e,t,n){var r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}function Hr(e,t,n){return{h:Vr(e.h,t.h,n),c:yr(e.c,t.c,n),l:yr(e.l,t.l,n),alpha:yr(e.alpha,t.alpha,n)}}var Ur={forward:Ir,reverse:Lr,interpolate:Rr},Wr={forward:zr,reverse:Br,interpolate:Hr},Gr=Object.freeze({__proto__:null,lab:Ur,hcl:Wr}),Kr=function(e,t,n,r,i){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(var a=0,o=i;a<o.length;a+=1){var s=o[a],c=s[0],l=s[1];this.labels.push(c),this.outputs.push(l)}};Kr.interpolationFactor=function(e,t,n,i){var a=0;if(e.name===`exponential`)a=qr(t,e.base,n,i);else if(e.name===`linear`)a=qr(t,1,n,i);else if(e.name===`cubic-bezier`){var o=e.controlPoints;a=new r(o[0],o[1],o[2],o[3]).solve(qr(t,1,n,i))}return a},Kr.parse=function(e,t){var n=e[0],r=e[1],i=e[2],a=e.slice(3);if(!Array.isArray(r)||r.length===0)return t.error(`Expected an interpolation type expression.`,1);if(r[0]===`linear`)r={name:`linear`};else if(r[0]===`exponential`){var o=r[1];if(typeof o!=`number`)return t.error(`Exponential interpolation requires a numeric base.`,1,1);r={name:`exponential`,base:o}}else if(r[0]===`cubic-bezier`){var s=r.slice(1);if(s.length!==4||s.some(function(e){return typeof e!=`number`||e<0||e>1}))return t.error(`Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.`,1);r={name:`cubic-bezier`,controlPoints:s}}else return t.error(`Unknown interpolation type `+String(r[0]),1,0);if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only `+(e.length-1)+`.`);if((e.length-1)%2!=0)return t.error(`Expected an even number of arguments.`);if(i=t.parse(i,2,tn),!i)return null;var c=[],l=null;n===`interpolate-hcl`||n===`interpolate-lab`?l=an:t.expectedType&&t.expectedType.kind!==`value`&&(l=t.expectedType);for(var u=0;u<a.length;u+=2){var d=a[u],f=a[u+1],p=u+3,m=u+4;if(typeof d!=`number`)return t.error(`Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.`,p);if(c.length&&c[c.length-1][0]>=d)return t.error(`Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.`,p);var h=t.parse(f,m,l);if(!h)return null;l||=h.type,c.push([d,h])}return l.kind!==`number`&&l.kind!==`color`&&!(l.kind===`array`&&l.itemType.kind===`number`&&typeof l.N==`number`)?t.error(`Type `+pn(l)+` is not interpolatable.`):new Kr(l,n,r,i,c)},Kr.prototype.evaluate=function(e){var t=this.labels,n=this.outputs;if(t.length===1)return n[0].evaluate(e);var r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);var i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);var a=_r(t,r),o=t[a],s=t[a+1],c=Kr.interpolationFactor(this.interpolation,r,o,s),l=n[a].evaluate(e),u=n[a+1].evaluate(e);return this.operator===`interpolate`?Sr[this.type.kind.toLowerCase()](l,u,c):this.operator===`interpolate-hcl`?Wr.reverse(Wr.interpolate(Wr.forward(l),Wr.forward(u),c)):Ur.reverse(Ur.interpolate(Ur.forward(l),Ur.forward(u),c))},Kr.prototype.eachChild=function(e){e(this.input);for(var t=0,n=this.outputs;t<n.length;t+=1){var r=n[t];e(r)}},Kr.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})},Kr.prototype.serialize=function(){for(var e=this.interpolation.name===`linear`?[`linear`]:this.interpolation.name===`exponential`?this.interpolation.base===1?[`linear`]:[`exponential`,this.interpolation.base]:[`cubic-bezier`].concat(this.interpolation.controlPoints),t=[this.operator,e,this.input.serialize()],n=0;n<this.labels.length;n++)t.push(this.labels[n],this.outputs[n].serialize());return t};function qr(e,t,n,r){var i=r-n,a=e-n;return i===0?0:t===1?a/i:(t**+a-1)/(t**+i-1)}var Jr=function(e,t){this.type=e,this.args=t};Jr.parse=function(e,t){if(e.length<2)return t.error(`Expectected at least one argument.`);var n=null,r=t.expectedType;r&&r.kind!==`value`&&(n=r);for(var i=[],a=0,o=e.slice(1);a<o.length;a+=1){var s=o[a],c=t.parse(s,1+i.length,n,void 0,{typeAnnotation:`omit`});if(!c)return null;n||=c.type,i.push(c)}return r&&i.some(function(e){return hn(r,e.type)})?new Jr(sn,i):new Jr(n,i)},Jr.prototype.evaluate=function(e){for(var t=null,n=0,r,i=0,a=this.args;i<a.length;i+=1){var o=a[i];if(n++,t=o.evaluate(e),t&&t instanceof Cn&&!t.available&&(r||=t.name,t=null,n===this.args.length&&(t=r)),t!==null)break}return t},Jr.prototype.eachChild=function(e){this.args.forEach(e)},Jr.prototype.outputDefined=function(){return this.args.every(function(e){return e.outputDefined()})},Jr.prototype.serialize=function(){var e=[`coalesce`];return this.eachChild(function(t){e.push(t.serialize())}),e};var Yr=function(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t};Yr.prototype.evaluate=function(e){return this.result.evaluate(e)},Yr.prototype.eachChild=function(e){for(var t=0,n=this.bindings;t<n.length;t+=1){var r=n[t];e(r[1])}e(this.result)},Yr.parse=function(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found `+(e.length-1)+` instead.`);for(var n=[],r=1;r<e.length-1;r+=2){var i=e[r];if(typeof i!=`string`)return t.error(`Expected string, but found `+typeof i+` instead.`,r);if(/[^a-zA-Z0-9_]/.test(i))return t.error(`Variable names must contain only alphanumeric characters or '_'.`,r);var a=t.parse(e[r+1],r+1);if(!a)return null;n.push([i,a])}var o=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return o?new Yr(n,o):null},Yr.prototype.outputDefined=function(){return this.result.outputDefined()},Yr.prototype.serialize=function(){for(var e=[`let`],t=0,n=this.bindings;t<n.length;t+=1){var r=n[t],i=r[0],a=r[1];e.push(i,a.serialize())}return e.push(this.result.serialize()),e};var Xr=function(e,t,n){this.type=e,this.index=t,this.input=n};Xr.parse=function(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found `+(e.length-1)+` instead.`);var n=t.parse(e[1],1,tn),r=t.parse(e[2],2,fn(t.expectedType||sn));if(!n||!r)return null;var i=r.type;return new Xr(i.itemType,n,r)},Xr.prototype.evaluate=function(e){var t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new kn(`Array index out of bounds: `+t+` < 0.`);if(t>=n.length)throw new kn(`Array index out of bounds: `+t+` > `+(n.length-1)+`.`);if(t!==Math.floor(t))throw new kn(`Array index must be an integer, but found `+t+` instead.`);return n[t]},Xr.prototype.eachChild=function(e){e(this.index),e(this.input)},Xr.prototype.outputDefined=function(){return!1},Xr.prototype.serialize=function(){return[`at`,this.index.serialize(),this.input.serialize()]};var Zr=function(e,t){this.type=rn,this.needle=e,this.haystack=t};Zr.parse=function(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found `+(e.length-1)+` instead.`);var n=t.parse(e[1],1,sn),r=t.parse(e[2],2,sn);return!n||!r?null:gn(n.type,[rn,nn,tn,en,sn])?new Zr(n,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found `+pn(n.type)+` instead`)},Zr.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!_n(t,[`boolean`,`string`,`number`,`null`]))throw new kn(`Expected first argument to be of type boolean, string, number or null, but found `+pn(En(t))+` instead.`);if(!_n(n,[`string`,`array`]))throw new kn(`Expected second argument to be of type array or string, but found `+pn(En(n))+` instead.`);return n.indexOf(t)>=0},Zr.prototype.eachChild=function(e){e(this.needle),e(this.haystack)},Zr.prototype.outputDefined=function(){return!0},Zr.prototype.serialize=function(){return[`in`,this.needle.serialize(),this.haystack.serialize()]};var Qr=function(e,t,n){this.type=tn,this.needle=e,this.haystack=t,this.fromIndex=n};Qr.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found `+(e.length-1)+` instead.`);var n=t.parse(e[1],1,sn),r=t.parse(e[2],2,sn);if(!n||!r)return null;if(!gn(n.type,[rn,nn,tn,en,sn]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found `+pn(n.type)+` instead`);if(e.length===4){var i=t.parse(e[3],3,tn);return i?new Qr(n,r,i):null}else return new Qr(n,r)},Qr.prototype.evaluate=function(e){var t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!_n(t,[`boolean`,`string`,`number`,`null`]))throw new kn(`Expected first argument to be of type boolean, string, number or null, but found `+pn(En(t))+` instead.`);if(!_n(n,[`string`,`array`]))throw new kn(`Expected second argument to be of type array or string, but found `+pn(En(n))+` instead.`);if(this.fromIndex){var r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)},Qr.prototype.eachChild=function(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)},Qr.prototype.outputDefined=function(){return!1},Qr.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var e=this.fromIndex.serialize();return[`index-of`,this.needle.serialize(),this.haystack.serialize(),e]}return[`index-of`,this.needle.serialize(),this.haystack.serialize()]};var $r=function(e,t,n,r,i,a){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=a};$r.parse=function(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only `+(e.length-1)+`.`);if(e.length%2!=1)return t.error(`Expected an even number of arguments.`);var n,r;t.expectedType&&t.expectedType.kind!==`value`&&(r=t.expectedType);for(var i={},a=[],o=2;o<e.length-1;o+=2){var s=e[o],c=e[o+1];Array.isArray(s)||(s=[s]);var l=t.concat(o);if(s.length===0)return l.error(`Expected at least one branch label.`);for(var u=0,d=s;u<d.length;u+=1){var f=d[u];if(typeof f!=`number`&&typeof f!=`string`)return l.error(`Branch labels must be numbers or strings.`);if(typeof f==`number`&&Math.abs(f)>2**53-1)return l.error(`Branch labels must be integers no larger than `+(2**53-1)+`.`);if(typeof f==`number`&&Math.floor(f)!==f)return l.error(`Numeric branch labels must be integer values.`);if(!n)n=En(f);else if(l.checkSubtype(n,En(f)))return null;if(i[String(f)]!==void 0)return l.error(`Branch labels must be unique.`);i[String(f)]=a.length}var p=t.parse(c,o,r);if(!p)return null;r||=p.type,a.push(p)}var m=t.parse(e[1],1,sn);if(!m)return null;var h=t.parse(e[e.length-1],e.length-1,r);return!h||m.type.kind!==`value`&&t.concat(1).checkSubtype(n,m.type)?null:new $r(n,r,m,i,a,h)},$r.prototype.evaluate=function(e){var t=this.input.evaluate(e);return(En(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)},$r.prototype.eachChild=function(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)},$r.prototype.outputDefined=function(){return this.outputs.every(function(e){return e.outputDefined()})&&this.otherwise.outputDefined()},$r.prototype.serialize=function(){for(var e=this,t=[`match`,this.input.serialize()],n=Object.keys(this.cases).sort(),r=[],i={},a=0,o=n;a<o.length;a+=1){var s=o[a],c=i[this.cases[s]];c===void 0?(i[this.cases[s]]=r.length,r.push([this.cases[s],[s]])):r[c][1].push(s)}for(var l=function(t){return e.inputType.kind===`number`?Number(t):t},u=0,d=r;u<d.length;u+=1){var f=d[u],c=f[0],p=f[1];p.length===1?t.push(l(p[0])):t.push(p.map(l)),t.push(this.outputs[outputIndex$1].serialize())}return t.push(this.otherwise.serialize()),t};var ei=function(e,t,n){this.type=e,this.branches=t,this.otherwise=n};ei.parse=function(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only `+(e.length-1)+`.`);if(e.length%2!=0)return t.error(`Expected an odd number of arguments.`);var n;t.expectedType&&t.expectedType.kind!==`value`&&(n=t.expectedType);for(var r=[],i=1;i<e.length-1;i+=2){var a=t.parse(e[i],i,rn);if(!a)return null;var o=t.parse(e[i+1],i+1,n);if(!o)return null;r.push([a,o]),n||=o.type}var s=t.parse(e[e.length-1],e.length-1,n);return s?new ei(n,r,s):null},ei.prototype.evaluate=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[0],a=r[1];if(i.evaluate(e))return a.evaluate(e)}return this.otherwise.evaluate(e)},ei.prototype.eachChild=function(e){for(var t=0,n=this.branches;t<n.length;t+=1){var r=n[t],i=r[0],a=r[1];e(i),e(a)}e(this.otherwise)},ei.prototype.outputDefined=function(){return this.branches.every(function(e){return e[0],e[1].outputDefined()})&&this.otherwise.outputDefined()},ei.prototype.serialize=function(){var e=[`case`];return this.eachChild(function(t){e.push(t.serialize())}),e};var ti=function(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r};ti.parse=function(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found `+(e.length-1)+` instead.`);var n=t.parse(e[1],1,sn),r=t.parse(e[2],2,tn);if(!n||!r)return null;if(!gn(n.type,[fn(sn),nn,sn]))return t.error(`Expected first argument to be of type array or string, but found `+pn(n.type)+` instead`);if(e.length===4){var i=t.parse(e[3],3,tn);return i?new ti(n.type,n,r,i):null}else return new ti(n.type,n,r)},ti.prototype.evaluate=function(e){var t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!_n(t,[`string`,`array`]))throw new kn(`Expected first argument to be of type array or string, but found `+pn(En(t))+` instead.`);if(this.endIndex){var r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)},ti.prototype.eachChild=function(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)},ti.prototype.outputDefined=function(){return!1},ti.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var e=this.endIndex.serialize();return[`slice`,this.input.serialize(),this.beginIndex.serialize(),e]}return[`slice`,this.input.serialize(),this.beginIndex.serialize()]};function ni(e,t){return e===`==`||e===`!=`?t.kind===`boolean`||t.kind===`string`||t.kind===`number`||t.kind===`null`||t.kind===`value`:t.kind===`string`||t.kind===`number`||t.kind===`value`}function ri(e,t,n){return t===n}function ii(e,t,n){return t!==n}function ai(e,t,n){return t<n}function oi(e,t,n){return t>n}function si(e,t,n){return t<=n}function ci(e,t,n){return t>=n}function li(e,t,n,r){return r.compare(t,n)===0}function ui(e,t,n,r){return!li(e,t,n,r)}function di(e,t,n,r){return r.compare(t,n)<0}function fi(e,t,n,r){return r.compare(t,n)>0}function pi(e,t,n,r){return r.compare(t,n)<=0}function mi(e,t,n,r){return r.compare(t,n)>=0}function hi(e,t,n){var r=e!==`==`&&e!==`!=`;return function(){function i(e,t,n){this.type=rn,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument=e.type.kind===`value`||t.type.kind===`value`}return i.parse=function(e,t){if(e.length!==3&&e.length!==4)return t.error(`Expected two or three arguments.`);var n=e[0],a=t.parse(e[1],1,sn);if(!a)return null;if(!ni(n,a.type))return t.concat(1).error(`"`+n+`" comparisons are not supported for type '`+pn(a.type)+`'.`);var o=t.parse(e[2],2,sn);if(!o)return null;if(!ni(n,o.type))return t.concat(2).error(`"`+n+`" comparisons are not supported for type '`+pn(o.type)+`'.`);if(a.type.kind!==o.type.kind&&a.type.kind!==`value`&&o.type.kind!==`value`)return t.error(`Cannot compare types '`+pn(a.type)+`' and '`+pn(o.type)+`'.`);r&&(a.type.kind===`value`&&o.type.kind!==`value`?a=new jn(o.type,[a]):a.type.kind!==`value`&&o.type.kind===`value`&&(o=new jn(a.type,[o])));var s=null;if(e.length===4){if(a.type.kind!==`string`&&o.type.kind!==`string`&&a.type.kind!==`value`&&o.type.kind!==`value`)return t.error(`Cannot use collator to compare non-string types.`);if(s=t.parse(e[3],3,ln),!s)return null}return new i(a,o,s)},i.prototype.evaluate=function(i){var a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){var s=En(a),c=En(o);if(s.kind!==c.kind||!(s.kind===`string`||s.kind===`number`))throw new kn(`Expected arguments for "`+e+`" to be (string, string) or (number, number), but found (`+s.kind+`, `+c.kind+`) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){var l=En(a),u=En(o);if(l.kind!==`string`||u.kind!==`string`)return t(i,a,o)}return this.collator?n(i,a,o,this.collator.evaluate(i)):t(i,a,o)},i.prototype.eachChild=function(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var t=[e];return this.eachChild(function(e){t.push(e.serialize())}),t},i}()}var gi=hi(`==`,ri,li),_i=hi(`!=`,ii,ui),vi=hi(`<`,ai,di),yi=hi(`>`,oi,fi),bi=hi(`<=`,si,pi),xi=hi(`>=`,ci,mi),Si=function(e,t,n,r,i){this.type=nn,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i};Si.parse=function(e,t){if(e.length!==3)return t.error(`Expected two arguments.`);var n=t.parse(e[1],1,tn);if(!n)return null;var r=e[2];if(typeof r!=`object`||Array.isArray(r))return t.error(`NumberFormat options argument must be an object.`);var i=null;if(r.locale&&(i=t.parse(r.locale,1,nn),!i))return null;var a=null;if(r.currency&&(a=t.parse(r.currency,1,nn),!a))return null;var o=null;if(r[`min-fraction-digits`]&&(o=t.parse(r[`min-fraction-digits`],1,tn),!o))return null;var s=null;return r[`max-fraction-digits`]&&(s=t.parse(r[`max-fraction-digits`],1,tn),!s)?null:new Si(n,i,a,o,s)},Si.prototype.evaluate=function(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?`currency`:`decimal`,currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))},Si.prototype.eachChild=function(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)},Si.prototype.outputDefined=function(){return!1},Si.prototype.serialize=function(){var e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.minFractionDigits&&(e[`min-fraction-digits`]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e[`max-fraction-digits`]=this.maxFractionDigits.serialize()),[`number-format`,this.number.serialize(),e]};var Ci=function(e){this.type=tn,this.input=e};Ci.parse=function(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found `+(e.length-1)+` instead.`);var n=t.parse(e[1],1);return n?n.type.kind!==`array`&&n.type.kind!==`string`&&n.type.kind!==`value`?t.error(`Expected argument of type string or array, but found `+pn(n.type)+` instead.`):new Ci(n):null},Ci.prototype.evaluate=function(e){var t=this.input.evaluate(e);if(typeof t==`string`||Array.isArray(t))return t.length;throw new kn(`Expected value to be of type string or array, but found `+pn(En(t))+` instead.`)},Ci.prototype.eachChild=function(e){e(this.input)},Ci.prototype.outputDefined=function(){return!1},Ci.prototype.serialize=function(){var e=[`length`];return this.eachChild(function(t){e.push(t.serialize())}),e};var wi={"==":gi,"!=":_i,">":yi,"<":vi,">=":xi,"<=":bi,array:jn,at:Xr,boolean:jn,case:ei,coalesce:Jr,collator:Bn,format:Mn,image:Nn,in:Zr,"index-of":Qr,interpolate:Kr,"interpolate-hcl":Kr,"interpolate-lab":Kr,length:Ci,let:Yr,literal:On,match:$r,number:jn,"number-format":Si,object:jn,slice:ti,step:vr,string:jn,"to-boolean":Fn,"to-color":Fn,"to-number":Fn,"to-string":Fn,var:mr,within:dr};function Ti(e,t){var n=t[0],r=t[1],i=t[2],a=t[3];n=n.evaluate(e),r=r.evaluate(e),i=i.evaluate(e);var o=a?a.evaluate(e):1,s=wn(n,r,i,o);if(s)throw new kn(s);return new yn(n/255*o,r/255*o,i/255*o,o)}function Ei(e,t){return e in t}function Di(e,t){var n=t[e];return n===void 0?null:n}function Oi(e,t,n,r){for(;n<=r;){var i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}function ki(e){return{type:e}}Rn.register(wi,{error:[cn,[nn],function(e,t){var n=t[0];throw new kn(n.evaluate(e))}],typeof:[nn,[sn],function(e,t){var n=t[0];return pn(En(n.evaluate(e)))}],"to-rgba":[fn(tn,4),[an],function(e,t){return t[0].evaluate(e).toArray()}],rgb:[an,[tn,tn,tn],Ti],rgba:[an,[tn,tn,tn,tn],Ti],has:{type:rn,overloads:[[[nn],function(e,t){var n=t[0];return Ei(n.evaluate(e),e.properties())}],[[nn,on],function(e,t){var n=t[0],r=t[1];return Ei(n.evaluate(e),r.evaluate(e))}]]},get:{type:sn,overloads:[[[nn],function(e,t){var n=t[0];return Di(n.evaluate(e),e.properties())}],[[nn,on],function(e,t){var n=t[0],r=t[1];return Di(n.evaluate(e),r.evaluate(e))}]]},"feature-state":[sn,[nn],function(e,t){var n=t[0];return Di(n.evaluate(e),e.featureState||{})}],properties:[on,[],function(e){return e.properties()}],"geometry-type":[nn,[],function(e){return e.geometryType()}],id:[sn,[],function(e){return e.id()}],zoom:[tn,[],function(e){return e.globals.zoom}],"heatmap-density":[tn,[],function(e){return e.globals.heatmapDensity||0}],"line-progress":[tn,[],function(e){return e.globals.lineProgress||0}],accumulated:[sn,[],function(e){return e.globals.accumulated===void 0?null:e.globals.accumulated}],"+":[tn,ki(tn),function(e,t){for(var n=0,r=0,i=t;r<i.length;r+=1){var a=i[r];n+=a.evaluate(e)}return n}],"*":[tn,ki(tn),function(e,t){for(var n=1,r=0,i=t;r<i.length;r+=1){var a=i[r];n*=a.evaluate(e)}return n}],"-":{type:tn,overloads:[[[tn,tn],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)-r.evaluate(e)}],[[tn],function(e,t){return-t[0].evaluate(e)}]]},"/":[tn,[tn,tn],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)/r.evaluate(e)}],"%":[tn,[tn,tn],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)%r.evaluate(e)}],ln2:[tn,[],function(){return Math.LN2}],pi:[tn,[],function(){return Math.PI}],e:[tn,[],function(){return Math.E}],"^":[tn,[tn,tn],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)**+r.evaluate(e)}],sqrt:[tn,[tn],function(e,t){var n=t[0];return Math.sqrt(n.evaluate(e))}],log10:[tn,[tn],function(e,t){var n=t[0];return Math.log(n.evaluate(e))/Math.LN10}],ln:[tn,[tn],function(e,t){var n=t[0];return Math.log(n.evaluate(e))}],log2:[tn,[tn],function(e,t){var n=t[0];return Math.log(n.evaluate(e))/Math.LN2}],sin:[tn,[tn],function(e,t){var n=t[0];return Math.sin(n.evaluate(e))}],cos:[tn,[tn],function(e,t){var n=t[0];return Math.cos(n.evaluate(e))}],tan:[tn,[tn],function(e,t){var n=t[0];return Math.tan(n.evaluate(e))}],asin:[tn,[tn],function(e,t){var n=t[0];return Math.asin(n.evaluate(e))}],acos:[tn,[tn],function(e,t){var n=t[0];return Math.acos(n.evaluate(e))}],atan:[tn,[tn],function(e,t){var n=t[0];return Math.atan(n.evaluate(e))}],min:[tn,ki(tn),function(e,t){return Math.min.apply(Math,t.map(function(t){return t.evaluate(e)}))}],max:[tn,ki(tn),function(e,t){return Math.max.apply(Math,t.map(function(t){return t.evaluate(e)}))}],abs:[tn,[tn],function(e,t){var n=t[0];return Math.abs(n.evaluate(e))}],round:[tn,[tn],function(e,t){var n=t[0].evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[tn,[tn],function(e,t){var n=t[0];return Math.floor(n.evaluate(e))}],ceil:[tn,[tn],function(e,t){var n=t[0];return Math.ceil(n.evaluate(e))}],"filter-==":[rn,[nn,sn],function(e,t){var n=t[0],r=t[1];return e.properties()[n.value]===r.value}],"filter-id-==":[rn,[sn],function(e,t){var n=t[0];return e.id()===n.value}],"filter-type-==":[rn,[nn],function(e,t){var n=t[0];return e.geometryType()===n.value}],"filter-<":[rn,[nn,sn],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i<a}],"filter-id-<":[rn,[sn],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<i}],"filter->":[rn,[nn,sn],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i>a}],"filter-id->":[rn,[sn],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>i}],"filter-<=":[rn,[nn,sn],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i<=a}],"filter-id-<=":[rn,[sn],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r<=i}],"filter->=":[rn,[nn,sn],function(e,t){var n=t[0],r=t[1],i=e.properties()[n.value],a=r.value;return typeof i==typeof a&&i>=a}],"filter-id->=":[rn,[sn],function(e,t){var n=t[0],r=e.id(),i=n.value;return typeof r==typeof i&&r>=i}],"filter-has":[rn,[sn],function(e,t){return t[0].value in e.properties()}],"filter-has-id":[rn,[],function(e){return e.id()!==null&&e.id()!==void 0}],"filter-type-in":[rn,[fn(nn)],function(e,t){return t[0].value.indexOf(e.geometryType())>=0}],"filter-id-in":[rn,[fn(sn)],function(e,t){return t[0].value.indexOf(e.id())>=0}],"filter-in-small":[rn,[nn,fn(sn)],function(e,t){var n=t[0];return t[1].value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[rn,[nn,fn(sn)],function(e,t){var n=t[0],r=t[1];return Oi(e.properties()[n.value],r.value,0,r.value.length-1)}],all:{type:rn,overloads:[[[rn,rn],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)&&r.evaluate(e)}],[ki(rn),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(!r[n].evaluate(e))return!1;return!0}]]},any:{type:rn,overloads:[[[rn,rn],function(e,t){var n=t[0],r=t[1];return n.evaluate(e)||r.evaluate(e)}],[ki(rn),function(e,t){for(var n=0,r=t;n<r.length;n+=1)if(r[n].evaluate(e))return!0;return!1}]]},"!":[rn,[rn],function(e,t){return!t[0].evaluate(e)}],"is-supported-script":[rn,[nn],function(e,t){var n=t[0],r=e.globals&&e.globals.isSupportedScript;return r?r(n.evaluate(e)):!0}],upcase:[nn,[nn],function(e,t){return t[0].evaluate(e).toUpperCase()}],downcase:[nn,[nn],function(e,t){return t[0].evaluate(e).toLowerCase()}],concat:[nn,ki(sn),function(e,t){return t.map(function(t){return Dn(t.evaluate(e))}).join(``)}],"resolved-locale":[nn,[ln],function(e,t){return t[0].evaluate(e).resolvedLocale()}]});function Ai(e){return{result:`success`,value:e}}function ji(e){return{result:`error`,value:e}}function Mi(e){return e[`property-type`]===`data-driven`||e[`property-type`]===`cross-faded-data-driven`}function Ni(e){return!!e.expression&&e.expression.parameters.indexOf(`zoom`)>-1}function Pi(e){return!!e.expression&&e.expression.interpolated}function Fi(e){return e instanceof Number?`number`:e instanceof String?`string`:e instanceof Boolean?`boolean`:Array.isArray(e)?`array`:e===null?`null`:typeof e}function Ii(e){return typeof e==`object`&&!!e&&!Array.isArray(e)}function Li(e){return e}function Ri(e,t){var n=t.type===`color`,r=e.stops&&typeof e.stops[0][0]==`object`,i=r||e.property!==void 0,a=r||!i,o=e.type||(Pi(t)?`exponential`:`interval`);if(n&&(e=Yt({},e),e.stops&&=e.stops.map(function(e){return[e[0],yn.parse(e[1])]}),e.default?e.default=yn.parse(e.default):e.default=yn.parse(t.default)),e.colorSpace&&e.colorSpace!==`rgb`&&!Gr[e.colorSpace])throw Error(`Unknown color space: `+e.colorSpace);var s,c,l;if(o===`exponential`)s=Hi;else if(o===`interval`)s=Vi;else if(o===`categorical`){s=Bi,c=Object.create(null);for(var u=0,d=e.stops;u<d.length;u+=1){var f=d[u];c[f[0]]=f[1]}l=typeof e.stops[0][0]}else if(o===`identity`)s=Ui;else throw Error(`Unknown function type "`+o+`"`);if(r){for(var p={},m=[],h=0;h<e.stops.length;h++){var g=e.stops[h],_=g[0].zoom;p[_]===void 0&&(p[_]={zoom:_,type:e.type,property:e.property,default:e.default,stops:[]},m.push(_)),p[_].stops.push([g[0].value,g[1]])}for(var v=[],y=0,b=m;y<b.length;y+=1){var x=b[y];v.push([p[x].zoom,Ri(p[x],t)])}var S={name:`linear`};return{kind:`composite`,interpolationType:S,interpolationFactor:Kr.interpolationFactor.bind(void 0,S),zoomStops:v.map(function(e){return e[0]}),evaluate:function(n,r){var i=n.zoom;return Hi({stops:v,base:e.base},t,i).evaluate(i,r)}}}else if(a){var C=o===`exponential`?{name:`exponential`,base:e.base===void 0?1:e.base}:null;return{kind:`camera`,interpolationType:C,interpolationFactor:Kr.interpolationFactor.bind(void 0,C),zoomStops:e.stops.map(function(e){return e[0]}),evaluate:function(n){var r=n.zoom;return s(e,t,r,c,l)}}}else return{kind:`source`,evaluate:function(n,r){var i=r&&r.properties?r.properties[e.property]:void 0;return i===void 0?zi(e.default,t.default):s(e,t,i,c,l)}}}function zi(e,t,n){if(e!==void 0)return e;if(t!==void 0)return t;if(n!==void 0)return n}function Bi(e,t,n,r,i){return zi(typeof n===i?r[n]:void 0,e.default,t.default)}function Vi(e,t,n){if(Fi(n)!==`number`)return zi(e.default,t.default);var r=e.stops.length;if(r===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];var i=_r(e.stops.map(function(e){return e[0]}),n);return e.stops[i][1]}function Hi(e,t,n){var r=e.base===void 0?1:e.base;if(Fi(n)!==`number`)return zi(e.default,t.default);var i=e.stops.length;if(i===1||n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];var a=_r(e.stops.map(function(e){return e[0]}),n),o=Wi(n,r,e.stops[a][0],e.stops[a+1][0]),s=e.stops[a][1],c=e.stops[a+1][1],l=Sr[t.type]||Li;if(e.colorSpace&&e.colorSpace!==`rgb`){var u=Gr[e.colorSpace];l=function(e,t){return u.reverse(u.interpolate(u.forward(e),u.forward(t),o))}}return typeof s.evaluate==`function`?{evaluate:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=s.evaluate.apply(void 0,e),r=c.evaluate.apply(void 0,e);if(!(n===void 0||r===void 0))return l(n,r,o)}}:l(s,c,o)}function Ui(e,t,n){return t.type===`color`?n=yn.parse(n):t.type===`formatted`?n=Sn.fromString(n.toString()):t.type===`resolvedImage`?n=Cn.fromString(n.toString()):Fi(n)!==t.type&&(t.type!==`enum`||!t.values[n])&&(n=void 0),zi(n,e.default,t.default)}function Wi(e,t,n,r){var i=r-n,a=e-n;return i===0?0:t===1?a/i:(t**+a-1)/(t**+i-1)}var Gi=function(e,t){this.expression=e,this._warningHistory={},this._evaluator=new Ln,this._defaultValue=t?ta(t):null,this._enumValues=t&&t.type===`enum`?t.values:null};Gi.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,a){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)},Gi.prototype.evaluate=function(e,t,n,r,i,a){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a||null;try{var o=this.expression.evaluate(this._evaluator);if(o==null||typeof o==`number`&&o!==o)return this._defaultValue;if(this._enumValues&&!(o in this._enumValues))throw new kn(`Expected value to be one of `+Object.keys(this._enumValues).map(function(e){return JSON.stringify(e)}).join(`, `)+`, but found `+JSON.stringify(o)+` instead.`);return o}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,typeof console<`u`&&console.warn(e.message)),this._defaultValue}};function Ki(e){return Array.isArray(e)&&e.length>0&&typeof e[0]==`string`&&e[0]in wi}function qi(e,t){var n=new hr(wi,[],t?ea(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&t.type===`string`?{typeAnnotation:`coerce`}:void 0);return r?Ai(new Gi(r,t)):ji(n.errors)}var Ji=function(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent=e!==`constant`&&!$(t.expression)};Ji.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)},Ji.prototype.evaluate=function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)};var Yi=function(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent=e!==`camera`&&!$(t.expression),this.interpolationType=r};Yi.prototype.evaluateWithoutErrorHandling=function(e,t,n,r,i,a){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,a)},Yi.prototype.evaluate=function(e,t,n,r,i,a){return this._styleExpression.evaluate(e,t,n,r,i,a)},Yi.prototype.interpolationFactor=function(e,t,n){return this.interpolationType?Kr.interpolationFactor(this.interpolationType,e,t,n):0};function Xi(e,t){if(e=qi(e,t),e.result===`error`)return e;var n=e.value.expression,r=fr(n);if(!r&&!Mi(t))return ji([new Qt(``,`data expressions not supported`)]);var i=pr(n,[`zoom`]);if(!i&&!Ni(t))return ji([new Qt(``,`zoom expressions not supported`)]);var a=$i(n);if(!a&&!i)return ji([new Qt(``,`"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.`)]);if(a instanceof Qt)return ji([a]);if(a instanceof Kr&&!Pi(t))return ji([new Qt(``,`"interpolate" expressions cannot be used with this property`)]);if(!a)return Ai(r?new Ji(`constant`,e.value):new Ji(`source`,e.value));var o=a instanceof Kr?a.interpolation:void 0;return Ai(r?new Yi(`camera`,e.value,a.labels,o):new Yi(`composite`,e.value,a.labels,o))}var Zi=function(e,t){this._parameters=e,this._specification=t,Yt(this,Ri(this._parameters,this._specification))};Zi.deserialize=function(e){return new Zi(e._parameters,e._specification)},Zi.serialize=function(e){return{_parameters:e._parameters,_specification:e._specification}};function Qi(e,t){if(Ii(e))return new Zi(e,t);if(Ki(e)){var n=Xi(e,t);if(n.result===`error`)throw Error(n.value.map(function(e){return e.key+`: `+e.message}).join(`, `));return n.value}else{var r=e;return typeof e==`string`&&t.type===`color`&&(r=yn.parse(e)),{kind:`constant`,evaluate:function(){return r}}}}function $i(e){var t=null;if(e instanceof Yr)t=$i(e.result);else if(e instanceof Jr)for(var n=0,r=e.args;n<r.length;n+=1){var i=r[n];if(t=$i(i),t)break}else (e instanceof vr||e instanceof Kr)&&e.input instanceof Rn&&e.input.name===`zoom`&&(t=e);return t instanceof Qt||e.eachChild(function(e){var n=$i(e);n instanceof Qt?t=n:!t&&n?t=new Qt(``,`"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.`):t&&n&&t!==n&&(t=new Qt(``,`Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.`))}),t}function ea(e){var t={color:an,string:nn,number:tn,enum:nn,boolean:rn,formatted:un,resolvedImage:dn};return e.type===`array`?fn(t[e.value]||sn,e.length):t[e.type]}function ta(e){return e.type===`color`&&Ii(e.default)?new yn(0,0,0,0):e.type===`color`?yn.parse(e.default)||null:e.default===void 0?null:e.default}function na(e){var t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},a=e.style,o=e.styleSpec,s=[],c=Fi(n);if(c!==`object`)return[new qt(t,n,`object expected, `+c+` found`)];for(var l in n){var u=l.split(`.`)[0],d=r[u]||r[`*`],f=void 0;if(i[u])f=i[u];else if(r[u])f=Fa;else if(i[`*`])f=i[`*`];else if(r[`*`])f=Fa;else{s.push(new qt(t,n[l],`unknown property "`+l+`"`));continue}s=s.concat(f({key:(t&&t+`.`)+l,value:n[l],valueSpec:d,style:a,styleSpec:o,object:n,objectKey:l},n))}for(var p in r)i[p]||r[p].required&&r[p].default===void 0&&n[p]===void 0&&s.push(new qt(t,n,`missing required property "`+p+`"`));return s}function ra(e){var t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,a=e.key,o=e.arrayElementValidator||Fa;if(Fi(t)!==`array`)return[new qt(a,t,`array expected, `+Fi(t)+` found`)];if(n.length&&t.length!==n.length)return[new qt(a,t,`array length `+n.length+` expected, length `+t.length+` found`)];if(n[`min-length`]&&t.length<n[`min-length`])return[new qt(a,t,`array length at least `+n[`min-length`]+` expected, length `+t.length+` found`)];var s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),Fi(n.value)===`object`&&(s=n.value);for(var c=[],l=0;l<t.length;l++)c=c.concat(o({array:t,arrayIndex:l,value:t[l],valueSpec:s,style:r,styleSpec:i,key:a+`[`+l+`]`}));return c}function ia(e){var t=e.key,n=e.value,r=e.valueSpec,i=Fi(n);return i===`number`&&n!==n&&(i=`NaN`),i===`number`?`minimum`in r&&n<r.minimum?[new qt(t,n,n+` is less than the minimum value `+r.minimum)]:`maximum`in r&&n>r.maximum?[new qt(t,n,n+` is greater than the maximum value `+r.maximum)]:[]:[new qt(t,n,`number expected, `+i+` found`)]}function aa(e){var t=e.valueSpec,n=Xt(e.value.type),r,i={},a,o,s=n!==`categorical`&&e.value.property===void 0,c=!s,l=Fi(e.value.stops)===`array`&&Fi(e.value.stops[0])===`array`&&Fi(e.value.stops[0][0])===`object`,u=na({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:d,default:m}});return n===`identity`&&s&&u.push(new qt(e.key,e.value,`missing required property "property"`)),n!==`identity`&&!e.value.stops&&u.push(new qt(e.key,e.value,`missing required property "stops"`)),n===`exponential`&&e.valueSpec.expression&&!Pi(e.valueSpec)&&u.push(new qt(e.key,e.value,`exponential functions not supported`)),e.styleSpec.$version>=8&&(c&&!Mi(e.valueSpec)?u.push(new qt(e.key,e.value,`property functions not supported`)):s&&!Ni(e.valueSpec)&&u.push(new qt(e.key,e.value,`zoom functions not supported`))),(n===`categorical`||l)&&e.value.property===void 0&&u.push(new qt(e.key,e.value,`"property" property is required`)),u;function d(e){if(n===`identity`)return[new qt(e.key,e.value,`identity function may not have a "stops" property`)];var t=[],r=e.value;return t=t.concat(ra({key:e.key,value:r,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:f})),Fi(r)===`array`&&r.length===0&&t.push(new qt(e.key,r,`array must have at least one stop`)),t}function f(e){var n=[],r=e.value,s=e.key;if(Fi(r)!==`array`)return[new qt(s,r,`array expected, `+Fi(r)+` found`)];if(r.length!==2)return[new qt(s,r,`array length 2 expected, length `+r.length+` found`)];if(l){if(Fi(r[0])!==`object`)return[new qt(s,r,`object expected, `+Fi(r[0])+` found`)];if(r[0].zoom===void 0)return[new qt(s,r,`object stop key must have zoom`)];if(r[0].value===void 0)return[new qt(s,r,`object stop key must have value`)];if(o&&o>Xt(r[0].zoom))return[new qt(s,r[0].zoom,`stop zoom values must appear in ascending order`)];Xt(r[0].zoom)!==o&&(o=Xt(r[0].zoom),a=void 0,i={}),n=n.concat(na({key:s+`[0]`,value:r[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:ia,value:p}}))}else n=n.concat(p({key:s+`[0]`,value:r[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},r));return Ki(Zt(r[1]))?n.concat([new qt(s+`[1]`,r[1],`expressions are not allowed in function stops.`)]):n.concat(Fa({key:s+`[1]`,value:r[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function p(e,o){var s=Fi(e.value),c=Xt(e.value),l=e.value===null?o:e.value;if(!r)r=s;else if(s!==r)return[new qt(e.key,l,s+` stop domain type must match previous stop domain type `+r)];if(s!==`number`&&s!==`string`&&s!==`boolean`)return[new qt(e.key,l,`stop domain value must be a number, string, or boolean`)];if(s!==`number`&&n!==`categorical`){var u=`number expected, `+s+` found`;return Mi(t)&&n===void 0&&(u+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new qt(e.key,l,u)]}return n===`categorical`&&s===`number`&&(!isFinite(c)||Math.floor(c)!==c)?[new qt(e.key,l,`integer expected, found `+c)]:n!==`categorical`&&s===`number`&&a!==void 0&&c<a?[new qt(e.key,l,`stop domain values must appear in ascending order`)]:(a=c,n===`categorical`&&c in i?[new qt(e.key,l,`stop domain values must be unique`)]:(i[c]=!0,[]))}function m(e){return Fa({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}function oa(e){var t=(e.expressionContext===`property`?Xi:qi)(Zt(e.value),e.valueSpec);if(t.result===`error`)return t.value.map(function(t){return new qt(``+e.key+t.key,e.value,t.message)});var n=t.value.expression||t.value._styleExpression.expression;if(e.expressionContext===`property`&&e.propertyKey===`text-font`&&!n.outputDefined())return[new qt(e.key,e.value,`Invalid data expression for "`+e.propertyKey+`". Output values must be contained as literals within the expression.`)];if(e.expressionContext===`property`&&e.propertyType===`layout`&&!$(n))return[new qt(e.key,e.value,`"feature-state" data expressions are not supported with layout properties.`)];if(e.expressionContext===`filter`&&!$(n))return[new qt(e.key,e.value,`"feature-state" data expressions are not supported with filters.`)];if(e.expressionContext&&e.expressionContext.indexOf(`cluster`)===0){if(!pr(n,[`zoom`,`feature-state`]))return[new qt(e.key,e.value,`"zoom" and "feature-state" expressions are not supported with cluster properties.`)];if(e.expressionContext===`cluster-initial`&&!fr(n))return[new qt(e.key,e.value,`Feature data expressions are not supported with initial expression part of cluster properties.`)]}return[]}function sa(e){var t=e.value,n=e.key,r=Fi(t);return r===`boolean`?[]:[new qt(n,t,`boolean expected, `+r+` found`)]}function ca(e){var t=e.key,n=e.value,r=Fi(n);return r===`string`?vn(n)===null?[new qt(t,n,`color expected, "`+n+`" found`)]:[]:[new qt(t,n,`color expected, `+r+` found`)]}function la(e){var t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?r.values.indexOf(Xt(n))===-1&&i.push(new qt(t,n,`expected one of [`+r.values.join(`, `)+`], `+JSON.stringify(n)+` found`)):Object.keys(r.values).indexOf(Xt(n))===-1&&i.push(new qt(t,n,`expected one of [`+Object.keys(r.values).join(`, `)+`], `+JSON.stringify(n)+` found`)),i}function ua(e){if(e===!0||e===!1)return!0;if(!Array.isArray(e)||e.length===0)return!1;switch(e[0]){case`has`:return e.length>=2&&e[1]!==`$id`&&e[1]!==`$type`;case`in`:return e.length>=3&&(typeof e[1]!=`string`||Array.isArray(e[2]));case`!in`:case`!has`:case`none`:return!1;case`==`:case`!=`:case`>`:case`>=`:case`<`:case`<=`:return e.length!==3||Array.isArray(e[1])||Array.isArray(e[2]);case`any`:case`all`:for(var t=0,n=e.slice(1);t<n.length;t+=1){var r=n[t];if(!ua(r)&&typeof r!=`boolean`)return!1}return!0;default:return!0}}var da={type:`boolean`,default:!1,transition:!1,"property-type":`data-driven`,expression:{interpolated:!1,parameters:[`zoom`,`feature`]}};function fa(e){if(e==null)return{filter:function(){return!0},needGeometry:!1};ua(e)||(e=ha(e));var t=qi(e,da);if(t.result===`error`)throw Error(t.value.map(function(e){return e.key+`: `+e.message}).join(`, `));return{filter:function(e,n,r){return t.value.evaluate(e,n,{},r)},needGeometry:ma(e)}}function pa(e,t){return e<t?-1:e>t?1:0}function ma(e){if(!Array.isArray(e))return!1;if(e[0]===`within`)return!0;for(var t=1;t<e.length;t++)if(ma(e[t]))return!0;return!1}function ha(e){if(!e)return!0;var t=e[0];return e.length<=1?t!==`any`:t===`==`?ga(e[1],e[2],`==`):t===`!=`?ba(ga(e[1],e[2],`==`)):t===`<`||t===`>`||t===`<=`||t===`>=`?ga(e[1],e[2],t):t===`any`?_a(e.slice(1)):t===`all`?[`all`].concat(e.slice(1).map(ha)):t===`none`?[`all`].concat(e.slice(1).map(ha).map(ba)):t===`in`?va(e[1],e.slice(2)):t===`!in`?ba(va(e[1],e.slice(2))):t===`has`?ya(e[1]):t===`!has`?ba(ya(e[1])):t===`within`?e:!0}function ga(e,t,n){switch(e){case`$type`:return[`filter-type-`+n,t];case`$id`:return[`filter-id-`+n,t];default:return[`filter-`+n,e,t]}}function _a(e){return[`any`].concat(e.map(ha))}function va(e,t){if(t.length===0)return!1;switch(e){case`$type`:return[`filter-type-in`,[`literal`,t]];case`$id`:return[`filter-id-in`,[`literal`,t]];default:return t.length>200&&!t.some(function(e){return typeof e!=typeof t[0]})?[`filter-in-large`,e,[`literal`,t.sort(pa)]]:[`filter-in-small`,e,[`literal`,t]]}}function ya(e){switch(e){case`$type`:return!0;case`$id`:return[`filter-has-id`];default:return[`filter-has`,e]}}function ba(e){return[`!`,e]}function xa(e){return ua(Zt(e.value))?oa(Yt({},e,{expressionContext:`filter`,valueSpec:{value:`boolean`}})):Sa(e)}function Sa(e){var t=e.value,n=e.key;if(Fi(t)!==`array`)return[new qt(n,t,`array expected, `+Fi(t)+` found`)];var r=e.styleSpec,i,a=[];if(t.length<1)return[new qt(n,t,`filter array must have at least 1 element`)];switch(a=a.concat(la({key:n+`[0]`,value:t[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),Xt(t[0])){case`<`:case`<=`:case`>`:case`>=`:t.length>=2&&Xt(t[1])===`$type`&&a.push(new qt(n,t,`"$type" cannot be use with operator "`+t[0]+`"`));case`==`:case`!=`:t.length!==3&&a.push(new qt(n,t,`filter array for operator "`+t[0]+`" must have 3 elements`));case`in`:case`!in`:t.length>=2&&(i=Fi(t[1]),i!==`string`&&a.push(new qt(n+`[1]`,t[1],`string expected, `+i+` found`)));for(var o=2;o<t.length;o++)i=Fi(t[o]),Xt(t[1])===`$type`?a=a.concat(la({key:n+`[`+o+`]`,value:t[o],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):i!==`string`&&i!==`number`&&i!==`boolean`&&a.push(new qt(n+`[`+o+`]`,t[o],`string, number, or boolean expected, `+i+` found`));break;case`any`:case`all`:case`none`:for(var s=1;s<t.length;s++)a=a.concat(Sa({key:n+`[`+s+`]`,value:t[s],style:e.style,styleSpec:e.styleSpec}));break;case`has`:case`!has`:i=Fi(t[1]),t.length===2?i!==`string`&&a.push(new qt(n+`[1]`,t[1],`string expected, `+i+` found`)):a.push(new qt(n,t,`filter array for "`+t[0]+`" operator must have 2 elements`));break;case`within`:i=Fi(t[1]),t.length===2?i!==`object`&&a.push(new qt(n+`[1]`,t[1],`object expected, `+i+` found`)):a.push(new qt(n,t,`filter array for "`+t[0]+`" operator must have 2 elements`));break}return a}function Ca(e,t){var n=e.key,r=e.style,i=e.styleSpec,a=e.value,o=e.objectKey,s=i[t+`_`+e.layerType];if(!s)return[];var c=o.match(/^(.*)-transition$/);if(t===`paint`&&c&&s[c[1]]&&s[c[1]].transition)return Fa({key:n,value:a,valueSpec:i.transition,style:r,styleSpec:i});var l=e.valueSpec||s[o];if(!l)return[new qt(n,a,`unknown property "`+o+`"`)];var u;if(Fi(a)===`string`&&Mi(l)&&!l.tokens&&(u=/^{([^}]+)}$/.exec(a)))return[new qt(n,a,`"`+o+`" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": `+JSON.stringify(u[1])+" }`.")];var d=[];return e.layerType===`symbol`&&(o===`text-field`&&r&&!r.glyphs&&d.push(new qt(n,a,`use of "text-field" requires a style "glyphs" property`)),o===`text-font`&&Ii(Zt(a))&&Xt(a.type)===`identity`&&d.push(new qt(n,a,`"text-font" does not support identity functions`))),d.concat(Fa({key:e.key,value:a,valueSpec:l,style:r,styleSpec:i,expressionContext:`property`,propertyType:t,propertyKey:o}))}function wa(e){return Ca(e,`paint`)}function Ta(e){return Ca(e,`layout`)}function Ea(e){var t=[],n=e.value,r=e.key,i=e.style,a=e.styleSpec;!n.type&&!n.ref&&t.push(new qt(r,n,`either "type" or "ref" is required`));var o=Xt(n.type),s=Xt(n.ref);if(n.id)for(var c=Xt(n.id),l=0;l<e.arrayIndex;l++){var u=i.layers[l];Xt(u.id)===c&&t.push(new qt(r,n.id,`duplicate layer id "`+n.id+`", previously used at line `+u.id.__line__))}if(`ref`in n){[`type`,`source`,`source-layer`,`filter`,`layout`].forEach(function(e){e in n&&t.push(new qt(r,n[e],`"`+e+`" is prohibited for ref layers`))});var d;i.layers.forEach(function(e){Xt(e.id)===s&&(d=e)}),d?d.ref?t.push(new qt(r,n.ref,`ref cannot reference another ref layer`)):o=Xt(d.type):t.push(new qt(r,n.ref,`ref layer "`+s+`" not found`))}else if(o!==`background`)if(!n.source)t.push(new qt(r,n,`missing required property "source"`));else{var f=i.sources&&i.sources[n.source],p=f&&Xt(f.type);f?p===`vector`&&o===`raster`?t.push(new qt(r,n.source,`layer "`+n.id+`" requires a raster source`)):p===`raster`&&o!==`raster`?t.push(new qt(r,n.source,`layer "`+n.id+`" requires a vector source`)):p===`vector`&&!n[`source-layer`]?t.push(new qt(r,n,`layer "`+n.id+`" must specify a "source-layer"`)):p===`raster-dem`&&o!==`hillshade`?t.push(new qt(r,n.source,`raster-dem source can only be used with layer type 'hillshade'.`)):o===`line`&&n.paint&&n.paint[`line-gradient`]&&(p!==`geojson`||!f.lineMetrics)&&t.push(new qt(r,n,`layer "`+n.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):t.push(new qt(r,n.source,`source "`+n.source+`" not found`))}return t=t.concat(na({key:r,value:n,valueSpec:a.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Fa({key:r+`.type`,value:n.type,valueSpec:a.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:`type`})},filter:xa,layout:function(e){return na({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return Ta(Yt({layerType:o},e))}}})},paint:function(e){return na({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":function(e){return wa(Yt({layerType:o},e))}}})}}})),t}function Da(e){var t=e.value,n=e.key,r=Fi(t);return r===`string`?[]:[new qt(n,t,`string expected, `+r+` found`)]}var Oa={promoteId:Aa};function ka(e){var t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new qt(n,t,`"type" is required`)];var a=Xt(t.type),o;switch(a){case`vector`:case`raster`:case`raster-dem`:return o=na({key:n,value:t,valueSpec:r[`source_`+a.replace(`-`,`_`)],style:e.style,styleSpec:r,objectElementValidators:Oa}),o;case`geojson`:if(o=na({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:Oa}),t.cluster)for(var s in t.clusterProperties){var c=t.clusterProperties[s],l=c[0],u=c[1],d=typeof l==`string`?[l,[`accumulated`],[`get`,s]]:l;o.push.apply(o,oa({key:n+`.`+s+`.map`,value:u,expressionContext:`cluster-map`})),o.push.apply(o,oa({key:n+`.`+s+`.reduce`,value:d,expressionContext:`cluster-reduce`}))}return o;case`video`:return na({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case`image`:return na({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case`canvas`:return[new qt(n,null,`Please use runtime APIs to add canvas sources, rather than including them in stylesheets.`,`source.canvas`)];default:return la({key:n+`.type`,value:t.type,valueSpec:{values:[`vector`,`raster`,`raster-dem`,`geojson`,`video`,`image`]},style:i,styleSpec:r})}}function Aa(e){var t=e.key,n=e.value;if(Fi(n)===`string`)return Da({key:t,value:n});var r=[];for(var i in n)r.push.apply(r,Da({key:t+`.`+i,value:n[i]}));return r}function ja(e){var t=e.value,n=e.styleSpec,r=n.light,i=e.style,a=[],o=Fi(t);if(t===void 0)return a;if(o!==`object`)return a=a.concat([new qt(`light`,t,`object expected, `+o+` found`)]),a;for(var s in t){var c=s.match(/^(.*)-transition$/);a=c&&r[c[1]]&&r[c[1]].transition?a.concat(Fa({key:s,value:t[s],valueSpec:n.transition,style:i,styleSpec:n})):r[s]?a.concat(Fa({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n})):a.concat([new qt(s,t[s],`unknown property "`+s+`"`)])}return a}function Ma(e){return Da(e).length===0?[]:oa(e)}function Na(e){return Da(e).length===0?[]:oa(e)}var Pa={"*":function(){return[]},array:ra,boolean:sa,number:ia,color:ca,constants:Jt,enum:la,filter:xa,function:aa,layer:Ea,object:na,source:ka,light:ja,string:Da,formatted:Ma,resolvedImage:Na};function Fa(e){var t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&Ii(Xt(t))?aa(e):n.expression&&Ki(Zt(t))?oa(e):n.type&&Pa[n.type]?Pa[n.type](e):na(Yt({},e,{valueSpec:n.type?r[n.type]:n}))}function Ia(e){var t=e.value,n=e.key,r=Da(e);return r.length?r:(t.indexOf(`{fontstack}`)===-1&&r.push(new qt(n,t,`"glyphs" url must include a "{fontstack}" token`)),t.indexOf(`{range}`)===-1&&r.push(new qt(n,t,`"glyphs" url must include a "{range}" token`)),r)}function La(e,t){t===void 0&&(t=Kt);var n=[];return n=n.concat(Fa({key:``,value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Ia,"*":function(){return[]}}})),e.constants&&(n=n.concat(Jt({key:`constants`,value:e.constants,style:e,styleSpec:t}))),Ra(n)}La.source=za(ka),La.light=za(ja),La.layer=za(Ea),La.filter=za(xa),La.paintProperty=za(wa),La.layoutProperty=za(Ta);function Ra(e){return[].concat(e).sort(function(e,t){return e.line-t.line})}function za(e){return function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Ra(e.apply(this,t))}}var Ba=La,Va=Ba.light,Ha=Ba.paintProperty,Ua=Ba.layoutProperty;function Wa(e,t){var n=!1;if(t&&t.length)for(var r=0,i=t;r<i.length;r+=1){var a=i[r];e.fire(new ot(Error(a.message))),n=!0}return n}var Ga=qa,Ka=3;function qa(e,t,n){var r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],t=i[1],n=i[2],this.d=t+2*n;for(var a=0;a<this.d*this.d;a++){var o=i[Ka+a],s=i[Ka+a+1];r.push(o===s?null:i.subarray(o,s))}var c=i[Ka+r.length],l=i[Ka+r.length+1];this.keys=i.subarray(c,l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var u=0;u<this.d*this.d;u++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var d=n/t*e;this.min=-d,this.max=e+d}qa.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},qa.prototype._insertReadonly=function(){throw`Cannot insert into a GridIndex created from an ArrayBuffer.`},qa.prototype._insertCell=function(e,t,n,r,i,a){this.cells[i].push(a)},qa.prototype.query=function(e,t,n,r,i){var a=this.min,o=this.max;if(e<=a&&t<=a&&o<=n&&o<=r&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,r,this._queryCell,s,{},i),s},qa.prototype._queryCell=function(e,t,n,r,i,a,o,s){var c=this.cells[i];if(c!==null)for(var l=this.keys,u=this.bboxes,d=0;d<c.length;d++){var f=c[d];if(o[f]===void 0){var p=f*4;(s?s(u[p+0],u[p+1],u[p+2],u[p+3]):e<=u[p+2]&&t<=u[p+3]&&n>=u[p+0]&&r>=u[p+1])?(o[f]=!0,a.push(l[f])):o[f]=!1}}},qa.prototype._forEachCell=function(e,t,n,r,i,a,o,s){for(var c=this._convertToCellCoord(e),l=this._convertToCellCoord(t),u=this._convertToCellCoord(n),d=this._convertToCellCoord(r),f=c;f<=u;f++)for(var p=l;p<=d;p++){var m=this.d*p+f;if(!(s&&!s(this._convertFromCellCoord(f),this._convertFromCellCoord(p),this._convertFromCellCoord(f+1),this._convertFromCellCoord(p+1)))&&i.call(this,e,t,n,r,m,a,o,s))return}},qa.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},qa.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},qa.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=Ka+this.cells.length+1+1,n=0,r=0;r<this.cells.length;r++)n+=this.cells[r].length;var i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=t,o=0;o<e.length;o++){var s=e[o];i[Ka+o]=a,i.set(s,a),a+=s.length}return i[Ka+e.length]=a,i.set(this.keys,a),a+=this.keys.length,i[Ka+e.length+1]=a,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer};var Ja=self.ImageData,Ya=self.ImageBitmap,Xa={};function Za(e,t,n){n===void 0&&(n={}),Object.defineProperty(t,`_classRegistryKey`,{value:e,writeable:!1}),Xa[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}for(var Qa in Za(`Object`,Object),Ga.serialize=function(e,t){var n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},Ga.deserialize=function(e){return new Ga(e.buffer)},Za(`Grid`,Ga),Za(`Color`,yn),Za(`Error`,Error),Za(`ResolvedImage`,Cn),Za(`StylePropertyFunction`,Zi),Za(`StyleExpression`,Gi,{omit:[`_evaluator`]}),Za(`ZoomDependentExpression`,Yi),Za(`ZoomConstantExpression`,Ji),Za(`CompoundExpression`,Rn,{omit:[`_evaluate`]}),wi)wi[Qa]._classRegistryKey||Za(`Expression_`+Qa,wi[Qa]);function $a(e){return e&&typeof ArrayBuffer<`u`&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name===`ArrayBuffer`)}function eo(e){return Ya&&e instanceof Ya}function to(e,t){if(e==null||typeof e==`boolean`||typeof e==`number`||typeof e==`string`||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if($a(e)||eo(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){var n=e;return t&&t.push(n.buffer),n}if(e instanceof Ja)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){for(var r=[],i=0,a=e;i<a.length;i+=1){var o=a[i];r.push(to(o,t))}return r}if(typeof e==`object`){var s=e.constructor,c=s._classRegistryKey;if(!c)throw Error(`can't serialize object of unregistered class`);var l=s.serialize?s.serialize(e,t):{};if(!s.serialize){for(var u in e)if(e.hasOwnProperty(u)&&!(Xa[c].omit.indexOf(u)>=0)){var d=e[u];l[u]=Xa[c].shallow.indexOf(u)>=0?d:to(d,t)}e instanceof Error&&(l.message=e.message)}if(l.$name)throw Error(`$name property is reserved for worker serialization logic.`);return c!==`Object`&&(l.$name=c),l}throw Error(`can't serialize object of type `+typeof e)}function no(e){if(e==null||typeof e==`boolean`||typeof e==`number`||typeof e==`string`||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||$a(e)||eo(e)||ArrayBuffer.isView(e)||e instanceof Ja)return e;if(Array.isArray(e))return e.map(no);if(typeof e==`object`){var t=e.$name||`Object`,n=Xa[t].klass;if(!n)throw Error(`can't deserialize unregistered class `+t);if(n.deserialize)return n.deserialize(e);for(var r=Object.create(n.prototype),i=0,a=Object.keys(e);i<a.length;i+=1){var o=a[i];if(o!==`$name`){var s=e[o];r[o]=Xa[t].shallow.indexOf(o)>=0?s:no(s)}}return r}throw Error(`can't deserialize object of type `+typeof e)}var ro=function(){this.first=!0};ro.prototype.update=function(e,t){var n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e===this.lastZoom?!1:(this.lastZoom=e,this.lastFloorZoom=n,!0))};var io={"Latin-1 Supplement":function(e){return e>=128&&e<=255},Arabic:function(e){return e>=1536&&e<=1791},"Arabic Supplement":function(e){return e>=1872&&e<=1919},"Arabic Extended-A":function(e){return e>=2208&&e<=2303},"Hangul Jamo":function(e){return e>=4352&&e<=4607},"Unified Canadian Aboriginal Syllabics":function(e){return e>=5120&&e<=5759},Khmer:function(e){return e>=6016&&e<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(e){return e>=6320&&e<=6399},"General Punctuation":function(e){return e>=8192&&e<=8303},"Letterlike Symbols":function(e){return e>=8448&&e<=8527},"Number Forms":function(e){return e>=8528&&e<=8591},"Miscellaneous Technical":function(e){return e>=8960&&e<=9215},"Control Pictures":function(e){return e>=9216&&e<=9279},"Optical Character Recognition":function(e){return e>=9280&&e<=9311},"Enclosed Alphanumerics":function(e){return e>=9312&&e<=9471},"Geometric Shapes":function(e){return e>=9632&&e<=9727},"Miscellaneous Symbols":function(e){return e>=9728&&e<=9983},"Miscellaneous Symbols and Arrows":function(e){return e>=11008&&e<=11263},"CJK Radicals Supplement":function(e){return e>=11904&&e<=12031},"Kangxi Radicals":function(e){return e>=12032&&e<=12255},"Ideographic Description Characters":function(e){return e>=12272&&e<=12287},"CJK Symbols and Punctuation":function(e){return e>=12288&&e<=12351},Hiragana:function(e){return e>=12352&&e<=12447},Katakana:function(e){return e>=12448&&e<=12543},Bopomofo:function(e){return e>=12544&&e<=12591},"Hangul Compatibility Jamo":function(e){return e>=12592&&e<=12687},Kanbun:function(e){return e>=12688&&e<=12703},"Bopomofo Extended":function(e){return e>=12704&&e<=12735},"CJK Strokes":function(e){return e>=12736&&e<=12783},"Katakana Phonetic Extensions":function(e){return e>=12784&&e<=12799},"Enclosed CJK Letters and Months":function(e){return e>=12800&&e<=13055},"CJK Compatibility":function(e){return e>=13056&&e<=13311},"CJK Unified Ideographs Extension A":function(e){return e>=13312&&e<=19903},"Yijing Hexagram Symbols":function(e){return e>=19904&&e<=19967},"CJK Unified Ideographs":function(e){return e>=19968&&e<=40959},"Yi Syllables":function(e){return e>=40960&&e<=42127},"Yi Radicals":function(e){return e>=42128&&e<=42191},"Hangul Jamo Extended-A":function(e){return e>=43360&&e<=43391},"Hangul Syllables":function(e){return e>=44032&&e<=55215},"Hangul Jamo Extended-B":function(e){return e>=55216&&e<=55295},"Private Use Area":function(e){return e>=57344&&e<=63743},"CJK Compatibility Ideographs":function(e){return e>=63744&&e<=64255},"Arabic Presentation Forms-A":function(e){return e>=64336&&e<=65023},"Vertical Forms":function(e){return e>=65040&&e<=65055},"CJK Compatibility Forms":function(e){return e>=65072&&e<=65103},"Small Form Variants":function(e){return e>=65104&&e<=65135},"Arabic Presentation Forms-B":function(e){return e>=65136&&e<=65279},"Halfwidth and Fullwidth Forms":function(e){return e>=65280&&e<=65519}};function ao(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(lo(r.charCodeAt(0)))return!0}return!1}function oo(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(!so(r.charCodeAt(0)))return!1}return!0}function so(e){return!(io.Arabic(e)||io[`Arabic Supplement`](e)||io[`Arabic Extended-A`](e)||io[`Arabic Presentation Forms-A`](e)||io[`Arabic Presentation Forms-B`](e))}function co(e){return e<11904?!1:!!(io[`Bopomofo Extended`](e)||io.Bopomofo(e)||io[`CJK Compatibility Forms`](e)||io[`CJK Compatibility Ideographs`](e)||io[`CJK Compatibility`](e)||io[`CJK Radicals Supplement`](e)||io[`CJK Strokes`](e)||io[`CJK Symbols and Punctuation`](e)||io[`CJK Unified Ideographs Extension A`](e)||io[`CJK Unified Ideographs`](e)||io[`Enclosed CJK Letters and Months`](e)||io[`Halfwidth and Fullwidth Forms`](e)||io.Hiragana(e)||io[`Ideographic Description Characters`](e)||io[`Kangxi Radicals`](e)||io[`Katakana Phonetic Extensions`](e)||io.Katakana(e)||io[`Vertical Forms`](e)||io[`Yi Radicals`](e)||io[`Yi Syllables`](e))}function lo(e){return e===746||e===747?!0:e<4352?!1:!!(io[`Bopomofo Extended`](e)||io.Bopomofo(e)||io[`CJK Compatibility Forms`](e)&&!(e>=65097&&e<=65103)||io[`CJK Compatibility Ideographs`](e)||io[`CJK Compatibility`](e)||io[`CJK Radicals Supplement`](e)||io[`CJK Strokes`](e)||io[`CJK Symbols and Punctuation`](e)&&!(e>=12296&&e<=12305)&&!(e>=12308&&e<=12319)&&e!==12336||io[`CJK Unified Ideographs Extension A`](e)||io[`CJK Unified Ideographs`](e)||io[`Enclosed CJK Letters and Months`](e)||io[`Hangul Compatibility Jamo`](e)||io[`Hangul Jamo Extended-A`](e)||io[`Hangul Jamo Extended-B`](e)||io[`Hangul Jamo`](e)||io[`Hangul Syllables`](e)||io.Hiragana(e)||io[`Ideographic Description Characters`](e)||io.Kanbun(e)||io[`Kangxi Radicals`](e)||io[`Katakana Phonetic Extensions`](e)||io.Katakana(e)&&e!==12540||io[`Halfwidth and Fullwidth Forms`](e)&&e!==65288&&e!==65289&&e!==65293&&!(e>=65306&&e<=65310)&&e!==65339&&e!==65341&&e!==65343&&!(e>=65371&&e<=65503)&&e!==65507&&!(e>=65512&&e<=65519)||io[`Small Form Variants`](e)&&!(e>=65112&&e<=65118)&&!(e>=65123&&e<=65126)||io[`Unified Canadian Aboriginal Syllabics`](e)||io[`Unified Canadian Aboriginal Syllabics Extended`](e)||io[`Vertical Forms`](e)||io[`Yijing Hexagram Symbols`](e)||io[`Yi Syllables`](e)||io[`Yi Radicals`](e))}function uo(e){return!!(io[`Latin-1 Supplement`](e)&&(e===167||e===169||e===174||e===177||e===188||e===189||e===190||e===215||e===247)||io[`General Punctuation`](e)&&(e===8214||e===8224||e===8225||e===8240||e===8241||e===8251||e===8252||e===8258||e===8263||e===8264||e===8265||e===8273)||io[`Letterlike Symbols`](e)||io[`Number Forms`](e)||io[`Miscellaneous Technical`](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||e===9003||e>=9085&&e<=9114||e>=9150&&e<=9165||e===9167||e>=9169&&e<=9179||e>=9186&&e<=9215)||io[`Control Pictures`](e)&&e!==9251||io[`Optical Character Recognition`](e)||io[`Enclosed Alphanumerics`](e)||io[`Geometric Shapes`](e)||io[`Miscellaneous Symbols`](e)&&!(e>=9754&&e<=9759)||io[`Miscellaneous Symbols and Arrows`](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||io[`CJK Symbols and Punctuation`](e)||io.Katakana(e)||io[`Private Use Area`](e)||io[`CJK Compatibility Forms`](e)||io[`Small Form Variants`](e)||io[`Halfwidth and Fullwidth Forms`](e)||e===8734||e===8756||e===8757||e>=9984&&e<=10087||e>=10102&&e<=10131||e===65532||e===65533)}function fo(e){return!(lo(e)||uo(e))}function po(e){return io.Arabic(e)||io[`Arabic Supplement`](e)||io[`Arabic Extended-A`](e)||io[`Arabic Presentation Forms-A`](e)||io[`Arabic Presentation Forms-B`](e)}function mo(e){return e>=1424&&e<=2303||io[`Arabic Presentation Forms-A`](e)||io[`Arabic Presentation Forms-B`](e)}function ho(e,t){return!(!t&&mo(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||io.Khmer(e))}function go(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(mo(r.charCodeAt(0)))return!0}return!1}function _o(e,t){for(var n=0,r=e;n<r.length;n+=1){var i=r[n];if(!ho(i.charCodeAt(0),t))return!1}return!0}var vo={unavailable:`unavailable`,deferred:`deferred`,loading:`loading`,loaded:`loaded`,error:`error`},yo=null,bo=vo.unavailable,xo=null,So=function(e){e&&typeof e==`string`&&e.indexOf(`NetworkError`)>-1&&(bo=vo.error),yo&&yo(e)};function Co(){wo.fire(new at(`pluginStateChange`,{pluginStatus:bo,pluginURL:xo}))}var wo=new st,To=function(){return bo},Eo=function(e){return e({pluginStatus:bo,pluginURL:xo}),wo.on(`pluginStateChange`,e),e},Do=function(e,t,n){if(n===void 0&&(n=!1),bo===vo.deferred||bo===vo.loading||bo===vo.loaded)throw Error(`setRTLTextPlugin cannot be called multiple times.`);xo=G.resolveURL(e),bo=vo.deferred,yo=t,Co(),n||Oo()},Oo=function(){if(bo!==vo.deferred||!xo)throw Error(`rtl-text-plugin cannot be downloaded unless a pluginURL is specified`);bo=vo.loading,Co(),xo&&qe({url:xo},function(e){e?So(e):(bo=vo.loaded,Co())})},ko={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return bo===vo.loaded||ko.applyArabicShaping!=null},isLoading:function(){return bo===vo.loading},setState:function(e){bo=e.pluginStatus,xo=e.pluginURL},isParsed:function(){return ko.applyArabicShaping!=null&&ko.processBidirectionalText!=null&&ko.processStyledBidirectionalText!=null},getPluginURL:function(){return xo}},Ao=function(){!ko.isLoading()&&!ko.isLoaded()&&To()===`deferred`&&Oo()},jo=function(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ro,this.transition={})};jo.prototype.isSupportedScript=function(e){return _o(e,ko.isLoaded())},jo.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},jo.prototype.getCrossfadeParameters=function(){var e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}};var Mo=function(e,t){this.property=e,this.value=t,this.expression=Qi(t===void 0?e.specification.default:t,e.specification)};Mo.prototype.isDataDriven=function(){return this.expression.kind===`source`||this.expression.kind===`composite`},Mo.prototype.possiblyEvaluate=function(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)};var No=function(e){this.property=e,this.value=new Mo(e,void 0)};No.prototype.transitioned=function(e,t){return new Fo(this.property,this.value,t,g({},e.transition,this.transition),e.now)},No.prototype.untransitioned=function(){return new Fo(this.property,this.value,null,{},0)};var Po=function(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)};Po.prototype.getValue=function(e){return E(this._values[e].value.value)},Po.prototype.setValue=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new No(this._values[e].property)),this._values[e].value=new Mo(this._values[e].property,t===null?void 0:E(t))},Po.prototype.getTransition=function(e){return E(this._values[e].transition)},Po.prototype.setTransition=function(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new No(this._values[e].property)),this._values[e].transition=E(t)||void 0},Po.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);i!==void 0&&(e[r]=i);var a=this.getTransition(r);a!==void 0&&(e[r+`-transition`]=a)}return e},Po.prototype.transitioned=function(e,t){for(var n=new Io(this._properties),r=0,i=Object.keys(this._values);r<i.length;r+=1){var a=i[r];n._values[a]=this._values[a].transitioned(e,t._values[a])}return n},Po.prototype.untransitioned=function(){for(var e=new Io(this._properties),t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t];e._values[r]=this._values[r].untransitioned()}return e};var Fo=function(e,t,n,r,i){this.property=e,this.value=t,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)};Fo.prototype.possiblyEvaluate=function(e,t,n){var r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),a=this.prior;if(a){if(r>this.end||this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return a.possiblyEvaluate(e,t,n);var o=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(e,t,n),i,c(o))}else return i};var Io=function(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)};Io.prototype.possiblyEvaluate=function(e,t,n){for(var r=new zo(this._properties),i=0,a=Object.keys(this._values);i<a.length;i+=1){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r},Io.prototype.hasTransition=function(){for(var e=0,t=Object.keys(this._values);e<t.length;e+=1){var n=t[e];if(this._values[n].prior)return!0}return!1};var Lo=function(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)};Lo.prototype.getValue=function(e){return E(this._values[e].value)},Lo.prototype.setValue=function(e,t){this._values[e]=new Mo(this._values[e].property,t===null?void 0:E(t))},Lo.prototype.serialize=function(){for(var e={},t=0,n=Object.keys(this._values);t<n.length;t+=1){var r=n[t],i=this.getValue(r);i!==void 0&&(e[r]=i)}return e},Lo.prototype.possiblyEvaluate=function(e,t,n){for(var r=new zo(this._properties),i=0,a=Object.keys(this._values);i<a.length;i+=1){var o=a[i];r._values[o]=this._values[o].possiblyEvaluate(e,t,n)}return r};var Ro=function(e,t,n){this.property=e,this.value=t,this.parameters=n};Ro.prototype.isConstant=function(){return this.value.kind===`constant`},Ro.prototype.constantOr=function(e){return this.value.kind===`constant`?this.value.value:e},Ro.prototype.evaluate=function(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)};var zo=function(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)};zo.prototype.get=function(e){return this._values[e]};var Bo=function(e){this.specification=e};Bo.prototype.possiblyEvaluate=function(e,t){return e.expression.evaluate(t)},Bo.prototype.interpolate=function(e,t,n){var r=Sr[this.specification.type];return r?r(e,t,n):e};var Vo=function(e,t){this.specification=e,this.overrides=t};Vo.prototype.possiblyEvaluate=function(e,t,n,r){return e.expression.kind===`constant`||e.expression.kind===`camera`?new Ro(this,{kind:`constant`,value:e.expression.evaluate(t,null,{},n,r)},t):new Ro(this,e.expression,t)},Vo.prototype.interpolate=function(e,t,n){if(e.value.kind!==`constant`||t.value.kind!==`constant`)return e;if(e.value.value===void 0||t.value.value===void 0)return new Ro(this,{kind:`constant`,value:void 0},e.parameters);var r=Sr[this.specification.type];return r?new Ro(this,{kind:`constant`,value:r(e.value.value,t.value.value,n)},e.parameters):e},Vo.prototype.evaluate=function(e,t,n,r,i,a){return e.kind===`constant`?e.value:e.evaluate(t,n,r,i,a)};var Ho=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(e,t,n,r){if(e.value===void 0)return new Ro(this,{kind:`constant`,value:void 0},t);if(e.expression.kind===`constant`){var i=e.expression.evaluate(t,null,{},n,r),a=e.property.specification.type===`resolvedImage`&&typeof i!=`string`?i.name:i,o=this._calculate(a,a,a,t);return new Ro(this,{kind:`constant`,value:o},t)}else if(e.expression.kind===`camera`){var s=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new Ro(this,{kind:`constant`,value:s},t)}else return new Ro(this,e.expression,t)},t.prototype.evaluate=function(e,t,n,r,i,a){if(e.kind===`source`){var o=e.evaluate(t,n,r,i,a);return this._calculate(o,o,o,t)}else if(e.kind===`composite`)return this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t);else return e.value},t.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},t.prototype.interpolate=function(e){return e},t}(Vo),Uo=function(e){this.specification=e};Uo.prototype.possiblyEvaluate=function(e,t,n,r){if(e.value!==void 0)if(e.expression.kind===`constant`){var i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}else return this._calculate(e.expression.evaluate(new jo(Math.floor(t.zoom-1),t)),e.expression.evaluate(new jo(Math.floor(t.zoom),t)),e.expression.evaluate(new jo(Math.floor(t.zoom+1),t)),t)},Uo.prototype._calculate=function(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}},Uo.prototype.interpolate=function(e){return e};var Wo=function(e){this.specification=e};Wo.prototype.possiblyEvaluate=function(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)},Wo.prototype.interpolate=function(){return!1};var Go=function(e){for(var t in this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],e){var n=e[t];n.specification.overridable&&this.overridableProperties.push(t);var r=this.defaultPropertyValues[t]=new Mo(n,void 0),i=this.defaultTransitionablePropertyValues[t]=new No(n);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=r.possiblyEvaluate({})}};Za(`DataDrivenProperty`,Vo),Za(`DataConstantProperty`,Bo),Za(`CrossFadedDataDrivenProperty`,Ho),Za(`CrossFadedProperty`,Uo),Za(`ColorRampProperty`,Wo);var Ko=`-transition`,qo=function(e){function t(t,n){if(e.call(this),this.id=t.id,this.type=t.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},t.type!==`custom`&&(t=t,this.metadata=t.metadata,this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,t.type!==`background`&&(this.source=t.source,this.sourceLayer=t[`source-layer`],this.filter=t.filter),n.layout&&(this._unevaluatedLayout=new Lo(n.layout)),n.paint)){for(var r in this._transitionablePaint=new Po(n.paint),t.paint)this.setPaintProperty(r,t.paint[r],{validate:!1});for(var i in t.layout)this.setLayoutProperty(i,t.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new zo(n.paint)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},t.prototype.getLayoutProperty=function(e){return e===`visibility`?this.visibility:this._unevaluatedLayout.getValue(e)},t.prototype.setLayoutProperty=function(e,t,n){if(n===void 0&&(n={}),t!=null){var r=`layers.`+this.id+`.layout.`+e;if(this._validate(Ua,r,e,t,n))return}if(e===`visibility`){this.visibility=t;return}this._unevaluatedLayout.setValue(e,t)},t.prototype.getPaintProperty=function(e){return C(e,Ko)?this._transitionablePaint.getTransition(e.slice(0,-Ko.length)):this._transitionablePaint.getValue(e)},t.prototype.setPaintProperty=function(e,t,n){if(n===void 0&&(n={}),t!=null){var r=`layers.`+this.id+`.paint.`+e;if(this._validate(Ha,r,e,t,n))return!1}if(C(e,Ko))return this._transitionablePaint.setTransition(e.slice(0,-Ko.length),t||void 0),!1;var i=this._transitionablePaint._values[e],a=i.property.specification[`property-type`]===`cross-faded-data-driven`,o=i.value.isDataDriven(),s=i.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);var c=this._transitionablePaint._values[e].value;return c.isDataDriven()||o||a||this._handleOverridablePaintPropertyUpdate(e,s,c)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){},t.prototype._handleOverridablePaintPropertyUpdate=function(e,t,n){return!1},t.prototype.isHidden=function(e){return this.minzoom&&e<this.minzoom||this.maxzoom&&e>=this.maxzoom?!0:this.visibility===`none`},t.prototype.updateTransitions=function(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)},t.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},t.prototype.recalculate=function(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)},t.prototype.serialize=function(){var e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),T(e,function(e,t){return e!==void 0&&!(t===`layout`&&!Object.keys(e).length)&&!(t===`paint`&&!Object.keys(e).length)})},t.prototype._validate=function(e,t,n,r,i){return i===void 0&&(i={}),i&&i.validate===!1?!1:Wa(this,e.call(Ba,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:Kt,style:{glyphs:!0,sprite:!0}}))},t.prototype.is3D=function(){return!1},t.prototype.isTileClipped=function(){return!1},t.prototype.hasOffscreenPass=function(){return!1},t.prototype.resize=function(){},t.prototype.isStateDependent=function(){for(var e in this.paint._values){var t=this.paint.get(e);if(!(!(t instanceof Ro)||!Mi(t.property.specification))&&(t.value.kind===`source`||t.value.kind===`composite`)&&t.value.isStateDependent)return!0}return!1},t}(st),Jo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Yo=function(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Xo=128,Zo=5,Qo=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};Qo.serialize=function(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}},Qo.deserialize=function(e){var t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t},Qo.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Qo.prototype.clear=function(){this.length=0},Qo.prototype.resize=function(e){this.reserve(e),this.length=e},Qo.prototype.reserve=function(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(this.capacity*Zo),Xo),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}},Qo.prototype._refreshViews=function(){throw Error(`_refreshViews() must be implemented by each concrete StructArray layout`)};function $o(e,t){t===void 0&&(t=1);var n=0,r=0;return{members:e.map(function(e){var i=es(e.type),a=n=ts(n,Math.max(t,i)),o=e.components||1;return r=Math.max(r,i),n+=i*o,{name:e.name,type:e.type,components:o,offset:a}}),size:ts(n,Math.max(r,t)),alignment:t}}function es(e){return Jo[e].BYTES_PER_ELEMENT}function ts(e,t){return Math.ceil(e/t)*t}var ns=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=e*2;return this.int16[r+0]=t,this.int16[r+1]=n,e},t}(Qo);ns.prototype.bytesPerElement=4,Za(`StructArrayLayout2i4`,ns);var rs=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var a=e*4;return this.int16[a+0]=t,this.int16[a+1]=n,this.int16[a+2]=r,this.int16[a+3]=i,e},t}(Qo);rs.prototype.bytesPerElement=8,Za(`StructArrayLayout4i8`,rs);var is=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)},t.prototype.emplace=function(e,t,n,r,i,a,o){var s=e*6;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e},t}(Qo);is.prototype.bytesPerElement=12,Za(`StructArrayLayout2i4i12`,is);var as=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)},t.prototype.emplace=function(e,t,n,r,i,a,o){var s=e*4,c=e*8;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[c+4]=r,this.uint8[c+5]=i,this.uint8[c+6]=a,this.uint8[c+7]=o,e},t}(Qo);as.prototype.bytesPerElement=8,Za(`StructArrayLayout2i4ub8`,as);var os=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,c,l){var u=this.length;return this.resize(u+1),this.emplace(u,e,t,n,r,i,a,o,s,c,l)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,c,l,u){var d=e*9,f=e*18;return this.uint16[d+0]=t,this.uint16[d+1]=n,this.uint16[d+2]=r,this.uint16[d+3]=i,this.uint16[d+4]=a,this.uint16[d+5]=o,this.uint16[d+6]=s,this.uint16[d+7]=c,this.uint8[f+16]=l,this.uint8[f+17]=u,e},t}(Qo);os.prototype.bytesPerElement=18,Za(`StructArrayLayout8ui2ub18`,os);var ss=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,c,l,u,d){var f=this.length;return this.resize(f+1),this.emplace(f,e,t,n,r,i,a,o,s,c,l,u,d)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,c,l,u,d,f){var p=e*12;return this.int16[p+0]=t,this.int16[p+1]=n,this.int16[p+2]=r,this.int16[p+3]=i,this.uint16[p+4]=a,this.uint16[p+5]=o,this.uint16[p+6]=s,this.uint16[p+7]=c,this.int16[p+8]=l,this.int16[p+9]=u,this.int16[p+10]=d,this.int16[p+11]=f,e},t}(Qo);ss.prototype.bytesPerElement=24,Za(`StructArrayLayout4i4ui4i24`,ss);var cs=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=e*3;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e},t}(Qo);cs.prototype.bytesPerElement=12,Za(`StructArrayLayout3f12`,cs);var ls=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var n=e*1;return this.uint32[n+0]=t,e},t}(Qo);ls.prototype.bytesPerElement=4,Za(`StructArrayLayout1ul4`,ls);var us=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,c){var l=this.length;return this.resize(l+1),this.emplace(l,e,t,n,r,i,a,o,s,c)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,c,l){var u=e*10,d=e*5;return this.int16[u+0]=t,this.int16[u+1]=n,this.int16[u+2]=r,this.int16[u+3]=i,this.int16[u+4]=a,this.int16[u+5]=o,this.uint32[d+3]=s,this.uint16[u+8]=c,this.uint16[u+9]=l,e},t}(Qo);us.prototype.bytesPerElement=20,Za(`StructArrayLayout6i1ul2ui20`,us);var ds=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i,a)},t.prototype.emplace=function(e,t,n,r,i,a,o){var s=e*6;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,e},t}(Qo);ds.prototype.bytesPerElement=12,Za(`StructArrayLayout2i2i2i12`,ds);var fs=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i){var a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i)},t.prototype.emplace=function(e,t,n,r,i,a){var o=e*4,s=e*8;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.int16[s+6]=i,this.int16[s+7]=a,e},t}(Qo);fs.prototype.bytesPerElement=16,Za(`StructArrayLayout2f1f2i16`,fs);var ps=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var a=e*12,o=e*3;return this.uint8[a+0]=t,this.uint8[a+1]=n,this.float32[o+1]=r,this.float32[o+2]=i,e},t}(Qo);ps.prototype.bytesPerElement=12,Za(`StructArrayLayout2ub2f12`,ps);var ms=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=e*3;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e},t}(Qo);ms.prototype.bytesPerElement=6,Za(`StructArrayLayout3ui6`,ms);var hs=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g){var _=this.length;return this.resize(_+1),this.emplace(_,e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_){var v=e*24,y=e*12,b=e*48;return this.int16[v+0]=t,this.int16[v+1]=n,this.uint16[v+2]=r,this.uint16[v+3]=i,this.uint32[y+2]=a,this.uint32[y+3]=o,this.uint32[y+4]=s,this.uint16[v+10]=c,this.uint16[v+11]=l,this.uint16[v+12]=u,this.float32[y+7]=d,this.float32[y+8]=f,this.uint8[b+36]=p,this.uint8[b+37]=m,this.uint8[b+38]=h,this.uint32[y+10]=g,this.int16[v+22]=_,e},t}(Qo);hs.prototype.bytesPerElement=48,Za(`StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48`,hs);var gs=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T,E,D){var O=this.length;return this.resize(O+1),this.emplace(O,e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T,E,D)},t.prototype.emplace=function(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T,E,D,O){var k=e*34,A=e*17;return this.int16[k+0]=t,this.int16[k+1]=n,this.int16[k+2]=r,this.int16[k+3]=i,this.int16[k+4]=a,this.int16[k+5]=o,this.int16[k+6]=s,this.int16[k+7]=c,this.uint16[k+8]=l,this.uint16[k+9]=u,this.uint16[k+10]=d,this.uint16[k+11]=f,this.uint16[k+12]=p,this.uint16[k+13]=m,this.uint16[k+14]=h,this.uint16[k+15]=g,this.uint16[k+16]=_,this.uint16[k+17]=v,this.uint16[k+18]=y,this.uint16[k+19]=b,this.uint16[k+20]=x,this.uint16[k+21]=S,this.uint16[k+22]=C,this.uint32[A+12]=w,this.float32[A+13]=T,this.float32[A+14]=E,this.float32[A+15]=D,this.float32[A+16]=O,e},t}(Qo);gs.prototype.bytesPerElement=68,Za(`StructArrayLayout8i15ui1ul4f68`,gs);var _s=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var n=e*1;return this.float32[n+0]=t,e},t}(Qo);_s.prototype.bytesPerElement=4,Za(`StructArrayLayout1f4`,_s);var vs=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=e*3;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e},t}(Qo);vs.prototype.bytesPerElement=6,Za(`StructArrayLayout3i6`,vs);var ys=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n){var r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)},t.prototype.emplace=function(e,t,n,r){var i=e*2,a=e*4;return this.uint32[i+0]=t,this.uint16[a+2]=n,this.uint16[a+3]=r,e},t}(Qo);ys.prototype.bytesPerElement=8,Za(`StructArrayLayout1ul2ui8`,ys);var bs=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=e*2;return this.uint16[r+0]=t,this.uint16[r+1]=n,e},t}(Qo);bs.prototype.bytesPerElement=4,Za(`StructArrayLayout2ui4`,bs);var xs=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e){var t=this.length;return this.resize(t+1),this.emplace(t,e)},t.prototype.emplace=function(e,t){var n=e*1;return this.uint16[n+0]=t,e},t}(Qo);xs.prototype.bytesPerElement=2,Za(`StructArrayLayout1ui2`,xs);var Ss=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t){var n=this.length;return this.resize(n+1),this.emplace(n,e,t)},t.prototype.emplace=function(e,t,n){var r=e*2;return this.float32[r+0]=t,this.float32[r+1]=n,e},t}(Qo);Ss.prototype.bytesPerElement=8,Za(`StructArrayLayout2f8`,Ss);var Cs=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},t.prototype.emplaceBack=function(e,t,n,r){var i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)},t.prototype.emplace=function(e,t,n,r,i){var a=e*4;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.float32[a+3]=i,e},t}(Qo);Cs.prototype.bytesPerElement=16,Za(`StructArrayLayout4f16`,Cs);var ws=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.anchorPoint.get=function(){return new a(this.anchorPointX,this.anchorPointY)},Object.defineProperties(t.prototype,n),t}(Yo);ws.prototype.size=20;var Ts=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new ws(this,e)},t}(us);Za(`CollisionBoxArray`,Ts);var Es=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},n.placedOrientation.set=function(e){this._structArray.uint8[this._pos1+37]=e},n.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},n.hidden.set=function(e){this._structArray.uint8[this._pos1+38]=e},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+10]=e},n.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(t.prototype,n),t}(Yo);Es.prototype.size=48;var Ds=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Es(this,e)},t}(hs);Za(`PlacedSymbolArray`,Ds);var Os=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},n.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},n.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},n.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},n.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},n.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},n.key.get=function(){return this._structArray.uint16[this._pos2+8]},n.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},n.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},n.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},n.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},n.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},n.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},n.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},n.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},n.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},n.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},n.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},n.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},n.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},n.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},n.crossTileID.set=function(e){this._structArray.uint32[this._pos4+12]=e},n.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},n.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},n.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},n.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(t.prototype,n),t}(Yo);Os.prototype.size=68;var ks=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Os(this,e)},t}(gs);Za(`SymbolInstanceArray`,ks);var As=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getoffsetX=function(e){return this.float32[e*1+0]},t}(_s);Za(`GlyphOffsetArray`,As);var js=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getx=function(e){return this.int16[e*3+0]},t.prototype.gety=function(e){return this.int16[e*3+1]},t.prototype.gettileUnitDistanceFromAnchor=function(e){return this.int16[e*3+2]},t}(vs);Za(`SymbolLineVertexArray`,js);var Ms=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(t.prototype,n),t}(Yo);Ms.prototype.size=8;var Ns=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return new Ms(this,e)},t}(ys);Za(`FeatureIndexArray`,Ns);var Ps=$o([{name:`a_pos`,components:2,type:`Int16`}],4).members,Fs=function(e){e===void 0&&(e=[]),this.segments=e};Fs.prototype.prepareSegment=function(e,t,n,r){var i=this.segments[this.segments.length-1];return e>Fs.MAX_VERTEX_ARRAY_LENGTH&&k(`Max vertices per segment is `+Fs.MAX_VERTEX_ARRAY_LENGTH+`: bucket requested `+e),(!i||i.vertexLength+e>Fs.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},r!==void 0&&(i.sortKey=r),this.segments.push(i)),i},Fs.prototype.get=function(){return this.segments},Fs.prototype.destroy=function(){for(var e=0,t=this.segments;e<t.length;e+=1){var n=t[e];for(var r in n.vaos)n.vaos[r].destroy()}},Fs.simpleSegment=function(e,t,n,r){return new Fs([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])},Fs.MAX_VERTEX_ARRAY_LENGTH=2**16-1,Za(`SegmentVector`,Fs);function Is(e,t){return e=d(Math.floor(e),0,255),t=d(Math.floor(t),0,255),256*e+t}var Ls=$o([{name:`a_pattern_from`,components:4,type:`Uint16`},{name:`a_pattern_to`,components:4,type:`Uint16`},{name:`a_pixel_ratio_from`,components:1,type:`Uint8`},{name:`a_pixel_ratio_to`,components:1,type:`Uint8`}]),Rs=t(function(e){function t(e,t){for(var n=e.length&3,r=e.length-n,i=t,a,o=3432918353,s=461845907,c,l=0;l<r;)c=e.charCodeAt(l)&255|(e.charCodeAt(++l)&255)<<8|(e.charCodeAt(++l)&255)<<16|(e.charCodeAt(++l)&255)<<24,++l,c=(c&65535)*o+(((c>>>16)*o&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(c&65535)*s+(((c>>>16)*s&65535)<<16)&4294967295,i^=c,i=i<<13|i>>>19,a=(i&65535)*5+(((i>>>16)*5&65535)<<16)&4294967295,i=(a&65535)+27492+(((a>>>16)+58964&65535)<<16);switch(c=0,n){case 3:c^=(e.charCodeAt(l+2)&255)<<16;case 2:c^=(e.charCodeAt(l+1)&255)<<8;case 1:c^=e.charCodeAt(l)&255,c=(c&65535)*o+(((c>>>16)*o&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(c&65535)*s+(((c>>>16)*s&65535)<<16)&4294967295,i^=c}return i^=e.length,i^=i>>>16,i=(i&65535)*2246822507+(((i>>>16)*2246822507&65535)<<16)&4294967295,i^=i>>>13,i=(i&65535)*3266489909+(((i>>>16)*3266489909&65535)<<16)&4294967295,i^=i>>>16,i>>>0}e.exports=t}),zs=t(function(e){function t(e,t){for(var n=e.length,r=t^n,i=0,a;n>=4;)a=e.charCodeAt(i)&255|(e.charCodeAt(++i)&255)<<8|(e.charCodeAt(++i)&255)<<16|(e.charCodeAt(++i)&255)<<24,a=(a&65535)*1540483477+(((a>>>16)*1540483477&65535)<<16),a^=a>>>24,a=(a&65535)*1540483477+(((a>>>16)*1540483477&65535)<<16),r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16)^a,n-=4,++i;switch(n){case 3:r^=(e.charCodeAt(i+2)&255)<<16;case 2:r^=(e.charCodeAt(i+1)&255)<<8;case 1:r^=e.charCodeAt(i)&255,r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16)}return r^=r>>>13,r=(r&65535)*1540483477+(((r>>>16)*1540483477&65535)<<16),r^=r>>>15,r>>>0}e.exports=t}),Bs=Rs,Vs=Rs,Hs=zs;Bs.murmur3=Vs,Bs.murmur2=Hs;var Us=function(){this.ids=[],this.positions=[],this.indexed=!1};Us.prototype.add=function(e,t,n,r){this.ids.push(Gs(e)),this.positions.push(t,n,r)},Us.prototype.getPositions=function(e){for(var t=Gs(e),n=0,r=this.ids.length-1;n<r;){var i=n+r>>1;this.ids[i]>=t?r=i:n=i+1}for(var a=[];this.ids[n]===t;){var o=this.positions[3*n],s=this.positions[3*n+1],c=this.positions[3*n+2];a.push({index:o,start:s,end:c}),n++}return a},Us.serialize=function(e,t){var n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return Ks(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}},Us.deserialize=function(e){var t=new Us;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t};var Ws=2**53-1;function Gs(e){var t=+e;return!isNaN(t)&&t<=Ws?t:Bs(String(e))}function Ks(e,t,n,r){for(;n<r;){for(var i=e[n+r>>1],a=n-1,o=r+1;;){do a++;while(e[a]<i);do o--;while(e[o]>i);if(a>=o)break;qs(e,a,o),qs(t,3*a,3*o),qs(t,3*a+1,3*o+1),qs(t,3*a+2,3*o+2)}o-n<r-o?(Ks(e,t,n,o),n=o+1):(Ks(e,t,o+1,r),r=o)}}function qs(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}Za(`FeaturePositionMap`,Us);var Js=function(e,t){this.gl=e.gl,this.location=t},Ys=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))},t}(Js),Xs=function(e){function t(t,n){e.call(this,t,n),this.current=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))},t}(Js),Zs=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){(e[0]!==this.current[0]||e[1]!==this.current[1])&&(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))},t}(Js),Qs=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){(e[0]!==this.current[0]||e[1]!==this.current[1]||e[2]!==this.current[2])&&(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))},t}(Js),$s=function(e){function t(t,n){e.call(this,t,n),this.current=[0,0,0,0]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){(e[0]!==this.current[0]||e[1]!==this.current[1]||e[2]!==this.current[2]||e[3]!==this.current[3])&&(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))},t}(Js),ec=function(e){function t(t,n){e.call(this,t,n),this.current=yn.transparent}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){(e.r!==this.current.r||e.g!==this.current.g||e.b!==this.current.b||e.a!==this.current.a)&&(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))},t}(Js),tc=new Float32Array(16),nc=function(e){function t(t,n){e.call(this,t,n),this.current=tc}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(e[12]!==this.current[12]||e[0]!==this.current[0]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);return}for(var t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}},t}(Js);function rc(e){return[Is(255*e.r,255*e.g),Is(255*e.b,255*e.a)]}var ic=function(e,t,n){this.value=e,this.uniformNames=t.map(function(e){return`u_`+e}),this.type=n};ic.prototype.setUniform=function(e,t,n){e.set(n.constantOr(this.value))},ic.prototype.getBinding=function(e,t,n){return this.type===`color`?new ec(e,t):new Xs(e,t)};var ac=function(e,t){this.uniformNames=t.map(function(e){return`u_`+e}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};ac.prototype.setConstantPatternPositions=function(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr},ac.prototype.setUniform=function(e,t,n,r){var i=r===`u_pattern_to`?this.patternTo:r===`u_pattern_from`?this.patternFrom:r===`u_pixel_ratio_to`?this.pixelRatioTo:r===`u_pixel_ratio_from`?this.pixelRatioFrom:null;i&&e.set(i)},ac.prototype.getBinding=function(e,t,n){return n.substr(0,9)===`u_pattern`?new $s(e,t):new Xs(e,t)};var oc=function(e,t,n,r){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map(function(e){return{name:`a_`+e,type:`Float32`,components:n===`color`?2:1,offset:0}}),this.paintVertexArray=new r};oc.prototype.populatePaintArray=function(e,t,n,r,i){var a=this.paintVertexArray.length,o=this.expression.evaluate(new jo(0),t,{},r,[],i);this.paintVertexArray.resize(e),this._setPaintValue(a,e,o)},oc.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(e,t,i)},oc.prototype._setPaintValue=function(e,t,n){if(this.type===`color`)for(var r=rc(n),i=e;i<t;i++)this.paintVertexArray.emplace(i,r[0],r[1]);else{for(var a=e;a<t;a++)this.paintVertexArray.emplace(a,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}},oc.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},oc.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var sc=function(e,t,n,r,i,a){this.expression=e,this.uniformNames=t.map(function(e){return`u_`+e+`_t`}),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map(function(e){return{name:`a_`+e,type:`Float32`,components:n===`color`?4:2,offset:0}}),this.paintVertexArray=new a};sc.prototype.populatePaintArray=function(e,t,n,r,i){var a=this.expression.evaluate(new jo(this.zoom),t,{},r,[],i),o=this.expression.evaluate(new jo(this.zoom+1),t,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,a,o)},sc.prototype.updatePaintArray=function(e,t,n,r){var i=this.expression.evaluate({zoom:this.zoom},n,r),a=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(e,t,i,a)},sc.prototype._setPaintValue=function(e,t,n,r){if(this.type===`color`)for(var i=rc(n),a=rc(r),o=e;o<t;o++)this.paintVertexArray.emplace(o,i[0],i[1],a[0],a[1]);else{for(var s=e;s<t;s++)this.paintVertexArray.emplace(s,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}},sc.prototype.upload=function(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},sc.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},sc.prototype.setUniform=function(e,t){var n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=d(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)},sc.prototype.getBinding=function(e,t,n){return new Xs(e,t)};var cc=function(e,t,n,r,i,a){this.expression=e,this.type=t,this.useIntegerZoom=n,this.zoom=r,this.layerId=a,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};cc.prototype.populatePaintArray=function(e,t,n){var r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)},cc.prototype.updatePaintArray=function(e,t,n,r,i){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],i)},cc.prototype._setPaintValues=function(e,t,n,r){if(!(!r||!n)){var i=n.min,a=n.mid,o=n.max,s=r[i],c=r[a],l=r[o];if(!(!s||!c||!l))for(var u=e;u<t;u++)this.zoomInPaintVertexArray.emplace(u,c.tl[0],c.tl[1],c.br[0],c.br[1],s.tl[0],s.tl[1],s.br[0],s.br[1],c.pixelRatio,s.pixelRatio),this.zoomOutPaintVertexArray.emplace(u,c.tl[0],c.tl[1],c.br[0],c.br[1],l.tl[0],l.tl[1],l.br[0],l.br[1],c.pixelRatio,l.pixelRatio)}},cc.prototype.upload=function(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,Ls.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,Ls.members,this.expression.isStateDependent))},cc.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var lc=function(e,t,n,r){this.binders={},this.layoutAttributes=r,this._buffers=[];var i=[];for(var a in e.paint._values)if(n(a)){var o=e.paint.get(a);if(!(!(o instanceof Ro)||!Mi(o.property.specification))){var s=dc(a,e.type),c=o.value,l=o.property.specification.type,u=o.property.useIntegerZoom,d=o.property.specification[`property-type`],f=d===`cross-faded`||d===`cross-faded-data-driven`;if(c.kind===`constant`)this.binders[a]=f?new ac(c.value,s):new ic(c.value,s,l),i.push(`/u_`+a);else if(c.kind===`source`||f){var p=pc(a,l,`source`);this.binders[a]=f?new cc(c,l,u,t,p,e.id):new oc(c,s,l,p),i.push(`/a_`+a)}else{var m=pc(a,l,`composite`);this.binders[a]=new sc(c,s,l,u,t,m),i.push(`/z_`+a)}}}this.cacheKey=i.sort().join(``)};lc.prototype.getMaxValue=function(e){var t=this.binders[e];return t instanceof oc||t instanceof sc?t.maxValue:0},lc.prototype.populatePaintArrays=function(e,t,n,r,i){for(var a in this.binders){var o=this.binders[a];(o instanceof oc||o instanceof sc||o instanceof cc)&&o.populatePaintArray(e,t,n,r,i)}},lc.prototype.setConstantPatternPositions=function(e,t){for(var n in this.binders){var r=this.binders[n];r instanceof ac&&r.setConstantPatternPositions(e,t)}},lc.prototype.updatePaintArrays=function(e,t,n,r,i){var a=!1;for(var o in e)for(var s=t.getPositions(o),c=0,l=s;c<l.length;c+=1){var u=l[c],d=n.feature(u.index);for(var f in this.binders){var p=this.binders[f];(p instanceof oc||p instanceof sc||p instanceof cc)&&p.expression.isStateDependent===!0&&(p.expression=r.paint.get(f).value,p.updatePaintArray(u.start,u.end,d,e[o],i),a=!0)}}return a},lc.prototype.defines=function(){var e=[];for(var t in this.binders){var n=this.binders[t];(n instanceof ic||n instanceof ac)&&e.push.apply(e,n.uniformNames.map(function(e){return`#define HAS_UNIFORM_`+e}))}return e},lc.prototype.getPaintVertexBuffers=function(){return this._buffers},lc.prototype.getUniforms=function(e,t){var n=[];for(var r in this.binders){var i=this.binders[r];if(i instanceof ic||i instanceof ac||i instanceof sc)for(var a=0,o=i.uniformNames;a<o.length;a+=1){var s=o[a];if(t[s]){var c=i.getBinding(e,t[s],s);n.push({name:s,property:r,binding:c})}}}return n},lc.prototype.setUniforms=function(e,t,n,r){for(var i=0,a=t;i<a.length;i+=1){var o=a[i],s=o.name,c=o.property,l=o.binding;this.binders[c].setUniform(l,r,n.get(c),s)}},lc.prototype.updatePaintBuffers=function(e){for(var t in this._buffers=[],this.binders){var n=this.binders[t];if(e&&n instanceof cc){var r=e.fromScale===2?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;r&&this._buffers.push(r)}else (n instanceof oc||n instanceof sc)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}},lc.prototype.upload=function(e){for(var t in this.binders){var n=this.binders[t];(n instanceof oc||n instanceof sc||n instanceof cc)&&n.upload(e)}this.updatePaintBuffers()},lc.prototype.destroy=function(){for(var e in this.binders){var t=this.binders[e];(t instanceof oc||t instanceof sc||t instanceof cc)&&t.destroy()}};var uc=function(e,t,n,r){r===void 0&&(r=function(){return!0}),this.programConfigurations={};for(var i=0,a=t;i<a.length;i+=1){var o=a[i];this.programConfigurations[o.id]=new lc(o,n,r,e)}this.needsUpload=!1,this._featureMap=new Us,this._bufferOffset=0};uc.prototype.populatePaintArrays=function(e,t,n,r,i,a){for(var o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(e,t,r,i,a);t.id!==void 0&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0},uc.prototype.updatePaintArrays=function(e,t,n,r){for(var i=0,a=n;i<a.length;i+=1){var o=a[i];this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,r)||this.needsUpload}},uc.prototype.get=function(e){return this.programConfigurations[e]},uc.prototype.upload=function(e){if(this.needsUpload){for(var t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}},uc.prototype.destroy=function(){for(var e in this.programConfigurations)this.programConfigurations[e].destroy()};function dc(e,t){return{"text-opacity":[`opacity`],"icon-opacity":[`opacity`],"text-color":[`fill_color`],"icon-color":[`fill_color`],"text-halo-color":[`halo_color`],"icon-halo-color":[`halo_color`],"text-halo-blur":[`halo_blur`],"icon-halo-blur":[`halo_blur`],"text-halo-width":[`halo_width`],"icon-halo-width":[`halo_width`],"line-gap-width":[`gapwidth`],"line-pattern":[`pattern_to`,`pattern_from`,`pixel_ratio_to`,`pixel_ratio_from`],"fill-pattern":[`pattern_to`,`pattern_from`,`pixel_ratio_to`,`pixel_ratio_from`],"fill-extrusion-pattern":[`pattern_to`,`pattern_from`,`pixel_ratio_to`,`pixel_ratio_from`]}[e]||[e.replace(t+`-`,``).replace(/-/g,`_`)]}function fc(e){return{"line-pattern":{source:os,composite:os},"fill-pattern":{source:os,composite:os},"fill-extrusion-pattern":{source:os,composite:os}}[e]}function pc(e,t,n){var r={color:{source:Ss,composite:Cs},number:{source:_s,composite:Ss}},i=fc(e);return i&&i[n]||r[t][n]}Za(`ConstantBinder`,ic),Za(`CrossFadedConstantBinder`,ac),Za(`SourceExpressionBinder`,oc),Za(`CrossFadedCompositeBinder`,cc),Za(`CompositeExpressionBinder`,sc),Za(`ProgramConfiguration`,lc,{omit:[`_buffers`]}),Za(`ProgramConfigurationSet`,uc);var mc=8192;function hc(e){return{min:-1*2**(e-1),max:2**(e-1)-1}}var gc=hc(15);function _c(e){for(var t=mc/e.extent,n=e.loadGeometry(),r=0;r<n.length;r++)for(var i=n[r],a=0;a<i.length;a++){var o=i[a];o.x=Math.round(o.x*t),o.y=Math.round(o.y*t),(o.x<gc.min||o.x>gc.max||o.y<gc.min||o.y>gc.max)&&(k(`Geometry exceeds allowed extent, reduce your vector tile buffer size`),o.x=d(o.x,gc.min,gc.max),o.y=d(o.y,gc.min,gc.max))}return n}function vc(e,t,n,r,i){e.emplaceBack(t*2+(r+1)/2,n*2+(i+1)/2)}var yc=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ns,this.indexArray=new ms,this.segments=new Fs,this.programConfigurations=new uc(Ps,e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};yc.prototype.populate=function(e,t,n){var r=this.layers[0],i=[],a=null;r.type===`circle`&&(a=r.layout.get(`circle-sort-key`));for(var o=0,s=e;o<s.length;o+=1){var c=s[o],l=c.feature,u=c.id,d=c.index,f=c.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,m={type:l.type,id:u,properties:l.properties,geometry:p?_c(l):[]};if(this.layers[0]._featureFilter.filter(new jo(this.zoom),m,n)){p||(m.geometry=_c(l));var h=a?a.evaluate(m,{},n):void 0,g={id:u,properties:l.properties,type:l.type,sourceLayerIndex:f,index:d,geometry:m.geometry,patterns:{},sortKey:h};i.push(g)}}a&&i.sort(function(e,t){return e.sortKey-t.sortKey});for(var _=0,v=i;_<v.length;_+=1){var y=v[_],b=y,x=b.geometry,S=b.index,C=b.sourceLayerIndex,w=e[S].feature;this.addFeature(y,x,S,n),t.featureIndex.insert(w,x,S,C,this.index)}},yc.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},yc.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},yc.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},yc.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ps),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},yc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},yc.prototype.addFeature=function(e,t,n,r){for(var i=0,a=t;i<a.length;i+=1)for(var o=a[i],s=0,c=o;s<c.length;s+=1){var l=c[s],u=l.x,d=l.y;if(!(u<0||u>=mc||d<0||d>=mc)){var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),p=f.vertexLength;vc(this.layoutVertexArray,u,d,-1,-1),vc(this.layoutVertexArray,u,d,1,-1),vc(this.layoutVertexArray,u,d,1,1),vc(this.layoutVertexArray,u,d,-1,1),this.indexArray.emplaceBack(p,p+1,p+2),this.indexArray.emplaceBack(p,p+3,p+2),f.vertexLength+=4,f.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r)},Za(`CircleBucket`,yc,{omit:[`layers`]});function bc(e,t){for(var n=0;n<e.length;n++)if(Ac(t,e[n]))return!0;for(var r=0;r<t.length;r++)if(Ac(e,t[r]))return!0;return!!Tc(e,t)}function xc(e,t,n){return!!(Ac(e,t)||Dc(t,e,n))}function Sc(e,t){if(e.length===1)return kc(t,e[0]);for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.length;i++)if(Ac(e,r[i]))return!0;for(var a=0;a<e.length;a++)if(kc(t,e[a]))return!0;for(var o=0;o<t.length;o++)if(Tc(e,t[o]))return!0;return!1}function Cc(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];if(e.length>=3){for(var a=0;a<i.length;a++)if(Ac(e,i[a]))return!0}if(wc(e,i,n))return!0}return!1}function wc(e,t,n){if(e.length>1){if(Tc(e,t))return!0;for(var r=0;r<t.length;r++)if(Dc(t[r],e,n))return!0}for(var i=0;i<e.length;i++)if(Dc(e[i],t,n))return!0;return!1}function Tc(e,t){if(e.length===0||t.length===0)return!1;for(var n=0;n<e.length-1;n++)for(var r=e[n],i=e[n+1],a=0;a<t.length-1;a++){var o=t[a],s=t[a+1];if(Ec(r,i,o,s))return!0}return!1}function Ec(e,t,n,r){return A(e,n,r)!==A(t,n,r)&&A(e,t,n)!==A(e,t,r)}function Dc(e,t,n){var r=n*n;if(t.length===1)return e.distSqr(t[0])<r;for(var i=1;i<t.length;i++){var a=t[i-1],o=t[i];if(Oc(e,a,o)<r)return!0}return!1}function Oc(e,t,n){var r=t.distSqr(n);if(r===0)return e.distSqr(t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return i<0?e.distSqr(t):i>1?e.distSqr(n):e.distSqr(n.sub(t)._mult(i)._add(t))}function kc(e,t){for(var n=!1,r,i,a,o=0;o<e.length;o++){r=e[o];for(var s=0,c=r.length-1;s<r.length;c=s++)i=r[s],a=r[c],i.y>t.y!=a.y>t.y&&t.x<(a.x-i.x)*(t.y-i.y)/(a.y-i.y)+i.x&&(n=!n)}return n}function Ac(e,t){for(var n=!1,r=0,i=e.length-1;r<e.length;i=r++){var a=e[r],o=e[i];a.y>t.y!=o.y>t.y&&t.x<(o.x-a.x)*(t.y-a.y)/(o.y-a.y)+a.x&&(n=!n)}return n}function jc(e,t,n,r,i){for(var o=0,s=e;o<s.length;o+=1){var c=s[o];if(t<=c.x&&n<=c.y&&r>=c.x&&i>=c.y)return!0}var l=[new a(t,n),new a(t,i),new a(r,i),new a(r,n)];if(e.length>2)for(var u=0,d=l;u<d.length;u+=1){var f=d[u];if(Ac(e,f))return!0}for(var p=0;p<e.length-1;p++){var m=e[p],h=e[p+1];if(Mc(m,h,l))return!0}return!1}function Mc(e,t,n){var r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;var a=A(e,t,n[0]);return a!==A(e,t,n[1])||a!==A(e,t,n[2])||a!==A(e,t,n[3])}function Nc(e,t,n){var r=t.paint.get(e).value;return r.kind===`constant`?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function Pc(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function Fc(e,t,n,r,i){if(!t[0]&&!t[1])return e;var o=a.convert(t)._mult(i);n===`viewport`&&o._rotate(-r);for(var s=[],c=0;c<e.length;c++){var l=e[c];s.push(l.sub(o))}return s}var Ic=new Go({"circle-sort-key":new Vo(Kt.layout_circle[`circle-sort-key`])}),Lc={paint:new Go({"circle-radius":new Vo(Kt.paint_circle[`circle-radius`]),"circle-color":new Vo(Kt.paint_circle[`circle-color`]),"circle-blur":new Vo(Kt.paint_circle[`circle-blur`]),"circle-opacity":new Vo(Kt.paint_circle[`circle-opacity`]),"circle-translate":new Bo(Kt.paint_circle[`circle-translate`]),"circle-translate-anchor":new Bo(Kt.paint_circle[`circle-translate-anchor`]),"circle-pitch-scale":new Bo(Kt.paint_circle[`circle-pitch-scale`]),"circle-pitch-alignment":new Bo(Kt.paint_circle[`circle-pitch-alignment`]),"circle-stroke-width":new Vo(Kt.paint_circle[`circle-stroke-width`]),"circle-stroke-color":new Vo(Kt.paint_circle[`circle-stroke-color`]),"circle-stroke-opacity":new Vo(Kt.paint_circle[`circle-stroke-opacity`])}),layout:Ic},Rc=typeof Float32Array<`u`?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=arguments,t=0,n=arguments.length;n--;)t+=e[n]*e[n];return Math.sqrt(t)});function zc(){var e=new Rc(4);return Rc!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function Bc(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),c=Math.cos(n);return e[0]=r*c+a*s,e[1]=i*c+o*s,e[2]=r*-s+a*c,e[3]=i*-s+o*c,e}function Vc(){var e=new Rc(9);return Rc!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function Hc(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Uc(){var e=new Rc(16);return Rc!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Wc(e){var t=new Rc(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Gc(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Kc(e,t){var n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],c=t[6],l=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],h=t[13],g=t[14],_=t[15],v=n*s-r*o,y=n*c-i*o,b=n*l-a*o,x=r*c-i*s,S=r*l-a*s,C=i*l-a*c,w=u*h-d*m,T=u*g-f*m,E=u*_-p*m,D=d*g-f*h,O=d*_-p*h,k=f*_-p*g,A=v*k-y*O+b*D+x*E-S*T+C*w;return A?(A=1/A,e[0]=(s*k-c*O+l*D)*A,e[1]=(i*O-r*k-a*D)*A,e[2]=(h*C-g*S+_*x)*A,e[3]=(f*S-d*C-p*x)*A,e[4]=(c*E-o*k-l*T)*A,e[5]=(n*k-i*E+a*T)*A,e[6]=(g*b-m*C-_*y)*A,e[7]=(u*C-f*b+p*y)*A,e[8]=(o*O-s*E+l*w)*A,e[9]=(r*E-n*O-a*w)*A,e[10]=(m*S-h*b+_*v)*A,e[11]=(d*b-u*S-p*v)*A,e[12]=(s*T-o*D-c*w)*A,e[13]=(n*D-r*T+i*w)*A,e[14]=(h*y-m*x-g*v)*A,e[15]=(u*x-d*y+f*v)*A,e):null}function qc(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],f=t[9],p=t[10],m=t[11],h=t[12],g=t[13],_=t[14],v=t[15],y=n[0],b=n[1],x=n[2],S=n[3];return e[0]=y*r+b*s+x*d+S*h,e[1]=y*i+b*c+x*f+S*g,e[2]=y*a+b*l+x*p+S*_,e[3]=y*o+b*u+x*m+S*v,y=n[4],b=n[5],x=n[6],S=n[7],e[4]=y*r+b*s+x*d+S*h,e[5]=y*i+b*c+x*f+S*g,e[6]=y*a+b*l+x*p+S*_,e[7]=y*o+b*u+x*m+S*v,y=n[8],b=n[9],x=n[10],S=n[11],e[8]=y*r+b*s+x*d+S*h,e[9]=y*i+b*c+x*f+S*g,e[10]=y*a+b*l+x*p+S*_,e[11]=y*o+b*u+x*m+S*v,y=n[12],b=n[13],x=n[14],S=n[15],e[12]=y*r+b*s+x*d+S*h,e[13]=y*i+b*c+x*f+S*g,e[14]=y*a+b*l+x*p+S*_,e[15]=y*o+b*u+x*m+S*v,e}function Jc(e,t,n){var r=n[0],i=n[1],a=n[2],o,s,c,l,u,d,f,p,m,h,g,_;return t===e?(e[12]=t[0]*r+t[4]*i+t[8]*a+t[12],e[13]=t[1]*r+t[5]*i+t[9]*a+t[13],e[14]=t[2]*r+t[6]*i+t[10]*a+t[14],e[15]=t[3]*r+t[7]*i+t[11]*a+t[15]):(o=t[0],s=t[1],c=t[2],l=t[3],u=t[4],d=t[5],f=t[6],p=t[7],m=t[8],h=t[9],g=t[10],_=t[11],e[0]=o,e[1]=s,e[2]=c,e[3]=l,e[4]=u,e[5]=d,e[6]=f,e[7]=p,e[8]=m,e[9]=h,e[10]=g,e[11]=_,e[12]=o*r+u*i+m*a+t[12],e[13]=s*r+d*i+h*a+t[13],e[14]=c*r+f*i+g*a+t[14],e[15]=l*r+p*i+_*a+t[15]),e}function Yc(e,t,n){var r=n[0],i=n[1],a=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*a,e[9]=t[9]*a,e[10]=t[10]*a,e[11]=t[11]*a,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Xc(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[4],o=t[5],s=t[6],c=t[7],l=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=a*i+l*r,e[5]=o*i+u*r,e[6]=s*i+d*r,e[7]=c*i+f*r,e[8]=l*i-a*r,e[9]=u*i-o*r,e[10]=d*i-s*r,e[11]=f*i-c*r,e}function Zc(e,t,n){var r=Math.sin(n),i=Math.cos(n),a=t[0],o=t[1],s=t[2],c=t[3],l=t[4],u=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=a*i+l*r,e[1]=o*i+u*r,e[2]=s*i+d*r,e[3]=c*i+f*r,e[4]=l*i-a*r,e[5]=u*i-o*r,e[6]=d*i-s*r,e[7]=f*i-c*r,e}function Qc(e,t,n,r,i){var a=1/Math.tan(t/2),o;return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e}function $c(e,t,n,r,i,a,o){var s=1/(t-n),c=1/(r-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*c,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*c,e[14]=(o+a)*l,e[15]=1,e}var el=qc;function tl(){var e=new Rc(3);return Rc!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function nl(e){var t=new Rc(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function rl(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function il(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function al(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function ol(e,t){var n=t[0],r=t[1],i=t[2],a=n*n+r*r+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e}function sl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function cl(e,t,n){var r=t[0],i=t[1],a=t[2],o=n[0],s=n[1],c=n[2];return e[0]=i*c-a*s,e[1]=a*o-r*c,e[2]=r*s-i*o,e}function ll(e,t,n){var r=t[0],i=t[1],a=t[2];return e[0]=r*n[0]+i*n[3]+a*n[6],e[1]=r*n[1]+i*n[4]+a*n[7],e[2]=r*n[2]+i*n[5]+a*n[8],e}var ul=il;(function(){var e=tl();return function(t,n,r,i,a,o){var s,c;for(n||=3,r||=0,c=i?Math.min(i*n+r,t.length):t.length,s=r;s<c;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2];return t}})();function dl(){var e=new Rc(4);return Rc!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function fl(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function pl(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function ml(e,t,n){var r=t[0],i=t[1],a=t[2],o=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*a+n[12]*o,e[1]=n[1]*r+n[5]*i+n[9]*a+n[13]*o,e[2]=n[2]*r+n[6]*i+n[10]*a+n[14]*o,e[3]=n[3]*r+n[7]*i+n[11]*a+n[15]*o,e}(function(){var e=dl();return function(t,n,r,i,a,o){var s,c;for(n||=4,r||=0,c=i?Math.min(i*n+r,t.length):t.length,s=r;s<c;s+=n)e[0]=t[s],e[1]=t[s+1],e[2]=t[s+2],e[3]=t[s+3],a(e,e,o),t[s]=e[0],t[s+1]=e[1],t[s+2]=e[2],t[s+3]=e[3];return t}})();function hl(){var e=new Rc(2);return Rc!=Float32Array&&(e[0]=0,e[1]=0),e}function _l(e){var t=e[0],n=e[1];return t*t+n*n}var vl=_l;(function(){var e=hl();return function(t,n,r,i,a,o){var s,c;for(n||=2,r||=0,c=i?Math.min(i*n+r,t.length):t.length,s=r;s<c;s+=n)e[0]=t[s],e[1]=t[s+1],a(e,e,o),t[s]=e[0],t[s+1]=e[1];return t}})();var yl=function(e){function t(t){e.call(this,t,Lc)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new yc(e)},t.prototype.queryRadius=function(e){var t=e;return Nc(`circle-radius`,this,t)+Nc(`circle-stroke-width`,this,t)+Pc(this.paint.get(`circle-translate`))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,a,o,s){for(var c=Fc(e,this.paint.get(`circle-translate`),this.paint.get(`circle-translate-anchor`),a.angle,o),l=this.paint.get(`circle-radius`).evaluate(t,n)+this.paint.get(`circle-stroke-width`).evaluate(t,n),u=this.paint.get(`circle-pitch-alignment`)===`map`,d=u?c:xl(c,s),f=u?l*o:l,p=0,m=r;p<m.length;p+=1)for(var h=m[p],g=0,_=h;g<_.length;g+=1){var v=_[g],y=u?v:bl(v,s),b=f,x=ml([],[v.x,v.y,0,1],s);if(this.paint.get(`circle-pitch-scale`)===`viewport`&&this.paint.get(`circle-pitch-alignment`)===`map`?b*=x[3]/a.cameraToCenterDistance:this.paint.get(`circle-pitch-scale`)===`map`&&this.paint.get(`circle-pitch-alignment`)===`viewport`&&(b*=a.cameraToCenterDistance/x[3]),xc(d,y,b))return!0}return!1},t}(qo);function bl(e,t){var n=ml([],[e.x,e.y,0,1],t);return new a(n[0]/n[3],n[1]/n[3])}function xl(e,t){return e.map(function(e){return bl(e,t)})}var Sl=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(yc);Za(`HeatmapBucket`,Sl,{omit:[`layers`]});function Cl(e,t,n,r){var i=t.width,a=t.height;if(!r)r=new Uint8Array(i*a*n);else if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==i*a*n)throw RangeError(`mismatched image size`);return e.width=i,e.height=a,e.data=r,e}function wl(e,t,n){var r=t.width,i=t.height;if(!(r===e.width&&i===e.height)){var a=Cl({},{width:r,height:i},n);Tl(e,a,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,r),height:Math.min(e.height,i)},n),e.width=r,e.height=i,e.data=a.data}}function Tl(e,t,n,r,i,a){if(i.width===0||i.height===0)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw RangeError(`out of range source coordinates for image copy`);if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw RangeError(`out of range destination coordinates for image copy`);for(var o=e.data,s=t.data,c=0;c<i.height;c++)for(var l=((n.y+c)*e.width+n.x)*a,u=((r.y+c)*t.width+r.x)*a,d=0;d<i.width*a;d++)s[u+d]=o[l+d];return t}var El=function(e,t){Cl(this,e,1,t)};El.prototype.resize=function(e){wl(this,e,1)},El.prototype.clone=function(){return new El({width:this.width,height:this.height},new Uint8Array(this.data))},El.copy=function(e,t,n,r,i){Tl(e,t,n,r,i,1)};var Dl=function(e,t){Cl(this,e,4,t)};Dl.prototype.resize=function(e){wl(this,e,4)},Dl.prototype.replace=function(e,t){t?this.data.set(e):e instanceof Uint8ClampedArray?this.data=new Uint8Array(e.buffer):this.data=e},Dl.prototype.clone=function(){return new Dl({width:this.width,height:this.height},new Uint8Array(this.data))},Dl.copy=function(e,t,n,r,i){Tl(e,t,n,r,i,4)},Za(`AlphaImage`,El),Za(`RGBAImage`,Dl);var Ol={paint:new Go({"heatmap-radius":new Vo(Kt.paint_heatmap[`heatmap-radius`]),"heatmap-weight":new Vo(Kt.paint_heatmap[`heatmap-weight`]),"heatmap-intensity":new Bo(Kt.paint_heatmap[`heatmap-intensity`]),"heatmap-color":new Wo(Kt.paint_heatmap[`heatmap-color`]),"heatmap-opacity":new Bo(Kt.paint_heatmap[`heatmap-opacity`])})};function kl(e,t){for(var n=new Uint8Array(256*4),r={},i=0,a=0;i<256;i++,a+=4){r[t]=i/255;var o=e.evaluate(r);n[a+0]=Math.floor(o.r*255/o.a),n[a+1]=Math.floor(o.g*255/o.a),n[a+2]=Math.floor(o.b*255/o.a),n[a+3]=Math.floor(o.a*255)}return new Dl({width:256,height:1},n)}var Al=function(e){function t(t){e.call(this,t,Ol),this._updateColorRamp()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new Sl(e)},t.prototype._handleSpecialPaintPropertyUpdate=function(e){e===`heatmap-color`&&this._updateColorRamp()},t.prototype._updateColorRamp=function(){var e=this._transitionablePaint._values[`heatmap-color`].value.expression;this.colorRamp=kl(e,`heatmapDensity`),this.colorRampTexture=null},t.prototype.resize=function(){this.heatmapFbo&&=(this.heatmapFbo.destroy(),null)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype.hasOffscreenPass=function(){return this.paint.get(`heatmap-opacity`)!==0&&this.visibility!==`none`},t}(qo),jl={paint:new Go({"hillshade-illumination-direction":new Bo(Kt.paint_hillshade[`hillshade-illumination-direction`]),"hillshade-illumination-anchor":new Bo(Kt.paint_hillshade[`hillshade-illumination-anchor`]),"hillshade-exaggeration":new Bo(Kt.paint_hillshade[`hillshade-exaggeration`]),"hillshade-shadow-color":new Bo(Kt.paint_hillshade[`hillshade-shadow-color`]),"hillshade-highlight-color":new Bo(Kt.paint_hillshade[`hillshade-highlight-color`]),"hillshade-accent-color":new Bo(Kt.paint_hillshade[`hillshade-accent-color`])})},Ml=function(e){function t(t){e.call(this,t,jl)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.hasOffscreenPass=function(){return this.paint.get(`hillshade-exaggeration`)!==0&&this.visibility!==`none`},t}(qo),Nl=$o([{name:`a_pos`,components:2,type:`Int16`}],4).members,Pl=Il,Fl=Il;function Il(e,t,n){n||=2;var r=t&&t.length,i=r?t[0]*n:e.length,a=Ll(e,0,i,n,!0),o=[];if(!a||a.next===a.prev)return o;var s,c,l,u,d,f,p;if(r&&(a=Wl(e,t,a,n)),e.length>80*n){s=l=e[0],c=u=e[1];for(var m=n;m<i;m+=n)d=e[m],f=e[m+1],d<s&&(s=d),f<c&&(c=f),d>l&&(l=d),f>u&&(u=f);p=Math.max(l-s,u-c),p=p===0?0:1/p}return zl(a,o,n,s,c,p),o}function Ll(e,t,n,r,i){var a,o;if(i===pu(e,t,n,r)>0)for(a=t;a<n;a+=r)o=uu(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=uu(a,e[a],e[a+1],o);return o&&nu(o,o.next)&&(du(o),o=o.next),o}function Rl(e,t){if(!e)return e;t||=e;var n=e,r;do if(r=!1,!n.steiner&&(nu(n,n.next)||tu(n.prev,n,n.next)===0)){if(du(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function zl(e,t,n,r,i,a,o){if(e){!o&&a&&Yl(e,r,i,a);for(var s=e,c,l;e.prev!==e.next;){if(c=e.prev,l=e.next,a?Vl(e,r,i,a):Bl(e)){t.push(c.i/n),t.push(e.i/n),t.push(l.i/n),du(e),e=l.next,s=l.next;continue}if(e=l,e===s){o?o===1?(e=Hl(Rl(e),t,n),zl(e,t,n,r,i,a,2)):o===2&&Ul(e,t,n,r,i,a):zl(Rl(e),t,n,r,i,a,1);break}}}}function Bl(e){var t=e.prev,n=e,r=e.next;if(tu(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if($l(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&tu(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Vl(e,t,n,r){var i=e.prev,a=e,o=e.next;if(tu(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,c=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,u=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,d=Zl(s,c,t,n,r),f=Zl(l,u,t,n,r),p=e.prevZ,m=e.nextZ;p&&p.z>=d&&m&&m.z<=f;){if(p!==e.prev&&p!==e.next&&$l(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&tu(p.prev,p,p.next)>=0||(p=p.prevZ,m!==e.prev&&m!==e.next&&$l(i.x,i.y,a.x,a.y,o.x,o.y,m.x,m.y)&&tu(m.prev,m,m.next)>=0))return!1;m=m.nextZ}for(;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&$l(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&tu(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;m&&m.z<=f;){if(m!==e.prev&&m!==e.next&&$l(i.x,i.y,a.x,a.y,o.x,o.y,m.x,m.y)&&tu(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function Hl(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!nu(i,a)&&ru(i,r,r.next,a)&&su(i,a)&&su(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),du(r),du(r.next),r=e=a),r=r.next}while(r!==e);return Rl(r)}function Ul(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&eu(o,s)){var c=lu(o,s);o=Rl(o,o.next),c=Rl(c,c.next),zl(o,t,n,r,i,a),zl(c,t,n,r,i,a);return}s=s.next}o=o.next}while(o!==e)}function Wl(e,t,n,r){var i=[],a,o,s,c,l;for(a=0,o=t.length;a<o;a++)s=t[a]*r,c=a<o-1?t[a+1]*r:e.length,l=Ll(e,s,c,r,!1),l===l.next&&(l.steiner=!0),i.push(Ql(l));for(i.sort(Gl),a=0;a<i.length;a++)Kl(i[a],n),n=Rl(n,n.next);return n}function Gl(e,t){return e.x-t.x}function Kl(e,t){if(t=ql(e,t),t){var n=lu(t,e);Rl(t,t.next),Rl(n,n.next)}}function ql(e,t){var n=t,r=e.x,i=e.y,a=-1/0,o;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var s=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>a){if(a=s,s===r){if(i===n.y)return n;if(i===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(r===a)return o;var c=o,l=o.x,u=o.y,d=1/0,f;n=o;do r>=n.x&&n.x>=l&&r!==n.x&&$l(i<u?r:a,i,l,u,i<u?a:r,i,n.x,n.y)&&(f=Math.abs(i-n.y)/(r-n.x),su(n,e)&&(f<d||f===d&&(n.x>o.x||n.x===o.x&&Jl(o,n)))&&(o=n,d=f)),n=n.next;while(n!==c);return o}function Jl(e,t){return tu(e.prev,e,t.prev)<0&&tu(t.next,e,e.next)<0}function Yl(e,t,n,r){var i=e;do i.z===null&&(i.z=Zl(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,Xl(i)}function Xl(e){var t,n,r,i,a,o,s,c,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<l&&(s++,r=r.nextZ,r);t++);for(c=l;s>0||c>0&&r;)s!==0&&(c===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1);return e}function Zl(e,t,n,r,i){return e=32767*(e-n)*i,t=32767*(t-r)*i,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function Ql(e){var t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function $l(e,t,n,r,i,a,o,s){return(i-o)*(t-s)-(e-o)*(a-s)>=0&&(e-o)*(r-s)-(n-o)*(t-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function eu(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!ou(e,t)&&(su(e,t)&&su(t,e)&&cu(e,t)&&(tu(e.prev,e,t.prev)||tu(e,t.prev,t))||nu(e,t)&&tu(e.prev,e,e.next)>0&&tu(t.prev,t,t.next)>0)}function tu(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function nu(e,t){return e.x===t.x&&e.y===t.y}function ru(e,t,n,r){var i=au(tu(e,t,n)),a=au(tu(e,t,r)),o=au(tu(n,r,e)),s=au(tu(n,r,t));return!!(i!==a&&o!==s||i===0&&iu(e,n,t)||a===0&&iu(e,r,t)||o===0&&iu(n,e,r)||s===0&&iu(n,t,r))}function iu(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function au(e){return e>0?1:e<0?-1:0}function ou(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&ru(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function su(e,t){return tu(e.prev,e,e.next)<0?tu(e,t,e.next)>=0&&tu(e,e.prev,t)>=0:tu(e,t,e.prev)<0||tu(e,e.next,t)<0}function cu(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==e);return r}function lu(e,t){var n=new fu(e.i,e.x,e.y),r=new fu(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function uu(e,t,n,r){var i=new fu(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function du(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function fu(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Il.deviation=function(e,t,n,r){var i=t&&t.length,a=i?t[0]*n:e.length,o=Math.abs(pu(e,0,a,n));if(i)for(var s=0,c=t.length;s<c;s++){var l=t[s]*n,u=s<c-1?t[s+1]*n:e.length;o-=Math.abs(pu(e,l,u,n))}var d=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,p=r[s+1]*n,m=r[s+2]*n;d+=Math.abs((e[f]-e[m])*(e[p+1]-e[f+1])-(e[f]-e[p])*(e[m+1]-e[f+1]))}return o===0&&d===0?0:Math.abs((d-o)/o)};function pu(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}Il.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var a=0;a<e[i].length;a++)for(var o=0;o<t;o++)n.vertices.push(e[i][a][o]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n},Pl.default=Fl;function mu(e,t,n,r,i){hu(e,t,n||0,r||e.length-1,i||_u)}function hu(e,t,n,r,i){for(;r>n;){if(r-n>600){var a=r-n+1,o=t-n+1,s=Math.log(a),c=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*c*(a-c)/a)*(o-a/2<0?-1:1);hu(e,t,Math.max(n,Math.floor(t-o*c/a+l)),Math.min(r,Math.floor(t+(a-o)*c/a+l)),i)}var u=e[t],d=n,f=r;for(gu(e,n,t),i(e[r],u)>0&&gu(e,n,r);d<f;){for(gu(e,d,f),d++,f--;i(e[d],u)<0;)d++;for(;i(e[f],u)>0;)f--}i(e[n],u)===0?gu(e,n,f):(f++,gu(e,f,r)),f<=t&&(n=f+1),t<=f&&(r=f-1)}}function gu(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _u(e,t){return e<t?-1:e>t?1:0}function vu(e,t){var n=e.length;if(n<=1)return[e];for(var r=[],i,a,o=0;o<n;o++){var s=j(e[o]);s!==0&&(e[o].area=Math.abs(s),a===void 0&&(a=s<0),a===s<0?(i&&r.push(i),i=[e[o]]):i.push(e[o]))}if(i&&r.push(i),t>1)for(var c=0;c<r.length;c++)r[c].length<=t||(mu(r[c],t,1,r[c].length-1,yu),r[c]=r[c].slice(0,t));return r}function yu(e,t){return t.area-e.area}function bu(e,t,n){for(var r=n.patternDependencies,i=!1,a=0,o=t;a<o.length;a+=1){var s=o[a].paint.get(e+`-pattern`);s.isConstant()||(i=!0);var c=s.constantOr(null);c&&(i=!0,r[c.to]=!0,r[c.from]=!0)}return i}function xu(e,t,n,r,i){for(var a=i.patternDependencies,o=0,s=t;o<s.length;o+=1){var c=s[o],l=c.paint.get(e+`-pattern`).value;if(l.kind!==`constant`){var u=l.evaluate({zoom:r-1},n,{},i.availableImages),d=l.evaluate({zoom:r},n,{},i.availableImages),f=l.evaluate({zoom:r+1},n,{},i.availableImages);u=u&&u.name?u.name:u,d=d&&d.name?d.name:d,f=f&&f.name?f.name:f,a[u]=!0,a[d]=!0,a[f]=!0,n.patterns[c.id]={min:u,mid:d,max:f}}}return n}var Su=500,Cu=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ns,this.indexArray=new ms,this.indexArray2=new bs,this.programConfigurations=new uc(Nl,e.layers,e.zoom),this.segments=new Fs,this.segments2=new Fs,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};Cu.prototype.populate=function(e,t,n){this.hasPattern=bu(`fill`,this.layers,t);for(var r=this.layers[0].layout.get(`fill-sort-key`),i=[],a=0,o=e;a<o.length;a+=1){var s=o[a],c=s.feature,l=s.id,u=s.index,d=s.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,p={type:c.type,id:l,properties:c.properties,geometry:f?_c(c):[]};if(this.layers[0]._featureFilter.filter(new jo(this.zoom),p,n)){f||(p.geometry=_c(c));var m=r?r.evaluate(p,{},n,t.availableImages):void 0,h={id:l,properties:c.properties,type:c.type,sourceLayerIndex:d,index:u,geometry:p.geometry,patterns:{},sortKey:m};i.push(h)}}r&&i.sort(function(e,t){return e.sortKey-t.sortKey});for(var g=0,_=i;g<_.length;g+=1){var v=_[g],y=v,b=y.geometry,x=y.index,S=y.sourceLayerIndex;if(this.hasPattern){var C=xu(`fill`,this.layers,v,this.zoom,t);this.patternFeatures.push(C)}else this.addFeature(v,b,x,n,{});var w=e[x].feature;t.featureIndex.insert(w,b,x,S,this.index)}},Cu.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Cu.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var a=i[r];this.addFeature(a,a.geometry,a.index,t,n)}},Cu.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Cu.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Cu.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Nl),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0},Cu.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Cu.prototype.addFeature=function(e,t,n,r,i){for(var a=0,o=vu(t,Su);a<o.length;a+=1){for(var s=o[a],c=0,l=0,u=s;l<u.length;l+=1){var d=u[l];c+=d.length}for(var f=this.segments.prepareSegment(c,this.layoutVertexArray,this.indexArray),p=f.vertexLength,m=[],h=[],g=0,_=s;g<_.length;g+=1){var v=_[g];if(v.length!==0){v!==s[0]&&h.push(m.length/2);var y=this.segments2.prepareSegment(v.length,this.layoutVertexArray,this.indexArray2),b=y.vertexLength;this.layoutVertexArray.emplaceBack(v[0].x,v[0].y),this.indexArray2.emplaceBack(b+v.length-1,b),m.push(v[0].x),m.push(v[0].y);for(var x=1;x<v.length;x++)this.layoutVertexArray.emplaceBack(v[x].x,v[x].y),this.indexArray2.emplaceBack(b+x-1,b+x),m.push(v[x].x),m.push(v[x].y);y.vertexLength+=v.length,y.primitiveLength+=v.length}}for(var S=Pl(m,h),C=0;C<S.length;C+=3)this.indexArray.emplaceBack(p+S[C],p+S[C+1],p+S[C+2]);f.vertexLength+=c,f.primitiveLength+=S.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Za(`FillBucket`,Cu,{omit:[`layers`,`patternFeatures`]});var wu=new Go({"fill-sort-key":new Vo(Kt.layout_fill[`fill-sort-key`])}),Tu={paint:new Go({"fill-antialias":new Bo(Kt.paint_fill[`fill-antialias`]),"fill-opacity":new Vo(Kt.paint_fill[`fill-opacity`]),"fill-color":new Vo(Kt.paint_fill[`fill-color`]),"fill-outline-color":new Vo(Kt.paint_fill[`fill-outline-color`]),"fill-translate":new Bo(Kt.paint_fill[`fill-translate`]),"fill-translate-anchor":new Bo(Kt.paint_fill[`fill-translate-anchor`]),"fill-pattern":new Ho(Kt.paint_fill[`fill-pattern`])}),layout:wu},Eu=function(e){function t(t){e.call(this,t,Tu)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n);var r=this.paint._values[`fill-outline-color`];r.value.kind===`constant`&&r.value.value===void 0&&(this.paint._values[`fill-outline-color`]=this.paint._values[`fill-color`])},t.prototype.createBucket=function(e){return new Cu(e)},t.prototype.queryRadius=function(){return Pc(this.paint.get(`fill-translate`))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,a,o){return Sc(Fc(e,this.paint.get(`fill-translate`),this.paint.get(`fill-translate-anchor`),a.angle,o),r)},t.prototype.isTileClipped=function(){return!0},t}(qo),Du=$o([{name:`a_pos`,components:2,type:`Int16`},{name:`a_normal_ed`,components:4,type:`Int16`}],4).members,Ou=ku;function ku(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(Au,this,t)}function Au(e,t,n){e==1?t.id=n.readVarint():e==2?ju(n,t):e==3?t.type=n.readVarint():e==4&&(t._geometry=n.pos)}function ju(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}ku.types=[`Unknown`,`Point`,`LineString`,`Polygon`],ku.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,s=[],c;e.pos<t;){if(r<=0){var l=e.readVarint();n=l&7,r=l>>3}if(r--,n===1||n===2)i+=e.readSVarint(),o+=e.readSVarint(),n===1&&(c&&s.push(c),c=[]),c.push(new a(i,o));else if(n===7)c&&c.push(c[0].clone());else throw Error(`unknown command `+n)}return c&&s.push(c),s},ku.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,a=0,o=1/0,s=-1/0,c=1/0,l=-1/0;e.pos<t;){if(r<=0){var u=e.readVarint();n=u&7,r=u>>3}if(r--,n===1||n===2)i+=e.readSVarint(),a+=e.readSVarint(),i<o&&(o=i),i>s&&(s=i),a<c&&(c=a),a>l&&(l=a);else if(n!==7)throw Error(`unknown command `+n)}return[o,c,s,l]},ku.prototype.toGeoJSON=function(e,t,n){var r=this.extent*2**n,i=this.extent*e,a=this.extent*t,o=this.loadGeometry(),s=ku.types[this.type],c,l;function u(e){for(var t=0;t<e.length;t++){var n=e[t],o=180-(n.y+a)*360/r;e[t]=[(n.x+i)*360/r-180,360/Math.PI*Math.atan(Math.exp(o*Math.PI/180))-90]}}switch(this.type){case 1:var d=[];for(c=0;c<o.length;c++)d[c]=o[c][0];o=d,u(o);break;case 2:for(c=0;c<o.length;c++)u(o[c]);break;case 3:for(o=Mu(o),c=0;c<o.length;c++)for(l=0;l<o[c].length;l++)u(o[c][l]);break}o.length===1?o=o[0]:s=`Multi`+s;var f={type:`Feature`,geometry:{type:s,coordinates:o},properties:this.properties};return`id`in this&&(f.id=this.id),f};function Mu(e){var t=e.length;if(t<=1)return[e];for(var n=[],r,i,a=0;a<t;a++){var o=Nu(e[a]);o!==0&&(i===void 0&&(i=o<0),i===o<0?(r&&n.push(r),r=[e[a]]):r.push(e[a]))}return r&&n.push(r),n}function Nu(e){for(var t=0,n=0,r=e.length,i=r-1,a,o;n<r;i=n++)a=e[n],o=e[i],t+=(o.x-a.x)*(a.y+o.y);return t}var Pu=Fu;function Fu(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Iu,this,t),this.length=this._features.length}function Iu(e,t,n){e===15?t.version=n.readVarint():e===1?t.name=n.readString():e===5?t.extent=n.readVarint():e===2?t._features.push(n.pos):e===3?t._keys.push(n.readString()):e===4&&t._values.push(Lu(n))}function Lu(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=r===1?e.readString():r===2?e.readFloat():r===3?e.readDouble():r===4?e.readVarint64():r===5?e.readVarint():r===6?e.readSVarint():r===7?e.readBoolean():null}return t}Fu.prototype.feature=function(e){if(e<0||e>=this._features.length)throw Error(`feature index out of bounds`);this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new Ou(this._pbf,t,this.extent,this._keys,this._values)};var Ru=zu;function zu(e,t){this.layers=e.readFields(Bu,{},t)}function Bu(e,t,n){if(e===3){var r=new Pu(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}var Vu={VectorTile:Ru,VectorTileFeature:Ou,VectorTileLayer:Pu},Hu=Vu.VectorTileFeature.types,Uu=500,Wu=2**13;function Gu(e,t,n,r,i,a,o,s){e.emplaceBack(t,n,Math.floor(r*Wu)*2+o,i*Wu*2,a*Wu*2,Math.round(s))}var Ku=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new is,this.indexArray=new ms,this.programConfigurations=new uc(Du,e.layers,e.zoom),this.segments=new Fs,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};Ku.prototype.populate=function(e,t,n){this.features=[],this.hasPattern=bu(`fill-extrusion`,this.layers,t);for(var r=0,i=e;r<i.length;r+=1){var a=i[r],o=a.feature,s=a.id,c=a.index,l=a.sourceLayerIndex,u=this.layers[0]._featureFilter.needGeometry,d={type:o.type,id:s,properties:o.properties,geometry:u?_c(o):[]};if(this.layers[0]._featureFilter.filter(new jo(this.zoom),d,n)){var f={id:s,sourceLayerIndex:l,index:c,geometry:u?d.geometry:_c(o),properties:o.properties,type:o.type,patterns:{}};o.id!==void 0&&(f.id=o.id),this.hasPattern?this.features.push(xu(`fill-extrusion`,this.layers,f,this.zoom,t)):this.addFeature(f,f.geometry,c,n,{}),t.featureIndex.insert(o,f.geometry,c,l,this.index,!0)}}},Ku.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.features;r<i.length;r+=1){var a=i[r],o=a.geometry;this.addFeature(a,o,a.index,t,n)}},Ku.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},Ku.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ku.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ku.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Du),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},Ku.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ku.prototype.addFeature=function(e,t,n,r,i){for(var a=0,o=vu(t,Uu);a<o.length;a+=1){for(var s=o[a],c=0,l=0,u=s;l<u.length;l+=1){var d=u[l];c+=d.length}for(var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),p=0,m=s;p<m.length;p+=1){var h=m[p];if(h.length!==0&&!Ju(h))for(var g=0,_=0;_<h.length;_++){var v=h[_];if(_>=1){var y=h[_-1];if(!qu(v,y)){f.vertexLength+4>Fs.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var b=v.sub(y)._perp()._unit(),x=y.dist(v);g+x>32768&&(g=0),Gu(this.layoutVertexArray,v.x,v.y,b.x,b.y,0,0,g),Gu(this.layoutVertexArray,v.x,v.y,b.x,b.y,0,1,g),g+=x,Gu(this.layoutVertexArray,y.x,y.y,b.x,b.y,0,0,g),Gu(this.layoutVertexArray,y.x,y.y,b.x,b.y,0,1,g);var S=f.vertexLength;this.indexArray.emplaceBack(S,S+2,S+1),this.indexArray.emplaceBack(S+1,S+2,S+3),f.vertexLength+=4,f.primitiveLength+=2}}}}if(f.vertexLength+c>Fs.MAX_VERTEX_ARRAY_LENGTH&&(f=this.segments.prepareSegment(c,this.layoutVertexArray,this.indexArray)),Hu[e.type]===`Polygon`){for(var C=[],w=[],T=f.vertexLength,E=0,D=s;E<D.length;E+=1){var O=D[E];if(O.length!==0){O!==s[0]&&w.push(C.length/2);for(var k=0;k<O.length;k++){var A=O[k];Gu(this.layoutVertexArray,A.x,A.y,0,0,1,1,0),C.push(A.x),C.push(A.y)}}}for(var j=Pl(C,w),M=0;M<j.length;M+=3)this.indexArray.emplaceBack(T+j[M],T+j[M+2],T+j[M+1]);f.primitiveLength+=j.length/3,f.vertexLength+=c}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},Za(`FillExtrusionBucket`,Ku,{omit:[`layers`,`features`]});function qu(e,t){return e.x===t.x&&(e.x<0||e.x>mc)||e.y===t.y&&(e.y<0||e.y>mc)}function Ju(e){return e.every(function(e){return e.x<0})||e.every(function(e){return e.x>mc})||e.every(function(e){return e.y<0})||e.every(function(e){return e.y>mc})}var Yu={paint:new Go({"fill-extrusion-opacity":new Bo(Kt[`paint_fill-extrusion`][`fill-extrusion-opacity`]),"fill-extrusion-color":new Vo(Kt[`paint_fill-extrusion`][`fill-extrusion-color`]),"fill-extrusion-translate":new Bo(Kt[`paint_fill-extrusion`][`fill-extrusion-translate`]),"fill-extrusion-translate-anchor":new Bo(Kt[`paint_fill-extrusion`][`fill-extrusion-translate-anchor`]),"fill-extrusion-pattern":new Ho(Kt[`paint_fill-extrusion`][`fill-extrusion-pattern`]),"fill-extrusion-height":new Vo(Kt[`paint_fill-extrusion`][`fill-extrusion-height`]),"fill-extrusion-base":new Vo(Kt[`paint_fill-extrusion`][`fill-extrusion-base`]),"fill-extrusion-vertical-gradient":new Bo(Kt[`paint_fill-extrusion`][`fill-extrusion-vertical-gradient`])})},Xu=function(e){function t(t){e.call(this,t,Yu)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createBucket=function(e){return new Ku(e)},t.prototype.queryRadius=function(){return Pc(this.paint.get(`fill-extrusion-translate`))},t.prototype.is3D=function(){return!0},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,a,o,s){var c=Fc(e,this.paint.get(`fill-extrusion-translate`),this.paint.get(`fill-extrusion-translate-anchor`),a.angle,o),l=this.paint.get(`fill-extrusion-height`).evaluate(t,n),u=this.paint.get(`fill-extrusion-base`).evaluate(t,n),d=td(c,s,a,0),f=ed(r,u,l,s),p=f[0],m=f[1];return $u(p,m,d)},t}(qo);function Zu(e,t){return e.x*t.x+e.y*t.y}function Qu(e,t){if(e.length===1){for(var n=0,r=t[n++],i;!i||r.equals(i);)if(i=t[n++],!i)return 1/0;for(;n<t.length;n++){var a=t[n],o=e[0],s=i.sub(r),c=a.sub(r),l=o.sub(r),u=Zu(s,s),d=Zu(s,c),f=Zu(c,c),p=Zu(l,s),m=Zu(l,c),h=u*f-d*d,g=(f*p-d*m)/h,_=(u*m-d*p)/h,v=1-g-_,y=r.z*v+i.z*g+a.z*_;if(isFinite(y))return y}return 1/0}else{for(var b=1/0,x=0,S=t;x<S.length;x+=1){var C=S[x];b=Math.min(b,C.z)}return b}}function $u(e,t,n){var r=1/0;Sc(n,t)&&(r=Qu(n,t[0]));for(var i=0;i<t.length;i++)for(var a=t[i],o=e[i],s=0;s<a.length-1;s++){var c=a[s],l=a[s+1],u=o[s],d=[c,l,o[s+1],u,c];bc(n,d)&&(r=Math.min(r,Qu(n,d)))}return r===1/0?!1:r}function ed(e,t,n,r){for(var i=[],o=[],s=r[8]*t,c=r[9]*t,l=r[10]*t,u=r[11]*t,d=r[8]*n,f=r[9]*n,p=r[10]*n,m=r[11]*n,h=0,g=e;h<g.length;h+=1){for(var _=g[h],v=[],y=[],b=0,x=_;b<x.length;b+=1){var S=x[b],C=S.x,w=S.y,T=r[0]*C+r[4]*w+r[12],E=r[1]*C+r[5]*w+r[13],D=r[2]*C+r[6]*w+r[14],O=r[3]*C+r[7]*w+r[15],k=T+s,A=E+c,j=D+l,M=O+u,N=T+d,P=E+f,F=D+p,I=O+m,L=new a(k/M,A/M);L.z=j/M,v.push(L);var R=new a(N/I,P/I);R.z=F/I,y.push(R)}i.push(v),o.push(y)}return[i,o]}function td(e,t,n,r){for(var i=[],o=0,s=e;o<s.length;o+=1){var c=s[o],l=[c.x,c.y,r,1];ml(l,l,t),i.push(new a(l[0]/l[3],l[1]/l[3]))}return i}var nd=$o([{name:`a_pos_normal`,components:2,type:`Int16`},{name:`a_data`,components:4,type:`Uint8`}],4).members,rd=Vu.VectorTileFeature.types,id=63,ad=Math.cos(75/2*(Math.PI/180)),od=15,sd=20,cd=15,ld=1/2,ud=2**(cd-1)/ld,dd=function(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new as,this.indexArray=new ms,this.programConfigurations=new uc(nd,e.layers,e.zoom),this.segments=new Fs,this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id})};dd.prototype.populate=function(e,t,n){this.hasPattern=bu(`line`,this.layers,t);for(var r=this.layers[0].layout.get(`line-sort-key`),i=[],a=0,o=e;a<o.length;a+=1){var s=o[a],c=s.feature,l=s.id,u=s.index,d=s.sourceLayerIndex,f=this.layers[0]._featureFilter.needGeometry,p={type:c.type,id:l,properties:c.properties,geometry:f?_c(c):[]};if(this.layers[0]._featureFilter.filter(new jo(this.zoom),p,n)){f||(p.geometry=_c(c));var m=r?r.evaluate(p,{},n):void 0,h={id:l,properties:c.properties,type:c.type,sourceLayerIndex:d,index:u,geometry:p.geometry,patterns:{},sortKey:m};i.push(h)}}r&&i.sort(function(e,t){return e.sortKey-t.sortKey});for(var g=0,_=i;g<_.length;g+=1){var v=_[g],y=v,b=y.geometry,x=y.index,S=y.sourceLayerIndex;if(this.hasPattern){var C=xu(`line`,this.layers,v,this.zoom,t);this.patternFeatures.push(C)}else this.addFeature(v,b,x,n,{});var w=e[x].feature;t.featureIndex.insert(w,b,x,S,this.index)}},dd.prototype.update=function(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)},dd.prototype.addFeatures=function(e,t,n){for(var r=0,i=this.patternFeatures;r<i.length;r+=1){var a=i[r];this.addFeature(a,a.geometry,a.index,t,n)}},dd.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},dd.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},dd.prototype.upload=function(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,nd),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0},dd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},dd.prototype.addFeature=function(e,t,n,r,i){for(var a=this.layers[0].layout,o=a.get(`line-join`).evaluate(e,{}),s=a.get(`line-cap`),c=a.get(`line-miter-limit`),l=a.get(`line-round-limit`),u=0,d=t;u<d.length;u+=1){var f=d[u];this.addLine(f,e,o,s,c,l)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)},dd.prototype.addLine=function(e,t,n,r,i,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,t.properties&&t.properties.hasOwnProperty(`mapbox_clip_start`)&&t.properties.hasOwnProperty(`mapbox_clip_end`)){this.clipStart=+t.properties.mapbox_clip_start,this.clipEnd=+t.properties.mapbox_clip_end;for(var o=0;o<e.length-1;o++)this.totalDistance+=e[o].dist(e[o+1]);this.updateScaledDistance()}for(var s=rd[t.type]===`Polygon`,c=e.length;c>=2&&e[c-1].equals(e[c-2]);)c--;for(var l=0;l<c-1&&e[l].equals(e[l+1]);)l++;if(!(c<(s?3:2))){n===`bevel`&&(i=1.05);var u=this.overscaling<=16?od*mc/(512*this.overscaling):0,d=this.segments.prepareSegment(c*10,this.layoutVertexArray,this.indexArray),f,p=void 0,m=void 0,h=void 0,g=void 0;this.e1=this.e2=-1,s&&(f=e[c-2],g=e[l].sub(f)._unit()._perp());for(var _=l;_<c;_++)if(m=_===c-1?s?e[l+1]:void 0:e[_+1],!(m&&e[_].equals(m))){g&&(h=g),f&&(p=f),f=e[_],g=m?m.sub(f)._unit()._perp():h,h||=g;var v=h.add(g);(v.x!==0||v.y!==0)&&v._unit();var y=h.x*g.x+h.y*g.y,b=v.x*g.x+v.y*g.y,x=b===0?1/0:1/b,S=2*Math.sqrt(2-2*b),C=b<ad&&p&&m,w=h.x*g.y-h.y*g.x>0;if(C&&_>l){var T=f.dist(p);if(T>2*u){var E=f.sub(f.sub(p)._mult(u/T)._round());this.updateDistance(p,E),this.addCurrentVertex(E,h,0,0,d),p=E}}var D=p&&m,O=D?n:s?`butt`:r;if(D&&O===`round`&&(x<a?O=`miter`:x<=2&&(O=`fakeround`)),O===`miter`&&x>i&&(O=`bevel`),O===`bevel`&&(x>2&&(O=`flipbevel`),x<i&&(O=`miter`)),p&&this.updateDistance(p,f),O===`miter`)v._mult(x),this.addCurrentVertex(f,v,0,0,d);else if(O===`flipbevel`){if(x>100)v=g.mult(-1);else{var k=x*h.add(g).mag()/h.sub(g).mag();v._perp()._mult(k*(w?-1:1))}this.addCurrentVertex(f,v,0,0,d),this.addCurrentVertex(f,v.mult(-1),0,0,d)}else if(O===`bevel`||O===`fakeround`){var A=-Math.sqrt(x*x-1),j=w?A:0,M=w?0:A;if(p&&this.addCurrentVertex(f,h,j,M,d),O===`fakeround`)for(var N=Math.round(S*180/Math.PI/sd),P=1;P<N;P++){var F=P/N;if(F!==.5){var I=F-.5,L=1.0904+y*(-3.2452+y*(3.55645-y*1.43519)),R=.848013+y*(-1.06021+y*.215638);F+=F*I*(F-1)*(L*I*I+R)}var z=g.sub(h)._mult(F)._add(h)._unit()._mult(w?-1:1);this.addHalfVertex(f,z.x,z.y,!1,w,0,d)}m&&this.addCurrentVertex(f,g,-j,-M,d)}else if(O===`butt`)this.addCurrentVertex(f,v,0,0,d);else if(O===`square`){var B=p?1:-1;this.addCurrentVertex(f,v,B,B,d)}else O===`round`&&(p&&(this.addCurrentVertex(f,h,0,0,d),this.addCurrentVertex(f,h,1,1,d,!0)),m&&(this.addCurrentVertex(f,g,-1,-1,d,!0),this.addCurrentVertex(f,g,0,0,d)));if(C&&_<c-1){var V=f.dist(m);if(V>2*u){var H=f.add(m.sub(f)._mult(u/V)._round());this.updateDistance(f,H),this.addCurrentVertex(H,g,0,0,d),f=H}}}}},dd.prototype.addCurrentVertex=function(e,t,n,r,i,a){a===void 0&&(a=!1);var o=t.x+t.y*n,s=t.y-t.x*n,c=-t.x+t.y*r,l=-t.y-t.x*r;this.addHalfVertex(e,o,s,a,!1,n,i),this.addHalfVertex(e,c,l,a,!0,-r,i),this.distance>ud/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(e,t,n,r,i,a))},dd.prototype.addHalfVertex=function(e,t,n,r,i,a,o){var s=e.x,c=e.y,l=this.scaledDistance*ld;this.layoutVertexArray.emplaceBack((s<<1)+(r?1:0),(c<<1)+(i?1:0),Math.round(id*t)+128,Math.round(id*n)+128,(a===0?0:a<0?-1:1)+1|(l&63)<<2,l>>6);var u=o.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),o.primitiveLength++),i?this.e2=u:this.e1=u},dd.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(ud-1):this.distance},dd.prototype.updateDistance=function(e,t){this.distance+=e.dist(t),this.updateScaledDistance()},Za(`LineBucket`,dd,{omit:[`layers`,`patternFeatures`]});var fd=new Go({"line-cap":new Bo(Kt.layout_line[`line-cap`]),"line-join":new Vo(Kt.layout_line[`line-join`]),"line-miter-limit":new Bo(Kt.layout_line[`line-miter-limit`]),"line-round-limit":new Bo(Kt.layout_line[`line-round-limit`]),"line-sort-key":new Vo(Kt.layout_line[`line-sort-key`])}),pd={paint:new Go({"line-opacity":new Vo(Kt.paint_line[`line-opacity`]),"line-color":new Vo(Kt.paint_line[`line-color`]),"line-translate":new Bo(Kt.paint_line[`line-translate`]),"line-translate-anchor":new Bo(Kt.paint_line[`line-translate-anchor`]),"line-width":new Vo(Kt.paint_line[`line-width`]),"line-gap-width":new Vo(Kt.paint_line[`line-gap-width`]),"line-offset":new Vo(Kt.paint_line[`line-offset`]),"line-blur":new Vo(Kt.paint_line[`line-blur`]),"line-dasharray":new Uo(Kt.paint_line[`line-dasharray`]),"line-pattern":new Ho(Kt.paint_line[`line-pattern`]),"line-gradient":new Wo(Kt.paint_line[`line-gradient`])}),layout:fd},md=new(function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.possiblyEvaluate=function(t,n){return n=new jo(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),e.prototype.possiblyEvaluate.call(this,t,n)},t.prototype.evaluate=function(t,n,r,i){return n=g({},n,{zoom:Math.floor(n.zoom)}),e.prototype.evaluate.call(this,t,n,r,i)},t}(Vo))(pd.paint.properties[`line-width`].specification);md.useIntegerZoom=!0;var hd=function(e){function t(t){e.call(this,t,pd)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._handleSpecialPaintPropertyUpdate=function(e){e===`line-gradient`&&this._updateGradient()},t.prototype._updateGradient=function(){var e=this._transitionablePaint._values[`line-gradient`].value.expression;this.gradient=kl(e,`lineProgress`),this.gradientTexture=null},t.prototype.recalculate=function(t,n){e.prototype.recalculate.call(this,t,n),this.paint._values[`line-floorwidth`]=md.possiblyEvaluate(this._transitioningPaint._values[`line-width`].value,t)},t.prototype.createBucket=function(e){return new dd(e)},t.prototype.queryRadius=function(e){var t=e,n=gd(Nc(`line-width`,this,t),Nc(`line-gap-width`,this,t)),r=Nc(`line-offset`,this,t);return n/2+Math.abs(r)+Pc(this.paint.get(`line-translate`))},t.prototype.queryIntersectsFeature=function(e,t,n,r,i,a,o){var s=Fc(e,this.paint.get(`line-translate`),this.paint.get(`line-translate-anchor`),a.angle,o),c=o/2*gd(this.paint.get(`line-width`).evaluate(t,n),this.paint.get(`line-gap-width`).evaluate(t,n)),l=this.paint.get(`line-offset`).evaluate(t,n);return l&&(r=_d(r,l*o)),Cc(s,r,c)},t.prototype.isTileClipped=function(){return!0},t}(qo);function gd(e,t){return t>0?t+2*e:e}function _d(e,t){for(var n=[],r=new a(0,0),i=0;i<e.length;i++){for(var o=e[i],s=[],c=0;c<o.length;c++){var l=o[c-1],u=o[c],d=o[c+1],f=c===0?r:u.sub(l)._unit()._perp(),p=c===o.length-1?r:d.sub(u)._unit()._perp(),m=f._add(p)._unit(),h=m.x*p.x+m.y*p.y;m._mult(1/h),s.push(m._mult(t)._add(u))}n.push(s)}return n}var vd=$o([{name:`a_pos_offset`,components:4,type:`Int16`},{name:`a_data`,components:4,type:`Uint16`},{name:`a_pixeloffset`,components:4,type:`Int16`}],4),yd=$o([{name:`a_projected_pos`,components:3,type:`Float32`}],4);$o([{name:`a_fade_opacity`,components:1,type:`Uint32`}],4);var bd=$o([{name:`a_placed`,components:2,type:`Uint8`},{name:`a_shift`,components:2,type:`Float32`}]);$o([{type:`Int16`,name:`anchorPointX`},{type:`Int16`,name:`anchorPointY`},{type:`Int16`,name:`x1`},{type:`Int16`,name:`y1`},{type:`Int16`,name:`x2`},{type:`Int16`,name:`y2`},{type:`Uint32`,name:`featureIndex`},{type:`Uint16`,name:`sourceLayerIndex`},{type:`Uint16`,name:`bucketIndex`}]);var xd=$o([{name:`a_pos`,components:2,type:`Int16`},{name:`a_anchor_pos`,components:2,type:`Int16`},{name:`a_extrude`,components:2,type:`Int16`}],4),Sd=$o([{name:`a_pos`,components:2,type:`Float32`},{name:`a_radius`,components:1,type:`Float32`},{name:`a_flags`,components:2,type:`Int16`}],4);$o([{name:`triangle`,components:3,type:`Uint16`}]),$o([{type:`Int16`,name:`anchorX`},{type:`Int16`,name:`anchorY`},{type:`Uint16`,name:`glyphStartIndex`},{type:`Uint16`,name:`numGlyphs`},{type:`Uint32`,name:`vertexStartIndex`},{type:`Uint32`,name:`lineStartIndex`},{type:`Uint32`,name:`lineLength`},{type:`Uint16`,name:`segment`},{type:`Uint16`,name:`lowerSize`},{type:`Uint16`,name:`upperSize`},{type:`Float32`,name:`lineOffsetX`},{type:`Float32`,name:`lineOffsetY`},{type:`Uint8`,name:`writingMode`},{type:`Uint8`,name:`placedOrientation`},{type:`Uint8`,name:`hidden`},{type:`Uint32`,name:`crossTileID`},{type:`Int16`,name:`associatedIconIndex`}]),$o([{type:`Int16`,name:`anchorX`},{type:`Int16`,name:`anchorY`},{type:`Int16`,name:`rightJustifiedTextSymbolIndex`},{type:`Int16`,name:`centerJustifiedTextSymbolIndex`},{type:`Int16`,name:`leftJustifiedTextSymbolIndex`},{type:`Int16`,name:`verticalPlacedTextSymbolIndex`},{type:`Int16`,name:`placedIconSymbolIndex`},{type:`Int16`,name:`verticalPlacedIconSymbolIndex`},{type:`Uint16`,name:`key`},{type:`Uint16`,name:`textBoxStartIndex`},{type:`Uint16`,name:`textBoxEndIndex`},{type:`Uint16`,name:`verticalTextBoxStartIndex`},{type:`Uint16`,name:`verticalTextBoxEndIndex`},{type:`Uint16`,name:`iconBoxStartIndex`},{type:`Uint16`,name:`iconBoxEndIndex`},{type:`Uint16`,name:`verticalIconBoxStartIndex`},{type:`Uint16`,name:`verticalIconBoxEndIndex`},{type:`Uint16`,name:`featureIndex`},{type:`Uint16`,name:`numHorizontalGlyphVertices`},{type:`Uint16`,name:`numVerticalGlyphVertices`},{type:`Uint16`,name:`numIconVertices`},{type:`Uint16`,name:`numVerticalIconVertices`},{type:`Uint16`,name:`useRuntimeCollisionCircles`},{type:`Uint32`,name:`crossTileID`},{type:`Float32`,name:`textBoxScale`},{type:`Float32`,components:2,name:`textOffset`},{type:`Float32`,name:`collisionCircleDiameter`}]),$o([{type:`Float32`,name:`offsetX`}]),$o([{type:`Int16`,name:`x`},{type:`Int16`,name:`y`},{type:`Int16`,name:`tileUnitDistanceFromAnchor`}]);function Cd(e,t,n){var r=t.layout.get(`text-transform`).evaluate(n,{});return r===`uppercase`?e=e.toLocaleUpperCase():r===`lowercase`&&(e=e.toLocaleLowerCase()),ko.applyArabicShaping&&(e=ko.applyArabicShaping(e)),e}function wd(e,t,n){return e.sections.forEach(function(e){e.text=Cd(e.text,t,n)}),e}function Td(e){var t={},n={},r=[],i=0;function a(t){r.push(e[t]),i++}function o(e,t,i){var a=n[e];return delete n[e],n[t]=a,r[a].geometry[0].pop(),r[a].geometry[0]=r[a].geometry[0].concat(i[0]),a}function s(e,n,i){var a=t[n];return delete t[n],t[e]=a,r[a].geometry[0].shift(),r[a].geometry[0]=i[0].concat(r[a].geometry[0]),a}function c(e,t,n){var r=n?t[0][t[0].length-1]:t[0][0];return e+`:`+r.x+`:`+r.y}for(var l=0;l<e.length;l++){var u=e[l],d=u.geometry,f=u.text?u.text.toString():null;if(!f){a(l);continue}var p=c(f,d),m=c(f,d,!0);if(p in n&&m in t&&n[p]!==t[m]){var h=s(p,m,d),g=o(p,m,r[h].geometry);delete t[p],delete n[m],n[c(f,r[g].geometry,!0)]=g,r[h].geometry=null}else p in n?o(p,m,d):m in t?s(p,m,d):(a(l),t[p]=i-1,n[m]=i-1)}return r.filter(function(e){return e.geometry})}var Ed={"!":``,"#":``,$:``,"%":``,"&":``,"(":``,")":``,"*":``,"+":``,",":``,"-":``,".":``,"/":``,":":``,";":``,"<":``,"=":``,">":``,"?":``,"@":``,"[":``,"\\":``,"]":``,"^":``,_:``,"`":``,"{":``,"|":``,"}":``,"~":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``,"":``};function Dd(e){for(var t=``,n=0;n<e.length;n++){var r=e.charCodeAt(n+1)||null,i=e.charCodeAt(n-1)||null;(!r||!fo(r)||Ed[e[n+1]])&&(!i||!fo(i)||Ed[e[n-1]])&&Ed[e[n]]?t+=Ed[e[n]]:t+=e[n]}return t}var Od=24,kd={read:function(e,t,n,r,i){var a,o,s=i*8-r-1,c=(1<<s)-1,l=c>>1,u=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,a=p&(1<<-u)-1,p>>=-u,u+=s;u>0;a=a*256+e[t+d],d+=f,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=o*256+e[t+d],d+=f,u-=8);if(a===0)a=1-l;else if(a===c)return o?NaN:(p?-1:1)*(1/0);else o+=2**r,a-=l;return(p?-1:1)*o*2**(a-r)},write:function(e,t,n,r,i,a){var o,s,c,l=a*8-i-1,u=(1<<l)-1,d=u>>1,f=i===23?2**-24-2**-77:0,p=r?0:a-1,m=r?1:-1,h=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=2**-o)<1&&(o--,c*=2),o+d>=1?t+=f/c:t+=f*2**(1-d),t*c>=2&&(o++,c/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*c-1)*2**i,o+=d):(s=t*2**(d-1)*2**i,o=0));i>=8;e[n+p]=s&255,p+=m,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[n+p]=o&255,p+=m,o/=256,l-=8);e[n+p-m]|=h*128}},Ad=jd;function jd(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}jd.Varint=0,jd.Fixed64=1,jd.Bytes=2,jd.Fixed32=5;var Md=65536*65536,Nd=1/Md,Pd=12,Fd=typeof TextDecoder>`u`?null:new TextDecoder(`utf8`);jd.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n||=this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,a=this.pos;this.type=r&7,e(i,t,this),this.pos===a&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Qd(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=ef(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Qd(this.buf,this.pos)+Qd(this.buf,this.pos+4)*Md;return this.pos+=8,e},readSFixed64:function(){var e=Qd(this.buf,this.pos)+ef(this.buf,this.pos+4)*Md;return this.pos+=8,e},readFloat:function(){var e=kd.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=kd.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t=this.buf,n,r=t[this.pos++];return n=r&127,r<128||(r=t[this.pos++],n|=(r&127)<<7,r<128)||(r=t[this.pos++],n|=(r&127)<<14,r<128)||(r=t[this.pos++],n|=(r&127)<<21,r<128)?n:(r=t[this.pos],n|=(r&15)<<28,Id(n,e,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=Pd&&Fd?nf(this.buf,t,e):tf(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==jd.Bytes)return e.push(this.readVarint(t));var n=Ld(this);for(e||=[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==jd.Bytes)return e.push(this.readSVarint());var t=Ld(this);for(e||=[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==jd.Bytes)return e.push(this.readBoolean());var t=Ld(this);for(e||=[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==jd.Bytes)return e.push(this.readFloat());var t=Ld(this);for(e||=[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==jd.Bytes)return e.push(this.readDouble());var t=Ld(this);for(e||=[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==jd.Bytes)return e.push(this.readFixed32());var t=Ld(this);for(e||=[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==jd.Bytes)return e.push(this.readSFixed32());var t=Ld(this);for(e||=[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==jd.Bytes)return e.push(this.readFixed64());var t=Ld(this);for(e||=[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==jd.Bytes)return e.push(this.readSFixed64());var t=Ld(this);for(e||=[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=e&7;if(t===jd.Varint)for(;this.buf[this.pos++]>127;);else if(t===jd.Bytes)this.pos=this.readVarint()+this.pos;else if(t===jd.Fixed32)this.pos+=4;else if(t===jd.Fixed64)this.pos+=8;else throw Error(`Unimplemented type: `+t)},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),$d(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),$d(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),$d(this.buf,e&-1,this.pos),$d(this.buf,Math.floor(e*Nd),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),$d(this.buf,e&-1,this.pos),$d(this.buf,Math.floor(e*Nd),this.pos+4),this.pos+=8},writeVarint:function(e){if(e=+e||0,e>268435455||e<0){zd(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))},writeSVarint:function(e){this.writeVarint(e<0?-e*2-1:e*2)},writeBoolean:function(e){this.writeVarint(!!e)},writeString:function(e){e=String(e),this.realloc(e.length*4),this.pos++;var t=this.pos;this.pos=rf(this.buf,e,this.pos);var n=this.pos-t;n>=128&&Hd(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),kd.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),kd.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&Hd(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,jd.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,Ud,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Wd,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,qd,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Gd,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Kd,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Jd,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Yd,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Xd,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Zd,t)},writeBytesField:function(e,t){this.writeTag(e,jd.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,jd.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,jd.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,jd.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,jd.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,jd.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,jd.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,jd.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,jd.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,jd.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,!!t)}};function Id(e,t,n){var r=n.buf,i,a=r[n.pos++];if(i=(a&112)>>4,a<128||(a=r[n.pos++],i|=(a&127)<<3,a<128)||(a=r[n.pos++],i|=(a&127)<<10,a<128)||(a=r[n.pos++],i|=(a&127)<<17,a<128)||(a=r[n.pos++],i|=(a&127)<<24,a<128)||(a=r[n.pos++],i|=(a&1)<<31,a<128))return Rd(e,i,t);throw Error(`Expected varint not more than 10 bytes`)}function Ld(e){return e.type===jd.Bytes?e.readVarint()+e.pos:e.pos+1}function Rd(e,t,n){return n?t*4294967296+(e>>>0):(t>>>0)*4294967296+(e>>>0)}function zd(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),n^4294967295?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw Error(`Given varint doesn't fit into 10 bytes`);t.realloc(10),Bd(n,r,t),Vd(r,t)}function Bd(e,t,n){n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos++]=e&127|128,e>>>=7,n.buf[n.pos]=e&127}function Vd(e,t){var n=(e&7)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=e&127)))))}function Hd(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(Math.LN2*7));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function Ud(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function Wd(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function Gd(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function Kd(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function qd(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function Jd(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function Yd(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function Xd(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function Zd(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function Qd(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+e[t+3]*16777216}function $d(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function ef(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function tf(e,t,n){for(var r=``,i=t;i<n;){var a=e[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s>n)break;var c,l,u;s===1?a<128&&(o=a):s===2?(c=e[i+1],(c&192)==128&&(o=(a&31)<<6|c&63,o<=127&&(o=null))):s===3?(c=e[i+1],l=e[i+2],(c&192)==128&&(l&192)==128&&(o=(a&15)<<12|(c&63)<<6|l&63,(o<=2047||o>=55296&&o<=57343)&&(o=null))):s===4&&(c=e[i+1],l=e[i+2],u=e[i+3],(c&192)==128&&(l&192)==128&&(u&192)==128&&(o=(a&15)<<18|(c&63)<<12|(l&63)<<6|u&63,(o<=65535||o>=1114112)&&(o=null))),o===null?(o=65533,s=1):o>65535&&(o-=65536,r+=String.fromCharCode(o>>>10&1023|55296),o=56320|o&1023),r+=String.fromCharCode(o),i+=s}return r}function nf(e,t,n){return Fd.decode(e.subarray(t,n))}function rf(e,t,n){for(var r=0,i,a;r<t.length;r++){if(i=t.charCodeAt(r),i>55295&&i<57344)if(a)if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,a=i;continue}else i=a-55296<<10|i-56320|65536,a=null;else{i>56319||r+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):a=i;continue}else a&&=(e[n++]=239,e[n++]=191,e[n++]=189,null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=i&63|128)}return n}var af=3;function of(e,t,n){e===1&&n.readMessage(sf,t)}function sf(e,t,n){if(e===3){var r=n.readMessage(cf,{}),i=r.id,a=r.bitmap,o=r.width,s=r.height,c=r.left,l=r.top,u=r.advance;t.push({id:i,bitmap:new El({width:o+2*af,height:s+2*af},a),metrics:{width:o,height:s,left:c,top:l,advance:u}})}}function cf(e,t,n){e===1?t.id=n.readVarint():e===2?t.bitmap=n.readBytes():e===3?t.width=n.readVarint():e===4?t.height=n.readVarint():e===5?t.left=n.readSVarint():e===6?t.top=n.readSVarint():e===7&&(t.advance=n.readVarint())}function lf(e){return new Ad(e).readFields(of,[])}var uf=af;function df(e){for(var t=0,n=0,r=0,i=e;r<i.length;r+=1){var a=i[r];t+=a.w*a.h,n=Math.max(n,a.w)}e.sort(function(e,t){return t.h-e.h});for(var o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}],s=0,c=0,l=0,u=e;l<u.length;l+=1)for(var d=u[l],f=o.length-1;f>=0;f--){var p=o[f];if(!(d.w>p.w||d.h>p.h)){if(d.x=p.x,d.y=p.y,c=Math.max(c,d.y+d.h),s=Math.max(s,d.x+d.w),d.w===p.w&&d.h===p.h){var m=o.pop();f<o.length&&(o[f]=m)}else d.h===p.h?(p.x+=d.w,p.w-=d.w):d.w===p.w?(p.y+=d.h,p.h-=d.h):(o.push({x:p.x+d.w,y:p.y,w:p.w-d.w,h:d.h}),p.y+=d.h,p.h-=d.h);break}}return{w:s,h:c,fill:t/(s*c)||0}}var ff=1,pf=function(e,t){var n=t.pixelRatio,r=t.version,i=t.stretchX,a=t.stretchY,o=t.content;this.paddedRect=e,this.pixelRatio=n,this.stretchX=i,this.stretchY=a,this.content=o,this.version=r},mf={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};mf.tl.get=function(){return[this.paddedRect.x+ff,this.paddedRect.y+ff]},mf.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-ff,this.paddedRect.y+this.paddedRect.h-ff]},mf.tlbr.get=function(){return this.tl.concat(this.br)},mf.displaySize.get=function(){return[(this.paddedRect.w-ff*2)/this.pixelRatio,(this.paddedRect.h-ff*2)/this.pixelRatio]},Object.defineProperties(pf.prototype,mf);var hf=function(e,t){var n={},r={};this.haveRenderCallbacks=[];var i=[];this.addImages(e,n,i),this.addImages(t,r,i);var a=df(i),o=a.w,s=a.h,c=new Dl({width:o||1,height:s||1});for(var l in e){var u=e[l],d=n[l].paddedRect;Dl.copy(u.data,c,{x:0,y:0},{x:d.x+ff,y:d.y+ff},u.data)}for(var f in t){var p=t[f],m=r[f].paddedRect,h=m.x+ff,g=m.y+ff,_=p.data.width,v=p.data.height;Dl.copy(p.data,c,{x:0,y:0},{x:h,y:g},p.data),Dl.copy(p.data,c,{x:0,y:v-1},{x:h,y:g-1},{width:_,height:1}),Dl.copy(p.data,c,{x:0,y:0},{x:h,y:g+v},{width:_,height:1}),Dl.copy(p.data,c,{x:_-1,y:0},{x:h-1,y:g},{width:1,height:v}),Dl.copy(p.data,c,{x:0,y:0},{x:h+_,y:g},{width:1,height:v})}this.image=c,this.iconPositions=n,this.patternPositions=r};hf.prototype.addImages=function(e,t,n){for(var r in e){var i=e[r],a={x:0,y:0,w:i.data.width+2*ff,h:i.data.height+2*ff};n.push(a),t[r]=new pf(a,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}},hf.prototype.patchUpdatedImages=function(e,t){for(var n in e.dispatchRenderCallbacks(this.haveRenderCallbacks),e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)},hf.prototype.patchUpdatedImage=function(e,t,n){if(!(!e||!t)&&e.version!==t.version){e.version=t.version;var r=e.tl,i=r[0],a=r[1];n.update(t.data,void 0,{x:i,y:a})}},Za(`ImagePosition`,pf),Za(`ImageAtlas`,hf);var gf={horizontal:1,vertical:2,horizontalOnly:3},_f=-17;function vf(e){for(var t=0,n=e;t<n.length;t+=1)if(n[t].positionedGlyphs.length!==0)return!1;return!0}var yf=57344,bf=63743,xf=function(){this.scale=1,this.fontStack=``,this.imageName=null};xf.forText=function(e,t){var n=new xf;return n.scale=e||1,n.fontStack=t,n},xf.forImage=function(e){var t=new xf;return t.imageName=e,t};var Sf=function(){this.text=``,this.sectionIndex=[],this.sections=[],this.imageSectionID=null};Sf.fromFeature=function(e,t){for(var n=new Sf,r=0;r<e.sections.length;r++){var i=e.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,t)}return n},Sf.prototype.length=function(){return this.text.length},Sf.prototype.getSection=function(e){return this.sections[this.sectionIndex[e]]},Sf.prototype.getSectionIndex=function(e){return this.sectionIndex[e]},Sf.prototype.getCharCode=function(e){return this.text.charCodeAt(e)},Sf.prototype.verticalizePunctuation=function(){this.text=Dd(this.text)},Sf.prototype.trim=function(){for(var e=0,t=0;t<this.text.length&&Tf[this.text.charCodeAt(t)];t++)e++;for(var n=this.text.length,r=this.text.length-1;r>=0&&r>=e&&Tf[this.text.charCodeAt(r)];r--)n--;this.text=this.text.substring(e,n),this.sectionIndex=this.sectionIndex.slice(e,n)},Sf.prototype.substring=function(e,t){var n=new Sf;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n},Sf.prototype.toString=function(){return this.text},Sf.prototype.getMaxScale=function(){var e=this;return this.sectionIndex.reduce(function(t,n){return Math.max(t,e.sections[n].scale)},0)},Sf.prototype.addTextSection=function(e,t){this.text+=e.text,this.sections.push(xf.forText(e.scale,e.fontStack||t));for(var n=this.sections.length-1,r=0;r<e.text.length;++r)this.sectionIndex.push(n)},Sf.prototype.addImageSection=function(e){var t=e.image?e.image.name:``;if(t.length===0){k(`Can't add FormattedSection with an empty image.`);return}var n=this.getNextImageSectionCharCode();if(!n){k(`Reached maximum number of images `+(bf-yf+2));return}this.text+=String.fromCharCode(n),this.sections.push(xf.forImage(t)),this.sectionIndex.push(this.sections.length-1)},Sf.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=bf?null:++this.imageSectionID:(this.imageSectionID=yf,this.imageSectionID)};function Cf(e,t){for(var n=[],r=e.text,i=0,a=0,o=t;a<o.length;a+=1){var s=o[a];n.push(e.substring(i,s)),i=s}return i<r.length&&n.push(e.substring(i,r.length)),n}function wf(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h){var g=Sf.fromFeature(e,i);d===gf.vertical&&g.verticalizePunctuation();var _,v=ko.processBidirectionalText,y=ko.processStyledBidirectionalText;if(v&&g.sections.length===1){_=[];for(var b=v(g.toString(),Nf(g,l,a,t,r,p,m)),x=0,S=b;x<S.length;x+=1){var C=S[x],w=new Sf;w.text=C,w.sections=g.sections;for(var T=0;T<C.length;T++)w.sectionIndex.push(0);_.push(w)}}else if(y){_=[];for(var E=y(g.text,g.sectionIndex,Nf(g,l,a,t,r,p,m)),D=0,O=E;D<O.length;D+=1){var k=O[D],A=new Sf;A.text=k[0],A.sectionIndex=k[1],A.sections=g.sections,_.push(A)}}else _=Cf(g,Nf(g,l,a,t,r,p,m));var j=[],M={positionedLines:j,text:g.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:d,iconsInText:!1,verticalizable:!1};return Ff(M,t,n,r,_,o,s,c,d,l,f,h),vf(j)?!1:M}var Tf={};Tf[9]=!0,Tf[10]=!0,Tf[11]=!0,Tf[12]=!0,Tf[13]=!0,Tf[32]=!0;var Ef={};Ef[10]=!0,Ef[32]=!0,Ef[38]=!0,Ef[40]=!0,Ef[41]=!0,Ef[43]=!0,Ef[45]=!0,Ef[47]=!0,Ef[173]=!0,Ef[183]=!0,Ef[8203]=!0,Ef[8208]=!0,Ef[8211]=!0,Ef[8231]=!0;function Df(e,t,n,r,i,a){if(t.imageName){var o=r[t.imageName];return o?o.displaySize[0]*t.scale*Od/a+i:0}else{var s=n[t.fontStack],c=s&&s[e];return c?c.metrics.advance*t.scale+i:0}}function Of(e,t,n,r,i,a){for(var o=0,s=0;s<e.length();s++){var c=e.getSection(s);o+=Df(e.getCharCode(s),c,r,i,t,a)}var l=Math.max(1,Math.ceil(o/n));return o/l}function kf(e,t,n,r){var i=(e-t)**2;return r?e<t?i/2:i*2:i+Math.abs(n)*n}function Af(e,t,n){var r=0;return e===10&&(r-=1e4),n&&(r+=150),(e===40||e===65288)&&(r+=50),(t===41||t===65289)&&(r+=50),r}function jf(e,t,n,r,i,a){for(var o=null,s=kf(t,n,i,a),c=0,l=r;c<l.length;c+=1){var u=l[c],d=kf(t-u.x,n,i,a)+u.badness;d<=s&&(o=u,s=d)}return{index:e,x:t,priorBreak:o,badness:s}}function Mf(e){return e?Mf(e.priorBreak).concat(e.index):[]}function Nf(e,t,n,r,i,a,o){if(a!==`point`||!e)return[];for(var s=[],c=Of(e,t,n,r,i,o),l=e.text.indexOf(``)>=0,u=0,d=0;d<e.length();d++){var f=e.getSection(d),p=e.getCharCode(d);if(Tf[p]||(u+=Df(p,f,r,i,t,o)),d<e.length()-1){var m=co(p);(Ef[p]||m||f.imageName)&&s.push(jf(d+1,u,c,s,Af(p,e.getCharCode(d+1),m&&l),!1))}}return Mf(jf(e.length(),u,c,s,0,!0))}function Pf(e){var t=.5,n=.5;switch(e){case`right`:case`top-right`:case`bottom-right`:t=1;break;case`left`:case`top-left`:case`bottom-left`:t=0;break}switch(e){case`bottom`:case`bottom-right`:case`bottom-left`:n=1;break;case`top`:case`top-right`:case`top-left`:n=0;break}return{horizontalAlign:t,verticalAlign:n}}function Ff(e,t,n,r,i,a,o,s,c,l,u,d){for(var f=0,p=_f,m=0,h=0,g=s===`right`?1:s===`left`?0:.5,_=0,v=0,y=i;v<y.length;v+=1){var b=y[v];b.trim();var x=b.getMaxScale(),S=(x-1)*Od,C={positionedGlyphs:[],lineOffset:0};e.positionedLines[_]=C;var w=C.positionedGlyphs,T=0;if(!b.length()){p+=a,++_;continue}for(var E=0;E<b.length();E++){var D=b.getSection(E),O=b.getSectionIndex(E),k=b.getCharCode(E),A=0,j=null,M=null,N=null,P=Od,F=!(c===gf.horizontal||!u&&!lo(k)||u&&(Tf[k]||po(k)));if(D.imageName){var I=r[D.imageName];if(!I)continue;N=D.imageName,e.iconsInText=e.iconsInText||!0,M=I.paddedRect;var L=I.displaySize;D.scale=D.scale*Od/d,j={width:L[0],height:L[1],left:ff,top:-uf,advance:F?L[1]:L[0]},A=S+(Od-L[1]*D.scale),P=j.advance;var R=F?L[0]*D.scale-Od*x:L[1]*D.scale-Od*x;R>0&&R>T&&(T=R)}else{var z=n[D.fontStack],B=z&&z[k];if(B&&B.rect)M=B.rect,j=B.metrics;else{var V=t[D.fontStack],H=V&&V[k];if(!H)continue;j=H.metrics}A=(x-D.scale)*Od}F?(e.verticalizable=!0,w.push({glyph:k,imageName:N,x:f,y:p+A,vertical:F,scale:D.scale,fontStack:D.fontStack,sectionIndex:O,metrics:j,rect:M}),f+=P*D.scale+l):(w.push({glyph:k,imageName:N,x:f,y:p+A,vertical:F,scale:D.scale,fontStack:D.fontStack,sectionIndex:O,metrics:j,rect:M}),f+=j.advance*D.scale+l)}if(w.length!==0){var U=f-l;m=Math.max(U,m),If(w,0,w.length-1,g,T)}f=0;var W=a*x+T;C.lineOffset=Math.max(T,S),p+=W,h=Math.max(W,h),++_}var G=p-_f,K=Pf(o),ee=K.horizontalAlign,q=K.verticalAlign;Lf(e.positionedLines,g,ee,q,m,h,a,G,i.length),e.top+=-q*G,e.bottom=e.top+G,e.left+=-ee*m,e.right=e.left+m}function If(e,t,n,r,i){if(!(!r&&!i))for(var a=e[n],o=a.metrics.advance*a.scale,s=(e[n].x+o)*r,c=t;c<=n;c++)e[c].x-=s,e[c].y+=i}function Lf(e,t,n,r,i,a,o,s,c){var l=(t-n)*i,u=0;u=a===o?(-r*c+.5)*o:-s*r-_f;for(var d=0,f=e;d<f.length;d+=1)for(var p=f[d],m=0,h=p.positionedGlyphs;m<h.length;m+=1){var g=h[m];g.x+=l,g.y+=u}}function Rf(e,t,n){var r=Pf(n),i=r.horizontalAlign,a=r.verticalAlign,o=t[0],s=t[1],c=o-e.displaySize[0]*i,l=c+e.displaySize[0],u=s-e.displaySize[1]*a;return{image:e,top:u,bottom:u+e.displaySize[1],left:c,right:l}}function zf(e,t,n,r,i,a){var o=e.image,s;if(o.content){var c=o.content,l=o.pixelRatio||1;s=[c[0]/l,c[1]/l,o.displaySize[0]-c[2]/l,o.displaySize[1]-c[3]/l]}var u=t.left*a,d=t.right*a,f,p,m,h;n===`width`||n===`both`?(h=i[0]+u-r[3],p=i[0]+d+r[1]):(h=i[0]+(u+d-o.displaySize[0])/2,p=h+o.displaySize[0]);var g=t.top*a,_=t.bottom*a;return n===`height`||n===`both`?(f=i[1]+g-r[0],m=i[1]+_+r[2]):(f=i[1]+(g+_-o.displaySize[1])/2,m=f+o.displaySize[1]),{image:o,top:f,right:p,bottom:m,left:h,collisionPadding:s}}var Bf=function(e){function t(t,n,r,i){e.call(this,t,n),this.angle=r,i!==void 0&&(this.segment=i)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.clone=function(){return new t(this.x,this.y,this.angle,this.segment)},t}(a);Za(`Anchor`,Bf);var Vf=128;function Hf(e,t){var n=t.expression;if(n.kind===`constant`)return{kind:`constant`,layoutSize:n.evaluate(new jo(e+1))};if(n.kind===`source`)return{kind:`source`};for(var r=n.zoomStops,i=n.interpolationType,a=0;a<r.length&&r[a]<=e;)a++;a=Math.max(0,a-1);for(var o=a;o<r.length&&r[o]<e+1;)o++;o=Math.min(r.length-1,o);var s=r[a],c=r[o];return n.kind===`composite`?{kind:`composite`,minZoom:s,maxZoom:c,interpolationType:i}:{kind:`camera`,minZoom:s,maxZoom:c,minSize:n.evaluate(new jo(s)),maxSize:n.evaluate(new jo(c)),interpolationType:i}}function Uf(e,t,n){var r=t.uSize,i=t.uSizeT,a=n.lowerSize,o=n.upperSize;return e.kind===`source`?a/Vf:e.kind===`composite`?yr(a/Vf,o/Vf,i):r}function Wf(e,t){var n=0,r=0;if(e.kind===`constant`)r=e.layoutSize;else if(e.kind!==`source`){var i=e.interpolationType,a=e.minZoom,o=e.maxZoom,s=i?d(Kr.interpolationFactor(i,t,a,o),0,1):0;e.kind===`camera`?r=yr(e.minSize,e.maxSize,s):n=s}return{uSizeT:n,uSize:r}}var Gf=Object.freeze({__proto__:null,getSizeData:Hf,evaluateSizeForFeature:Uf,evaluateSizeForZoom:Wf,SIZE_PACK_FACTOR:Vf});function Kf(e,t,n,r,i){if(t.segment===void 0)return!0;for(var a=t,o=t.segment+1,s=0;s>-n/2;){if(o--,o<0)return!1;s-=e[o].dist(a),a=e[o]}s+=e[o].dist(e[o+1]),o++;for(var c=[],l=0;s<n/2;){var u=e[o-1],d=e[o],f=e[o+1];if(!f)return!1;var p=u.angleTo(d)-d.angleTo(f);for(p=Math.abs((p+3*Math.PI)%(Math.PI*2)-Math.PI),c.push({distance:s,angleDelta:p}),l+=p;s-c[0].distance>r;)l-=c.shift().angleDelta;if(l>i)return!1;o++,s+=d.dist(f)}return!0}function qf(e){for(var t=0,n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Jf(e,t,n){return e?3/5*t*n:0}function Yf(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Xf(e,t,n,r,i,a){for(var o=Jf(n,i,a),s=Yf(n,r)*a,c=0,l=qf(e)/2,u=0;u<e.length-1;u++){var d=e[u],f=e[u+1],p=d.dist(f);if(c+p>l){var m=(l-c)/p,h=new Bf(yr(d.x,f.x,m),yr(d.y,f.y,m),f.angleTo(d),u);return h._round(),!o||Kf(e,h,s,o,t)?h:void 0}c+=p}}function Zf(e,t,n,r,i,a,o,s,c){var l=Jf(r,a,o),u=Yf(r,i),d=u*o,f=e[0].x===0||e[0].x===c||e[0].y===0||e[0].y===c;t-d<t/4&&(t=d+t/4);var p=a*2;return Qf(e,f?t/2*s%t:(u/2+p)*o*s%t,t,l,n,d,f,!1,c)}function Qf(e,t,n,r,i,a,o,s,c){for(var l=a/2,u=qf(e),d=0,f=t-n,p=[],m=0;m<e.length-1;m++){for(var h=e[m],g=e[m+1],_=h.dist(g),v=g.angleTo(h);f+n<d+_;){f+=n;var y=(f-d)/_,b=yr(h.x,g.x,y),x=yr(h.y,g.y,y);if(b>=0&&b<c&&x>=0&&x<c&&f-l>=0&&f+l<=u){var S=new Bf(b,x,v,m);S._round(),(!r||Kf(e,S,a,r,i))&&p.push(S)}}d+=_}return!s&&!p.length&&!o&&(p=Qf(e,d/2,n,r,i,a,o,!0,c)),p}function $f(e,t,n,r,i){for(var o=[],s=0;s<e.length;s++)for(var c=e[s],l=void 0,u=0;u<c.length-1;u++){var d=c[u],f=c[u+1];d.x<t&&f.x<t||(d.x<t?d=new a(t,d.y+(f.y-d.y)*((t-d.x)/(f.x-d.x)))._round():f.x<t&&(f=new a(t,d.y+(f.y-d.y)*((t-d.x)/(f.x-d.x)))._round()),!(d.y<n&&f.y<n)&&(d.y<n?d=new a(d.x+(f.x-d.x)*((n-d.y)/(f.y-d.y)),n)._round():f.y<n&&(f=new a(d.x+(f.x-d.x)*((n-d.y)/(f.y-d.y)),n)._round()),!(d.x>=r&&f.x>=r)&&(d.x>=r?d=new a(r,d.y+(f.y-d.y)*((r-d.x)/(f.x-d.x)))._round():f.x>=r&&(f=new a(r,d.y+(f.y-d.y)*((r-d.x)/(f.x-d.x)))._round()),!(d.y>=i&&f.y>=i)&&(d.y>=i?d=new a(d.x+(f.x-d.x)*((i-d.y)/(f.y-d.y)),i)._round():f.y>=i&&(f=new a(d.x+(f.x-d.x)*((i-d.y)/(f.y-d.y)),i)._round()),(!l||!d.equals(l[l.length-1]))&&(l=[d],o.push(l)),l.push(f)))))}return o}var ep=ff;function tp(e,t,n,r){var i=[],o=e.image,s=o.pixelRatio,c=o.paddedRect.w-2*ep,l=o.paddedRect.h-2*ep,u=e.right-e.left,d=e.bottom-e.top,f=o.stretchX||[[0,c]],p=o.stretchY||[[0,l]],m=function(e,t){return e+t[1]-t[0]},h=f.reduce(m,0),g=p.reduce(m,0),_=c-h,v=l-g,y=0,b=h,x=0,S=g,C=0,w=_,T=0,E=v;if(o.content&&r){var D=o.content;y=np(f,0,D[0]),x=np(p,0,D[1]),b=np(f,D[0],D[2]),S=np(p,D[1],D[3]),C=D[0]-y,T=D[1]-x,w=D[2]-D[0]-b,E=D[3]-D[1]-S}var O=function(r,i,c,l){var f=ip(r.stretch-y,b,u,e.left),p=ap(r.fixed-C,w,r.stretch,h),m=ip(i.stretch-x,S,d,e.top),_=ap(i.fixed-T,E,i.stretch,g),v=ip(c.stretch-y,b,u,e.left),D=ap(c.fixed-C,w,c.stretch,h),O=ip(l.stretch-x,S,d,e.top),k=ap(l.fixed-T,E,l.stretch,g),A=new a(f,m),j=new a(v,m),M=new a(v,O),N=new a(f,O),P=new a(p/s,_/s),F=new a(D/s,k/s),I=t*Math.PI/180;if(I){var L=Math.sin(I),R=Math.cos(I),z=[R,-L,L,R];A._matMult(z),j._matMult(z),N._matMult(z),M._matMult(z)}var B=r.stretch+r.fixed,V=c.stretch+c.fixed,H=i.stretch+i.fixed,U=l.stretch+l.fixed;return{tl:A,tr:j,bl:N,br:M,tex:{x:o.paddedRect.x+ep+B,y:o.paddedRect.y+ep+H,w:V-B,h:U-H},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:P,pixelOffsetBR:F,minFontScaleX:w/s/u,minFontScaleY:E/s/d,isSDF:n}};if(!r||!o.stretchX&&!o.stretchY)i.push(O({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:c+1},{fixed:0,stretch:l+1}));else for(var k=rp(f,_,h),A=rp(p,v,g),j=0;j<k.length-1;j++)for(var M=k[j],N=k[j+1],P=0;P<A.length-1;P++){var F=A[P],I=A[P+1];i.push(O(M,F,N,I))}return i}function np(e,t,n){for(var r=0,i=0,a=e;i<a.length;i+=1){var o=a[i];r+=Math.max(t,Math.min(n,o[1]))-Math.max(t,Math.min(n,o[0]))}return r}function rp(e,t,n){for(var r=[{fixed:-ep,stretch:0}],i=0,a=e;i<a.length;i+=1){var o=a[i],s=o[0],c=o[1],l=r[r.length-1];r.push({fixed:s-l.stretch,stretch:l.stretch}),r.push({fixed:s-l.stretch,stretch:l.stretch+(c-s)})}return r.push({fixed:t+ep,stretch:n}),r}function ip(e,t,n,r){return e/t*n+r}function ap(e,t,n,r){return e-t*n/r}function op(e,t,n,r,i,o,s,c){for(var l=r.layout.get(`text-rotate`).evaluate(o,{})*Math.PI/180,u=[],d=0,f=t.positionedLines;d<f.length;d+=1)for(var p=f[d],m=0,h=p.positionedGlyphs;m<h.length;m+=1){var g=h[m];if(g.rect){var _=g.rect||{},v=uf+1,y=!0,b=1,x=0,S=(i||c)&&g.vertical,C=g.metrics.advance*g.scale/2;if(c&&t.verticalizable){var w=(g.scale-1)*Od,T=(Od-g.metrics.width*g.scale)/2;x=p.lineOffset/2-(g.imageName?-T:w)}if(g.imageName){var E=s[g.imageName];y=E.sdf,b=E.pixelRatio,v=ff/b}var D=i?[g.x+C,g.y]:[0,0],O=i?[0,0]:[g.x+C+n[0],g.y+n[1]-x],k=[0,0];S&&(k=O,O=[0,0]);var A=(g.metrics.left-v)*g.scale-C+O[0],j=(-g.metrics.top-v)*g.scale+O[1],M=A+_.w*g.scale/b,N=j+_.h*g.scale/b,P=new a(A,j),F=new a(M,j),I=new a(A,N),L=new a(M,N);if(S){var R=new a(-C,C-_f),z=-Math.PI/2,B=Od/2-C,V=g.imageName?B:0,H=new a(5-_f-B,-V),U=new(Function.prototype.bind.apply(a,[null].concat(k)));P._rotateAround(z,R)._add(H)._add(U),F._rotateAround(z,R)._add(H)._add(U),I._rotateAround(z,R)._add(H)._add(U),L._rotateAround(z,R)._add(H)._add(U)}if(l){var W=Math.sin(l),G=Math.cos(l),K=[G,-W,W,G];P._matMult(K),F._matMult(K),I._matMult(K),L._matMult(K)}var ee=new a(0,0),q=new a(0,0);u.push({tl:P,tr:F,bl:I,br:L,tex:_,writingMode:t.writingMode,glyphOffset:D,sectionIndex:g.sectionIndex,isSDF:y,pixelOffsetTL:ee,pixelOffsetBR:q,minFontScaleX:0,minFontScaleY:0})}}return u}var sp=function(e,t,n,r,i,o,s,c,l,u){if(this.boxStartIndex=e.length,l){var d=o.top,f=o.bottom,p=o.collisionPadding;p&&(d-=p[1],f+=p[3]);var m=f-d;m>0&&(m=Math.max(10,m),this.circleDiameter=m)}else{var h=o.top*s-c,g=o.bottom*s+c,_=o.left*s-c,v=o.right*s+c,y=o.collisionPadding;if(y&&(_-=y[0]*s,h-=y[1]*s,v+=y[2]*s,g+=y[3]*s),u){var b=new a(_,h),x=new a(v,h),S=new a(_,g),C=new a(v,g),w=u*Math.PI/180;b._rotate(w),x._rotate(w),S._rotate(w),C._rotate(w),_=Math.min(b.x,x.x,S.x,C.x),v=Math.max(b.x,x.x,S.x,C.x),h=Math.min(b.y,x.y,S.y,C.y),g=Math.max(b.y,x.y,S.y,C.y)}e.emplaceBack(t.x,t.y,_,h,v,g,n,r,i)}this.boxEndIndex=e.length},cp=function(e,t){if(e===void 0&&(e=[]),t===void 0&&(t=lp),this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)};cp.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},cp.prototype.pop=function(){if(this.length!==0){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},cp.prototype.peek=function(){return this.data[0]},cp.prototype._up=function(e){for(var t=this,n=t.data,r=t.compare,i=n[e];e>0;){var a=e-1>>1,o=n[a];if(r(i,o)>=0)break;n[e]=o,e=a}n[e]=i},cp.prototype._down=function(e){for(var t=this,n=t.data,r=t.compare,i=this.length>>1,a=n[e];e<i;){var o=(e<<1)+1,s=n[o],c=o+1;if(c<this.length&&r(n[c],s)<0&&(o=c,s=n[c]),r(s,a)>=0)break;n[e]=s,e=o}n[e]=a};function lp(e,t){return e<t?-1:e>t?1:0}function up(e,t,n){t===void 0&&(t=1),n===void 0&&(n=!1);for(var r=1/0,i=1/0,o=-1/0,s=-1/0,c=e[0],l=0;l<c.length;l++){var u=c[l];(!l||u.x<r)&&(r=u.x),(!l||u.y<i)&&(i=u.y),(!l||u.x>o)&&(o=u.x),(!l||u.y>s)&&(s=u.y)}var d=o-r,f=s-i,p=Math.min(d,f),m=p/2,h=new cp([],dp);if(p===0)return new a(r,i);for(var g=r;g<o;g+=p)for(var _=i;_<s;_+=p)h.push(new fp(g+m,_+m,m,e));for(var v=mp(e),y=h.length;h.length;){var b=h.pop();(b.d>v.d||!v.d)&&(v=b,n&&console.log(`found best %d after %d probes`,Math.round(1e4*b.d)/1e4,y)),!(b.max-v.d<=t)&&(m=b.h/2,h.push(new fp(b.p.x-m,b.p.y-m,m,e)),h.push(new fp(b.p.x+m,b.p.y-m,m,e)),h.push(new fp(b.p.x-m,b.p.y+m,m,e)),h.push(new fp(b.p.x+m,b.p.y+m,m,e)),y+=4)}return n&&(console.log(`num probes: `+y),console.log(`best distance: `+v.d)),v.p}function dp(e,t){return t.max-e.max}function fp(e,t,n,r){this.p=new a(e,t),this.h=n,this.d=pp(this.p,r),this.max=this.d+this.h*Math.SQRT2}function pp(e,t){for(var n=!1,r=1/0,i=0;i<t.length;i++)for(var a=t[i],o=0,s=a.length,c=s-1;o<s;c=o++){var l=a[o],u=a[c];l.y>e.y!=u.y>e.y&&e.x<(u.x-l.x)*(e.y-l.y)/(u.y-l.y)+l.x&&(n=!n),r=Math.min(r,Oc(e,l,u))}return(n?1:-1)*Math.sqrt(r)}function mp(e){for(var t=0,n=0,r=0,i=e[0],a=0,o=i.length,s=o-1;a<o;s=a++){var c=i[a],l=i[s],u=c.x*l.y-l.x*c.y;n+=(c.x+l.x)*u,r+=(c.y+l.y)*u,t+=u*3}return new fp(n/t,r/t,0,e)}var hp=7,gp=1/0;function _p(e,t){function n(e,t){var n=0,r=0;t<0&&(t=0);var i=t/Math.sqrt(2);switch(e){case`top-right`:case`top-left`:r=i-hp;break;case`bottom-right`:case`bottom-left`:r=-i+hp;break;case`bottom`:r=-t+hp;break;case`top`:r=t-hp;break}switch(e){case`top-right`:case`bottom-right`:n=-i;break;case`top-left`:case`bottom-left`:n=i;break;case`left`:n=t;break;case`right`:n=-t;break}return[n,r]}function r(e,t,n){var r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case`top-right`:case`top-left`:case`top`:i=n-hp;break;case`bottom-right`:case`bottom-left`:case`bottom`:i=-n+hp;break}switch(e){case`top-right`:case`bottom-right`:case`right`:r=-t;break;case`top-left`:case`bottom-left`:case`left`:r=t;break}return[r,i]}return t[1]===gp?n(e,t[0]):r(e,t[0],t[1])}function vp(e,t,n,r,i,a,o){e.createArrays(),e.tilePixelRatio=mc/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;var s=e.layers[0].layout,c=e.layers[0]._unevaluatedLayout._values,l={};if(e.textSizeData.kind===`composite`){var u=e.textSizeData,d=u.minZoom,f=u.maxZoom;l.compositeTextSizes=[c[`text-size`].possiblyEvaluate(new jo(d),o),c[`text-size`].possiblyEvaluate(new jo(f),o)]}if(e.iconSizeData.kind===`composite`){var p=e.iconSizeData,m=p.minZoom,h=p.maxZoom;l.compositeIconSizes=[c[`icon-size`].possiblyEvaluate(new jo(m),o),c[`icon-size`].possiblyEvaluate(new jo(h),o)]}l.layoutTextSize=c[`text-size`].possiblyEvaluate(new jo(e.zoom+1),o),l.layoutIconSize=c[`icon-size`].possiblyEvaluate(new jo(e.zoom+1),o),l.textMaxSize=c[`text-size`].possiblyEvaluate(new jo(18));for(var g=s.get(`text-line-height`)*Od,_=s.get(`text-rotation-alignment`)===`map`&&s.get(`symbol-placement`)!==`point`,v=s.get(`text-keep-upright`),y=s.get(`text-size`),b=function(){var a=S[x],c=s.get(`text-font`).evaluate(a,{},o).join(`,`),u=y.evaluate(a,{},o),d=l.layoutTextSize.evaluate(a,{},o),f=l.layoutIconSize.evaluate(a,{},o),p={horizontal:{},vertical:void 0},m=a.text,h=[0,0];if(m){var b=m.toString(),C=s.get(`text-letter-spacing`).evaluate(a,{},o)*Od,w=oo(b)?C:0,T=s.get(`text-anchor`).evaluate(a,{},o),E=s.get(`text-variable-anchor`);if(!E){var D=s.get(`text-radial-offset`).evaluate(a,{},o);h=D?_p(T,[D*Od,gp]):s.get(`text-offset`).evaluate(a,{},o).map(function(e){return e*Od})}var O=_?`center`:s.get(`text-justify`).evaluate(a,{},o),A=s.get(`symbol-placement`),j=A===`point`?s.get(`text-max-width`).evaluate(a,{},o)*Od:0,M=function(){e.allowVerticalPlacement&&ao(b)&&(p.vertical=wf(m,t,n,i,c,j,g,T,`left`,w,h,gf.vertical,!0,A,d,u))};if(!_&&E){for(var N=O===`auto`?E.map(function(e){return yp(e)}):[O],P=!1,F=0;F<N.length;F++){var I=N[F];if(!p.horizontal[I])if(P)p.horizontal[I]=p.horizontal[0];else{var L=wf(m,t,n,i,c,j,g,`center`,I,w,h,gf.horizontal,!1,A,d,u);L&&(p.horizontal[I]=L,P=L.positionedLines.length===1)}}M()}else{O===`auto`&&(O=yp(T));var R=wf(m,t,n,i,c,j,g,T,O,w,h,gf.horizontal,!1,A,d,u);R&&(p.horizontal[O]=R),M(),ao(b)&&_&&v&&(p.vertical=wf(m,t,n,i,c,j,g,T,O,w,h,gf.vertical,!1,A,d,u))}}var z=void 0,B=!1;if(a.icon&&a.icon.name){var V=r[a.icon.name];V&&(z=Rf(i[a.icon.name],s.get(`icon-offset`).evaluate(a,{},o),s.get(`icon-anchor`).evaluate(a,{},o)),B=V.sdf,e.sdfIcons===void 0?e.sdfIcons=V.sdf:e.sdfIcons!==V.sdf&&k(`Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer`),V.pixelRatio===e.pixelRatio?s.get(`icon-rotate`).constantOr(1)!==0&&(e.iconsNeedLinear=!0):e.iconsNeedLinear=!0)}var H=wp(p.horizontal)||p.vertical;e.iconsInText=H?H.iconsInText:!1,(H||z)&&bp(e,a,p,z,r,l,d,f,h,B,o)},x=0,S=e.features;x<S.length;x+=1)b();a&&e.generateCollisionDebugBuffers()}function yp(e){switch(e){case`right`:case`top-right`:case`bottom-right`:return`right`;case`left`:case`top-left`:case`bottom-left`:return`left`}return`center`}function bp(e,t,n,r,i,a,o,s,c,l,u){var d=a.textMaxSize.evaluate(t,{});d===void 0&&(d=o);var f=e.layers[0].layout,p=f.get(`icon-offset`).evaluate(t,{},u),m=wp(n.horizontal),h=24,g=o/h,_=e.tilePixelRatio*g,v=e.tilePixelRatio*d/h,y=e.tilePixelRatio*s,b=e.tilePixelRatio*f.get(`symbol-spacing`),x=f.get(`text-padding`)*e.tilePixelRatio,S=f.get(`icon-padding`)*e.tilePixelRatio,C=f.get(`text-max-angle`)/180*Math.PI,w=f.get(`text-rotation-alignment`)===`map`&&f.get(`symbol-placement`)!==`point`,T=f.get(`icon-rotation-alignment`)===`map`&&f.get(`symbol-placement`)!==`point`,E=f.get(`symbol-placement`),D=b/2,O=f.get(`icon-text-fit`),k;r&&O!==`none`&&(e.allowVerticalPlacement&&n.vertical&&(k=zf(r,n.vertical,O,f.get(`icon-text-fit-padding`),p,g)),m&&(r=zf(r,m,O,f.get(`icon-text-fit-padding`),p,g)));var A=function(s,d){d.x<0||d.x>=mc||d.y<0||d.y>=mc||Tp(e,d,s,n,r,i,k,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,_,x,w,c,y,S,T,p,t,a,l,u,o)};if(E===`line`)for(var j=0,M=$f(t.geometry,0,0,mc,mc);j<M.length;j+=1)for(var N=M[j],P=Zf(N,b,C,n.vertical||m,r,h,v,e.overscaling,mc),F=0,I=P;F<I.length;F+=1){var L=I[F],R=m;(!R||!Ep(e,R.text,D,L))&&A(N,L)}else if(E===`line-center`)for(var z=0,B=t.geometry;z<B.length;z+=1){var V=B[z];if(V.length>1){var H=Xf(V,C,n.vertical||m,r,h,v);H&&A(V,H)}}else if(t.type===`Polygon`)for(var U=0,W=vu(t.geometry,0);U<W.length;U+=1){var G=W[U],K=up(G,16);A(G[0],new Bf(K.x,K.y,0))}else if(t.type===`LineString`)for(var ee=0,q=t.geometry;ee<q.length;ee+=1){var J=q[ee];A(J,new Bf(J[0].x,J[0].y,0))}else if(t.type===`Point`)for(var Y=0,te=t.geometry;Y<te.length;Y+=1)for(var ne=te[Y],re=0,ie=ne;re<ie.length;re+=1){var ae=ie[re];A([ae],new Bf(ae.x,ae.y,0))}}var xp=255,Sp=xp*Vf;function Cp(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m){var h=op(t,n,s,i,a,o,r,e.allowVerticalPlacement),g=e.textSizeData,_=null;g.kind===`source`?(_=[Vf*i.layout.get(`text-size`).evaluate(o,{})],_[0]>Sp&&k(e.layerIds[0]+`: Value for "text-size" is >= `+xp+`. Reduce your "text-size".`)):g.kind===`composite`&&(_=[Vf*p.compositeTextSizes[0].evaluate(o,{},m),Vf*p.compositeTextSizes[1].evaluate(o,{},m)],(_[0]>Sp||_[1]>Sp)&&k(e.layerIds[0]+`: Value for "text-size" is >= `+xp+`. Reduce your "text-size".`)),e.addSymbols(e.text,h,_,s,a,o,l,t,c.lineStartIndex,c.lineLength,f,m);for(var v=0,y=u;v<y.length;v+=1){var b=y[v];d[b]=e.text.placedSymbolArray.length-1}return h.length*4}function wp(e){for(var t in e)return e[t];return null}function Tp(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w){var T,E=e.addToLineVertexArray(t,n),D,O,A,j,M=0,N=0,P=0,F=0,I=-1,L=-1,R={},z=Bs(``),B=0,V=0;if(s._unevaluatedLayout.getValue(`text-radial-offset`)===void 0?(T=s.layout.get(`text-offset`).evaluate(b,{},C).map(function(e){return e*Od}),B=T[0],V=T[1]):(B=s.layout.get(`text-radial-offset`).evaluate(b,{},C)*Od,V=gp),e.allowVerticalPlacement&&r.vertical){var H=s.layout.get(`text-rotate`).evaluate(b,{},C)+90,U=r.vertical;A=new sp(c,t,l,u,d,U,f,p,m,H),o&&(j=new sp(c,t,l,u,d,o,g,_,m,H))}if(i){var W=s.layout.get(`icon-rotate`).evaluate(b,{}),G=s.layout.get(`icon-text-fit`)!==`none`,K=tp(i,W,S,G),ee=o?tp(o,W,S,G):void 0;O=new sp(c,t,l,u,d,i,g,_,!1,W),M=K.length*4;var q=e.iconSizeData,J=null;q.kind===`source`?(J=[Vf*s.layout.get(`icon-size`).evaluate(b,{})],J[0]>Sp&&k(e.layerIds[0]+`: Value for "icon-size" is >= `+xp+`. Reduce your "icon-size".`)):q.kind===`composite`&&(J=[Vf*x.compositeIconSizes[0].evaluate(b,{},C),Vf*x.compositeIconSizes[1].evaluate(b,{},C)],(J[0]>Sp||J[1]>Sp)&&k(e.layerIds[0]+`: Value for "icon-size" is >= `+xp+`. Reduce your "icon-size".`)),e.addSymbols(e.icon,K,J,y,v,b,!1,t,E.lineStartIndex,E.lineLength,-1,C),I=e.icon.placedSymbolArray.length-1,ee&&(N=ee.length*4,e.addSymbols(e.icon,ee,J,y,v,b,gf.vertical,t,E.lineStartIndex,E.lineLength,-1,C),L=e.icon.placedSymbolArray.length-1)}for(var Y in r.horizontal){var te=r.horizontal[Y];D||=(z=Bs(te.text),new sp(c,t,l,u,d,te,f,p,m,s.layout.get(`text-rotate`).evaluate(b,{},C)));var ne=te.positionedLines.length===1;if(P+=Cp(e,t,te,a,s,m,b,h,E,r.vertical?gf.horizontal:gf.horizontalOnly,ne?Object.keys(r.horizontal):[Y],R,I,x,C),ne)break}r.vertical&&(F+=Cp(e,t,r.vertical,a,s,m,b,h,E,gf.vertical,[`vertical`],R,L,x,C));var re=D?D.boxStartIndex:e.collisionBoxArray.length,ie=D?D.boxEndIndex:e.collisionBoxArray.length,ae=A?A.boxStartIndex:e.collisionBoxArray.length,oe=A?A.boxEndIndex:e.collisionBoxArray.length,se=O?O.boxStartIndex:e.collisionBoxArray.length,ce=O?O.boxEndIndex:e.collisionBoxArray.length,le=j?j.boxStartIndex:e.collisionBoxArray.length,ue=j?j.boxEndIndex:e.collisionBoxArray.length,de=-1,fe=function(e,t){return e&&e.circleDiameter?Math.max(e.circleDiameter,t):t};de=fe(D,de),de=fe(A,de),de=fe(O,de),de=fe(j,de);var pe=de>-1?1:0;pe&&(de*=w/Od),e.glyphOffsetArray.length>=Pp.MAX_GLYPHS&&k(`Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907`),b.sortKey!==void 0&&e.addToSortKeyRanges(e.symbolInstances.length,b.sortKey),e.symbolInstances.emplaceBack(t.x,t.y,R.right>=0?R.right:-1,R.center>=0?R.center:-1,R.left>=0?R.left:-1,R.vertical||-1,I,L,z,re,ie,ae,oe,se,ce,le,ue,l,P,F,M,N,pe,0,f,B,V,de)}function Ep(e,t,n,r){var i=e.compareText;if(!(t in i))i[t]=[];else for(var a=i[t],o=a.length-1;o>=0;o--)if(r.dist(a[o])<n)return!0;return i[t].push(r),!1}var Dp=Vu.VectorTileFeature.types,Op=[{name:`a_fade_opacity`,components:1,type:`Uint8`,offset:0}];function kp(e,t,n,r,i,a,o,s,c,l,u,d,f){var p=s?Math.min(Sp,Math.round(s[0])):0,m=s?Math.min(Sp,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(r*32),Math.round(i*32),a,o,(p<<1)+(c?1:0),m,l*16,u*16,d*256,f*256)}function Ap(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function jp(e){for(var t=0,n=e.sections;t<n.length;t+=1){var r=n[t];if(go(r.text))return!0}return!1}var Mp=function(e){this.layoutVertexArray=new ss,this.indexArray=new ms,this.programConfigurations=e,this.segments=new Fs,this.dynamicLayoutVertexArray=new cs,this.opacityVertexArray=new ls,this.placedSymbolArray=new Ds};Mp.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Mp.prototype.upload=function(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,vd.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,yd.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,Op,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))},Mp.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Za(`SymbolBuffers`,Mp);var Np=function(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new Fs,this.collisionVertexArray=new ps};Np.prototype.upload=function(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,bd.members,!0)},Np.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Za(`CollisionBuffers`,Np);var Pp=function(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(function(e){return e.id}),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Gc([]),this.placementViewportMatrix=Gc([]);var t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Hf(this.zoom,t[`text-size`]),this.iconSizeData=Hf(this.zoom,t[`icon-size`]);var n=this.layers[0].layout,r=n.get(`symbol-sort-key`),i=n.get(`symbol-z-order`);this.sortFeaturesByKey=i!==`viewport-y`&&r.constantOr(1)!==void 0,this.sortFeaturesByY=(i===`viewport-y`||i===`auto`&&!this.sortFeaturesByKey)&&(n.get(`text-allow-overlap`)||n.get(`icon-allow-overlap`)||n.get(`text-ignore-placement`)||n.get(`icon-ignore-placement`)),n.get(`symbol-placement`)===`point`&&(this.writingModes=n.get(`text-writing-mode`).map(function(e){return gf[e]})),this.stateDependentLayerIds=this.layers.filter(function(e){return e.isStateDependent()}).map(function(e){return e.id}),this.sourceID=e.sourceID};Pp.prototype.createArrays=function(){this.text=new Mp(new uc(vd.members,this.layers,this.zoom,function(e){return/^text/.test(e)})),this.icon=new Mp(new uc(vd.members,this.layers,this.zoom,function(e){return/^icon/.test(e)})),this.glyphOffsetArray=new As,this.lineVertexArray=new js,this.symbolInstances=new ks},Pp.prototype.calculateGlyphDependencies=function(e,t,n,r,i){for(var a=0;a<e.length;a++)if(t[e.charCodeAt(a)]=!0,(n||r)&&i){var o=Ed[e.charAt(a)];o&&(t[o.charCodeAt(0)]=!0)}},Pp.prototype.populate=function(e,t,n){var r=this.layers[0],i=r.layout,a=i.get(`text-font`),o=i.get(`text-field`),s=i.get(`icon-image`),c=(o.value.kind!==`constant`||o.value.value instanceof Sn&&!o.value.value.isEmpty()||o.value.value.toString().length>0)&&(a.value.kind!==`constant`||a.value.value.length>0),l=s.value.kind!==`constant`||!!s.value.value||Object.keys(s.parameters).length>0,u=i.get(`symbol-sort-key`);if(this.features=[],!(!c&&!l)){for(var d=t.iconDependencies,f=t.glyphDependencies,p=t.availableImages,m=new jo(this.zoom),h=0,g=e;h<g.length;h+=1){var _=g[h],v=_.feature,y=_.id,b=_.index,x=_.sourceLayerIndex,S=r._featureFilter.needGeometry,C={type:v.type,id:y,properties:v.properties,geometry:S?_c(v):[]};if(r._featureFilter.filter(m,C,n)){S||(C.geometry=_c(v));var w=void 0;if(c){var T=r.getValueAndResolveTokens(`text-field`,C,n,p),E=Sn.factory(T);jp(E)&&(this.hasRTLText=!0),(!this.hasRTLText||To()===`unavailable`||this.hasRTLText&&ko.isParsed())&&(w=wd(E,r,C))}var D=void 0;if(l){var O=r.getValueAndResolveTokens(`icon-image`,C,n,p);D=O instanceof Cn?O:Cn.fromString(O)}if(!(!w&&!D)){var k=this.sortFeaturesByKey?u.evaluate(C,{},n):void 0,A={id:y,text:w,icon:D,index:b,sourceLayerIndex:x,geometry:_c(v),properties:v.properties,type:Dp[v.type],sortKey:k};if(this.features.push(A),D&&(d[D.name]=!0),w){var j=a.evaluate(C,{},n).join(`,`),M=i.get(`text-rotation-alignment`)===`map`&&i.get(`symbol-placement`)!==`point`;this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(gf.vertical)>=0;for(var N=0,P=w.sections;N<P.length;N+=1){var F=P[N];if(F.image)d[F.image.name]=!0;else{var I=ao(w.toString()),L=F.fontStack||j,R=f[L]=f[L]||{};this.calculateGlyphDependencies(F.text,R,M,this.allowVerticalPlacement,I)}}}}}}i.get(`symbol-placement`)===`line`&&(this.features=Td(this.features)),this.sortFeaturesByKey&&this.features.sort(function(e,t){return e.sortKey-t.sortKey})}},Pp.prototype.update=function(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))},Pp.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},Pp.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},Pp.prototype.upload=function(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},Pp.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},Pp.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},Pp.prototype.addToLineVertexArray=function(e,t){var n=this.lineVertexArray.length;if(e.segment!==void 0){for(var r=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]),a={},o=e.segment+1;o<t.length;o++)a[o]={x:t[o].x,y:t[o].y,tileUnitDistanceFromAnchor:r},o<t.length-1&&(r+=t[o+1].dist(t[o]));for(var s=e.segment||0;s>=0;s--)a[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(var c=0;c<t.length;c++){var l=a[c];this.lineVertexArray.emplaceBack(l.x,l.y,l.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}},Pp.prototype.addSymbols=function(e,t,n,r,i,a,o,s,c,l,u,d){for(var f=e.indexArray,p=e.layoutVertexArray,m=e.segments.prepareSegment(4*t.length,p,f,a.sortKey),h=this.glyphOffsetArray.length,g=m.vertexLength,_=this.allowVerticalPlacement&&o===gf.vertical?Math.PI/2:0,v=a.text&&a.text.sections,y=0;y<t.length;y++){var b=t[y],x=b.tl,S=b.tr,C=b.bl,w=b.br,T=b.tex,E=b.pixelOffsetTL,D=b.pixelOffsetBR,O=b.minFontScaleX,k=b.minFontScaleY,A=b.glyphOffset,j=b.isSDF,M=b.sectionIndex,N=m.vertexLength,P=A[1];kp(p,s.x,s.y,x.x,P+x.y,T.x,T.y,n,j,E.x,E.y,O,k),kp(p,s.x,s.y,S.x,P+S.y,T.x+T.w,T.y,n,j,D.x,E.y,O,k),kp(p,s.x,s.y,C.x,P+C.y,T.x,T.y+T.h,n,j,E.x,D.y,O,k),kp(p,s.x,s.y,w.x,P+w.y,T.x+T.w,T.y+T.h,n,j,D.x,D.y,O,k),Ap(e.dynamicLayoutVertexArray,s,_),f.emplaceBack(N,N+1,N+2),f.emplaceBack(N+1,N+2,N+3),m.vertexLength+=4,m.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(A[0]),(y===t.length-1||M!==t[y+1].sectionIndex)&&e.programConfigurations.populatePaintArrays(p.length,a,a.index,{},d,v&&v[M])}e.placedSymbolArray.emplaceBack(s.x,s.y,h,this.glyphOffsetArray.length-h,g,c,l,s.segment,n?n[0]:0,n?n[1]:0,r[0],r[1],o,0,!1,0,u)},Pp.prototype._addCollisionDebugVertex=function(e,t,n,r,i,a){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,i,Math.round(a.x),Math.round(a.y))},Pp.prototype.addCollisionDebugVertices=function(e,t,n,r,i,o,s){var c=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),l=c.vertexLength,u=i.layoutVertexArray,d=i.collisionVertexArray,f=s.anchorX,p=s.anchorY;this._addCollisionDebugVertex(u,d,o,f,p,new a(e,t)),this._addCollisionDebugVertex(u,d,o,f,p,new a(n,t)),this._addCollisionDebugVertex(u,d,o,f,p,new a(n,r)),this._addCollisionDebugVertex(u,d,o,f,p,new a(e,r)),c.vertexLength+=4;var m=i.indexArray;m.emplaceBack(l,l+1),m.emplaceBack(l+1,l+2),m.emplaceBack(l+2,l+3),m.emplaceBack(l+3,l),c.primitiveLength+=4},Pp.prototype.addDebugCollisionBoxes=function(e,t,n,r){for(var i=e;i<t;i++){var a=this.collisionBoxArray.get(i),o=a.x1,s=a.y1,c=a.x2,l=a.y2;this.addCollisionDebugVertices(o,s,c,l,r?this.textCollisionBox:this.iconCollisionBox,a.anchorPoint,n)}},Pp.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Np(ds,xd.members,bs),this.iconCollisionBox=new Np(ds,xd.members,bs);for(var e=0;e<this.symbolInstances.length;e++){var t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}},Pp.prototype._deserializeCollisionBoxesForSymbol=function(e,t,n,r,i,a,o,s,c){for(var l={},u=t;u<n;u++){var d=e.get(u);l.textBox={x1:d.x1,y1:d.y1,x2:d.x2,y2:d.y2,anchorPointX:d.anchorPointX,anchorPointY:d.anchorPointY},l.textFeatureIndex=d.featureIndex;break}for(var f=r;f<i;f++){var p=e.get(f);l.verticalTextBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,anchorPointX:p.anchorPointX,anchorPointY:p.anchorPointY},l.verticalTextFeatureIndex=p.featureIndex;break}for(var m=a;m<o;m++){var h=e.get(m);l.iconBox={x1:h.x1,y1:h.y1,x2:h.x2,y2:h.y2,anchorPointX:h.anchorPointX,anchorPointY:h.anchorPointY},l.iconFeatureIndex=h.featureIndex;break}for(var g=s;g<c;g++){var _=e.get(g);l.verticalIconBox={x1:_.x1,y1:_.y1,x2:_.x2,y2:_.y2,anchorPointX:_.anchorPointX,anchorPointY:_.anchorPointY},l.verticalIconFeatureIndex=_.featureIndex;break}return l},Pp.prototype.deserializeCollisionBoxes=function(e){this.collisionArrays=[];for(var t=0;t<this.symbolInstances.length;t++){var n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}},Pp.prototype.hasTextData=function(){return this.text.segments.get().length>0},Pp.prototype.hasIconData=function(){return this.icon.segments.get().length>0},Pp.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},Pp.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},Pp.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},Pp.prototype.addIndicesForPlacedSymbol=function(e,t){for(var n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+n.numGlyphs*4,i=n.vertexStartIndex;i<r;i+=4)e.indexArray.emplaceBack(i,i+1,i+2),e.indexArray.emplaceBack(i+1,i+2,i+3)},Pp.prototype.getSortedSymbolIndexes=function(e){if(this.sortedAngle===e&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var t=Math.sin(e),n=Math.cos(e),r=[],i=[],a=[],o=0;o<this.symbolInstances.length;++o){a.push(o);var s=this.symbolInstances.get(o);r.push(Math.round(t*s.anchorX+n*s.anchorY)|0),i.push(s.featureIndex)}return a.sort(function(e,t){return r[e]-r[t]||i[t]-i[e]}),a},Pp.prototype.addToSortKeyRanges=function(e,t){var n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})},Pp.prototype.sortFeatures=function(e){var t=this;if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var n=0,r=this.symbolInstanceIndexes;n<r.length;n+=1){var i=r[n],a=this.symbolInstances.get(i);this.featureSortOrder.push(a.featureIndex),[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach(function(e,n,r){e>=0&&r.indexOf(e)===n&&t.addIndicesForPlacedSymbol(t.text,e)}),a.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,a.verticalPlacedTextSymbolIndex),a.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,a.placedIconSymbolIndex),a.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,a.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Za(`SymbolBucket`,Pp,{omit:[`layers`,`collisionBoxArray`,`features`,`compareText`]}),Pp.MAX_GLYPHS=65535,Pp.addDynamicAttributes=Ap;function Fp(e,t){return t.replace(/{([^{}]+)}/g,function(t,n){return n in e?String(e[n]):``})}var Ip=new Go({"symbol-placement":new Bo(Kt.layout_symbol[`symbol-placement`]),"symbol-spacing":new Bo(Kt.layout_symbol[`symbol-spacing`]),"symbol-avoid-edges":new Bo(Kt.layout_symbol[`symbol-avoid-edges`]),"symbol-sort-key":new Vo(Kt.layout_symbol[`symbol-sort-key`]),"symbol-z-order":new Bo(Kt.layout_symbol[`symbol-z-order`]),"icon-allow-overlap":new Bo(Kt.layout_symbol[`icon-allow-overlap`]),"icon-ignore-placement":new Bo(Kt.layout_symbol[`icon-ignore-placement`]),"icon-optional":new Bo(Kt.layout_symbol[`icon-optional`]),"icon-rotation-alignment":new Bo(Kt.layout_symbol[`icon-rotation-alignment`]),"icon-size":new Vo(Kt.layout_symbol[`icon-size`]),"icon-text-fit":new Bo(Kt.layout_symbol[`icon-text-fit`]),"icon-text-fit-padding":new Bo(Kt.layout_symbol[`icon-text-fit-padding`]),"icon-image":new Vo(Kt.layout_symbol[`icon-image`]),"icon-rotate":new Vo(Kt.layout_symbol[`icon-rotate`]),"icon-padding":new Bo(Kt.layout_symbol[`icon-padding`]),"icon-keep-upright":new Bo(Kt.layout_symbol[`icon-keep-upright`]),"icon-offset":new Vo(Kt.layout_symbol[`icon-offset`]),"icon-anchor":new Vo(Kt.layout_symbol[`icon-anchor`]),"icon-pitch-alignment":new Bo(Kt.layout_symbol[`icon-pitch-alignment`]),"text-pitch-alignment":new Bo(Kt.layout_symbol[`text-pitch-alignment`]),"text-rotation-alignment":new Bo(Kt.layout_symbol[`text-rotation-alignment`]),"text-field":new Vo(Kt.layout_symbol[`text-field`]),"text-font":new Vo(Kt.layout_symbol[`text-font`]),"text-size":new Vo(Kt.layout_symbol[`text-size`]),"text-max-width":new Vo(Kt.layout_symbol[`text-max-width`]),"text-line-height":new Bo(Kt.layout_symbol[`text-line-height`]),"text-letter-spacing":new Vo(Kt.layout_symbol[`text-letter-spacing`]),"text-justify":new Vo(Kt.layout_symbol[`text-justify`]),"text-radial-offset":new Vo(Kt.layout_symbol[`text-radial-offset`]),"text-variable-anchor":new Bo(Kt.layout_symbol[`text-variable-anchor`]),"text-anchor":new Vo(Kt.layout_symbol[`text-anchor`]),"text-max-angle":new Bo(Kt.layout_symbol[`text-max-angle`]),"text-writing-mode":new Bo(Kt.layout_symbol[`text-writing-mode`]),"text-rotate":new Vo(Kt.layout_symbol[`text-rotate`]),"text-padding":new Bo(Kt.layout_symbol[`text-padding`]),"text-keep-upright":new Bo(Kt.layout_symbol[`text-keep-upright`]),"text-transform":new Vo(Kt.layout_symbol[`text-transform`]),"text-offset":new Vo(Kt.layout_symbol[`text-offset`]),"text-allow-overlap":new Bo(Kt.layout_symbol[`text-allow-overlap`]),"text-ignore-placement":new Bo(Kt.layout_symbol[`text-ignore-placement`]),"text-optional":new Bo(Kt.layout_symbol[`text-optional`])}),Lp={paint:new Go({"icon-opacity":new Vo(Kt.paint_symbol[`icon-opacity`]),"icon-color":new Vo(Kt.paint_symbol[`icon-color`]),"icon-halo-color":new Vo(Kt.paint_symbol[`icon-halo-color`]),"icon-halo-width":new Vo(Kt.paint_symbol[`icon-halo-width`]),"icon-halo-blur":new Vo(Kt.paint_symbol[`icon-halo-blur`]),"icon-translate":new Bo(Kt.paint_symbol[`icon-translate`]),"icon-translate-anchor":new Bo(Kt.paint_symbol[`icon-translate-anchor`]),"text-opacity":new Vo(Kt.paint_symbol[`text-opacity`]),"text-color":new Vo(Kt.paint_symbol[`text-color`],{runtimeType:an,getOverride:function(e){return e.textColor},hasOverride:function(e){return!!e.textColor}}),"text-halo-color":new Vo(Kt.paint_symbol[`text-halo-color`]),"text-halo-width":new Vo(Kt.paint_symbol[`text-halo-width`]),"text-halo-blur":new Vo(Kt.paint_symbol[`text-halo-blur`]),"text-translate":new Bo(Kt.paint_symbol[`text-translate`]),"text-translate-anchor":new Bo(Kt.paint_symbol[`text-translate-anchor`])}),layout:Ip},Rp=function(e){this.type=e.property.overrides?e.property.overrides.runtimeType:en,this.defaultValue=e};Rp.prototype.evaluate=function(e){if(e.formattedSection){var t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default},Rp.prototype.eachChild=function(e){if(!this.defaultValue.isConstant()){var t=this.defaultValue.value;e(t._styleExpression.expression)}},Rp.prototype.outputDefined=function(){return!1},Rp.prototype.serialize=function(){return null},Za(`FormatSectionOverride`,Rp,{omit:[`defaultValue`]});var zp=function(e){function t(t){e.call(this,t,Lp)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.recalculate=function(t,n){if(e.prototype.recalculate.call(this,t,n),this.layout.get(`icon-rotation-alignment`)===`auto`&&(this.layout.get(`symbol-placement`)===`point`?this.layout._values[`icon-rotation-alignment`]=`viewport`:this.layout._values[`icon-rotation-alignment`]=`map`),this.layout.get(`text-rotation-alignment`)===`auto`&&(this.layout.get(`symbol-placement`)===`point`?this.layout._values[`text-rotation-alignment`]=`viewport`:this.layout._values[`text-rotation-alignment`]=`map`),this.layout.get(`text-pitch-alignment`)===`auto`&&(this.layout._values[`text-pitch-alignment`]=this.layout.get(`text-rotation-alignment`)),this.layout.get(`icon-pitch-alignment`)===`auto`&&(this.layout._values[`icon-pitch-alignment`]=this.layout.get(`icon-rotation-alignment`)),this.layout.get(`symbol-placement`)===`point`){var r=this.layout.get(`text-writing-mode`);if(r){for(var i=[],a=0,o=r;a<o.length;a+=1){var s=o[a];i.indexOf(s)<0&&i.push(s)}this.layout._values[`text-writing-mode`]=i}else this.layout._values[`text-writing-mode`]=[`horizontal`]}this._setPaintOverrides()},t.prototype.getValueAndResolveTokens=function(e,t,n,r){var i=this.layout.get(e).evaluate(t,{},n,r),a=this._unevaluatedLayout._values[e];return!a.isDataDriven()&&!Ki(a.value)&&i?Fp(t.properties,i):i},t.prototype.createBucket=function(e){return new Pp(e)},t.prototype.queryRadius=function(){return 0},t.prototype.queryIntersectsFeature=function(){return!1},t.prototype._setPaintOverrides=function(){for(var e=0,n=Lp.paint.overridableProperties;e<n.length;e+=1){var r=n[e];if(t.hasPaintOverride(this.layout,r)){var i=this.paint.get(r),a=new Gi(new Rp(i),i.property.specification),o=null;o=i.value.kind===`constant`||i.value.kind===`source`?new Ji(`source`,a):new Yi(`composite`,a,i.value.zoomStops,i.value._interpolationType),this.paint._values[r]=new Ro(i.property,o,i.parameters)}}},t.prototype._handleOverridablePaintPropertyUpdate=function(e,n,r){return!this.layout||n.isDataDriven()||r.isDataDriven()?!1:t.hasPaintOverride(this.layout,e)},t.hasPaintOverride=function(e,t){var n=e.get(`text-field`),r=Lp.paint.properties[t],i=!1,a=function(e){for(var t=0,n=e;t<n.length;t+=1){var a=n[t];if(r.overrides&&r.overrides.hasOverride(a)){i=!0;return}}};if(n.value.kind===`constant`&&n.value.value instanceof Sn)a(n.value.value.sections);else if(n.value.kind===`source`){var o=function(e){if(!i)if(e instanceof On&&En(e.value)===un){var t=e.value;a(t.sections)}else e instanceof Mn?a(e.sections):e.eachChild(o)},s=n.value;s._styleExpression&&o(s._styleExpression.expression)}return i},t}(qo),Bp={paint:new Go({"background-color":new Bo(Kt.paint_background[`background-color`]),"background-pattern":new Uo(Kt.paint_background[`background-pattern`]),"background-opacity":new Bo(Kt.paint_background[`background-opacity`])})},Vp=function(e){function t(t){e.call(this,t,Bp)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(qo),Hp={paint:new Go({"raster-opacity":new Bo(Kt.paint_raster[`raster-opacity`]),"raster-hue-rotate":new Bo(Kt.paint_raster[`raster-hue-rotate`]),"raster-brightness-min":new Bo(Kt.paint_raster[`raster-brightness-min`]),"raster-brightness-max":new Bo(Kt.paint_raster[`raster-brightness-max`]),"raster-saturation":new Bo(Kt.paint_raster[`raster-saturation`]),"raster-contrast":new Bo(Kt.paint_raster[`raster-contrast`]),"raster-resampling":new Bo(Kt.paint_raster[`raster-resampling`]),"raster-fade-duration":new Bo(Kt.paint_raster[`raster-fade-duration`])})},Up=function(e){function t(t){e.call(this,t,Hp)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(qo);function Wp(e){var t=[],n=e.id;return n===void 0&&t.push({message:`layers.`+n+`: missing required property "id"`}),e.render===void 0&&t.push({message:`layers.`+n+`: missing required method "render"`}),e.renderingMode&&e.renderingMode!==`2d`&&e.renderingMode!==`3d`&&t.push({message:`layers.`+n+`: property "renderingMode" must be either "2d" or "3d"`}),t}var Gp=function(e){function t(t){e.call(this,t,{}),this.implementation=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.is3D=function(){return this.implementation.renderingMode===`3d`},t.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},t.prototype.recalculate=function(){},t.prototype.updateTransitions=function(){},t.prototype.hasTransition=function(){},t.prototype.serialize=function(){},t.prototype.onAdd=function(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},t.prototype.onRemove=function(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},t}(qo),Kp={circle:yl,heatmap:Al,hillshade:Ml,fill:Eu,"fill-extrusion":Xu,line:hd,symbol:zp,background:Vp,raster:Up};function qp(e){return e.type===`custom`?new Gp(e):new Kp[e.type](e)}var Jp=self.HTMLImageElement,Yp=self.HTMLCanvasElement,Xp=self.HTMLVideoElement,Zp=self.ImageData,Qp=self.ImageBitmap,$p=function(e,t,n,r){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)};$p.prototype.update=function(e,t,n){var r=e.width,i=e.height,a=(!this.size||this.size[0]!==r||this.size[1]!==i)&&!n,o=this.context,s=o.gl;if(this.useMipmap=!!(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||t.premultiply!==!1)),a)this.size=[r,i],e instanceof Jp||e instanceof Yp||e instanceof Xp||e instanceof Zp||Qp&&e instanceof Qp?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{var c=n||{x:0,y:0},l=c.x,u=c.y;e instanceof Jp||e instanceof Yp||e instanceof Xp||e instanceof Zp||Qp&&e instanceof Qp?s.texSubImage2D(s.TEXTURE_2D,0,l,u,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,l,u,r,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D)},$p.prototype.bind=function(e,t,n){var r=this.context.gl;r.bindTexture(r.TEXTURE_2D,this.texture),n===r.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(n=r.LINEAR),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)},$p.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},$p.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var em=function(e){var t=this;this._callback=e,this._triggered=!1,typeof MessageChannel<`u`&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){t._triggered=!1,t._callback()})};em.prototype.trigger=function(){var e=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){e._triggered=!1,e._callback()},0))},em.prototype.remove=function(){delete this._channel,this._callback=function(){}};var tm=function(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},S([`receive`,`process`],this),this.invoker=new em(this.process),this.target.addEventListener(`message`,this.receive,!1),this.globalScope=N()?e:self};tm.prototype.send=function(e,t,n,r,i){var a=this;i===void 0&&(i=!1);var o=Math.round(Math.random()*0xde0b6b3a7640000).toString(36).substring(0,10);n&&(this.callbacks[o]=n);var s=I(this.globalScope)?void 0:[];return this.target.postMessage({id:o,type:e,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:to(t,s)},s),{cancel:function(){n&&delete a.callbacks[o],a.target.postMessage({id:o,type:`<cancel>`,targetMapId:r,sourceMapId:a.mapId})}}},tm.prototype.receive=function(e){var t=e.data,n=t.id;if(n&&!(t.targetMapId&&this.mapId!==t.targetMapId))if(t.type===`<cancel>`){delete this.tasks[n];var r=this.cancelCallbacks[n];delete this.cancelCallbacks[n],r&&r()}else N()||t.mustQueue?(this.tasks[n]=t,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,t)},tm.prototype.process=function(){if(this.taskQueue.length){var e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}},tm.prototype.processTask=function(e,t){var n=this;if(t.type===`<response>`){var r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(no(t.error)):r(null,no(t.data)))}else{var i=!1,a=I(this.globalScope)?void 0:[],o=t.hasCallback?function(t,r){i=!0,delete n.cancelCallbacks[e],n.target.postMessage({id:e,type:`<response>`,sourceMapId:n.mapId,error:t?to(t):null,data:to(r,a)},a)}:function(e){i=!0},s=null,c=no(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,c,o);else if(this.parent.getWorkerSource){var l=t.type.split(`.`);s=this.parent.getWorkerSource(t.sourceMapId,l[0],c.source)[l[1]](c,o)}else o(Error(`Could not find function `+t.type));!i&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}},tm.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener(`message`,this.receive,!1)};function nm(e,t,n){t=2**n-t-1;var r=rm(e*256,t*256,n),i=rm((e+1)*256,(t+1)*256,n);return r[0]+`,`+r[1]+`,`+i[0]+`,`+i[1]}function rm(e,t,n){var r=2*Math.PI*6378137/256/2**n;return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}var im=function(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):e.length===4?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))};im.prototype.setNorthEast=function(e){return this._ne=e instanceof om?new om(e.lng,e.lat):om.convert(e),this},im.prototype.setSouthWest=function(e){return this._sw=e instanceof om?new om(e.lng,e.lat):om.convert(e),this},im.prototype.extend=function(e){var t=this._sw,n=this._ne,r,i;if(e instanceof om)r=e,i=e;else if(e instanceof im){if(r=e._sw,i=e._ne,!r||!i)return this}else{if(Array.isArray(e))if(e.length===4||e.every(Array.isArray)){var a=e;return this.extend(im.convert(a))}else{var o=e;return this.extend(om.convert(o))}return this}return!t&&!n?(this._sw=new om(r.lng,r.lat),this._ne=new om(i.lng,i.lat)):(t.lng=Math.min(r.lng,t.lng),t.lat=Math.min(r.lat,t.lat),n.lng=Math.max(i.lng,n.lng),n.lat=Math.max(i.lat,n.lat)),this},im.prototype.getCenter=function(){return new om((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},im.prototype.getSouthWest=function(){return this._sw},im.prototype.getNorthEast=function(){return this._ne},im.prototype.getNorthWest=function(){return new om(this.getWest(),this.getNorth())},im.prototype.getSouthEast=function(){return new om(this.getEast(),this.getSouth())},im.prototype.getWest=function(){return this._sw.lng},im.prototype.getSouth=function(){return this._sw.lat},im.prototype.getEast=function(){return this._ne.lng},im.prototype.getNorth=function(){return this._ne.lat},im.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},im.prototype.toString=function(){return`LngLatBounds(`+this._sw.toString()+`, `+this._ne.toString()+`)`},im.prototype.isEmpty=function(){return!(this._sw&&this._ne)},im.prototype.contains=function(e){var t=om.convert(e),n=t.lng,r=t.lat,i=this._sw.lat<=r&&r<=this._ne.lat,a=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(a=this._sw.lng>=n&&n>=this._ne.lng),i&&a},im.convert=function(e){return!e||e instanceof im?e:new im(e)};var am=6371008.8,om=function(e,t){if(isNaN(e)||isNaN(t))throw Error(`Invalid LngLat object: (`+e+`, `+t+`)`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw Error(`Invalid LngLat latitude value: must be between -90 and 90`)};om.prototype.wrap=function(){return new om(f(this.lng,-180,180),this.lat)},om.prototype.toArray=function(){return[this.lng,this.lat]},om.prototype.toString=function(){return`LngLat(`+this.lng+`, `+this.lat+`)`},om.prototype.distanceTo=function(e){var t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return am*Math.acos(Math.min(i,1))},om.prototype.toBounds=function(e){e===void 0&&(e=0);var t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new im(new om(this.lng-n,this.lat-t),new om(this.lng+n,this.lat+t))},om.convert=function(e){if(e instanceof om)return e;if(Array.isArray(e)&&(e.length===2||e.length===3))return new om(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&typeof e==`object`&&e)return new om(Number(`lng`in e?e.lng:e.lon),Number(e.lat));throw Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var sm=2*Math.PI*am;function cm(e){return sm*Math.cos(e*Math.PI/180)}function lm(e){return(180+e)/360}function um(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function dm(e,t){return e/cm(t)}function fm(e){return e*360-180}function pm(e){var t=180-e*360;return 360/Math.PI*Math.atan(Math.exp(t*Math.PI/180))-90}function mm(e,t){return e*cm(pm(t))}function hm(e){return 1/Math.cos(e*Math.PI/180)}var gm=function(e,t,n){n===void 0&&(n=0),this.x=+e,this.y=+t,this.z=+n};gm.fromLngLat=function(e,t){t===void 0&&(t=0);var n=om.convert(e);return new gm(lm(n.lng),um(n.lat),dm(t,n.lat))},gm.prototype.toLngLat=function(){return new om(fm(this.x),pm(this.y))},gm.prototype.toAltitude=function(){return mm(this.z,this.y)},gm.prototype.meterInMercatorCoordinateUnits=function(){return 1/sm*hm(pm(this.y))};var _m=function(e,t,n){this.z=e,this.x=t,this.y=n,this.key=bm(0,e,e,t,n)};_m.prototype.equals=function(e){return this.z===e.z&&this.x===e.x&&this.y===e.y},_m.prototype.url=function(e,t){var n=nm(this.x,this.y,this.z),r=xm(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(`{prefix}`,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(`{z}`,String(this.z)).replace(`{x}`,String(this.x)).replace(`{y}`,String(t===`tms`?2**this.z-this.y-1:this.y)).replace(`{quadkey}`,r).replace(`{bbox-epsg-3857}`,n)},_m.prototype.getTilePoint=function(e){var t=2**this.z;return new a((e.x*t-this.x)*mc,(e.y*t-this.y)*mc)},_m.prototype.toString=function(){return this.z+`/`+this.x+`/`+this.y};var vm=function(e,t){this.wrap=e,this.canonical=t,this.key=bm(e,t.z,t.z,t.x,t.y)},ym=function(e,t,n,r,i){this.overscaledZ=e,this.wrap=t,this.canonical=new _m(n,+r,+i),this.key=bm(t,e,n,r,i)};ym.prototype.equals=function(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)},ym.prototype.scaledTo=function(e){var t=this.canonical.z-e;return e>this.canonical.z?new ym(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ym(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)},ym.prototype.calculateScaledKey=function(e,t){var n=this.canonical.z-e;return e>this.canonical.z?bm(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):bm(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)},ym.prototype.isChildOf=function(e){if(e.wrap!==this.wrap)return!1;var t=this.canonical.z-e.canonical.z;return e.overscaledZ===0||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t},ym.prototype.children=function(e){if(this.overscaledZ>=e)return[new ym(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var t=this.canonical.z+1,n=this.canonical.x*2,r=this.canonical.y*2;return[new ym(t,this.wrap,t,n,r),new ym(t,this.wrap,t,n+1,r),new ym(t,this.wrap,t,n,r+1),new ym(t,this.wrap,t,n+1,r+1)]},ym.prototype.isLessThan=function(e){return this.wrap<e.wrap?!0:this.wrap>e.wrap?!1:this.overscaledZ<e.overscaledZ?!0:this.overscaledZ>e.overscaledZ?!1:this.canonical.x<e.canonical.x?!0:this.canonical.x>e.canonical.x?!1:this.canonical.y<e.canonical.y},ym.prototype.wrapped=function(){return new ym(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},ym.prototype.unwrapTo=function(e){return new ym(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)},ym.prototype.overscaleFactor=function(){return 2**(this.overscaledZ-this.canonical.z)},ym.prototype.toUnwrapped=function(){return new vm(this.wrap,this.canonical)},ym.prototype.toString=function(){return this.overscaledZ+`/`+this.canonical.x+`/`+this.canonical.y},ym.prototype.getTilePoint=function(e){return this.canonical.getTilePoint(new gm(e.x-this.wrap,e.y))};function bm(e,t,n,r,i){e*=2,e<0&&(e=e*-1-1);var a=1<<n;return(a*a*e+a*i+r).toString(36)+n.toString(36)+t.toString(36)}function xm(e,t,n){for(var r=``,i,a=e;a>0;a--)i=1<<a-1,r+=(t&i?1:0)+(n&i?2:0);return r}Za(`CanonicalTileID`,_m),Za(`OverscaledTileID`,ym,{omit:[`posMatrix`]});var Sm=function(e,t,n){if(this.uid=e,t.height!==t.width)throw RangeError(`DEM tiles must be square`);if(n&&n!==`mapbox`&&n!==`terrarium`)return k(`"`+n+`" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=t.height;var r=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=n||`mapbox`;for(var i=0;i<r;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(r,i)]=this.data[this._idx(r-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,r)]=this.data[this._idx(i,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)]};Sm.prototype.get=function(e,t){var n=new Uint8Array(this.data.buffer),r=this._idx(e,t)*4;return(this.encoding===`terrarium`?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])},Sm.prototype.getUnpackVector=function(){return this.encoding===`terrarium`?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Sm.prototype._idx=function(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw RangeError(`out of range source coordinates for DEM data`);return(t+1)*this.stride+(e+1)},Sm.prototype._unpackMapbox=function(e,t,n){return(e*256*256+t*256+n)/10-1e4},Sm.prototype._unpackTerrarium=function(e,t,n){return e*256+t+n/256-32768},Sm.prototype.getPixels=function(){return new Dl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Sm.prototype.backfillBorder=function(e,t,n){if(this.dim!==e.dim)throw Error(`dem dimension mismatch`);var r=t*this.dim,i=t*this.dim+this.dim,a=n*this.dim,o=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1;break}switch(n){case-1:a=o-1;break;case 1:o=a+1;break}for(var s=-t*this.dim,c=-n*this.dim,l=a;l<o;l++)for(var u=r;u<i;u++)this.data[this._idx(u,l)]=e.data[this._idx(u+s,l+c)]},Za(`DEMData`,Sm);function Cm(e,t){var n={};if(!t)return n;for(var r=function(){var e=a[i],r=e.layerIds.map(function(e){return t.getLayer(e)}).filter(Boolean);if(r.length!==0){e.layers=r,e.stateDependentLayerIds&&(e.stateDependentLayers=e.stateDependentLayerIds.map(function(e){return r.filter(function(t){return t.id===e})[0]}));for(var o=0,s=r;o<s.length;o+=1){var c=s[o];n[c.id]=e}}},i=0,a=e;i<a.length;i+=1)r();return n}var wm=function(e){this._stringToNumber={},this._numberToString=[];for(var t=0;t<e.length;t++){var n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}};wm.prototype.encode=function(e){return this._stringToNumber[e]},wm.prototype.decode=function(e){return this._numberToString[e]};var Tm=function(e,t,n,r,i){this.type=`Feature`,this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,this.id=i},Em={geometry:{configurable:!0}};Em.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Em.geometry.set=function(e){this._geometry=e},Tm.prototype.toJSON=function(){var e={geometry:this.geometry};for(var t in this)t===`_geometry`||t===`_vectorTileFeature`||(e[t]=this[t]);return e},Object.defineProperties(Tm.prototype,Em);var Dm=function(){this.state={},this.stateChanges={},this.deletedStates={}};Dm.prototype.updateState=function(e,t,n){var r=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][r]=this.stateChanges[e][r]||{},g(this.stateChanges[e][r],n),this.deletedStates[e]===null)for(var i in this.deletedStates[e]={},this.state[e])i!==r&&(this.deletedStates[e][i]=null);else if(this.deletedStates[e]&&this.deletedStates[e][r]===null)for(var a in this.deletedStates[e][r]={},this.state[e][r])n[a]||(this.deletedStates[e][r][a]=null);else for(var o in n)this.deletedStates[e]&&this.deletedStates[e][r]&&this.deletedStates[e][r][o]===null&&delete this.deletedStates[e][r][o]},Dm.prototype.removeFeatureState=function(e,t,n){if(this.deletedStates[e]!==null){var r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&t!==void 0)this.deletedStates[e][r]!==null&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(t!==void 0)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}},Dm.prototype.getState=function(e,t){var n=String(t),r=this.state[e]||{},i=this.stateChanges[e]||{},a=g({},r[n],i[n]);if(this.deletedStates[e]===null)return{};if(this.deletedStates[e]){var o=this.deletedStates[e][t];if(o===null)return{};for(var s in o)delete a[s]}return a},Dm.prototype.initializeTileState=function(e,t){e.setFeatureState(this.state,t)},Dm.prototype.coalesceChanges=function(e,t){var n={};for(var r in this.stateChanges){this.state[r]=this.state[r]||{};var i={};for(var a in this.stateChanges[r])this.state[r][a]||(this.state[r][a]={}),g(this.state[r][a],this.stateChanges[r][a]),i[a]=this.state[r][a];n[r]=i}for(var o in this.deletedStates){this.state[o]=this.state[o]||{};var s={};if(this.deletedStates[o]===null)for(var c in this.state[o])s[c]={},this.state[o][c]={};else for(var l in this.deletedStates[o]){if(this.deletedStates[o][l]===null)this.state[o][l]={};else for(var u=0,d=Object.keys(this.deletedStates[o][l]);u<d.length;u+=1){var f=d[u];delete this.state[o][l][f]}s[l]=this.state[o][l]}n[o]=n[o]||{},g(n[o],s)}if(this.stateChanges={},this.deletedStates={},Object.keys(n).length!==0)for(var p in e)e[p].setFeatureState(n,t)};var Om=function(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Ga(mc,16,0),this.grid3D=new Ga(mc,16,0),this.featureIndexArray=new Ns,this.promoteId=t};Om.prototype.insert=function(e,t,n,r,i,a){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);for(var s=a?this.grid3D:this.grid,c=0;c<t.length;c++){for(var l=t[c],u=[1/0,1/0,-1/0,-1/0],d=0;d<l.length;d++){var f=l[d];u[0]=Math.min(u[0],f.x),u[1]=Math.min(u[1],f.y),u[2]=Math.max(u[2],f.x),u[3]=Math.max(u[3],f.y)}u[0]<mc&&u[1]<mc&&u[2]>=0&&u[3]>=0&&s.insert(o,u[0],u[1],u[2],u[3])}},Om.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Vu.VectorTile(new Ad(this.rawTileData)).layers,this.sourceLayerCoder=new wm(this.vtLayers?Object.keys(this.vtLayers).sort():[`_geojsonTileLayer`])),this.vtLayers},Om.prototype.query=function(e,t,n,r){var i=this;this.loadVTLayers();for(var a=e.params||{},o=mc/e.tileSize/e.scale,s=fa(a.filter),c=e.queryGeometry,l=e.queryPadding*o,u=Am(c),d=this.grid.query(u.minX-l,u.minY-l,u.maxX+l,u.maxY+l),f=Am(e.cameraQueryGeometry),p=this.grid3D.query(f.minX-l,f.minY-l,f.maxX+l,f.maxY+l,function(t,n,r,i){return jc(e.cameraQueryGeometry,t-l,n-l,r+l,i+l)}),m=0,h=p;m<h.length;m+=1){var g=h[m];d.push(g)}d.sort(jm);for(var _={},v,y=function(l){var u=d[l];if(u!==v){v=u;var f=i.featureIndexArray.get(u),p=null;i.loadMatchingFeature(_,f.bucketIndex,f.sourceLayerIndex,f.featureIndex,s,a.layers,a.availableImages,t,n,r,function(t,n,r){return p||=_c(t),n.queryIntersectsFeature(c,t,r,p,i.z,e.transform,o,e.pixelPosMatrix)})}},b=0;b<d.length;b++)y(b);return _},Om.prototype.loadMatchingFeature=function(e,t,n,r,i,a,o,s,c,l,u){var d=this.bucketLayerIDs[t];if(!(a&&!D(a,d))){var f=this.sourceLayerCoder.decode(n),p=this.vtLayers[f].feature(r);if(i.filter(new jo(this.tileID.overscaledZ),p))for(var m=this.getId(p,f),h=0;h<d.length;h++){var g=d[h];if(!(a&&a.indexOf(g)<0)){var _=s[g];if(_){var v={};m!==void 0&&l&&(v=l.getState(_.sourceLayer||`_geojsonTileLayer`,m));var y=c[g];y.paint=km(y.paint,_.paint,p,v,o),y.layout=km(y.layout,_.layout,p,v,o);var b=!u||u(p,_,v);if(b){var x=new Tm(p,this.z,this.x,this.y,m);x.layer=y;var S=e[g];S===void 0&&(S=e[g]=[]),S.push({featureIndex:r,feature:x,intersectionZ:b})}}}}}},Om.prototype.lookupSymbolFeatures=function(e,t,n,r,i,a,o,s){var c={};this.loadVTLayers();for(var l=fa(i),u=0,d=e;u<d.length;u+=1){var f=d[u];this.loadMatchingFeature(c,n,r,f,l,a,o,s,t)}return c},Om.prototype.hasLayer=function(e){for(var t=0,n=this.bucketLayerIDs;t<n.length;t+=1)for(var r=n[t],i=0,a=r;i<a.length;i+=1)if(e===a[i])return!0;return!1},Om.prototype.getId=function(e,t){var n=e.id;if(this.promoteId){var r=typeof this.promoteId==`string`?this.promoteId:this.promoteId[t];n=e.properties[r],typeof n==`boolean`&&(n=Number(n))}return n},Za(`FeatureIndex`,Om,{omit:[`rawTileData`,`sourceLayerCoder`]});function km(e,t,n,r,i){return w(e,function(e,a){var o=t instanceof zo?t.get(a):null;return o&&o.evaluate?o.evaluate(n,r,i):o})}function Am(e){for(var t=1/0,n=1/0,r=-1/0,i=-1/0,a=0,o=e;a<o.length;a+=1){var s=o[a];t=Math.min(t,s.x),n=Math.min(n,s.y),r=Math.max(r,s.x),i=Math.max(i,s.y)}return{minX:t,minY:n,maxX:r,maxY:i}}function jm(e,t){return t-e}var Mm=3e4,Nm=function(e,t){this.tileID=e,this.uid=y(),this.uses=0,this.tileSize=t,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state=`loading`};Nm.prototype.registerFadeDuration=function(e){var t=e+this.timeAdded;t<G.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)},Nm.prototype.wasRequested=function(){return this.state===`errored`||this.state===`loaded`||this.state===`reloading`},Nm.prototype.loadVectorData=function(e,t,n){if(this.hasData()&&this.unloadVectorData(),this.state=`loaded`,!e){this.collisionBoxArray=new Ts;return}for(var r in e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=Cm(e.buckets,t.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[r];if(i instanceof Pp)if(this.hasSymbolBuckets=!0,n)i.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var a in this.buckets){var o=this.buckets[a];if(o instanceof Pp&&o.hasRTLText){this.hasRTLText=!0,Ao();break}}for(var s in this.queryPadding=0,this.buckets){var c=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(s).queryRadius(c))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage)},Nm.prototype.unloadVectorData=function(){for(var e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&=null,this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state=`unloaded`},Nm.prototype.getBucket=function(e){return this.buckets[e.id]},Nm.prototype.upload=function(e){for(var t in this.buckets){var n=this.buckets[t];n.uploadPending()&&n.upload(e)}var r=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new $p(e,this.imageAtlas.image,r.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&=(this.glyphAtlasTexture=new $p(e,this.glyphAtlasImage,r.ALPHA),null)},Nm.prototype.prepare=function(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)},Nm.prototype.queryRenderedFeatures=function(e,t,n,r,i,a,o,s,c,l){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:a,tileSize:this.tileSize,pixelPosMatrix:l,transform:s,params:o,queryPadding:this.queryPadding*c},e,t,n)},Nm.prototype.querySourceFeatures=function(e,t){var n=this.latestFeatureIndex;if(!(!n||!n.rawTileData)){var r=n.loadVTLayers(),i=t?t.sourceLayer:``,a=r._geojsonTileLayer||r[i];if(a)for(var o=fa(t&&t.filter),s=this.tileID.canonical,c=s.z,l=s.x,u=s.y,d={z:c,x:l,y:u},f=0;f<a.length;f++){var p=a.feature(f);if(o.filter(new jo(this.tileID.overscaledZ),p)){var m=new Tm(p,c,l,u,n.getId(p,i));m.tile=d,e.push(m)}}}},Nm.prototype.hasData=function(){return this.state===`loaded`||this.state===`reloading`||this.state===`expired`},Nm.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Nm.prototype.setExpiryData=function(e){var t=this.expirationTime;if(e.cacheControl){var n=P(e.cacheControl);n[`max-age`]&&(this.expirationTime=Date.now()+n[`max-age`]*1e3)}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){var r=Date.now(),i=!1;if(this.expirationTime>r)i=!1;else if(!t)i=!0;else if(this.expirationTime<t)i=!0;else{var a=this.expirationTime-t;a?this.expirationTime=r+Math.max(a,Mm):i=!0}i?(this.expiredRequestCount++,this.state=`expired`):this.expiredRequestCount=0}},Nm.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),2**31-1)},Nm.prototype.setFeatureState=function(e,t){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(e).length===0)){var n=this.latestFeatureIndex.loadVTLayers();for(var r in this.buckets)if(t.style.hasLayer(r)){var i=this.buckets[r],a=i.layers[0].sourceLayer||`_geojsonTileLayer`,o=n[a],s=e[a];if(!(!o||!s||Object.keys(s).length===0)){i.update(s,o,this.imageAtlas&&this.imageAtlas.patternPositions||{});var c=t&&t.style&&t.style.getLayer(r);c&&(this.queryPadding=Math.max(this.queryPadding,c.queryRadius(i)))}}}},Nm.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Nm.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<G.now()},Nm.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Nm.prototype.setHoldDuration=function(e){this.symbolFadeHoldUntil=G.now()+e},Nm.prototype.setDependencies=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1){var a=i[r];n[a]=!0}this.dependencies[e]=n},Nm.prototype.hasDependency=function(e,t){for(var n=0,r=e;n<r.length;n+=1){var i=r[n],a=this.dependencies[i];if(a){for(var o=0,s=t;o<s.length;o+=1)if(a[s[o]])return!0}}return!1};var Pm=[`type`,`source`,`source-layer`,`minzoom`,`maxzoom`,`filter`,`layout`],Fm=self.performance,Im=function(e){this._marks={start:[e.url,`start`].join(`#`),end:[e.url,`end`].join(`#`),measure:e.url.toString()},Fm.mark(this._marks.start)};Im.prototype.finish=function(){Fm.mark(this._marks.end);var e=Fm.getEntriesByName(this._marks.measure);return e.length===0&&(Fm.measure(this._marks.measure,this._marks.start,this._marks.end),e=Fm.getEntriesByName(this._marks.measure),Fm.clearMarks(this._marks.start),Fm.clearMarks(this._marks.end),Fm.clearMeasures(this._marks.measure)),e},e.Actor=tm,e.AlphaImage=El,e.CanonicalTileID=_m,e.CollisionBoxArray=Ts,e.Color=yn,e.DEMData=Sm,e.DataConstantProperty=Bo,e.DictionaryCoder=wm,e.EXTENT=mc,e.ErrorEvent=ot,e.EvaluationParameters=jo,e.Event=at,e.Evented=st,e.FeatureIndex=Om,e.FillBucket=Cu,e.FillExtrusionBucket=Ku,e.ImageAtlas=hf,e.ImagePosition=pf,e.LineBucket=dd,e.LngLat=om,e.LngLatBounds=im,e.MercatorCoordinate=gm,e.ONE_EM=Od,e.OverscaledTileID=ym,e.Point=a,e.Point$1=a,e.Properties=Go,e.Protobuf=Ad,e.RGBAImage=Dl,e.RequestManager=oe,e.RequestPerformance=Im,e.ResourceType=ze,e.SegmentVector=Fs,e.SourceFeatureState=Dm,e.StructArrayLayout1ui2=xs,e.StructArrayLayout2f1f2i16=fs,e.StructArrayLayout2i4=ns,e.StructArrayLayout3ui6=ms,e.StructArrayLayout4i8=rs,e.SymbolBucket=Pp,e.Texture=$p,e.Tile=Nm,e.Transitionable=Po,e.Uniform1f=Xs,e.Uniform1i=Ys,e.Uniform2f=Zs,e.Uniform3f=Qs,e.Uniform4f=$s,e.UniformColor=ec,e.UniformMatrix4f=nc,e.UnwrappedTileID=vm,e.ValidationError=qt,e.WritingMode=gf,e.ZoomHistory=ro,e.add=rl,e.addDynamicAttributes=Ap,e.asyncAll=p,e.bezier=l,e.bindAll=S,e.browser=G,e.cacheEntryPossiblyAdded=Ne,e.clamp=d,e.clearTileCache=Fe,e.clipLine=$f,e.clone=Wc,e.clone$1=E,e.clone$2=nl,e.collisionCircleLayout=Sd,e.config=K,e.create=Uc,e.create$1=Vc,e.create$2=zc,e.createCommonjsModule=t,e.createExpression=qi,e.createLayout=$o,e.createStyleLayer=qp,e.cross=cl,e.deepEqual=s,e.dot=sl,e.dot$1=pl,e.ease=u,e.emitValidationErrors=Wa,e.endsWith=C,e.enforceCacheSizeLimit=Pe,e.evaluateSizeForFeature=Uf,e.evaluateSizeForZoom=Wf,e.evaluateVariableOffset=_p,e.evented=wo,e.extend=g,e.featureFilter=fa,e.filterObject=T,e.fromRotation=Hc,e.getAnchorAlignment=Pf,e.getAnchorJustification=yp,e.getArrayBuffer=qe,e.getImage=tt,e.getJSON=Ke,e.getRTLTextPluginStatus=To,e.getReferrer=Ve,e.getVideo=nt,e.identity=Gc,e.invert=Kc,e.isChar=io,e.isMapboxURL=se,e.keysDifference=h,e.makeRequest=Ge,e.mapObject=w,e.mercatorXfromLng=lm,e.mercatorYfromLat=um,e.mercatorZfromAltitude=dm,e.mul=el,e.multiply=qc,e.mvt=Vu,e.normalize=ol,e.number=yr,e.offscreenCanvasSupported=Re,e.ortho=$c,e.parseGlyphPBF=lf,e.pbf=Ad,e.performSymbolLayout=vp,e.perspective=Qc,e.pick=_,e.plugin=ko,e.polygonIntersectsPolygon=bc,e.postMapLoadEvent=Se,e.postTurnstileEvent=be,e.potpack=df,e.refProperties=Pm,e.register=Za,e.registerForPluginStateChange=Eo,e.rotate=Bc,e.rotateX=Xc,e.rotateZ=Zc,e.scale=Yc,e.scale$1=fl,e.scale$2=al,e.setCacheLimits=Ie,e.setRTLTextPlugin=Do,e.sphericalToCartesian=M,e.sqrLen=vl,e.styleSpec=Kt,e.sub=ul,e.symbolSize=Gf,e.transformMat3=ll,e.transformMat4=ml,e.translate=Jc,e.triggerPluginCompletionEvent=So,e.uniqueId=y,e.validateCustomStyleLayer=Wp,e.validateLight=Va,e.validateStyle=Ba,e.values=m,e.vectorTile=Vu,e.version=n,e.warnOnce=k,e.webpSupported=ee,e.window=self,e.wrap=f}),r([`./shared`],function(e){function t(e){var n=typeof e;if(n===`number`||n===`boolean`||n===`string`||e==null)return JSON.stringify(e);if(Array.isArray(e)){for(var r=`[`,i=0,a=e;i<a.length;i+=1){var o=a[i];r+=t(o)+`,`}return r+`]`}for(var s=Object.keys(e).sort(),c=`{`,l=0;l<s.length;l++)c+=JSON.stringify(s[l])+`:`+t(e[s[l]])+`,`;return c+`}`}function n(n){for(var r=``,i=0,a=e.refProperties;i<a.length;i+=1){var o=a[i];r+=`/`+t(n[o])}return r}function r(e,t){for(var r={},i=0;i<e.length;i++){var a=t&&t[e[i].id]||n(e[i]);t&&(t[e[i].id]=a);var o=r[a];o||=r[a]=[],o.push(e[i])}var s=[];for(var c in r)s.push(r[c]);return s}var i=function(e){this.keyCache={},e&&this.replace(e)};i.prototype.replace=function(e){this._layerConfigs={},this._layers={},this.update(e,[])},i.prototype.update=function(t,n){for(var i=this,a=0,o=t;a<o.length;a+=1){var s=o[a];this._layerConfigs[s.id]=s;var c=this._layers[s.id]=e.createStyleLayer(s);c._featureFilter=e.featureFilter(c.filter),this.keyCache[s.id]&&delete this.keyCache[s.id]}for(var l=0,u=n;l<u.length;l+=1){var d=u[l];delete this.keyCache[d],delete this._layerConfigs[d],delete this._layers[d]}this.familiesBySource={};for(var f=r(e.values(this._layerConfigs),this.keyCache),p=0,m=f;p<m.length;p+=1){var h=m[p].map(function(e){return i._layers[e.id]}),g=h[0];if(g.visibility!==`none`){var _=g.source||``,v=this.familiesBySource[_];v||=this.familiesBySource[_]={};var y=g.sourceLayer||`_geojsonTileLayer`,b=v[y];b||=v[y]=[],b.push(h)}}};var a=1,o=function(t){var n={},r=[];for(var i in t){var o=t[i],s=n[i]={};for(var c in o){var l=o[+c];if(!(!l||l.bitmap.width===0||l.bitmap.height===0)){var u={x:0,y:0,w:l.bitmap.width+2*a,h:l.bitmap.height+2*a};r.push(u),s[c]={rect:u,metrics:l.metrics}}}}var d=e.potpack(r),f=d.w,p=d.h,m=new e.AlphaImage({width:f||1,height:p||1});for(var h in t){var g=t[h];for(var _ in g){var v=g[+_];if(!(!v||v.bitmap.width===0||v.bitmap.height===0)){var y=n[h][_].rect;e.AlphaImage.copy(v.bitmap,m,{x:0,y:0},{x:y.x+a,y:y.y+a},v.bitmap)}}}this.image=m,this.positions=n};e.register(`GlyphAtlas`,o);var s=function(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId};s.prototype.parse=function(t,n,r,i,a){var s=this;this.status=`parsing`,this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;var l=new e.DictionaryCoder(Object.keys(t.layers).sort()),u=new e.FeatureIndex(this.tileID,this.promoteId);u.bucketLayerIDs=[];var d={},f={featureIndex:u,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},p=n.familiesBySource[this.source];for(var m in p){var h=t.layers[m];if(h){h.version===1&&e.warnOnce(`Vector tile source "`+this.source+`" layer "`+m+`" does not use vector tile spec v2 and therefore may have some rendering errors.`);for(var g=l.encode(m),_=[],v=0;v<h.length;v++){var y=h.feature(v),b=u.getId(y,m);_.push({feature:y,id:b,index:v,sourceLayerIndex:g})}for(var x=0,S=p[m];x<S.length;x+=1){var C=S[x],w=C[0];w.minzoom&&this.zoom<Math.floor(w.minzoom)||w.maxzoom&&this.zoom>=w.maxzoom||w.visibility!==`none`&&(c(C,this.zoom,r),(d[w.id]=w.createBucket({index:u.bucketLayerIDs.length,layers:C,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:g,sourceID:this.source})).populate(_,f,this.tileID.canonical),u.bucketLayerIDs.push(C.map(function(e){return e.id})))}}}var T,E,D,O,k=e.mapObject(f.glyphDependencies,function(e){return Object.keys(e).map(Number)});Object.keys(k).length?i.send(`getGlyphs`,{uid:this.uid,stacks:k},function(e,t){T||(T=e,E=t,M.call(s))}):E={};var A=Object.keys(f.iconDependencies);A.length?i.send(`getImages`,{icons:A,source:this.source,tileID:this.tileID,type:`icons`},function(e,t){T||(T=e,D=t,M.call(s))}):D={};var j=Object.keys(f.patternDependencies);j.length?i.send(`getImages`,{icons:j,source:this.source,tileID:this.tileID,type:`patterns`},function(e,t){T||(T=e,O=t,M.call(s))}):O={},M.call(this);function M(){if(T)return a(T);if(E&&D&&O){var t=new o(E),n=new e.ImageAtlas(D,O);for(var i in d){var s=d[i];s instanceof e.SymbolBucket?(c(s.layers,this.zoom,r),e.performSymbolLayout(s,E,t.positions,D,n.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):s.hasPattern&&(s instanceof e.LineBucket||s instanceof e.FillBucket||s instanceof e.FillExtrusionBucket)&&(c(s.layers,this.zoom,r),s.addFeatures(f,this.tileID.canonical,n.patternPositions))}this.status=`done`,a(null,{buckets:e.values(d).filter(function(e){return!e.isEmpty()}),featureIndex:u,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?E:null,iconMap:this.returnDependencies?D:null,glyphPositions:this.returnDependencies?t.positions:null})}}};function c(t,n,r){for(var i=new e.EvaluationParameters(n),a=0,o=t;a<o.length;a+=1)o[a].recalculate(i,r)}function l(t,n){var r=e.getArrayBuffer(t.request,function(t,r,i,a){t?n(t):r&&n(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(r)),rawData:r,cacheControl:i,expires:a})});return function(){r.cancel(),n()}}var u=function(e,t,n,r){this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=r||l,this.loading={},this.loaded={}};u.prototype.loadTile=function(t,n){var r=this,i=t.uid;this.loading||={};var a=t&&t.request&&t.request.collectResourceTiming?new e.RequestPerformance(t.request):!1,o=this.loading[i]=new s(t);o.abort=this.loadVectorData(t,function(t,s){if(delete r.loading[i],t||!s)return o.status=`done`,r.loaded[i]=o,n(t);var c=s.rawData,l={};s.expires&&(l.expires=s.expires),s.cacheControl&&(l.cacheControl=s.cacheControl);var u={};if(a){var d=a.finish();d&&(u.resourceTiming=JSON.parse(JSON.stringify(d)))}o.vectorTile=s.vectorTile,o.parse(s.vectorTile,r.layerIndex,r.availableImages,r.actor,function(t,r){if(t||!r)return n(t);n(null,e.extend({rawTileData:c.slice(0)},r,l,u))}),r.loaded=r.loaded||{},r.loaded[i]=o})},u.prototype.reloadTile=function(e,t){var n=this,r=this.loaded,i=e.uid,a=this;if(r&&r[i]){var o=r[i];o.showCollisionBoxes=e.showCollisionBoxes;var s=function(e,r){var i=o.reloadCallback;i&&(delete o.reloadCallback,o.parse(o.vectorTile,a.layerIndex,n.availableImages,a.actor,i)),t(e,r)};o.status===`parsing`?o.reloadCallback=s:o.status===`done`&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},u.prototype.abortTile=function(e,t){var n=this.loading,r=e.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),t()},u.prototype.removeTile=function(e,t){var n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()};var d=e.window.ImageBitmap,f=function(){this.loaded={}};f.prototype.loadTile=function(t,n){var r=t.uid,i=t.encoding,a=t.rawImageData,o=d&&a instanceof d?this.getImageData(a):a,s=new e.DEMData(r,o,i);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)},f.prototype.getImageData=function(t){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext(`2d`)),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);var n=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)},f.prototype.removeTile=function(e){var t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]};var p=m;function m(e,t){var n=e&&e.type,r;if(n===`FeatureCollection`)for(r=0;r<e.features.length;r++)m(e.features[r],t);else if(n===`GeometryCollection`)for(r=0;r<e.geometries.length;r++)m(e.geometries[r],t);else if(n===`Feature`)m(e.geometry,t);else if(n===`Polygon`)h(e.coordinates,t);else if(n===`MultiPolygon`)for(r=0;r<e.coordinates.length;r++)h(e.coordinates[r],t);return e}function h(e,t){if(e.length!==0){g(e[0],t);for(var n=1;n<e.length;n++)g(e[n],!t)}}function g(e,t){for(var n=0,r=0,i=e.length,a=i-1;r<i;a=r++)n+=(e[r][0]-e[a][0])*(e[a][1]+e[r][1]);n>=0!=!!t&&e.reverse()}var _=e.vectorTile.VectorTileFeature.prototype.toGeoJSON,v=function(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,`id`in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};v.prototype.loadGeometry=function(){if(this._feature.type===1){for(var t=[],n=0,r=this._feature.geometry;n<r.length;n+=1){var i=r[n];t.push([new e.Point$1(i[0],i[1])])}return t}else{for(var a=[],o=0,s=this._feature.geometry;o<s.length;o+=1){for(var c=s[o],l=[],u=0,d=c;u<d.length;u+=1){var f=d[u];l.push(new e.Point$1(f[0],f[1]))}a.push(l)}return a}},v.prototype.toGeoJSON=function(e,t,n){return _.call(this,e,t,n)};var y=function(t){this.layers={_geojsonTileLayer:this},this.name=`_geojsonTileLayer`,this.extent=e.EXTENT,this.length=t.length,this._features=t};y.prototype.feature=function(e){return new v(this._features[e])};var b=e.vectorTile.VectorTileFeature,x=S;function S(e,t){this.options=t||{},this.features=e,this.length=e.length}S.prototype.feature=function(e){return new C(this.features[e],this.options.extent)};function C(e,t){this.id=typeof e.id==`number`?e.id:void 0,this.type=e.type,this.rawGeometry=e.type===1?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}C.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var n=0;n<t.length;n++){for(var r=t[n],i=[],a=0;a<r.length;a++)i.push(new e.Point$1(r[a][0],r[a][1]));this.geometry.push(i)}return this.geometry},C.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,a=0;a<e.length;a++)for(var o=e[a],s=0;s<o.length;s++){var c=o[s];t=Math.min(t,c.x),n=Math.max(n,c.x),r=Math.min(r,c.y),i=Math.max(i,c.y)}return[t,r,n,i]},C.prototype.toGeoJSON=b.prototype.toGeoJSON;var w=O,T=O,E=k,D=x;function O(t){var n=new e.pbf;return A(t,n),n.finish()}function k(e,t){t||={};var n={};for(var r in e)n[r]=new x(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return O({layers:n})}function A(e,t){for(var n in e.layers)t.writeMessage(3,j,e.layers[n])}function j(e,t){t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||``),t.writeVarintField(5,e.extent||4096);var n,r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,M,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var a=r.values;for(n=0;n<a.length;n++)t.writeMessage(4,L,a[n])}function M(e,t){var n=e.feature;n.id!==void 0&&t.writeVarintField(1,n.id),t.writeMessage(2,N,e),t.writeVarintField(3,n.type),t.writeMessage(4,I,n)}function N(e,t){var n=e.feature,r=e.keys,i=e.values,a=e.keycache,o=e.valuecache;for(var s in n.properties){var c=a[s];c===void 0&&(r.push(s),c=r.length-1,a[s]=c),t.writeVarint(c);var l=n.properties[s],u=typeof l;u!==`string`&&u!==`boolean`&&u!==`number`&&(l=JSON.stringify(l));var d=u+`:`+l,f=o[d];f===void 0&&(i.push(l),f=i.length-1,o[d]=f),t.writeVarint(f)}}function P(e,t){return(t<<3)+(e&7)}function F(e){return e<<1^e>>31}function I(e,t){for(var n=e.loadGeometry(),r=e.type,i=0,a=0,o=n.length,s=0;s<o;s++){var c=n[s],l=1;r===1&&(l=c.length),t.writeVarint(P(1,l));for(var u=r===3?c.length-1:c.length,d=0;d<u;d++){d===1&&r!==1&&t.writeVarint(P(2,u-1));var f=c[d].x-i,p=c[d].y-a;t.writeVarint(F(f)),t.writeVarint(F(p)),i+=f,a+=p}r===3&&t.writeVarint(P(7,1))}}function L(e,t){var n=typeof e;n===`string`?t.writeStringField(1,e):n===`boolean`?t.writeBooleanField(7,e):n===`number`&&(e%1==0?e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e):t.writeDoubleField(3,e))}w.fromVectorTileJs=T,w.fromGeojsonVt=E,w.GeoJSONWrapper=D;function R(e,t,n,r,i,a){if(!(i-r<=n)){var o=r+i>>1;z(e,t,o,r,i,a%2),R(e,t,n,r,o-1,a+1),R(e,t,n,o+1,i,a+1)}}function z(e,t,n,r,i,a){for(;i>r;){if(i-r>600){var o=i-r+1,s=n-r+1,c=Math.log(o),l=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*l*(o-l)/o)*(s-o/2<0?-1:1);z(e,t,n,Math.max(r,Math.floor(n-s*l/o+u)),Math.min(i,Math.floor(n+(o-s)*l/o+u)),a)}var d=t[2*n+a],f=r,p=i;for(B(e,t,r,n),t[2*i+a]>d&&B(e,t,r,i);f<p;){for(B(e,t,f,p),f++,p--;t[2*f+a]<d;)f++;for(;t[2*p+a]>d;)p--}t[2*r+a]===d?B(e,t,r,p):(p++,B(e,t,p,i)),p<=n&&(r=p+1),n<=p&&(i=p-1)}}function B(e,t,n,r){V(e,n,r),V(t,2*n,2*r),V(t,2*n+1,2*r+1)}function V(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function H(e,t,n,r,i,a,o){for(var s=[0,e.length-1,0],c=[],l,u;s.length;){var d=s.pop(),f=s.pop(),p=s.pop();if(f-p<=o){for(var m=p;m<=f;m++)l=t[2*m],u=t[2*m+1],l>=n&&l<=i&&u>=r&&u<=a&&c.push(e[m]);continue}var h=Math.floor((p+f)/2);l=t[2*h],u=t[2*h+1],l>=n&&l<=i&&u>=r&&u<=a&&c.push(e[h]);var g=(d+1)%2;(d===0?n<=l:r<=u)&&(s.push(p),s.push(h-1),s.push(g)),(d===0?i>=l:a>=u)&&(s.push(h+1),s.push(f),s.push(g))}return c}function U(e,t,n,r,i,a){for(var o=[0,e.length-1,0],s=[],c=i*i;o.length;){var l=o.pop(),u=o.pop(),d=o.pop();if(u-d<=a){for(var f=d;f<=u;f++)W(t[2*f],t[2*f+1],n,r)<=c&&s.push(e[f]);continue}var p=Math.floor((d+u)/2),m=t[2*p],h=t[2*p+1];W(m,h,n,r)<=c&&s.push(e[p]);var g=(l+1)%2;(l===0?n-i<=m:r-i<=h)&&(o.push(d),o.push(p-1),o.push(g)),(l===0?n+i>=m:r+i>=h)&&(o.push(p+1),o.push(u),o.push(g))}return s}function W(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}var G=function(e){return e[0]},K=function(e){return e[1]},ee=function(e,t,n,r,i){t===void 0&&(t=G),n===void 0&&(n=K),r===void 0&&(r=64),i===void 0&&(i=Float64Array),this.nodeSize=r,this.points=e;for(var a=this.ids=new(e.length<65536?Uint16Array:Uint32Array)(e.length),o=this.coords=new i(e.length*2),s=0;s<e.length;s++)a[s]=s,o[2*s]=t(e[s]),o[2*s+1]=n(e[s]);R(a,o,r,0,a.length-1,0)};ee.prototype.range=function(e,t,n,r){return H(this.ids,this.coords,e,t,n,r,this.nodeSize)},ee.prototype.within=function(e,t,n){return U(this.ids,this.coords,e,t,n,this.nodeSize)};var q={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(e){return e}},J=function(e){this.options=ce(Object.create(q),e),this.trees=Array(this.options.maxZoom+1)};J.prototype.load=function(e){var t=this.options,n=t.log,r=t.minZoom,i=t.maxZoom,a=t.nodeSize;n&&console.time(`total time`);var o=`prepare `+e.length+` points`;n&&console.time(o),this.points=e;for(var s=[],c=0;c<e.length;c++)e[c].geometry&&s.push(te(e[c],c));this.trees[i+1]=new ee(s,le,ue,a,Float32Array),n&&console.timeEnd(o);for(var l=i;l>=r;l--){var u=+Date.now();s=this._cluster(s,l),this.trees[l]=new ee(s,le,ue,a,Float32Array),n&&console.log(`z%d: %d clusters in %dms`,l,s.length,+Date.now()-u)}return n&&console.timeEnd(`total time`),this},J.prototype.getClusters=function(e,t){var n=((e[0]+180)%360+360)%360-180,r=Math.max(-90,Math.min(90,e[1])),i=e[2]===180?180:((e[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var o=this.getClusters([n,r,180,a],t),s=this.getClusters([-180,r,i,a],t);return o.concat(s)}for(var c=this.trees[this._limitZoom(t)],l=c.range(ie(n),ae(a),ie(i),ae(r)),u=[],d=0,f=l;d<f.length;d+=1){var p=f[d],m=c.points[p];u.push(m.numPoints?ne(m):this.points[m.index])}return u},J.prototype.getChildren=function(e){var t=this._getOriginId(e),n=this._getOriginZoom(e),r=`No cluster with the specified id.`,i=this.trees[n];if(!i)throw Error(r);var a=i.points[t];if(!a)throw Error(r);for(var o=this.options.radius/(this.options.extent*2**(n-1)),s=i.within(a.x,a.y,o),c=[],l=0,u=s;l<u.length;l+=1){var d=u[l],f=i.points[d];f.parentId===e&&c.push(f.numPoints?ne(f):this.points[f.index])}if(c.length===0)throw Error(r);return c},J.prototype.getLeaves=function(e,t,n){t||=10,n||=0;var r=[];return this._appendLeaves(r,e,t,n,0),r},J.prototype.getTile=function(e,t,n){var r=this.trees[this._limitZoom(e)],i=2**e,a=this.options,o=a.extent,s=a.radius/o,c=(n-s)/i,l=(n+1+s)/i,u={features:[]};return this._addTileFeatures(r.range((t-s)/i,c,(t+1+s)/i,l),r.points,t,n,i,u),t===0&&this._addTileFeatures(r.range(1-s/i,c,1,l),r.points,i,n,i,u),t===i-1&&this._addTileFeatures(r.range(0,c,s/i,l),r.points,-1,n,i,u),u.features.length?u:null},J.prototype.getClusterExpansionZoom=function(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var n=this.getChildren(e);if(t++,n.length!==1)break;e=n[0].properties.cluster_id}return t},J.prototype._appendLeaves=function(e,t,n,r,i){for(var a=this.getChildren(t),o=0,s=a;o<s.length;o+=1){var c=s[o],l=c.properties;if(l&&l.cluster?i+l.point_count<=r?i+=l.point_count:i=this._appendLeaves(e,l.cluster_id,n,r,i):i<r?i++:e.push(c),e.length===n)break}return i},J.prototype._addTileFeatures=function(e,t,n,r,i,a){for(var o=0,s=e;o<s.length;o+=1){var c=t[s[o]],l=c.numPoints,u={type:1,geometry:[[Math.round(this.options.extent*(c.x*i-n)),Math.round(this.options.extent*(c.y*i-r))]],tags:l?re(c):this.points[c.index].properties},d=void 0;l?d=c.id:this.options.generateId?d=c.index:this.points[c.index].id&&(d=this.points[c.index].id),d!==void 0&&(u.id=d),a.features.push(u)}},J.prototype._limitZoom=function(e){return Math.max(this.options.minZoom,Math.min(e,this.options.maxZoom+1))},J.prototype._cluster=function(e,t){for(var n=[],r=this.options,i=r.radius,a=r.extent,o=r.reduce,s=i/(a*2**t),c=0;c<e.length;c++){var l=e[c];if(!(l.zoom<=t)){l.zoom=t;for(var u=this.trees[t+1],d=u.within(l.x,l.y,s),f=l.numPoints||1,p=l.x*f,m=l.y*f,h=o&&f>1?this._map(l,!0):null,g=(c<<5)+(t+1)+this.points.length,_=0,v=d;_<v.length;_+=1){var y=v[_],b=u.points[y];if(!(b.zoom<=t)){b.zoom=t;var x=b.numPoints||1;p+=b.x*x,m+=b.y*x,f+=x,b.parentId=g,o&&(h||=this._map(l,!0),o(h,this._map(b)))}}f===1?n.push(l):(l.parentId=g,n.push(Y(p/f,m/f,g,f,h)))}}return n},J.prototype._getOriginId=function(e){return e-this.points.length>>5},J.prototype._getOriginZoom=function(e){return(e-this.points.length)%32},J.prototype._map=function(e,t){if(e.numPoints)return t?ce({},e.properties):e.properties;var n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?ce({},r):r};function Y(e,t,n,r,i){return{x:e,y:t,zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function te(e,t){var n=e.geometry.coordinates,r=n[0],i=n[1];return{x:ie(r),y:ae(i),zoom:1/0,index:t,parentId:-1}}function ne(e){return{type:`Feature`,id:e.id,properties:re(e),geometry:{type:`Point`,coordinates:[oe(e.x),se(e.y)]}}}function re(e){var t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+`k`:t>=1e3?Math.round(t/100)/10+`k`:t;return ce(ce({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function ie(e){return e/360+.5}function ae(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function oe(e){return(e-.5)*360}function se(e){var t=(180-e*360)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function ce(e,t){for(var n in t)e[n]=t[n];return e}function le(e){return e.x}function ue(e){return e.y}function de(e,t,n,r){for(var i=r,a=n-t>>1,o=n-t,s,c=e[t],l=e[t+1],u=e[n],d=e[n+1],f=t+3;f<n;f+=3){var p=fe(e[f],e[f+1],c,l,u,d);if(p>i)s=f,i=p;else if(p===i){var m=Math.abs(f-a);m<o&&(s=f,o=m)}}i>r&&(s-t>3&&de(e,t,s,r),e[s+2]=i,n-s>3&&de(e,s,n,r))}function fe(e,t,n,r,i,a){var o=i-n,s=a-r;if(o!==0||s!==0){var c=((e-n)*o+(t-r)*s)/(o*o+s*s);c>1?(n=i,r=a):c>0&&(n+=o*c,r+=s*c)}return o=e-n,s=t-r,o*o+s*s}function pe(e,t,n,r){var i={id:e===void 0?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return me(i),i}function me(e){var t=e.geometry,n=e.type;if(n===`Point`||n===`MultiPoint`||n===`LineString`)he(e,t);else if(n===`Polygon`||n===`MultiLineString`)for(var r=0;r<t.length;r++)he(e,t[r]);else if(n===`MultiPolygon`)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)he(e,t[r][i])}function he(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function ge(e,t){var n=[];if(e.type===`FeatureCollection`)for(var r=0;r<e.features.length;r++)_e(n,e.features[r],t,r);else e.type===`Feature`?_e(n,e,t):_e(n,{geometry:e},t);return n}function _e(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,a=t.geometry.type,o=(n.tolerance/((1<<n.maxZoom)*n.extent))**2,s=[],c=t.id;if(n.promoteId?c=t.properties[n.promoteId]:n.generateId&&(c=r||0),a===`Point`)ve(i,s);else if(a===`MultiPoint`)for(var l=0;l<i.length;l++)ve(i[l],s);else if(a===`LineString`)ye(i,s,o,!1);else if(a===`MultiLineString`)if(n.lineMetrics){for(l=0;l<i.length;l++)s=[],ye(i[l],s,o,!1),e.push(pe(c,`LineString`,s,t.properties));return}else be(i,s,o,!1);else if(a===`Polygon`)be(i,s,o,!0);else if(a===`MultiPolygon`)for(l=0;l<i.length;l++){var u=[];be(i[l],u,o,!0),s.push(u)}else if(a===`GeometryCollection`){for(l=0;l<t.geometry.geometries.length;l++)_e(e,{id:c,geometry:t.geometry.geometries[l],properties:t.properties},n,r);return}else throw Error(`Input data is not a valid GeoJSON object.`);e.push(pe(c,a,s,t.properties))}}function ve(e,t){t.push(xe(e[0])),t.push(Se(e[1])),t.push(0)}function ye(e,t,n,r){for(var i,a,o=0,s=0;s<e.length;s++){var c=xe(e[s][0]),l=Se(e[s][1]);t.push(c),t.push(l),t.push(0),s>0&&(r?o+=(i*l-c*a)/2:o+=Math.sqrt((c-i)**2+(l-a)**2)),i=c,a=l}var u=t.length-3;t[2]=1,de(t,0,u,n),t[u+2]=1,t.size=Math.abs(o),t.start=0,t.end=t.size}function be(e,t,n,r){for(var i=0;i<e.length;i++){var a=[];ye(e[i],a,n,r),t.push(a)}}function xe(e){return e/360+.5}function Se(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Ce(e,t,n,r,i,a,o,s){if(n/=t,r/=t,a>=n&&o<r)return e;if(o<n||a>=r)return null;for(var c=[],l=0;l<e.length;l++){var u=e[l],d=u.geometry,f=u.type,p=i===0?u.minX:u.minY,m=i===0?u.maxX:u.maxY;if(p>=n&&m<r){c.push(u);continue}else if(m<n||p>=r)continue;var h=[];if(f===`Point`||f===`MultiPoint`)we(d,h,n,r,i);else if(f===`LineString`)Te(d,h,n,r,i,!1,s.lineMetrics);else if(f===`MultiLineString`)X(d,h,n,r,i,!1);else if(f===`Polygon`)X(d,h,n,r,i,!0);else if(f===`MultiPolygon`)for(var g=0;g<d.length;g++){var _=[];X(d[g],_,n,r,i,!0),_.length&&h.push(_)}if(h.length){if(s.lineMetrics&&f===`LineString`){for(g=0;g<h.length;g++)c.push(pe(u.id,f,h[g],u.tags));continue}(f===`LineString`||f===`MultiLineString`)&&(h.length===1?(f=`LineString`,h=h[0]):f=`MultiLineString`),(f===`Point`||f===`MultiPoint`)&&(f=h.length===3?`Point`:`MultiPoint`),c.push(pe(u.id,f,h,u.tags))}}return c.length?c:null}function we(e,t,n,r,i){for(var a=0;a<e.length;a+=3){var o=e[a+i];o>=n&&o<=r&&(t.push(e[a]),t.push(e[a+1]),t.push(e[a+2]))}}function Te(e,t,n,r,i,a,o){for(var s=Ee(e),c=i===0?De:Q,l=e.start,u,d,f=0;f<e.length-3;f+=3){var p=e[f],m=e[f+1],h=e[f+2],g=e[f+3],_=e[f+4],v=i===0?p:m,y=i===0?g:_,b=!1;o&&(u=Math.sqrt((p-g)**2+(m-_)**2)),v<n?y>n&&(d=c(s,p,m,g,_,n),o&&(s.start=l+u*d)):v>r?y<r&&(d=c(s,p,m,g,_,r),o&&(s.start=l+u*d)):Z(s,p,m,h),y<n&&v>=n&&(d=c(s,p,m,g,_,n),b=!0),y>r&&v<=r&&(d=c(s,p,m,g,_,r),b=!0),!a&&b&&(o&&(s.end=l+u*d),t.push(s),s=Ee(e)),o&&(l+=u)}var x=e.length-3;p=e[x],m=e[x+1],h=e[x+2],v=i===0?p:m,v>=n&&v<=r&&Z(s,p,m,h),x=s.length-3,a&&x>=3&&(s[x]!==s[0]||s[x+1]!==s[1])&&Z(s,s[0],s[1],s[2]),s.length&&t.push(s)}function Ee(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function X(e,t,n,r,i,a){for(var o=0;o<e.length;o++)Te(e[o],t,n,r,i,a,!1)}function Z(e,t,n,r){e.push(t),e.push(n),e.push(r)}function De(e,t,n,r,i,a){var o=(a-t)/(r-t);return e.push(a),e.push(n+(i-n)*o),e.push(1),o}function Q(e,t,n,r,i,a){var o=(a-n)/(i-n);return e.push(t+(r-t)*o),e.push(a),e.push(1),o}function Oe(e,t){var n=t.buffer/t.extent,r=e,i=Ce(e,1,-1-n,n,0,-1,2,t),a=Ce(e,1,1-n,2+n,0,-1,2,t);return(i||a)&&(r=Ce(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=ke(i,1).concat(r)),a&&(r=r.concat(ke(a,-1)))),r}function ke(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],a=i.type,o;if(a===`Point`||a===`MultiPoint`||a===`LineString`)o=Ae(i.geometry,t);else if(a===`MultiLineString`||a===`Polygon`){o=[];for(var s=0;s<i.geometry.length;s++)o.push(Ae(i.geometry[s],t))}else if(a===`MultiPolygon`)for(o=[],s=0;s<i.geometry.length;s++){for(var c=[],l=0;l<i.geometry[s].length;l++)c.push(Ae(i.geometry[s][l],t));o.push(c)}n.push(pe(i.id,a,o,i.tags))}return n}function Ae(e,t){var n=[];n.size=e.size,e.start!==void 0&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function je(e,t){if(e.transformed)return e;var n=1<<e.z,r=e.x,i=e.y,a,o,s;for(a=0;a<e.features.length;a++){var c=e.features[a],l=c.geometry,u=c.type;if(c.geometry=[],u===1)for(o=0;o<l.length;o+=2)c.geometry.push(Me(l[o],l[o+1],t,n,r,i));else for(o=0;o<l.length;o++){var d=[];for(s=0;s<l[o].length;s+=2)d.push(Me(l[o][s],l[o][s+1],t,n,r,i));c.geometry.push(d)}}return e.transformed=!0,e}function Me(e,t,n,r,i,a){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-a))]}function Ne(e,t,n,r,i){for(var a=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,Pe(o,e[s],a,i);var c=e[s].minX,l=e[s].minY,u=e[s].maxX,d=e[s].maxY;c<o.minX&&(o.minX=c),l<o.minY&&(o.minY=l),u>o.maxX&&(o.maxX=u),d>o.maxY&&(o.maxY=d)}return o}function Pe(e,t,n,r){var i=t.geometry,a=t.type,o=[];if(a===`Point`||a===`MultiPoint`)for(var s=0;s<i.length;s+=3)o.push(i[s]),o.push(i[s+1]),e.numPoints++,e.numSimplified++;else if(a===`LineString`)Fe(o,i,e,n,!1,!1);else if(a===`MultiLineString`||a===`Polygon`)for(s=0;s<i.length;s++)Fe(o,i[s],e,n,a===`Polygon`,s===0);else if(a===`MultiPolygon`)for(var c=0;c<i.length;c++){var l=i[c];for(s=0;s<l.length;s++)Fe(o,l[s],e,n,!0,s===0)}if(o.length){var u=t.tags||null;if(a===`LineString`&&r.lineMetrics){for(var d in u={},t.tags)u[d]=t.tags[d];u.mapbox_clip_start=i.start/i.size,u.mapbox_clip_end=i.end/i.size}var f={geometry:o,type:a===`Polygon`||a===`MultiPolygon`?3:a===`LineString`||a===`MultiLineString`?2:1,tags:u};t.id!==null&&(f.id=t.id),e.features.push(f)}}function Fe(e,t,n,r,i,a){var o=r*r;if(r>0&&t.size<(i?o:r)){n.numPoints+=t.length/3;return}for(var s=[],c=0;c<t.length;c+=3)(r===0||t[c+2]>o)&&(n.numSimplified++,s.push(t[c]),s.push(t[c+1])),n.numPoints++;i&&Ie(s,a),e.push(s)}function Ie(e,t){for(var n=0,r=0,i=e.length,a=i-2;r<i;a=r,r+=2)n+=(e[r]-e[a])*(e[r+1]+e[a+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var o=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=o,e[i-1-r]=s}}function Le(e,t){return new Re(e,t)}function Re(e,t){t=this.options=Be(Object.create(this.options),t);var n=t.debug;if(n&&console.time(`preprocess data`),t.maxZoom<0||t.maxZoom>24)throw Error(`maxZoom should be in the 0-24 range`);if(t.promoteId&&t.generateId)throw Error(`promoteId and generateId cannot be used together.`);var r=ge(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd(`preprocess data`),console.log(`index: maxZoom: %d, maxPoints: %d`,t.indexMaxZoom,t.indexMaxPoints),console.time(`generate tiles`),this.stats={},this.total=0),r=Oe(r,t),r.length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log(`features: %d, points: %d`,this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd(`generate tiles`),console.log(`tiles generated:`,this.total,JSON.stringify(this.stats)))}Re.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Re.prototype.splitTile=function(e,t,n,r,i,a,o){for(var s=[e,t,n,r],c=this.options,l=c.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var u=1<<t,d=ze(t,n,r),f=this.tiles[d];if(!f&&(l>1&&console.time(`creation`),f=this.tiles[d]=Ne(e,t,n,r,c),this.tileCoords.push({z:t,x:n,y:r}),l)){l>1&&(console.log(`tile z%d-%d-%d (features: %d, points: %d, simplified: %d)`,t,n,r,f.numFeatures,f.numPoints,f.numSimplified),console.timeEnd(`creation`));var p=`z`+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(f.source=e,i){if(t===c.maxZoom||t===i)continue;var m=1<<i-t;if(n!==Math.floor(a/m)||r!==Math.floor(o/m))continue}else if(t===c.indexMaxZoom||f.numPoints<=c.indexMaxPoints)continue;if(f.source=null,e.length!==0){l>1&&console.time(`clipping`);var h=.5*c.buffer/c.extent,g=.5-h,_=.5+h,v=1+h,y=b=x=S=null,b,x,S,C=Ce(e,u,n-h,n+_,0,f.minX,f.maxX,c),w=Ce(e,u,n+g,n+v,0,f.minX,f.maxX,c);e=null,C&&=(y=Ce(C,u,r-h,r+_,1,f.minY,f.maxY,c),b=Ce(C,u,r+g,r+v,1,f.minY,f.maxY,c),null),w&&=(x=Ce(w,u,r-h,r+_,1,f.minY,f.maxY,c),S=Ce(w,u,r+g,r+v,1,f.minY,f.maxY,c),null),l>1&&console.timeEnd(`clipping`),s.push(y||[],t+1,n*2,r*2),s.push(b||[],t+1,n*2,r*2+1),s.push(x||[],t+1,n*2+1,r*2),s.push(S||[],t+1,n*2+1,r*2+1)}}},Re.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,a=r.debug;if(e<0||e>24)return null;var o=1<<e;t=(t%o+o)%o;var s=ze(e,t,n);if(this.tiles[s])return je(this.tiles[s],i);a>1&&console.log(`drilling down to z%d-%d-%d`,e,t,n);for(var c=e,l=t,u=n,d;!d&&c>0;)c--,l=Math.floor(l/2),u=Math.floor(u/2),d=this.tiles[ze(c,l,u)];return!d||!d.source?null:(a>1&&console.log(`found parent tile z%d-%d-%d`,c,l,u),a>1&&console.time(`drilling down`),this.splitTile(d.source,c,l,u,e,t,n),a>1&&console.timeEnd(`drilling down`),this.tiles[s]?je(this.tiles[s],i):null)};function ze(e,t,n){return((1<<e)*n+t)*32+e}function Be(e,t){for(var n in t)e[n]=t[n];return e}function Ve(e,t){var n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);var r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);var i=new y(r.features),a=w(i);(a.byteOffset!==0||a.byteLength!==a.buffer.byteLength)&&(a=new Uint8Array(a)),t(null,{vectorTile:i,rawData:a.buffer})}var He=function(t){function n(e,n,r,i){t.call(this,e,n,r,Ve),i&&(this.loadGeoJSON=i)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.loadData=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=t,this._pendingLoadDataParams=e,this._state&&this._state!==`Idle`?this._state=`NeedsLoadData`:(this._state=`Coalescing`,this._loadData())},n.prototype._loadData=function(){var t=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var n=this._pendingCallback,r=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=r&&r.request&&r.request.collectResourceTiming?new e.RequestPerformance(r.request):!1;this.loadGeoJSON(r,function(e,a){if(e||!a)return n(e);if(typeof a!=`object`)return n(Error(`Input data given to '`+r.source+`' is not a valid GeoJSON object.`));p(a,!0);try{t._geoJSONIndex=r.cluster?new J(Ue(r)).load(a.features):Le(a,r.geojsonVtOptions)}catch(e){return n(e)}t.loaded={};var o={};if(i){var s=i.finish();s&&(o.resourceTiming={},o.resourceTiming[r.source]=JSON.parse(JSON.stringify(s)))}n(null,o)})}},n.prototype.coalesce=function(){this._state===`Coalescing`?this._state=`Idle`:this._state===`NeedsLoadData`&&(this._state=`Coalescing`,this._loadData())},n.prototype.reloadTile=function(e,n){var r=this.loaded,i=e.uid;return r&&r[i]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},n.prototype.loadGeoJSON=function(t,n){if(t.request)e.getJSON(t.request,n);else if(typeof t.data==`string`)try{return n(null,JSON.parse(t.data))}catch{return n(Error(`Input data given to '`+t.source+`' is not a valid GeoJSON object.`))}else return n(Error(`Input data given to '`+t.source+`' is not a valid GeoJSON object.`))},n.prototype.removeSource=function(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()},n.prototype.getClusterExpansionZoom=function(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterChildren=function(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}},n.prototype.getClusterLeaves=function(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}},n}(u);function Ue(t){var n=t.superclusterOptions,r=t.clusterProperties;if(!r||!n)return n;for(var i={},a={},o={accumulated:null,zoom:0},s={properties:null},c=Object.keys(r),l=0,u=c;l<u.length;l+=1){var d=u[l],f=r[d],p=f[0],m=f[1],h=e.createExpression(m),g=e.createExpression(typeof p==`string`?[p,[`accumulated`],[`get`,d]]:p);i[d]=h.value,a[d]=g.value}return n.map=function(e){s.properties=e;for(var t={},n=0,r=c;n<r.length;n+=1){var a=r[n];t[a]=i[a].evaluate(o,s)}return t},n.reduce=function(e,t){s.properties=t;for(var n=0,r=c;n<r.length;n+=1){var i=r[n];o.accumulated=e[i],e[i]=a[i].evaluate(o,s)}},n}var We=function(t){var n=this;this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:u,geojson:He},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(e,t){if(n.workerSourceTypes[e])throw Error(`Worker source with name "`+e+`" already registered.`);n.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=function(t){if(e.plugin.isParsed())throw Error(`RTL text plugin already registered.`);e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}};return We.prototype.setReferrer=function(e,t){this.referrer=t},We.prototype.setImages=function(e,t,n){for(var r in this.availableImages[e]=t,this.workerSources[e]){var i=this.workerSources[e][r];for(var a in i)i[a].availableImages=t}n()},We.prototype.setLayers=function(e,t,n){this.getLayerIndex(e).replace(t),n()},We.prototype.updateLayers=function(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()},We.prototype.loadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)},We.prototype.loadDEMTile=function(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)},We.prototype.reloadTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)},We.prototype.abortTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)},We.prototype.removeTile=function(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)},We.prototype.removeDEMTile=function(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)},We.prototype.removeSource=function(e,t,n){if(!(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])){var r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],r.removeSource===void 0?n():r.removeSource(t,n)}},We.prototype.loadWorkerSource=function(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}},We.prototype.syncRTLPluginState=function(t,n,r){try{e.plugin.setState(n);var i=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&i!=null){this.self.importScripts(i);var a=e.plugin.isParsed();r(a?void 0:Error(`RTL Text Plugin failed to import scripts from `+i),a)}}catch(e){r(e.toString())}},We.prototype.getAvailableImages=function(e){var t=this.availableImages[e];return t||=[],t},We.prototype.getLayerIndex=function(e){var t=this.layerIndexes[e];return t||=this.layerIndexes[e]=new i,t},We.prototype.getWorkerSource=function(e,t,n){var r=this;if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][n]){var i={send:function(t,n,i){r.actor.send(t,n,i,e)}};this.workerSources[e][t][n]=new this.workerSourceTypes[t](i,this.getLayerIndex(e),this.getAvailableImages(e))}return this.workerSources[e][t][n]},We.prototype.getDEMWorkerSource=function(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new f),this.demWorkerSources[e][t]},We.prototype.enforceCacheSizeLimit=function(t,n){e.enforceCacheSizeLimit(n)},typeof WorkerGlobalScope<`u`&&e.window!==void 0&&e.window instanceof WorkerGlobalScope&&(e.window.worker=new We(e.window)),We}),r([`./shared`],function(e){var t=e.createCommonjsModule(function(e){e.exports?e.exports=t:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=t,window.mapboxgl.notSupportedReason=n);function t(e){return!n(e)}function n(e){if(!r())return`not a browser`;if(!i())return`insufficent Array support`;if(!a())return`insufficient Function support`;if(!o())return`insufficient Object support`;if(!s())return`insufficient JSON support`;if(!c())return`insufficient worker support`;if(!l())return`insufficient Uint8ClampedArray support`;if(!u())return`insufficient ArrayBuffer support`;if(!d())return`insufficient Canvas/getImageData support`;if(!p(e&&e.failIfMajorPerformanceCaveat))return`insufficient WebGL support`}function r(){return typeof window<`u`&&typeof document<`u`}function i(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function a(){return Function.prototype&&Function.prototype.bind}function o(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function s(){return`JSON`in window&&`parse`in JSON&&`stringify`in JSON}function c(){if(!(`Worker`in window&&`Blob`in window&&`URL`in window))return!1;var e=new Blob([``],{type:`text/javascript`}),t=URL.createObjectURL(e),n,r;try{r=new Worker(t),n=!0}catch{n=!1}return r&&r.terminate(),URL.revokeObjectURL(t),n}function l(){return`Uint8ClampedArray`in window}function u(){return ArrayBuffer.isView}function d(){var e=document.createElement(`canvas`);e.width=e.height=1;var t=e.getContext(`2d`);if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}var f={};function p(e){return f[e]===void 0&&(f[e]=h(e)),f[e]}t.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function m(e){var n=document.createElement(`canvas`),r=Object.create(t.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,n.probablySupportsContext?n.probablySupportsContext(`webgl`,r)||n.probablySupportsContext(`experimental-webgl`,r):n.supportsContext?n.supportsContext(`webgl`,r)||n.supportsContext(`experimental-webgl`,r):n.getContext(`webgl`,r)||n.getContext(`experimental-webgl`,r)}function h(e){var t=m(e);if(!t)return!1;var n=t.createShader(t.VERTEX_SHADER);return!n||t.isContextLost()?!1:(t.shaderSource(n,`void main() {}`),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)===!0)}}),n={};n.create=function(t,n,r){var i=e.window.document.createElement(t);return n!==void 0&&(i.className=n),r&&r.appendChild(i),i},n.createNS=function(t,n){return e.window.document.createElementNS(t,n)};var r=e.window.document.documentElement.style;function i(e){if(!r)return e[0];for(var t=0;t<e.length;t++)if(e[t]in r)return e[t];return e[0]}var a=i([`userSelect`,`MozUserSelect`,`WebkitUserSelect`,`msUserSelect`]),o;n.disableDrag=function(){r&&a&&(o=r[a],r[a]=`none`)},n.enableDrag=function(){r&&a&&(r[a]=o)};var s=i([`transform`,`WebkitTransform`]);n.setTransform=function(e,t){e.style[s]=t};var c=!1;try{var l=Object.defineProperty({},`passive`,{get:function(){c=!0}});e.window.addEventListener(`test`,l,l),e.window.removeEventListener(`test`,l,l)}catch{c=!1}n.addEventListener=function(e,t,n,r){r===void 0&&(r={}),`passive`in r&&c?e.addEventListener(t,n,r):e.addEventListener(t,n,r.capture)},n.removeEventListener=function(e,t,n,r){r===void 0&&(r={}),`passive`in r&&c?e.removeEventListener(t,n,r):e.removeEventListener(t,n,r.capture)};var u=function(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener(`click`,u,!0)};n.suppressClick=function(){e.window.addEventListener(`click`,u,!0),e.window.setTimeout(function(){e.window.removeEventListener(`click`,u,!0)},0)},n.mousePos=function(t,n){var r=t.getBoundingClientRect();return new e.Point(n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop)},n.touchPos=function(t,n){for(var r=t.getBoundingClientRect(),i=[],a=0;a<n.length;a++)i.push(new e.Point(n[a].clientX-r.left-t.clientLeft,n[a].clientY-r.top-t.clientTop));return i},n.mouseButton=function(t){return e.window.InstallTrigger!==void 0&&t.button===2&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf(`MAC`)>=0?0:t.button},n.remove=function(e){e.parentNode&&e.parentNode.removeChild(e)};function d(t,n,r){var i,a,o,s=e.browser.devicePixelRatio>1?`@2x`:``,c=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,`.json`),e.ResourceType.SpriteJSON),function(e,t){c=null,o||(o=e,i=t,u())}),l=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,`.png`),e.ResourceType.SpriteImage),function(e,t){l=null,o||(o=e,a=t,u())});function u(){if(o)r(o);else if(i&&a){var t=e.browser.getImageData(a),n={};for(var s in i){var c=i[s],l=c.width,u=c.height,d=c.x,f=c.y,p=c.sdf,m=c.pixelRatio,h=c.stretchX,g=c.stretchY,_=c.content,v=new e.RGBAImage({width:l,height:u});e.RGBAImage.copy(t,v,{x:d,y:f},{x:0,y:0},{width:l,height:u}),n[s]={data:v,pixelRatio:m,sdf:p,stretchX:h,stretchY:g,content:_}}r(null,n)}}return{cancel:function(){c&&=(c.cancel(),null),l&&=(l.cancel(),null)}}}function f(e){var t=e.userImage;return t&&t.render&&t.render()?(e.data.replace(new Uint8Array(t.data.buffer)),!0):!1}var p=1,m=function(t){function n(){t.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.isLoaded=function(){return this.loaded},n.prototype.setLoaded=function(e){if(this.loaded!==e&&(this.loaded=e,e)){for(var t=0,n=this.requestors;t<n.length;t+=1){var r=n[t],i=r.ids,a=r.callback;this._notify(i,a)}this.requestors=[]}},n.prototype.getImage=function(e){return this.images[e]},n.prototype.addImage=function(e,t){this._validate(e,t)&&(this.images[e]=t)},n.prototype._validate=function(t,n){var r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(Error(`Image "`+t+`" has invalid "stretchX" value`))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(Error(`Image "`+t+`" has invalid "stretchY" value`))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(Error(`Image "`+t+`" has invalid "content" value`))),r=!1),r},n.prototype._validateStretch=function(e,t){if(!e)return!0;for(var n=0,r=0,i=e;r<i.length;r+=1){var a=i[r];if(a[0]<n||a[1]<a[0]||t<a[1])return!1;n=a[1]}return!0},n.prototype._validateContent=function(e,t){return e?!(e.length!==4||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]):!0},n.prototype.updateImage=function(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0},n.prototype.removeImage=function(e){var t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()},n.prototype.listImages=function(){return Object.keys(this.images)},n.prototype.getImages=function(e,t){var n=!0;if(!this.isLoaded())for(var r=0,i=e;r<i.length;r+=1){var a=i[r];this.images[a]||(n=!1)}this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})},n.prototype._notify=function(t,n){for(var r={},i=0,a=t;i<a.length;i+=1){var o=a[i];this.images[o]||this.fire(new e.Event(`styleimagemissing`,{id:o}));var s=this.images[o];s?r[o]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf,version:s.version,stretchX:s.stretchX,stretchY:s.stretchY,content:s.content,hasRenderCallback:!!(s.userImage&&s.userImage.render)}:e.warnOnce(`Image "`+o+`" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}n(null,r)},n.prototype.getPixelSize=function(){var e=this.atlasImage;return{width:e.width,height:e.height}},n.prototype.getPattern=function(t){var n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{var i={w:r.data.width+p*2,h:r.data.height+p*2,x:0,y:0},a=new e.ImagePosition(i,r);this.patterns[t]={bin:i,position:a}}return this._updatePatternAtlas(),this.patterns[t].position},n.prototype.bind=function(t){var n=t.gl;this.atlasTexture?this.dirty&&=(this.atlasTexture.update(this.atlasImage),!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)},n.prototype._updatePatternAtlas=function(){var t=[];for(var n in this.patterns)t.push(this.patterns[n].bin);var r=e.potpack(t),i=r.w,a=r.h,o=this.atlasImage;for(var s in o.resize({width:i||1,height:a||1}),this.patterns){var c=this.patterns[s].bin,l=c.x+p,u=c.y+p,d=this.images[s].data,f=d.width,m=d.height;e.RGBAImage.copy(d,o,{x:0,y:0},{x:l,y:u},{width:f,height:m}),e.RGBAImage.copy(d,o,{x:0,y:m-1},{x:l,y:u-1},{width:f,height:1}),e.RGBAImage.copy(d,o,{x:0,y:0},{x:l,y:u+m},{width:f,height:1}),e.RGBAImage.copy(d,o,{x:f-1,y:0},{x:l-1,y:u},{width:1,height:m}),e.RGBAImage.copy(d,o,{x:0,y:0},{x:l+f,y:u},{width:1,height:m})}this.dirty=!0},n.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},n.prototype.dispatchRenderCallbacks=function(e){for(var t=0,n=e;t<n.length;t+=1){var r=n[t];if(!this.callbackDispatchedThisFrame[r]){this.callbackDispatchedThisFrame[r]=!0;var i=this.images[r];f(i)&&this.updateImage(r,i)}}},n}(e.Evented);function h(t,n,r,i,a){var o=n*256,s=o+255,c=i.transformRequest(i.normalizeGlyphsURL(r).replace(`{fontstack}`,t).replace(`{range}`,o+`-`+s),e.ResourceType.Glyphs);e.getArrayBuffer(c,function(t,n){if(t)a(t);else if(n){for(var r={},i=0,o=e.parseGlyphPBF(n);i<o.length;i+=1){var s=o[i];r[s.id]=s}a(null,r)}})}var g=y,_=y,v=0x56bc75e2d63100000;function y(e,t,n,r,i,a){this.fontSize=e||24,this.buffer=t===void 0?3:t,this.cutoff=r||.25,this.fontFamily=i||`sans-serif`,this.fontWeight=a||`normal`,this.radius=n||8;var o=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement(`canvas`),this.canvas.width=this.canvas.height=o,this.ctx=this.canvas.getContext(`2d`),this.ctx.font=this.fontWeight+` `+this.fontSize+`px `+this.fontFamily,this.ctx.textBaseline=`middle`,this.ctx.fillStyle=`black`,this.gridOuter=new Float64Array(o*o),this.gridInner=new Float64Array(o*o),this.f=new Float64Array(o),this.d=new Float64Array(o),this.z=new Float64Array(o+1),this.v=new Int16Array(o),this.middle=Math.round(o/2*(navigator.userAgent.indexOf(`Gecko/`)>=0?1.2:1))}y.prototype.draw=function(e){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(e,this.buffer,this.middle);for(var t=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),r=0;r<this.size*this.size;r++){var i=t.data[r*4+3]/255;this.gridOuter[r]=i===1?0:i===0?v:Math.max(0,.5-i)**2,this.gridInner[r]=i===1?v:i===0?0:Math.max(0,i-.5)**2}for(b(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),b(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),r=0;r<this.size*this.size;r++){var a=this.gridOuter[r]-this.gridInner[r];n[r]=Math.max(0,Math.min(255,Math.round(255-255*(a/this.radius+this.cutoff))))}return n};function b(e,t,n,r,i,a,o){for(var s=0;s<t;s++){for(var c=0;c<n;c++)r[c]=e[c*t+s];for(x(r,i,a,o,n),c=0;c<n;c++)e[c*t+s]=i[c]}for(c=0;c<n;c++){for(s=0;s<t;s++)r[s]=e[c*t+s];for(x(r,i,a,o,t),s=0;s<t;s++)e[c*t+s]=Math.sqrt(i[s])}}function x(e,t,n,r,i){n[0]=0,r[0]=-v,r[1]=+v;for(var a=1,o=0;a<i;a++){for(var s=(e[a]+a*a-(e[n[o]]+n[o]*n[o]))/(2*a-2*n[o]);s<=r[o];)o--,s=(e[a]+a*a-(e[n[o]]+n[o]*n[o]))/(2*a-2*n[o]);o++,n[o]=a,r[o]=s,r[o+1]=+v}for(a=0,o=0;a<i;a++){for(;r[o+1]<a;)o++;t[a]=(a-n[o])*(a-n[o])+e[n[o]]}}g.default=_;var S=function(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}};S.prototype.setURL=function(e){this.url=e},S.prototype.getGlyphs=function(t,n){var r=this,i=[];for(var a in t)for(var o=0,s=t[a];o<s.length;o+=1){var c=s[o];i.push({stack:a,id:c})}e.asyncAll(i,function(e,t){var n=e.stack,i=e.id,a=r.entries[n];a||=r.entries[n]={glyphs:{},requests:{},ranges:{}};var o=a.glyphs[i];if(o!==void 0){t(null,{stack:n,id:i,glyph:o});return}if(o=r._tinySDF(a,n,i),o){a.glyphs[i]=o,t(null,{stack:n,id:i,glyph:o});return}var s=Math.floor(i/256);if(s*256>65535){t(Error(`glyphs > 65535 not supported`));return}if(a.ranges[s]){t(null,{stack:n,id:i,glyph:o});return}var c=a.requests[s];c||(c=a.requests[s]=[],S.loadGlyphRange(n,s,r.url,r.requestManager,function(e,t){if(t){for(var n in t)r._doesCharSupportLocalGlyph(+n)||(a.glyphs[+n]=t[+n]);a.ranges[s]=!0}for(var i=0,o=c;i<o.length;i+=1){var l=o[i];l(e,t)}delete a.requests[s]})),c.push(function(e,r){e?t(e):r&&t(null,{stack:n,id:i,glyph:r[i]||null})})},function(e,t){if(e)n(e);else if(t){for(var r={},i=0,a=t;i<a.length;i+=1){var o=a[i],s=o.stack,c=o.id,l=o.glyph;(r[s]||(r[s]={}))[c]=l&&{id:l.id,bitmap:l.bitmap.clone(),metrics:l.metrics}}n(null,r)}})},S.prototype._doesCharSupportLocalGlyph=function(t){return!!this.localIdeographFontFamily&&(e.isChar[`CJK Unified Ideographs`](t)||e.isChar[`Hangul Syllables`](t)||e.isChar.Hiragana(t)||e.isChar.Katakana(t))},S.prototype._tinySDF=function(t,n,r){var i=this.localIdeographFontFamily;if(i&&this._doesCharSupportLocalGlyph(r)){var a=t.tinySDF;if(!a){var o=`400`;/bold/i.test(n)?o=`900`:/medium/i.test(n)?o=`500`:/light/i.test(n)&&(o=`200`),a=t.tinySDF=new S.TinySDF(24,3,8,.25,i,o)}return{id:r,bitmap:new e.AlphaImage({width:30,height:30},a.draw(String.fromCharCode(r))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},S.loadGlyphRange=h,S.TinySDF=g;var C=function(){this.specification=e.styleSpec.light.position};C.prototype.possiblyEvaluate=function(t,n){return e.sphericalToCartesian(t.expression.evaluate(n))},C.prototype.interpolate=function(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r)}};var w=new e.Properties({anchor:new e.DataConstantProperty(e.styleSpec.light.anchor),position:new C,color:new e.DataConstantProperty(e.styleSpec.light.color),intensity:new e.DataConstantProperty(e.styleSpec.light.intensity)}),T=`-transition`,E=function(t){function n(n){t.call(this),this._transitionable=new e.Transitionable(w),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getLight=function(){return this._transitionable.serialize()},n.prototype.setLight=function(t,n){if(n===void 0&&(n={}),!this._validate(e.validateLight,t,n))for(var r in t){var i=t[r];e.endsWith(r,T)?this._transitionable.setTransition(r.slice(0,-T.length),i):this._transitionable.setValue(r,i)}},n.prototype.updateTransitions=function(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)},n.prototype.hasTransition=function(){return this._transitioning.hasTransition()},n.prototype.recalculate=function(e){this.properties=this._transitioning.possiblyEvaluate(e)},n.prototype._validate=function(t,n,r){return r&&r.validate===!1?!1:e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.styleSpec})))},n}(e.Evented),D=function(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};D.prototype.getDash=function(e,t){var n=e.join(`,`)+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]},D.prototype.getDashRanges=function(e,t,n){var r=e.length%2==1,i=[],a=r?-e[e.length-1]*n:0,o=e[0]*n,s=!0;i.push({left:a,right:o,isDash:s,zeroLength:e[0]===0});for(var c=e[0],l=1;l<e.length;l++){s=!s;var u=e[l];a=c*n,c+=u,o=c*n,i.push({left:a,right:o,isDash:s,zeroLength:u===0})}return i},D.prototype.addRoundDash=function(e,t,n){for(var r=t/2,i=-n;i<=n;i++)for(var a=this.nextRow+n+i,o=this.width*a,s=0,c=e[s],l=0;l<this.width;l++){l/c.right>1&&(c=e[++s]);var u=Math.abs(l-c.left),d=Math.abs(l-c.right),f=Math.min(u,d),p=void 0,m=i/n*(r+1);if(c.isDash){var h=r-Math.abs(m);p=Math.sqrt(f*f+h*h)}else p=r-Math.sqrt(f*f+m*m);this.data[o+l]=Math.max(0,Math.min(255,p+128))}},D.prototype.addRegularDash=function(e){for(var t=e.length-1;t>=0;--t){var n=e[t],r=e[t+1];n.zeroLength?e.splice(t,1):r&&r.isDash===n.isDash&&(r.left=n.left,e.splice(t,1))}var i=e[0],a=e[e.length-1];i.isDash===a.isDash&&(i.left=a.left-this.width,a.right=i.right+this.width);for(var o=this.width*this.nextRow,s=0,c=e[s],l=0;l<this.width;l++){l/c.right>1&&(c=e[++s]);var u=Math.abs(l-c.left),d=Math.abs(l-c.right),f=Math.min(u,d),p=c.isDash?f:-f;this.data[o+l]=Math.max(0,Math.min(255,p+128))}},D.prototype.addDash=function(t,n){var r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return e.warnOnce(`LineAtlas out of space`),null;for(var a=0,o=0;o<t.length;o++)a+=t[o];if(a!==0){var s=this.width/a,c=this.getDashRanges(t,this.width,s);n?this.addRoundDash(c,s,r):this.addRegularDash(c)}var l={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:a};return this.nextRow+=i,this.dirty=!0,l},D.prototype.bind=function(e){var t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))};var O=function t(n,r){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=e.uniqueId();for(var i=this.workerPool.acquire(this.id),a=0;a<i.length;a++){var o=i[a],s=new t.Actor(o,r,this.id);s.name=`Worker `+a,this.actors.push(s)}};O.prototype.broadcast=function(t,n,r){r||=function(){},e.asyncAll(this.actors,function(e,r){e.send(t,n,r)},r)},O.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},O.prototype.remove=function(){this.actors.forEach(function(e){e.remove()}),this.actors=[],this.workerPool.release(this.id)},O.Actor=e.Actor;function k(t,n,r){var i=function(i,a){if(i)return r(i);if(a){var o=e.pick(e.extend(a,t),[`tiles`,`minzoom`,`maxzoom`,`attribution`,`mapbox_logo`,`bounds`,`scheme`,`tileSize`,`encoding`]);a.vector_layers&&(o.vectorLayers=a.vector_layers,o.vectorLayerIds=o.vectorLayers.map(function(e){return e.id})),o.tiles=n.canonicalizeTileset(o,t.url),r(null,o)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url),e.ResourceType.Source),i):e.browser.frame(function(){return i(null,t)})}var A=function(t,n,r){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=r||24};A.prototype.validateBounds=function(e){return!Array.isArray(e)||e.length!==4?[-180,-90,180,90]:[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]},A.prototype.contains=function(t){var n=2**t.z,r={minX:Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),minY:Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),maxX:Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),maxY:Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n)};return t.x>=r.minX&&t.x<r.maxX&&t.y>=r.minY&&t.y<r.maxY};var j=function(t){function n(n,r,i,a){if(t.call(this),this.id=n,this.dispatcher=i,this.type=`vector`,this.minzoom=0,this.maxzoom=22,this.scheme=`xyz`,this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(r,[`url`,`scheme`,`tileSize`,`promoteId`])),this._options=e.extend({type:`vector`},r),this._collectResourceTiming=r.collectResourceTiming,this.tileSize!==512)throw Error(`vector tile sources must have a tileSize of 512`);this.setEventedParent(a)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event(`dataloading`,{dataType:`source`})),this._tileJSONRequest=k(this._options,this.map._requestManager,function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new A(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles,t.map._requestManager._customAccessToken),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken,t.map._requestManager._customAccessToken),t.fire(new e.Event(`data`,{dataType:`source`,sourceDataType:`metadata`})),t.fire(new e.Event(`data`,{dataType:`source`,sourceDataType:`content`})))})},n.prototype.loaded=function(){return this._loaded},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&=(this._tileJSONRequest.cancel(),null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(r,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};i.request.collectResourceTiming=this._collectResourceTiming,!t.actor||t.state===`expired`?(t.actor=this.dispatcher.getActor(),t.request=t.actor.send(`loadTile`,i,a.bind(this))):t.state===`loading`?t.reloadCallback=n:t.request=t.actor.send(`reloadTile`,i,a.bind(this));function a(r,i){if(delete t.request,t.aborted)return n(null);if(r&&r.status!==404)return n(r);i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),t.reloadCallback&&=(this.loadTile(t,t.reloadCallback),null)}},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send(`abortTile`,{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.unloadTile=function(e){e.unloadVectorData(),e.actor&&e.actor.send(`removeTile`,{uid:e.uid,type:this.type,source:this.id},void 0)},n.prototype.hasTransition=function(){return!1},n}(e.Evented),M=function(t){function n(n,r,i,a){t.call(this),this.id=n,this.dispatcher=i,this.setEventedParent(a),this.type=`raster`,this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme=`xyz`,this.tileSize=512,this._loaded=!1,this._options=e.extend({type:`raster`},r),e.extend(this,e.pick(r,[`url`,`scheme`,`tileSize`]))}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1,this.fire(new e.Event(`dataloading`,{dataType:`source`})),this._tileJSONRequest=k(this._options,this.map._requestManager,function(n,r){t._tileJSONRequest=null,t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(e.extend(t,r),r.bounds&&(t.tileBounds=new A(r.bounds,t.minzoom,t.maxzoom)),e.postTurnstileEvent(r.tiles),e.postMapLoadEvent(r.tiles,t.map._getMapId(),t.map._requestManager._skuToken),t.fire(new e.Event(`data`,{dataType:`source`,sourceDataType:`metadata`})),t.fire(new e.Event(`data`,{dataType:`source`,sourceDataType:`content`})))})},n.prototype.loaded=function(){return this._loaded},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.onRemove=function(){this._tileJSONRequest&&=(this._tileJSONRequest.cancel(),null)},n.prototype.serialize=function(){return e.extend({},this._options)},n.prototype.hasTile=function(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)},n.prototype.loadTile=function(t,n){var r=this,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),function(i,a){if(delete t.request,t.aborted)t.state=`unloaded`,n(null);else if(i)t.state=`errored`,n(i);else if(a){r.map._refreshExpiredTiles&&t.setExpiryData(a),delete a.cacheControl,delete a.expires;var o=r.map.painter.context,s=o.gl;t.texture=r.map.painter.getTileTexture(a.width),t.texture?t.texture.update(a,{useMipmap:!0}):(t.texture=new e.Texture(o,a,s.RGBA,{useMipmap:!0}),t.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),t.state=`loaded`,e.cacheEntryPossiblyAdded(r.dispatcher),n(null)}})},n.prototype.abortTile=function(e,t){e.request&&(e.request.cancel(),delete e.request),t()},n.prototype.unloadTile=function(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()},n.prototype.hasTransition=function(){return!1},n}(e.Evented),N=function(t){function n(n,r,i,a){t.call(this,n,r,i,a),this.type=`raster-dem`,this.maxzoom=22,this._options=e.extend({type:`raster-dem`},r),this.encoding=r.encoding||`mapbox`}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.serialize=function(){return{type:`raster-dem`,url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},n.prototype.loadTile=function(t,n){var r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),i.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID);function i(r,i){if(delete t.request,t.aborted)t.state=`unloaded`,n(null);else if(r)t.state=`errored`,n(r);else if(i){this.map._refreshExpiredTiles&&t.setExpiryData(i),delete i.cacheControl,delete i.expires;var o=e.window.ImageBitmap&&i instanceof e.window.ImageBitmap&&e.offscreenCanvasSupported()?i:e.browser.getImageData(i,1),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:o,encoding:this.encoding};(!t.actor||t.state===`expired`)&&(t.actor=this.dispatcher.getActor(),t.actor.send(`loadDEMTile`,s,a.bind(this)))}}function a(e,r){e&&(t.state=`errored`,n(e)),r&&(t.dem=r,t.needsHillshadePrepare=!0,t.state=`loaded`,n(null))}},n.prototype._getNeighboringTiles=function(t){var n=t.canonical,r=2**n.z,i=(n.x-1+r)%r,a=n.x===0?t.wrap-1:t.wrap,o=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,c={};return c[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y).key]={backfilled:!1},c[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y).key]={backfilled:!1},n.y>0&&(c[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y-1).key]={backfilled:!1},c[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},c[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y-1).key]={backfilled:!1}),n.y+1<r&&(c[new e.OverscaledTileID(t.overscaledZ,a,n.z,i,n.y+1).key]={backfilled:!1},c[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},c[new e.OverscaledTileID(t.overscaledZ,s,n.z,o,n.y+1).key]={backfilled:!1}),c},n.prototype.unloadTile=function(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state=`unloaded`,e.actor&&e.actor.send(`removeDEMTile`,{uid:e.uid,source:this.id})},n}(M),P=function(t){function n(n,r,i,a){t.call(this),this.id=n,this.type=`geojson`,this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(a),this._data=r.data,this._options=e.extend({},r),this._collectResourceTiming=r.collectResourceTiming,this._resourceTiming=[],r.maxzoom!==void 0&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;var o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(r.buffer===void 0?128:r.buffer)*o,tolerance:(r.tolerance===void 0?.375:r.tolerance)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:r.clusterMaxZoom===void 0?this.maxzoom-1:Math.min(r.clusterMaxZoom,this.maxzoom-1),extent:e.EXTENT,radius:(r.clusterRadius||50)*o,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties},r.workerOptions)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(){var t=this;this.fire(new e.Event(`dataloading`,{dataType:`source`})),this._updateWorkerData(function(n){if(n){t.fire(new e.ErrorEvent(n));return}var r={dataType:`source`,sourceDataType:`metadata`};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(r.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire(new e.Event(`data`,r))})},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setData=function(t){var n=this;return this._data=t,this.fire(new e.Event(`dataloading`,{dataType:`source`})),this._updateWorkerData(function(t){if(t){n.fire(new e.ErrorEvent(t));return}var r={dataType:`source`,sourceDataType:`content`};n._collectResourceTiming&&n._resourceTiming&&n._resourceTiming.length>0&&(r.resourceTiming=n._resourceTiming,n._resourceTiming=[]),n.fire(new e.Event(`data`,r))}),this},n.prototype.getClusterExpansionZoom=function(e,t){return this.actor.send(`geojson.getClusterExpansionZoom`,{clusterId:e,source:this.id},t),this},n.prototype.getClusterChildren=function(e,t){return this.actor.send(`geojson.getClusterChildren`,{clusterId:e,source:this.id},t),this},n.prototype.getClusterLeaves=function(e,t,n,r){return this.actor.send(`geojson.getClusterLeaves`,{source:this.id,clusterId:e,limit:t,offset:n},r),this},n.prototype._updateWorkerData=function(t){var n=this;this._loaded=!1;var r=e.extend({},this.workerOptions),i=this._data;typeof i==`string`?(r.request=this.map._requestManager.transformRequest(e.browser.resolveURL(i),e.ResourceType.Source),r.request.collectResourceTiming=this._collectResourceTiming):r.data=JSON.stringify(i),this.actor.send(this.type+`.loadData`,r,function(e,i){n._removed||i&&i.abandoned||(n._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[n.id]&&(n._resourceTiming=i.resourceTiming[n.id].slice(0)),n.actor.send(n.type+`.coalesce`,{source:r.source},null),t(e))})},n.prototype.loaded=function(){return this._loaded},n.prototype.loadTile=function(t,n){var r=this,i=t.actor?`reloadTile`:`loadTile`;t.actor=this.actor;var a={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};t.request=this.actor.send(i,a,function(e,a){return delete t.request,t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(a,r.map.painter,i===`reloadTile`),n(null))})},n.prototype.abortTile=function(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0},n.prototype.unloadTile=function(e){e.unloadVectorData(),this.actor.send(`removeTile`,{uid:e.uid,type:this.type,source:this.id})},n.prototype.onRemove=function(){this._removed=!0,this.actor.send(`removeSource`,{type:this.type,source:this.id})},n.prototype.serialize=function(){return e.extend({},this._options,{type:this.type,data:this._data})},n.prototype.hasTransition=function(){return!1},n}(e.Evented),F=e.createLayout([{name:`a_pos`,type:`Int16`,components:2},{name:`a_texture_pos`,type:`Int16`,components:2}]),I=function(t){function n(e,n,r,i){t.call(this),this.id=e,this.dispatcher=r,this.coordinates=n.coordinates,this.type=`image`,this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=n}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(t,n){var r=this;this._loaded=!1,this.fire(new e.Event(`dataloading`,{dataType:`source`})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),function(i,a){r._loaded=!0,i?r.fire(new e.ErrorEvent(i)):a&&(r.image=a,t&&(r.coordinates=t),n&&n(),r._finishLoading())})},n.prototype.loaded=function(){return this._loaded},n.prototype.updateImage=function(e){var t=this;return!this.image||!e.url?this:(this.options.url=e.url,this.load(e.coordinates,function(){t.texture=null}),this)},n.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event(`data`,{dataType:`source`,sourceDataType:`metadata`})))},n.prototype.onAdd=function(e){this.map=e,this.load()},n.prototype.setCoordinates=function(t){var n=this;this.coordinates=t;var r=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=L(r),this.minzoom=this.maxzoom=this.tileID.z;var i=r.map(function(e){return n.tileID.getTilePoint(e)._round()});return this._boundsArray=new e.StructArrayLayout4i8,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event(`data`,{dataType:`source`,sourceDataType:`content`})),this},n.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||=t.createVertexBuffer(this._boundsArray,F.members),this.boundsSegments||=e.SegmentVector.simpleSegment(0,0,4,2),this.texture||(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];i.state!==`loaded`&&(i.state=`loaded`,i.texture=this.texture)}}},n.prototype.loadTile=function(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state=`errored`,t(null))},n.prototype.serialize=function(){return{type:`image`,url:this.options.url,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return!1},n}(e.Evented);function L(t){for(var n=1/0,r=1/0,i=-1/0,a=-1/0,o=0,s=t;o<s.length;o+=1){var c=s[o];n=Math.min(n,c.x),r=Math.min(r,c.y),i=Math.max(i,c.x),a=Math.max(a,c.y)}var l=i-n,u=a-r,d=Math.max(l,u),f=Math.max(0,Math.floor(-Math.log(d)/Math.LN2)),p=2**f;return new e.CanonicalTileID(f,Math.floor((n+i)/2*p),Math.floor((r+a)/2*p))}var R=function(t){function n(e,n,r,i){t.call(this,e,n,r,i),this.roundZoom=!0,this.type=`video`,this.options=n}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(){var t=this;this._loaded=!1;var n=this.options;this.urls=[];for(var r=0,i=n.urls;r<i.length;r+=1){var a=i[r];this.urls.push(this.map._requestManager.transformRequest(a,e.ResourceType.Source).url)}e.getVideo(this.urls,function(n,r){t._loaded=!0,n?t.fire(new e.ErrorEvent(n)):r&&(t.video=r,t.video.loop=!0,t.video.addEventListener(`playing`,function(){t.map.triggerRepaint()}),t.map&&t.video.play(),t._finishLoading())})},n.prototype.pause=function(){this.video&&this.video.pause()},n.prototype.play=function(){this.video&&this.video.play()},n.prototype.seek=function(t){if(this.video){var n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError(`sources.`+this.id,null,`Playback for this video can be set only between the `+n.start(0)+` and `+n.end(0)+`-second mark.`))):this.video.currentTime=t}},n.prototype.getVideo=function(){return this.video},n.prototype.onAdd=function(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},n.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var t=this.map.painter.context,n=t.gl;for(var r in this.boundsBuffer||=t.createVertexBuffer(this._boundsArray,F.members),this.boundsSegments||=e.SegmentVector.simpleSegment(0,0,4,2),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this.tiles){var i=this.tiles[r];i.state!==`loaded`&&(i.state=`loaded`,i.texture=this.texture)}}},n.prototype.serialize=function(){return{type:`video`,urls:this.urls,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this.video&&!this.video.paused},n}(I),z=function(t){function n(n,r,i,a){t.call(this,n,r,i,a),r.coordinates?(!Array.isArray(r.coordinates)||r.coordinates.length!==4||r.coordinates.some(function(e){return!Array.isArray(e)||e.length!==2||e.some(function(e){return typeof e!=`number`})}))&&this.fire(new e.ErrorEvent(new e.ValidationError(`sources.`+n,null,`"coordinates" property must be an array of 4 longitude/latitude array pairs`))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.`+n,null,`missing required property "coordinates"`))),r.animate&&typeof r.animate!=`boolean`&&this.fire(new e.ErrorEvent(new e.ValidationError(`sources.`+n,null,`optional "animate" property must be a boolean value`))),r.canvas?typeof r.canvas!=`string`&&!(r.canvas instanceof e.window.HTMLCanvasElement)&&this.fire(new e.ErrorEvent(new e.ValidationError(`sources.`+n,null,`"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance`))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.`+n,null,`missing required property "canvas"`))),this.options=r,this.animate=r.animate===void 0?!0:r.animate}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.load=function(){if(this._loaded=!0,this.canvas||=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new e.ErrorEvent(Error(`Canvas dimensions cannot be less than or equal to zero.`)));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&=(this.prepare(),!1)},this._finishLoading()},n.prototype.getCanvas=function(){return this.canvas},n.prototype.onAdd=function(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()},n.prototype.onRemove=function(){this.pause()},n.prototype.prepare=function(){var t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var n=this.map.painter.context,r=n.gl;for(var i in this.boundsBuffer||=n.createVertexBuffer(this._boundsArray,F.members),this.boundsSegments||=e.SegmentVector.simpleSegment(0,0,4,2),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,r.RGBA,{premultiply:!0}),this.tiles){var a=this.tiles[i];a.state!==`loaded`&&(a.state=`loaded`,a.texture=this.texture)}}},n.prototype.serialize=function(){return{type:`canvas`,coordinates:this.coordinates}},n.prototype.hasTransition=function(){return this._playing},n.prototype._hasInvalidDimensions=function(){for(var e=0,t=[this.canvas.width,this.canvas.height];e<t.length;e+=1){var n=t[e];if(isNaN(n)||n<=0)return!0}return!1},n}(I),B={vector:j,raster:M,"raster-dem":N,geojson:P,video:R,image:I,canvas:z},V=function(t,n,r,i){var a=new B[n.type](t,n,r,i);if(a.id!==t)throw Error(`Expected Source id to be `+t+` instead of `+a.id);return e.bindAll([`load`,`abort`,`unload`,`serialize`,`prepare`],a),a},H=function(e){return B[e]},U=function(e,t){B[e]=t};function W(t,n){var r=e.identity([]);return e.translate(r,r,[1,1,0]),e.scale(r,r,[t.width*.5,t.height*.5,1]),e.multiply(r,r,t.calculatePosMatrix(n.toUnwrapped()))}function G(e,t,n){if(e)for(var r=0,i=e;r<i.length;r+=1){var a=t[i[r]];if(a&&a.source===n&&a.type===`fill-extrusion`)return!0}else for(var o in t){var s=t[o];if(s.source===n&&s.type===`fill-extrusion`)return!0}return!1}function K(e,t,n,r,i,a){var o=G(i&&i.layers,t,e.id),s=a.maxPitchScaleFactor(),c=e.tilesIn(r,s,o);c.sort(J);for(var l=[],u=0,d=c;u<d.length;u+=1){var f=d[u];l.push({wrappedTileID:f.tileID.wrapped().key,queryResults:f.tile.queryRenderedFeatures(t,n,e._state,f.queryGeometry,f.cameraQueryGeometry,f.scale,i,a,s,W(e.transform,f.tileID))})}var p=Y(l);for(var m in p)p[m].forEach(function(t){var n=t.feature,r=e.getFeatureState(n.layer[`source-layer`],n.id);n.source=n.layer.source,n.layer[`source-layer`]&&(n.sourceLayer=n.layer[`source-layer`]),n.state=r});return p}function ee(e,t,n,r,i,a,o){for(var s={},c=a.queryRenderedSymbols(r),l=[],u=0,d=Object.keys(c).map(Number);u<d.length;u+=1){var f=d[u];l.push(o[f])}l.sort(J);for(var p=function(){var n=h[m],r=n.featureIndex.lookupSymbolFeatures(c[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(var a in r){var o=s[a]=s[a]||[],l=r[a];l.sort(function(e,t){var r=n.featureSortOrder;if(r){var i=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-i}else return t.featureIndex-e.featureIndex});for(var u=0,d=l;u<d.length;u+=1){var f=d[u];o.push(f)}}},m=0,h=l;m<h.length;m+=1)p();var g=function(t){s[t].forEach(function(r){var i=r.feature,a=n[e[t].source].getFeatureState(i.layer[`source-layer`],i.id);i.source=i.layer.source,i.layer[`source-layer`]&&(i.sourceLayer=i.layer[`source-layer`]),i.state=a})};for(var _ in s)g(_);return s}function q(e,t){for(var n=e.getRenderableIds().map(function(t){return e.getTileByID(t)}),r=[],i={},a=0;a<n.length;a++){var o=n[a],s=o.tileID.canonical.key;i[s]||(i[s]=!0,o.querySourceFeatures(r,t))}return r}function J(e,t){var n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}function Y(e){for(var t={},n={},r=0,i=e;r<i.length;r+=1){var a=i[r],o=a.queryResults,s=a.wrappedTileID,c=n[s]=n[s]||{};for(var l in o)for(var u=o[l],d=c[l]=c[l]||{},f=t[l]=t[l]||[],p=0,m=u;p<m.length;p+=1){var h=m[p];d[h.featureIndex]||(d[h.featureIndex]=!0,f.push(h))}}return t}var te=function(e,t){this.max=e,this.onRemove=t,this.reset()};te.prototype.reset=function(){for(var e in this.data)for(var t=0,n=this.data[e];t<n.length;t+=1){var r=n[t];r.timeout&&clearTimeout(r.timeout),this.onRemove(r.value)}return this.data={},this.order=[],this},te.prototype.add=function(e,t,n){var r=this,i=e.wrapped().key;this.data[i]===void 0&&(this.data[i]=[]);var a={value:t,timeout:void 0};if(n!==void 0&&(a.timeout=setTimeout(function(){r.remove(e,a)},n)),this.data[i].push(a),this.order.push(i),this.order.length>this.max){var o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this},te.prototype.has=function(e){return e.wrapped().key in this.data},te.prototype.getAndRemove=function(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null},te.prototype._getAndRemoveByKey=function(e){var t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),this.data[e].length===0&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value},te.prototype.getByKey=function(e){var t=this.data[e];return t?t[0].value:null},te.prototype.get=function(e){return this.has(e)?this.data[e.wrapped().key][0].value:null},te.prototype.remove=function(e,t){if(!this.has(e))return this;var n=e.wrapped().key,r=t===void 0?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),this.data[n].length===0&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this},te.prototype.setMaxSize=function(e){for(this.max=e;this.order.length>this.max;){var t=this._getAndRemoveByKey(this.order[0]);t&&this.onRemove(t)}return this},te.prototype.filter=function(e){var t=[];for(var n in this.data)for(var r=0,i=this.data[n];r<i.length;r+=1){var a=i[r];e(a.value)||t.push(a)}for(var o=0,s=t;o<s.length;o+=1){var c=s[o];this.remove(c.value.tileID,c)}};var ne=function(e,t,n){this.context=e;var r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=!!n,this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};ne.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},ne.prototype.updateData=function(e){var t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)},ne.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var re={Int8:`BYTE`,Uint8:`UNSIGNED_BYTE`,Int16:`SHORT`,Uint16:`UNSIGNED_SHORT`,Int32:`INT`,Uint32:`UNSIGNED_INT`,Float32:`FLOAT`},ie=function(e,t,n,r){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.context=e;var i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer};ie.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},ie.prototype.updateData=function(e){var t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)},ie.prototype.enableAttributes=function(e,t){for(var n=0;n<this.attributes.length;n++){var r=this.attributes[n],i=t.attributes[r.name];i!==void 0&&e.enableVertexAttribArray(i)}},ie.prototype.setVertexAttribPointers=function(e,t,n){for(var r=0;r<this.attributes.length;r++){var i=this.attributes[r],a=t.attributes[i.name];a!==void 0&&e.vertexAttribPointer(a,i.components,e[re[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}},ie.prototype.destroy=function(){var e=this.context.gl;this.buffer&&(e.deleteBuffer(this.buffer),delete this.buffer)};var ae=function(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};ae.prototype.get=function(){return this.current},ae.prototype.set=function(e){},ae.prototype.getDefault=function(){return this.default},ae.prototype.setDefault=function(){this.set(this.default)};var oe=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a&&!this.dirty||(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(ae),se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 1},t.prototype.set=function(e){e===this.current&&!this.dirty||(this.gl.clearDepth(e),this.current=e,this.dirty=!1)},t}(ae),ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 0},t.prototype.set=function(e){e===this.current&&!this.dirty||(this.gl.clearStencil(e),this.current=e,this.dirty=!1)},t}(ae),le=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return[!0,!0,!0,!0]},t.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&!this.dirty||(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(ae),ue=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!0},t.prototype.set=function(e){e===this.current&&!this.dirty||(this.gl.depthMask(e),this.current=e,this.dirty=!1)},t}(ae),de=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 255},t.prototype.set=function(e){e===this.current&&!this.dirty||(this.gl.stencilMask(e),this.current=e,this.dirty=!1)},t}(ae),fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},t.prototype.set=function(e){var t=this.current;e.func===t.func&&e.ref===t.ref&&e.mask===t.mask&&!this.dirty||(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)},t}(ae),pe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]},t.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&!this.dirty||(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)},t}(ae),me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(!(e===this.current&&!this.dirty)){var t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}},t}(ae),he=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return[0,1]},t.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&!this.dirty||(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)},t}(ae),ge=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(!(e===this.current&&!this.dirty)){var t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}},t}(ae),_e=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.LESS},t.prototype.set=function(e){e===this.current&&!this.dirty||(this.gl.depthFunc(e),this.current=e,this.dirty=!1)},t}(ae),ve=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(!(e===this.current&&!this.dirty)){var t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}},t}(ae),ye=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[e.ONE,e.ZERO]},t.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&!this.dirty||(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)},t}(ae),be=function(t){function n(){t.apply(this,arguments)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getDefault=function(){return e.Color.transparent},n.prototype.set=function(e){var t=this.current;e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a&&!this.dirty||(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)},n}(ae),xe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.FUNC_ADD},t.prototype.set=function(e){e===this.current&&!this.dirty||(this.gl.blendEquation(e),this.current=e,this.dirty=!1)},t}(ae),Se=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(!(e===this.current&&!this.dirty)){var t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}},t}(ae),Ce=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.BACK},t.prototype.set=function(e){e===this.current&&!this.dirty||(this.gl.cullFace(e),this.current=e,this.dirty=!1)},t}(ae),we=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.CCW},t.prototype.set=function(e){e===this.current&&!this.dirty||(this.gl.frontFace(e),this.current=e,this.dirty=!1)},t}(ae),Te=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){e===this.current&&!this.dirty||(this.gl.useProgram(e),this.current=e,this.dirty=!1)},t}(ae),Ee=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return this.gl.TEXTURE0},t.prototype.set=function(e){e===this.current&&!this.dirty||(this.gl.activeTexture(e),this.current=e,this.dirty=!1)},t}(ae),X=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){var e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]},t.prototype.set=function(e){var t=this.current;e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&!this.dirty||(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)},t}(ae),Z=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(!(e===this.current&&!this.dirty)){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}},t}(ae),De=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(!(e===this.current&&!this.dirty)){var t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(ae),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(!(e===this.current&&!this.dirty)){var t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}},t}(ae),Oe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){if(!(e===this.current&&!this.dirty)){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}},t}(ae),ke=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){var t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1},t}(ae),Ae=function(e){function t(t){e.call(this,t),this.vao=t.extVertexArrayObject}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t.prototype.set=function(e){!this.vao||e===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)},t}(ae),je=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return 4},t.prototype.set=function(e){if(!(e===this.current&&!this.dirty)){var t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}},t}(ae),Me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(!(e===this.current&&!this.dirty)){var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}},t}(ae),Ne=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return!1},t.prototype.set=function(e){if(!(e===this.current&&!this.dirty)){var t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}},t}(ae),Pe=function(e){function t(t,n){e.call(this,t),this.context=t,this.parent=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDefault=function(){return null},t}(ae),Fe=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setDirty=function(){this.dirty=!0},t.prototype.set=function(e){if(!(e===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}},t}(Pe),Ie=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.set=function(e){if(!(e===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}},t}(Pe),Le=function(e,t,n,r){this.context=e,this.width=t,this.height=n;var i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new Fe(e,i),r&&(this.depthAttachment=new Ie(e,i))};Le.prototype.destroy=function(){var e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){var n=this.depthAttachment.get();n&&e.deleteRenderbuffer(n)}e.deleteFramebuffer(this.framebuffer)};var Re=519,ze=function(e,t,n){this.func=e,this.mask=t,this.range=n};ze.ReadOnly=!1,ze.ReadWrite=!0,ze.disabled=new ze(Re,ze.ReadOnly,[0,1]);var Be=519,Ve=7680,He=function(e,t,n,r,i,a){this.test=e,this.ref=t,this.mask=n,this.fail=r,this.depthFail=i,this.pass=a};He.disabled=new He({func:Be,mask:0},0,0,Ve,Ve,Ve);var Ue=0,We=1,Ge=771,Ke=function(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n};Ke.Replace=[We,Ue],Ke.disabled=new Ke(Ke.Replace,e.Color.transparent,[!1,!1,!1,!1]),Ke.unblended=new Ke(Ke.Replace,e.Color.transparent,[!0,!0,!0,!0]),Ke.alphaBlended=new Ke([We,Ge],e.Color.transparent,[!0,!0,!0,!0]);var qe=1029,Je=2305,Ye=function(e,t,n){this.enable=e,this.mode=t,this.frontFace=n};Ye.disabled=new Ye(!1,qe,Je),Ye.backCCW=new Ye(!0,qe,Je);var Xe=function(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension(`OES_vertex_array_object`),this.clearColor=new oe(this),this.clearDepth=new se(this),this.clearStencil=new ce(this),this.colorMask=new le(this),this.depthMask=new ue(this),this.stencilMask=new de(this),this.stencilFunc=new fe(this),this.stencilOp=new pe(this),this.stencilTest=new me(this),this.depthRange=new he(this),this.depthTest=new ge(this),this.depthFunc=new _e(this),this.blend=new ve(this),this.blendFunc=new ye(this),this.blendColor=new be(this),this.blendEquation=new xe(this),this.cullFace=new Se(this),this.cullFaceSide=new Ce(this),this.frontFace=new we(this),this.program=new Te(this),this.activeTexture=new Ee(this),this.viewport=new X(this),this.bindFramebuffer=new Z(this),this.bindRenderbuffer=new De(this),this.bindTexture=new Q(this),this.bindVertexBuffer=new Oe(this),this.bindElementBuffer=new ke(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ae(this),this.pixelStoreUnpack=new je(this),this.pixelStoreUnpackPremultiplyAlpha=new Me(this),this.pixelStoreUnpackFlipY=new Ne(this),this.extTextureFilterAnisotropic=e.getExtension(`EXT_texture_filter_anisotropic`)||e.getExtension(`MOZ_EXT_texture_filter_anisotropic`)||e.getExtension(`WEBKIT_EXT_texture_filter_anisotropic`),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension(`OES_texture_half_float`),this.extTextureHalfFloat&&(e.getExtension(`OES_texture_half_float_linear`),this.extRenderToTextureHalfFloat=e.getExtension(`EXT_color_buffer_half_float`)),this.extTimerQuery=e.getExtension(`EXT_disjoint_timer_query`)};Xe.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},Xe.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},Xe.prototype.createIndexBuffer=function(e,t){return new ne(this,e,t)},Xe.prototype.createVertexBuffer=function(e,t,n){return new ie(this,e,t,n)},Xe.prototype.createRenderbuffer=function(e,t,n){var r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i},Xe.prototype.createFramebuffer=function(e,t,n){return new Le(this,e,t,n)},Xe.prototype.clear=function(e){var t=e.color,n=e.depth,r=this.gl,i=0;t&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),n!==void 0&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),r.clear(i)},Xe.prototype.setCullFace=function(e){e.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))},Xe.prototype.setDepthMode=function(e){e.func===this.gl.ALWAYS&&!e.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range))},Xe.prototype.setStencilMode=function(e){e.test.func===this.gl.ALWAYS&&!e.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask}))},Xe.prototype.setColorMode=function(t){e.deepEqual(t.blendFunction,Ke.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},Xe.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var Ze=function(t){function n(n,r,i){var a=this;t.call(this),this.id=n,this.dispatcher=i,this.on(`data`,function(e){e.dataType===`source`&&e.sourceDataType===`metadata`&&(a._sourceLoaded=!0),a._sourceLoaded&&!a._paused&&e.dataType===`source`&&e.sourceDataType===`content`&&(a.reload(),a.transform&&a.update(a.transform))}),this.on(`error`,function(){a._sourceErrored=!0}),this._source=V(n,r,i,this),this._tiles={},this._cache=new te(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new e.SourceFeatureState}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.onAdd=function(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)},n.prototype.onRemove=function(e){this._source&&this._source.onRemove&&this._source.onRemove(e)},n.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var e in this._tiles){var t=this._tiles[e];if(t.state!==`loaded`&&t.state!==`errored`)return!1}return!0},n.prototype.getSource=function(){return this._source},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){if(this._paused){var e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}},n.prototype._loadTile=function(e,t){return this._source.loadTile(e,t)},n.prototype._unloadTile=function(e){if(this._source.unloadTile)return this._source.unloadTile(e,function(){})},n.prototype._abortTile=function(e){if(this._source.abortTile)return this._source.abortTile(e,function(){})},n.prototype.serialize=function(){return this._source.serialize()},n.prototype.prepare=function(e){for(var t in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}},n.prototype.getIds=function(){return e.values(this._tiles).map(function(e){return e.tileID}).sort(Qe).map(function(e){return e.key})},n.prototype.getRenderableIds=function(t){var n=this,r=[];for(var i in this._tiles)this._isIdRenderable(i,t)&&r.push(this._tiles[i]);return t?r.sort(function(t,r){var i=t.tileID,a=r.tileID,o=new e.Point(i.canonical.x,i.canonical.y)._rotate(n.transform.angle),s=new e.Point(a.canonical.x,a.canonical.y)._rotate(n.transform.angle);return i.overscaledZ-a.overscaledZ||s.y-o.y||s.x-o.x}).map(function(e){return e.tileID.key}):r.map(function(e){return e.tileID}).sort(Qe).map(function(e){return e.key})},n.prototype.hasRenderableParent=function(e){var t=this.findLoadedParent(e,0);return t?this._isIdRenderable(t.tileID.key):!1},n.prototype._isIdRenderable=function(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())},n.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}for(var e in this._cache.reset(),this._tiles)this._tiles[e].state!==`errored`&&this._reloadTile(e,`reloading`)},n.prototype._reloadTile=function(e,t){var n=this._tiles[e];n&&(n.state!==`loading`&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))},n.prototype._tileLoaded=function(t,n,r,i){if(i){t.state=`errored`,i.status===404?this.update(this.transform):this._source.fire(new e.ErrorEvent(i,{tile:t}));return}t.timeAdded=e.browser.now(),r===`expired`&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),this.getSource().type===`raster-dem`&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),this._source.fire(new e.Event(`data`,{dataType:`source`,tile:t,coord:t.tileID}))},n.prototype._backfillDEM=function(e){for(var t=this.getRenderableIds(),n=0;n<t.length;n++){var r=t[n];if(e.neighboringTiles&&e.neighboringTiles[r]){var i=this.getTileByID(r);a(e,i),a(i,e)}}function a(e,t){e.needsHillshadePrepare=!0;var n=t.tileID.canonical.x-e.tileID.canonical.x,r=t.tileID.canonical.y-e.tileID.canonical.y,i=2**e.tileID.canonical.z,a=t.tileID.key;n===0&&r===0||Math.abs(r)>1||(Math.abs(n)>1&&(Math.abs(n+i)===1?n+=i:Math.abs(n-i)===1&&(n-=i)),!(!t.dem||!e.dem)&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[a]&&(e.neighboringTiles[a].backfilled=!0)))}},n.prototype.getTile=function(e){return this.getTileByID(e.key)},n.prototype.getTileByID=function(e){return this._tiles[e]},n.prototype._retainLoadedChildren=function(e,t,n,r){for(var i in this._tiles){var a=this._tiles[i];if(!(r[i]||!a.hasData()||a.tileID.overscaledZ<=t||a.tileID.overscaledZ>n)){for(var o=a.tileID;a&&a.tileID.overscaledZ>t+1;){var s=a.tileID.scaledTo(a.tileID.overscaledZ-1);a=this._tiles[s.key],a&&a.hasData()&&(o=s)}for(var c=o;c.overscaledZ>t;)if(c=c.scaledTo(c.overscaledZ-1),e[c.key]){r[o.key]=o;break}}}},n.prototype.findLoadedParent=function(e,t){if(e.key in this._loadedParentTiles){var n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(var r=e.overscaledZ-1;r>=t;r--){var i=e.scaledTo(r),a=this._getLoadedTile(i);if(a)return a}},n.prototype._getLoadedTile=function(e){var t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)},n.prototype.updateCacheSize=function(e){var t=(Math.ceil(e.width/this._source.tileSize)+1)*(Math.ceil(e.height/this._source.tileSize)+1),n=Math.floor(t*5),r=typeof this._maxTileCacheSize==`number`?Math.min(this._maxTileCacheSize,n):n;this._cache.setMaxSize(r)},n.prototype.handleWrapJump=function(e){var t=(e-(this._prevLng===void 0?e:this._prevLng))/360,n=Math.round(t);if(this._prevLng=e,n){var r={};for(var i in this._tiles){var a=this._tiles[i];a.tileID=a.tileID.unwrapTo(a.tileID.wrap+n),r[a.tileID.key]=a}for(var o in this._tiles=r,this._timers)clearTimeout(this._timers[o]),delete this._timers[o];for(var s in this._tiles){var c=this._tiles[s];this._setTileReloadTimer(s,c)}}},n.prototype.update=function(t){var r=this;if(this.transform=t,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var i;this.used?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(t){return new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)}):(i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter(function(e){return r._source.hasTile(e)}))):i=[];var a=t.coveringZoomLevel(this._source),o=Math.max(a-n.maxOverzooming,this._source.minzoom),s=Math.max(a+n.maxUnderzooming,this._source.minzoom),c=this._updateRetainedTiles(i,a);if($e(this._source.type)){for(var l={},u={},d=Object.keys(c),f=0,p=d;f<p.length;f+=1){var m=p[f],h=c[m],g=this._tiles[m];if(!(!g||g.fadeEndTime&&g.fadeEndTime<=e.browser.now())){var _=this.findLoadedParent(h,o);_&&(this._addTile(_.tileID),l[_.tileID.key]=_.tileID),u[m]=h}}for(var v in this._retainLoadedChildren(u,a,s,c),l)c[v]||(this._coveredTiles[v]=!0,c[v]=l[v])}for(var y in c)this._tiles[y].clearFadeHold();for(var b=e.keysDifference(this._tiles,c),x=0,S=b;x<S.length;x+=1){var C=S[x],w=this._tiles[C];w.hasSymbolBuckets&&!w.holdingForFade()?w.setHoldDuration(this.map._fadeDuration):(!w.hasSymbolBuckets||w.symbolFadeFinished())&&this._removeTile(C)}this._updateLoadedParentTileCache()}},n.prototype.releaseSymbolFadeTiles=function(){for(var e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)},n.prototype._updateRetainedTiles=function(e,t){for(var r={},i={},a=Math.max(t-n.maxOverzooming,this._source.minzoom),o=Math.max(t+n.maxUnderzooming,this._source.minzoom),s={},c=0,l=e;c<l.length;c+=1){var u=l[c],d=this._addTile(u);r[u.key]=u,!d.hasData()&&t<this._source.maxzoom&&(s[u.key]=u)}this._retainLoadedChildren(s,t,o,r);for(var f=0,p=e;f<p.length;f+=1){var m=p[f],h=this._tiles[m.key];if(!h.hasData()){if(t+1>this._source.maxzoom){var g=m.children(this._source.maxzoom)[0],_=this.getTile(g);if(_&&_.hasData()){r[g.key]=g;continue}}else{var v=m.children(this._source.maxzoom);if(r[v[0].key]&&r[v[1].key]&&r[v[2].key]&&r[v[3].key])continue}for(var y=h.wasRequested(),b=m.overscaledZ-1;b>=a;--b){var x=m.scaledTo(b);if(i[x.key]||(i[x.key]=!0,h=this.getTile(x),!h&&y&&(h=this._addTile(x)),h&&(r[x.key]=x,y=h.wasRequested(),h.hasData())))break}}}return r},n.prototype._updateLoadedParentTileCache=function(){for(var e in this._loadedParentTiles={},this._tiles){for(var t=[],n=void 0,r=this._tiles[e].tileID;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);var i=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(i),n)break;r=i}for(var a=0,o=t;a<o.length;a+=1){var s=o[a];this._loadedParentTiles[s]=n}}},n.prototype._addTile=function(t){var n=this._tiles[t.key];if(n)return n;n=this._cache.getAndRemove(t),n&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));var r=!!n;return r||(n=new e.Tile(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n?(n.uses++,this._tiles[t.key]=n,r||this._source.fire(new e.Event(`dataloading`,{tile:n,coord:n.tileID,dataType:`source`})),n):null},n.prototype._setTileReloadTimer=function(e,t){var n=this;e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);var r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout(function(){n._reloadTile(e,`expired`),delete n._timers[e]},r))},n.prototype._removeTile=function(e){var t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),!(t.uses>0)&&(t.hasData()&&t.state!==`reloading`?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))},n.prototype.clearTiles=function(){for(var e in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(e);this._cache.reset()},n.prototype.tilesIn=function(t,n,r){var i=this,a=[],o=this.transform;if(!o)return a;for(var s=r?o.getCameraQueryGeometry(t):t,c=t.map(function(e){return o.pointCoordinate(e)}),l=s.map(function(e){return o.pointCoordinate(e)}),u=this.getIds(),d=1/0,f=1/0,p=-1/0,m=-1/0,h=0,g=l;h<g.length;h+=1){var _=g[h];d=Math.min(d,_.x),f=Math.min(f,_.y),p=Math.max(p,_.x),m=Math.max(m,_.y)}for(var v=function(t){var r=i._tiles[u[t]];if(!r.holdingForFade()){var s=r.tileID,h=2**(o.zoom-r.tileID.overscaledZ),g=n*r.queryPadding*e.EXTENT/r.tileSize/h,_=[s.getTilePoint(new e.MercatorCoordinate(d,f)),s.getTilePoint(new e.MercatorCoordinate(p,m))];if(_[0].x-g<e.EXTENT&&_[0].y-g<e.EXTENT&&_[1].x+g>=0&&_[1].y+g>=0){var v=c.map(function(e){return s.getTilePoint(e)}),y=l.map(function(e){return s.getTilePoint(e)});a.push({tile:r,tileID:s,queryGeometry:v,cameraQueryGeometry:y,scale:h})}}},y=0;y<u.length;y++)v(y);return a},n.prototype.getVisibleCoordinates=function(e){for(var t=this,n=this.getRenderableIds(e).map(function(e){return t._tiles[e].tileID}),r=0,i=n;r<i.length;r+=1){var a=i[r];a.posMatrix=this.transform.calculatePosMatrix(a.toUnwrapped())}return n},n.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if($e(this._source.type))for(var t in this._tiles){var n=this._tiles[t];if(n.fadeEndTime!==void 0&&n.fadeEndTime>=e.browser.now())return!0}return!1},n.prototype.setFeatureState=function(e,t,n){e||=`_geojsonTileLayer`,this._state.updateState(e,t,n)},n.prototype.removeFeatureState=function(e,t,n){e||=`_geojsonTileLayer`,this._state.removeFeatureState(e,t,n)},n.prototype.getFeatureState=function(e,t){return e||=`_geojsonTileLayer`,this._state.getState(e,t)},n.prototype.setDependencies=function(e,t,n){var r=this._tiles[e];r&&r.setDependencies(t,n)},n.prototype.reloadTilesForDependencies=function(e,t){for(var n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(n,`reloading`);this._cache.filter(function(n){return!n.hasDependency(e,t)})},n}(e.Evented);Ze.maxOverzooming=10,Ze.maxUnderzooming=3;function Qe(e,t){var n=Math.abs(e.wrap*2)-+(e.wrap<0),r=Math.abs(t.wrap*2)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function $e(e){return e===`raster`||e===`image`||e===`video`}function et(){return new e.window.Worker(Ls.workerUrl)}var tt=`mapboxgl_preloaded_worker_pool`,nt=function(){this.active={}};nt.prototype.acquire=function(e){if(!this.workers)for(this.workers=[];this.workers.length<nt.workerCount;)this.workers.push(new et);return this.active[e]=!0,this.workers.slice()},nt.prototype.release=function(e){delete this.active[e],this.numActive()===0&&(this.workers.forEach(function(e){e.terminate()}),this.workers=null)},nt.prototype.isPreloaded=function(){return!!this.active[tt]},nt.prototype.numActive=function(){return Object.keys(this.active).length};var rt=Math.floor(e.browser.hardwareConcurrency/2);nt.workerCount=Math.max(Math.min(rt,6),1);var it;function at(){return it||=new nt,it}function ot(){at().acquire(tt)}function st(){var e=it;e&&(e.isPreloaded()&&e.numActive()===1?(e.release(tt),it=null):console.warn(`Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()`))}function ct(t,n){var r={};for(var i in t)i!==`ref`&&(r[i]=t[i]);return e.refProperties.forEach(function(e){e in n&&(r[e]=n[e])}),r}function lt(e){e=e.slice();for(var t=Object.create(null),n=0;n<e.length;n++)t[e[n].id]=e[n];for(var r=0;r<e.length;r++)`ref`in e[r]&&(e[r]=ct(e[r],t[e[r].ref]));return e}function ut(){var t={},n=e.styleSpec.$version;for(var r in e.styleSpec.$root){var i=e.styleSpec.$root[r];if(i.required){var a=null;a=r===`version`?n:i.type===`array`?[]:{},a!=null&&(t[r]=a)}}return t}var dt={setStyle:`setStyle`,addLayer:`addLayer`,removeLayer:`removeLayer`,setPaintProperty:`setPaintProperty`,setLayoutProperty:`setLayoutProperty`,setFilter:`setFilter`,addSource:`addSource`,removeSource:`removeSource`,setGeoJSONSourceData:`setGeoJSONSourceData`,setLayerZoomRange:`setLayerZoomRange`,setLayerProperty:`setLayerProperty`,setCenter:`setCenter`,setZoom:`setZoom`,setBearing:`setBearing`,setPitch:`setPitch`,setSprite:`setSprite`,setGlyphs:`setGlyphs`,setTransition:`setTransition`,setLight:`setLight`};function ft(e,t,n){n.push({command:dt.addSource,args:[e,t[e]]})}function pt(e,t,n){t.push({command:dt.removeSource,args:[e]}),n[e]=!0}function mt(e,t,n,r){pt(e,n,r),ft(e,t,n)}function ht(t,n,r){for(var i in t[r])if(t[r].hasOwnProperty(i)&&i!==`data`&&!e.deepEqual(t[r][i],n[r][i]))return!1;for(i in n[r])if(n[r].hasOwnProperty(i)&&i!==`data`&&!e.deepEqual(t[r][i],n[r][i]))return!1;return!0}function gt(t,n,r,i){for(var a in t||={},n||={},t)t.hasOwnProperty(a)&&(n.hasOwnProperty(a)||pt(a,r,i));for(a in n)n.hasOwnProperty(a)&&(t.hasOwnProperty(a)?e.deepEqual(t[a],n[a])||(t[a].type===`geojson`&&n[a].type===`geojson`&&ht(t,n,a)?r.push({command:dt.setGeoJSONSourceData,args:[a,n[a].data]}):mt(a,n,r,i)):ft(a,n,r))}function _t(t,n,r,i,a,o){for(var s in t||={},n||={},t)t.hasOwnProperty(s)&&(e.deepEqual(t[s],n[s])||r.push({command:o,args:[i,s,n[s],a]}));for(s in n)!n.hasOwnProperty(s)||t.hasOwnProperty(s)||e.deepEqual(t[s],n[s])||r.push({command:o,args:[i,s,n[s],a]})}function vt(e){return e.id}function yt(e,t){return e[t.id]=t,e}function bt(t,n,r){t||=[],n||=[];var i=t.map(vt),a=n.map(vt),o=t.reduce(yt,{}),s=n.reduce(yt,{}),c=i.slice(),l=Object.create(null),u,d,f,p,m,h,g;for(u=0,d=0;u<i.length;u++)f=i[u],s.hasOwnProperty(f)?d++:(r.push({command:dt.removeLayer,args:[f]}),c.splice(c.indexOf(f,d),1));for(u=0,d=0;u<a.length;u++)f=a[a.length-1-u],c[c.length-1-u]!==f&&(o.hasOwnProperty(f)?(r.push({command:dt.removeLayer,args:[f]}),c.splice(c.lastIndexOf(f,c.length-d),1)):d++,h=c[c.length-u],r.push({command:dt.addLayer,args:[s[f],h]}),c.splice(c.length-u,0,f),l[f]=!0);for(u=0;u<a.length;u++)if(f=a[u],p=o[f],m=s[f],!(l[f]||e.deepEqual(p,m))){if(!e.deepEqual(p.source,m.source)||!e.deepEqual(p[`source-layer`],m[`source-layer`])||!e.deepEqual(p.type,m.type)){r.push({command:dt.removeLayer,args:[f]}),h=c[c.lastIndexOf(f)+1],r.push({command:dt.addLayer,args:[m,h]});continue}for(g in _t(p.layout,m.layout,r,f,null,dt.setLayoutProperty),_t(p.paint,m.paint,r,f,null,dt.setPaintProperty),e.deepEqual(p.filter,m.filter)||r.push({command:dt.setFilter,args:[f,m.filter]}),(!e.deepEqual(p.minzoom,m.minzoom)||!e.deepEqual(p.maxzoom,m.maxzoom))&&r.push({command:dt.setLayerZoomRange,args:[f,m.minzoom,m.maxzoom]}),p)p.hasOwnProperty(g)&&(g===`layout`||g===`paint`||g===`filter`||g===`metadata`||g===`minzoom`||g===`maxzoom`||(g.indexOf(`paint.`)===0?_t(p[g],m[g],r,f,g.slice(6),dt.setPaintProperty):e.deepEqual(p[g],m[g])||r.push({command:dt.setLayerProperty,args:[f,g,m[g]]})));for(g in m)!m.hasOwnProperty(g)||p.hasOwnProperty(g)||g===`layout`||g===`paint`||g===`filter`||g===`metadata`||g===`minzoom`||g===`maxzoom`||(g.indexOf(`paint.`)===0?_t(p[g],m[g],r,f,g.slice(6),dt.setPaintProperty):e.deepEqual(p[g],m[g])||r.push({command:dt.setLayerProperty,args:[f,g,m[g]]}))}}function xt(t,n){if(!t)return[{command:dt.setStyle,args:[n]}];var r=[];try{if(!e.deepEqual(t.version,n.version))return[{command:dt.setStyle,args:[n]}];e.deepEqual(t.center,n.center)||r.push({command:dt.setCenter,args:[n.center]}),e.deepEqual(t.zoom,n.zoom)||r.push({command:dt.setZoom,args:[n.zoom]}),e.deepEqual(t.bearing,n.bearing)||r.push({command:dt.setBearing,args:[n.bearing]}),e.deepEqual(t.pitch,n.pitch)||r.push({command:dt.setPitch,args:[n.pitch]}),e.deepEqual(t.sprite,n.sprite)||r.push({command:dt.setSprite,args:[n.sprite]}),e.deepEqual(t.glyphs,n.glyphs)||r.push({command:dt.setGlyphs,args:[n.glyphs]}),e.deepEqual(t.transition,n.transition)||r.push({command:dt.setTransition,args:[n.transition]}),e.deepEqual(t.light,n.light)||r.push({command:dt.setLight,args:[n.light]});var i={},a=[];gt(t.sources,n.sources,a,i);var o=[];t.layers&&t.layers.forEach(function(e){i[e.source]?r.push({command:dt.removeLayer,args:[e.id]}):o.push(e)}),r=r.concat(a),bt(o,n.layers,r)}catch(e){console.warn(`Unable to compute style diff:`,e),r=[{command:dt.setStyle,args:[n]}]}return r}var St=function(e,t){this.reset(e,t)};St.prototype.reset=function(e,t){this.points=e||[],this._distances=[0];for(var n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,this.length*.5),this.paddedLength=this.length-this.padding*2},St.prototype.lerp=function(t){if(this.points.length===1)return this.points[0];t=e.clamp(t,0,1);for(var n=1,r=this._distances[n],i=t*this.paddedLength+this.padding;r<i&&n<this._distances.length;)r=this._distances[++n];var a=n-1,o=this._distances[a],s=r-o,c=s>0?(i-o)/s:0;return this.points[a].mult(1-c).add(this.points[n].mult(c))};var Ct=function(e,t,n){var r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(var a=0;a<this.xCellCount*this.yCellCount;a++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0};Ct.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},Ct.prototype.insert=function(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)},Ct.prototype.insertCircle=function(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)},Ct.prototype._insertBoxCell=function(e,t,n,r,i,a){this.boxCells[i].push(a)},Ct.prototype._insertCircleCell=function(e,t,n,r,i,a){this.circleCells[i].push(a)},Ct.prototype._query=function(e,t,n,r,i,a){if(n<0||e>this.width||r<0||t>this.height)return i?!1:[];var o=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return!0;for(var s=0;s<this.boxKeys.length;s++)o.push({key:this.boxKeys[s],x1:this.bboxes[s*4],y1:this.bboxes[s*4+1],x2:this.bboxes[s*4+2],y2:this.bboxes[s*4+3]});for(var c=0;c<this.circleKeys.length;c++){var l=this.circles[c*3],u=this.circles[c*3+1],d=this.circles[c*3+2];o.push({key:this.circleKeys[c],x1:l-d,y1:u-d,x2:l+d,y2:u+d})}return a?o.filter(a):o}else{var f={hitTest:i,seenUids:{box:{},circle:{}}};return this._forEachCell(e,t,n,r,this._queryCell,o,f,a),i?o.length>0:o}},Ct.prototype._queryCircle=function(e,t,n,r,i){var a=e-n,o=e+n,s=t-n,c=t+n;if(o<0||a>this.width||c<0||s>this.height)return r?!1:[];var l=[],u={hitTest:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}};return this._forEachCell(a,s,o,c,this._queryCellCircle,l,u,i),r?l.length>0:l},Ct.prototype.query=function(e,t,n,r,i){return this._query(e,t,n,r,!1,i)},Ct.prototype.hitTest=function(e,t,n,r,i){return this._query(e,t,n,r,!0,i)},Ct.prototype.hitTestCircle=function(e,t,n,r){return this._queryCircle(e,t,n,!0,r)},Ct.prototype._queryCell=function(e,t,n,r,i,a,o,s){var c=o.seenUids,l=this.boxCells[i];if(l!==null)for(var u=this.bboxes,d=0,f=l;d<f.length;d+=1){var p=f[d];if(!c.box[p]){c.box[p]=!0;var m=p*4;if(e<=u[m+2]&&t<=u[m+3]&&n>=u[m+0]&&r>=u[m+1]&&(!s||s(this.boxKeys[p]))){if(o.hitTest)return a.push(!0),!0;a.push({key:this.boxKeys[p],x1:u[m],y1:u[m+1],x2:u[m+2],y2:u[m+3]})}}}var h=this.circleCells[i];if(h!==null)for(var g=this.circles,_=0,v=h;_<v.length;_+=1){var y=v[_];if(!c.circle[y]){c.circle[y]=!0;var b=y*3;if(this._circleAndRectCollide(g[b],g[b+1],g[b+2],e,t,n,r)&&(!s||s(this.circleKeys[y]))){if(o.hitTest)return a.push(!0),!0;var x=g[b],S=g[b+1],C=g[b+2];a.push({key:this.circleKeys[y],x1:x-C,y1:S-C,x2:x+C,y2:S+C})}}}},Ct.prototype._queryCellCircle=function(e,t,n,r,i,a,o,s){var c=o.circle,l=o.seenUids,u=this.boxCells[i];if(u!==null)for(var d=this.bboxes,f=0,p=u;f<p.length;f+=1){var m=p[f];if(!l.box[m]){l.box[m]=!0;var h=m*4;if(this._circleAndRectCollide(c.x,c.y,c.radius,d[h+0],d[h+1],d[h+2],d[h+3])&&(!s||s(this.boxKeys[m])))return a.push(!0),!0}}var g=this.circleCells[i];if(g!==null)for(var _=this.circles,v=0,y=g;v<y.length;v+=1){var b=y[v];if(!l.circle[b]){l.circle[b]=!0;var x=b*3;if(this._circlesCollide(_[x],_[x+1],_[x+2],c.x,c.y,c.radius)&&(!s||s(this.circleKeys[b])))return a.push(!0),!0}}},Ct.prototype._forEachCell=function(e,t,n,r,i,a,o,s){for(var c=this._convertToXCellCoord(e),l=this._convertToYCellCoord(t),u=this._convertToXCellCoord(n),d=this._convertToYCellCoord(r),f=c;f<=u;f++)for(var p=l;p<=d;p++){var m=this.xCellCount*p+f;if(i.call(this,e,t,n,r,m,a,o,s))return}},Ct.prototype._convertToXCellCoord=function(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))},Ct.prototype._convertToYCellCoord=function(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))},Ct.prototype._circlesCollide=function(e,t,n,r,i,a){var o=r-e,s=i-t,c=n+a;return c*c>o*o+s*s},Ct.prototype._circleAndRectCollide=function(e,t,n,r,i,a,o){var s=(a-r)/2,c=Math.abs(e-(r+s));if(c>s+n)return!1;var l=(o-i)/2,u=Math.abs(t-(i+l));if(u>l+n)return!1;if(c<=s||u<=l)return!0;var d=c-s,f=u-l;return d*d+f*f<=n*n};function wt(t,n,r,i,a){var o=e.create();return n?(e.scale(o,o,[1/a,1/a,1]),r||e.rotateZ(o,o,i.angle)):e.multiply(o,i.labelPlaneMatrix,t),o}function Tt(t,n,r,i,a){if(n){var o=e.clone(t);return e.scale(o,o,[a,a,1]),r||e.rotateZ(o,o,-i.angle),o}else return i.glCoordMatrix}function Et(t,n){var r=[t.x,t.y,0,1];Lt(r,r,n);var i=r[3];return{point:new e.Point(r[0]/i,r[1]/i),signedDistanceFromCamera:i}}function Dt(e,t){return .5+.5*(e/t)}function Ot(e,t){var n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function kt(t,n,r,i,a,o,s,c){var l=i?t.textSizeData:t.iconSizeData,u=e.evaluateSizeForZoom(l,r.transform.zoom),d=[256/r.width*2+1,256/r.height*2+1],f=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;f.clear();for(var p=t.lineVertexArray,m=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,h=r.transform.width/r.transform.height,g=!1,_=0;_<m.length;_++){var v=m.get(_);if(v.hidden||v.writingMode===e.WritingMode.vertical&&!g){It(v.numGlyphs,f);continue}g=!1;var y=[v.anchorX,v.anchorY,0,1];if(e.transformMat4(y,y,n),!Ot(y,d)){It(v.numGlyphs,f);continue}var b=y[3],x=Dt(r.transform.cameraToCenterDistance,b),S=e.evaluateSizeForFeature(l,u,v),C=s?S/x:S*x,w=new e.Point(v.anchorX,v.anchorY),T=Et(w,a).point,E={},D=Mt(v,C,!1,c,n,a,o,t.glyphOffsetArray,p,f,T,w,E,h);g=D.useVertical,(D.notEnoughRoom||g||D.needsFlipping&&Mt(v,C,!0,c,n,a,o,t.glyphOffsetArray,p,f,T,w,E,h).notEnoughRoom)&&It(v.numGlyphs,f)}i?t.text.dynamicLayoutVertexBuffer.updateData(f):t.icon.dynamicLayoutVertexBuffer.updateData(f)}function At(e,t,n,r,i,a,o,s,c,l,u){var d=s.glyphStartIndex+s.numGlyphs,f=s.lineStartIndex,p=s.lineStartIndex+s.lineLength,m=t.getoffsetX(s.glyphStartIndex),h=t.getoffsetX(d-1),g=Pt(e*m,n,r,i,a,o,s.segment,f,p,c,l,u);if(!g)return null;var _=Pt(e*h,n,r,i,a,o,s.segment,f,p,c,l,u);return _?{first:g,last:_}:null}function jt(t,n,r,i){return t===e.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function Mt(t,n,r,i,a,o,s,c,l,u,d,f,p,m){var h=n/24,g=t.lineOffsetX*h,_=t.lineOffsetY*h,v;if(t.numGlyphs>1){var y=t.glyphStartIndex+t.numGlyphs,b=t.lineStartIndex,x=t.lineStartIndex+t.lineLength,S=At(h,c,g,_,r,d,f,t,l,o,p);if(!S)return{notEnoughRoom:!0};var C=Et(S.first.point,s).point,w=Et(S.last.point,s).point;if(i&&!r){var T=jt(t.writingMode,C,w,m);if(T)return T}v=[S.first];for(var E=t.glyphStartIndex+1;E<y-1;E++)v.push(Pt(h*c.getoffsetX(E),g,_,r,d,f,t.segment,b,x,l,o,p));v.push(S.last)}else{if(i&&!r){var D=Et(f,a).point,O=t.lineStartIndex+t.segment+1,k=new e.Point(l.getx(O),l.gety(O)),A=Et(k,a),j=A.signedDistanceFromCamera>0?A.point:Nt(f,k,D,1,a),M=jt(t.writingMode,D,j,m);if(M)return M}var N=Pt(h*c.getoffsetX(t.glyphStartIndex),g,_,r,d,f,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,l,o,p);if(!N)return{notEnoughRoom:!0};v=[N]}for(var P=0,F=v;P<F.length;P+=1){var I=F[P];e.addDynamicAttributes(u,I.point,I.angle)}return{}}function Nt(e,t,n,r,i){var a=Et(e.add(e.sub(t)._unit()),i).point,o=n.sub(a);return n.add(o._mult(r/o.mag()))}function Pt(t,n,r,i,a,o,s,c,l,u,d,f){var p=i?t-n:t+n,m=p>0?1:-1,h=0;i&&(m*=-1,h=Math.PI),m<0&&(h+=Math.PI);for(var g=m>0?c+s:c+s+1,_=a,v=a,y=0,b=0,x=Math.abs(p),S=[];y+b<=x;){if(g+=m,g<c||g>=l)return null;if(v=_,S.push(_),_=f[g],_===void 0){var C=new e.Point(u.getx(g),u.gety(g)),w=Et(C,d);if(w.signedDistanceFromCamera>0)_=f[g]=w.point;else{var T=g-m;_=Nt(y===0?o:new e.Point(u.getx(T),u.gety(T)),C,v,x-y+1,d)}}y+=b,b=v.dist(_)}var E=(x-y)/b,D=_.sub(v),O=D.mult(E)._add(v);O._add(D._unit()._perp()._mult(r*m));var k=h+Math.atan2(_.y-v.y,_.x-v.x);return S.push(O),{point:O,angle:k,path:S}}var Ft=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function It(e,t){for(var n=0;n<e;n++){var r=t.length;t.resize(r+4),t.float32.set(Ft,r*3)}}function Lt(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}var Rt=100,zt=function(e,t,n){t===void 0&&(t=new Ct(e.width+2*Rt,e.height+2*Rt,25)),n===void 0&&(n=new Ct(e.width+2*Rt,e.height+2*Rt,25)),this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+Rt,this.screenBottomBoundary=e.height+Rt,this.gridRightBoundary=e.width+2*Rt,this.gridBottomBoundary=e.height+2*Rt};zt.prototype.placeCollisionBox=function(e,t,n,r,i){var a=this.projectAndGetPerspectiveRatio(r,e.anchorPointX,e.anchorPointY),o=n*a.perspectiveRatio,s=e.x1*o+a.point.x,c=e.y1*o+a.point.y,l=e.x2*o+a.point.x,u=e.y2*o+a.point.y;return!this.isInsideGrid(s,c,l,u)||!t&&this.grid.hitTest(s,c,l,u,i)?{box:[],offscreen:!1}:{box:[s,c,l,u],offscreen:this.isOffscreen(s,c,l,u)}},zt.prototype.placeCollisionCircles=function(t,n,r,i,a,o,s,c,l,u,d,f,p){var m=[],h=new e.Point(n.anchorX,n.anchorY),g=Et(h,o),_=Dt(this.transform.cameraToCenterDistance,g.signedDistanceFromCamera),v=(u?a/_:a*_)/e.ONE_EM,y=Et(h,s).point,b=At(v,i,n.lineOffsetX*v,n.lineOffsetY*v,!1,y,h,n,r,s,{}),x=!1,S=!1,C=!0;if(b){for(var w=f*.5*_+p,T=new e.Point(-Rt,-Rt),E=new e.Point(this.screenRightBoundary,this.screenBottomBoundary),D=new St,O=b.first,k=b.last,A=[],j=O.path.length-1;j>=1;j--)A.push(O.path[j]);for(var M=1;M<k.path.length;M++)A.push(k.path[M]);var N=w*2.5;if(c){var P=A.map(function(e){return Et(e,c)});A=P.some(function(e){return e.signedDistanceFromCamera<=0})?[]:P.map(function(e){return e.point})}var F=[];if(A.length>0){for(var I=A[0].clone(),L=A[0].clone(),R=1;R<A.length;R++)I.x=Math.min(I.x,A[R].x),I.y=Math.min(I.y,A[R].y),L.x=Math.max(L.x,A[R].x),L.y=Math.max(L.y,A[R].y);F=I.x>=T.x&&L.x<=E.x&&I.y>=T.y&&L.y<=E.y?[A]:L.x<T.x||I.x>E.x||L.y<T.y||I.y>E.y?[]:e.clipLine([A],T.x,T.y,E.x,E.y)}for(var z=0,B=F;z<B.length;z+=1){var V=B[z];D.reset(V,w*.25);var H=0;H=D.length<=.5*w?1:Math.ceil(D.paddedLength/N)+1;for(var U=0;U<H;U++){var W=U/Math.max(H-1,1),G=D.lerp(W),K=G.x+Rt,ee=G.y+Rt;m.push(K,ee,w,0);var q=K-w,J=ee-w,Y=K+w,te=ee+w;if(C&&=this.isOffscreen(q,J,Y,te),S||=this.isInsideGrid(q,J,Y,te),!t&&this.grid.hitTestCircle(K,ee,w,d)&&(x=!0,!l))return{circles:[],offscreen:!1,collisionDetected:x}}}}return{circles:!l&&x||!S?[]:m,offscreen:C,collisionDetected:x}},zt.prototype.queryRenderedSymbols=function(t){if(t.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var n=[],r=1/0,i=1/0,a=-1/0,o=-1/0,s=0,c=t;s<c.length;s+=1){var l=c[s],u=new e.Point(l.x+Rt,l.y+Rt);r=Math.min(r,u.x),i=Math.min(i,u.y),a=Math.max(a,u.x),o=Math.max(o,u.y),n.push(u)}for(var d=this.grid.query(r,i,a,o).concat(this.ignoredGrid.query(r,i,a,o)),f={},p={},m=0,h=d;m<h.length;m+=1){var g=h[m],_=g.key;if(f[_.bucketInstanceId]===void 0&&(f[_.bucketInstanceId]={}),!f[_.bucketInstanceId][_.featureIndex]){var v=[new e.Point(g.x1,g.y1),new e.Point(g.x2,g.y1),new e.Point(g.x2,g.y2),new e.Point(g.x1,g.y2)];e.polygonIntersectsPolygon(n,v)&&(f[_.bucketInstanceId][_.featureIndex]=!0,p[_.bucketInstanceId]===void 0&&(p[_.bucketInstanceId]=[]),p[_.bucketInstanceId].push(_.featureIndex))}}return p},zt.prototype.insertCollisionBox=function(e,t,n,r,i){var a=t?this.ignoredGrid:this.grid,o={bucketInstanceId:n,featureIndex:r,collisionGroupID:i};a.insert(o,e[0],e[1],e[2],e[3])},zt.prototype.insertCollisionCircles=function(e,t,n,r,i){for(var a=t?this.ignoredGrid:this.grid,o={bucketInstanceId:n,featureIndex:r,collisionGroupID:i},s=0;s<e.length;s+=4)a.insertCircle(o,e[s],e[s+1],e[s+2])},zt.prototype.projectAndGetPerspectiveRatio=function(t,n,r){var i=[n,r,0,1];return Lt(i,i,t),{point:new e.Point((i[0]/i[3]+1)/2*this.transform.width+Rt,(-i[1]/i[3]+1)/2*this.transform.height+Rt),perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/i[3])}},zt.prototype.isOffscreen=function(e,t,n,r){return n<Rt||e>=this.screenRightBoundary||r<Rt||t>this.screenBottomBoundary},zt.prototype.isInsideGrid=function(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary},zt.prototype.getViewportMatrix=function(){var t=e.identity([]);return e.translate(t,t,[-Rt,-Rt,0]),t};function Bt(t,n,r){return n*(e.EXTENT/(t.tileSize*2**(r-t.tileID.overscaledZ)))}var Vt=function(e,t,n,r){e?this.opacity=Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):this.opacity=r&&n?1:0,this.placed=n};Vt.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Ht=function(e,t,n,r,i){this.text=new Vt(e?e.text:null,t,n,i),this.icon=new Vt(e?e.icon:null,t,r,i)};Ht.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Ut=function(e,t,n){this.text=e,this.icon=t,this.skipFade=n},Wt=function(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]},Gt=function(e,t,n,r,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i},Kt=function(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}};Kt.prototype.get=function(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){var t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:function(e){return e.collisionGroupID===t}}}return this.collisionGroups[e]};function qt(t,n,r,i,a){var o=e.getAnchorAlignment(t),s=o.horizontalAlign,c=o.verticalAlign,l=-(s-.5)*n,u=-(c-.5)*r,d=e.evaluateVariableOffset(t,i);return new e.Point(l+d[0]*a,u+d[1]*a)}function Jt(t,n,r,i,a,o){var s=t.x1,c=t.x2,l=t.y1,u=t.y2,d=t.anchorPointX,f=t.anchorPointY,p=new e.Point(n,r);return i&&p._rotate(a?o:-o),{x1:s+p.x,y1:l+p.y,x2:c+p.x,y2:u+p.y,anchorPointX:d,anchorPointY:f}}var Yt=function(e,t,n,r){this.transform=e.clone(),this.collisionIndex=new zt(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new Kt(n),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}};Yt.prototype.getBucketParts=function(t,n,r,i){var a=r.getBucket(n),o=r.latestFeatureIndex;if(!(!a||!o||n.id!==a.layerIds[0])){var s=r.collisionBoxArray,c=a.layers[0].layout,l=2**(this.transform.zoom-r.tileID.overscaledZ),u=r.tileSize/e.EXTENT,d=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),f=c.get(`text-pitch-alignment`)===`map`,p=c.get(`text-rotation-alignment`)===`map`,m=Bt(r,1,this.transform.zoom),h=wt(d,f,p,this.transform,m),g=null;if(f){var _=Tt(d,f,p,this.transform,m);g=e.multiply([],this.transform.labelPlaneMatrix,_)}this.retainedQueryData[a.bucketInstanceId]=new Gt(a.bucketInstanceId,o,a.sourceLayerIndex,a.index,r.tileID);var v={bucket:a,layout:c,posMatrix:d,textLabelPlaneMatrix:h,labelToScreenMatrix:g,scale:l,textPixelRatio:u,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(a.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(a.sourceID)};if(i)for(var y=0,b=a.sortKeyRanges;y<b.length;y+=1){var x=b[y],S=x.sortKey,C=x.symbolInstanceStart,w=x.symbolInstanceEnd;t.push({sortKey:S,symbolInstanceStart:C,symbolInstanceEnd:w,parameters:v})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:a.symbolInstances.length,parameters:v})}},Yt.prototype.attemptAnchorPlacement=function(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m){var h=[d.textOffset0,d.textOffset1],g=qt(e,n,r,h,i),_=this.collisionIndex.placeCollisionBox(Jt(t,g.x,g.y,a,o,this.transform.angle),u,s,c,l.predicate);if(!(m&&this.collisionIndex.placeCollisionBox(Jt(m,g.x,g.y,a,o,this.transform.angle),u,s,c,l.predicate).box.length===0)&&_.box.length>0){var v;return this.prevPlacement&&this.prevPlacement.variableOffsets[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID].text&&(v=this.prevPlacement.variableOffsets[d.crossTileID].anchor),this.variableOffsets[d.crossTileID]={textOffset:h,width:n,height:r,anchor:e,textBoxScale:i,prevAnchor:v},this.markUsedJustification(f,e,d,p),f.allowVerticalPlacement&&(this.markUsedOrientation(f,p,d),this.placedOrientations[d.crossTileID]=p),{shift:g,placedGlyphBoxes:_}}},Yt.prototype.placeLayerBucketPart=function(t,n,r){var i=this,a=t.parameters,o=a.bucket,s=a.layout,c=a.posMatrix,l=a.textLabelPlaneMatrix,u=a.labelToScreenMatrix,d=a.textPixelRatio,f=a.holdingForFade,p=a.collisionBoxArray,m=a.partiallyEvaluatedTextSize,h=a.collisionGroup,g=s.get(`text-optional`),_=s.get(`icon-optional`),v=s.get(`text-allow-overlap`),y=s.get(`icon-allow-overlap`),b=s.get(`text-rotation-alignment`)===`map`,x=s.get(`text-pitch-alignment`)===`map`,S=s.get(`icon-text-fit`)!==`none`,C=s.get(`symbol-z-order`)===`viewport-y`,w=v&&(y||!o.hasIconData()||_),T=y&&(v||!o.hasTextData()||g);!o.collisionArrays&&p&&o.deserializeCollisionBoxes(p);var E=function(t,a){if(!n[t.crossTileID]){if(f){i.placements[t.crossTileID]=new Ut(!1,!1,!1);return}var p=!1,C=!1,E=!0,D=null,O={box:null,offscreen:null},k={box:null,offscreen:null},A=null,j=null,M=null,N=0,P=0,F=0;a.textFeatureIndex?N=a.textFeatureIndex:t.useRuntimeCollisionCircles&&(N=t.featureIndex),a.verticalTextFeatureIndex&&(P=a.verticalTextFeatureIndex);var I=a.textBox;if(I){var L=function(n){var r=e.WritingMode.horizontal;if(o.allowVerticalPlacement&&!n&&i.prevPlacement){var a=i.prevPlacement.placedOrientations[t.crossTileID];a&&(i.placedOrientations[t.crossTileID]=a,r=a,i.markUsedOrientation(o,r,t))}return r},R=function(n,r){if(o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&a.verticalTextBox)for(var i=0,s=o.writingModes;i<s.length&&(s[i]===e.WritingMode.vertical?(O=r(),k=O):O=n(),!(O&&O.box&&O.box.length));i+=1);else O=n()};if(s.get(`text-variable-anchor`)){var z=s.get(`text-variable-anchor`);if(i.prevPlacement&&i.prevPlacement.variableOffsets[t.crossTileID]){var B=i.prevPlacement.variableOffsets[t.crossTileID];z.indexOf(B.anchor)>0&&(z=z.filter(function(e){return e!==B.anchor}),z.unshift(B.anchor))}var V=function(e,n,r){for(var a=e.x2-e.x1,s=e.y2-e.y1,l=t.textBoxScale,u=S&&!y?n:null,f={box:[],offscreen:!1},m=v?z.length*2:z.length,g=0;g<m;++g){var _=z[g%z.length],C=g>=z.length,w=i.attemptAnchorPlacement(_,e,a,s,l,b,x,d,c,h,C,t,o,r,u);if(w&&(f=w.placedGlyphBoxes,f&&f.box&&f.box.length)){p=!0,D=w.shift;break}}return f};R(function(){return V(I,a.iconBox,e.WritingMode.horizontal)},function(){var n=a.verticalTextBox,r=O&&O.box&&O.box.length;return o.allowVerticalPlacement&&!r&&t.numVerticalGlyphVertices>0&&n?V(n,a.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}}),O&&(p=O.box,E=O.offscreen);var H=L(O&&O.box);if(!p&&i.prevPlacement){var U=i.prevPlacement.variableOffsets[t.crossTileID];U&&(i.variableOffsets[t.crossTileID]=U,i.markUsedJustification(o,U.anchor,t,H))}}else{var W=function(e,n){var r=i.collisionIndex.placeCollisionBox(e,v,d,c,h.predicate);return r&&r.box&&r.box.length&&(i.markUsedOrientation(o,n,t),i.placedOrientations[t.crossTileID]=n),r};R(function(){return W(I,e.WritingMode.horizontal)},function(){var n=a.verticalTextBox;return o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?W(n,e.WritingMode.vertical):{box:null,offscreen:null}}),L(O&&O.box&&O.box.length)}}if(A=O,p=A&&A.box&&A.box.length>0,E=A&&A.offscreen,t.useRuntimeCollisionCircles){var G=o.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),K=e.evaluateSizeForFeature(o.textSizeData,m,G),ee=s.get(`text-padding`),q=t.collisionCircleDiameter;j=i.collisionIndex.placeCollisionCircles(v,G,o.lineVertexArray,o.glyphOffsetArray,K,c,l,u,r,x,h.predicate,q,ee),p=v||j.circles.length>0&&!j.collisionDetected,E&&=j.offscreen}if(a.iconFeatureIndex&&(F=a.iconFeatureIndex),a.iconBox){var J=function(e){var t=S&&D?Jt(e,D.x,D.y,b,x,i.transform.angle):e;return i.collisionIndex.placeCollisionBox(t,y,d,c,h.predicate)};k&&k.box&&k.box.length&&a.verticalIconBox?(M=J(a.verticalIconBox),C=M.box.length>0):(M=J(a.iconBox),C=M.box.length>0),E&&=M.offscreen}var Y=g||t.numHorizontalGlyphVertices===0&&t.numVerticalGlyphVertices===0,te=_||t.numIconVertices===0;if(!Y&&!te?C=p=C&&p:te?Y||(C&&=p):p=C&&p,p&&A&&A.box&&(k&&k.box&&P?i.collisionIndex.insertCollisionBox(A.box,s.get(`text-ignore-placement`),o.bucketInstanceId,P,h.ID):i.collisionIndex.insertCollisionBox(A.box,s.get(`text-ignore-placement`),o.bucketInstanceId,N,h.ID)),C&&M&&i.collisionIndex.insertCollisionBox(M.box,s.get(`icon-ignore-placement`),o.bucketInstanceId,F,h.ID),j&&(p&&i.collisionIndex.insertCollisionCircles(j.circles,s.get(`text-ignore-placement`),o.bucketInstanceId,N,h.ID),r)){var ne=o.bucketInstanceId,re=i.collisionCircleArrays[ne];re===void 0&&(re=i.collisionCircleArrays[ne]=new Wt);for(var ie=0;ie<j.circles.length;ie+=4)re.circles.push(j.circles[ie+0]),re.circles.push(j.circles[ie+1]),re.circles.push(j.circles[ie+2]),re.circles.push(j.collisionDetected?1:0)}i.placements[t.crossTileID]=new Ut(p||w,C||T,E||o.justReloaded),n[t.crossTileID]=!0}};if(C)for(var D=o.getSortedSymbolIndexes(this.transform.angle),O=D.length-1;O>=0;--O){var k=D[O];E(o.symbolInstances.get(k),o.collisionArrays[k])}else for(var A=t.symbolInstanceStart;A<t.symbolInstanceEnd;A++)E(o.symbolInstances.get(A),o.collisionArrays[A]);if(r&&o.bucketInstanceId in this.collisionCircleArrays){var j=this.collisionCircleArrays[o.bucketInstanceId];e.invert(j.invProjMatrix,c),j.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1},Yt.prototype.markUsedJustification=function(t,n,r,i){for(var a={left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex},o=i===e.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:a[e.getAnchorJustification(n)],s=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex],c=0,l=s;c<l.length;c+=1){var u=l[c];u>=0&&(o>=0&&u!==o?t.text.placedSymbolArray.get(u).crossTileID=0:t.text.placedSymbolArray.get(u).crossTileID=r.crossTileID)}},Yt.prototype.markUsedOrientation=function(t,n,r){for(var i=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,a=n===e.WritingMode.vertical?n:0,o=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex],s=0,c=o;s<c.length;s+=1){var l=c[s];t.text.placedSymbolArray.get(l).placedOrientation=i}r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=a)},Yt.prototype.commit=function(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;var t=this.prevPlacement,n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;var r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},a=t?t.variableOffsets:{},o=t?t.placedOrientations:{};for(var s in this.placements){var c=this.placements[s],l=i[s];l?(this.opacities[s]=new Ht(l,r,c.text,c.icon),n=n||c.text!==l.text.placed||c.icon!==l.icon.placed):(this.opacities[s]=new Ht(null,r,c.text,c.icon,c.skipFade),n=n||c.text||c.icon)}for(var u in i){var d=i[u];if(!this.opacities[u]){var f=new Ht(d,r,!1,!1);f.isHidden()||(this.opacities[u]=f,n=n||d.text.placed||d.icon.placed)}}for(var p in a)!this.variableOffsets[p]&&this.opacities[p]&&!this.opacities[p].isHidden()&&(this.variableOffsets[p]=a[p]);for(var m in o)!this.placedOrientations[m]&&this.opacities[m]&&!this.opacities[m].isHidden()&&(this.placedOrientations[m]=o[m]);n?this.lastPlacementChangeTime=e:typeof this.lastPlacementChangeTime!=`number`&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},Yt.prototype.updateLayerOpacities=function(e,t){for(var n={},r=0,i=t;r<i.length;r+=1){var a=i[r],o=a.getBucket(e);o&&a.latestFeatureIndex&&e.id===o.layerIds[0]&&this.updateBucketOpacities(o,n,a.collisionBoxArray)}},Yt.prototype.updateBucketOpacities=function(t,n,r){var i=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();var a=t.layers[0].layout,o=new Ht(null,0,!1,!1,!0),s=a.get(`text-allow-overlap`),c=a.get(`icon-allow-overlap`),l=a.get(`text-variable-anchor`),u=a.get(`text-rotation-alignment`)===`map`,d=a.get(`text-pitch-alignment`)===`map`,f=a.get(`icon-text-fit`)!==`none`,p=new Ht(null,0,s&&(c||!t.hasIconData()||a.get(`icon-optional`)),c&&(s||!t.hasTextData()||a.get(`text-optional`)),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);for(var m=function(e,t,n){for(var r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)},h=function(r){var a=t.symbolInstances.get(r),s=a.numHorizontalGlyphVertices,c=a.numVerticalGlyphVertices,h=a.crossTileID,g=n[h],_=i.opacities[h];g?_=o:_||(_=p,i.opacities[h]=_),n[h]=!0;var v=s>0||c>0,y=a.numIconVertices>0,b=i.placedOrientations[a.crossTileID],x=b===e.WritingMode.vertical,S=b===e.WritingMode.horizontal||b===e.WritingMode.horizontalOnly;if(v){var C=an(_.text),w=x?on:C;m(t.text,s,w);var T=S?on:C;m(t.text,c,T);var E=_.text.isHidden();[a.rightJustifiedTextSymbolIndex,a.centerJustifiedTextSymbolIndex,a.leftJustifiedTextSymbolIndex].forEach(function(e){e>=0&&(t.text.placedSymbolArray.get(e).hidden=E||x?1:0)}),a.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(a.verticalPlacedTextSymbolIndex).hidden=E||S?1:0);var D=i.variableOffsets[a.crossTileID];D&&i.markUsedJustification(t,D.anchor,a,b);var O=i.placedOrientations[a.crossTileID];O&&(i.markUsedJustification(t,`left`,a,O),i.markUsedOrientation(t,O,a))}if(y){var k=an(_.icon),A=!(f&&a.verticalPlacedIconSymbolIndex&&x);if(a.placedIconSymbolIndex>=0){var j=A?k:on;m(t.icon,a.numIconVertices,j),t.icon.placedSymbolArray.get(a.placedIconSymbolIndex).hidden=_.icon.isHidden()}if(a.verticalPlacedIconSymbolIndex>=0){var M=A?on:k;m(t.icon,a.numVerticalIconVertices,M),t.icon.placedSymbolArray.get(a.verticalPlacedIconSymbolIndex).hidden=_.icon.isHidden()}}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){var N=t.collisionArrays[r];if(N){var P=new e.Point(0,0);if(N.textBox||N.verticalTextBox){var F=!0;if(l){var I=i.variableOffsets[h];I?(P=qt(I.anchor,I.width,I.height,I.textOffset,I.textBoxScale),u&&P._rotate(d?i.transform.angle:-i.transform.angle)):F=!1}N.textBox&&Xt(t.textCollisionBox.collisionVertexArray,_.text.placed,!F||x,P.x,P.y),N.verticalTextBox&&Xt(t.textCollisionBox.collisionVertexArray,_.text.placed,!F||S,P.x,P.y)}var L=!!(!S&&N.verticalIconBox);N.iconBox&&Xt(t.iconCollisionBox.collisionVertexArray,_.icon.placed,L,f?P.x:0,f?P.y:0),N.verticalIconBox&&Xt(t.iconCollisionBox.collisionVertexArray,_.icon.placed,!L,f?P.x:0,f?P.y:0)}}},g=0;g<t.symbolInstances.length;g++)h(g);if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){var _=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=_.invProjMatrix,t.placementViewportMatrix=_.viewportMatrix,t.collisionCircleArray=_.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}},Yt.prototype.symbolFadeChange=function(e){return this.fadeDuration===0?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Yt.prototype.zoomAdjustment=function(e){return Math.max(0,(this.transform.zoom-e)/1.5)},Yt.prototype.hasTransitions=function(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration},Yt.prototype.stillRecent=function(e,t){var n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e},Yt.prototype.setStale=function(){this.stale=!0};function Xt(e,t,n,r,i){e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0)}var Zt=2**25,Qt=2**24,$t=2**17,en=2**16,tn=2**9,nn=2**8,rn=2**1;function an(e){if(e.opacity===0&&!e.placed)return 0;if(e.opacity===1&&e.placed)return 4294967295;var t=e.placed?1:0,n=Math.floor(e.opacity*127);return n*Zt+t*Qt+n*$t+t*en+n*tn+t*nn+n*rn+t}var on=0,sn=function(e){this._sortAcrossTiles=e.layout.get(`symbol-z-order`)!==`viewport-y`&&e.layout.get(`symbol-sort-key`).constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};sn.prototype.continuePlacement=function(e,t,n,r,i){for(var a=this._bucketParts;this._currentTileIndex<e.length;){var o=e[this._currentTileIndex];if(t.getBucketParts(a,r,o,this._sortAcrossTiles),this._currentTileIndex++,i())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,a.sort(function(e,t){return e.sortKey-t.sortKey}));this._currentPartIndex<a.length;){var s=a[this._currentPartIndex];if(t.placeLayerBucketPart(s,this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0}return!1};var cn=function(e,t,n,r,i,a,o){this.placement=new Yt(e,i,a,o),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=r,this._done=!1};cn.prototype.isDone=function(){return this._done},cn.prototype.continuePlacement=function(t,n,r){for(var i=this,a=e.browser.now(),o=function(){var t=e.browser.now()-a;return i._forceFullPlacement?!1:t>2};this._currentPlacementIndex>=0;){var s=n[t[this._currentPlacementIndex]],c=this.placement.collisionIndex.transform.zoom;if(s.type===`symbol`&&(!s.minzoom||s.minzoom<=c)&&(!s.maxzoom||s.maxzoom>c)){if(this._inProgressLayer||=new sn(s),this._inProgressLayer.continuePlacement(r[s.source],this.placement,this._showCollisionBoxes,s,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},cn.prototype.commit=function(e){return this.placement.commit(e),this.placement};var ln=512/e.EXTENT/2,un=function(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0;r<t.length;r++){var i=t.get(r),a=i.key;this.indexedSymbolInstances[a]||(this.indexedSymbolInstances[a]=[]),this.indexedSymbolInstances[a].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}};un.prototype.getScaledCoordinates=function(t,n){var r=ln/2**(n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.anchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.anchorY)*r)}},un.prototype.findMatches=function(e,t,n){for(var r=this.tileID.canonical.z<t.canonical.z?1:2**(this.tileID.canonical.z-t.canonical.z),i=0;i<e.length;i++){var a=e.get(i);if(!a.crossTileID){var o=this.indexedSymbolInstances[a.key];if(o)for(var s=this.getScaledCoordinates(a,t),c=0,l=o;c<l.length;c+=1){var u=l[c];if(Math.abs(u.coord.x-s.x)<=r&&Math.abs(u.coord.y-s.y)<=r&&!n[u.crossTileID]){n[u.crossTileID]=!0,a.crossTileID=u.crossTileID;break}}}}};var dn=function(){this.maxCrossTileID=0};dn.prototype.generate=function(){return++this.maxCrossTileID};var fn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};fn.prototype.handleWrapJump=function(e){var t=Math.round((e-this.lng)/360);if(t!==0)for(var n in this.indexes){var r=this.indexes[n],i={};for(var a in r){var o=r[a];o.tileID=o.tileID.unwrapTo(o.tileID.wrap+t),i[o.tileID.key]=o}this.indexes[n]=i}this.lng=e},fn.prototype.addBucket=function(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(var r=0;r<t.symbolInstances.length;r++){var i=t.symbolInstances.get(r);i.crossTileID=0}this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});var a=this.usedCrossTileIDs[e.overscaledZ];for(var o in this.indexes){var s=this.indexes[o];if(Number(o)>e.overscaledZ)for(var c in s){var l=s[c];l.tileID.isChildOf(e)&&l.findMatches(t.symbolInstances,e,a)}else{var u=s[e.scaledTo(Number(o)).key];u&&u.findMatches(t.symbolInstances,e,a)}}for(var d=0;d<t.symbolInstances.length;d++){var f=t.symbolInstances.get(d);f.crossTileID||(f.crossTileID=n.generate(),a[f.crossTileID]=!0)}return this.indexes[e.overscaledZ]===void 0&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new un(e,t.symbolInstances,t.bucketInstanceId),!0},fn.prototype.removeBucketCrossTileIDs=function(e,t){for(var n in t.indexedSymbolInstances)for(var r=0,i=t.indexedSymbolInstances[n];r<i.length;r+=1){var a=i[r];delete this.usedCrossTileIDs[e][a.crossTileID]}},fn.prototype.removeStaleBuckets=function(e){var t=!1;for(var n in this.indexes){var r=this.indexes[n];for(var i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t};var pn=function(){this.layerIndexes={},this.crossTileIDs=new dn,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};pn.prototype.addLayer=function(e,t,n){var r=this.layerIndexes[e.id];r===void 0&&(r=this.layerIndexes[e.id]=new fn);var i=!1,a={};r.handleWrapJump(n);for(var o=0,s=t;o<s.length;o+=1){var c=s[o],l=c.getBucket(e);!l||e.id!==l.layerIds[0]||(l.bucketInstanceId||=++this.maxBucketInstanceId,r.addBucket(c.tileID,l,this.crossTileIDs)&&(i=!0),a[l.bucketInstanceId]=!0)}return r.removeStaleBuckets(a)&&(i=!0),i},pn.prototype.pruneUnusedLayers=function(e){var t={};for(var n in e.forEach(function(e){t[e]=!0}),this.layerIndexes)t[n]||delete this.layerIndexes[n]};var mn=function(t,n){return e.emitValidationErrors(t,n&&n.filter(function(e){return e.identifier!==`source.canvas`}))},hn=e.pick(dt,[`addLayer`,`removeLayer`,`setPaintProperty`,`setLayoutProperty`,`setFilter`,`addSource`,`removeSource`,`setLayerZoomRange`,`setLight`,`setTransition`,`setGeoJSONSourceData`]),gn=e.pick(dt,[`setCenter`,`setZoom`,`setBearing`,`setPitch`]),_n=ut(),vn=function(t){function n(r,i){var a=this;i===void 0&&(i={}),t.call(this),this.map=r,this.dispatcher=new O(at(),this),this.imageManager=new m,this.imageManager.setEventedParent(this),this.glyphManager=new S(r._requestManager,i.localIdeographFontFamily),this.lineAtlas=new D(256,512),this.crossTileSymbolIndex=new pn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast(`setReferrer`,e.getReferrer());var o=this;this._rtlTextPluginCallback=n.registerForPluginStateChange(function(t){var n={pluginStatus:t.pluginStatus,pluginURL:t.pluginURL};o.dispatcher.broadcast(`syncRTLPluginState`,n,function(t,n){if(e.triggerPluginCompletionEvent(t),n&&n.every(function(e){return e}))for(var r in o.sourceCaches)o.sourceCaches[r].reload()})}),this.on(`data`,function(e){if(!(e.dataType!==`source`||e.sourceDataType!==`metadata`)){var t=a.sourceCaches[e.sourceId];if(t){var n=t.getSource();if(!(!n||!n.vectorLayerIds))for(var r in a._layers){var i=a._layers[r];i.source===n.id&&a._validateLayer(i)}}}})}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.loadURL=function(t,n){var r=this;n===void 0&&(n={}),this.fire(new e.Event(`dataloading`,{dataType:`style`}));var i=typeof n.validate==`boolean`?n.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,n.accessToken);var a=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(a,function(t,n){r._request=null,t?r.fire(new e.ErrorEvent(t)):n&&r._load(n,i)})},n.prototype.loadJSON=function(t,n){var r=this;n===void 0&&(n={}),this.fire(new e.Event(`dataloading`,{dataType:`style`})),this._request=e.browser.frame(function(){r._request=null,r._load(t,n.validate!==!1)})},n.prototype.loadEmpty=function(){this.fire(new e.Event(`dataloading`,{dataType:`style`})),this._load(_n,!1)},n.prototype._load=function(t,n){if(!(n&&mn(this,e.validateStyle(t)))){for(var r in this._loaded=!0,this.stylesheet=t,t.sources)this.addSource(r,t.sources[r],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var i=lt(this.stylesheet.layers);this._order=i.map(function(e){return e.id}),this._layers={},this._serializedLayers={};for(var a=0,o=i;a<o.length;a+=1){var s=o[a];s=e.createStyleLayer(s),s.setEventedParent(this,{layer:{id:s.id}}),this._layers[s.id]=s,this._serializedLayers[s.id]=s.serialize()}this.dispatcher.broadcast(`setLayers`,this._serializeLayers(this._order)),this.light=new E(this.stylesheet.light),this.fire(new e.Event(`data`,{dataType:`style`})),this.fire(new e.Event(`style.load`))}},n.prototype._loadSprite=function(t){var n=this;this._spriteRequest=d(t,this.map._requestManager,function(t,r){if(n._spriteRequest=null,t)n.fire(new e.ErrorEvent(t));else if(r)for(var i in r)n.imageManager.addImage(i,r[i]);n.imageManager.setLoaded(!0),n._availableImages=n.imageManager.listImages(),n.dispatcher.broadcast(`setImages`,n._availableImages),n.fire(new e.Event(`data`,{dataType:`style`}))})},n.prototype._validateLayer=function(t){var n=this.sourceCaches[t.source];if(n){var r=t.sourceLayer;if(r){var i=n.getSource();(i.type===`geojson`||i.vectorLayerIds&&i.vectorLayerIds.indexOf(r)===-1)&&this.fire(new e.ErrorEvent(Error(`Source layer "`+r+`" does not exist on source "`+i.id+`" as specified by style layer "`+t.id+`"`)))}}},n.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},n.prototype._serializeLayers=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=r[n],a=this._layers[i];a.type!==`custom`&&t.push(a.serialize())}return t},n.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(var t in this._layers)if(this._layers[t].hasTransition())return!0;return!1},n.prototype._checkLoaded=function(){if(!this._loaded)throw Error(`Style is not done loading`)},n.prototype.update=function(t){if(this._loaded){var n=this._changed;if(this._changed){var r=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);for(var a in(r.length||i.length)&&this._updateWorkerLayers(r,i),this._updatedSources){var o=this._updatedSources[a];o===`reload`?this._reloadSource(a):o===`clear`&&this._clearSource(a)}for(var s in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[s].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}for(var c in this.sourceCaches)this.sourceCaches[c].used=!1;for(var l=0,u=this._order;l<u.length;l+=1){var d=u[l],f=this._layers[d];f.recalculate(t,this._availableImages),!f.isHidden(t.zoom)&&f.source&&(this.sourceCaches[f.source].used=!0)}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.Event(`data`,{dataType:`style`}))}},n.prototype._updateTilesForChangedImages=function(){var e=Object.keys(this._changedImages);if(e.length){for(var t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies([`icons`,`patterns`],e);this._changedImages={}}},n.prototype._updateWorkerLayers=function(e,t){this.dispatcher.broadcast(`updateLayers`,{layers:this._serializeLayers(e),removedIds:t})},n.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},n.prototype.setState=function(t){var n=this;if(this._checkLoaded(),mn(this,e.validateStyle(t)))return!1;t=e.clone$1(t),t.layers=lt(t.layers);var r=xt(this.serialize(),t).filter(function(e){return!(e.command in gn)});if(r.length===0)return!1;var i=r.filter(function(e){return!(e.command in hn)});if(i.length>0)throw Error(`Unimplemented: `+i.map(function(e){return e.command}).join(`, `)+`.`);return r.forEach(function(e){e.command!==`setTransition`&&n[e.command].apply(n,e.args)}),this.stylesheet=t,!0},n.prototype.addImage=function(t,n){if(this.getImage(t))return this.fire(new e.ErrorEvent(Error(`An image with this name already exists.`)));this.imageManager.addImage(t,n),this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.fire(new e.Event(`data`,{dataType:`style`}))},n.prototype.updateImage=function(e,t){this.imageManager.updateImage(e,t)},n.prototype.getImage=function(e){return this.imageManager.getImage(e)},n.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(Error(`No image with this name exists.`)));this.imageManager.removeImage(t),this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.fire(new e.Event(`data`,{dataType:`style`}))},n.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},n.prototype.addSource=function(t,n,r){var i=this;if(r===void 0&&(r={}),this._checkLoaded(),this.sourceCaches[t]!==void 0)throw Error(`There is already a source with this ID`);if(!n.type)throw Error(`The type property must be defined, but the only the following properties were given: `+Object.keys(n).join(`, `)+`.`);if(!([`vector`,`raster`,`geojson`,`video`,`image`].indexOf(n.type)>=0&&this._validate(e.validateStyle.source,`sources.`+t,n,null,r))){this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);var a=this.sourceCaches[t]=new Ze(t,n,this.dispatcher);a.style=this,a.setEventedParent(this,function(){return{isSourceLoaded:i.loaded(),source:a.serialize(),sourceId:t}}),a.onAdd(this.map),this._changed=!0}},n.prototype.removeSource=function(t){if(this._checkLoaded(),this.sourceCaches[t]===void 0)throw Error(`There is no source with this ID`);for(var n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(Error(`Source "`+t+`" cannot be removed while layer "`+n+`" is using it.`)));var r=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],r.fire(new e.Event(`data`,{sourceDataType:`metadata`,dataType:`source`,sourceId:t})),r.setEventedParent(null),r.clearTiles(),r.onRemove&&r.onRemove(this.map),this._changed=!0},n.prototype.setGeoJSONSourceData=function(e,t){this._checkLoaded(),this.sourceCaches[e].getSource().setData(t),this._changed=!0},n.prototype.getSource=function(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()},n.prototype.addLayer=function(t,n,r){r===void 0&&(r={}),this._checkLoaded();var i=t.id;if(this.getLayer(i)){this.fire(new e.ErrorEvent(Error(`Layer with id "`+i+`" already exists on this map`)));return}var a;if(t.type===`custom`){if(mn(this,e.validateCustomStyleLayer(t)))return;a=e.createStyleLayer(t)}else{if(typeof t.source==`object`&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,`layers.`+i,t,{arrayIndex:-1},r))return;a=e.createStyleLayer(t),this._validateLayer(a),a.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[a.id]=a.serialize()}var o=n?this._order.indexOf(n):this._order.length;if(n&&o===-1){this.fire(new e.ErrorEvent(Error(`Layer with id "`+n+`" does not exist on this map.`)));return}if(this._order.splice(o,0,i),this._layerOrderChanged=!0,this._layers[i]=a,this._removedLayers[i]&&a.source&&a.type!==`custom`){var s=this._removedLayers[i];delete this._removedLayers[i],s.type===a.type?(this._updatedSources[a.source]=`reload`,this.sourceCaches[a.source].pause()):this._updatedSources[a.source]=`clear`}this._updateLayer(a),a.onAdd&&a.onAdd(this.map)},n.prototype.moveLayer=function(t,n){if(this._checkLoaded(),this._changed=!0,!this._layers[t]){this.fire(new e.ErrorEvent(Error(`The layer '`+t+`' does not exist in the map's style and cannot be moved.`)));return}if(t!==n){var r=this._order.indexOf(t);this._order.splice(r,1);var i=n?this._order.indexOf(n):this._order.length;if(n&&i===-1){this.fire(new e.ErrorEvent(Error(`Layer with id "`+n+`" does not exist on this map.`)));return}this._order.splice(i,0,t),this._layerOrderChanged=!0}},n.prototype.removeLayer=function(t){this._checkLoaded();var n=this._layers[t];if(!n){this.fire(new e.ErrorEvent(Error(`The layer '`+t+`' does not exist in the map's style and cannot be removed.`)));return}n.setEventedParent(null);var r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)},n.prototype.getLayer=function(e){return this._layers[e]},n.prototype.hasLayer=function(e){return e in this._layers},n.prototype.setLayerZoomRange=function(t,n,r){this._checkLoaded();var i=this.getLayer(t);if(!i){this.fire(new e.ErrorEvent(Error(`The layer '`+t+`' does not exist in the map's style and cannot have zoom extent.`)));return}i.minzoom===n&&i.maxzoom===r||(n!=null&&(i.minzoom=n),r!=null&&(i.maxzoom=r),this._updateLayer(i))},n.prototype.setFilter=function(t,n,r){r===void 0&&(r={}),this._checkLoaded();var i=this.getLayer(t);if(!i){this.fire(new e.ErrorEvent(Error(`The layer '`+t+`' does not exist in the map's style and cannot be filtered.`)));return}if(!e.deepEqual(i.filter,n)){if(n==null){i.filter=void 0,this._updateLayer(i);return}this._validate(e.validateStyle.filter,`layers.`+i.id+`.filter`,n,null,r)||(i.filter=e.clone$1(n),this._updateLayer(i))}},n.prototype.getFilter=function(t){return e.clone$1(this.getLayer(t).filter)},n.prototype.setLayoutProperty=function(t,n,r,i){i===void 0&&(i={}),this._checkLoaded();var a=this.getLayer(t);if(!a){this.fire(new e.ErrorEvent(Error(`The layer '`+t+`' does not exist in the map's style and cannot be styled.`)));return}e.deepEqual(a.getLayoutProperty(n),r)||(a.setLayoutProperty(n,r,i),this._updateLayer(a))},n.prototype.getLayoutProperty=function(t,n){var r=this.getLayer(t);if(!r){this.fire(new e.ErrorEvent(Error(`The layer '`+t+`' does not exist in the map's style.`)));return}return r.getLayoutProperty(n)},n.prototype.setPaintProperty=function(t,n,r,i){i===void 0&&(i={}),this._checkLoaded();var a=this.getLayer(t);if(!a){this.fire(new e.ErrorEvent(Error(`The layer '`+t+`' does not exist in the map's style and cannot be styled.`)));return}e.deepEqual(a.getPaintProperty(n),r)||(a.setPaintProperty(n,r,i)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[t]=!0)},n.prototype.getPaintProperty=function(e,t){return this.getLayer(e).getPaintProperty(t)},n.prototype.setFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=t.sourceLayer,a=this.sourceCaches[r];if(a===void 0){this.fire(new e.ErrorEvent(Error(`The source '`+r+`' does not exist in the map's style.`)));return}var o=a.getSource().type;if(o===`geojson`&&i){this.fire(new e.ErrorEvent(Error(`GeoJSON sources cannot have a sourceLayer parameter.`)));return}if(o===`vector`&&!i){this.fire(new e.ErrorEvent(Error(`The sourceLayer parameter must be provided for vector source types.`)));return}t.id===void 0&&this.fire(new e.ErrorEvent(Error(`The feature id parameter must be provided.`))),a.setFeatureState(i,t.id,n)},n.prototype.removeFeatureState=function(t,n){this._checkLoaded();var r=t.source,i=this.sourceCaches[r];if(i===void 0){this.fire(new e.ErrorEvent(Error(`The source '`+r+`' does not exist in the map's style.`)));return}var a=i.getSource().type,o=a===`vector`?t.sourceLayer:void 0;if(a===`vector`&&!o){this.fire(new e.ErrorEvent(Error(`The sourceLayer parameter must be provided for vector source types.`)));return}if(n&&typeof t.id!=`string`&&typeof t.id!=`number`){this.fire(new e.ErrorEvent(Error(`A feature id is requred to remove its specific state property.`)));return}i.removeFeatureState(o,t.id,n)},n.prototype.getFeatureState=function(t){this._checkLoaded();var n=t.source,r=t.sourceLayer,i=this.sourceCaches[n];if(i===void 0){this.fire(new e.ErrorEvent(Error(`The source '`+n+`' does not exist in the map's style.`)));return}if(i.getSource().type===`vector`&&!r){this.fire(new e.ErrorEvent(Error(`The sourceLayer parameter must be provided for vector source types.`)));return}return t.id===void 0&&this.fire(new e.ErrorEvent(Error(`The feature id parameter must be provided.`))),i.getFeatureState(r,t.id)},n.prototype.getTransition=function(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},n.prototype.serialize=function(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,function(e){return e.serialize()}),layers:this._serializeLayers(this._order)},function(e){return e!==void 0})},n.prototype._updateLayer=function(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&this.sourceCaches[e.source].getSource().type!==`raster`&&(this._updatedSources[e.source]=`reload`,this.sourceCaches[e.source].pause()),this._changed=!0},n.prototype._flattenAndSortRenderedFeatures=function(e){for(var t=this,n=function(e){return t._layers[e].type===`fill-extrusion`},r={},i=[],a=this._order.length-1;a>=0;a--){var o=this._order[a];if(n(o)){r[o]=a;for(var s=0,c=e;s<c.length;s+=1){var l=c[s][o];if(l)for(var u=0,d=l;u<d.length;u+=1){var f=d[u];i.push(f)}}}}i.sort(function(e,t){return t.intersectionZ-e.intersectionZ});for(var p=[],m=this._order.length-1;m>=0;m--){var h=this._order[m];if(n(h))for(var g=i.length-1;g>=0;g--){var _=i[g].feature;if(r[_.layer.id]<m)break;p.push(_),i.pop()}else for(var v=0,y=e;v<y.length;v+=1){var b=y[v][h];if(b)for(var x=0,S=b;x<S.length;x+=1){var C=S[x];p.push(C.feature)}}}return p},n.prototype.queryRenderedFeatures=function(t,n,r){n&&n.filter&&this._validate(e.validateStyle.filter,`queryRenderedFeatures.filter`,n.filter,null,n);var i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(Error(`parameters.layers must be an Array.`))),[];for(var a=0,o=n.layers;a<o.length;a+=1){var s=o[a],c=this._layers[s];if(!c)return this.fire(new e.ErrorEvent(Error(`The layer '`+s+`' does not exist in the map's style and cannot be queried for features.`))),[];i[c.source]=!0}}var l=[];for(var u in n.availableImages=this._availableImages,this.sourceCaches)n.layers&&!i[u]||l.push(K(this.sourceCaches[u],this._layers,this._serializedLayers,t,n,r));return this.placement&&l.push(ee(this._layers,this._serializedLayers,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(l)},n.prototype.querySourceFeatures=function(t,n){n&&n.filter&&this._validate(e.validateStyle.filter,`querySourceFeatures.filter`,n.filter,null,n);var r=this.sourceCaches[t];return r?q(r,n):[]},n.prototype.addSourceType=function(e,t,r){if(n.getSourceType(e))return r(Error(`A source type called "`+e+`" already exists.`));if(n.setSourceType(e,t),!t.workerSourceURL)return r(null,null);this.dispatcher.broadcast(`loadWorkerSource`,{name:e,url:t.workerSourceURL},r)},n.prototype.getLight=function(){return this.light.getLight()},n.prototype.setLight=function(t,n){n===void 0&&(n={}),this._checkLoaded();var r=this.light.getLight(),i=!1;for(var a in t)if(!e.deepEqual(t[a],r[a])){i=!0;break}if(i){var o={now:e.browser.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(o)}},n.prototype._validate=function(t,n,r,i,a){return a===void 0&&(a={}),a&&a.validate===!1?!1:mn(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.styleSpec},i)))},n.prototype._remove=function(){for(var t in this._request&&=(this._request.cancel(),null),this._spriteRequest&&=(this._spriteRequest.cancel(),null),e.evented.off(`pluginStateChange`,this._rtlTextPluginCallback),this._layers)this._layers[t].setEventedParent(null);for(var n in this.sourceCaches)this.sourceCaches[n].clearTiles(),this.sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},n.prototype._clearSource=function(e){this.sourceCaches[e].clearTiles()},n.prototype._reloadSource=function(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()},n.prototype._updateSources=function(e){for(var t in this.sourceCaches)this.sourceCaches[t].update(e)},n.prototype._generateCollisionBoxes=function(){for(var e in this.sourceCaches)this._reloadSource(e)},n.prototype._updatePlacement=function(t,n,r,i,a){a===void 0&&(a=!1);for(var o=!1,s=!1,c={},l=0,u=this._order;l<u.length;l+=1){var d=u[l],f=this._layers[d];if(f.type===`symbol`){if(!c[f.source]){var p=this.sourceCaches[f.source];c[f.source]=p.getRenderableIds(!0).map(function(e){return p.getTileByID(e)}).sort(function(e,t){return t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)})}var m=this.crossTileSymbolIndex.addLayer(f,c[f.source],t.center.lng);o||=m}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),a=a||this._layerOrderChanged||r===0,(a||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.browser.now(),t.zoom))&&(this.pauseablePlacement=new cn(t,this._order,a,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,c),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.browser.now()),s=!0),o&&this.pauseablePlacement.placement.setStale()),s||o)for(var h=0,g=this._order;h<g.length;h+=1){var _=g[h],v=this._layers[_];v.type===`symbol`&&this.placement.updateLayerOpacities(v,c[v.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.browser.now())},n.prototype._releaseSymbolFadeTiles=function(){for(var e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()},n.prototype.getImages=function(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();var r=this.sourceCaches[t.source];r&&r.setDependencies(t.tileID.key,t.type,t.icons)},n.prototype.getGlyphs=function(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)},n.prototype.getResource=function(t,n,r){return e.makeRequest(n,r)},n}(e.Evented);vn.getSourceType=H,vn.setSourceType=U,vn.registerForPluginStateChange=e.registerForPluginStateChange;var yn=e.createLayout([{name:`a_pos`,type:`Int16`,components:2}]),bn=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,xn=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,Sn=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Cn=`attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}`,wn=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Tn=`uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}`,En=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Dn=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,On=`void main() {gl_FragColor=vec4(1.0);}`,kn=`attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}`,An=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,jn=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,Mn=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,Nn=`uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}`,Pn=`varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}`,Fn=`attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`,In=`varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}`,Ln=`attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`,Rn=`uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}`,zn=`attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}`,Bn=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Vn=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,Hn=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Un=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Wn=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Gn=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Kn=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qn=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Jn=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Yn=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Xn=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Zn=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,Qn=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$n=`uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}`,er=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,tr=`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}`,nr=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,rr=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,ir=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,ar=`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,or=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,sr=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,cr=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,lr=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,ur=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,dr=`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`,fr=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,$=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,pr=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,mr=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,hr=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,gr=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,_r=Ur(bn,xn),vr=Ur(Sn,Cn),yr=Ur(wn,Tn),br=Ur(En,Dn),xr=Ur(On,kn),Sr=Ur(An,jn),Cr=Ur(Mn,Nn),wr=Ur(Pn,Fn),Tr=Ur(In,Ln),Er=Ur(Rn,zn),Dr=Ur(Bn,Vn),Or=Ur(Hn,Un),kr=Ur(Wn,Gn),Ar=Ur(Kn,qn),jr=Ur(Jn,Yn),Mr=Ur(Xn,Zn),Nr=Ur(Qn,$n),Pr=Ur(er,tr),Fr=Ur(nr,rr),Ir=Ur(ir,ar),Lr=Ur(or,sr),Rr=Ur(cr,lr),zr=Ur(ur,dr),Br=Ur(fr,$),Vr=Ur(pr,mr),Hr=Ur(hr,gr);function Ur(e,t){var n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r={};return e=e.replace(n,function(e,t,n,i,a){return r[a]=!0,t===`define`?`
#ifndef HAS_UNIFORM_u_`+a+`
varying `+n+` `+i+` `+a+`;
#else
uniform `+n+` `+i+` u_`+a+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+a+`
    `+n+` `+i+` `+a+` = u_`+a+`;
#endif
`}),t=t.replace(n,function(e,t,n,i,a){var o=i===`float`?`vec2`:`vec4`,s=a.match(/color/)?`color`:o;return r[a]?t===`define`?`
#ifndef HAS_UNIFORM_u_`+a+`
uniform lowp float u_`+a+`_t;
attribute `+n+` `+o+` a_`+a+`;
varying `+n+` `+i+` `+a+`;
#else
uniform `+n+` `+i+` u_`+a+`;
#endif
`:s===`vec4`?`
#ifndef HAS_UNIFORM_u_`+a+`
    `+a+` = a_`+a+`;
#else
    `+n+` `+i+` `+a+` = u_`+a+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+a+`
    `+a+` = unpack_mix_`+s+`(a_`+a+`, u_`+a+`_t);
#else
    `+n+` `+i+` `+a+` = u_`+a+`;
#endif
`:t===`define`?`
#ifndef HAS_UNIFORM_u_`+a+`
uniform lowp float u_`+a+`_t;
attribute `+n+` `+o+` a_`+a+`;
#else
uniform `+n+` `+i+` u_`+a+`;
#endif
`:s===`vec4`?`
#ifndef HAS_UNIFORM_u_`+a+`
    `+n+` `+i+` `+a+` = a_`+a+`;
#else
    `+n+` `+i+` `+a+` = u_`+a+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+a+`
    `+n+` `+i+` `+a+` = unpack_mix_`+s+`(a_`+a+`, u_`+a+`_t);
#else
    `+n+` `+i+` `+a+` = u_`+a+`;
#endif
`}),{fragmentSource:e,vertexSource:t}}var Wr=Object.freeze({__proto__:null,prelude:_r,background:vr,backgroundPattern:yr,circle:br,clippingMask:xr,heatmap:Sr,heatmapTexture:Cr,collisionBox:wr,collisionCircle:Tr,debug:Er,fill:Dr,fillOutline:Or,fillOutlinePattern:kr,fillPattern:Ar,fillExtrusion:jr,fillExtrusionPattern:Mr,hillshadePrepare:Nr,hillshade:Pr,line:Fr,lineGradient:Ir,linePattern:Lr,lineSDF:Rr,raster:zr,symbolIcon:Br,symbolSDF:Vr,symbolTextAndIcon:Hr}),Gr=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Gr.prototype.bind=function(e,t,n,r,i,a,o,s){this.context=e;for(var c=this.boundPaintVertexBuffers.length!==r.length,l=0;!c&&l<r.length;l++)this.boundPaintVertexBuffers[l]!==r[l]&&(c=!0);var u=!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==n||c||this.boundIndexBuffer!==i||this.boundVertexOffset!==a||this.boundDynamicVertexBuffer!==o||this.boundDynamicVertexBuffer2!==s;!e.extVertexArrayObject||u?this.freshBind(t,n,r,i,a,o,s):(e.bindVertexArrayOES.set(this.vao),o&&o.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind())},Gr.prototype.freshBind=function(e,t,n,r,i,a,o){var s,c=e.numAttributes,l=this.context,u=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=a,this.boundDynamicVertexBuffer2=o;else{s=l.currentNumAttributes||0;for(var d=c;d<s;d++)u.disableVertexAttribArray(d)}t.enableAttributes(u,e);for(var f=0,p=n;f<p.length;f+=1)p[f].enableAttributes(u,e);a&&a.enableAttributes(u,e),o&&o.enableAttributes(u,e),t.bind(),t.setVertexAttribPointers(u,e,i);for(var m=0,h=n;m<h.length;m+=1){var g=h[m];g.bind(),g.setVertexAttribPointers(u,e,i)}a&&(a.bind(),a.setVertexAttribPointers(u,e,i)),r&&r.bind(),o&&(o.bind(),o.setVertexAttribPointers(u,e,i)),l.currentNumAttributes=c},Gr.prototype.destroy=function(){this.vao&&=(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),null)};var Kr=function(e,t,n,r,i){var a=e.gl;this.program=a.createProgram();var o=n?n.defines():[];i&&o.push(`#define OVERDRAW_INSPECTOR;`);var s=o.concat(_r.fragmentSource,t.fragmentSource).join(`
`),c=o.concat(_r.vertexSource,t.vertexSource).join(`
`),l=a.createShader(a.FRAGMENT_SHADER);if(a.isContextLost()){this.failedToCreate=!0;return}a.shaderSource(l,s),a.compileShader(l),a.attachShader(this.program,l);var u=a.createShader(a.VERTEX_SHADER);if(a.isContextLost()){this.failedToCreate=!0;return}a.shaderSource(u,c),a.compileShader(u),a.attachShader(this.program,u);for(var d=n?n.layoutAttributes:[],f=0;f<d.length;f++)a.bindAttribLocation(this.program,f,d[f].name);a.linkProgram(this.program),a.deleteShader(u),a.deleteShader(l),this.numAttributes=a.getProgramParameter(this.program,a.ACTIVE_ATTRIBUTES),this.attributes={};for(var p={},m=0;m<this.numAttributes;m++){var h=a.getActiveAttrib(this.program,m);h&&(this.attributes[h.name]=a.getAttribLocation(this.program,h.name))}for(var g=a.getProgramParameter(this.program,a.ACTIVE_UNIFORMS),_=0;_<g;_++){var v=a.getActiveUniform(this.program,_);v&&(p[v.name]=a.getUniformLocation(this.program,v.name))}this.fixedUniforms=r(e,p),this.binderUniforms=n?n.getUniforms(e,p):[]};Kr.prototype.draw=function(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h){var g,_=e.gl;if(!this.failedToCreate){for(var v in e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(i),e.setCullFace(a),this.fixedUniforms)this.fixedUniforms[v].set(o[v]);p&&p.setUniforms(e,this.binderUniforms,d,{zoom:f});for(var y=(g={},g[_.LINES]=2,g[_.TRIANGLES]=3,g[_.LINE_STRIP]=1,g)[t],b=0,x=u.get();b<x.length;b+=1){var S=x[b],C=S.vaos||={};(C[s]||(C[s]=new Gr)).bind(e,this,c,p?p.getPaintVertexBuffers():[],l,S.vertexOffset,m,h),_.drawElements(t,S.primitiveLength*y,_.UNSIGNED_SHORT,S.primitiveOffset*y*2)}}};function qr(e,t,n){var r=1/Bt(n,1,t.transform.tileZoom),i=2**n.tileID.overscaledZ,a=n.tileSize*2**t.transform.tileZoom/i,o=a*(n.tileID.canonical.x+n.tileID.wrap*i),s=a*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[o>>16,s>>16],u_pixel_coord_lower:[o&65535,s&65535]}}function Jr(e,t,n,r){var i=n.imageManager.getPattern(e.from.toString()),a=n.imageManager.getPattern(e.to.toString()),o=n.imageManager.getPixelSize(),s=o.width,c=o.height,l=2**r.tileID.overscaledZ,u=r.tileSize*2**n.transform.tileZoom/l,d=u*(r.tileID.canonical.x+r.tileID.wrap*l),f=u*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[s,c],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/Bt(r,1,n.transform.tileZoom),u_pixel_coord_upper:[d>>16,f>>16],u_pixel_coord_lower:[d&65535,f&65535]}}var Yr=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_opacity:new e.Uniform1f(t,n.u_opacity)}},Xr=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,n.u_height_factor),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade),u_opacity:new e.Uniform1f(t,n.u_opacity)}},Zr=function(t,n,r,i){var a=n.style.light,o=a.properties.get(`position`),s=[o.x,o.y,o.z],c=e.create$1();a.properties.get(`anchor`)===`viewport`&&e.fromRotation(c,-n.transform.angle),e.transformMat3(s,s,c);var l=a.properties.get(`color`);return{u_matrix:t,u_lightpos:s,u_lightintensity:a.properties.get(`intensity`),u_lightcolor:[l.r,l.g,l.b],u_vertical_gradient:+r,u_opacity:i}},Qr=function(t,n,r,i,a,o,s){return e.extend(Zr(t,n,r,i),qr(o,n,s),{u_height_factor:-(2**a.overscaledZ)/s.tileSize/8})},$r=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},ei=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},ti=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world)}},ni=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},ri=function(e){return{u_matrix:e}},ii=function(t,n,r,i){return e.extend(ri(t),qr(r,n,i))},ai=function(e,t){return{u_matrix:e,u_world:t}},oi=function(t,n,r,i,a){return e.extend(ii(t,n,r,i),{u_world:a})},si=function(t,n){return{u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,n.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},ci=function(t,n,r,i){var a=t.transform,o,s;if(i.paint.get(`circle-pitch-alignment`)===`map`){var c=Bt(r,1,a.zoom);o=!0,s=[c,c]}else o=!1,s=a.pixelsToGLUnits;return{u_camera_to_center_distance:a.cameraToCenterDistance,u_scale_with_map:+(i.paint.get(`circle-pitch-scale`)===`map`),u_matrix:t.translatePosMatrix(n.posMatrix,r,i.paint.get(`circle-translate`),i.paint.get(`circle-translate-anchor`)),u_pitch_with_map:+o,u_device_pixel_ratio:e.browser.devicePixelRatio,u_extrude_scale:s}},li=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,n.u_overscale_factor)}},ui=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,n.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,n.u_viewport_size)}},di=function(e,t,n){var r=Bt(n,1,t.zoom),i=2**(t.zoom-n.tileID.overscaledZ),a=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[t.pixelsToGLUnits[0]/(r*i),t.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:a}},fi=function(e,t,n){return{u_matrix:e,u_inv_matrix:t,u_camera_to_center_distance:n.cameraToCenterDistance,u_viewport_size:[n.width,n.height]}},pi=function(t,n){return{u_color:new e.UniformColor(t,n.u_color),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_overlay:new e.Uniform1i(t,n.u_overlay),u_overlay_scale:new e.Uniform1f(t,n.u_overlay_scale)}},mi=function(e,t,n){return n===void 0&&(n=1),{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}},hi=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},gi=function(e){return{u_matrix:e}},_i=function(t,n){return{u_extrude_scale:new e.Uniform1f(t,n.u_extrude_scale),u_intensity:new e.Uniform1f(t,n.u_intensity),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}},vi=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_color_ramp:new e.Uniform1i(t,n.u_color_ramp),u_opacity:new e.Uniform1f(t,n.u_opacity)}},yi=function(e,t,n,r){return{u_matrix:e,u_extrude_scale:Bt(t,1,n),u_intensity:r}},bi=function(t,n,r,i){var a=e.create();e.ortho(a,0,t.width,t.height,0,0,1);var o=t.context.gl;return{u_matrix:a,u_world:[o.drawingBufferWidth,o.drawingBufferHeight],u_image:r,u_color_ramp:i,u_opacity:n.paint.get(`heatmap-opacity`)}},xi=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_latrange:new e.Uniform2f(t,n.u_latrange),u_light:new e.Uniform2f(t,n.u_light),u_shadow:new e.UniformColor(t,n.u_shadow),u_highlight:new e.UniformColor(t,n.u_highlight),u_accent:new e.UniformColor(t,n.u_accent)}},Si=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_dimension:new e.Uniform2f(t,n.u_dimension),u_zoom:new e.Uniform1f(t,n.u_zoom),u_maxzoom:new e.Uniform1f(t,n.u_maxzoom),u_unpack:new e.Uniform4f(t,n.u_unpack)}},Ci=function(e,t,n){var r=n.paint.get(`hillshade-shadow-color`),i=n.paint.get(`hillshade-highlight-color`),a=n.paint.get(`hillshade-accent-color`),o=n.paint.get(`hillshade-illumination-direction`)*(Math.PI/180);n.paint.get(`hillshade-illumination-anchor`)===`viewport`&&(o-=e.transform.angle);var s=!e.options.moving;return{u_matrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),s),u_image:0,u_latrange:Ti(e,t.tileID),u_light:[n.paint.get(`hillshade-exaggeration`),o],u_shadow:r,u_highlight:i,u_accent:a}},wi=function(t,n,r){var i=n.stride,a=e.create();return e.ortho(a,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(a,a,[0,-e.EXTENT,0]),{u_matrix:a,u_image:1,u_dimension:[i,i],u_zoom:t.overscaledZ,u_maxzoom:r,u_unpack:n.getUnpackVector()}};function Ti(t,n){var r=2**n.canonical.z,i=n.canonical.y;return[new e.MercatorCoordinate(0,i/r).toLngLat().lat,new e.MercatorCoordinate(0,(i+1)/r).toLngLat().lat]}var Ei=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels)}},Di=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_image:new e.Uniform1i(t,n.u_image)}},Oi=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texsize:new e.Uniform2f(t,n.u_texsize),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_image:new e.Uniform1i(t,n.u_image),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}},ki=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,n.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,n.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,n.u_sdfgamma),u_image:new e.Uniform1i(t,n.u_image),u_tex_y_a:new e.Uniform1f(t,n.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,n.u_tex_y_b),u_mix:new e.Uniform1f(t,n.u_mix)}},Ai=function(t,n,r){var i=t.transform;return{u_matrix:Fi(t,n,r),u_ratio:1/Bt(n,1,i.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},ji=function(t,n,r){return e.extend(Ai(t,n,r),{u_image:0})},Mi=function(t,n,r,i){var a=t.transform,o=Pi(n,a);return{u_matrix:Fi(t,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:1/Bt(n,1,a.zoom),u_device_pixel_ratio:e.browser.devicePixelRatio,u_image:0,u_scale:[o,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},Ni=function(t,n,r,i,a){var o=t.transform,s=t.lineAtlas,c=Pi(n,o),l=r.layout.get(`line-cap`)===`round`,u=s.getDash(i.from,l),d=s.getDash(i.to,l),f=u.width*a.fromScale,p=d.width*a.toScale;return e.extend(Ai(t,n,r),{u_patternscale_a:[c/f,-u.height/2],u_patternscale_b:[c/p,-d.height/2],u_sdfgamma:s.width/(Math.min(f,p)*256*e.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:d.y,u_mix:a.t})};function Pi(e,t){return 1/Bt(e,1,t.tileZoom)}function Fi(e,t,n){return e.translatePosMatrix(t.tileID.posMatrix,t,n.paint.get(`line-translate`),n.paint.get(`line-translate-anchor`))}var Ii=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_tl_parent:new e.Uniform2f(t,n.u_tl_parent),u_scale_parent:new e.Uniform1f(t,n.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,n.u_buffer_scale),u_fade_t:new e.Uniform1f(t,n.u_fade_t),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image0:new e.Uniform1i(t,n.u_image0),u_image1:new e.Uniform1i(t,n.u_image1),u_brightness_low:new e.Uniform1f(t,n.u_brightness_low),u_brightness_high:new e.Uniform1f(t,n.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,n.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,n.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,n.u_spin_weights)}},Li=function(e,t,n,r,i){return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get(`raster-opacity`),u_image0:0,u_image1:1,u_brightness_low:i.paint.get(`raster-brightness-min`),u_brightness_high:i.paint.get(`raster-brightness-max`),u_saturation_factor:Bi(i.paint.get(`raster-saturation`)),u_contrast_factor:zi(i.paint.get(`raster-contrast`)),u_spin_weights:Ri(i.paint.get(`raster-hue-rotate`))}};function Ri(e){e*=Math.PI/180;var t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}function zi(e){return e>0?1/(1-e):1+e}function Bi(e){return e>0?1-1/(1.001-e):-e}var Vi=function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture)}},Hi=function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},Ui=function(t,n){return{u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texsize_icon:new e.Uniform2f(t,n.u_texsize_icon),u_texture:new e.Uniform1i(t,n.u_texture),u_texture_icon:new e.Uniform1i(t,n.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}},Wi=function(e,t,n,r,i,a,o,s,c,l){var u=i.transform;return{u_is_size_zoom_constant:+(e===`constant`||e===`source`),u_is_size_feature_constant:+(e===`constant`||e===`camera`),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:u.width/u.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:o,u_coord_matrix:s,u_is_text:+c,u_pitch_with_map:+r,u_texsize:l,u_texture:0}},Gi=function(t,n,r,i,a,o,s,c,l,u,d){var f=a.transform;return e.extend(Wi(t,n,r,i,a,o,s,c,l,u),{u_gamma_scale:i?Math.cos(f._pitch)*f.cameraToCenterDistance:1,u_device_pixel_ratio:e.browser.devicePixelRatio,u_is_halo:+d})},Ki=function(t,n,r,i,a,o,s,c,l,u){return e.extend(Gi(t,n,r,i,a,o,s,c,!0,l,!0),{u_texsize_icon:u,u_texture_icon:1})},qi=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_color:new e.UniformColor(t,n.u_color)}},Ji=function(t,n){return{u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image:new e.Uniform1i(t,n.u_image),u_pattern_tl_a:new e.Uniform2f(t,n.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,n.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,n.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,n.u_pattern_br_b),u_texsize:new e.Uniform2f(t,n.u_texsize),u_mix:new e.Uniform1f(t,n.u_mix),u_pattern_size_a:new e.Uniform2f(t,n.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,n.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,n.u_scale_a),u_scale_b:new e.Uniform1f(t,n.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,n.u_tile_units_to_pixels)}},Yi=function(e,t,n){return{u_matrix:e,u_opacity:t,u_color:n}},Xi=function(t,n,r,i,a,o){return e.extend(Jr(i,o,r,a),{u_matrix:t,u_opacity:n})},Zi={fillExtrusion:Yr,fillExtrusionPattern:Xr,fill:$r,fillPattern:ei,fillOutline:ti,fillOutlinePattern:ni,circle:si,collisionBox:li,collisionCircle:ui,debug:pi,clippingMask:hi,heatmap:_i,heatmapTexture:vi,hillshade:xi,hillshadePrepare:Si,line:Ei,lineGradient:Di,linePattern:Oi,lineSDF:ki,raster:Ii,symbolIcon:Vi,symbolSDF:Hi,symbolTextAndIcon:Ui,background:qi,backgroundPattern:Ji},Qi;function $i(t,n,r,i,a,o,s){for(var c=t.context,l=c.gl,u=t.useProgram(`collisionBox`),d=[],f=0,p=0,m=0;m<i.length;m++){var h=i[m],g=n.getTile(h),_=g.getBucket(r);if(_){var v=h.posMatrix;(a[0]!==0||a[1]!==0)&&(v=t.translatePosMatrix(h.posMatrix,g,a,o));var y=s?_.textCollisionBox:_.iconCollisionBox,b=_.collisionCircleArray;if(b.length>0){var x=e.create(),S=v;e.mul(x,_.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(x,x,_.placementViewportMatrix),d.push({circleArray:b,circleOffset:p,transform:S,invTransform:x}),f+=b.length/4,p=f}y&&u.draw(c,l.LINES,ze.disabled,He.disabled,t.colorModeForRenderPass(),Ye.disabled,di(v,t.transform,g),r.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,null,t.transform.zoom,null,null,y.collisionVertexBuffer)}}if(!(!s||!d.length)){var C=t.useProgram(`collisionCircle`),w=new e.StructArrayLayout2f1f2i16;w.resize(f*4),w._trim();for(var T=0,E=0,D=d;E<D.length;E+=1)for(var O=D[E],k=0;k<O.circleArray.length/4;k++){var A=k*4,j=O.circleArray[A+0],M=O.circleArray[A+1],N=O.circleArray[A+2],P=O.circleArray[A+3];w.emplace(T++,j,M,N,P,0),w.emplace(T++,j,M,N,P,1),w.emplace(T++,j,M,N,P,2),w.emplace(T++,j,M,N,P,3)}(!Qi||Qi.length<f*2)&&(Qi=ea(f));for(var F=c.createIndexBuffer(Qi,!0),I=c.createVertexBuffer(w,e.collisionCircleLayout.members,!0),L=0,R=d;L<R.length;L+=1){var z=R[L],B=fi(z.transform,z.invTransform,t.transform);C.draw(c,l.TRIANGLES,ze.disabled,He.disabled,t.colorModeForRenderPass(),Ye.disabled,B,r.id,I,F,e.SegmentVector.simpleSegment(0,z.circleOffset*2,z.circleArray.length,z.circleArray.length/2),null,t.transform.zoom,null,null,null)}I.destroy(),F.destroy()}}function ea(t){var n=t*2,r=new e.StructArrayLayout3ui6;r.resize(n),r._trim();for(var i=0;i<n;i++){var a=i*6;r.uint16[a+0]=i*4+0,r.uint16[a+1]=i*4+1,r.uint16[a+2]=i*4+2,r.uint16[a+3]=i*4+2,r.uint16[a+4]=i*4+3,r.uint16[a+5]=i*4+0}return r}var ta=e.identity(new Float32Array(16));function na(e,t,n,r,i){if(e.renderPass===`translucent`){var a=He.disabled,o=e.colorModeForRenderPass();n.layout.get(`text-variable-anchor`)&&ia(r,e,n,t,n.layout.get(`text-rotation-alignment`),n.layout.get(`text-pitch-alignment`),i),n.paint.get(`icon-opacity`).constantOr(1)!==0&&sa(e,t,n,r,!1,n.paint.get(`icon-translate`),n.paint.get(`icon-translate-anchor`),n.layout.get(`icon-rotation-alignment`),n.layout.get(`icon-pitch-alignment`),n.layout.get(`icon-keep-upright`),a,o),n.paint.get(`text-opacity`).constantOr(1)!==0&&sa(e,t,n,r,!0,n.paint.get(`text-translate`),n.paint.get(`text-translate-anchor`),n.layout.get(`text-rotation-alignment`),n.layout.get(`text-pitch-alignment`),n.layout.get(`text-keep-upright`),a,o),t.map.showCollisionBoxes&&($i(e,t,n,r,n.paint.get(`text-translate`),n.paint.get(`text-translate-anchor`),!0),$i(e,t,n,r,n.paint.get(`icon-translate`),n.paint.get(`icon-translate-anchor`),!1))}}function ra(t,n,r,i,a,o){var s=e.getAnchorAlignment(t),c=s.horizontalAlign,l=s.verticalAlign,u=-(c-.5)*n,d=-(l-.5)*r,f=e.evaluateVariableOffset(t,i);return new e.Point((u/a+f[0])*o,(d/a+f[1])*o)}function ia(t,n,r,i,a,o,s){for(var c=n.transform,l=a===`map`,u=o===`map`,d=0,f=t;d<f.length;d+=1){var p=f[d],m=i.getTile(p),h=m.getBucket(r);if(!(!h||!h.text||!h.text.segments.get().length)){var g=h.textSizeData,_=e.evaluateSizeForZoom(g,c.zoom),v=Bt(m,1,n.transform.zoom),y=wt(p.posMatrix,u,l,n.transform,v),b=r.layout.get(`icon-text-fit`)!==`none`&&h.hasIconData();if(_){var x=2**(c.zoom-m.tileID.overscaledZ);aa(h,l,u,s,e.symbolSize,c,y,p.posMatrix,x,_,b)}}}}function aa(t,n,r,i,a,o,s,c,l,u,d){var f=t.text.placedSymbolArray,p=t.text.dynamicLayoutVertexArray,m=t.icon.dynamicLayoutVertexArray,h={};p.clear();for(var g=0;g<f.length;g++){var _=f.get(g),v=t.allowVerticalPlacement&&!_.placedOrientation,y=!_.hidden&&_.crossTileID&&!v?i[_.crossTileID]:null;if(!y)It(_.numGlyphs,p);else{var b=new e.Point(_.anchorX,_.anchorY),x=Et(b,r?c:s),S=Dt(o.cameraToCenterDistance,x.signedDistanceFromCamera),C=a.evaluateSizeForFeature(t.textSizeData,u,_)*S/e.ONE_EM;r&&(C*=t.tilePixelRatio/l);for(var w=y.width,T=y.height,E=y.anchor,D=y.textOffset,O=y.textBoxScale,k=ra(E,w,T,D,O,C),A=r?Et(b.add(k),s).point:x.point.add(n?k.rotate(-o.angle):k),j=t.allowVerticalPlacement&&_.placedOrientation===e.WritingMode.vertical?Math.PI/2:0,M=0;M<_.numGlyphs;M++)e.addDynamicAttributes(p,A,j);d&&_.associatedIconIndex>=0&&(h[_.associatedIconIndex]={shiftedAnchor:A,angle:j})}}if(d){m.clear();for(var N=t.icon.placedSymbolArray,P=0;P<N.length;P++){var F=N.get(P);if(F.hidden)It(F.numGlyphs,m);else{var I=h[P];if(!I)It(F.numGlyphs,m);else for(var L=0;L<F.numGlyphs;L++)e.addDynamicAttributes(m,I.shiftedAnchor,I.angle)}}t.icon.dynamicLayoutVertexBuffer.updateData(m)}t.text.dynamicLayoutVertexBuffer.updateData(p)}function oa(e,t,n){return n.iconsInText&&t?`symbolTextAndIcon`:e?`symbolSDF`:`symbolIcon`}function sa(t,n,r,i,a,o,s,c,l,u,d,f){for(var p=t.context,m=p.gl,h=t.transform,g=c===`map`,_=l===`map`,v=g&&r.layout.get(`symbol-placement`)!==`point`,y=g&&!_&&!v,b=r.layout.get(`symbol-sort-key`).constantOr(1)!==void 0,x=t.depthModeForSublayer(0,ze.ReadOnly),S=r.layout.get(`text-variable-anchor`),C=[],w=0,T=i;w<T.length;w+=1){var E=T[w],D=n.getTile(E),O=D.getBucket(r);if(O){var k=a?O.text:O.icon;if(!(!k||!k.segments.get().length)){var A=k.programConfigurations.get(r.id),j=a||O.sdfIcons,M=a?O.textSizeData:O.iconSizeData,N=_||h.pitch!==0,P=t.useProgram(oa(j,a,O),A),F=e.evaluateSizeForZoom(M,h.zoom),I=void 0,L=[0,0],R=void 0,z=void 0,B=null,V=void 0;if(a){if(R=D.glyphAtlasTexture,z=m.LINEAR,I=D.glyphAtlasTexture.size,O.iconsInText){L=D.imageAtlasTexture.size,B=D.imageAtlasTexture;var H=M.kind===`composite`||M.kind===`camera`;V=N||t.options.rotating||t.options.zooming||H?m.LINEAR:m.NEAREST}}else{var U=r.layout.get(`icon-size`).constantOr(0)!==1||O.iconsNeedLinear;R=D.imageAtlasTexture,z=j||t.options.rotating||t.options.zooming||U||N?m.LINEAR:m.NEAREST,I=D.imageAtlasTexture.size}var W=Bt(D,1,t.transform.zoom),G=wt(E.posMatrix,_,g,t.transform,W),K=Tt(E.posMatrix,_,g,t.transform,W),ee=S&&O.hasTextData(),q=r.layout.get(`icon-text-fit`)!==`none`&&ee&&O.hasIconData();v&&kt(O,E.posMatrix,t,a,G,K,_,u);var J=t.translatePosMatrix(E.posMatrix,D,o,s),Y=v||a&&S||q?ta:G,te=t.translatePosMatrix(K,D,o,s,!0),ne=j&&r.paint.get(a?`text-halo-width`:`icon-halo-width`).constantOr(1)!==0,re=void 0;re=j?O.iconsInText?Ki(M.kind,F,y,_,t,J,Y,te,I,L):Gi(M.kind,F,y,_,t,J,Y,te,a,I,!0):Wi(M.kind,F,y,_,t,J,Y,te,a,I);var ie={program:P,buffers:k,uniformValues:re,atlasTexture:R,atlasTextureIcon:B,atlasInterpolation:z,atlasInterpolationIcon:V,isSDF:j,hasHalo:ne};if(b)for(var ae=k.segments.get(),oe=0,se=ae;oe<se.length;oe+=1){var ce=se[oe];C.push({segments:new e.SegmentVector([ce]),sortKey:ce.sortKey,state:ie})}else C.push({segments:k.segments,sortKey:0,state:ie})}}}b&&C.sort(function(e,t){return e.sortKey-t.sortKey});for(var le=0,ue=C;le<ue.length;le+=1){var de=ue[le],fe=de.state;if(p.activeTexture.set(m.TEXTURE0),fe.atlasTexture.bind(fe.atlasInterpolation,m.CLAMP_TO_EDGE),fe.atlasTextureIcon&&(p.activeTexture.set(m.TEXTURE1),fe.atlasTextureIcon&&fe.atlasTextureIcon.bind(fe.atlasInterpolationIcon,m.CLAMP_TO_EDGE)),fe.isSDF){var pe=fe.uniformValues;fe.hasHalo&&(pe.u_is_halo=1,ca(fe.buffers,de.segments,r,t,fe.program,x,d,f,pe)),pe.u_is_halo=0}ca(fe.buffers,de.segments,r,t,fe.program,x,d,f,fe.uniformValues)}}function ca(e,t,n,r,i,a,o,s,c){var l=r.context,u=l.gl;i.draw(l,u.TRIANGLES,a,o,s,Ye.disabled,c,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function la(t,n,r,i){if(t.renderPass===`translucent`){var a=r.paint.get(`circle-opacity`),o=r.paint.get(`circle-stroke-width`),s=r.paint.get(`circle-stroke-opacity`),c=r.layout.get(`circle-sort-key`).constantOr(1)!==void 0;if(!(a.constantOr(1)===0&&(o.constantOr(1)===0||s.constantOr(1)===0))){for(var l=t.context,u=l.gl,d=t.depthModeForSublayer(0,ze.ReadOnly),f=He.disabled,p=t.colorModeForRenderPass(),m=[],h=0;h<i.length;h++){var g=i[h],_=n.getTile(g),v=_.getBucket(r);if(v){var y=v.programConfigurations.get(r.id),b={programConfiguration:y,program:t.useProgram(`circle`,y),layoutVertexBuffer:v.layoutVertexBuffer,indexBuffer:v.indexBuffer,uniformValues:ci(t,g,_,r)};if(c)for(var x=v.segments.get(),S=0,C=x;S<C.length;S+=1){var w=C[S];m.push({segments:new e.SegmentVector([w]),sortKey:w.sortKey,state:b})}else m.push({segments:v.segments,sortKey:0,state:b})}}c&&m.sort(function(e,t){return e.sortKey-t.sortKey});for(var T=0,E=m;T<E.length;T+=1){var D=E[T],O=D.state,k=O.programConfiguration,A=O.program,j=O.layoutVertexBuffer,M=O.indexBuffer,N=O.uniformValues,P=D.segments;A.draw(l,u.TRIANGLES,d,f,p,Ye.disabled,N,r.id,j,M,P,r.paint,t.transform.zoom,k)}}}}function ua(t,n,r,i){if(r.paint.get(`heatmap-opacity`)!==0)if(t.renderPass===`offscreen`){var a=t.context,o=a.gl,s=He.disabled,c=new Ke([o.ONE,o.ONE],e.Color.transparent,[!0,!0,!0,!0]);da(a,t,r),a.clear({color:e.Color.transparent});for(var l=0;l<i.length;l++){var u=i[l];if(!n.hasRenderableParent(u)){var d=n.getTile(u),f=d.getBucket(r);if(f){var p=f.programConfigurations.get(r.id),m=t.useProgram(`heatmap`,p),h=t.transform.zoom;m.draw(a,o.TRIANGLES,ze.disabled,s,c,Ye.disabled,yi(u.posMatrix,d,h,r.paint.get(`heatmap-intensity`)),r.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,r.paint,t.transform.zoom,p)}}}a.viewport.set([0,0,t.width,t.height])}else t.renderPass===`translucent`&&(t.context.setColorMode(t.colorModeForRenderPass()),pa(t,r))}function da(e,t,n){var r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);var i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{var a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),fa(e,t,a,i)}}function fa(e,t,n,r){var i=e.gl,a=e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,a,null),r.colorAttachment.set(n)}function pa(t,n){var r=t.context,i=r.gl,a=n.heatmapFbo;if(a){r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,a.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);var o=n.colorRampTexture;o||=n.colorRampTexture=new e.Texture(r,n.colorRamp,i.RGBA),o.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram(`heatmapTexture`).draw(r,i.TRIANGLES,ze.disabled,He.disabled,t.colorModeForRenderPass(),Ye.disabled,bi(t,n,0,1),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}}function ma(t,n,r,i){if(t.renderPass===`translucent`){var a=r.paint.get(`line-opacity`),o=r.paint.get(`line-width`);if(!(a.constantOr(1)===0||o.constantOr(1)===0)){var s=t.depthModeForSublayer(0,ze.ReadOnly),c=t.colorModeForRenderPass(),l=r.paint.get(`line-dasharray`),u=r.paint.get(`line-pattern`),d=u.constantOr(1),f=r.paint.get(`line-gradient`),p=r.getCrossfadeParameters(),m=d?`linePattern`:l?`lineSDF`:f?`lineGradient`:`line`,h=t.context,g=h.gl,_=!0;if(f){h.activeTexture.set(g.TEXTURE0);var v=r.gradientTexture;if(!r.gradient)return;v||=r.gradientTexture=new e.Texture(h,r.gradient,g.RGBA),v.bind(g.LINEAR,g.CLAMP_TO_EDGE)}for(var y=0,b=i;y<b.length;y+=1){var x=b[y],S=n.getTile(x);if(!(d&&!S.patternsLoaded())){var C=S.getBucket(r);if(C){var w=C.programConfigurations.get(r.id),T=t.context.program.get(),E=t.useProgram(m,w),D=_||E.program!==T,O=u.constantOr(null);if(O&&S.imageAtlas){var k=S.imageAtlas,A=k.patternPositions[O.to.toString()],j=k.patternPositions[O.from.toString()];A&&j&&w.setConstantPatternPositions(A,j)}var M=d?Mi(t,S,r,p):l?Ni(t,S,r,l,p):f?ji(t,S,r):Ai(t,S,r);d?(h.activeTexture.set(g.TEXTURE0),S.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),w.updatePaintBuffers(p)):l&&(D||t.lineAtlas.dirty)&&(h.activeTexture.set(g.TEXTURE0),t.lineAtlas.bind(h)),E.draw(h,g.TRIANGLES,s,t.stencilModeForClipping(x),c,Ye.disabled,M,r.id,C.layoutVertexBuffer,C.indexBuffer,C.segments,r.paint,t.transform.zoom,w),_=!1}}}}}}function ha(t,n,r,i){var a=r.paint.get(`fill-color`),o=r.paint.get(`fill-opacity`);if(o.constantOr(1)!==0){var s=t.colorModeForRenderPass(),c=r.paint.get(`fill-pattern`),l=t.opaquePassEnabledForLayer()&&!c.constantOr(1)&&a.constantOr(e.Color.transparent).a===1&&o.constantOr(0)===1?`opaque`:`translucent`;t.renderPass===l&&ga(t,n,r,i,t.depthModeForSublayer(1,t.renderPass===`opaque`?ze.ReadWrite:ze.ReadOnly),s,!1),t.renderPass===`translucent`&&r.paint.get(`fill-antialias`)&&ga(t,n,r,i,t.depthModeForSublayer(r.getPaintProperty(`fill-outline-color`)?2:0,ze.ReadOnly),s,!0)}}function ga(e,t,n,r,i,a,o){var s=e.context.gl,c=n.paint.get(`fill-pattern`),l=c&&c.constantOr(1),u=n.getCrossfadeParameters(),d,f,p,m,h;o?(f=l&&!n.getPaintProperty(`fill-outline-color`)?`fillOutlinePattern`:`fillOutline`,d=s.LINES):(f=l?`fillPattern`:`fill`,d=s.TRIANGLES);for(var g=0,_=r;g<_.length;g+=1){var v=_[g],y=t.getTile(v);if(!(l&&!y.patternsLoaded())){var b=y.getBucket(n);if(b){var x=b.programConfigurations.get(n.id),S=e.useProgram(f,x);l&&(e.context.activeTexture.set(s.TEXTURE0),y.imageAtlasTexture.bind(s.LINEAR,s.CLAMP_TO_EDGE),x.updatePaintBuffers(u));var C=c.constantOr(null);if(C&&y.imageAtlas){var w=y.imageAtlas,T=w.patternPositions[C.to.toString()],E=w.patternPositions[C.from.toString()];T&&E&&x.setConstantPatternPositions(T,E)}var D=e.translatePosMatrix(v.posMatrix,y,n.paint.get(`fill-translate`),n.paint.get(`fill-translate-anchor`));if(!o)m=b.indexBuffer,h=b.segments,p=l?ii(D,e,u,y):ri(D);else{m=b.indexBuffer2,h=b.segments2;var O=[s.drawingBufferWidth,s.drawingBufferHeight];p=f===`fillOutlinePattern`&&l?oi(D,e,u,y,O):ai(D,O)}S.draw(e.context,d,i,e.stencilModeForClipping(v),a,Ye.disabled,p,n.id,b.layoutVertexBuffer,m,h,n.paint,e.transform.zoom,x)}}}}function _a(e,t,n,r){var i=n.paint.get(`fill-extrusion-opacity`);if(i!==0&&e.renderPass===`translucent`){var a=new ze(e.context.gl.LEQUAL,ze.ReadWrite,e.depthRangeFor3D);if(i===1&&!n.paint.get(`fill-extrusion-pattern`).constantOr(1)){var o=e.colorModeForRenderPass();va(e,t,n,r,a,He.disabled,o)}else va(e,t,n,r,a,He.disabled,Ke.disabled),va(e,t,n,r,a,e.stencilModeFor3D(),e.colorModeForRenderPass())}}function va(e,t,n,r,i,a,o){for(var s=e.context,c=s.gl,l=n.paint.get(`fill-extrusion-pattern`),u=l.constantOr(1),d=n.getCrossfadeParameters(),f=n.paint.get(`fill-extrusion-opacity`),p=0,m=r;p<m.length;p+=1){var h=m[p],g=t.getTile(h),_=g.getBucket(n);if(_){var v=_.programConfigurations.get(n.id),y=e.useProgram(u?`fillExtrusionPattern`:`fillExtrusion`,v);u&&(e.context.activeTexture.set(c.TEXTURE0),g.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),v.updatePaintBuffers(d));var b=l.constantOr(null);if(b&&g.imageAtlas){var x=g.imageAtlas,S=x.patternPositions[b.to.toString()],C=x.patternPositions[b.from.toString()];S&&C&&v.setConstantPatternPositions(S,C)}var w=e.translatePosMatrix(h.posMatrix,g,n.paint.get(`fill-extrusion-translate`),n.paint.get(`fill-extrusion-translate-anchor`)),T=n.paint.get(`fill-extrusion-vertical-gradient`),E=u?Qr(w,e,T,f,h,d,g):Zr(w,e,T,f);y.draw(s,s.gl.TRIANGLES,i,a,o,Ye.backCCW,E,n.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,n.paint,e.transform.zoom,v)}}}function ya(e,t,n,r){if(!(e.renderPass!==`offscreen`&&e.renderPass!==`translucent`)){for(var i=e.context,a=t.getSource().maxzoom,o=e.depthModeForSublayer(0,ze.ReadOnly),s=e.colorModeForRenderPass(),c=e.renderPass===`translucent`?e.stencilConfigForOverlap(r):[{},r],l=c[0],u=c[1],d=0,f=u;d<f.length;d+=1){var p=f[d],m=t.getTile(p);m.needsHillshadePrepare&&e.renderPass===`offscreen`?xa(e,m,n,a,o,He.disabled,s):e.renderPass===`translucent`&&ba(e,m,n,o,l[p.overscaledZ],s)}i.viewport.set([0,0,e.width,e.height])}}function ba(e,t,n,r,i,a){var o=e.context,s=o.gl,c=t.fbo;if(c){var l=e.useProgram(`hillshade`);o.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,c.colorAttachment.get());var u=Ci(e,t,n);l.draw(o,s.TRIANGLES,r,i,a,Ye.disabled,u,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function xa(t,n,r,i,a,o,s){var c=t.context,l=c.gl,u=n.dem;if(u&&u.data){var d=u.dim,f=u.stride,p=u.getPixels();if(c.activeTexture.set(l.TEXTURE1),c.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(f),n.demTexture){var m=n.demTexture;m.update(p,{premultiply:!1}),m.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else n.demTexture=new e.Texture(c,p,l.RGBA,{premultiply:!1}),n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);c.activeTexture.set(l.TEXTURE0);var h=n.fbo;if(!h){var g=new e.Texture(c,{width:d,height:d,data:null},l.RGBA);g.bind(l.LINEAR,l.CLAMP_TO_EDGE),h=n.fbo=c.createFramebuffer(d,d,!0),h.colorAttachment.set(g.texture)}c.bindFramebuffer.set(h.framebuffer),c.viewport.set([0,0,d,d]),t.useProgram(`hillshadePrepare`).draw(c,l.TRIANGLES,a,o,s,Ye.disabled,wi(n.tileID,u,i),r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function Sa(e,t,n,r){if(e.renderPass===`translucent`&&n.paint.get(`raster-opacity`)!==0&&r.length)for(var i=e.context,a=i.gl,o=t.getSource(),s=e.useProgram(`raster`),c=e.colorModeForRenderPass(),l=o instanceof I?[{},r]:e.stencilConfigForOverlap(r),u=l[0],d=l[1],f=d[d.length-1].overscaledZ,p=!e.options.moving,m=0,h=d;m<h.length;m+=1){var g=h[m],_=e.depthModeForSublayer(g.overscaledZ-f,n.paint.get(`raster-opacity`)===1?ze.ReadWrite:ze.ReadOnly,a.LESS),v=t.getTile(g),y=e.transform.calculatePosMatrix(g.toUnwrapped(),p);v.registerFadeDuration(n.paint.get(`raster-fade-duration`));var b=t.findLoadedParent(g,0),x=Ca(v,b,t,n,e.transform),S=void 0,C=void 0,w=n.paint.get(`raster-resampling`)===`nearest`?a.NEAREST:a.LINEAR;i.activeTexture.set(a.TEXTURE0),v.texture.bind(w,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(a.TEXTURE1),b?(b.texture.bind(w,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),S=2**(b.tileID.overscaledZ-v.tileID.overscaledZ),C=[v.tileID.canonical.x*S%1,v.tileID.canonical.y*S%1]):v.texture.bind(w,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST);var T=Li(y,C||[0,0],S||1,x,n);o instanceof I?s.draw(i,a.TRIANGLES,_,He.disabled,c,Ye.disabled,T,n.id,o.boundsBuffer,e.quadTriangleIndexBuffer,o.boundsSegments):s.draw(i,a.TRIANGLES,_,u[g.overscaledZ],c,Ye.disabled,T,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}function Ca(t,n,r,i,a){var o=i.paint.get(`raster-fade-duration`);if(o>0){var s=e.browser.now(),c=(s-t.timeAdded)/o,l=n?(s-n.timeAdded)/o:-1,u=r.getSource(),d=a.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),f=!n||Math.abs(n.tileID.overscaledZ-d)>Math.abs(t.tileID.overscaledZ-d),p=f&&t.refreshedUponExpiration?1:e.clamp(f?c:1-l,0,1);return t.refreshedUponExpiration&&c>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-p}:{opacity:p,mix:0}}else return{opacity:1,mix:0}}function wa(e,t,n){var r=n.paint.get(`background-color`),i=n.paint.get(`background-opacity`);if(i!==0){var a=e.context,o=a.gl,s=e.transform,c=s.tileSize,l=n.paint.get(`background-pattern`);if(!e.isPatternMissing(l)){var u=!l&&r.a===1&&i===1&&e.opaquePassEnabledForLayer()?`opaque`:`translucent`;if(e.renderPass===u){var d=He.disabled,f=e.depthModeForSublayer(0,u===`opaque`?ze.ReadWrite:ze.ReadOnly),p=e.colorModeForRenderPass(),m=e.useProgram(l?`backgroundPattern`:`background`),h=s.coveringTiles({tileSize:c});l&&(a.activeTexture.set(o.TEXTURE0),e.imageManager.bind(e.context));for(var g=n.getCrossfadeParameters(),_=0,v=h;_<v.length;_+=1){var y=v[_],b=e.transform.calculatePosMatrix(y.toUnwrapped()),x=l?Xi(b,i,e,l,{tileID:y,tileSize:c},g):Yi(b,i,r);m.draw(a,o.TRIANGLES,f,d,p,Ye.disabled,x,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}}}}var Ta=new e.Color(1,0,0,1),Ea=new e.Color(0,1,0,1),Da=new e.Color(0,0,1,1),Oa=new e.Color(1,0,1,1),ka=new e.Color(0,1,1,1);function Aa(e){var t=e.transform.padding,n=3;Ma(e,e.transform.height-(t.top||0),n,Ta),Ma(e,t.bottom||0,n,Ea),Na(e,t.left||0,n,Da),Na(e,e.transform.width-(t.right||0),n,Oa);var r=e.transform.centerPoint;ja(e,r.x,e.transform.height-r.y,ka)}function ja(e,t,n,r){var i=20,a=2;Pa(e,t-a/2,n-i/2,a,i,r),Pa(e,t-i/2,n-a/2,i,a,r)}function Ma(e,t,n,r){Pa(e,0,t+n/2,e.transform.width,n,r)}function Na(e,t,n,r){Pa(e,t-n/2,0,n,e.transform.height,r)}function Pa(t,n,r,i,a,o){var s=t.context,c=s.gl;c.enable(c.SCISSOR_TEST),c.scissor(n*e.browser.devicePixelRatio,r*e.browser.devicePixelRatio,i*e.browser.devicePixelRatio,a*e.browser.devicePixelRatio),s.clear({color:o}),c.disable(c.SCISSOR_TEST)}function Fa(e,t,n){for(var r=0;r<n.length;r++)Ia(e,t,n[r])}function Ia(t,n,r){var i=t.context,a=i.gl,o=r.posMatrix,s=t.useProgram(`debug`),c=ze.disabled,l=He.disabled,u=t.colorModeForRenderPass(),d=`$debug`;i.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s.draw(i,a.LINE_STRIP,c,l,u,Ye.disabled,mi(o,e.Color.red),d,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments);var f=n.getTileByID(r.key).latestRawTileData,p=f&&f.byteLength||0,m=Math.floor(p/1024),h=n.getTile(r).tileSize,g=512/Math.min(h,512)*(r.overscaledZ/t.transform.zoom)*.5,_=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(_+=` => `+r.overscaledZ),La(t,_+` `+m+`kb`),s.draw(i,a.TRIANGLES,c,l,Ke.alphaBlended,Ye.disabled,mi(o,e.Color.transparent,g),d,t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments)}function La(e,t){e.initDebugOverlayCanvas();var n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext(`2d`);i.clearRect(0,0,n.width,n.height),i.shadowColor=`white`,i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle=`white`,i.textBaseline=`top`,i.font=`bold 36px Open Sans, sans-serif`,i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}function Ra(e,t,n){var r=e.context,i=n.implementation;if(e.renderPass===`offscreen`){var a=i.prerender;a&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),a.call(i,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if(e.renderPass===`translucent`){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(He.disabled);var o=i.renderingMode===`3d`?new ze(e.context.gl.LEQUAL,ze.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,ze.ReadOnly);r.setDepthMode(o),i.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}var za={symbol:na,circle:la,heatmap:ua,line:ma,fill:ha,"fill-extrusion":_a,hillshade:ya,raster:Sa,background:wa,debug:Fa,custom:Ra},Ba=function(e,t){this.context=new Xe(e),this.transform=t,this._tileTextures={},this.setup(),this.numSublayers=Ze.maxUnderzooming+Ze.maxOverzooming+1,this.depthEpsilon=1/2**16,this.crossTileSymbolIndex=new pn,this.gpuTimers={}};Ba.prototype.resize=function(t,n){if(this.width=t*e.browser.devicePixelRatio,this.height=n*e.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var r=0,i=this.style._order;r<i.length;r+=1){var a=i[r];this.style._layers[a].resize()}},Ba.prototype.setup=function(){var t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,yn.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);var r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,yn.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);var i=new e.StructArrayLayout4i8;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,F.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);var a=new e.StructArrayLayout2i4;a.emplaceBack(0,0),a.emplaceBack(1,0),a.emplaceBack(0,1),a.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(a,yn.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);var o=new e.StructArrayLayout1ui2;o.emplaceBack(0),o.emplaceBack(1),o.emplaceBack(3),o.emplaceBack(2),o.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(o);var s=new e.StructArrayLayout3ui6;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);var c=this.context.gl;this.stencilClearMode=new He({func:c.ALWAYS,mask:0},0,255,c.ZERO,c.ZERO,c.ZERO)},Ba.prototype.clearStencil=function(){var t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var r=e.create();e.ortho(r,0,this.width,this.height,0,0,1),e.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram(`clippingMask`).draw(t,n.TRIANGLES,ze.disabled,this.stencilClearMode,Ke.disabled,Ye.disabled,gi(r),`$clipping`,this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Ba.prototype._renderTileClippingMasks=function(e,t){if(!(this.currentStencilSource===e.source||!e.isTileClipped()||!t||!t.length)){this.currentStencilSource=e.source;var n=this.context,r=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(Ke.disabled),n.setDepthMode(ze.disabled);var i=this.useProgram(`clippingMask`);this._tileClippingMaskIDs={};for(var a=0,o=t;a<o.length;a+=1){var s=o[a],c=this._tileClippingMaskIDs[s.key]=this.nextStencilID++;i.draw(n,r.TRIANGLES,ze.disabled,new He({func:r.ALWAYS,mask:0},c,255,r.KEEP,r.KEEP,r.REPLACE),Ke.disabled,Ye.disabled,gi(s.posMatrix),`$clipping`,this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Ba.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var e=this.nextStencilID++,t=this.context.gl;return new He({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)},Ba.prototype.stencilModeForClipping=function(e){var t=this.context.gl;return new He({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)},Ba.prototype.stencilConfigForOverlap=function(e){var t,n=this.context.gl,r=e.sort(function(e,t){return t.overscaledZ-e.overscaledZ}),i=r[r.length-1].overscaledZ,a=r[0].overscaledZ-i+1;if(a>1){this.currentStencilSource=void 0,this.nextStencilID+a>256&&this.clearStencil();for(var o={},s=0;s<a;s++)o[s+i]=new He({func:n.GEQUAL,mask:255},s+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=a,[o,r]}return[(t={},t[i]=He.disabled,t),r]},Ba.prototype.colorModeForRenderPass=function(){var t=this.context.gl;if(this._showOverdrawInspector){var n=1/8;return new Ke([t.CONSTANT_COLOR,t.ONE],new e.Color(n,n,n,0),[!0,!0,!0,!0])}else if(this.renderPass===`opaque`)return Ke.unblended;else return Ke.alphaBlended},Ba.prototype.depthModeForSublayer=function(e,t,n){if(!this.opaquePassEnabledForLayer())return ze.disabled;var r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new ze(n||this.context.gl.LEQUAL,t,[r,r])},Ba.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Ba.prototype.render=function(t,n){var r=this;this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.browser.now()),this.imageManager.beginFrame();var i=this.style._order,a=this.style.sourceCaches;for(var o in a){var s=a[o];s.used&&s.prepare(this.context)}var c={},l={},u={};for(var d in a){var f=a[d];c[d]=f.getVisibleCoordinates(),l[d]=c[d].slice().reverse(),u[d]=f.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var p=0;p<i.length;p++){var m=i[p];if(this.style._layers[m].is3D()){this.opaquePassCutoff=p;break}}this.renderPass=`offscreen`;for(var h=0,g=i;h<g.length;h+=1){var _=g[h],v=this.style._layers[_];if(!(!v.hasOffscreenPass()||v.isHidden(this.transform.zoom))){var y=l[v.source];v.type!==`custom`&&!y.length||this.renderLayer(this,a[v.source],v,y)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass=`opaque`,this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){var b=this.style._layers[i[this.currentLayer]],x=a[b.source],S=c[b.source];this._renderTileClippingMasks(b,S),this.renderLayer(this,x,b,S)}for(this.renderPass=`translucent`,this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){var C=this.style._layers[i[this.currentLayer]],w=a[C.source],T=(C.type===`symbol`?u:l)[C.source];this._renderTileClippingMasks(C,c[C.source]),this.renderLayer(this,w,C,T)}if(this.options.showTileBoundaries){var E,D;e.values(this.style._layers).forEach(function(e){e.source&&!e.isHidden(r.transform.zoom)&&(e.source!==(D&&D.id)&&(D=r.style.sourceCaches[e.source]),(!E||E.getSource().maxzoom<D.getSource().maxzoom)&&(E=D))}),E&&za.debug(this,E,E.getVisibleCoordinates())}this.options.showPadding&&Aa(this),this.context.setDefault()},Ba.prototype.renderLayer=function(e,t,n,r){n.isHidden(this.transform.zoom)||n.type!==`background`&&n.type!==`custom`&&!r.length||(this.id=n.id,this.gpuTimingStart(n),za[n.type](e,t,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())},Ba.prototype.gpuTimingStart=function(e){if(this.options.gpuTiming){var t=this.context.extTimerQuery,n=this.gpuTimers[e.id];n||=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()},n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}},Ba.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}},Ba.prototype.collectGpuTimers=function(){var e=this.gpuTimers;return this.gpuTimers={},e},Ba.prototype.queryGpuTimers=function(e){var t={};for(var n in e){var r=e[n],i=this.context.extTimerQuery,a=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/(1e3*1e3);i.deleteQueryEXT(r.query),t[n]=a}return t},Ba.prototype.translatePosMatrix=function(t,n,r,i,a){if(!r[0]&&!r[1])return t;var o=a?i===`map`?this.transform.angle:0:i===`viewport`?-this.transform.angle:0;if(o){var s=Math.sin(o),c=Math.cos(o);r=[r[0]*c-r[1]*s,r[0]*s+r[1]*c]}var l=[a?r[0]:Bt(n,r[0],this.transform.zoom),a?r[1]:Bt(n,r[1],this.transform.zoom),0],u=new Float32Array(16);return e.translate(u,t,l),u},Ba.prototype.saveTileTexture=function(e){var t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]},Ba.prototype.getTileTexture=function(e){var t=this._tileTextures[e];return t&&t.length>0?t.pop():null},Ba.prototype.isPatternMissing=function(e){if(!e)return!1;if(!e.from||!e.to)return!0;var t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n},Ba.prototype.useProgram=function(e,t){this.cache=this.cache||{};var n=``+e+(t?t.cacheKey:``)+(this._showOverdrawInspector?`/overdraw`:``);return this.cache[n]||(this.cache[n]=new Kr(this.context,Wr[e],t,Zi[e],this._showOverdrawInspector)),this.cache[n]},Ba.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Ba.prototype.setBaseState=function(){var e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)},Ba.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=e.window.document.createElement(`canvas`),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var t=this.context.gl;this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,t.RGBA)}},Ba.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Va=function(e,t){this.points=e,this.planes=t};Va.fromInvProjectionMatrix=function(t,n,r){var i=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],a=2**r,o=i.map(function(n){return e.transformMat4([],n,t)}).map(function(t){return e.scale$1([],t,1/t[3]/n*a)});return new Va(o,[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(t){var n=e.sub([],o[t[0]],o[t[1]]),r=e.sub([],o[t[2]],o[t[1]]),i=e.normalize([],e.cross([],n,r)),a=-e.dot(i,o[t[1]]);return i.concat(a)}))};var Ha=function(t,n){this.min=t,this.max=n,this.center=e.scale$2([],e.add([],this.min,this.max),.5)};Ha.prototype.quadrant=function(t){for(var n=[t%2==0,t<2],r=e.clone$2(this.min),i=e.clone$2(this.max),a=0;a<n.length;a++)r[a]=n[a]?this.min[a]:this.center[a],i[a]=n[a]?this.center[a]:this.max[a];return i[2]=this.max[2],new Ha(r,i)},Ha.prototype.distanceX=function(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]},Ha.prototype.distanceY=function(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]},Ha.prototype.intersects=function(t){for(var n=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],r=!0,i=0;i<t.planes.length;i++){for(var a=t.planes[i],o=0,s=0;s<n.length;s++)o+=e.dot$1(a,n[s])>=0;if(o===0)return 0;o!==n.length&&(r=!1)}if(r)return 2;for(var c=0;c<3;c++){for(var l=Number.MAX_VALUE,u=-Number.MAX_VALUE,d=0;d<t.points.length;d++){var f=t.points[d][c]-this.min[c];l=Math.min(l,f),u=Math.max(u,f)}if(u<0||l>this.max[c]-this.min[c])return 0}return 1};var Ua=function(e,t,n,r){if(e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=0),r===void 0&&(r=0),isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0)throw Error(`Invalid value for edge-insets, top, bottom, left and right must all be numbers`);this.top=e,this.bottom=t,this.left=n,this.right=r};Ua.prototype.interpolate=function(t,n,r){return n.top!=null&&t.top!=null&&(this.top=e.number(t.top,n.top,r)),n.bottom!=null&&t.bottom!=null&&(this.bottom=e.number(t.bottom,n.bottom,r)),n.left!=null&&t.left!=null&&(this.left=e.number(t.left,n.left,r)),n.right!=null&&t.right!=null&&(this.right=e.number(t.right,n.right,r)),this},Ua.prototype.getCenter=function(t,n){var r=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.Point(r,i)},Ua.prototype.equals=function(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right},Ua.prototype.clone=function(){return new Ua(this.top,this.bottom,this.left,this.right)},Ua.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Wa=function(t,n,r,i,a){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=a===void 0?!0:a,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=r??0,this._maxPitch=i??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Ua,this._posMatrixCache={},this._alignedPosMatrixCache={}},Ga={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Wa.prototype.clone=function(){var e=new Wa(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e},Ga.minZoom.get=function(){return this._minZoom},Ga.minZoom.set=function(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))},Ga.maxZoom.get=function(){return this._maxZoom},Ga.maxZoom.set=function(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))},Ga.minPitch.get=function(){return this._minPitch},Ga.minPitch.set=function(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))},Ga.maxPitch.get=function(){return this._maxPitch},Ga.maxPitch.set=function(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))},Ga.renderWorldCopies.get=function(){return this._renderWorldCopies},Ga.renderWorldCopies.set=function(e){e===void 0?e=!0:e===null&&(e=!1),this._renderWorldCopies=e},Ga.worldSize.get=function(){return this.tileSize*this.scale},Ga.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Ga.size.get=function(){return new e.Point(this.width,this.height)},Ga.bearing.get=function(){return-this.angle/Math.PI*180},Ga.bearing.set=function(t){var n=-e.wrap(t,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=e.create$2(),e.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Ga.pitch.get=function(){return this._pitch/Math.PI*180},Ga.pitch.set=function(t){var n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())},Ga.fov.get=function(){return this._fov/Math.PI*180},Ga.fov.set=function(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())},Ga.zoom.get=function(){return this._zoom},Ga.zoom.set=function(e){var t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())},Ga.center.get=function(){return this._center},Ga.center.set=function(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())},Ga.padding.get=function(){return this._edgeInsets.toJSON()},Ga.padding.set=function(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())},Ga.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Wa.prototype.isPaddingEqual=function(e){return this._edgeInsets.equals(e)},Wa.prototype.interpolatePadding=function(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()},Wa.prototype.coveringZoomLevel=function(e){var t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)},Wa.prototype.getVisibleUnwrappedCoordinates=function(t){var n=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies)for(var r=this.pointCoordinate(new e.Point(0,0)),i=this.pointCoordinate(new e.Point(this.width,0)),a=this.pointCoordinate(new e.Point(this.width,this.height)),o=this.pointCoordinate(new e.Point(0,this.height)),s=Math.floor(Math.min(r.x,i.x,a.x,o.x)),c=Math.floor(Math.max(r.x,i.x,a.x,o.x)),l=1,u=s-l;u<=c+l;u++)u!==0&&n.push(new e.UnwrappedTileID(u,t));return n},Wa.prototype.coveringTiles=function(t){var n=this.coveringZoomLevel(t),r=n;if(t.minzoom!==void 0&&n<t.minzoom)return[];t.maxzoom!==void 0&&n>t.maxzoom&&(n=t.maxzoom);var i=e.MercatorCoordinate.fromLngLat(this.center),a=2**n,o=[a*i.x,a*i.y,0],s=Va.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n),c=t.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(c=n);var l=3,u=function(e){return{aabb:new Ha([e*a,0,0],[(e+1)*a,a,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}},d=[],f=[],p=n,m=t.reparseOverscaled?r:n;if(this._renderWorldCopies)for(var h=1;h<=3;h++)d.push(u(-h)),d.push(u(h));for(d.push(u(0));d.length>0;){var g=d.pop(),_=g.x,v=g.y,y=g.fullyVisible;if(!y){var b=g.aabb.intersects(s);if(b===0)continue;y=b===2}var x=g.aabb.distanceX(o),S=g.aabb.distanceY(o),C=Math.max(Math.abs(x),Math.abs(S)),w=l+(1<<p-g.zoom)-2;if(g.zoom===p||C>w&&g.zoom>=c){f.push({tileID:new e.OverscaledTileID(g.zoom===p?m:g.zoom,g.wrap,g.zoom,_,v),distanceSq:e.sqrLen([o[0]-.5-_,o[1]-.5-v])});continue}for(var T=0;T<4;T++){var E=(_<<1)+T%2,D=(v<<1)+(T>>1);d.push({aabb:g.aabb.quadrant(T),zoom:g.zoom+1,x:E,y:D,wrap:g.wrap,fullyVisible:y})}}return f.sort(function(e,t){return e.distanceSq-t.distanceSq}).map(function(e){return e.tileID})},Wa.prototype.resize=function(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()},Ga.unmodified.get=function(){return this._unmodified},Wa.prototype.zoomScale=function(e){return 2**e},Wa.prototype.scaleZoom=function(e){return Math.log(e)/Math.LN2},Wa.prototype.project=function(t){var n=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.Point(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(n)*this.worldSize)},Wa.prototype.unproject=function(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()},Ga.point.get=function(){return this.project(this.center)},Wa.prototype.setLocationAtPoint=function(t,n){var r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),a=this.locationCoordinate(t),o=new e.MercatorCoordinate(a.x-(r.x-i.x),a.y-(r.y-i.y));this.center=this.coordinateLocation(o),this._renderWorldCopies&&(this.center=this.center.wrap())},Wa.prototype.locationPoint=function(e){return this.coordinatePoint(this.locationCoordinate(e))},Wa.prototype.pointLocation=function(e){return this.coordinateLocation(this.pointCoordinate(e))},Wa.prototype.locationCoordinate=function(t){return e.MercatorCoordinate.fromLngLat(t)},Wa.prototype.coordinateLocation=function(e){return e.toLngLat()},Wa.prototype.pointCoordinate=function(t){var n=0,r=[t.x,t.y,0,1],i=[t.x,t.y,1,1];e.transformMat4(r,r,this.pixelMatrixInverse),e.transformMat4(i,i,this.pixelMatrixInverse);var a=r[3],o=i[3],s=r[0]/a,c=i[0]/o,l=r[1]/a,u=i[1]/o,d=r[2]/a,f=i[2]/o,p=d===f?0:(n-d)/(f-d);return new e.MercatorCoordinate(e.number(s,c,p)/this.worldSize,e.number(l,u,p)/this.worldSize)},Wa.prototype.coordinatePoint=function(t){var n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix),new e.Point(n[0]/n[3],n[1]/n[3])},Wa.prototype.getBounds=function(){return new e.LngLatBounds().extend(this.pointLocation(new e.Point(0,0))).extend(this.pointLocation(new e.Point(this.width,0))).extend(this.pointLocation(new e.Point(this.width,this.height))).extend(this.pointLocation(new e.Point(0,this.height)))},Wa.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Wa.prototype.setMaxBounds=function(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Wa.prototype.calculatePosMatrix=function(t,n){n===void 0&&(n=!1);var r=t.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];var a=t.canonical,o=this.worldSize/this.zoomScale(a.z),s=a.x+2**a.z*t.wrap,c=e.identity(new Float64Array(16));return e.translate(c,c,[s*o,a.y*o,0]),e.scale(c,c,[o/e.EXTENT,o/e.EXTENT,1]),e.multiply(c,n?this.alignedProjMatrix:this.projMatrix,c),i[r]=new Float32Array(c),i[r]},Wa.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Wa.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var t=-90,n=90,r=-180,i=180,a,o,s,c,l=this.size,u=this._unmodified;if(this.latRange){var d=this.latRange;t=e.mercatorYfromLat(d[1])*this.worldSize,n=e.mercatorYfromLat(d[0])*this.worldSize,a=n-t<l.y?l.y/(n-t):0}if(this.lngRange){var f=this.lngRange;r=e.mercatorXfromLng(f[0])*this.worldSize,i=e.mercatorXfromLng(f[1])*this.worldSize,o=i-r<l.x?l.x/(i-r):0}var p=this.point,m=Math.max(o||0,a||0);if(m){this.center=this.unproject(new e.Point(o?(i+r)/2:p.x,a?(n+t)/2:p.y)),this.zoom+=this.scaleZoom(m),this._unmodified=u,this._constraining=!1;return}if(this.latRange){var h=p.y,g=l.y/2;h-g<t&&(c=t+g),h+g>n&&(c=n-g)}if(this.lngRange){var _=p.x,v=l.x/2;_-v<r&&(s=r+v),_+v>i&&(s=i-v)}(s!==void 0||c!==void 0)&&(this.center=this.unproject(new e.Point(s===void 0?p.x:s,c===void 0?p.y:c))),this._unmodified=u,this._constraining=!1}},Wa.prototype._calcMatrices=function(){if(this.height){var t=this._fov/2,n=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(t)*this.height;var r=Math.PI/2+this._pitch,i=this._fov*(.5+n.y/this.height),a=Math.sin(i)*this.cameraToCenterDistance/Math.sin(e.clamp(Math.PI-r-i,.01,Math.PI-.01)),o=this.point,s=o.x,c=o.y,l=(Math.cos(Math.PI/2-this._pitch)*a+this.cameraToCenterDistance)*1.01,u=this.height/50,d=new Float64Array(16);e.perspective(d,this._fov,this.width/this.height,u,l),d[8]=-n.x*2/this.width,d[9]=n.y*2/this.height,e.scale(d,d,[1,-1,1]),e.translate(d,d,[0,0,-this.cameraToCenterDistance]),e.rotateX(d,d,this._pitch),e.rotateZ(d,d,this.angle),e.translate(d,d,[-s,-c,0]),this.mercatorMatrix=e.scale([],d,[this.worldSize,this.worldSize,this.worldSize]),e.scale(d,d,[1,1,e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=d,this.invProjMatrix=e.invert([],this.projMatrix);var f=this.width%2/2,p=this.height%2/2,m=Math.cos(this.angle),h=Math.sin(this.angle),g=s-Math.round(s)+m*f+h*p,_=c-Math.round(c)+m*p+h*f,v=new Float64Array(d);if(e.translate(v,v,[g>.5?g-1:g,_>.5?_-1:_,0]),this.alignedProjMatrix=v,d=e.create(),e.scale(d,d,[this.width/2,-this.height/2,1]),e.translate(d,d,[1,-1,0]),this.labelPlaneMatrix=d,d=e.create(),e.scale(d,d,[1,-1,1]),e.translate(d,d,[-1,-1,0]),e.scale(d,d,[2/this.width,2/this.height,1]),this.glCoordMatrix=d,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),d=e.invert(new Float64Array(16),this.pixelMatrix),!d)throw Error(`failed to invert matrix`);this.pixelMatrixInverse=d,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Wa.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var t=this.pointCoordinate(new e.Point(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance},Wa.prototype.getCameraPoint=function(){var t=this._pitch,n=Math.tan(t)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.Point(0,n))},Wa.prototype.getCameraQueryGeometry=function(t){var n=this.getCameraPoint();if(t.length===1)return[t[0],n];for(var r=n.x,i=n.y,a=n.x,o=n.y,s=0,c=t;s<c.length;s+=1){var l=c[s];r=Math.min(r,l.x),i=Math.min(i,l.y),a=Math.max(a,l.x),o=Math.max(o,l.y)}return[new e.Point(r,i),new e.Point(a,i),new e.Point(a,o),new e.Point(r,o),new e.Point(r,i)]},Object.defineProperties(Wa.prototype,Ga);function Ka(e,t){var n=!1,r=null,i=function(){r=null,n&&=(e(),r=setTimeout(i,t),!1)};return function(){return n=!0,r||i(),r}}var qa=function(t){this._hashName=t&&encodeURIComponent(t),e.bindAll([`_getCurrentHash`,`_onHashChange`,`_updateHash`],this),this._updateHash=Ka(this._updateHashUnthrottled.bind(this),30*1e3/100)};qa.prototype.addTo=function(t){return this._map=t,e.window.addEventListener(`hashchange`,this._onHashChange,!1),this._map.on(`moveend`,this._updateHash),this},qa.prototype.remove=function(){return e.window.removeEventListener(`hashchange`,this._onHashChange,!1),this._map.off(`moveend`,this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},qa.prototype.getHashString=function(t){var n=this._map.getCenter(),r=Math.round(this._map.getZoom()*100)/100,i=10**Math.ceil((r*Math.LN2+Math.log(512/360/.5))/Math.LN10),a=Math.round(n.lng*i)/i,o=Math.round(n.lat*i)/i,s=this._map.getBearing(),c=this._map.getPitch(),l=``;if(t?l+=`/`+a+`/`+o+`/`+r:l+=r+`/`+o+`/`+a,(s||c)&&(l+=`/`+Math.round(s*10)/10),c&&(l+=`/`+Math.round(c)),this._hashName){var u=this._hashName,d=!1,f=e.window.location.hash.slice(1).split(`&`).map(function(e){var t=e.split(`=`)[0];return t===u?(d=!0,t+`=`+l):e}).filter(function(e){return e});return d||f.push(u+`=`+l),`#`+f.join(`&`)}return`#`+l},qa.prototype._getCurrentHash=function(){var t=this,n=e.window.location.hash.replace(`#`,``);if(this._hashName){var r;return n.split(`&`).map(function(e){return e.split(`=`)}).forEach(function(e){e[0]===t._hashName&&(r=e)}),(r&&r[1]||``).split(`/`)}return n.split(`/`)},qa.prototype._onHashChange=function(){var e=this._getCurrentHash();if(e.length>=3&&!e.some(function(e){return isNaN(e)})){var t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},qa.prototype._updateHashUnthrottled=function(){var t=this.getHashString();try{e.window.history.replaceState(e.window.history.state,``,t)}catch{}};var Ja={linearity:.3,easing:e.bezier(0,0,.3,1)},Ya=e.extend({deceleration:2500,maxSpeed:1400},Ja),Xa=e.extend({deceleration:20,maxSpeed:1400},Ja),Za=e.extend({deceleration:1e3,maxSpeed:360},Ja),Qa=e.extend({deceleration:1e3,maxSpeed:90},Ja),$a=function(e){this._map=e,this.clear()};$a.prototype.clear=function(){this._inertiaBuffer=[]},$a.prototype.record=function(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.browser.now(),settings:t})},$a.prototype._drainInertiaBuffer=function(){for(var t=this._inertiaBuffer,n=e.browser.now(),r=160;t.length>0&&n-t[0].time>r;)t.shift()},$a.prototype._onMoveEnd=function(t){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var n={zoom:0,bearing:0,pitch:0,pan:new e.Point(0,0),pinchAround:void 0,around:void 0},r=0,i=this._inertiaBuffer;r<i.length;r+=1){var a=i[r].settings;n.zoom+=a.zoomDelta||0,n.bearing+=a.bearingDelta||0,n.pitch+=a.pitchDelta||0,a.panDelta&&n.pan._add(a.panDelta),a.around&&(n.around=a.around),a.pinchAround&&(n.pinchAround=a.pinchAround)}var o=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,s={};if(n.pan.mag()){var c=to(n.pan.mag(),o,e.extend({},Ya,t||{}));s.offset=n.pan.mult(c.amount/n.pan.mag()),s.center=this._map.transform.center,eo(s,c)}if(n.zoom){var l=to(n.zoom,o,Xa);s.zoom=this._map.transform.zoom+l.amount,eo(s,l)}if(n.bearing){var u=to(n.bearing,o,Za);s.bearing=this._map.transform.bearing+e.clamp(u.amount,-179,179),eo(s,u)}if(n.pitch){var d=to(n.pitch,o,Qa);s.pitch=this._map.transform.pitch+d.amount,eo(s,d)}if(s.zoom||s.bearing){var f=n.pinchAround===void 0?n.around:n.pinchAround;s.around=f?this._map.unproject(f):this._map.getCenter()}return this.clear(),e.extend(s,{noMoveStart:!0})}};function eo(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function to(t,n,r){var i=r.maxSpeed,a=r.linearity,o=r.deceleration,s=e.clamp(t*a/(n/1e3),-i,i),c=Math.abs(s)/(o*a);return{easing:r.easing,duration:c*1e3,amount:s*(c/2)}}var no=function(t){function r(r,i,a,o){o===void 0&&(o={});var s=n.mousePos(i.getCanvasContainer(),a),c=i.unproject(s);t.call(this,r,e.extend({point:s,lngLat:c,originalEvent:a},o)),this._defaultPrevented=!1,this.target=i}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),ro=function(t){function r(r,i,a){var o=r===`touchend`?a.changedTouches:a.touches,s=n.touchPos(i.getCanvasContainer(),o),c=s.map(function(e){return i.unproject(e)}),l=s.reduce(function(e,t,n,r){return e.add(t.div(r.length))},new e.Point(0,0)),u=i.unproject(l);t.call(this,r,{points:s,point:l,lngLats:c,lngLat:u,originalEvent:a}),this._defaultPrevented=!1}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var i={defaultPrevented:{configurable:!0}};return r.prototype.preventDefault=function(){this._defaultPrevented=!0},i.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(r.prototype,i),r}(e.Event),io=function(e){function t(t,n,r){e.call(this,t,{originalEvent:r}),this._defaultPrevented=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={defaultPrevented:{configurable:!0}};return t.prototype.preventDefault=function(){this._defaultPrevented=!0},n.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(t.prototype,n),t}(e.Event),ao=function(e,t){this._map=e,this._clickTolerance=t.clickTolerance};ao.prototype.reset=function(){delete this._mousedownPos},ao.prototype.wheel=function(e){return this._firePreventable(new io(e.type,this._map,e))},ao.prototype.mousedown=function(e,t){return this._mousedownPos=t,this._firePreventable(new no(e.type,this._map,e))},ao.prototype.mouseup=function(e){this._map.fire(new no(e.type,this._map,e))},ao.prototype.click=function(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new no(e.type,this._map,e))},ao.prototype.dblclick=function(e){return this._firePreventable(new no(e.type,this._map,e))},ao.prototype.mouseover=function(e){this._map.fire(new no(e.type,this._map,e))},ao.prototype.mouseout=function(e){this._map.fire(new no(e.type,this._map,e))},ao.prototype.touchstart=function(e){return this._firePreventable(new ro(e.type,this._map,e))},ao.prototype.touchmove=function(e){this._map.fire(new ro(e.type,this._map,e))},ao.prototype.touchend=function(e){this._map.fire(new ro(e.type,this._map,e))},ao.prototype.touchcancel=function(e){this._map.fire(new ro(e.type,this._map,e))},ao.prototype._firePreventable=function(e){if(this._map.fire(e),e.defaultPrevented)return{}},ao.prototype.isEnabled=function(){return!0},ao.prototype.isActive=function(){return!1},ao.prototype.enable=function(){},ao.prototype.disable=function(){};var oo=function(e){this._map=e};oo.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},oo.prototype.mousemove=function(e){this._map.fire(new no(e.type,this._map,e))},oo.prototype.mousedown=function(){this._delayContextMenu=!0},oo.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new no(`contextmenu`,this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},oo.prototype.contextmenu=function(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new no(e.type,this._map,e)),this._map.listens(`contextmenu`)&&e.preventDefault()},oo.prototype.isEnabled=function(){return!0},oo.prototype.isActive=function(){return!1},oo.prototype.enable=function(){},oo.prototype.disable=function(){};var so=function(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1};so.prototype.isEnabled=function(){return!!this._enabled},so.prototype.isActive=function(){return!!this._active},so.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},so.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},so.prototype.mousedown=function(e,t){this.isEnabled()&&e.shiftKey&&e.button===0&&(n.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)},so.prototype.mousemoveWindow=function(e,t){if(this._active){var r=t;if(!(this._lastPos.equals(r)||!this._box&&r.dist(this._startPos)<this._clickTolerance)){var i=this._startPos;this._lastPos=r,this._box||(this._box=n.create(`div`,`mapboxgl-boxzoom`,this._container),this._container.classList.add(`mapboxgl-crosshair`),this._fireEvent(`boxzoomstart`,e));var a=Math.min(i.x,r.x),o=Math.max(i.x,r.x),s=Math.min(i.y,r.y),c=Math.max(i.y,r.y);n.setTransform(this._box,`translate(`+a+`px,`+s+`px)`),this._box.style.width=o-a+`px`,this._box.style.height=c-s+`px`}}},so.prototype.mouseupWindow=function(t,r){var i=this;if(this._active&&t.button===0){var a=this._startPos,o=r;if(this.reset(),n.suppressClick(),a.x===o.x&&a.y===o.y)this._fireEvent(`boxzoomcancel`,t);else return this._map.fire(new e.Event(`boxzoomend`,{originalEvent:t})),{cameraAnimation:function(e){return e.fitScreenCoordinates(a,o,i._map.getBearing(),{linear:!0})}}}},so.prototype.keydown=function(e){this._active&&e.keyCode===27&&(this.reset(),this._fireEvent(`boxzoomcancel`,e))},so.prototype.reset=function(){this._active=!1,this._container.classList.remove(`mapboxgl-crosshair`),this._box&&=(n.remove(this._box),null),n.enableDrag(),delete this._startPos,delete this._lastPos},so.prototype._fireEvent=function(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))};function co(e,t){for(var n={},r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}function lo(t){for(var n=new e.Point(0,0),r=0,i=t;r<i.length;r+=1){var a=i[r];n._add(a)}return n.div(t.length)}var uo=500,fo=500,po=30,mo=function(e){this.reset(),this.numTouches=e.numTouches};mo.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},mo.prototype.touchstart=function(e,t,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=e.timeStamp),n.length===this.numTouches&&(this.centroid=lo(t),this.touches=co(n,t)))},mo.prototype.touchmove=function(e,t,n){if(!(this.aborted||!this.centroid)){var r=co(n,t);for(var i in this.touches){var a=this.touches[i],o=r[i];(!o||o.dist(a)>po)&&(this.aborted=!0)}}},mo.prototype.touchend=function(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>fo)&&(this.aborted=!0),n.length===0){var r=!this.aborted&&this.centroid;if(this.reset(),r)return r}};var ho=function(e){this.singleTap=new mo(e),this.numTaps=e.numTaps,this.reset()};ho.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},ho.prototype.touchstart=function(e,t,n){this.singleTap.touchstart(e,t,n)},ho.prototype.touchmove=function(e,t,n){this.singleTap.touchmove(e,t,n)},ho.prototype.touchend=function(e,t,n){var r=this.singleTap.touchend(e,t,n);if(r){var i=e.timeStamp-this.lastTime<uo,a=!this.lastTap||this.lastTap.dist(r)<po;if((!i||!a)&&this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}};var go=function(){this._zoomIn=new ho({numTouches:1,numTaps:2}),this._zoomOut=new ho({numTouches:2,numTaps:1}),this.reset()};go.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},go.prototype.touchstart=function(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)},go.prototype.touchmove=function(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)},go.prototype.touchend=function(e,t,n){var r=this,i=this._zoomIn.touchend(e,t,n),a=this._zoomOut.touchend(e,t,n);if(i)return this._active=!0,e.preventDefault(),setTimeout(function(){return r.reset()},0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}};if(a)return this._active=!0,e.preventDefault(),setTimeout(function(){return r.reset()},0),{cameraAnimation:function(t){return t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(a)},{originalEvent:e})}}},go.prototype.touchcancel=function(){this.reset()},go.prototype.enable=function(){this._enabled=!0},go.prototype.disable=function(){this._enabled=!1,this.reset()},go.prototype.isEnabled=function(){return this._enabled},go.prototype.isActive=function(){return this._active};var _o=0,vo=2,yo=function(e){this.reset(),this._clickTolerance=e.clickTolerance||1};yo.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},yo.prototype._correctButton=function(e,t){return!1},yo.prototype._move=function(e,t){return{}},yo.prototype.mousedown=function(e,t){if(!this._lastPoint){var r=n.mouseButton(e);this._correctButton(e,r)&&(this._lastPoint=t,this._eventButton=r)}},yo.prototype.mousemoveWindow=function(e,t){var n=this._lastPoint;if(n&&(e.preventDefault(),!(!this._moved&&t.dist(n)<this._clickTolerance)))return this._moved=!0,this._lastPoint=t,this._move(n,t)},yo.prototype.mouseupWindow=function(e){n.mouseButton(e)===this._eventButton&&(this._moved&&n.suppressClick(),this.reset())},yo.prototype.enable=function(){this._enabled=!0},yo.prototype.disable=function(){this._enabled=!1,this.reset()},yo.prototype.isEnabled=function(){return this._enabled},yo.prototype.isActive=function(){return this._active};var bo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.mousedown=function(t,n){e.prototype.mousedown.call(this,t,n),this._lastPoint&&(this._active=!0)},t.prototype._correctButton=function(e,t){return t===_o&&!e.ctrlKey},t.prototype._move=function(e,t){return{around:t,panDelta:t.sub(e)}},t}(yo),xo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._correctButton=function(e,t){return t===_o&&e.ctrlKey||t===vo},t.prototype._move=function(e,t){var n=(t.x-e.x)*.8;if(n)return this._active=!0,{bearingDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(yo),So=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype._correctButton=function(e,t){return t===_o&&e.ctrlKey||t===vo},t.prototype._move=function(e,t){var n=(t.y-e.y)*-.5;if(n)return this._active=!0,{pitchDelta:n}},t.prototype.contextmenu=function(e){e.preventDefault()},t}(yo),Co=function(e){this._minTouches=1,this._clickTolerance=e.clickTolerance||1,this.reset()};Co.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new e.Point(0,0)},Co.prototype.touchstart=function(e,t,n){return this._calculateTransform(e,t,n)},Co.prototype.touchmove=function(e,t,n){if(this._active)return e.preventDefault(),this._calculateTransform(e,t,n)},Co.prototype.touchend=function(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()},Co.prototype.touchcancel=function(){this.reset()},Co.prototype._calculateTransform=function(t,n,r){r.length>0&&(this._active=!0);var i=co(r,n),a=new e.Point(0,0),o=new e.Point(0,0),s=0;for(var c in i){var l=i[c],u=this._touches[c];u&&(a._add(l),o._add(l.sub(u)),s++,i[c]=l)}if(this._touches=i,!(s<this._minTouches||!o.mag())){var d=o.div(s);if(this._sum._add(d),!(this._sum.mag()<this._clickTolerance))return{around:a.div(s),panDelta:d}}},Co.prototype.enable=function(){this._enabled=!0},Co.prototype.disable=function(){this._enabled=!1,this.reset()},Co.prototype.isEnabled=function(){return this._enabled},Co.prototype.isActive=function(){return this._active};var wo=function(){this.reset()};wo.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},wo.prototype._start=function(e){},wo.prototype._move=function(e,t,n){return{}},wo.prototype.touchstart=function(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))},wo.prototype.touchmove=function(e,t,n){if(this._firstTwoTouches){e.preventDefault();var r=this._firstTwoTouches,i=r[0],a=r[1],o=To(n,t,i),s=To(n,t,a);if(!(!o||!s)){var c=this._aroundCenter?null:o.add(s).div(2);return this._move([o,s],c,e)}}},wo.prototype.touchend=function(e,t,r){if(this._firstTwoTouches){var i=this._firstTwoTouches,a=i[0],o=i[1],s=To(r,t,a),c=To(r,t,o);s&&c||(this._active&&n.suppressClick(),this.reset())}},wo.prototype.touchcancel=function(){this.reset()},wo.prototype.enable=function(e){this._enabled=!0,this._aroundCenter=!!e&&e.around===`center`},wo.prototype.disable=function(){this._enabled=!1,this.reset()},wo.prototype.isEnabled=function(){return this._enabled},wo.prototype.isActive=function(){return this._active};function To(e,t,n){for(var r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}var Eo=.1;function Do(e,t){return Math.log(e/t)/Math.LN2}var Oo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._distance,delete this._startDistance},t.prototype._start=function(e){this._startDistance=this._distance=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._distance;if(this._distance=e[0].dist(e[1]),!(!this._active&&Math.abs(Do(this._distance,this._startDistance))<Eo))return this._active=!0,{zoomDelta:Do(this._distance,n),pinchAround:t}},t}(wo),ko=25;function Ao(e,t){return e.angleWith(t)*180/Math.PI}var jo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},t.prototype._start=function(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])},t.prototype._move=function(e,t){var n=this._vector;if(this._vector=e[0].sub(e[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Ao(this._vector,n),pinchAround:t}},t.prototype._isBelowThreshold=function(e){this._minDiameter=Math.min(this._minDiameter,e.mag());var t=ko/(Math.PI*this._minDiameter)*360,n=Ao(e,this._startVector);return Math.abs(n)<t},t}(wo);function Mo(e){return Math.abs(e.y)>Math.abs(e.x)}var No=100,Po=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.reset=function(){e.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},t.prototype._start=function(e){this._lastPoints=e,Mo(e[0].sub(e[1]))&&(this._valid=!1)},t.prototype._move=function(e,t,n){var r=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid)return this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}},t.prototype.gestureBeginsVertically=function(e,t,n){if(this._valid!==void 0)return this._valid;var r=2,i=e.mag()>=r,a=t.mag()>=r;if(!(!i&&!a)){if(!i||!a)return this._firstMove===void 0&&(this._firstMove=n),n-this._firstMove<No?void 0:!1;var o=e.y>0==t.y>0;return Mo(e)&&Mo(t)&&o}},t}(wo),Fo={panStep:100,bearingStep:15,pitchStep:10},Io=function(){var e=Fo;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep};Io.prototype.reset=function(){this._active=!1},Io.prototype.keydown=function(e){var t=this;if(!(e.altKey||e.ctrlKey||e.metaKey)){var n=0,r=0,i=0,a=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:n=1;break;case 189:case 109:case 173:n=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),a=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),a=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),o=1);break;default:return}return{cameraAnimation:function(s){var c=s.getZoom();s.easeTo({duration:300,easeId:`keyboardHandler`,easing:Lo,zoom:n?Math.round(c)+n*(e.shiftKey?2:1):c,bearing:s.getBearing()+r*t._bearingStep,pitch:s.getPitch()+i*t._pitchStep,offset:[-a*t._panStep,-o*t._panStep],center:s.getCenter()},{originalEvent:e})}}}},Io.prototype.enable=function(){this._enabled=!0},Io.prototype.disable=function(){this._enabled=!1,this.reset()},Io.prototype.isEnabled=function(){return this._enabled},Io.prototype.isActive=function(){return this._active};function Lo(e){return e*(2-e)}var Ro=4.000244140625,zo=1/100,Bo=1/450,Vo=2,Ho=function(t,n){this._map=t,this._el=t.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=zo,this._wheelZoomRate=Bo,e.bindAll([`_onWheel`,`_onTimeout`,`_onScrollFrame`,`_onScrollFinished`],this)};Ho.prototype.setZoomRate=function(e){this._defaultZoomRate=e},Ho.prototype.setWheelZoomRate=function(e){this._wheelZoomRate=e},Ho.prototype.isEnabled=function(){return!!this._enabled},Ho.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},Ho.prototype.isZooming=function(){return!!this._zooming},Ho.prototype.enable=function(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&e.around===`center`)},Ho.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ho.prototype.wheel=function(t){if(this.isEnabled()){var n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?t.deltaY*40:t.deltaY,r=e.browser.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,n!==0&&n%Ro===0?this._type=`wheel`:n!==0&&Math.abs(n)<4?this._type=`trackpad`:i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*n)<200?`trackpad`:`wheel`,this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}},Ho.prototype._onTimeout=function(e){this._type=`wheel`,this._delta-=this._lastValue,this._active||this._start(e)},Ho.prototype._start=function(t){if(this._delta){this._frameId&&=null,this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var r=n.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(r)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Ho.prototype.renderFrame=function(){return this._onScrollFrame()},Ho.prototype._onScrollFrame=function(){var t=this;if(this._frameId&&(this._frameId=null,this.isActive())){var n=this._map.transform;if(this._delta!==0){var r=this._type===`wheel`&&Math.abs(this._delta)>Ro?this._wheelZoomRate:this._defaultZoomRate,i=Vo/(1+Math.exp(-Math.abs(this._delta*r)));this._delta<0&&i!==0&&(i=1/i);var a=typeof this._targetZoom==`number`?n.zoomScale(this._targetZoom):n.scale;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(a*i))),this._type===`wheel`&&(this._startZoom=n.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var o=typeof this._targetZoom==`number`?this._targetZoom:n.zoom,s=this._startZoom,c=this._easing,l=!1,u;if(this._type===`wheel`&&s&&c){var d=Math.min((e.browser.now()-this._lastWheelEventTime)/200,1),f=c(d);u=e.number(s,o,f),d<1?this._frameId||=!0:l=!0}else u=o,l=!0;return this._active=!0,l&&(this._active=!1,this._finishTimeout=setTimeout(function(){t._zooming=!1,t._handler._triggerRenderFrame(),delete t._targetZoom,delete t._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!l,zoomDelta:u-n.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Ho.prototype._smoothOutEasing=function(t){var n=e.ease;if(this._prevEase){var r=this._prevEase,i=(e.browser.now()-r.start)/r.duration,a=r.easing(i+.01)-r.easing(i),o=.27/Math.sqrt(a*a+1e-4)*.01,s=Math.sqrt(.27*.27-o*o);n=e.bezier(o,s,.25,1)}return this._prevEase={start:e.browser.now(),duration:t,easing:n},n},Ho.prototype.reset=function(){this._active=!1};var Uo=function(e,t){this._clickZoom=e,this._tapZoom=t};Uo.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Uo.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Uo.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Uo.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Wo=function(){this.reset()};Wo.prototype.reset=function(){this._active=!1},Wo.prototype.dblclick=function(e,t){return e.preventDefault(),{cameraAnimation:function(n){n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}},Wo.prototype.enable=function(){this._enabled=!0},Wo.prototype.disable=function(){this._enabled=!1,this.reset()},Wo.prototype.isEnabled=function(){return this._enabled},Wo.prototype.isActive=function(){return this._active};var Go=function(){this._tap=new ho({numTouches:1,numTaps:1}),this.reset()};Go.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Go.prototype.touchstart=function(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>uo&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))},Go.prototype.touchmove=function(e,t,n){if(!this._tapTime)this._tap.touchmove(e,t,n);else if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;var r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}},Go.prototype.touchend=function(e,t,n){this._tapTime?this._swipePoint&&n.length===0&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)},Go.prototype.touchcancel=function(){this.reset()},Go.prototype.enable=function(){this._enabled=!0},Go.prototype.disable=function(){this._enabled=!1,this.reset()},Go.prototype.isEnabled=function(){return this._enabled},Go.prototype.isActive=function(){return this._active};var Ko=function(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n};Ko.prototype.enable=function(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add(`mapboxgl-touch-drag-pan`)},Ko.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove(`mapboxgl-touch-drag-pan`)},Ko.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Ko.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var qo=function(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n};qo.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},qo.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},qo.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},qo.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var Jo=function(e,t,n,r){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0};Jo.prototype.enable=function(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add(`mapboxgl-touch-zoom-rotate`)},Jo.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove(`mapboxgl-touch-zoom-rotate`)},Jo.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},Jo.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},Jo.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},Jo.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Yo=function(e){return e.zoom||e.drag||e.pitch||e.rotate},Xo=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e.Event);function Zo(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}var Qo=function(t,r){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new $a(t),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(r),e.bindAll([`handleEvent`,`handleWindowEvent`],this);var i=this._el;this._listeners=[[i,`touchstart`,{passive:!1}],[i,`touchmove`,{passive:!1}],[i,`touchend`,void 0],[i,`touchcancel`,void 0],[i,`mousedown`,void 0],[i,`mousemove`,void 0],[i,`mouseup`,void 0],[e.window.document,`mousemove`,{capture:!0}],[e.window.document,`mouseup`,void 0],[i,`mouseover`,void 0],[i,`mouseout`,void 0],[i,`dblclick`,void 0],[i,`click`,void 0],[i,`keydown`,{capture:!1}],[i,`keyup`,void 0],[i,`wheel`,{passive:!1}],[i,`contextmenu`,void 0],[e.window,`blur`,void 0]];for(var a=0,o=this._listeners;a<o.length;a+=1){var s=o[a],c=s[0],l=s[1],u=s[2];n.addEventListener(c,l,c===e.window.document?this.handleWindowEvent:this.handleEvent,u)}};Qo.prototype.destroy=function(){for(var t=0,r=this._listeners;t<r.length;t+=1){var i=r[t],a=i[0],o=i[1],s=i[2];n.removeEventListener(a,o,a===e.window.document?this.handleWindowEvent:this.handleEvent,s)}},Qo.prototype._addDefaultHandlers=function(e){var t=this._map,n=t.getCanvasContainer();this._add(`mapEvent`,new ao(t,e));var r=t.boxZoom=new so(t,e);this._add(`boxZoom`,r);var i=new go,a=new Wo;t.doubleClickZoom=new Uo(a,i),this._add(`tapZoom`,i),this._add(`clickZoom`,a);var o=new Go;this._add(`tapDragZoom`,o);var s=t.touchPitch=new Po;this._add(`touchPitch`,s);var c=new xo(e),l=new So(e);t.dragRotate=new qo(e,c,l),this._add(`mouseRotate`,c,[`mousePitch`]),this._add(`mousePitch`,l,[`mouseRotate`]);var u=new bo(e),d=new Co(e);t.dragPan=new Ko(n,u,d),this._add(`mousePan`,u),this._add(`touchPan`,d,[`touchZoom`,`touchRotate`]);var f=new jo,p=new Oo;t.touchZoomRotate=new Jo(n,p,f,o),this._add(`touchRotate`,f,[`touchPan`,`touchZoom`]),this._add(`touchZoom`,p,[`touchPan`,`touchRotate`]);var m=t.scrollZoom=new Ho(t,this);this._add(`scrollZoom`,m,[`mousePan`]);var h=t.keyboard=new Io;this._add(`keyboard`,h),this._add(`blockableMapEvent`,new oo(t));for(var g=0,_=[`boxZoom`,`doubleClickZoom`,`tapDragZoom`,`touchPitch`,`dragRotate`,`dragPan`,`touchZoomRotate`,`scrollZoom`,`keyboard`];g<_.length;g+=1){var v=_[g];e.interactive&&e[v]&&t[v].enable(e[v])}},Qo.prototype._add=function(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t},Qo.prototype.stop=function(){if(!this._updatingCamera){for(var e=0,t=this._handlers;e<t.length;e+=1)t[e].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},Qo.prototype.isActive=function(){for(var e=0,t=this._handlers;e<t.length;e+=1)if(t[e].handler.isActive())return!0;return!1},Qo.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Qo.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Qo.prototype.isMoving=function(){return!!Yo(this._eventsInProgress)||this.isZooming()},Qo.prototype._blockedByActive=function(e,t,n){for(var r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1},Qo.prototype.handleWindowEvent=function(e){this.handleEvent(e,e.type+`Window`)},Qo.prototype._getMapTouches=function(e){for(var t=[],n=0,r=e;n<r.length;n+=1){var i=r[n],a=i.target;this._el.contains(a)&&t.push(i)}return t},Qo.prototype.handleEvent=function(e,t){if(e.type===`blur`){this.stop();return}this._updatingCamera=!0;for(var r=e.type===`renderFrame`?void 0:e,i={needsRenderFrame:!1},a={},o={},s=e.touches?this._getMapTouches(e.touches):void 0,c=s?n.touchPos(this._el,s):n.mousePos(this._el,e),l=0,u=this._handlers;l<u.length;l+=1){var d=u[l],f=d.handlerName,p=d.handler,m=d.allowed;if(p.isEnabled()){var h=void 0;this._blockedByActive(o,m,f)?p.reset():p[t||e.type]&&(h=p[t||e.type](e,c,s),this.mergeHandlerResult(i,a,h,f,r),h&&h.needsRenderFrame&&this._triggerRenderFrame()),(h||p.isActive())&&(o[f]=p)}}var g={};for(var _ in this._previousActiveHandlers)o[_]||(g[_]=r);this._previousActiveHandlers=o,(Object.keys(g).length||Zo(i))&&(this._changes.push([i,a,g]),this._triggerRenderFrame()),(Object.keys(o).length||Zo(i))&&this._map._stop(!0),this._updatingCamera=!1;var v=i.cameraAnimation;v&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],v(this._map))},Qo.prototype.mergeHandlerResult=function(t,n,r,i,a){if(r){e.extend(t,r);var o={handlerName:i,originalEvent:r.originalEvent||a};r.zoomDelta!==void 0&&(n.zoom=o),r.panDelta!==void 0&&(n.drag=o),r.pitchDelta!==void 0&&(n.pitch=o),r.bearingDelta!==void 0&&(n.rotate=o)}},Qo.prototype._applyChanges=function(){for(var t={},n={},r={},i=0,a=this._changes;i<a.length;i+=1){var o=a[i],s=o[0],c=o[1],l=o[2];s.panDelta&&(t.panDelta=(t.panDelta||new e.Point(0,0))._add(s.panDelta)),s.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+s.zoomDelta),s.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+s.bearingDelta),s.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+s.pitchDelta),s.around!==void 0&&(t.around=s.around),s.pinchAround!==void 0&&(t.pinchAround=s.pinchAround),s.noInertia&&(t.noInertia=s.noInertia),e.extend(n,c),e.extend(r,l)}this._updateMapTransform(t,n,r),this._changes=[]},Qo.prototype._updateMapTransform=function(e,t,n){var r=this._map,i=r.transform;if(!Zo(e))return this._fireEvents(t,n);var a=e.panDelta,o=e.zoomDelta,s=e.bearingDelta,c=e.pitchDelta,l=e.around,u=e.pinchAround;u!==void 0&&(l=u),r._stop(!0),l||=r.transform.centerPoint;var d=i.pointLocation(a?l.sub(a):l);s&&(i.bearing+=s),c&&(i.pitch+=c),o&&(i.zoom+=o),i.setLocationAtPoint(d,l),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n)},Qo.prototype._fireEvents=function(t,n){var r=this,i=Yo(this._eventsInProgress),a=Yo(t),o={};for(var s in t){var c=t[s].originalEvent;this._eventsInProgress[s]||(o[s+`start`]=c),this._eventsInProgress[s]=t[s]}for(var l in!i&&a&&this._fireEvent(`movestart`,a.originalEvent),o)this._fireEvent(l,o[l]);for(var u in t.rotate&&(this._bearingChanged=!0),a&&this._fireEvent(`move`,a.originalEvent),t){var d=t[u].originalEvent;this._fireEvent(u,d)}var f={},p;for(var m in this._eventsInProgress){var h=this._eventsInProgress[m],g=h.handlerName,_=h.originalEvent;this._handlersById[g].isActive()||(delete this._eventsInProgress[m],p=n[g]||_,f[m+`end`]=p)}for(var v in f)this._fireEvent(v,f[v]);var y=Yo(this._eventsInProgress);if((i||a)&&!y){this._updatingCamera=!0;var b=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),x=function(e){return e!==0&&-r._bearingSnap<e&&e<r._bearingSnap};b?(x(b.bearing||this._map.getBearing())&&(b.bearing=0),this._map.easeTo(b,{originalEvent:p})):(this._map.fire(new e.Event(`moveend`,{originalEvent:p})),x(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},Qo.prototype._fireEvent=function(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))},Qo.prototype._triggerRenderFrame=function(){var e=this;this._frameId===void 0&&(this._frameId=this._map._requestRenderFrame(function(t){delete e._frameId,e.handleEvent(new Xo(`renderFrame`,{timeStamp:t})),e._applyChanges()}))};var $o=function(t){function n(n,r){t.call(this),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=r.bearingSnap,e.bindAll([`_renderFrameCallback`],this)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.getCenter=function(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)},n.prototype.setCenter=function(e,t){return this.jumpTo({center:e},t)},n.prototype.panBy=function(t,n,r){return t=e.Point.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)},n.prototype.panTo=function(t,n,r){return this.easeTo(e.extend({center:t},n),r)},n.prototype.getZoom=function(){return this.transform.zoom},n.prototype.setZoom=function(e,t){return this.jumpTo({zoom:e},t),this},n.prototype.zoomTo=function(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)},n.prototype.zoomIn=function(e,t){return this.zoomTo(this.getZoom()+1,e,t),this},n.prototype.zoomOut=function(e,t){return this.zoomTo(this.getZoom()-1,e,t),this},n.prototype.getBearing=function(){return this.transform.bearing},n.prototype.setBearing=function(e,t){return this.jumpTo({bearing:e},t),this},n.prototype.getPadding=function(){return this.transform.padding},n.prototype.setPadding=function(e,t){return this.jumpTo({padding:e},t),this},n.prototype.rotateTo=function(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)},n.prototype.resetNorth=function(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this},n.prototype.resetNorthPitch=function(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this},n.prototype.snapToNorth=function(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this},n.prototype.getPitch=function(){return this.transform.pitch},n.prototype.setPitch=function(e,t){return this.jumpTo({pitch:e},t),this},n.prototype.cameraForBounds=function(t,n){return t=e.LngLatBounds.convert(t),this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),0,n)},n.prototype._cameraForBoxAndBearing=function(t,n,r,i){var a={top:0,bottom:0,right:0,left:0};if(i=e.extend({padding:a,offset:[0,0],maxZoom:this.transform.maxZoom},i),typeof i.padding==`number`){var o=i.padding;i.padding={top:o,bottom:o,right:o,left:o}}i.padding=e.extend(a,i.padding);var s=this.transform,c=s.padding,l=s.project(e.LngLat.convert(t)),u=s.project(e.LngLat.convert(n)),d=l.rotate(-r*Math.PI/180),f=u.rotate(-r*Math.PI/180),p=new e.Point(Math.max(d.x,f.x),Math.max(d.y,f.y)),m=new e.Point(Math.min(d.x,f.x),Math.min(d.y,f.y)),h=p.sub(m),g=(s.width-(c.left+c.right+i.padding.left+i.padding.right))/h.x,_=(s.height-(c.top+c.bottom+i.padding.top+i.padding.bottom))/h.y;if(_<0||g<0){e.warnOnce(`Map cannot fit within canvas with the given bounds, padding, and/or offset.`);return}var v=Math.min(s.scaleZoom(s.scale*Math.min(g,_)),i.maxZoom),y=e.Point.convert(i.offset),b=(i.padding.left-i.padding.right)/2,x=(i.padding.top-i.padding.bottom)/2,S=new e.Point(y.x+b,y.y+x).mult(s.scale/s.zoomScale(v));return{center:s.unproject(l.add(u).div(2).sub(S)),zoom:v,bearing:r}},n.prototype.fitBounds=function(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)},n.prototype.fitScreenCoordinates=function(t,n,r,i,a){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.Point.convert(t)),this.transform.pointLocation(e.Point.convert(n)),r,i),i,a)},n.prototype._fitInternal=function(t,n,r){return t?(n=e.extend(t,n),delete n.padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this},n.prototype.jumpTo=function(t,n){this.stop();var r=this.transform,i=!1,a=!1,o=!1;return`zoom`in t&&r.zoom!==+t.zoom&&(i=!0,r.zoom=+t.zoom),t.center!==void 0&&(r.center=e.LngLat.convert(t.center)),`bearing`in t&&r.bearing!==+t.bearing&&(a=!0,r.bearing=+t.bearing),`pitch`in t&&r.pitch!==+t.pitch&&(o=!0,r.pitch=+t.pitch),t.padding!=null&&!r.isPaddingEqual(t.padding)&&(r.padding=t.padding),this.fire(new e.Event(`movestart`,n)).fire(new e.Event(`move`,n)),i&&this.fire(new e.Event(`zoomstart`,n)).fire(new e.Event(`zoom`,n)).fire(new e.Event(`zoomend`,n)),a&&this.fire(new e.Event(`rotatestart`,n)).fire(new e.Event(`rotate`,n)).fire(new e.Event(`rotateend`,n)),o&&this.fire(new e.Event(`pitchstart`,n)).fire(new e.Event(`pitch`,n)).fire(new e.Event(`pitchend`,n)),this.fire(new e.Event(`moveend`,n))},n.prototype.easeTo=function(t,n){var r=this;this._stop(!1,t.easeId),t=e.extend({offset:[0,0],duration:500,easing:e.ease},t),(t.animate===!1||!t.essential&&e.browser.prefersReducedMotion)&&(t.duration=0);var i=this.transform,a=this.getZoom(),o=this.getBearing(),s=this.getPitch(),c=this.getPadding(),l=`zoom`in t?+t.zoom:a,u=`bearing`in t?this._normalizeBearing(t.bearing,o):o,d=`pitch`in t?+t.pitch:s,f=`padding`in t?t.padding:i.padding,p=e.Point.convert(t.offset),m=i.centerPoint.add(p),h=i.pointLocation(m),g=e.LngLat.convert(t.center||h);this._normalizeCenter(g);var _=i.project(h),v=i.project(g).sub(_),y=i.zoomScale(l-a),b,x;t.around&&(b=e.LngLat.convert(t.around),x=i.locationPoint(b));var S={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==a,this._rotating=this._rotating||o!==u,this._pitching=this._pitching||d!==s,this._padding=!i.isPaddingEqual(f),this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,S),clearTimeout(this._easeEndTimeoutID),this._ease(function(t){if(r._zooming&&(i.zoom=e.number(a,l,t)),r._rotating&&(i.bearing=e.number(o,u,t)),r._pitching&&(i.pitch=e.number(s,d,t)),r._padding&&(i.interpolatePadding(c,f,t),m=i.centerPoint.add(p)),b)i.setLocationAtPoint(b,x);else{var h=i.zoomScale(i.zoom-a),g=(l>a?Math.min(2,y):Math.max(.5,y))**(1-t),S=i.unproject(_.add(v.mult(t*g)).mult(h));i.setLocationAtPoint(i.renderWorldCopies?S.wrap():S,m)}r._fireMoveEvents(n)},function(e){r._afterEase(n,e)},t),this},n.prototype._prepareEase=function(t,n,r){r===void 0&&(r={}),this._moving=!0,!n&&!r.moving&&this.fire(new e.Event(`movestart`,t)),this._zooming&&!r.zooming&&this.fire(new e.Event(`zoomstart`,t)),this._rotating&&!r.rotating&&this.fire(new e.Event(`rotatestart`,t)),this._pitching&&!r.pitching&&this.fire(new e.Event(`pitchstart`,t))},n.prototype._fireMoveEvents=function(t){this.fire(new e.Event(`move`,t)),this._zooming&&this.fire(new e.Event(`zoom`,t)),this._rotating&&this.fire(new e.Event(`rotate`,t)),this._pitching&&this.fire(new e.Event(`pitch`,t))},n.prototype._afterEase=function(t,n){if(!(this._easeId&&n&&this._easeId===n)){delete this._easeId;var r=this._zooming,i=this._rotating,a=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event(`zoomend`,t)),i&&this.fire(new e.Event(`rotateend`,t)),a&&this.fire(new e.Event(`pitchend`,t)),this.fire(new e.Event(`moveend`,t))}},n.prototype.flyTo=function(t,n){var r=this;if(!t.essential&&e.browser.prefersReducedMotion){var i=e.pick(t,[`center`,`zoom`,`bearing`,`pitch`,`around`]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);var a=this.transform,o=this.getZoom(),s=this.getBearing(),c=this.getPitch(),l=this.getPadding(),u=`zoom`in t?e.clamp(+t.zoom,a.minZoom,a.maxZoom):o,d=`bearing`in t?this._normalizeBearing(t.bearing,s):s,f=`pitch`in t?+t.pitch:c,p=`padding`in t?t.padding:a.padding,m=a.zoomScale(u-o),h=e.Point.convert(t.offset),g=a.centerPoint.add(h),_=a.pointLocation(g),v=e.LngLat.convert(t.center||_);this._normalizeCenter(v);var y=a.project(_),b=a.project(v).sub(y),x=t.curve,S=Math.max(a.width,a.height),C=S/m,w=b.mag();if(`minZoom`in t){var T=e.clamp(Math.min(t.minZoom,o,u),a.minZoom,a.maxZoom),E=S/a.zoomScale(T-o);x=Math.sqrt(E/w*2)}var D=x*x;function O(e){var t=(C*C-S*S+(e?-1:1)*D*D*w*w)/(2*(e?C:S)*D*w);return Math.log(Math.sqrt(t*t+1)-t)}function k(e){return(Math.exp(e)-Math.exp(-e))/2}function A(e){return(Math.exp(e)+Math.exp(-e))/2}function j(e){return k(e)/A(e)}var M=O(0),N=function(e){return A(M)/A(M+x*e)},P=function(e){return S*((A(M)*j(M+x*e)-k(M))/D)/w},F=(O(1)-M)/x;if(Math.abs(w)<1e-6||!isFinite(F)){if(Math.abs(S-C)<1e-6)return this.easeTo(t,n);var I=C<S?-1:1;F=Math.abs(Math.log(C/S))/x,P=function(){return 0},N=function(e){return Math.exp(I*x*e)}}if(`duration`in t)t.duration=+t.duration;else{var L=`screenSpeed`in t?+t.screenSpeed/x:+t.speed;t.duration=1e3*F/L}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==d,this._pitching=f!==c,this._padding=!a.isPaddingEqual(p),this._prepareEase(n,!1),this._ease(function(t){var i=t*F,m=1/N(i);a.zoom=t===1?u:o+a.scaleZoom(m),r._rotating&&(a.bearing=e.number(s,d,t)),r._pitching&&(a.pitch=e.number(c,f,t)),r._padding&&(a.interpolatePadding(l,p,t),g=a.centerPoint.add(h));var _=t===1?v:a.unproject(y.add(b.mult(P(i))).mult(m));a.setLocationAtPoint(a.renderWorldCopies?_.wrap():_,g),r._fireMoveEvents(n)},function(){return r._afterEase(n)},t),this},n.prototype.isEasing=function(){return!!this._easeFrameId},n.prototype.stop=function(){return this._stop()},n.prototype._stop=function(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var n=this._onEaseEnd;delete this._onEaseEnd,n.call(this,t)}if(!e){var r=this.handlers;r&&r.stop()}return this},n.prototype._ease=function(t,n,r){r.animate===!1||r.duration===0?(t(1),n()):(this._easeStart=e.browser.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},n.prototype._renderFrameCallback=function(){var t=Math.min((e.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},n.prototype._normalizeBearing=function(t,n){t=e.wrap(t,-180,180);var r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t},n.prototype._normalizeCenter=function(e){var t=this.transform;if(!(!t.renderWorldCopies||t.lngRange)){var n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}},n}(e.Evented),es=function(t){t===void 0&&(t={}),this.options=t,e.bindAll([`_updateEditLink`,`_updateData`,`_updateCompact`],this)};es.prototype.getDefaultPosition=function(){return`bottom-right`},es.prototype.onAdd=function(e){var t=this.options&&this.options.compact;return this._map=e,this._container=n.create(`div`,`mapboxgl-ctrl mapboxgl-ctrl-attrib`),this._innerContainer=n.create(`div`,`mapboxgl-ctrl-attrib-inner`,this._container),t&&this._container.classList.add(`mapboxgl-compact`),this._updateAttributions(),this._updateEditLink(),this._map.on(`styledata`,this._updateData),this._map.on(`sourcedata`,this._updateData),this._map.on(`moveend`,this._updateEditLink),t===void 0&&(this._map.on(`resize`,this._updateCompact),this._updateCompact()),this._container},es.prototype.onRemove=function(){n.remove(this._container),this._map.off(`styledata`,this._updateData),this._map.off(`sourcedata`,this._updateData),this._map.off(`moveend`,this._updateEditLink),this._map.off(`resize`,this._updateCompact),this._map=void 0,this._attribHTML=void 0},es.prototype._updateEditLink=function(){var t=this._editLink;t||=this._editLink=this._container.querySelector(`.mapbox-improve-map`);var n=[{key:`owner`,value:this.styleOwner},{key:`id`,value:this.styleId},{key:`access_token`,value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){var r=n.reduce(function(e,t,r){return t.value&&(e+=t.key+`=`+t.value+(r<n.length-1?`&`:``)),e},`?`);t.href=e.config.FEEDBACK_URL+`/`+r+(this._map._hash?this._map._hash.getHashString(!0):``),t.rel=`noopener nofollow`}},es.prototype._updateData=function(e){e&&(e.sourceDataType===`metadata`||e.dataType===`style`)&&(this._updateAttributions(),this._updateEditLink())},es.prototype._updateAttributions=function(){if(this._map.style){var e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map(function(e){return typeof e==`string`?e:``})):typeof this.options.customAttribution==`string`&&e.push(this.options.customAttribution)),this._map.style.stylesheet){var t=this._map.style.stylesheet;this.styleOwner=t.owner,this.styleId=t.id}var n=this._map.style.sourceCaches;for(var r in n){var i=n[r];if(i.used){var a=i.getSource();a.attribution&&e.indexOf(a.attribution)<0&&e.push(a.attribution)}}e.sort(function(e,t){return e.length-t.length}),e=e.filter(function(t,n){for(var r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0});var o=e.join(` | `);o!==this._attribHTML&&(this._attribHTML=o,e.length?(this._innerContainer.innerHTML=o,this._container.classList.remove(`mapboxgl-attrib-empty`)):this._container.classList.add(`mapboxgl-attrib-empty`),this._editLink=null)}},es.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add(`mapboxgl-compact`):this._container.classList.remove(`mapboxgl-compact`)};var ts=function(){e.bindAll([`_updateLogo`],this),e.bindAll([`_updateCompact`],this)};ts.prototype.onAdd=function(e){this._map=e,this._container=n.create(`div`,`mapboxgl-ctrl`);var t=n.create(`a`,`mapboxgl-ctrl-logo`);return t.target=`_blank`,t.rel=`noopener nofollow`,t.href=`https://www.mapbox.com/`,t.setAttribute(`aria-label`,this._map._getUIString(`LogoControl.Title`)),t.setAttribute(`rel`,`noopener nofollow`),this._container.appendChild(t),this._container.style.display=`none`,this._map.on(`sourcedata`,this._updateLogo),this._updateLogo(),this._map.on(`resize`,this._updateCompact),this._updateCompact(),this._container},ts.prototype.onRemove=function(){n.remove(this._container),this._map.off(`sourcedata`,this._updateLogo),this._map.off(`resize`,this._updateCompact)},ts.prototype.getDefaultPosition=function(){return`bottom-left`},ts.prototype._updateLogo=function(e){(!e||e.sourceDataType===`metadata`)&&(this._container.style.display=this._logoRequired()?`block`:`none`)},ts.prototype._logoRequired=function(){if(this._map.style){var e=this._map.style.sourceCaches;for(var t in e)if(e[t].getSource().mapbox_logo)return!0;return!1}},ts.prototype._updateCompact=function(){var e=this._container.children;if(e.length){var t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add(`mapboxgl-compact`):t.classList.remove(`mapboxgl-compact`)}};var ns=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};ns.prototype.add=function(e){var t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t},ns.prototype.remove=function(e){for(var t=this._currentlyRunning,n=t?this._queue.concat(t):this._queue,r=0,i=n;r<i.length;r+=1){var a=i[r];if(a.id===e){a.cancelled=!0;return}}},ns.prototype.run=function(e){e===void 0&&(e=0);var t=this._currentlyRunning=this._queue;this._queue=[];for(var n=0,r=t;n<r.length;n+=1){var i=r[n];if(!i.cancelled&&(i.callback(e),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},ns.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var rs={"FullscreenControl.Enter":`Enter fullscreen`,"FullscreenControl.Exit":`Exit fullscreen`,"GeolocateControl.FindMyLocation":`Find my location`,"GeolocateControl.LocationNotAvailable":`Location not available`,"LogoControl.Title":`Mapbox logo`,"NavigationControl.ResetBearing":`Reset bearing to north`,"NavigationControl.ZoomIn":`Zoom in`,"NavigationControl.ZoomOut":`Zoom out`,"ScaleControl.Feet":`ft`,"ScaleControl.Meters":`m`,"ScaleControl.Kilometers":`km`,"ScaleControl.Miles":`mi`,"ScaleControl.NauticalMiles":`nm`},is=e.window.HTMLImageElement,as=e.window.HTMLElement,os=e.window.ImageBitmap,ss=-2,cs=22,ls=0,us=60,ds={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:ss,maxZoom:cs,minPitch:ls,maxPitch:us,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:`sans-serif`,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},fs=function(r){function i(t){var n=this;if(t=e.extend({},ds,t),t.minZoom!=null&&t.maxZoom!=null&&t.minZoom>t.maxZoom)throw Error(`maxZoom must be greater than or equal to minZoom`);if(t.minPitch!=null&&t.maxPitch!=null&&t.minPitch>t.maxPitch)throw Error(`maxPitch must be greater than or equal to minPitch`);if(t.minPitch!=null&&t.minPitch<ls)throw Error(`minPitch must be greater than or equal to `+ls);if(t.maxPitch!=null&&t.maxPitch>us)throw Error(`maxPitch must be less than or equal to `+us);var i=new Wa(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies);if(r.call(this,i,t),this._interactive=t.interactive,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new ns,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},rs,t.locale),this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken),typeof t.container==`string`){if(this._container=e.window.document.getElementById(t.container),!this._container)throw Error(`Container '`+t.container+`' not found.`)}else if(t.container instanceof as)this._container=t.container;else throw Error(`Invalid type: 'container' must be a String or HTMLElement.`);if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll([`_onWindowOnline`,`_onWindowResize`,`_contextLost`,`_contextRestored`],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw Error(`Failed to initialize WebGL.`);this.on(`move`,function(){return n._update(!1)}),this.on(`moveend`,function(){return n._update(!1)}),this.on(`zoom`,function(){return n._update(!0)}),e.window!==void 0&&(e.window.addEventListener(`online`,this._onWindowOnline,!1),e.window.addEventListener(`resize`,this._onWindowResize,!1)),this.handlers=new Qo(this,t);var a=typeof t.hash==`string`&&t.hash||void 0;this._hash=t.hash&&new qa(a).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new es({customAttribution:t.customAttribution})),this.addControl(new ts,t.logoPosition),this.on(`style.load`,function(){n.transform.unmodified&&n.jumpTo(n.style.stylesheet)}),this.on(`data`,function(t){n._update(t.dataType===`style`),n.fire(new e.Event(t.dataType+`data`,t))}),this.on(`dataloading`,function(t){n.fire(new e.Event(t.dataType+`dataloading`,t))})}r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i;var a={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return i.prototype._getMapId=function(){return this._mapId},i.prototype.addControl=function(t,n){if(n===void 0&&t.getDefaultPosition&&(n=t.getDefaultPosition()),n===void 0&&(n=`top-right`),!t||!t.onAdd)return this.fire(new e.ErrorEvent(Error(`Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.`)));var r=t.onAdd(this);this._controls.push(t);var i=this._controlPositions[n];return n.indexOf(`bottom`)===-1?i.appendChild(r):i.insertBefore(r,i.firstChild),this},i.prototype.removeControl=function(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(Error(`Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.`)));var n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this},i.prototype.resize=function(t){var n=this._containerDimensions(),r=n[0],i=n[1];this._resizeCanvas(r,i),this.transform.resize(r,i),this.painter.resize(r,i);var a=!this._moving;return a&&(this.stop(),this.fire(new e.Event(`movestart`,t)).fire(new e.Event(`move`,t))),this.fire(new e.Event(`resize`,t)),a&&this.fire(new e.Event(`moveend`,t)),this},i.prototype.getBounds=function(){return this.transform.getBounds()},i.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},i.prototype.setMaxBounds=function(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()},i.prototype.setMinZoom=function(e){if(e??=ss,e>=ss&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw Error(`minZoom must be between `+ss+` and the current maxZoom, inclusive`)},i.prototype.getMinZoom=function(){return this.transform.minZoom},i.prototype.setMaxZoom=function(e){if(e??=cs,e>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw Error(`maxZoom must be greater than the current minZoom`)},i.prototype.getMaxZoom=function(){return this.transform.maxZoom},i.prototype.setMinPitch=function(e){if(e??=ls,e<ls)throw Error(`minPitch must be greater than or equal to `+ls);if(e>=ls&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw Error(`minPitch must be between `+ls+` and the current maxPitch, inclusive`)},i.prototype.getMinPitch=function(){return this.transform.minPitch},i.prototype.setMaxPitch=function(e){if(e??=us,e>us)throw Error(`maxPitch must be less than or equal to `+us);if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw Error(`maxPitch must be greater than the current minPitch`)},i.prototype.getMaxPitch=function(){return this.transform.maxPitch},i.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},i.prototype.setRenderWorldCopies=function(e){return this.transform.renderWorldCopies=e,this._update()},i.prototype.project=function(t){return this.transform.locationPoint(e.LngLat.convert(t))},i.prototype.unproject=function(t){return this.transform.pointLocation(e.Point.convert(t))},i.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},i.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},i.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},i.prototype._createDelegatedListener=function(e,t,n){var r=this,i;if(e===`mouseenter`||e===`mouseover`){var a=!1;return{layer:t,listener:n,delegates:{mousemove:function(i){var o=r.getLayer(t)?r.queryRenderedFeatures(i.point,{layers:[t]}):[];o.length?a||(a=!0,n.call(r,new no(e,r,i.originalEvent,{features:o}))):a=!1},mouseout:function(){a=!1}}}}else if(e===`mouseleave`||e===`mouseout`){var o=!1;return{layer:t,listener:n,delegates:{mousemove:function(i){(r.getLayer(t)?r.queryRenderedFeatures(i.point,{layers:[t]}):[]).length?o=!0:o&&(o=!1,n.call(r,new no(e,r,i.originalEvent)))},mouseout:function(t){o&&(o=!1,n.call(r,new no(e,r,t.originalEvent)))}}}}else return{layer:t,listener:n,delegates:(i={},i[e]=function(e){var i=r.getLayer(t)?r.queryRenderedFeatures(e.point,{layers:[t]}):[];i.length&&(e.features=i,n.call(r,e),delete e.features)},i)}},i.prototype.on=function(e,t,n){if(n===void 0)return r.prototype.on.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var a in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i),i.delegates)this.on(a,i.delegates[a]);return this},i.prototype.once=function(e,t,n){if(n===void 0)return r.prototype.once.call(this,e,t);var i=this._createDelegatedListener(e,t,n);for(var a in i.delegates)this.once(a,i.delegates[a]);return this},i.prototype.off=function(e,t,n){var i=this;return n===void 0?r.prototype.off.call(this,e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&function(r){for(var a=r[e],o=0;o<a.length;o++){var s=a[o];if(s.layer===t&&s.listener===n){for(var c in s.delegates)i.off(c,s.delegates[c]);return a.splice(o,1),i}}}(this._delegatedListeners),this)},i.prototype.queryRenderedFeatures=function(t,n){if(!this.style)return[];n===void 0&&t!==void 0&&!(t instanceof e.Point)&&!Array.isArray(t)&&(n=t,t=void 0),n||={},t||=[[0,0],[this.transform.width,this.transform.height]];var r;if(t instanceof e.Point||typeof t[0]==`number`)r=[e.Point.convert(t)];else{var i=e.Point.convert(t[0]),a=e.Point.convert(t[1]);r=[i,new e.Point(a.x,i.y),a,new e.Point(i.x,a.y),i]}return this.style.queryRenderedFeatures(r,n,this.transform)},i.prototype.querySourceFeatures=function(e,t){return this.style.querySourceFeatures(e,t)},i.prototype.setStyle=function(t,n){return n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n),n.diff!==!1&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))},i.prototype._getUIString=function(e){var t=this._locale[e];if(t==null)throw Error(`Missing UI string '`+e+`'`);return t},i.prototype._updateStyle=function(e,t){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),e)this.style=new vn(this,t||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof e==`string`?this.style.loadURL(e):this.style.loadJSON(e),this},i.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new vn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},i.prototype._diffStyle=function(t,n){var r=this;if(typeof t==`string`){var i=this._requestManager.normalizeStyleURL(t),a=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(a,function(t,i){t?r.fire(new e.ErrorEvent(t)):i&&r._updateDiff(i,n)})}else typeof t==`object`&&this._updateDiff(t,n)},i.prototype._updateDiff=function(t,n){try{this.style.setState(t)&&this._update(!0)}catch(r){e.warnOnce(`Unable to perform style diff: `+(r.message||r.error||r)+`.  Rebuilding the style from scratch.`),this._updateStyle(t,n)}},i.prototype.getStyle=function(){if(this.style)return this.style.serialize()},i.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():e.warnOnce(`There is no style added to the map.`)},i.prototype.addSource=function(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)},i.prototype.isSourceLoaded=function(t){var n=this.style&&this.style.sourceCaches[t];if(n===void 0){this.fire(new e.ErrorEvent(Error(`There is no source with ID '`+t+`'`)));return}return n.loaded()},i.prototype.areTilesLoaded=function(){var e=this.style&&this.style.sourceCaches;for(var t in e){var n=e[t]._tiles;for(var r in n){var i=n[r];if(!(i.state===`loaded`||i.state===`errored`))return!1}}return!0},i.prototype.addSourceType=function(e,t,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)},i.prototype.removeSource=function(e){return this.style.removeSource(e),this._update(!0)},i.prototype.getSource=function(e){return this.style.getSource(e)},i.prototype.addImage=function(t,n,r){r===void 0&&(r={});var i=r.pixelRatio;i===void 0&&(i=1);var a=r.sdf;a===void 0&&(a=!1);var o=r.stretchX,s=r.stretchY,c=r.content;this._lazyInitEmptyStyle();var l=0;if(n instanceof is||os&&n instanceof os){var u=e.browser.getImageData(n),d=u.width,f=u.height,p=u.data;this.style.addImage(t,{data:new e.RGBAImage({width:d,height:f},p),pixelRatio:i,stretchX:o,stretchY:s,content:c,sdf:a,version:l})}else if(n.width===void 0||n.height===void 0)return this.fire(new e.ErrorEvent(Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{var m=n.width,h=n.height,g=n.data,_=n;this.style.addImage(t,{data:new e.RGBAImage({width:m,height:h},new Uint8Array(g)),pixelRatio:i,stretchX:o,stretchY:s,content:c,sdf:a,version:l,userImage:_}),_.onAdd&&_.onAdd(this,t)}},i.prototype.updateImage=function(t,n){var r=this.style.getImage(t);if(!r)return this.fire(new e.ErrorEvent(Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var i=n instanceof is||os&&n instanceof os?e.browser.getImageData(n):n,a=i.width,o=i.height,s=i.data;if(a===void 0||o===void 0)return this.fire(new e.ErrorEvent(Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(a!==r.data.width||o!==r.data.height)return this.fire(new e.ErrorEvent(Error(`The width and height of the updated image must be that same as the previous version of the image`)));var c=!(n instanceof is||os&&n instanceof os);r.data.replace(s,c),this.style.updateImage(t,r)},i.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(Error(`Missing required image id`))),!1)},i.prototype.removeImage=function(e){this.style.removeImage(e)},i.prototype.loadImage=function(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),n)},i.prototype.listImages=function(){return this.style.listImages()},i.prototype.addLayer=function(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)},i.prototype.moveLayer=function(e,t){return this.style.moveLayer(e,t),this._update(!0)},i.prototype.removeLayer=function(e){return this.style.removeLayer(e),this._update(!0)},i.prototype.getLayer=function(e){return this.style.getLayer(e)},i.prototype.setLayerZoomRange=function(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)},i.prototype.setFilter=function(e,t,n){return n===void 0&&(n={}),this.style.setFilter(e,t,n),this._update(!0)},i.prototype.getFilter=function(e){return this.style.getFilter(e)},i.prototype.setPaintProperty=function(e,t,n,r){return r===void 0&&(r={}),this.style.setPaintProperty(e,t,n,r),this._update(!0)},i.prototype.getPaintProperty=function(e,t){return this.style.getPaintProperty(e,t)},i.prototype.setLayoutProperty=function(e,t,n,r){return r===void 0&&(r={}),this.style.setLayoutProperty(e,t,n,r),this._update(!0)},i.prototype.getLayoutProperty=function(e,t){return this.style.getLayoutProperty(e,t)},i.prototype.setLight=function(e,t){return t===void 0&&(t={}),this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)},i.prototype.getLight=function(){return this.style.getLight()},i.prototype.setFeatureState=function(e,t){return this.style.setFeatureState(e,t),this._update()},i.prototype.removeFeatureState=function(e,t){return this.style.removeFeatureState(e,t),this._update()},i.prototype.getFeatureState=function(e){return this.style.getFeatureState(e)},i.prototype.getContainer=function(){return this._container},i.prototype.getCanvasContainer=function(){return this._canvasContainer},i.prototype.getCanvas=function(){return this._canvas},i.prototype._containerDimensions=function(){var e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]},i.prototype._detectMissingCSS=function(){e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue(`background-color`)!==`rgb(250, 128, 114)`&&e.warnOnce(`This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.`)},i.prototype._setupContainer=function(){var e=this._container;e.classList.add(`mapboxgl-map`);var t=this._missingCSSCanary=n.create(`div`,`mapboxgl-canary`,e);t.style.visibility=`hidden`,this._detectMissingCSS();var r=this._canvasContainer=n.create(`div`,`mapboxgl-canvas-container`,e);this._interactive&&r.classList.add(`mapboxgl-interactive`),this._canvas=n.create(`canvas`,`mapboxgl-canvas`,r),this._canvas.addEventListener(`webglcontextlost`,this._contextLost,!1),this._canvas.addEventListener(`webglcontextrestored`,this._contextRestored,!1),this._canvas.setAttribute(`tabindex`,`0`),this._canvas.setAttribute(`aria-label`,`Map`);var i=this._containerDimensions();this._resizeCanvas(i[0],i[1]);var a=this._controlContainer=n.create(`div`,`mapboxgl-control-container`,e),o=this._controlPositions={};[`top-left`,`top-right`,`bottom-left`,`bottom-right`].forEach(function(e){o[e]=n.create(`div`,`mapboxgl-ctrl-`+e,a)})},i.prototype._resizeCanvas=function(t,n){var r=e.browser.devicePixelRatio||1;this._canvas.width=r*t,this._canvas.height=r*n,this._canvas.style.width=t+`px`,this._canvas.style.height=n+`px`},i.prototype._setupPainter=function(){var n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext(`webgl`,n)||this._canvas.getContext(`experimental-webgl`,n);if(!r){this.fire(new e.ErrorEvent(Error(`Failed to initialize WebGL`)));return}this.painter=new Ba(r,this.transform),e.webpSupported.testSupport(r)},i.prototype._contextLost=function(t){t.preventDefault(),this._frame&&=(this._frame.cancel(),null),this.fire(new e.Event(`webglcontextlost`,{originalEvent:t}))},i.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event(`webglcontextrestored`,{originalEvent:t}))},i.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},i.prototype._update=function(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this},i.prototype._requestRenderFrame=function(e){return this._update(),this._renderTaskQueue.add(e)},i.prototype._cancelRenderFrame=function(e){this._renderTaskQueue.remove(e)},i.prototype._render=function(t){var n=this,r,i=0,a=this.painter.context.extTimerQuery;if(this.listens(`gpu-timing-frame`)&&(r=a.createQueryEXT(),a.beginQueryEXT(a.TIME_ELAPSED_EXT,r),i=e.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),!this._removed){var o=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var s=this.transform.zoom,c=e.browser.now();this.style.zoomHistory.update(s,c);var l=new e.EvaluationParameters(s,{now:c,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),u=l.crossFadingFactor();(u!==1||u!==this._crossFadingFactor)&&(o=!0,this._crossFadingFactor=u),this.style.update(l)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens(`gpu-timing-layer`)}),this.fire(new e.Event(`render`)),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event(`load`))),this.style&&(this.style.hasTransitions()||o)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens(`gpu-timing-frame`)){var d=e.browser.now()-i;a.endQueryEXT(a.TIME_ELAPSED_EXT,r),setTimeout(function(){var t=a.getQueryObjectEXT(r,a.QUERY_RESULT_EXT)/(1e3*1e3);a.deleteQueryEXT(r),n.fire(new e.Event(`gpu-timing-frame`,{cpuTime:d,gpuTime:t}))},50)}if(this.listens(`gpu-timing-layer`)){var f=this.painter.collectGpuTimers();setTimeout(function(){var t=n.painter.queryGpuTimers(f);n.fire(new e.Event(`gpu-timing-layer`,{layerTimes:t}))},50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||=!0,this.fire(new e.Event(`idle`))),this}},i.prototype.remove=function(){this._hash&&this._hash.remove();for(var t=0,n=this._controls;t<n.length;t+=1)n[t].onRemove(this);this._controls=[],this._frame&&=(this._frame.cancel(),null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),e.window!==void 0&&(e.window.removeEventListener(`resize`,this._onWindowResize,!1),e.window.removeEventListener(`online`,this._onWindowOnline,!1));var r=this.painter.context.gl.getExtension(`WEBGL_lose_context`);r&&r.loseContext(),ps(this._canvasContainer),ps(this._controlContainer),ps(this._missingCSSCanary),this._container.classList.remove(`mapboxgl-map`),this._removed=!0,this.fire(new e.Event(`remove`))},i.prototype.triggerRepaint=function(){var t=this;this.style&&!this._frame&&(this._frame=e.browser.frame(function(e){t._frame=null,t._render(e)}))},i.prototype._onWindowOnline=function(){this._update()},i.prototype._onWindowResize=function(e){this._trackResize&&this.resize({originalEvent:e})._update()},a.showTileBoundaries.get=function(){return!!this._showTileBoundaries},a.showTileBoundaries.set=function(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())},a.showPadding.get=function(){return!!this._showPadding},a.showPadding.set=function(e){this._showPadding!==e&&(this._showPadding=e,this._update())},a.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},a.showCollisionBoxes.set=function(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())},a.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},a.showOverdrawInspector.set=function(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())},a.repaint.get=function(){return!!this._repaint},a.repaint.set=function(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())},a.vertices.get=function(){return!!this._vertices},a.vertices.set=function(e){this._vertices=e,this._update()},i.prototype._setCacheLimits=function(t,n){e.setCacheLimits(t,n)},a.version.get=function(){return e.version},Object.defineProperties(i.prototype,a),i}($o);function ps(e){e.parentNode&&e.parentNode.removeChild(e)}var ms={showCompass:!0,showZoom:!0,visualizePitch:!1},hs=function(t){var r=this;this.options=e.extend({},ms,t),this._container=n.create(`div`,`mapboxgl-ctrl mapboxgl-ctrl-group`),this._container.addEventListener(`contextmenu`,function(e){return e.preventDefault()}),this.options.showZoom&&(e.bindAll([`_setButtonTitle`,`_updateZoomButtons`],this),this._zoomInButton=this._createButton(`mapboxgl-ctrl-zoom-in`,function(e){return r._map.zoomIn({},{originalEvent:e})}),n.create(`span`,`mapboxgl-ctrl-icon`,this._zoomInButton).setAttribute(`aria-hidden`,!0),this._zoomOutButton=this._createButton(`mapboxgl-ctrl-zoom-out`,function(e){return r._map.zoomOut({},{originalEvent:e})}),n.create(`span`,`mapboxgl-ctrl-icon`,this._zoomOutButton).setAttribute(`aria-hidden`,!0)),this.options.showCompass&&(e.bindAll([`_rotateCompassArrow`],this),this._compass=this._createButton(`mapboxgl-ctrl-compass`,function(e){r.options.visualizePitch?r._map.resetNorthPitch({},{originalEvent:e}):r._map.resetNorth({},{originalEvent:e})}),this._compassIcon=n.create(`span`,`mapboxgl-ctrl-icon`,this._compass),this._compassIcon.setAttribute(`aria-hidden`,!0))};hs.prototype._updateZoomButtons=function(){var e=this._map.getZoom();this._zoomInButton.disabled=e===this._map.getMaxZoom(),this._zoomOutButton.disabled=e===this._map.getMinZoom()},hs.prototype._rotateCompassArrow=function(){var e=this.options.visualizePitch?`scale(`+1/Math.cos(this._map.transform.pitch*(Math.PI/180))**.5+`) rotateX(`+this._map.transform.pitch+`deg) rotateZ(`+this._map.transform.angle*(180/Math.PI)+`deg)`:`rotate(`+this._map.transform.angle*(180/Math.PI)+`deg)`;this._compassIcon.style.transform=e},hs.prototype.onAdd=function(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,`ZoomIn`),this._setButtonTitle(this._zoomOutButton,`ZoomOut`),this._map.on(`zoom`,this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,`ResetBearing`),this.options.visualizePitch&&this._map.on(`pitch`,this._rotateCompassArrow),this._map.on(`rotate`,this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new gs(this._map,this._compass,this.options.visualizePitch)),this._container},hs.prototype.onRemove=function(){n.remove(this._container),this.options.showZoom&&this._map.off(`zoom`,this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off(`pitch`,this._rotateCompassArrow),this._map.off(`rotate`,this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},hs.prototype._createButton=function(e,t){var r=n.create(`button`,e,this._container);return r.type=`button`,r.addEventListener(`click`,t),r},hs.prototype._setButtonTitle=function(e,t){var n=this._map._getUIString(`NavigationControl.`+t);e.title=n,e.setAttribute(`aria-label`,n)};var gs=function(t,r,i){i===void 0&&(i=!1),this._clickTolerance=10,this.element=r,this.mouseRotate=new xo({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,i&&(this.mousePitch=new So({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll([`mousedown`,`mousemove`,`mouseup`,`touchstart`,`touchmove`,`touchend`,`reset`],this),n.addEventListener(r,`mousedown`,this.mousedown),n.addEventListener(r,`touchstart`,this.touchstart,{passive:!1}),n.addEventListener(r,`touchmove`,this.touchmove),n.addEventListener(r,`touchend`,this.touchend),n.addEventListener(r,`touchcancel`,this.reset)};gs.prototype.down=function(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),n.disableDrag()},gs.prototype.move=function(e,t){var n=this.map,r=this.mouseRotate.mousemoveWindow(e,t);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){var i=this.mousePitch.mousemoveWindow(e,t);i&&i.pitchDelta&&n.setPitch(n.getPitch()+i.pitchDelta)}},gs.prototype.off=function(){var e=this.element;n.removeEventListener(e,`mousedown`,this.mousedown),n.removeEventListener(e,`touchstart`,this.touchstart,{passive:!1}),n.removeEventListener(e,`touchmove`,this.touchmove),n.removeEventListener(e,`touchend`,this.touchend),n.removeEventListener(e,`touchcancel`,this.reset),this.offTemp()},gs.prototype.offTemp=function(){n.enableDrag(),n.removeEventListener(e.window,`mousemove`,this.mousemove),n.removeEventListener(e.window,`mouseup`,this.mouseup)},gs.prototype.mousedown=function(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:function(){return t.preventDefault()}}),n.mousePos(this.element,t)),n.addEventListener(e.window,`mousemove`,this.mousemove),n.addEventListener(e.window,`mouseup`,this.mouseup)},gs.prototype.mousemove=function(e){this.move(e,n.mousePos(this.element,e))},gs.prototype.mouseup=function(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()},gs.prototype.touchstart=function(e){e.targetTouches.length===1?(this._startPos=this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.down({type:`mousedown`,button:0,ctrlKey:!0,preventDefault:function(){return e.preventDefault()}},this._startPos)):this.reset()},gs.prototype.touchmove=function(e){e.targetTouches.length===1?(this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:function(){return e.preventDefault()}},this._lastPos)):this.reset()},gs.prototype.touchend=function(e){e.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},gs.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function _s(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){var i=new e.LngLat(t.lng-360,t.lat),a=new e.LngLat(t.lng+360,t.lat),o=r.locationPoint(t).distSqr(n);r.locationPoint(i).distSqr(n)<o?t=i:r.locationPoint(a).distSqr(n)<o&&(t=a)}for(;Math.abs(t.lng-r.center.lng)>180;){var s=r.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=r.width&&s.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}var vs={center:`translate(-50%,-50%)`,top:`translate(-50%,0)`,"top-left":`translate(0,0)`,"top-right":`translate(-100%,0)`,bottom:`translate(-50%,-100%)`,"bottom-left":`translate(0,-100%)`,"bottom-right":`translate(-100%,-100%)`,left:`translate(0,-50%)`,right:`translate(-100%,-50%)`};function ys(e,t,n){var r=e.classList;for(var i in vs)r.remove(`mapboxgl-`+n+`-anchor-`+i);r.add(`mapboxgl-`+n+`-anchor-`+t)}var bs=function(t){function r(r,i){var a=this;if(t.call(this),(r instanceof e.window.HTMLElement||i)&&(r=e.extend({element:r},i)),e.bindAll([`_update`,`_onMove`,`_onUp`,`_addDragHandler`,`_onMapClick`,`_onKeyPress`],this),this._anchor=r&&r.anchor||`center`,this._color=r&&r.color||`#3FB1CE`,this._draggable=r&&r.draggable||!1,this._state=`inactive`,this._rotation=r&&r.rotation||0,this._rotationAlignment=r&&r.rotationAlignment||`auto`,this._pitchAlignment=r&&r.pitchAlignment&&r.pitchAlignment!==`auto`?r.pitchAlignment:this._rotationAlignment,!r||!r.element){this._defaultMarker=!0,this._element=n.create(`div`),this._element.setAttribute(`aria-label`,`Map marker`);var o=n.createNS(`http://www.w3.org/2000/svg`,`svg`);o.setAttributeNS(null,`display`,`block`),o.setAttributeNS(null,`height`,`41px`),o.setAttributeNS(null,`width`,`27px`),o.setAttributeNS(null,`viewBox`,`0 0 27 41`);var s=n.createNS(`http://www.w3.org/2000/svg`,`g`);s.setAttributeNS(null,`stroke`,`none`),s.setAttributeNS(null,`stroke-width`,`1`),s.setAttributeNS(null,`fill`,`none`),s.setAttributeNS(null,`fill-rule`,`evenodd`);var c=n.createNS(`http://www.w3.org/2000/svg`,`g`);c.setAttributeNS(null,`fill-rule`,`nonzero`);var l=n.createNS(`http://www.w3.org/2000/svg`,`g`);l.setAttributeNS(null,`transform`,`translate(3.0, 29.0)`),l.setAttributeNS(null,`fill`,`#000000`);for(var u=[{rx:`10.5`,ry:`5.25002273`},{rx:`10.5`,ry:`5.25002273`},{rx:`9.5`,ry:`4.77275007`},{rx:`8.5`,ry:`4.29549936`},{rx:`7.5`,ry:`3.81822308`},{rx:`6.5`,ry:`3.34094679`},{rx:`5.5`,ry:`2.86367051`},{rx:`4.5`,ry:`2.38636864`}],d=0,f=u;d<f.length;d+=1){var p=f[d],m=n.createNS(`http://www.w3.org/2000/svg`,`ellipse`);m.setAttributeNS(null,`opacity`,`0.04`),m.setAttributeNS(null,`cx`,`10.5`),m.setAttributeNS(null,`cy`,`5.80029008`),m.setAttributeNS(null,`rx`,p.rx),m.setAttributeNS(null,`ry`,p.ry),l.appendChild(m)}var h=n.createNS(`http://www.w3.org/2000/svg`,`g`);h.setAttributeNS(null,`fill`,this._color);var g=n.createNS(`http://www.w3.org/2000/svg`,`path`);g.setAttributeNS(null,`d`,`M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z`),h.appendChild(g);var _=n.createNS(`http://www.w3.org/2000/svg`,`g`);_.setAttributeNS(null,`opacity`,`0.25`),_.setAttributeNS(null,`fill`,`#000000`);var v=n.createNS(`http://www.w3.org/2000/svg`,`path`);v.setAttributeNS(null,`d`,`M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z`),_.appendChild(v);var y=n.createNS(`http://www.w3.org/2000/svg`,`g`);y.setAttributeNS(null,`transform`,`translate(6.0, 7.0)`),y.setAttributeNS(null,`fill`,`#FFFFFF`);var b=n.createNS(`http://www.w3.org/2000/svg`,`g`);b.setAttributeNS(null,`transform`,`translate(8.0, 8.0)`);var x=n.createNS(`http://www.w3.org/2000/svg`,`circle`);x.setAttributeNS(null,`fill`,`#000000`),x.setAttributeNS(null,`opacity`,`0.25`),x.setAttributeNS(null,`cx`,`5.5`),x.setAttributeNS(null,`cy`,`5.5`),x.setAttributeNS(null,`r`,`5.4999962`);var S=n.createNS(`http://www.w3.org/2000/svg`,`circle`);S.setAttributeNS(null,`fill`,`#FFFFFF`),S.setAttributeNS(null,`cx`,`5.5`),S.setAttributeNS(null,`cy`,`5.5`),S.setAttributeNS(null,`r`,`5.4999962`),b.appendChild(x),b.appendChild(S),c.appendChild(l),c.appendChild(h),c.appendChild(_),c.appendChild(y),c.appendChild(b),o.appendChild(c),this._element.appendChild(o),this._offset=e.Point.convert(r&&r.offset||[0,-14])}else this._element=r.element,this._offset=e.Point.convert(r&&r.offset||[0,0]);this._element.classList.add(`mapboxgl-marker`),this._element.addEventListener(`dragstart`,function(e){e.preventDefault()}),this._element.addEventListener(`mousedown`,function(e){e.preventDefault()}),this._element.addEventListener(`focus`,function(){var e=a._map.getContainer();e.scrollTop=0,e.scrollLeft=0}),ys(this._element,this._anchor,`marker`),this._popup=null}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.addTo=function(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on(`move`,this._update),e.on(`moveend`,this._update),this.setDraggable(this._draggable),this._update(),this._map.on(`click`,this._onMapClick),this},r.prototype.remove=function(){return this._map&&(this._map.off(`click`,this._onMapClick),this._map.off(`move`,this._update),this._map.off(`moveend`,this._update),this._map.off(`mousedown`,this._addDragHandler),this._map.off(`touchstart`,this._addDragHandler),this._map.off(`mouseup`,this._onUp),this._map.off(`touchend`,this._onUp),this._map.off(`mousemove`,this._onMove),this._map.off(`touchmove`,this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},r.prototype.getElement=function(){return this._element},r.prototype.setPopup=function(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener(`keypress`,this._onKeyPress),this._originalTabIndex||this._element.removeAttribute(`tabindex`)),e){if(!(`offset`in e.options)){var t=41-5.8/2,n=13.5,r=Math.sqrt(n**2/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[r,(t-n+r)*-1],"bottom-right":[-r,(t-n+r)*-1],left:[n,(t-n)*-1],right:[-n,(t-n)*-1]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute(`tabindex`),this._originalTabIndex||this._element.setAttribute(`tabindex`,`0`),this._element.addEventListener(`keypress`,this._onKeyPress)}return this},r.prototype._onKeyPress=function(e){var t=e.code,n=e.charCode||e.keyCode;(t===`Space`||t===`Enter`||n===32||n===13)&&this.togglePopup()},r.prototype._onMapClick=function(e){var t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},r.prototype.getPopup=function(){return this._popup},r.prototype.togglePopup=function(){var e=this._popup;if(e)e.isOpen()?e.remove():e.addTo(this._map);else return this;return this},r.prototype._update=function(e){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=_s(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var t=``;this._rotationAlignment===`viewport`||this._rotationAlignment===`auto`?t=`rotateZ(`+this._rotation+`deg)`:this._rotationAlignment===`map`&&(t=`rotateZ(`+(this._rotation-this._map.getBearing())+`deg)`);var r=``;this._pitchAlignment===`viewport`||this._pitchAlignment===`auto`?r=`rotateX(0deg)`:this._pitchAlignment===`map`&&(r=`rotateX(`+this._map.getPitch()+`deg)`),(!e||e.type===`moveend`)&&(this._pos=this._pos.round()),n.setTransform(this._element,vs[this._anchor]+` translate(`+this._pos.x+`px, `+this._pos.y+`px) `+r+` `+t)}},r.prototype.getOffset=function(){return this._offset},r.prototype.setOffset=function(t){return this._offset=e.Point.convert(t),this._update(),this},r.prototype._onMove=function(t){this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents=`none`,this._state===`pending`&&(this._state=`active`,this.fire(new e.Event(`dragstart`))),this.fire(new e.Event(`drag`))},r.prototype._onUp=function(){this._element.style.pointerEvents=`auto`,this._positionDelta=null,this._map.off(`mousemove`,this._onMove),this._map.off(`touchmove`,this._onMove),this._state===`active`&&this.fire(new e.Event(`dragend`)),this._state=`inactive`},r.prototype._addDragHandler=function(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._state=`pending`,this._map.on(`mousemove`,this._onMove),this._map.on(`touchmove`,this._onMove),this._map.once(`mouseup`,this._onUp),this._map.once(`touchend`,this._onUp))},r.prototype.setDraggable=function(e){return this._draggable=!!e,this._map&&(e?(this._map.on(`mousedown`,this._addDragHandler),this._map.on(`touchstart`,this._addDragHandler)):(this._map.off(`mousedown`,this._addDragHandler),this._map.off(`touchstart`,this._addDragHandler))),this},r.prototype.isDraggable=function(){return this._draggable},r.prototype.setRotation=function(e){return this._rotation=e||0,this._update(),this},r.prototype.getRotation=function(){return this._rotation},r.prototype.setRotationAlignment=function(e){return this._rotationAlignment=e||`auto`,this._update(),this},r.prototype.getRotationAlignment=function(){return this._rotationAlignment},r.prototype.setPitchAlignment=function(e){return this._pitchAlignment=e&&e!==`auto`?e:this._rotationAlignment,this._update(),this},r.prototype.getPitchAlignment=function(){return this._pitchAlignment},r}(e.Evented),xs={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ss;function Cs(t){Ss===void 0?e.window.navigator.permissions===void 0?(Ss=!!e.window.navigator.geolocation,t(Ss)):e.window.navigator.permissions.query({name:`geolocation`}).then(function(e){Ss=e.state!==`denied`,t(Ss)}):t(Ss)}var ws=0,Ts=!1,Es=function(t){function r(n){t.call(this),this.options=e.extend({},xs,n),e.bindAll([`_onSuccess`,`_onError`,`_onZoom`,`_finish`,`_setupUI`,`_updateCamera`,`_updateMarker`],this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.onAdd=function(e){return this._map=e,this._container=n.create(`div`,`mapboxgl-ctrl mapboxgl-ctrl-group`),Cs(this._setupUI),this._container},r.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off(`zoom`,this._onZoom),this._map=void 0,ws=0,Ts=!1},r.prototype._isOutOfMapMaxBounds=function(e){var t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())},r.prototype._setErrorState=function(){switch(this._watchState){case`WAITING_ACTIVE`:this._watchState=`ACTIVE_ERROR`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-active-error`);break;case`ACTIVE_LOCK`:this._watchState=`ACTIVE_ERROR`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-active-error`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-waiting`);break;case`BACKGROUND`:this._watchState=`BACKGROUND_ERROR`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-background`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-background-error`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-waiting`);break}},r.prototype._onSuccess=function(t){if(this._map){if(this._isOutOfMapMaxBounds(t)){this._setErrorState(),this.fire(new e.Event(`outofmaxbounds`,t)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case`WAITING_ACTIVE`:case`ACTIVE_LOCK`:case`ACTIVE_ERROR`:this._watchState=`ACTIVE_LOCK`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active-error`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-active`);break;case`BACKGROUND`:case`BACKGROUND_ERROR`:this._watchState=`BACKGROUND`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-background-error`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-background`);break}this.options.showUserLocation&&this._watchState!==`OFF`&&this._updateMarker(t),(!this.options.trackUserLocation||this._watchState===`ACTIVE_LOCK`)&&this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove(`mapboxgl-user-location-dot-stale`),this.fire(new e.Event(`geolocate`,t)),this._finish()}},r.prototype._updateCamera=function(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),a=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),a,{geolocateSource:!0})},r.prototype._updateMarker=function(t){if(t){var n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},r.prototype._updateCircleRadius=function(){var e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),n=this._map.unproject([1,e]),r=t.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=i+`px`,this._circleElement.style.height=i+`px`},r.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},r.prototype._onError=function(t){if(this._map){if(this.options.trackUserLocation)if(t.code===1){this._watchState=`OFF`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active-error`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-background`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-background-error`),this._geolocateButton.disabled=!0;var n=this._map._getUIString(`GeolocateControl.LocationNotAvailable`);this._geolocateButton.title=n,this._geolocateButton.setAttribute(`aria-label`,n),this._geolocationWatchID!==void 0&&this._clearWatch()}else if(t.code===3&&Ts)return;else this._setErrorState();this._watchState!==`OFF`&&this.options.showUserLocation&&this._dotElement.classList.add(`mapboxgl-user-location-dot-stale`),this.fire(new e.Event(`error`,t)),this._finish()}},r.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},r.prototype._setupUI=function(t){var r=this;if(this._container.addEventListener(`contextmenu`,function(e){return e.preventDefault()}),this._geolocateButton=n.create(`button`,`mapboxgl-ctrl-geolocate`,this._container),n.create(`span`,`mapboxgl-ctrl-icon`,this._geolocateButton).setAttribute(`aria-hidden`,!0),this._geolocateButton.type=`button`,t===!1){e.warnOnce(`Geolocation support is not available so the GeolocateControl will be disabled.`);var i=this._map._getUIString(`GeolocateControl.LocationNotAvailable`);this._geolocateButton.disabled=!0,this._geolocateButton.title=i,this._geolocateButton.setAttribute(`aria-label`,i)}else{var a=this._map._getUIString(`GeolocateControl.FindMyLocation`);this._geolocateButton.title=a,this._geolocateButton.setAttribute(`aria-label`,a)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute(`aria-pressed`,`false`),this._watchState=`OFF`),this.options.showUserLocation&&(this._dotElement=n.create(`div`,`mapboxgl-user-location-dot`),this._userLocationDotMarker=new bs(this._dotElement),this._circleElement=n.create(`div`,`mapboxgl-user-location-accuracy-circle`),this._accuracyCircleMarker=new bs({element:this._circleElement,pitchAlignment:`map`}),this.options.trackUserLocation&&(this._watchState=`OFF`),this._map.on(`zoom`,this._onZoom)),this._geolocateButton.addEventListener(`click`,this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on(`movestart`,function(t){var n=t.originalEvent&&t.originalEvent.type===`resize`;!t.geolocateSource&&r._watchState===`ACTIVE_LOCK`&&!n&&(r._watchState=`BACKGROUND`,r._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-background`),r._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active`),r.fire(new e.Event(`trackuserlocationend`)))})},r.prototype.trigger=function(){if(!this._setup)return e.warnOnce(`Geolocate control triggered before added to a map`),!1;if(this.options.trackUserLocation){switch(this._watchState){case`OFF`:this._watchState=`WAITING_ACTIVE`,this.fire(new e.Event(`trackuserlocationstart`));break;case`WAITING_ACTIVE`:case`ACTIVE_LOCK`:case`ACTIVE_ERROR`:case`BACKGROUND_ERROR`:ws--,Ts=!1,this._watchState=`OFF`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-active-error`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-background`),this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-background-error`),this.fire(new e.Event(`trackuserlocationend`));break;case`BACKGROUND`:this._watchState=`ACTIVE_LOCK`,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-background`),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event(`trackuserlocationstart`));break}switch(this._watchState){case`WAITING_ACTIVE`:this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-active`);break;case`ACTIVE_LOCK`:this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-active`);break;case`ACTIVE_ERROR`:this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-active-error`);break;case`BACKGROUND`:this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-background`);break;case`BACKGROUND_ERROR`:this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-background-error`);break}if(this._watchState===`OFF`&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.setAttribute(`aria-pressed`,`true`),ws++;var t;ws>1?(t={maximumAge:6e5,timeout:0},Ts=!0):(t=this.options.positionOptions,Ts=!1),this._geolocationWatchID=e.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)}}else e.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},r.prototype._clearWatch=function(){e.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove(`mapboxgl-ctrl-geolocate-waiting`),this._geolocateButton.setAttribute(`aria-pressed`,`false`),this.options.showUserLocation&&this._updateMarker(null)},r}(e.Evented),Ds={maxWidth:100,unit:`metric`},Os=function(t){this.options=e.extend({},Ds,t),e.bindAll([`_onMove`,`setUnit`],this)};Os.prototype.getDefaultPosition=function(){return`bottom-left`},Os.prototype._onMove=function(){ks(this._map,this._container,this.options)},Os.prototype.onAdd=function(e){return this._map=e,this._container=n.create(`div`,`mapboxgl-ctrl mapboxgl-ctrl-scale`,e.getContainer()),this._map.on(`move`,this._onMove),this._onMove(),this._container},Os.prototype.onRemove=function(){n.remove(this._container),this._map.off(`move`,this._onMove),this._map=void 0},Os.prototype.setUnit=function(e){this.options.unit=e,ks(this._map,this._container,this.options)};function ks(e,t,n){var r=n&&n.maxWidth||100,i=e._container.clientHeight/2,a=e.unproject([0,i]),o=e.unproject([r,i]),s=a.distanceTo(o);if(n&&n.unit===`imperial`){var c=3.2808*s;c>5280?As(t,r,c/5280,e._getUIString(`ScaleControl.Miles`)):As(t,r,c,e._getUIString(`ScaleControl.Feet`))}else n&&n.unit===`nautical`?As(t,r,s/1852,e._getUIString(`ScaleControl.NauticalMiles`)):s>=1e3?As(t,r,s/1e3,e._getUIString(`ScaleControl.Kilometers`)):As(t,r,s,e._getUIString(`ScaleControl.Meters`))}function As(e,t,n,r){var i=Ms(n),a=i/n;e.style.width=t*a+`px`,e.innerHTML=i+`&nbsp;`+r}function js(e){var t=10**Math.ceil(-Math.log(e)/Math.LN10);return Math.round(e*t)/t}function Ms(e){var t=10**((``+Math.floor(e)).length-1),n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:js(n),t*n}var Ns=function(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce(`Full screen control 'container' must be a DOM element.`)),e.bindAll([`_onClickFullscreen`,`_changeIcon`],this),`onfullscreenchange`in e.window.document?this._fullscreenchange=`fullscreenchange`:`onmozfullscreenchange`in e.window.document?this._fullscreenchange=`mozfullscreenchange`:`onwebkitfullscreenchange`in e.window.document?this._fullscreenchange=`webkitfullscreenchange`:`onmsfullscreenchange`in e.window.document&&(this._fullscreenchange=`MSFullscreenChange`)};Ns.prototype.onAdd=function(t){return this._map=t,this._container||=this._map.getContainer(),this._controlContainer=n.create(`div`,`mapboxgl-ctrl mapboxgl-ctrl-group`),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display=`none`,e.warnOnce(`This device does not support fullscreen mode.`)),this._controlContainer},Ns.prototype.onRemove=function(){n.remove(this._controlContainer),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Ns.prototype._checkFullscreenSupport=function(){return!!(e.window.document.fullscreenEnabled||e.window.document.mozFullScreenEnabled||e.window.document.msFullscreenEnabled||e.window.document.webkitFullscreenEnabled)},Ns.prototype._setupUI=function(){var t=this._fullscreenButton=n.create(`button`,`mapboxgl-ctrl-fullscreen`,this._controlContainer);n.create(`span`,`mapboxgl-ctrl-icon`,t).setAttribute(`aria-hidden`,!0),t.type=`button`,this._updateTitle(),this._fullscreenButton.addEventListener(`click`,this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Ns.prototype._updateTitle=function(){var e=this._getTitle();this._fullscreenButton.setAttribute(`aria-label`,e),this._fullscreenButton.title=e},Ns.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?`FullscreenControl.Exit`:`FullscreenControl.Enter`)},Ns.prototype._isFullscreen=function(){return this._fullscreen},Ns.prototype._changeIcon=function(){(e.window.document.fullscreenElement||e.window.document.mozFullScreenElement||e.window.document.webkitFullscreenElement||e.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(`mapboxgl-ctrl-shrink`),this._fullscreenButton.classList.toggle(`mapboxgl-ctrl-fullscreen`),this._updateTitle())},Ns.prototype._onClickFullscreen=function(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.mozCancelFullScreen?e.window.document.mozCancelFullScreen():e.window.document.msExitFullscreen?e.window.document.msExitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Ps={closeButton:!0,closeOnClick:!0,className:``,maxWidth:`240px`},Fs=function(t){function r(n){t.call(this),this.options=e.extend(Object.create(Ps),n),e.bindAll([`_update`,`_onClose`,`remove`,`_onMouseMove`,`_onMouseUp`,`_onDrag`],this)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.addTo=function(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on(`click`,this._onClose),this.options.closeOnMove&&this._map.on(`move`,this._onClose),this._map.on(`remove`,this.remove),this._update(),this._trackPointer?(this._map.on(`mousemove`,this._onMouseMove),this._map.on(`mouseup`,this._onMouseUp),this._container&&this._container.classList.add(`mapboxgl-popup-track-pointer`),this._map._canvasContainer.classList.add(`mapboxgl-track-pointer`)):this._map.on(`move`,this._update),this.fire(new e.Event(`open`)),this},r.prototype.isOpen=function(){return!!this._map},r.prototype.remove=function(){return this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off(`move`,this._update),this._map.off(`move`,this._onClose),this._map.off(`click`,this._onClose),this._map.off(`remove`,this.remove),this._map.off(`mousemove`,this._onMouseMove),this._map.off(`mouseup`,this._onMouseUp),this._map.off(`drag`,this._onDrag),delete this._map),this.fire(new e.Event(`close`)),this},r.prototype.getLngLat=function(){return this._lngLat},r.prototype.setLngLat=function(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on(`move`,this._update),this._map.off(`mousemove`,this._onMouseMove),this._container&&this._container.classList.remove(`mapboxgl-popup-track-pointer`),this._map._canvasContainer.classList.remove(`mapboxgl-track-pointer`)),this},r.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off(`move`,this._update),this._map.on(`mousemove`,this._onMouseMove),this._map.on(`drag`,this._onDrag),this._container&&this._container.classList.add(`mapboxgl-popup-track-pointer`),this._map._canvasContainer.classList.add(`mapboxgl-track-pointer`)),this},r.prototype.getElement=function(){return this._container},r.prototype.setText=function(t){return this.setDOMContent(e.window.document.createTextNode(t))},r.prototype.setHTML=function(t){var n=e.window.document.createDocumentFragment(),r=e.window.document.createElement(`body`),i;for(r.innerHTML=t;i=r.firstChild,i;)n.appendChild(i);return this.setDOMContent(n)},r.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},r.prototype.setMaxWidth=function(e){return this.options.maxWidth=e,this._update(),this},r.prototype.setDOMContent=function(e){return this._createContent(),this._content.appendChild(e),this._update(),this},r.prototype.addClassName=function(e){this._container&&this._container.classList.add(e)},r.prototype.removeClassName=function(e){this._container&&this._container.classList.remove(e)},r.prototype.toggleClassName=function(e){if(this._container)return this._container.classList.toggle(e)},r.prototype._createContent=function(){this._content&&n.remove(this._content),this._content=n.create(`div`,`mapboxgl-popup-content`,this._container),this.options.closeButton&&(this._closeButton=n.create(`button`,`mapboxgl-popup-close-button`,this._content),this._closeButton.type=`button`,this._closeButton.setAttribute(`aria-label`,`Close popup`),this._closeButton.innerHTML=`&#215;`,this._closeButton.addEventListener(`click`,this._onClose))},r.prototype._onMouseUp=function(e){this._update(e.point)},r.prototype._onMouseMove=function(e){this._update(e.point)},r.prototype._onDrag=function(e){this._update(e.point)},r.prototype._update=function(e){var t=this,r=this._lngLat||this._trackPointer;if(!(!this._map||!r||!this._content)&&(this._container||(this._container=n.create(`div`,`mapboxgl-popup`,this._map.getContainer()),this._tip=n.create(`div`,`mapboxgl-popup-tip`,this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(` `).forEach(function(e){return t._container.classList.add(e)}),this._trackPointer&&this._container.classList.add(`mapboxgl-popup-track-pointer`)),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=_s(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!e))){var i=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat),a=this.options.anchor,o=Is(this.options.offset);if(!a){var s=this._container.offsetWidth,c=this._container.offsetHeight,l=i.y+o.bottom.y<c?[`top`]:i.y>this._map.transform.height-c?[`bottom`]:[];i.x<s/2?l.push(`left`):i.x>this._map.transform.width-s/2&&l.push(`right`),a=l.length===0?`bottom`:l.join(`-`)}var u=i.add(o[a]).round();n.setTransform(this._container,vs[a]+` translate(`+u.x+`px,`+u.y+`px)`),ys(this._container,a,`popup`)}},r.prototype._onClose=function(){this.remove()},r}(e.Evented);function Is(t){if(t)if(typeof t==`number`){var n=Math.round(Math.sqrt(.5*t**2));return{center:new e.Point(0,0),top:new e.Point(0,t),"top-left":new e.Point(n,n),"top-right":new e.Point(-n,n),bottom:new e.Point(0,-t),"bottom-left":new e.Point(n,-n),"bottom-right":new e.Point(-n,-n),left:new e.Point(t,0),right:new e.Point(-t,0)}}else if(t instanceof e.Point||Array.isArray(t)){var r=e.Point.convert(t);return{center:r,top:r,"top-left":r,"top-right":r,bottom:r,"bottom-left":r,"bottom-right":r,left:r,right:r}}else return{center:e.Point.convert(t.center||[0,0]),top:e.Point.convert(t.top||[0,0]),"top-left":e.Point.convert(t[`top-left`]||[0,0]),"top-right":e.Point.convert(t[`top-right`]||[0,0]),bottom:e.Point.convert(t.bottom||[0,0]),"bottom-left":e.Point.convert(t[`bottom-left`]||[0,0]),"bottom-right":e.Point.convert(t[`bottom-right`]||[0,0]),left:e.Point.convert(t.left||[0,0]),right:e.Point.convert(t.right||[0,0])};else return Is(new e.Point(0,0))}var Ls={version:e.version,supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:fs,NavigationControl:hs,GeolocateControl:Es,AttributionControl:es,ScaleControl:Os,FullscreenControl:Ns,Popup:Fs,Marker:bs,Style:vn,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.Point,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,config:e.config,prewarm:ot,clearPrewarmedResources:st,get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return nt.workerCount},set workerCount(e){nt.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage:function(t){e.clearTileCache(t)},workerUrl:``};return Ls}),n}))}),27084:(function(e){e.exports=Math.log2||function(e){return Math.log(e)*Math.LOG2E}}),16825:(function(e,t,n){e.exports=i;var r=n(74311);function i(e,t){t||(t=e,e=window);var n=0,i=0,a=0,o={shift:!1,alt:!1,control:!1,meta:!1},s=!1;function c(e){var t=!1;return`altKey`in e&&(t||=e.altKey!==o.alt,o.alt=!!e.altKey),`shiftKey`in e&&(t||=e.shiftKey!==o.shift,o.shift=!!e.shiftKey),`ctrlKey`in e&&(t||=e.ctrlKey!==o.control,o.control=!!e.ctrlKey),`metaKey`in e&&(t||=e.metaKey!==o.meta,o.meta=!!e.metaKey),t}function l(e,s){var l=r.x(s),u=r.y(s);`buttons`in s&&(e=s.buttons|0),(e!==n||l!==i||u!==a||c(s))&&(n=e|0,i=l||0,a=u||0,t&&t(n,i,a,o))}function u(e){l(0,e)}function d(){(n||i||a||o.shift||o.alt||o.meta||o.control)&&(i=a=0,n=0,o.shift=o.alt=o.control=o.meta=!1,t&&t(0,0,0,o))}function f(e){c(e)&&t&&t(n,i,a,o)}function p(e){r.buttons(e)===0?l(0,e):l(n,e)}function m(e){l(n|r.buttons(e),e)}function h(e){l(n&~r.buttons(e),e)}function g(){s||(s=!0,e.addEventListener(`mousemove`,p),e.addEventListener(`mousedown`,m),e.addEventListener(`mouseup`,h),e.addEventListener(`mouseleave`,u),e.addEventListener(`mouseenter`,u),e.addEventListener(`mouseout`,u),e.addEventListener(`mouseover`,u),e.addEventListener(`blur`,d),e.addEventListener(`keyup`,f),e.addEventListener(`keydown`,f),e.addEventListener(`keypress`,f),e!==window&&(window.addEventListener(`blur`,d),window.addEventListener(`keyup`,f),window.addEventListener(`keydown`,f),window.addEventListener(`keypress`,f)))}function _(){s&&(s=!1,e.removeEventListener(`mousemove`,p),e.removeEventListener(`mousedown`,m),e.removeEventListener(`mouseup`,h),e.removeEventListener(`mouseleave`,u),e.removeEventListener(`mouseenter`,u),e.removeEventListener(`mouseout`,u),e.removeEventListener(`mouseover`,u),e.removeEventListener(`blur`,d),e.removeEventListener(`keyup`,f),e.removeEventListener(`keydown`,f),e.removeEventListener(`keypress`,f),e!==window&&(window.removeEventListener(`blur`,d),window.removeEventListener(`keyup`,f),window.removeEventListener(`keydown`,f),window.removeEventListener(`keypress`,f)))}g();var v={element:e};return Object.defineProperties(v,{enabled:{get:function(){return s},set:function(e){e?g():_()},enumerable:!0},buttons:{get:function(){return n},enumerable:!0},x:{get:function(){return i},enumerable:!0},y:{get:function(){return a},enumerable:!0},mods:{get:function(){return o},enumerable:!0}}),v}}),48956:(function(e){var t={left:0,top:0};e.exports=n;function n(e,t,n){t=t||e.currentTarget||e.srcElement,Array.isArray(n)||(n=[0,0]);var i=e.clientX||0,a=e.clientY||0,o=r(t);return n[0]=i-o.left,n[1]=a-o.top,n}function r(e){return e===window||e===document||e===document.body?t:e.getBoundingClientRect()}}),74311:(function(e,t){function n(e){if(typeof e==`object`){if(`buttons`in e)return e.buttons;if(`which`in e){var t=e.which;if(t===2)return 4;if(t===3)return 2;if(t>0)return 1<<t-1}else if(`button`in e){var t=e.button;if(t===1)return 4;if(t===2)return 2;if(t>=0)return 1<<t}}return 0}t.buttons=n;function r(e){return e.target||e.srcElement||window}t.element=r;function i(e){if(typeof e==`object`){if(`offsetX`in e)return e.offsetX;var t=r(e).getBoundingClientRect();return e.clientX-t.left}return 0}t.x=i;function a(e){if(typeof e==`object`){if(`offsetY`in e)return e.offsetY;var t=r(e).getBoundingClientRect();return e.clientY-t.top}return 0}t.y=a}),1195:(function(e,t,n){var r=n(75686);e.exports=i;function i(e,t,n){typeof e==`function`&&(n=!!t,t=e,e=window);var i=r(`ex`,e),a=function(e){n&&e.preventDefault();var r=e.deltaX||0,a=e.deltaY||0,o=e.deltaZ||0,s=e.deltaMode,c=1;switch(s){case 1:c=i;break;case 2:c=window.innerHeight;break}if(r*=c,a*=c,o*=c,r||a||o)return t(r,a,o,e)};return e.addEventListener(`wheel`,a),a}}),7417:(function(e,t,n){var r;(function(i,a,o){a[i]=a[i]||o(),e.exports?e.exports=a[i]:(r=(function(){return a[i]}).call(t,n,t,e),r!==void 0&&(e.exports=r))})(`Promise`,n.g===void 0?this:n.g,function(){var e,t,n,r=Object.prototype.toString,i=typeof setImmediate<`u`?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},`x`,{}),e=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:r!==!1})}}catch{e=function(e,t,n){return e[t]=n,e}}n=(function(){var e,n,r;function i(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,a){r=new i(t,a),n?n.next=r:e=r,n=r,r=void 0},drain:function(){var r=e;for(e=n=t=void 0;r;)r.fn.call(r.self),r=r.next}}})();function a(e,r){n.add(e,r),t||=i(n.drain)}function o(e){var t,n=typeof e;return e!=null&&(n==`object`||n==`function`)&&(t=e.then),typeof t==`function`?t:!1}function s(){for(var e=0;e<this.chain.length;e++)c(this,this.state===1?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function c(e,t,n){var r,i;try{t===!1?n.reject(e.msg):(r=t===!0?e.msg:t.call(void 0,e.msg),r===n.promise?n.reject(TypeError(`Promise-chain cycle`)):(i=o(r))?i.call(r,n.resolve,n.reject):n.resolve(r))}catch(e){n.reject(e)}}function l(e){var t,n=this;if(!n.triggered){n.triggered=!0,n.def&&(n=n.def);try{(t=o(e))?a(function(){var r=new f(n);try{t.call(e,function(){l.apply(r,arguments)},function(){u.apply(r,arguments)})}catch(e){u.call(r,e)}}):(n.msg=e,n.state=1,n.chain.length>0&&a(s,n))}catch(e){u.call(new f(n),e)}}}function u(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&a(s,t))}function d(e,t,n,r){for(var i=0;i<t.length;i++)(function(i){e.resolve(t[i]).then(function(e){n(i,e)},r)})(i)}function f(e){this.def=e,this.triggered=!1}function p(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function m(e){if(typeof e!=`function`)throw TypeError(`Not a function`);if(this.__NPO__!==0)throw TypeError(`Not a promise`);this.__NPO__=1;var t=new p(this);this.then=function(e,n){var r={success:typeof e==`function`?e:!0,failure:typeof n==`function`?n:!1};return r.promise=new this.constructor(function(e,t){if(typeof e!=`function`||typeof t!=`function`)throw TypeError(`Not a function`);r.resolve=e,r.reject=t}),t.chain.push(r),t.state!==0&&a(s,t),r.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,function(e){l.call(t,e)},function(e){u.call(t,e)})}catch(e){u.call(t,e)}}var h=e({},`constructor`,m,!1);return m.prototype=h,e(h,`__NPO__`,0,!1),e(m,`resolve`,function(e){var t=this;return e&&typeof e==`object`&&e.__NPO__===1?e:new t(function(t,n){if(typeof t!=`function`||typeof n!=`function`)throw TypeError(`Not a function`);t(e)})}),e(m,`reject`,function(e){return new this(function(t,n){if(typeof t!=`function`||typeof n!=`function`)throw TypeError(`Not a function`);n(e)})}),e(m,`all`,function(e){var t=this;return r.call(e)==`[object Array]`?e.length===0?t.resolve([]):new t(function(n,r){if(typeof n!=`function`||typeof r!=`function`)throw TypeError(`Not a function`);var i=e.length,a=Array(i),o=0;d(t,e,function(e,t){a[e]=t,++o===i&&n(a)},r)}):t.reject(TypeError(`Not an array`))}),e(m,`race`,function(e){var t=this;return r.call(e)==`[object Array]`?new t(function(n,r){if(typeof n!=`function`||typeof r!=`function`)throw TypeError(`Not a function`);d(t,e,function(e,t){n(t)},r)}):t.reject(TypeError(`Not an array`))}),m})}),18625:(function(e){var t=Math.PI,n=c(120);e.exports=r;function r(e){for(var t,n=[],r=0,s=0,l=0,u=0,d=null,f=null,p=0,m=0,h=0,g=e.length;h<g;h++){var _=e[h],v=_[0];switch(v){case`M`:l=_[1],u=_[2];break;case`A`:_=o(p,m,_[1],_[2],c(_[3]),_[4],_[5],_[6],_[7]),_.unshift(`C`),_.length>7&&(n.push(_.splice(0,7)),_.unshift(`C`));break;case`S`:var y=p,b=m;(t==`C`||t==`S`)&&(y+=y-r,b+=b-s),_=[`C`,y,b,_[1],_[2],_[3],_[4]];break;case`T`:t==`Q`||t==`T`?(d=p*2-d,f=m*2-f):(d=p,f=m),_=a(p,m,d,f,_[1],_[2]);break;case`Q`:d=_[1],f=_[2],_=a(p,m,_[1],_[2],_[3],_[4]);break;case`L`:_=i(p,m,_[1],_[2]);break;case`H`:_=i(p,m,_[1],m);break;case`V`:_=i(p,m,p,_[1]);break;case`Z`:_=i(p,m,l,u);break}t=v,p=_[_.length-2],m=_[_.length-1],_.length>4?(r=_[_.length-4],s=_[_.length-3]):(r=p,s=m),n.push(_)}return n}function i(e,t,n,r){return[`C`,e,t,n,r,n,r]}function a(e,t,n,r,i,a){return[`C`,e/3+2/3*n,t/3+2/3*r,i/3+2/3*n,a/3+2/3*r,i,a]}function o(e,r,i,a,c,l,u,d,f,p){if(p)C=p[0],w=p[1],x=p[2],S=p[3];else{var m=s(e,r,-c);e=m.x,r=m.y,m=s(d,f,-c),d=m.x,f=m.y;var h=(e-d)/2,g=(r-f)/2,_=h*h/(i*i)+g*g/(a*a);_>1&&(_=Math.sqrt(_),i=_*i,a=_*a);var v=i*i,y=a*a,b=(l==u?-1:1)*Math.sqrt(Math.abs((v*y-v*g*g-y*h*h)/(v*g*g+y*h*h)));b==1/0&&(b=1);var x=b*i*g/a+(e+d)/2,S=b*-a*h/i+(r+f)/2,C=Math.asin(((r-S)/a).toFixed(9)),w=Math.asin(((f-S)/a).toFixed(9));C=e<x?t-C:C,w=d<x?t-w:w,C<0&&(C=t*2+C),w<0&&(w=t*2+w),u&&C>w&&(C-=t*2),!u&&w>C&&(w-=t*2)}if(Math.abs(w-C)>n){var T=w,E=d,D=f;w=C+n*(u&&w>C?1:-1),d=x+i*Math.cos(w),f=S+a*Math.sin(w);var O=o(d,f,i,a,c,0,u,E,D,[w,T,x,S])}var k=Math.tan((w-C)/4),A=4/3*i*k,j=4/3*a*k,M=[2*e-(e+A*Math.sin(C)),2*r-(r-j*Math.cos(C)),d+A*Math.sin(w),f-j*Math.cos(w),d,f];if(p)return M;O&&(M=M.concat(O));for(var N=0;N<M.length;){var P=s(M[N],M[N+1],c);M[N++]=P.x,M[N++]=P.y}return M}function s(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}function c(e){return e*(t/180)}}),56131:(function(e){var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(e==null)throw TypeError(`Object.assign cannot be called with null or undefined`);return Object(e)}function a(){try{if(!Object.assign)return!1;var e=new String(`abc`);if(e[5]=`de`,Object.getOwnPropertyNames(e)[0]===`5`)return!1;for(var t={},n=0;n<10;n++)t[`_`+String.fromCharCode(n)]=n;if(Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(``)!==`0123456789`)return!1;var r={};return`abcdefghijklmnopqrst`.split(``).forEach(function(e){r[e]=e}),Object.keys(Object.assign({},r)).join(``)===`abcdefghijklmnopqrst`}catch{return!1}}e.exports=a()?Object.assign:function(e,a){for(var o,s=i(e),c,l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]),o)n.call(o,u)&&(s[u]=o[u]);if(t){c=t(o);for(var d=0;d<c.length;d++)r.call(o,c[d])&&(s[c[d]]=o[c[d]])}}return s}}),65848:(function(e){var t=function(e){return e!==e};e.exports=function(e,n){return e===0&&n===0?1/e==1/n:!!(e===n||t(e)&&t(n))}}),64003:(function(e,t,n){var r=n(17045),i=n(68222),a=n(65848),o=n(27015),s=n(55572),c=i(o(),Object);r(c,{getPolyfill:o,implementation:a,shim:s}),e.exports=c}),27015:(function(e,t,n){var r=n(65848);e.exports=function(){return typeof Object.is==`function`?Object.is:r}}),55572:(function(e,t,n){var r=n(27015),i=n(17045);e.exports=function(){var e=r();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}}),99019:(function(e,t,n){var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=n(64178),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},`toString`),l=s.call(function(){},`prototype`),u=[`toString`,`toLocaleString`,`valueOf`,`hasOwnProperty`,`isPrototypeOf`,`propertyIsEnumerable`,`constructor`],d=function(e){var t=e.constructor;return t&&t.prototype===e},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if(typeof window>`u`)return!1;for(var e in window)try{if(!f[`$`+e]&&i.call(window,e)&&window[e]!==null&&typeof window[e]==`object`)try{d(window[e])}catch{return!0}}catch{return!0}return!1}(),m=function(e){if(typeof window>`u`||!p)return d(e);try{return d(e)}catch{return!1}};r=function(e){var t=typeof e==`object`&&!!e,n=a.call(e)===`[object Function]`,r=o(e),s=t&&a.call(e)===`[object String]`,d=[];if(!t&&!n&&!r)throw TypeError(`Object.keys called on a non-object`);var f=l&&n;if(s&&e.length>0&&!i.call(e,0))for(var p=0;p<e.length;++p)d.push(String(p));if(r&&e.length>0)for(var h=0;h<e.length;++h)d.push(String(h));else for(var g in e)!(f&&g===`prototype`)&&i.call(e,g)&&d.push(String(g));if(c)for(var _=m(e),v=0;v<u.length;++v)!(_&&u[v]===`constructor`)&&i.call(e,u[v])&&d.push(u[v]);return d}}e.exports=r}),8709:(function(e,t,n){var r=Array.prototype.slice,i=n(64178),a=Object.keys,o=a?function(e){return a(e)}:n(99019),s=Object.keys;o.shim=function(){return Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)}):Object.keys=o,Object.keys||o},e.exports=o}),64178:(function(e){var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r=n===`[object Arguments]`;return r||=n!==`[object Array]`&&typeof e==`object`&&!!e&&typeof e.length==`number`&&e.length>=0&&t.call(e.callee)===`[object Function]`,r}}),88641:(function(e){function t(e,t){if(typeof e!=`string`)return[e];var n=[e];typeof t==`string`||Array.isArray(t)?t={brackets:t}:t||={};var r=t.brackets?Array.isArray(t.brackets)?t.brackets:[t.brackets]:[`{}`,`[]`,`()`],i=t.escape||`___`,a=!!t.flat;r.forEach(function(e){var t=new RegExp([`\\`,e[0],`[^\\`,e[0],`\\`,e[1],`]*\\`,e[1]].join(``)),r=[];function a(t,a,o){var s=n.push(t.slice(e[0].length,-e[1].length))-1;return r.push(s),i+s+i}n.forEach(function(e,r){for(var i,o=0;e!=i;)if(i=e,e=e.replace(t,a),o++>1e4)throw Error(`References have circular dependency. Please, check them.`);n[r]=e}),r=r.reverse(),n=n.map(function(t){return r.forEach(function(n){t=t.replace(RegExp(`(\\`+i+n+`\\`+i+`)`,`g`),e[0]+`$1`+e[1])}),t})});var o=RegExp(`\\`+i+`([0-9]+)\\`+i);function s(e,t,n){for(var r=[],i,a=0;i=o.exec(e);){if(a++>1e4)throw Error(`Circular references in parenthesis`);r.push(e.slice(0,i.index)),r.push(s(t[i[1]],t)),e=e.slice(i.index+i[0].length)}return r.push(e),r}return a?n:s(n[0],n)}function n(e,t){if(t&&t.flat){var n=t&&t.escape||`___`,r=e[0],i;if(!r)return``;for(var a=RegExp(`\\`+n+`([0-9]+)\\`+n),o=0;r!=i;){if(o++>1e4)throw Error(`Circular references in `+e);i=r,r=r.replace(a,s)}return r}return e.reduce(function e(t,n){return Array.isArray(n)&&(n=n.reduce(e,``)),t+n},``);function s(t,n){if(e[n]==null)throw Error(`Reference `+n+`is undefined`);return e[n]}}function r(e,r){return Array.isArray(e)?n(e,r):t(e,r)}r.parse=t,r.stringify=n,e.exports=r}),18863:(function(e,t,n){var r=n(71299);e.exports=i;function i(e){var t;return arguments.length>1&&(e=arguments),typeof e==`string`?e=e.split(/\s/).map(parseFloat):typeof e==`number`&&(e=[e]),e.length&&typeof e[0]==`number`?t=e.length===1?{width:e[0],height:e[0],x:0,y:0}:e.length===2?{width:e[0],height:e[1],x:0,y:0}:{x:e[0],y:e[1],width:e[2]-e[0]||0,height:e[3]-e[1]||0}:e&&(e=r(e,{left:`x l left Left`,top:`y t top Top`,width:`w width W Width`,height:`h height W Width`,bottom:`b bottom Bottom`,right:`r right Right`}),t={x:e.left||0,y:e.top||0},e.width==null?e.right?t.width=e.right-t.x:t.width=0:t.width=e.width,e.height==null?e.bottom?t.height=e.bottom-t.y:t.height=0:t.height=e.height),t}}),95616:(function(e){e.exports=r;var t={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=/([astvzqmhlc])([^astvzqmhlc]*)/gi;function r(e){var r=[];return e.replace(n,function(e,n,i){var o=n.toLowerCase();for(i=a(i),o==`m`&&i.length>2&&(r.push([n].concat(i.splice(0,2))),o=`l`,n=n==`m`?`l`:`L`);;){if(i.length==t[o])return i.unshift(n),r.push(i);if(i.length<t[o])throw Error(`malformed path data`);r.push([n].concat(i.splice(0,t[o])))}}),r}var i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function a(e){var t=e.match(i);return t?t.map(Number):[]}}),25677:(function(e){e.exports=function(e,t){return t||=[0,``],e=String(e),t[0]=parseFloat(e,10),t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||``,t}}),9748:(function(e,t,n){var r=n(90386);(function(){var t,n,i,a,o,s;typeof performance<`u`&&performance!==null&&performance.now?e.exports=function(){return performance.now()}:r!=null&&r.hrtime?(e.exports=function(){return(t()-o)/1e6},n=r.hrtime,t=function(){var e=n();return e[0]*1e9+e[1]},a=t(),s=r.uptime()*1e9,o=a-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return new Date().getTime()-i},i=new Date().getTime())}).call(this)}),71299:(function(e){e.exports=function(e,t,r){var i={},a,o;if(typeof t==`string`&&(t=n(t)),Array.isArray(t)){var s={};for(o=0;o<t.length;o++)s[t[o]]=!0;t=s}for(a in t)t[a]=n(t[a]);var c={};for(a in t){var l=t[a];if(Array.isArray(l))for(o=0;o<l.length;o++){var u=l[o];if(r&&(c[u]=!0),u in e){if(i[a]=e[u],r)for(var d=o;d<l.length;d++)c[l[d]]=!0;break}}else a in e&&(t[a]&&(i[a]=e[a]),r&&(c[a]=!0))}if(r)for(a in e)c[a]||(i[a]=e[a]);return i};var t={};function n(e){return t[e]?t[e]:(typeof e==`string`&&(e=t[e]=e.split(/\s*,\s*|\s+/)),e)}}),38258:(function(e){e.exports=function(e,t,n,r){var i=e[0],a=e[1],o=!1;n===void 0&&(n=0),r===void 0&&(r=t.length);for(var s=r-n,c=0,l=s-1;c<s;l=c++){var u=t[c+n][0],d=t[c+n][1],f=t[l+n][0],p=t[l+n][1];d>a!=p>a&&i<(f-u)*(a-d)/(p-d)+u&&(o=!o)}return o}}),52142:(function(e,t,n){var r=n(69444),i=n(29023),a=n(87263),o=n(11328),s=n(55968),c=n(10670),l=!1,u=i(),d={buildLog:function(e){return e===!0?l=r():e===!1&&(l=!1),l===!1?!1:l.list},epsilon:function(e){return u.epsilon(e)},segments:function(e){var t=a(!0,u,l);return e.regions.forEach(t.addRegion),{segments:t.calculate(e.inverted),inverted:e.inverted}},combine:function(e,t){return{combined:a(!1,u,l).calculate(e.segments,e.inverted,t.segments,t.inverted),inverted1:e.inverted,inverted2:t.inverted}},selectUnion:function(e){return{segments:s.union(e.combined,l),inverted:e.inverted1||e.inverted2}},selectIntersect:function(e){return{segments:s.intersect(e.combined,l),inverted:e.inverted1&&e.inverted2}},selectDifference:function(e){return{segments:s.difference(e.combined,l),inverted:e.inverted1&&!e.inverted2}},selectDifferenceRev:function(e){return{segments:s.differenceRev(e.combined,l),inverted:!e.inverted1&&e.inverted2}},selectXor:function(e){return{segments:s.xor(e.combined,l),inverted:e.inverted1!==e.inverted2}},polygon:function(e){return{regions:o(e.segments,u,l),inverted:e.inverted}},polygonFromGeoJSON:function(e){return c.toPolygon(d,e)},polygonToGeoJSON:function(e){return c.fromPolygon(d,u,e)},union:function(e,t){return f(e,t,d.selectUnion)},intersect:function(e,t){return f(e,t,d.selectIntersect)},difference:function(e,t){return f(e,t,d.selectDifference)},differenceRev:function(e,t){return f(e,t,d.selectDifferenceRev)},xor:function(e,t){return f(e,t,d.selectXor)}};function f(e,t,n){var r=d.segments(e),i=d.segments(t),a=n(d.combine(r,i));return d.polygon(a)}typeof window==`object`&&(window.PolyBool=d),e.exports=d}),69444:(function(e){function t(){var e,t=0,n=!1;function r(t,n){return e.list.push({type:t,data:n?JSON.parse(JSON.stringify(n)):void 0}),e}return e={list:[],segmentId:function(){return t++},checkIntersection:function(e,t){return r(`check`,{seg1:e,seg2:t})},segmentChop:function(e,t){return r(`div_seg`,{seg:e,pt:t}),r(`chop`,{seg:e,pt:t})},statusRemove:function(e){return r(`pop_seg`,{seg:e})},segmentUpdate:function(e){return r(`seg_update`,{seg:e})},segmentNew:function(e,t){return r(`new_seg`,{seg:e,primary:t})},segmentRemove:function(e){return r(`rem_seg`,{seg:e})},tempStatus:function(e,t,n){return r(`temp_status`,{seg:e,above:t,below:n})},rewind:function(e){return r(`rewind`,{seg:e})},status:function(e,t,n){return r(`status`,{seg:e,above:t,below:n})},vert:function(t){return t===n?e:(n=t,r(`vert`,{x:t}))},log:function(e){return typeof e!=`string`&&(e=JSON.stringify(e,!1,`  `)),r(`log`,{txt:e})},reset:function(){return r(`reset`)},selected:function(e){return r(`selected`,{segs:e})},chainStart:function(e){return r(`chain_start`,{seg:e})},chainRemoveHead:function(e,t){return r(`chain_rem_head`,{index:e,pt:t})},chainRemoveTail:function(e,t){return r(`chain_rem_tail`,{index:e,pt:t})},chainNew:function(e,t){return r(`chain_new`,{pt1:e,pt2:t})},chainMatch:function(e){return r(`chain_match`,{index:e})},chainClose:function(e){return r(`chain_close`,{index:e})},chainAddHead:function(e,t){return r(`chain_add_head`,{index:e,pt:t})},chainAddTail:function(e,t){return r(`chain_add_tail`,{index:e,pt:t})},chainConnect:function(e,t){return r(`chain_con`,{index1:e,index2:t})},chainReverse:function(e){return r(`chain_rev`,{index:e})},chainJoin:function(e,t){return r(`chain_join`,{index1:e,index2:t})},done:function(){return r(`done`)}},e}e.exports=t}),29023:(function(e){function t(e){typeof e!=`number`&&(e=1e-10);var t={epsilon:function(t){return typeof t==`number`&&(e=t),e},pointAboveOrOnLine:function(t,n,r){var i=n[0],a=n[1],o=r[0],s=r[1],c=t[0],l=t[1];return(o-i)*(l-a)-(s-a)*(c-i)>=-e},pointBetween:function(t,n,r){var i=t[1]-n[1],a=r[0]-n[0],o=t[0]-n[0],s=r[1]-n[1],c=o*a+i*s;return!(c<e||c-(a*a+s*s)>-e)},pointsSameX:function(t,n){return Math.abs(t[0]-n[0])<e},pointsSameY:function(t,n){return Math.abs(t[1]-n[1])<e},pointsSame:function(e,n){return t.pointsSameX(e,n)&&t.pointsSameY(e,n)},pointsCompare:function(e,n){return t.pointsSameX(e,n)?t.pointsSameY(e,n)?0:e[1]<n[1]?-1:1:e[0]<n[0]?-1:1},pointsCollinear:function(t,n,r){var i=t[0]-n[0],a=t[1]-n[1],o=n[0]-r[0],s=n[1]-r[1];return Math.abs(i*s-o*a)<e},linesIntersect:function(t,n,r,i){var a=n[0]-t[0],o=n[1]-t[1],s=i[0]-r[0],c=i[1]-r[1],l=a*c-o*s;if(Math.abs(l)<e)return!1;var u=t[0]-r[0],d=t[1]-r[1],f=(s*d-c*u)/l,p=(a*d-o*u)/l,m={alongA:0,alongB:0,pt:[t[0]+f*a,t[1]+f*o]};return f<=-e?m.alongA=-2:f<e?m.alongA=-1:f-1<=-e?m.alongA=0:f-1<e?m.alongA=1:m.alongA=2,p<=-e?m.alongB=-2:p<e?m.alongB=-1:p-1<=-e?m.alongB=0:p-1<e?m.alongB=1:m.alongB=2,m},pointInsideRegion:function(t,n){for(var r=t[0],i=t[1],a=n[n.length-1][0],o=n[n.length-1][1],s=!1,c=0;c<n.length;c++){var l=n[c][0],u=n[c][1];u-i>e!=o-i>e&&(a-l)*(i-u)/(o-u)+l-r>e&&(s=!s),a=l,o=u}return s}};return t}e.exports=t}),10670:(function(e){e.exports={toPolygon:function(e,t){function n(t){if(t.length<=0)return e.segments({inverted:!1,regions:[]});function n(t){var n=t.slice(0,t.length-1);return e.segments({inverted:!1,regions:[n]})}for(var r=n(t[0]),i=1;i<t.length;i++)r=e.selectDifference(e.combine(r,n(t[i])));return r}if(t.type===`Polygon`)return e.polygon(n(t.coordinates));if(t.type===`MultiPolygon`){for(var r=e.segments({inverted:!1,regions:[]}),i=0;i<t.coordinates.length;i++)r=e.selectUnion(e.combine(r,n(t.coordinates[i])));return e.polygon(r)}throw Error(`PolyBool: Cannot convert GeoJSON object to PolyBool polygon`)},fromPolygon:function(e,t,n){n=e.polygon(e.segments(n));function r(e,n){return t.pointInsideRegion([(e[0][0]+e[1][0])*.5,(e[0][1]+e[1][1])*.5],n)}function i(e){return{region:e,children:[]}}var a=i(null);function o(e,t){for(var n=0;n<e.children.length;n++){var a=e.children[n];if(r(t,a.region)){o(a,t);return}}for(var s=i(t),n=0;n<e.children.length;n++){var a=e.children[n];r(a.region,t)&&(s.children.push(a),e.children.splice(n,1),n--)}e.children.push(s)}for(var s=0;s<n.regions.length;s++){var c=n.regions[s];c.length<3||o(a,c)}function l(e,t){for(var n=0,r=e[e.length-1][0],i=e[e.length-1][1],a=[],o=0;o<e.length;o++){var s=e[o][0],c=e[o][1];a.push([s,c]),n+=c*r-s*i,r=s,i=c}return n<0!==t&&a.reverse(),a.push([a[0][0],a[0][1]]),a}var u=[];function d(e){var t=[l(e.region,!1)];u.push(t);for(var n=0;n<e.children.length;n++)t.push(f(e.children[n]))}function f(e){for(var t=0;t<e.children.length;t++)d(e.children[t]);return l(e.region,!0)}for(var s=0;s<a.children.length;s++)d(a.children[s]);return u.length<=0?{type:`Polygon`,coordinates:[]}:u.length==1?{type:`Polygon`,coordinates:u[0]}:{type:`MultiPolygon`,coordinates:u}}}}),87263:(function(e,t,n){var r=n(26859);function i(e,t,n){function i(e,t){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:null,below:null},otherFill:null}}function a(e,t,r){return{id:n?n.segmentId():-1,start:e,end:t,myFill:{above:r.myFill.above,below:r.myFill.below},otherFill:null}}var o=r.create();function s(e,n,r,i,a,o){var s=t.pointsCompare(n,a);return s===0?t.pointsSame(r,o)?0:e===i?t.pointAboveOrOnLine(r,i?a:o,i?o:a)?1:-1:e?1:-1:s}function c(e,t){o.insertBefore(e,function(n){return s(e.isStart,e.pt,t,n.isStart,n.pt,n.other.pt)<0})}function l(e,t){var n=r.node({isStart:!0,pt:e.start,seg:e,primary:t,other:null,status:null});return c(n,e.end),n}function u(e,t,n){var i=r.node({isStart:!1,pt:t.end,seg:t,primary:n,other:e,status:null});e.other=i,c(i,e.pt)}function d(e,t){var n=l(e,t);return u(n,e,t),n}function f(e,t){n&&n.segmentChop(e.seg,t),e.other.remove(),e.seg.end=t,e.other.pt=t,c(e.other,e.pt)}function p(e,t){var n=a(t,e.seg.end,e.seg);return f(e,t),d(n,e.primary)}function m(i,a){var s=r.create();function c(e,n){var r=e.seg.start,i=e.seg.end,a=n.seg.start,o=n.seg.end;return t.pointsCollinear(r,a,o)?t.pointsCollinear(i,a,o)||t.pointAboveOrOnLine(i,a,o)?1:-1:t.pointAboveOrOnLine(r,a,o)?1:-1}function l(e){return s.findTransition(function(t){return c(e,t.ev)>0})}function u(e,r){var i=e.seg,a=r.seg,o=i.start,s=i.end,c=a.start,l=a.end;n&&n.checkIntersection(i,a);var u=t.linesIntersect(o,s,c,l);if(u===!1){if(!t.pointsCollinear(o,s,c)||t.pointsSame(o,l)||t.pointsSame(s,c))return!1;var d=t.pointsSame(o,c),f=t.pointsSame(s,l);if(d&&f)return r;var m=!d&&t.pointBetween(o,c,l),h=!f&&t.pointBetween(s,c,l);if(d)return h?p(r,s):p(e,l),r;m&&(f||(h?p(r,s):p(e,l)),p(r,o))}else u.alongA===0&&(u.alongB===-1?p(e,c):u.alongB===0?p(e,u.pt):u.alongB===1&&p(e,l)),u.alongB===0&&(u.alongA===-1?p(r,o):u.alongA===0?p(r,u.pt):u.alongA===1&&p(r,s));return!1}for(var d=[];!o.isEmpty();){var f=o.getHead();if(n&&n.vert(f.pt[0]),f.isStart){n&&n.segmentNew(f.seg,f.primary);var m=l(f),h=m.before?m.before.ev:null,g=m.after?m.after.ev:null;n&&n.tempStatus(f.seg,h?h.seg:!1,g?g.seg:!1);function t(){if(h){var e=u(f,h);if(e)return e}return g?u(f,g):!1}var _=t();if(_){if(e){var v=f.seg.myFill.below===null?!0:f.seg.myFill.above!==f.seg.myFill.below;v&&(_.seg.myFill.above=!_.seg.myFill.above)}else _.seg.otherFill=f.seg.myFill;n&&n.segmentUpdate(_.seg),f.other.remove(),f.remove()}if(o.getHead()!==f){n&&n.rewind(f.seg);continue}if(e){var v=f.seg.myFill.below===null?!0:f.seg.myFill.above!==f.seg.myFill.below;g?f.seg.myFill.below=g.seg.myFill.above:f.seg.myFill.below=i,v?f.seg.myFill.above=!f.seg.myFill.below:f.seg.myFill.above=f.seg.myFill.below}else if(f.seg.otherFill===null){var y=g?f.primary===g.primary?g.seg.otherFill.above:g.seg.myFill.above:f.primary?a:i;f.seg.otherFill={above:y,below:y}}n&&n.status(f.seg,h?h.seg:!1,g?g.seg:!1),f.other.status=m.insert(r.node({ev:f}))}else{var b=f.status;if(b===null)throw Error(`PolyBool: Zero-length segment detected; your epsilon is probably too small or too large`);if(s.exists(b.prev)&&s.exists(b.next)&&u(b.prev.ev,b.next.ev),n&&n.statusRemove(b.ev.seg),b.remove(),!f.primary){var x=f.seg.myFill;f.seg.myFill=f.seg.otherFill,f.seg.otherFill=x}d.push(f.seg)}o.getHead().remove()}return n&&n.done(),d}return e?{addRegion:function(e){for(var n,r=e[e.length-1],a=0;a<e.length;a++){n=r,r=e[a];var o=t.pointsCompare(n,r);o!==0&&d(i(o<0?n:r,o<0?r:n),!0)}},calculate:function(e){return m(e,!1)}}:{calculate:function(e,t,n,r){return e.forEach(function(e){d(a(e.start,e.end,e),!0)}),n.forEach(function(e){d(a(e.start,e.end,e),!1)}),m(t,r)}}}e.exports=i}),26859:(function(e){e.exports={create:function(){var e={root:{root:!0,next:null},exists:function(t){return!(t===null||t===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(t,n){for(var r=e.root,i=e.root.next;i!==null;){if(n(i)){t.prev=i.prev,t.next=i,i.prev.next=t,i.prev=t;return}r=i,i=i.next}r.next=t,t.prev=r,t.next=null},findTransition:function(t){for(var n=e.root,r=e.root.next;r!==null&&!t(r);)n=r,r=r.next;return{before:n===e.root?null:n,after:r,insert:function(e){return e.prev=n,e.next=r,n.next=e,r!==null&&(r.prev=e),e}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}}}),11328:(function(e){function t(e,t,n){var r=[],i=[];return e.forEach(function(e){var a=e.start,o=e.end;if(t.pointsSame(a,o)){console.warn(`PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large`);return}n&&n.chainStart(e);var s={index:0,matches_head:!1,matches_pt1:!1},c={index:0,matches_head:!1,matches_pt1:!1},l=s;function u(e,t,n){return l.index=e,l.matches_head=t,l.matches_pt1=n,l===s?(l=c,!1):(l=null,!0)}for(var d=0;d<r.length;d++){var f=r[d],p=f[0];f[1];var m=f[f.length-1];if(f[f.length-2],t.pointsSame(p,a)){if(u(d,!0,!0))break}else if(t.pointsSame(p,o)){if(u(d,!0,!1))break}else if(t.pointsSame(m,a)){if(u(d,!1,!0))break}else if(t.pointsSame(m,o)&&u(d,!1,!1))break}if(l===s){r.push([a,o]),n&&n.chainNew(a,o);return}if(l===c){n&&n.chainMatch(s.index);var h=s.index,g=s.matches_pt1?o:a,_=s.matches_head,f=r[h],v=_?f[0]:f[f.length-1],y=_?f[1]:f[f.length-2],b=_?f[f.length-1]:f[0],x=_?f[f.length-2]:f[1];if(t.pointsCollinear(y,v,g)&&(_?(n&&n.chainRemoveHead(s.index,g),f.shift()):(n&&n.chainRemoveTail(s.index,g),f.pop()),v=y),t.pointsSame(b,g)){r.splice(h,1),t.pointsCollinear(x,b,v)&&(_?(n&&n.chainRemoveTail(s.index,v),f.pop()):(n&&n.chainRemoveHead(s.index,v),f.shift())),n&&n.chainClose(s.index),i.push(f);return}_?(n&&n.chainAddHead(s.index,g),f.unshift(g)):(n&&n.chainAddTail(s.index,g),f.push(g));return}function S(e){n&&n.chainReverse(e),r[e].reverse()}function C(e,i){var a=r[e],o=r[i],s=a[a.length-1],c=a[a.length-2],l=o[0],u=o[1];t.pointsCollinear(c,s,l)&&(n&&n.chainRemoveTail(e,s),a.pop(),s=c),t.pointsCollinear(s,l,u)&&(n&&n.chainRemoveHead(i,l),o.shift()),n&&n.chainJoin(e,i),r[e]=a.concat(o),r.splice(i,1)}var w=s.index,T=c.index;n&&n.chainConnect(w,T);var E=r[w].length<r[T].length;s.matches_head?c.matches_head?E?(S(w),C(w,T)):(S(T),C(T,w)):C(T,w):c.matches_head?C(w,T):E?(S(w),C(T,w)):(S(T),C(w,T))}),i}e.exports=t}),55968:(function(e){function t(e,t,n){var r=[];return e.forEach(function(e){var i=(e.myFill.above?8:0)+(e.myFill.below?4:0)+(e.otherFill&&e.otherFill.above?2:0)+(e.otherFill&&e.otherFill.below?1:0);t[i]!==0&&r.push({id:n?n.segmentId():-1,start:e.start,end:e.end,myFill:{above:t[i]===1,below:t[i]===2},otherFill:null})}),n&&n.selected(r),r}e.exports={union:function(e,n){return t(e,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],n)},intersect:function(e,n){return t(e,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],n)},difference:function(e,n){return t(e,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],n)},differenceRev:function(e,n){return t(e,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],n)},xor:function(e,n){return t(e,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],n)}}}),14847:(function(e,t,n){var r=n(21630).Transform,i=n(90715);function a(){r.call(this,{readableObjectMode:!0})}a.prototype=Object.create(r.prototype),a.prototype.constructor=a,i(a.prototype),t.OF=function(e,t,n){for(var r=t,i=0;i<n.length;)if(e[r++]!==n[i++])return!1;return!0},t.eG=function(e,t){var n=[],r=0;if(t&&t===`hex`)for(;r<e.length;)n.push(parseInt(e.slice(r,r+2),16)),r+=2;else for(;r<e.length;r++)n.push(e.charCodeAt(r)&255);return n},t.mP=function(e,t){return e[t]|e[t+1]<<8},t.n8=function(e,t){return e[t+1]|e[t]<<8},t.nm=function(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]*16777216},t.Ag=function(e,t){return e[t+3]|e[t+2]<<8|e[t+1]<<16|e[t]*16777216};function o(e,t,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack||``,this.name=this.constructor.name,this.message=e,t&&(this.code=t),n&&(this.statusCode=n)}o.prototype=Object.create(Error.prototype),o.prototype.constructor=o}),71371:(function(e){function t(e,t){var n=Error(e);return n.code=t,n}function n(e){try{return decodeURIComponent(escape(e))}catch{return e}}function r(e,n,r){this.input=e.subarray(n,r),this.start=n;var i=String.fromCharCode.apply(null,this.input.subarray(0,4));if(i!==`II*\0`&&i!==`MM\0*`)throw t(`invalid TIFF signature`,`EBADDATA`);this.big_endian=i[0]===`M`}r.prototype.each=function(e){for(this.aborted=!1,this.ifds_to_read=[{id:0,offset:this.read_uint32(4)}];this.ifds_to_read.length>0&&!this.aborted;){var t=this.ifds_to_read.shift();t.offset&&this.scan_ifd(t.id,t.offset,e)}},r.prototype.read_uint16=function(e){var n=this.input;if(e+2>n.length)throw t(`unexpected EOF`,`EBADDATA`);return this.big_endian?n[e]*256+n[e+1]:n[e]+n[e+1]*256},r.prototype.read_uint32=function(e){var n=this.input;if(e+4>n.length)throw t(`unexpected EOF`,`EBADDATA`);return this.big_endian?n[e]*16777216+n[e+1]*65536+n[e+2]*256+n[e+3]:n[e]+n[e+1]*256+n[e+2]*65536+n[e+3]*16777216},r.prototype.is_subifd_link=function(e,t){return e===0&&t===34665||e===0&&t===34853||e===34665&&t===40965},r.prototype.exif_format_length=function(e){switch(e){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},r.prototype.exif_format_read=function(e,t){var n;switch(e){case 1:case 2:return n=this.input[t],n;case 6:return n=this.input[t],n|(n&128)*33554430;case 3:return n=this.read_uint16(t),n;case 8:return n=this.read_uint16(t),n|(n&32768)*131070;case 4:return n=this.read_uint32(t),n;case 9:return n=this.read_uint32(t),n|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},r.prototype.scan_ifd=function(e,r,i){var a=this.read_uint16(r);r+=2;for(var o=0;o<a;o++){var s=this.read_uint16(r),c=this.read_uint16(r+2),l=this.read_uint32(r+4),u=this.exif_format_length(c),d=l*u,f=d<=4?r+8:this.read_uint32(r+8),p=!1;if(f+d>this.input.length)throw t(`unexpected EOF`,`EBADDATA`);for(var m=[],h=f,g=0;g<l;g++,h+=u){var _=this.exif_format_read(c,h);if(_===null){m=null;break}m.push(_)}if(Array.isArray(m)&&c===2&&(m=n(String.fromCharCode.apply(null,m)),m&&m[m.length-1]===`\0`&&(m=m.slice(0,-1))),this.is_subifd_link(e,s)&&Array.isArray(m)&&Number.isInteger(m[0])&&m[0]>0&&(this.ifds_to_read.push({id:s,offset:m[0]}),p=!0),i({is_big_endian:this.big_endian,ifd:e,tag:s,format:c,count:l,entry_offset:r+this.start,data_length:d,data_offset:f+this.start,value:m,is_subifd_link:p})===!1){this.aborted=!0;return}r+=12}e===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(r)})},e.exports.ExifParser=r,e.exports.get_orientation=function(e){var t=0;try{return new r(e,0,e.length).each(function(e){if(e.ifd===0&&e.tag===274&&Array.isArray(e.value))return t=e.value[0],!1}),t}catch{return-1}}}),76767:(function(e,t,n){var r=n(14847).n8,i=n(14847).Ag;function a(e,t){if(e.length<4+t)return null;var n=i(e,t);return e.length<n+t||n<8?null:{boxtype:String.fromCharCode.apply(null,e.slice(t+4,t+8)),data:e.slice(t+8,t+n),end:t+n}}e.exports.unbox=a;function o(e,t){for(var n=0;;){var r=a(e,n);if(!r)break;switch(r.boxtype){case`ispe`:t.sizes.push({width:i(r.data,4),height:i(r.data,8)});break;case`irot`:t.transforms.push({type:`irot`,value:r.data[0]&3});break;case`imir`:t.transforms.push({type:`imir`,value:r.data[0]&1});break}n=r.end}}function s(e,t,n){for(var r=0,i=0;i<n;i++)r=r*256+(e[t+i]||0);return r}function c(e,t){for(var n=e[4]>>4&15,i=e[4]&15,a=e[5]>>4&15,o=r(e,6),c=8,l=0;l<o;l++){var u=r(e,c);c+=2;var d=r(e,c);c+=2;var f=s(e,c,a);c+=a;var p=r(e,c);if(c+=2,d===0&&p===1){var m=s(e,c,n),h=s(e,c+n,i);t.item_loc[u]={length:h,offset:m+f}}c+=p*(n+i)}}function l(e,t){for(var n=r(e,4),i=6,o=0;o<n;o++){var s=a(e,i);if(!s)break;if(s.boxtype===`infe`){for(var c=r(s.data,4),l=``,u=8;u<s.data.length&&s.data[u];u++)l+=String.fromCharCode(s.data[u]);t.item_inf[l]=c}i=s.end}}function u(e,t){for(var n=0;;){var r=a(e,n);if(!r)break;r.boxtype===`ipco`&&o(r.data,t),n=r.end}}function d(e,t){for(var n=4;;){var r=a(e,n);if(!r)break;r.boxtype===`iprp`&&u(r.data,t),r.boxtype===`iloc`&&c(r.data,t),r.boxtype===`iinf`&&l(r.data,t),n=r.end}}function f(e){var t=e.reduce(function(e,t){return e.width>t.width||e.width===t.width&&e.height>t.height?e:t}),n=e.reduce(function(e,t){return e.height>t.height||e.height===t.height&&e.width>t.width?e:t});return t.width>n.height||t.width===n.height&&t.height>n.width?t:n}e.exports.readSizeFromMeta=function(e){var t={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(d(e,t),t.sizes.length){var n=f(t.sizes),r=1;t.transforms.forEach(function(e){var t={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},n={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(e.type===`imir`&&(e.value===0?r=n[r]:(r=n[r],r=t[r],r=t[r])),e.type===`irot`)for(var i=0;i<e.value;i++)r=t[r]});var i=null;return t.item_inf.Exif&&(i=t.item_loc[t.item_inf.Exif]),{width:n.width,height:n.height,orientation:t.transforms.length?r:null,variants:t.sizes,exif_location:i}}},e.exports.getMimeType=function(e){var t=String.fromCharCode.apply(null,e.slice(0,4)),n={};n[t]=!0;for(var r=8;r<e.length;r+=4)n[String.fromCharCode.apply(null,e.slice(r,r+4))]=!0;if(!(!n.mif1&&!n.msf1&&!n.miaf))return t===`avif`||t===`avis`||t===`avio`?{type:`avif`,mime:`image/avif`}:t===`heic`||t===`heix`?{type:`heic`,mime:`image/heic`}:t===`hevc`||t===`hevx`?{type:`heic`,mime:`image/heic-sequence`}:n.avif||n.avis?{type:`avif`,mime:`image/avif`}:n.heic||n.heix||n.hevc||n.hevx||n.heis?n.msf1?{type:`heif`,mime:`image/heif-sequence`}:{type:`heif`,mime:`image/heif`}:{type:`avif`,mime:`image/avif`}}}),24461:(function(e,t,n){var r=n(14847).eG,i=n(14847).OF,a=n(14847).Ag,o=n(76767),s=n(71371),c=r(`ftyp`);e.exports=function(e){if(i(e,4,c)){var t=o.unbox(e,0);if(t){var n=o.getMimeType(t.data);if(n){for(var r,l=t.end;;){var u=o.unbox(e,l);if(!u)break;if(l=u.end,u.boxtype===`mdat`)return;if(u.boxtype===`meta`){r=u.data;break}}if(r){var d=o.readSizeFromMeta(r);if(d){var f={width:d.width,height:d.height,type:n.type,mime:n.mime,wUnits:`px`,hUnits:`px`};if(d.variants.length>1&&(f.variants=d.variants),d.orientation&&(f.orientation=d.orientation),d.exif_location&&d.exif_location.offset+d.exif_location.length<=e.length){var p=a(e,d.exif_location.offset),m=e.slice(d.exif_location.offset+p+4,d.exif_location.offset+d.exif_location.length),h=s.get_orientation(m);h>0&&(f.orientation=h)}return f}}}}}}}),2504:(function(e,t,n){var r=n(14847).eG,i=n(14847).OF,a=n(14847).mP,o=r(`BM`);e.exports=function(e){if(!(e.length<26)&&i(e,0,o))return{width:a(e,18),height:a(e,22),type:`bmp`,mime:`image/bmp`,wUnits:`px`,hUnits:`px`}}}),47342:(function(e,t,n){var r=n(14847).eG,i=n(14847).OF,a=n(14847).mP,o=r(`GIF87a`),s=r(`GIF89a`);e.exports=function(e){if(!(e.length<10)&&!(!i(e,0,o)&&!i(e,0,s)))return{width:a(e,6),height:a(e,8),type:`gif`,mime:`image/gif`,wUnits:`px`,hUnits:`px`}}}),31355:(function(e,t,n){var r=n(14847).mP,i=0,a=1,o=16;e.exports=function(e){var t=r(e,0),n=r(e,2),s=r(e,4);if(!(t!==i||n!==a||!s)){for(var c=[],l={width:0,height:0},u=0;u<s;u++){var d=e[6+o*u]||256,f=e[6+o*u+1]||256,p={width:d,height:f};c.push(p),(d>l.width||f>l.height)&&(l=p)}return{width:l.width,height:l.height,variants:c,type:`ico`,mime:`image/x-icon`,wUnits:`px`,hUnits:`px`}}}}),54261:(function(e,t,n){var r=n(14847).n8,i=n(14847).eG,a=n(14847).OF,o=n(71371),s=i(`Exif\0\0`);e.exports=function(e){if(!(e.length<2)&&!(e[0]!==255||e[1]!==216||e[2]!==255))for(var t=2;;){for(;;){if(e.length-t<2)return;if(e[t++]===255)break}for(var n=e[t++],i;n===255;)n=e[t++];if(208<=n&&n<=217||n===1)i=0;else if(192<=n&&n<=254){if(e.length-t<2)return;i=r(e,t)-2,t+=2}else return;if(n===217||n===218)return;var c;if(n===225&&i>=10&&a(e,t,s)&&(c=o.get_orientation(e.slice(t+6,t+i))),i>=5&&192<=n&&n<=207&&n!==196&&n!==200&&n!==204){if(e.length-t<i)return;var l={width:r(e,t+3),height:r(e,t+1),type:`jpg`,mime:`image/jpeg`,wUnits:`px`,hUnits:`px`};return c>0&&(l.orientation=c),l}t+=i}}}),6303:(function(e,t,n){var r=n(14847).eG,i=n(14847).OF,a=n(14847).Ag,o=r(`PNG\r

`),s=r(`IHDR`);e.exports=function(e){if(!(e.length<24)&&i(e,0,o)&&i(e,12,s))return{width:a(e,16),height:a(e,20),type:`png`,mime:`image/png`,wUnits:`px`,hUnits:`px`}}}),38689:(function(e,t,n){var r=n(14847).eG,i=n(14847).OF,a=n(14847).Ag,o=r(`8BPS\0`);e.exports=function(e){if(!(e.length<22)&&i(e,0,o))return{width:a(e,18),height:a(e,14),type:`psd`,mime:`image/vnd.adobe.photoshop`,wUnits:`px`,hUnits:`px`}}}),6881:(function(e){function t(e){return e===32||e===9||e===13||e===10}function n(e){return typeof e==`number`&&isFinite(e)&&e>0}function r(e){var n=0,r=e.length;for(e[0]===239&&e[1]===187&&e[2]===191&&(n=3);n<r&&t(e[n]);)n++;return n===r?!1:e[n]===60}var i=/<[-_.:a-zA-Z0-9][^>]*>/,a=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,o=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,s=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,c=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,l=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function u(e){var t=e.match(o),n=e.match(s),r=e.match(c);return{width:t&&(t[1]||t[2]),height:n&&(n[1]||n[2]),viewbox:r&&(r[1]||r[2])}}function d(e){return l.test(e)?e.match(l)[0]:`px`}e.exports=function(e){if(r(e)){for(var t=``,o=0;o<e.length;o++)t+=String.fromCharCode(e[o]);var s=(t.match(i)||[``])[0];if(a.test(s)){var c=u(s),l=parseFloat(c.width),f=parseFloat(c.height);if(c.width&&c.height)return!n(l)||!n(f)?void 0:{width:l,height:f,type:`svg`,mime:`image/svg+xml`,wUnits:d(c.width),hUnits:d(c.height)};var p=(c.viewbox||``).split(` `),m={width:p[2],height:p[3]},h=parseFloat(m.width),g=parseFloat(m.height);if(!(!n(h)||!n(g))&&d(m.width)===d(m.height)){var _=h/g;return c.width?n(l)?{width:l,height:l/_,type:`svg`,mime:`image/svg+xml`,wUnits:d(c.width),hUnits:d(c.width)}:void 0:c.height?n(f)?{width:f*_,height:f,type:`svg`,mime:`image/svg+xml`,wUnits:d(c.height),hUnits:d(c.height)}:void 0:{width:h,height:g,type:`svg`,mime:`image/svg+xml`,wUnits:d(m.width),hUnits:d(m.height)}}}}}}),66278:(function(e,t,n){var r=n(14847).eG,i=n(14847).OF,a=n(14847).mP,o=n(14847).n8,s=n(14847).nm,c=n(14847).Ag,l=r(`II*\0`),u=r(`MM\0*`);function d(e,t,n){return n?o(e,t):a(e,t)}function f(e,t,n){return n?c(e,t):s(e,t)}function p(e,t,n){var r=d(e,t+2,n);return f(e,t+4,n)!==1||r!==3&&r!==4?null:r===3?d(e,t+8,n):f(e,t+8,n)}e.exports=function(e){if(!(e.length<8)&&!(!i(e,0,l)&&!i(e,0,u))){var t=e[0]===77,n=f(e,4,t)-8;if(!(n<0)){var r=n+8;if(!(e.length-r<2)){var a=d(e,r+0,t)*12;if(!(a<=0)&&(r+=2,!(e.length-r<a))){var o,s,c,m;for(o=0;o<a;o+=12)m=d(e,r+o,t),m===256?s=p(e,r+o,t):m===257&&(c=p(e,r+o,t));if(s&&c)return{width:s,height:c,type:`tiff`,mime:`image/tiff`,wUnits:`px`,hUnits:`px`}}}}}}}),90784:(function(e,t,n){var r=n(14847).eG,i=n(14847).OF,a=n(14847).mP,o=n(14847).nm,s=n(71371),c=r(`RIFF`),l=r(`WEBP`);function u(e,t){if(!(e[t+3]!==157||e[t+4]!==1||e[t+5]!==42))return{width:a(e,t+6)&16383,height:a(e,t+8)&16383,type:`webp`,mime:`image/webp`,wUnits:`px`,hUnits:`px`}}function d(e,t){if(e[t]===47){var n=o(e,t+1);return{width:(n&16383)+1,height:(n>>14&16383)+1,type:`webp`,mime:`image/webp`,wUnits:`px`,hUnits:`px`}}}function f(e,t){return{width:(e[t+6]<<16|e[t+5]<<8|e[t+4])+1,height:(e[t+9]<<t|e[t+8]<<8|e[t+7])+1,type:`webp`,mime:`image/webp`,wUnits:`px`,hUnits:`px`}}e.exports=function(e){if(!(e.length<16)&&!(!i(e,0,c)&&!i(e,8,l))){var t=12,n=null,r=0,a=o(e,4)+8;if(!(a>e.length)){for(;t+8<a;){if(e[t]===0){t++;continue}var p=String.fromCharCode.apply(null,e.slice(t,t+4)),m=o(e,t+4);p===`VP8 `&&m>=10?n||=u(e,t+8):p===`VP8L`&&m>=9?n||=d(e,t+8):p===`VP8X`&&m>=10?n||=f(e,t+8):p===`EXIF`&&(r=s.get_orientation(e.slice(t+8,t+8+m)),t=1/0),t+=8+m}if(n)return r>0&&(n.orientation=r),n}}}}),91497:(function(e,t,n){e.exports={avif:n(24461),bmp:n(2504),gif:n(47342),ico:n(31355),jpeg:n(54261),png:n(6303),psd:n(38689),svg:n(6881),tiff:n(66278),webp:n(90784)}}),33575:(function(e,t,n){var r=n(91497);function i(e){for(var t=Object.keys(r),n=0;n<t.length;n++){var i=r[t[n]](e);if(i)return i}return null}e.exports=function(e){return i(e)},e.exports.parsers=r}),90386:(function(e){var t=e.exports={},n,r;function i(){throw Error(`setTimeout has not been defined`)}function a(){throw Error(`clearTimeout has not been defined`)}(function(){try{n=typeof setTimeout==`function`?setTimeout:i}catch{n=i}try{r=typeof clearTimeout==`function`?clearTimeout:a}catch{r=a}})();function o(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch{try{return n.call(null,e,0)}catch{return n.call(this,e,0)}}}function s(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch{try{return r.call(null,e)}catch{return r.call(this,e)}}}var c=[],l=!1,u,d=-1;function f(){!l||!u||(l=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!l){var e=o(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,s(e)}}t.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),c.length===1&&!l&&o(p)};function m(e,t){this.fun=e,this.array=t}m.prototype.run=function(){this.fun.apply(null,this.array)},t.title=`browser`,t.browser=!0,t.env={},t.argv=[],t.version=``,t.versions={};function h(){}t.on=h,t.addListener=h,t.once=h,t.off=h,t.removeListener=h,t.removeAllListeners=h,t.emit=h,t.prependListener=h,t.prependOnceListener=h,t.listeners=function(e){return[]},t.binding=function(e){throw Error(`process.binding is not supported`)},t.cwd=function(){return`/`},t.chdir=function(e){throw Error(`process.chdir is not supported`)},t.umask=function(){return 0}}),5877:(function(e,t,n){for(var r=n(9748),i=typeof window>`u`?n.g:window,a=[`moz`,`webkit`],o=`AnimationFrame`,s=i[`request`+o],c=i[`cancel`+o]||i[`cancelRequest`+o],l=0;!s&&l<a.length;l++)s=i[a[l]+`Request`+o],c=i[a[l]+`Cancel`+o]||i[a[l]+`CancelRequest`+o];if(!s||!c){var u=0,d=0,f=[],p=1e3/60;s=function(e){if(f.length===0){var t=r(),n=Math.max(0,p-(t-u));u=n+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},c=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){c.apply(i,arguments)},e.exports.polyfill=function(e){e||=i,e.requestAnimationFrame=s,e.cancelAnimationFrame=c}}),3593:(function(e,t,n){var r=n(21527),i=n(25075),a=n(93447),o=n(71299),s=n(56131),c=n(30120),l=n(57060),u=l.float32,d=l.fract32;e.exports=p;var f=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function p(e,t){if(typeof e==`function`?(t||={},t.regl=e):t=e,t.length&&(t.positions=t),e=t.regl,!e.hasExtension(`ANGLE_instanced_arrays`))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var n=e._gl,l,p,m,h,g,_,v={color:`black`,capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},y=[];return h=e.buffer({usage:`dynamic`,type:`uint8`,data:new Uint8Array}),p=e.buffer({usage:`dynamic`,type:`float`,data:new Uint8Array}),m=e.buffer({usage:`dynamic`,type:`float`,data:new Uint8Array}),g=e.buffer({usage:`dynamic`,type:`float`,data:new Uint8Array}),_=e.buffer({usage:`static`,type:`float`,data:f}),C(t),l=e({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:e.prop(`range`),lineWidth:e.prop(`lineWidth`),capSize:e.prop(`capSize`),opacity:e.prop(`opacity`),scale:e.prop(`scale`),translate:e.prop(`translate`),scaleFract:e.prop(`scaleFract`),translateFract:e.prop(`translateFract`),viewport:function(e,t){return[t.viewport.x,t.viewport.y,e.viewportWidth,e.viewportHeight]}},attributes:{color:{buffer:h,offset:function(e,t){return t.offset*4},divisor:1},position:{buffer:p,offset:function(e,t){return t.offset*8},divisor:1},positionFract:{buffer:m,offset:function(e,t){return t.offset*8},divisor:1},error:{buffer:g,offset:function(e,t){return t.offset*16},divisor:1},direction:{buffer:_,stride:24,offset:0},lineOffset:{buffer:_,stride:24,offset:8},capOffset:{buffer:_,stride:24,offset:16}},primitive:`triangles`,blend:{enable:!0,color:[0,0,0,0],equation:{rgb:`add`,alpha:`add`},func:{srcRGB:`src alpha`,dstRGB:`one minus src alpha`,srcAlpha:`one minus dst alpha`,dstAlpha:`one`}},depth:{enable:!1},scissor:{enable:!0,box:e.prop(`viewport`)},viewport:e.prop(`viewport`),stencil:!1,instances:e.prop(`count`),count:f.length}),s(b,{update:C,draw:x,destroy:w,regl:e,gl:n,canvas:n.canvas,groups:y}),b;function b(e){e?C(e):e===null&&w(),x()}function x(t){if(typeof t==`number`)return S(t);t&&!Array.isArray(t)&&(t=[t]),e._refresh(),y.forEach(function(e,n){if(e){if(t&&(t[n]?e.draw=!0:e.draw=!1),!e.draw){e.draw=!0;return}S(n)}})}function S(e){typeof e==`number`&&(e=y[e]),e!=null&&e&&e.count&&e.color&&e.opacity&&e.positions&&e.positions.length>1&&(e.scaleRatio=[e.scale[0]*e.viewport.width,e.scale[1]*e.viewport.height],l(e),e.after&&e.after(e))}function C(e){if(e){e.length==null?Array.isArray(e)||(e=[e]):typeof e[0]==`number`&&(e=[{positions:e}]);var t=0,l=0;if(b.groups=y=e.map(function(e,u){var f=y[u];if(e)typeof e==`function`?e={after:e}:typeof e[0]==`number`&&(e={positions:e});else return f;return e=o(e,{color:`color colors fill`,capSize:`capSize cap capsize cap-size`,lineWidth:`lineWidth line-width width line thickness`,opacity:`opacity alpha`,range:`range dataBox`,viewport:`viewport viewBox`,errors:`errors error`,positions:`positions position data points`}),f||(y[u]=f={id:u,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},e=s({},v,e)),a(f,e,[{lineWidth:function(e){return e*.5},capSize:function(e){return e*.5},opacity:parseFloat,errors:function(e){return e=c(e),l+=e.length,e},positions:function(e,n){return e=c(e,`float64`),n.count=Math.floor(e.length/2),n.bounds=r(e,2),n.offset=t,t+=n.count,e}},{color:function(e,t){var n=t.count;if(e||=`transparent`,!Array.isArray(e)||typeof e[0]==`number`){var r=e;e=Array(n);for(var a=0;a<n;a++)e[a]=r}if(e.length<n)throw Error(`Not enough colors`);for(var o=new Uint8Array(n*4),s=0;s<n;s++){var c=i(e[s],`uint8`);o.set(c,s*4)}return o},range:function(e,t,n){var r=t.bounds;return e||=r,t.scale=[1/(e[2]-e[0]),1/(e[3]-e[1])],t.translate=[-e[0],-e[1]],t.scaleFract=d(t.scale),t.translateFract=d(t.translate),e},viewport:function(e){var t;return Array.isArray(e)?t={x:e[0],y:e[1],width:e[2]-e[0],height:e[3]-e[1]}:e?(t={x:e.x||e.left||0,y:e.y||e.top||0},e.right?t.width=e.right-t.x:t.width=e.w||e.width||0,e.bottom?t.height=e.bottom-t.y:t.height=e.h||e.height||0):t={x:0,y:0,width:n.drawingBufferWidth,height:n.drawingBufferHeight},t}}]),f}),t||l){var f=y.reduce(function(e,t,n){return e+(t?t.count:0)},0),_=new Float64Array(f*2),x=new Uint8Array(f*4),S=new Float32Array(f*4);y.forEach(function(e,t){if(e){var n=e.positions,r=e.count,i=e.offset,a=e.color,o=e.errors;r&&(x.set(a,i*4),S.set(o,i*4),_.set(n,i*2))}});var C=u(_);p(C);var w=d(_,C);m(w),h(x),g(S)}}}function w(){p.destroy(),m.destroy(),h.destroy(),g.destroy(),_.destroy()}}}),46075:(function(e,t,n){var r=n(25075),i=n(21527),a=n(56131),o=n(56068),s=n(71299),c=n(30120),l=n(11474),u=n(54),d=n(57060),f=d.float32,p=d.fract32,m=n(83522),h=n(18863),g=n(6851);e.exports=_;function _(e,t){if(!(this instanceof _))return new _(e,t);if(typeof e==`function`?(t||={},t.regl=e):t=e,t.length&&(t.positions=t),e=t.regl,!e.hasExtension(`ANGLE_instanced_arrays`))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=e._gl,this.regl=e,this.passes=[],this.shaders=_.shaders.has(e)?_.shaders.get(e):_.shaders.set(e,_.createShaders(e)).get(e),this.update(t)}_.dashMult=2,_.maxPatternLength=256,_.precisionThreshold=3e6,_.maxPoints=1e4,_.maxLines=2048,_.shaders=new m,_.createShaders=function(e){var t=e.buffer({usage:`static`,type:`float`,data:[0,1,0,0,1,1,1,0]}),n={primitive:`triangle strip`,instances:e.prop(`count`),count:4,offset:0,uniforms:{miterMode:function(e,t){return t.join===`round`?2:1},miterLimit:e.prop(`miterLimit`),scale:e.prop(`scale`),scaleFract:e.prop(`scaleFract`),translateFract:e.prop(`translateFract`),translate:e.prop(`translate`),thickness:e.prop(`thickness`),dashTexture:e.prop(`dashTexture`),opacity:e.prop(`opacity`),pixelRatio:e.context(`pixelRatio`),id:e.prop(`id`),dashLength:e.prop(`dashLength`),viewport:function(e,t){return[t.viewport.x,t.viewport.y,e.viewportWidth,e.viewportHeight]},depth:e.prop(`depth`)},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:`add`,alpha:`add`},func:{srcRGB:`src alpha`,dstRGB:`one minus src alpha`,srcAlpha:`one minus dst alpha`,dstAlpha:`one`}},depth:{enable:function(e,t){return!t.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:e.prop(`viewport`)},viewport:e.prop(`viewport`)},r=e(a({vert:o([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:o([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:t,divisor:0,stride:8,offset:0},lineTop:{buffer:t,divisor:0,stride:8,offset:4},aCoord:{buffer:e.prop(`positionBuffer`),stride:8,offset:8,divisor:1},bCoord:{buffer:e.prop(`positionBuffer`),stride:8,offset:16,divisor:1},aCoordFract:{buffer:e.prop(`positionFractBuffer`),stride:8,offset:8,divisor:1},bCoordFract:{buffer:e.prop(`positionFractBuffer`),stride:8,offset:16,divisor:1},color:{buffer:e.prop(`colorBuffer`),stride:4,offset:0,divisor:1}}},n)),i;try{i=e(a({cull:{enable:!0,face:`back`},vert:o([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:o([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:t,divisor:0,stride:8,offset:0},lineTop:{buffer:t,divisor:0,stride:8,offset:4},aColor:{buffer:e.prop(`colorBuffer`),stride:4,offset:0,divisor:1},bColor:{buffer:e.prop(`colorBuffer`),stride:4,offset:4,divisor:1},prevCoord:{buffer:e.prop(`positionBuffer`),stride:8,offset:0,divisor:1},aCoord:{buffer:e.prop(`positionBuffer`),stride:8,offset:8,divisor:1},bCoord:{buffer:e.prop(`positionBuffer`),stride:8,offset:16,divisor:1},nextCoord:{buffer:e.prop(`positionBuffer`),stride:8,offset:24,divisor:1}}},n))}catch{i=r}return{fill:e({primitive:`triangle`,elements:function(e,t){return t.triangles},offset:0,vert:o([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:o([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:e.prop(`scale`),color:e.prop(`fill`),scaleFract:e.prop(`scaleFract`),translateFract:e.prop(`translateFract`),translate:e.prop(`translate`),opacity:e.prop(`opacity`),pixelRatio:e.context(`pixelRatio`),id:e.prop(`id`),viewport:function(e,t){return[t.viewport.x,t.viewport.y,e.viewportWidth,e.viewportHeight]}},attributes:{position:{buffer:e.prop(`positionBuffer`),stride:8,offset:8},positionFract:{buffer:e.prop(`positionFractBuffer`),stride:8,offset:8}},blend:n.blend,depth:{enable:!1},scissor:n.scissor,stencil:n.stencil,viewport:n.viewport}),rect:r,miter:i}},_.defaults={dashes:null,join:`miter`,miterLimit:1,thickness:10,cap:`square`,color:`black`,opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},_.prototype.render=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];t.length&&(e=this).update.apply(e,t),this.draw()},_.prototype.draw=function(){for(var e=this,t=[],n=arguments.length;n--;)t[n]=arguments[n];return(t.length?t:this.passes).forEach(function(t,n){var r;if(t&&Array.isArray(t))return(r=e).draw.apply(r,t);typeof t==`number`&&(t=e.passes[t]),t&&t.count>1&&t.opacity&&(e.regl._refresh(),t.fill&&t.triangles&&t.triangles.length>2&&e.shaders.fill(t),t.thickness&&(t.scale[0]*t.viewport.width>_.precisionThreshold||t.scale[1]*t.viewport.height>_.precisionThreshold||t.join===`rect`||!t.join&&(t.thickness<=2||t.count>=_.maxPoints)?e.shaders.rect(t):e.shaders.miter(t)))}),this},_.prototype.update=function(e){var t=this;if(e){e.length==null?Array.isArray(e)||(e=[e]):typeof e[0]==`number`&&(e=[{positions:e}]);var n=this,o=n.regl,d=n.gl;if(e.forEach(function(e,n){var m=t.passes[n];if(e!==void 0){if(e===null){t.passes[n]=null;return}if(typeof e[0]==`number`&&(e={positions:e}),e=s(e,{positions:`positions points data coords`,thickness:`thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth`,join:`lineJoin linejoin join type mode`,miterLimit:`miterlimit miterLimit`,dashes:`dash dashes dasharray dash-array dashArray`,color:`color colour stroke colors colours stroke-color strokeColor`,fill:`fill fill-color fillColor`,opacity:`alpha opacity`,overlay:`overlay crease overlap intersect`,close:`closed close closed-path closePath`,range:`range dataBox`,viewport:`viewport viewBox`,hole:`holes hole hollow`,splitNull:`splitNull`}),m||(t.passes[n]=m={id:n,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:o.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:`linear`,min:`linear`}),colorBuffer:o.buffer({usage:`dynamic`,type:`uint8`,data:new Uint8Array}),positionBuffer:o.buffer({usage:`dynamic`,type:`float`,data:new Uint8Array}),positionFractBuffer:o.buffer({usage:`dynamic`,type:`float`,data:new Uint8Array})},e=a({},_.defaults,e)),e.thickness!=null&&(m.thickness=parseFloat(e.thickness)),e.opacity!=null&&(m.opacity=parseFloat(e.opacity)),e.miterLimit!=null&&(m.miterLimit=parseFloat(e.miterLimit)),e.overlay!=null&&(m.overlay=!!e.overlay,n<_.maxLines&&(m.depth=2*(_.maxLines-1-n%_.maxLines)/_.maxLines-1)),e.join!=null&&(m.join=e.join),e.hole!=null&&(m.hole=e.hole),e.fill!=null&&(m.fill=e.fill?r(e.fill,`uint8`):null),e.viewport!=null&&(m.viewport=h(e.viewport)),m.viewport||=h([d.drawingBufferWidth,d.drawingBufferHeight]),e.close!=null&&(m.close=e.close),e.positions===null&&(e.positions=[]),e.positions){var v,y;if(e.positions.x&&e.positions.y){var b=e.positions.x,x=e.positions.y;y=m.count=Math.max(b.length,x.length),v=new Float64Array(y*2);for(var S=0;S<y;S++)v[S*2]=b[S],v[S*2+1]=x[S]}else v=c(e.positions,`float64`),y=m.count=Math.floor(v.length/2);var C=m.bounds=i(v,2);if(m.fill){for(var w=[],T={},E=0,D=0,O=0,k=m.count;D<k;D++){var A=v[D*2],j=v[D*2+1];isNaN(A)||isNaN(j)||A==null||j==null?(A=v[E*2],j=v[E*2+1],T[D]=E):E=D,w[O++]=A,w[O++]=j}if(e.splitNull){m.count-1 in T||(T[m.count]=m.count-1);var M=Object.keys(T).map(Number).sort(function(e,t){return e-t}),N=[],P=0,F=m.hole==null?null:m.hole[0];if(F!=null){var I=g(M,function(e){return e>=F});M=M.slice(0,I),M.push(F)}for(var L=function(e){var t=l(w.slice(P*2,M[e]*2).concat(F?w.slice(F*2):[]),(m.hole||[]).map(function(t){return t-F+(M[e]-P)}));t=t.map(function(t){return t+P+(t+P<M[e]?0:F-M[e])}),N.push.apply(N,t),P=M[e]+1},R=0;R<M.length;R++)L(R);for(var z=0,B=N.length;z<B;z++)T[N[z]]!=null&&(N[z]=T[N[z]]);m.triangles=N}else{for(var V=l(w,m.hole||[]),H=0,U=V.length;H<U;H++)T[V[H]]!=null&&(V[H]=T[V[H]]);m.triangles=V}}var W=new Float64Array(v);u(W,2,C);var G=new Float64Array(y*2+6);m.close?v[0]===v[y*2-2]&&v[1]===v[y*2-1]?(G[0]=W[y*2-4],G[1]=W[y*2-3]):(G[0]=W[y*2-2],G[1]=W[y*2-1]):(G[0]=W[0],G[1]=W[1]),G.set(W,2),m.close?v[0]===v[y*2-2]&&v[1]===v[y*2-1]?(G[y*2+2]=W[2],G[y*2+3]=W[3],--m.count):(G[y*2+2]=W[0],G[y*2+3]=W[1],G[y*2+4]=W[2],G[y*2+5]=W[3]):(G[y*2+2]=W[y*2-2],G[y*2+3]=W[y*2-1],G[y*2+4]=W[y*2-2],G[y*2+5]=W[y*2-1]);var K=f(G);m.positionBuffer(K);var ee=p(G,K);m.positionFractBuffer(ee)}if(e.range?m.range=e.range:m.range||=m.bounds,(e.range||e.positions)&&m.count){var q=m.bounds,J=q[2]-q[0],Y=q[3]-q[1],te=m.range[2]-m.range[0],ne=m.range[3]-m.range[1];m.scale=[J/te,Y/ne],m.translate=[-m.range[0]/te+q[0]/te||0,-m.range[1]/ne+q[1]/ne||0],m.scaleFract=p(m.scale),m.translateFract=p(m.translate)}if(e.dashes){var re=0,ie;if(!e.dashes||e.dashes.length<2)re=1,ie=new Uint8Array([255,255,255,255,255,255,255,255]);else{re=0;for(var ae=0;ae<e.dashes.length;++ae)re+=e.dashes[ae];ie=new Uint8Array(re*_.dashMult);for(var oe=0,se=255,ce=0;ce<2;ce++)for(var le=0;le<e.dashes.length;++le){for(var ue=0,de=e.dashes[le]*_.dashMult*.5;ue<de;++ue)ie[oe++]=se;se^=255}}m.dashLength=re,m.dashTexture({channels:1,data:ie,width:ie.length,height:1,mag:`linear`,min:`linear`},0,0)}if(e.color){var fe=m.count,pe=e.color;pe||=`transparent`;var me=new Uint8Array(fe*4+4);if(!Array.isArray(pe)||typeof pe[0]==`number`)for(var he=r(pe,`uint8`),ge=0;ge<fe+1;ge++)me.set(he,ge*4);else{for(var _e=0;_e<fe;_e++){var ve=r(pe[_e],`uint8`);me.set(ve,_e*4)}me.set(r(pe[0],`uint8`),fe*4)}m.colorBuffer({usage:`dynamic`,type:`uint8`,data:me})}}}),e.length<this.passes.length){for(var m=e.length;m<this.passes.length;m++){var v=this.passes[m];v&&(v.colorBuffer.destroy(),v.positionBuffer.destroy(),v.dashTexture.destroy())}this.passes.length=e.length}for(var y=[],b=0;b<this.passes.length;b++)this.passes[b]!==null&&y.push(this.passes[b]);return this.passes=y,this}},_.prototype.destroy=function(){return this.passes.forEach(function(e){e.colorBuffer.destroy(),e.positionBuffer.destroy(),e.dashTexture.destroy()}),this.passes.length=0,this}}),11870:(function(e,t,n){function r(e,t){return o(e)||c(e,t)||l(e,t)||f()}function i(e){return a(e)||s(e)||l(e)||d()}function a(e){if(Array.isArray(e))return u(e)}function o(e){if(Array.isArray(e))return e}function s(e){if(typeof Symbol<`u`&&e[Symbol.iterator]!=null||e[`@@iterator`]!=null)return Array.from(e)}function c(e,t){var n=e==null?null:typeof Symbol<`u`&&e[Symbol.iterator]||e[`@@iterator`];if(n!=null){var r=[],i=!0,a=!1,o,s;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(e){a=!0,s=e}finally{try{!i&&n.return!=null&&n.return()}finally{if(a)throw s}}return r}}function l(e,t){if(e){if(typeof e==`string`)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`)return Array.from(e);if(n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}}function u(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(){throw TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var p=n(25075),m=n(21527),h=n(6475),g=n(88294),_=n(56131),v=n(56068),y=n(71299),b=n(93447),x=n(30120),S=n(62683),C=n(57060),w=n(18863),T=E;function E(e,t){var n=this;if(!(this instanceof E))return new E(e,t);typeof e==`function`?(t||={},t.regl=e):(t=e,e=null),t&&t.length&&(t.positions=t),e=t.regl;var r=e._gl,i,a=[],o={},s=[],c=[null],l=[null],u=255;this.tooManyColors=S,i=e.texture({data:new Uint8Array(u*4),width:u,height:1,type:`uint8`,format:`rgba`,wrapS:`clamp`,wrapT:`clamp`,mag:`nearest`,min:`nearest`}),_(this,{regl:e,gl:r,groups:s,markerCache:l,markerTextures:c,palette:a,paletteIds:o,paletteTexture:i,maxColors:u,maxSize:100,canvas:r.canvas}),this.update(t);var d={uniforms:{constPointSize:!!t.constPointSize,opacity:e.prop(`opacity`),paletteSize:function(e,t){return[n.tooManyColors?0:u,i.height]},pixelRatio:e.context(`pixelRatio`),scale:e.prop(`scale`),scaleFract:e.prop(`scaleFract`),translate:e.prop(`translate`),translateFract:e.prop(`translateFract`),markerTexture:e.prop(`markerTexture`),paletteTexture:i},attributes:{x:function(e,t){return t.xAttr||{buffer:t.positionBuffer,stride:8,offset:0}},y:function(e,t){return t.yAttr||{buffer:t.positionBuffer,stride:8,offset:4}},xFract:function(e,t){return t.xAttr?{constant:[0,0]}:{buffer:t.positionFractBuffer,stride:8,offset:0}},yFract:function(e,t){return t.yAttr?{constant:[0,0]}:{buffer:t.positionFractBuffer,stride:8,offset:4}},size:function(e,t){return t.size.length?{buffer:t.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(t.size*255/n.maxSize)]}},borderSize:function(e,t){return t.borderSize.length?{buffer:t.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(t.borderSize*255/n.maxSize)]}},colorId:function(e,t){return t.color.length?{buffer:t.colorBuffer,stride:n.tooManyColors?8:4,offset:0}:{constant:n.tooManyColors?a.slice(t.color*4,t.color*4+4):[t.color]}},borderColorId:function(e,t){return t.borderColor.length?{buffer:t.colorBuffer,stride:n.tooManyColors?8:4,offset:n.tooManyColors?4:2}:{constant:n.tooManyColors?a.slice(t.borderColor*4,t.borderColor*4+4):[t.borderColor]}},isActive:function(e,t){return t.activation===!0?{constant:[1]}:t.activation?t.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:`src alpha`,dstRGB:`one minus src alpha`,srcAlpha:`one minus dst alpha`,dstAlpha:`one`}},scissor:{enable:!0,box:e.prop(`viewport`)},viewport:e.prop(`viewport`),stencil:{enable:!1},depth:{enable:!1},elements:e.prop(`elements`),count:e.prop(`count`),offset:e.prop(`offset`),primitive:`points`},f=_({},d);f.frag=v([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),f.vert=v([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}`]),this.drawMarker=e(f);var p=_({},d);p.frag=v([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),p.vert=v([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),S&&(p.frag=p.frag.replace(`smoothstep`,`smoothStep`),f.frag=f.frag.replace(`smoothstep`,`smoothStep`)),this.drawCircle=e(p)}E.defaults={color:`black`,borderColor:`transparent`,borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},E.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},E.prototype.draw=function(){var e=this,t=[...arguments],n=this.groups;if(t.length===1&&Array.isArray(t[0])&&(t[0][0]===null||Array.isArray(t[0][0]))&&(t=t[0]),this.regl._refresh(),t.length)for(var r=0;r<t.length;r++)this.drawItem(r,t[r]);else n.forEach(function(t,n){e.drawItem(n)});return this},E.prototype.drawItem=function(e,t){var n=this.groups,r=n[e];if(typeof t==`number`&&(e=t,r=n[t],t=null),r&&r.count&&r.opacity){r.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,r,t));for(var a=[],o=1;o<r.activation.length;o++)!r.activation[o]||r.activation[o]!==!0&&!r.activation[o].data.length||a.push.apply(a,i(this.getMarkerDrawOptions(o,r,t)));a.length&&this.drawMarker(a)}},E.prototype.getMarkerDrawOptions=function(e,t,n){var i=t.range,a=t.tree,o=t.viewport,s=t.activation,c=t.selectionBuffer,l=t.count;if(this.regl,!a)return n?[_({},t,{markerTexture:this.markerTextures[e],activation:s[e],count:n.length,elements:n,offset:0})]:[_({},t,{markerTexture:this.markerTextures[e],activation:s[e],offset:0})];var u=[],d=a.range(i,{lod:!0,px:[(i[2]-i[0])/o.width,(i[3]-i[1])/o.height]});if(n){for(var f=s[e].data,p=new Uint8Array(l),m=0;m<n.length;m++){var h=n[m];p[h]=f?f[h]:1}c.subdata(p)}for(var g=d.length;g--;){var v=r(d[g],2),y=v[0],b=v[1];u.push(_({},t,{markerTexture:this.markerTextures[e],activation:n?c:s[e],offset:y,count:b-y}))}return u},E.prototype.update=function(){var e=this,t=[...arguments];if(t.length){t.length===1&&Array.isArray(t[0])&&(t=t[0]);var n=this.groups,r=this.gl,i=this.regl,a=this.maxSize,o=this.maxColors,s=this.palette;this.groups=n=t.map(function(t,c){var l=n[c];if(t===void 0)return l;t===null?t={positions:null}:typeof t==`function`?t={ondraw:t}:typeof t[0]==`number`&&(t={positions:t}),t=y(t,{positions:`positions data points`,snap:`snap cluster lod tree`,size:`sizes size radius`,borderSize:`borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline`,color:`colors color fill fill-color fillColor`,borderColor:`borderColors borderColor stroke stroke-color strokeColor`,marker:`markers marker shape`,range:`range dataBox databox`,viewport:`viewport viewPort viewBox viewbox`,opacity:`opacity alpha transparency`,bounds:`bound bounds boundaries limits`,tooManyColors:`tooManyColors palette paletteMode optimizePalette enablePalette`}),t.positions===null&&(t.positions=[]),t.tooManyColors!=null&&(e.tooManyColors=t.tooManyColors),l||(n[c]=l={id:c,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:i.buffer({data:new Uint8Array,usage:`stream`,type:`uint8`}),sizeBuffer:i.buffer({data:new Uint8Array,usage:`dynamic`,type:`uint8`}),colorBuffer:i.buffer({data:new Uint8Array,usage:`dynamic`,type:`uint8`}),positionBuffer:i.buffer({data:new Uint8Array,usage:`dynamic`,type:`float`}),positionFractBuffer:i.buffer({data:new Uint8Array,usage:`dynamic`,type:`float`})},t=_({},E.defaults,t)),t.positions&&!(`marker`in t)&&(t.marker=l.marker,delete l.marker),t.marker&&!(`positions`in t)&&(t.positions=l.positions,delete l.positions);var u=0,d=0;if(b(l,t,[{snap:!0,size:function(e,t){return e??=E.defaults.size,u+=e&&e.length?1:0,e},borderSize:function(e,t){return e??=E.defaults.borderSize,u+=e&&e.length?1:0,e},opacity:parseFloat,color:function(t,n){return t??=E.defaults.color,t=e.updateColor(t),d++,t},borderColor:function(t,n){return t??=E.defaults.borderColor,t=e.updateColor(t),d++,t},bounds:function(e,t,n){return`range`in n||(n.range=null),e},positions:function(e,t,n){var r=t.snap,a=t.positionBuffer,o=t.positionFractBuffer,s=t.selectionBuffer;if(e.x||e.y)return e.x.length?t.xAttr={buffer:i.buffer(e.x),offset:0,stride:4,count:e.x.length}:t.xAttr={buffer:e.x.buffer,offset:e.x.offset*4||0,stride:(e.x.stride||1)*4,count:e.x.count},e.y.length?t.yAttr={buffer:i.buffer(e.y),offset:0,stride:4,count:e.y.length}:t.yAttr={buffer:e.y.buffer,offset:e.y.offset*4||0,stride:(e.y.stride||1)*4,count:e.y.count},t.count=Math.max(t.xAttr.count,t.yAttr.count),e;e=x(e,`float64`);var c=t.count=Math.floor(e.length/2),l=t.bounds=c?m(e,2):null;if(!n.range&&!t.range&&(delete t.range,n.range=l),!n.marker&&!t.marker&&(delete t.marker,n.marker=null),r&&(r===!0||c>r)?t.tree=g(e,{bounds:l}):r&&r.length&&(t.tree=r),t.tree){var u={primitive:`points`,usage:`static`,data:t.tree,type:`uint32`};t.elements?t.elements(u):t.elements=i.elements(u)}var d=C.float32(e);return a({data:d,usage:`dynamic`}),o({data:C.fract32(e,d),usage:`dynamic`}),s({data:new Uint8Array(c),type:`uint8`,usage:`stream`}),e}},{marker:function(t,n,r){var a=n.activation;if(a.forEach(function(e){return e&&e.destroy&&e.destroy()}),a.length=0,!t||typeof t[0]==`number`){var o=e.addMarker(t);a[o]=!0}else{for(var s=[],c=0,l=Math.min(t.length,n.count);c<l;c++){var u=e.addMarker(t[c]);s[u]||(s[u]=new Uint8Array(n.count)),s[u][c]=1}for(var d=0;d<s.length;d++)if(s[d]){var f={data:s[d],type:`uint8`,usage:`static`};a[d]?a[d](f):a[d]=i.buffer(f),a[d].data=s[d]}}return t},range:function(e,t,n){var r=t.bounds;if(r)return e||=r,t.scale=[1/(e[2]-e[0]),1/(e[3]-e[1])],t.translate=[-e[0],-e[1]],t.scaleFract=C.fract(t.scale),t.translateFract=C.fract(t.translate),e},viewport:function(e){return w(e||[r.drawingBufferWidth,r.drawingBufferHeight])}}]),u){var f=l,p=f.count,h=f.size,v=f.borderSize,S=f.sizeBuffer,T=new Uint8Array(p*2);if(h.length||v.length)for(var D=0;D<p;D++)T[D*2]=Math.round((h[D]==null?h:h[D])*255/a),T[D*2+1]=Math.round((v[D]==null?v:v[D])*255/a);S({data:T,usage:`dynamic`})}if(d){var O=l,k=O.count,A=O.color,j=O.borderColor,M=O.colorBuffer,N;if(e.tooManyColors){if(A.length||j.length){N=new Uint8Array(k*8);for(var P=0;P<k;P++){var F=A[P];N[P*8]=s[F*4],N[P*8+1]=s[F*4+1],N[P*8+2]=s[F*4+2],N[P*8+3]=s[F*4+3];var I=j[P];N[P*8+4]=s[I*4],N[P*8+5]=s[I*4+1],N[P*8+6]=s[I*4+2],N[P*8+7]=s[I*4+3]}}}else if(A.length||j.length){N=new Uint8Array(k*4+2);for(var L=0;L<k;L++)A[L]!=null&&(N[L*4]=A[L]%o,N[L*4+1]=Math.floor(A[L]/o)),j[L]!=null&&(N[L*4+2]=j[L]%o,N[L*4+3]=Math.floor(j[L]/o))}M({data:N||new Uint8Array,type:`uint8`,usage:`dynamic`})}return l})}},E.prototype.addMarker=function(e){var t=this.markerTextures,n=this.regl,r=this.markerCache,i=e==null?0:r.indexOf(e);if(i>=0)return i;var a;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)a=e;else{a=new Uint8Array(e.length);for(var o=0,s=e.length;o<s;o++)a[o]=e[o]*255}var c=Math.floor(Math.sqrt(a.length));return i=t.length,r.push(e),t.push(n.texture({channels:1,data:a,radius:c,mag:`linear`,min:`linear`})),i},E.prototype.updateColor=function(e){var t=this.paletteIds,n=this.palette,r=this.maxColors;Array.isArray(e)||(e=[e]);var i=[];if(typeof e[0]==`number`){var a=[];if(Array.isArray(e))for(var o=0;o<e.length;o+=4)a.push(e.slice(o,o+4));else for(var s=0;s<e.length;s+=4)a.push(e.subarray(s,s+4));e=a}for(var c=0;c<e.length;c++){var l=e[c];l=p(l,`uint8`);var u=h(l,!1);if(t[u]==null){var d=n.length;t[u]=Math.floor(d/4),n[d]=l[0],n[d+1]=l[1],n[d+2]=l[2],n[d+3]=l[3]}i[c]=t[u]}return!this.tooManyColors&&n.length>r*4&&(this.tooManyColors=!0),this.updatePalette(n),i.length===1?i[0]:i},E.prototype.updatePalette=function(e){if(!this.tooManyColors){var t=this.maxColors,n=this.paletteTexture,r=Math.ceil(e.length*.25/t);if(r>1){e=e.slice();for(var i=e.length*.25%t;i<r*t;i++)e.push(0,0,0,0)}n.height<r&&n.resize(t,r),n.subimage({width:Math.min(e.length*.25,t),height:r,data:e},0,0)}},E.prototype.destroy=function(){return this.groups.forEach(function(e){e.sizeBuffer.destroy(),e.positionBuffer.destroy(),e.positionFractBuffer.destroy(),e.colorBuffer.destroy(),e.activation.forEach(function(e){return e&&e.destroy&&e.destroy()}),e.selectionBuffer.destroy(),e.elements&&e.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(e){return e&&e.destroy&&e.destroy()}),this};var D=n(56131);e.exports=function(e,t){var n=new T(e,t),r=n.render.bind(n);return D(r,{render:r,update:n.update.bind(n),draw:n.draw.bind(n),destroy:n.destroy.bind(n),regl:n.regl,gl:n.gl,canvas:n.gl.canvas,groups:n.groups,markers:n.markerCache,palette:n.palette}),r}}),60487:(function(e,t,n){var r=n(11870),i=n(71299),a=n(21527),o=n(5877),s=n(57471),c=n(18863),l=n(30120);e.exports=u;function u(e,t){if(!(this instanceof u))return new u(e,t);this.traces=[],this.passes={},this.regl=e,this.scatter=r(e),this.canvas=this.scatter.canvas}u.prototype.render=function(){for(var e=this,t,n=[],r=arguments.length;r--;)n[r]=arguments[r];return n.length&&(t=this).update.apply(t,n),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned??=o(function(){e.draw(),e.dirty=!0,e.planned=null}):(this.draw(),this.dirty=!0,o(function(){e.dirty=!1})),this)},u.prototype.update=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];if(t.length){for(var r=0;r<t.length;r++)this.updateItem(r,t[r]);this.traces=this.traces.filter(Boolean);for(var i=[],a=0,o=0;o<this.traces.length;o++){for(var s=this.traces[o],c=this.traces[o].passes,l=0;l<c.length;l++)i.push(this.passes[c[l]]);s.passOffset=a,a+=s.passes.length}return(e=this.scatter).update.apply(e,i),this}},u.prototype.updateItem=function(e,t){var n=this.regl;if(t===null)return this.traces[e]=null,this;if(!t)return this;var r=i(t,{data:`data items columns rows values dimensions samples x`,snap:`snap cluster`,size:`sizes size radius`,color:`colors color fill fill-color fillColor`,opacity:`opacity alpha transparency opaque`,borderSize:`borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline`,borderColor:`borderColors borderColor bordercolor stroke stroke-color strokeColor`,marker:`markers marker shape`,range:`range ranges databox dataBox`,viewport:`viewport viewBox viewbox`,domain:`domain domains area areas`,padding:`pad padding paddings pads margin margins`,transpose:`transpose transposed`,diagonal:`diagonal diag showDiagonal`,upper:`upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf`,lower:`lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower`}),o=this.traces[e]||(this.traces[e]={id:e,buffer:n.buffer({usage:`dynamic`,type:`float`,data:new Uint8Array}),color:`black`,marker:null,size:12,borderColor:`transparent`,borderSize:1,viewport:c([n._gl.drawingBufferWidth,n._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(r.color!=null&&(o.color=r.color),r.size!=null&&(o.size=r.size),r.marker!=null&&(o.marker=r.marker),r.borderColor!=null&&(o.borderColor=r.borderColor),r.borderSize!=null&&(o.borderSize=r.borderSize),r.opacity!=null&&(o.opacity=r.opacity),r.viewport&&(o.viewport=c(r.viewport)),r.diagonal!=null&&(o.diagonal=r.diagonal),r.upper!=null&&(o.upper=r.upper),r.lower!=null&&(o.lower=r.lower),r.data){o.buffer(l(r.data)),o.columns=r.data.length,o.count=r.data[0].length,o.bounds=[];for(var s=0;s<o.columns;s++)o.bounds[s]=a(r.data[s],1)}var u;r.range&&(o.range=r.range,u=o.range&&typeof o.range[0]!=`number`),r.domain&&(o.domain=r.domain);var m=!1;r.padding!=null&&(Array.isArray(r.padding)&&r.padding.length===o.columns&&typeof r.padding[r.padding.length-1]==`number`?(o.padding=r.padding.map(p),m=!0):o.padding=p(r.padding));var h=o.columns,g=o.count,_=o.viewport.width,v=o.viewport.height,y=o.viewport.x,b=o.viewport.y,x=_/h,S=v/h;o.passes=[];for(var C=0;C<h;C++)for(var w=0;w<h;w++)if(!(!o.diagonal&&w===C)&&!(!o.upper&&C>w)&&!(!o.lower&&C<w)){var T=d(o.id,C,w),E=this.passes[T]||(this.passes[T]={});if(r.data&&(r.transpose?E.positions={x:{buffer:o.buffer,offset:w,count:g,stride:h},y:{buffer:o.buffer,offset:C,count:g,stride:h}}:E.positions={x:{buffer:o.buffer,offset:w*g,count:g},y:{buffer:o.buffer,offset:C*g,count:g}},E.bounds=f(o.bounds,C,w)),r.domain||r.viewport||r.data){var D=m?f(o.padding,C,w):o.padding;if(o.domain){var O=f(o.domain,C,w),k=O[0],A=O[1],j=O[2],M=O[3];E.viewport=[y+k*_+D[0],b+A*v+D[1],y+j*_-D[2],b+M*v-D[3]]}else E.viewport=[y+w*x+x*D[0],b+C*S+S*D[1],y+(w+1)*x-x*D[2],b+(C+1)*S-S*D[3]]}r.color&&(E.color=o.color),r.size&&(E.size=o.size),r.marker&&(E.marker=o.marker),r.borderSize&&(E.borderSize=o.borderSize),r.borderColor&&(E.borderColor=o.borderColor),r.opacity&&(E.opacity=o.opacity),r.range&&(E.range=u?f(o.range,C,w):o.range||E.bounds),o.passes.push(T)}return this},u.prototype.draw=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];if(!t.length)this.scatter.draw();else{for(var r=[],i=0;i<t.length;i++)if(typeof t[i]==`number`){var a=this.traces[t[i]],o=a.passes,c=a.passOffset;r.push.apply(r,s(c,c+o.length))}else if(t[i].length){var l=t[i],u=this.traces[i],d=u.passes,f=u.passOffset;d=d.map(function(e,t){r[f+t]=l})}(e=this.scatter).draw.apply(e,r)}return this},u.prototype.destroy=function(){return this.traces.forEach(function(e){e.buffer&&e.buffer.destroy&&e.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function d(e,t,n){var r=e.id==null?e:e.id,i=t,a=n;return r<<16|(i&255)<<8|a&255}function f(e,t,n){var r,i,a,o,s=e[t],c=e[n];return s.length>2?(s[0],s[2],r=s[1],i=s[3]):s.length?(r=s[0],i=s[1]):(s.x,r=s.y,s.x+s.width,i=s.y+s.height),c.length>2?(a=c[0],o=c[2],c[1],c[3]):c.length?(a=c[0],o=c[1]):(a=c.x,c.y,o=c.x+c.width,c.y+c.height),[a,r,o,i]}function p(e){if(typeof e==`number`)return[e,e,e,e];if(e.length===2)return[e[0],e[1],e[0],e[1]];var t=c(e);return[t.x,t.y,t.x+t.width,t.y+t.height]}}),98580:(function(e){(function(t,n){e.exports=n()})(this,function(){function e(e,t){this.id=ie++,this.type=e,this.data=t}function t(e){if(e.length===0)return[];var n=e.charAt(0),r=e.charAt(e.length-1);if(1<e.length&&n===r&&(n===`"`||n===`'`))return[`"`+e.substr(1,e.length-2).replace(/\\/g,`\\\\`).replace(/"/g,`\\"`)+`"`];if(n=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e))return t(e.substr(0,n.index)).concat(t(n[1])).concat(t(e.substr(n.index+n[0].length)));if(n=e.split(`.`),n.length===1)return[`"`+e.replace(/\\/g,`\\\\`).replace(/"/g,`\\"`)+`"`];for(e=[],r=0;r<n.length;++r)e=e.concat(t(n[r]));return e}function n(e){return`[`+t(e).join(`][`)+`]`}function r(t,n){if(typeof t==`function`)return new e(0,t);if(typeof t==`number`||typeof t==`boolean`)return new e(5,t);if(Array.isArray(t))return new e(6,t.map(function(e,t){return r(e,n+`[`+t+`]`)}));if(t instanceof e)return t}function i(){var e={"":0},t=[``];return{id:function(n){var r=e[n];return r||(r=e[n]=t.length,t.push(n),r)},str:function(e){return t[e]}}}function a(e,t,n){function r(){var t=window.innerWidth,r=window.innerHeight;e!==document.body&&(r=i.getBoundingClientRect(),t=r.right-r.left,r=r.bottom-r.top),i.width=n*t,i.height=n*r}var i=document.createElement(`canvas`);re(i.style,{border:0,margin:0,padding:0,top:0,left:0,width:`100%`,height:`100%`}),e.appendChild(i),e===document.body&&(i.style.position=`absolute`,re(e.style,{margin:0,padding:0}));var a;return e!==document.body&&typeof ResizeObserver==`function`?(a=new ResizeObserver(function(){setTimeout(r)}),a.observe(e)):window.addEventListener(`resize`,r,!1),r(),{canvas:i,onDestroy:function(){a?a.disconnect():window.removeEventListener(`resize`,r),e.removeChild(i)}}}function o(e,t){function n(n){try{return e.getContext(n,t)}catch{return null}}return n(`webgl`)||n(`experimental-webgl`)||n(`webgl-experimental`)}function s(e){return typeof e==`string`?e.split():e}function c(e){return typeof e==`string`?document.querySelector(e):e}function l(e){var t=e||{},n,r,i,l;e={};var u=[],d=[],f=typeof window>`u`?1:window.devicePixelRatio,p=!1,m={},h=function(e){},g=function(){};if(typeof t==`string`?n=document.querySelector(t):typeof t==`object`&&(typeof t.nodeName==`string`&&typeof t.appendChild==`function`&&typeof t.getBoundingClientRect==`function`?n=t:typeof t.drawArrays==`function`||typeof t.drawElements==`function`?(l=t,i=l.canvas):(`gl`in t?l=t.gl:`canvas`in t?i=c(t.canvas):`container`in t&&(r=c(t.container)),`attributes`in t&&(e=t.attributes),`extensions`in t&&(u=s(t.extensions)),`optionalExtensions`in t&&(d=s(t.optionalExtensions)),`onDone`in t&&(h=t.onDone),`profile`in t&&(p=!!t.profile),`pixelRatio`in t&&(f=+t.pixelRatio),`cachedCode`in t&&(m=t.cachedCode))),n&&(n.nodeName.toLowerCase()===`canvas`?i=n:r=n),!l){if(!i){if(n=a(r||document.body,h,f),!n)return null;i=n.canvas,g=n.onDestroy}e.premultipliedAlpha===void 0&&(e.premultipliedAlpha=!0),l=o(i,e)}return l?{gl:l,canvas:i,container:r,extensions:u,optionalExtensions:d,pixelRatio:f,profile:p,cachedCode:m,onDone:h,onDestroy:g}:(g(),h(`webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org`),null)}function u(e,t){function n(t){t=t.toLowerCase();var n;try{n=r[t]=e.getExtension(t)}catch{}return!!n}for(var r={},i=0;i<t.extensions.length;++i){var a=t.extensions[i];if(!n(a))return t.onDestroy(),t.onDone(`"`+a+`" extension is not supported by the current WebGL context, try upgrading your system or a different browser`),null}return t.optionalExtensions.forEach(n),{extensions:r,restore:function(){Object.keys(r).forEach(function(e){if(r[e]&&!n(e))throw Error(`(regl): error restoring extension `+e)})}}}function d(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=t(r);return n}function f(e){var t=(65535<e)<<4,n;return e>>>=t,n=(255<e)<<3,e>>>=n,t|=n,n=(15<e)<<2,e>>>=n,t|=n,n=(3<e)<<1,t|n|e>>>n>>1}function p(){function e(e){a:{for(var t=16;268435456>=t;t*=16)if(e<=t){e=t;break a}e=0}return t=n[f(e)>>2],0<t.length?t.pop():new ArrayBuffer(e)}function t(e){n[f(e.byteLength)>>2].push(e)}var n=d(8,function(){return[]});return{alloc:e,free:t,allocType:function(t,n){var r=null;switch(t){case 5120:r=new Int8Array(e(n),0,n);break;case 5121:r=new Uint8Array(e(n),0,n);break;case 5122:r=new Int16Array(e(2*n),0,n);break;case 5123:r=new Uint16Array(e(2*n),0,n);break;case 5124:r=new Int32Array(e(4*n),0,n);break;case 5125:r=new Uint32Array(e(4*n),0,n);break;case 5126:r=new Float32Array(e(4*n),0,n);break;default:return null}return r.length===n?r:r.subarray(0,n)},freeType:function(e){t(e.buffer)}}}function m(e){return!!e&&typeof e==`object`&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&typeof e.offset==`number`&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||ue(e.data))}function h(e,t,n,r,i,a){for(var o=0;o<t;++o)for(var s=e[o],c=0;c<n;++c)for(var l=s[c],u=0;u<r;++u)i[a++]=l[u]}function g(e,t,n,r,i){for(var a=1,o=n+1;o<t.length;++o)a*=t[o];var s=t[n];if(t.length-n===4){var c=t[n+1],l=t[n+2];for(t=t[n+3],o=0;o<s;++o)h(e[o],c,l,t,r,i),i+=a}else for(o=0;o<s;++o)g(e[o],t,n+1,r,i),i+=a}function _(e){return pe[Object.prototype.toString.call(e)]|0}function v(e,t){for(var n=0;n<t.length;++n)e[n]=t[n]}function y(e,t,n,r,i,a,o){for(var s=0,c=0;c<n;++c)for(var l=0;l<r;++l)e[s++]=t[i*c+a*l+o]}function b(e,t,n,r){function i(t){this.id=c++,this.buffer=e.createBuffer(),this.type=t,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,n.profile&&(this.stats={size:0})}function a(t,n,r){t.byteLength=n.byteLength,e.bufferData(t.type,n,r)}function o(e,t,n,r,i,o){if(e.usage=n,Array.isArray(t)){if(e.dtype=r||5126,0<t.length)if(Array.isArray(t[0])){i=_e(t);for(var s=r=1;s<i.length;++s)r*=i[s];e.dimension=r,t=ge(t,i,e.dtype),a(e,t,n),o?e.persistentData=t:ce.freeType(t)}else typeof t[0]==`number`?(e.dimension=i,i=ce.allocType(e.dtype,t.length),v(i,t),a(e,i,n),o?e.persistentData=i:ce.freeType(i)):ue(t[0])&&(e.dimension=t[0].length,e.dtype=r||_(t[0])||5126,t=ge(t,[t.length,t[0].length],e.dtype),a(e,t,n),o?e.persistentData=t:ce.freeType(t))}else if(ue(t))e.dtype=r||_(t),e.dimension=i,a(e,t,n),o&&(e.persistentData=new Uint8Array(new Uint8Array(t.buffer)));else if(m(t)){i=t.shape;var c=t.stride,s=t.offset,l=0,u=0,d=0,f=0;i.length===1?(l=i[0],u=1,d=c[0],f=0):i.length===2&&(l=i[0],u=i[1],d=c[0],f=c[1]),e.dtype=r||_(t.data)||5126,e.dimension=u,i=ce.allocType(e.dtype,l*u),y(i,t.data,l,u,d,f,s),a(e,i,n),o?e.persistentData=i:ce.freeType(i)}else t instanceof ArrayBuffer&&(e.dtype=5121,e.dimension=i,a(e,t,n),o&&(e.persistentData=new Uint8Array(new Uint8Array(t))))}function s(n){t.bufferCount--,r(n),e.deleteBuffer(n.buffer),n.buffer=null,delete l[n.id]}var c=0,l={};i.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},i.prototype.destroy=function(){s(this)};var u=[];return n.profile&&(t.getTotalBufferSize=function(){var e=0;return Object.keys(l).forEach(function(t){e+=l[t].stats.size}),e}),{create:function(r,a,c,u){function d(t){var r=35044,i=null,a=0,s=0,c=1;return Array.isArray(t)||ue(t)||m(t)||t instanceof ArrayBuffer?i=t:typeof t==`number`?a=t|0:t&&(`data`in t&&(i=t.data),`usage`in t&&(r=he[t.usage]),`type`in t&&(s=me[t.type]),`dimension`in t&&(c=t.dimension|0),`length`in t&&(a=t.length|0)),f.bind(),i?o(f,i,r,s,c,u):(a&&e.bufferData(f.type,a,r),f.dtype=s||5121,f.usage=r,f.dimension=c,f.byteLength=a),n.profile&&(f.stats.size=f.byteLength*ve[f.dtype]),d}t.bufferCount++;var f=new i(a);return l[f.id]=f,c||d(r),d._reglType=`buffer`,d._buffer=f,d.subdata=function(t,n){var r=(n||0)|0,i;if(f.bind(),ue(t)||t instanceof ArrayBuffer)e.bufferSubData(f.type,r,t);else if(Array.isArray(t)){if(0<t.length)if(typeof t[0]==`number`){var a=ce.allocType(f.dtype,t.length);v(a,t),e.bufferSubData(f.type,r,a),ce.freeType(a)}else (Array.isArray(t[0])||ue(t[0]))&&(i=_e(t),a=ge(t,i,f.dtype),e.bufferSubData(f.type,r,a),ce.freeType(a))}else if(m(t)){i=t.shape;var o=t.stride,s=a=0,c=0,l=0;i.length===1?(a=i[0],s=1,c=o[0],l=0):i.length===2&&(a=i[0],s=i[1],c=o[0],l=o[1]),i=Array.isArray(t.data)?f.dtype:_(t.data),i=ce.allocType(i,a*s),y(i,t.data,a,s,c,l,t.offset),e.bufferSubData(f.type,r,i),ce.freeType(i)}return d},n.profile&&(d.stats=f.stats),d.destroy=function(){s(f)},d},createStream:function(e,t){var n=u.pop();return n||=new i(e),n.bind(),o(n,t,35040,0,1,!1),n},destroyStream:function(e){u.push(e)},clear:function(){de(l).forEach(s),u.forEach(s)},getBuffer:function(e){return e&&e._buffer instanceof i?e._buffer:null},restore:function(){de(l).forEach(function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)})},_initBuffer:o}}function x(e,t,n,r){function i(e){this.id=c++,s[this.id]=this,this.buffer=e,this.primType=4,this.type=this.vertCount=0}function a(r,i,a,o,s,c,l){r.buffer.bind();var u;if(i?((u=l)||ue(i)&&(!m(i)||ue(i.data))||(u=t.oes_element_index_uint?5125:5123),n._initBuffer(r.buffer,i,a,u,3)):(e.bufferData(34963,c,a),r.buffer.dtype=u||5121,r.buffer.usage=a,r.buffer.dimension=3,r.buffer.byteLength=c),u=l,!l){switch(r.buffer.dtype){case 5121:case 5120:u=5121;break;case 5123:case 5122:u=5123;break;case 5125:case 5124:u=5125}r.buffer.dtype=u}r.type=u,i=s,0>i&&(i=r.buffer.byteLength,u===5123?i>>=1:u===5125&&(i>>=2)),r.vertCount=i,i=o,0>o&&(i=4,o=r.buffer.dimension,o===1&&(i=0),o===2&&(i=1),o===3&&(i=4)),r.primType=i}function o(e){r.elementsCount--,delete s[e.id],e.buffer.destroy(),e.buffer=null}var s={},c=0,l={uint8:5121,uint16:5123};t.oes_element_index_uint&&(l.uint32=5125),i.prototype.bind=function(){this.buffer.bind()};var u=[];return{create:function(e,t){function s(e){if(e)if(typeof e==`number`)c(e),u.primType=4,u.vertCount=e|0,u.type=5121;else{var t=null,n=35044,r=-1,i=-1,o=0,d=0;Array.isArray(e)||ue(e)||m(e)?t=e:(`data`in e&&(t=e.data),`usage`in e&&(n=he[e.usage]),`primitive`in e&&(r=ye[e.primitive]),`count`in e&&(i=e.count|0),`type`in e&&(d=l[e.type]),`length`in e?o=e.length|0:(o=i,d===5123||d===5122?o*=2:(d===5125||d===5124)&&(o*=4))),a(u,t,n,r,i,o,d)}else c(),u.primType=4,u.vertCount=0,u.type=5121;return s}var c=n.create(null,34963,!0),u=new i(c._buffer);return r.elementsCount++,s(e),s._reglType=`elements`,s._elements=u,s.subdata=function(e,t){return c.subdata(e,t),s},s.destroy=function(){o(u)},s},createStream:function(e){var t=u.pop();return t||=new i(n.create(null,34963,!0,!1)._buffer),a(t,e,35040,-1,-1,0,0),t},destroyStream:function(e){u.push(e)},getElements:function(e){return typeof e==`function`&&e._elements instanceof i?e._elements:null},clear:function(){de(s).forEach(o)}}}function S(e){for(var t=ce.allocType(5123,e.length),n=0;n<e.length;++n)if(isNaN(e[n]))t[n]=65535;else if(e[n]===1/0)t[n]=31744;else if(e[n]===-1/0)t[n]=64512;else{be[0]=e[n];var r=xe[0],i=r>>>31<<15,a=(r<<1>>>24)-127,r=r>>13&1023;t[n]=-24>a?i:-14>a?i+(r+1024>>-14-a):15<a?i+31744:i+(a+15<<10)+r}return t}function C(e){return Array.isArray(e)||ue(e)}function w(e){return`[object `+e+`]`}function T(e){return Array.isArray(e)&&(e.length===0||typeof e[0]==`number`)}function E(e){return!!(Array.isArray(e)&&e.length!==0&&C(e[0]))}function D(e){return Object.prototype.toString.call(e)}function O(e){if(!e)return!1;var t=D(e);return 0<=Oe.indexOf(t)?!0:T(e)||E(e)||m(e)}function k(e,t){e.type===36193?(e.data=S(t),ce.freeType(t)):e.data=t}function A(e,t,n,r,i,a){if(e=Ae[e]===void 0?we[e]*ke[t]:Ae[e],a&&(e*=6),i){for(r=0;1<=n;)r+=e*n*n,n/=2;return r}return e*n*r}function j(e,t,n,r,i,a,o){function s(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function c(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function l(e,t){if(typeof t==`object`&&t){`premultiplyAlpha`in t&&(e.premultiplyAlpha=t.premultiplyAlpha),`flipY`in t&&(e.flipY=t.flipY),`alignment`in t&&(e.unpackAlignment=t.alignment),`colorSpace`in t&&(e.colorSpace=H[t.colorSpace]),`type`in t&&(e.type=U[t.type]);var n=e.width,r=e.height,i=e.channels,a=!1;`shape`in t?(n=t.shape[0],r=t.shape[1],t.shape.length===3&&(i=t.shape[2],a=!0)):(`radius`in t&&(n=r=t.radius),`width`in t&&(n=t.width),`height`in t&&(r=t.height),`channels`in t&&(i=t.channels,a=!0)),e.width=n|0,e.height=r|0,e.channels=i|0,n=!1,`format`in t&&(n=t.format,r=e.internalformat=W[n],e.format=ie[r],n in U&&!(`type`in t)&&(e.type=U[n]),n in G&&(e.compressed=!0),n=!0),!a&&n?e.channels=we[e.format]:a&&!n&&e.channels!==Ce[e.format]&&(e.format=e.internalformat=Ce[e.channels])}}function u(t){e.pixelStorei(37440,t.flipY),e.pixelStorei(37441,t.premultiplyAlpha),e.pixelStorei(37443,t.colorSpace),e.pixelStorei(3317,t.unpackAlignment)}function d(){s.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function f(e,t){var n=null;if(O(t)?n=t:t&&(l(e,t),`x`in t&&(e.xOffset=t.x|0),`y`in t&&(e.yOffset=t.y|0),O(t.data)&&(n=t.data)),t.copy){var r=i.viewportWidth,a=i.viewportHeight;e.width=e.width||r-e.xOffset,e.height=e.height||a-e.yOffset,e.needsCopy=!0}else if(!n)e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;else if(ue(n))e.channels=e.channels||4,e.data=n,`type`in t||e.type!==5121||(e.type=pe[Object.prototype.toString.call(n)]|0);else if(T(n)){switch(e.channels=e.channels||4,r=n,a=r.length,e.type){case 5121:case 5123:case 5125:case 5126:a=ce.allocType(e.type,a),a.set(r),e.data=a;break;case 36193:e.data=S(r)}e.alignment=1,e.needsFree=!0}else if(m(n)){r=n.data,Array.isArray(r)||e.type!==5121||(e.type=pe[Object.prototype.toString.call(r)]|0);var a=n.shape,o=n.stride,s,c,u,d;a.length===3?(u=a[2],d=o[2]):d=u=1,s=a[0],c=a[1],a=o[0],o=o[1],e.alignment=1,e.width=s,e.height=c,e.channels=u,e.format=e.internalformat=Ce[u],e.needsFree=!0,s=d,n=n.offset,u=e.width,d=e.height,c=e.channels;for(var f=ce.allocType(e.type===36193?5126:e.type,u*d*c),p=0,h=0;h<d;++h)for(var g=0;g<u;++g)for(var _=0;_<c;++_)f[p++]=r[a*g+o*h+s*_+n];k(e,f)}else if(D(n)===Te||D(n)===Ee||D(n)===X)D(n)===Te||D(n)===Ee?e.element=n:e.element=n.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(D(n)===Z)e.element=n,e.width=n.width,e.height=n.height,e.channels=4;else if(D(n)===De)e.element=n,e.width=n.naturalWidth,e.height=n.naturalHeight,e.channels=4;else if(D(n)===Q)e.element=n,e.width=n.videoWidth,e.height=n.videoHeight,e.channels=4;else if(E(n)){for(r=e.width||n[0].length,a=e.height||n.length,o=e.channels,o=C(n[0][0])?o||n[0][0].length:o||1,s=fe.shape(n),u=1,d=0;d<s.length;++d)u*=s[d];u=ce.allocType(e.type===36193?5126:e.type,u),fe.flatten(n,s,``,u),k(e,u),e.alignment=1,e.width=r,e.height=a,e.channels=o,e.format=e.internalformat=Ce[o],e.needsFree=!0}}function p(t,n,i,a,o){var s=t.element,c=t.data,l=t.internalformat,d=t.format,f=t.type,p=t.width,m=t.height;u(t),s?e.texSubImage2D(n,o,i,a,d,f,s):t.compressed?e.compressedTexSubImage2D(n,o,i,a,l,p,m,c):t.needsCopy?(r(),e.copyTexSubImage2D(n,o,i,a,t.xOffset,t.yOffset,p,m)):e.texSubImage2D(n,o,i,a,p,m,d,f,c)}function h(){return ae.pop()||new d}function g(e){e.needsFree&&ce.freeType(e.data),d.call(e),ae.push(e)}function _(){s.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function v(e,t,n){var r=e.images[0]=h();e.mipmask=1,r.width=e.width=t,r.height=e.height=n,r.channels=e.channels=4}function y(e,t){var n=null;if(O(t))n=e.images[0]=h(),c(n,e),f(n,t),e.mipmask=1;else if(l(e,t),Array.isArray(t.mipmap))for(var r=t.mipmap,i=0;i<r.length;++i)n=e.images[i]=h(),c(n,e),n.width>>=i,n.height>>=i,f(n,r[i]),e.mipmask|=1<<i;else n=e.images[0]=h(),c(n,e),f(n,t),e.mipmask=1;c(e,e.images[0])}function b(t,n){for(var i=t.images,a=0;a<i.length&&i[a];++a){var o=i[a],s=n,c=a,l=o.element,d=o.data,f=o.internalformat,p=o.format,m=o.type,h=o.width,g=o.height;u(o),l?e.texImage2D(s,c,p,p,m,l):o.compressed?e.compressedTexImage2D(s,c,f,h,g,0,d):o.needsCopy?(r(),e.copyTexImage2D(s,c,p,o.xOffset,o.yOffset,h,g,0)):e.texImage2D(s,c,p,h,g,0,p,m,d||null)}}function x(){var e=oe.pop()||new _;s.call(e);for(var t=e.mipmask=0;16>t;++t)e.images[t]=null;return e}function w(e){for(var t=e.images,n=0;n<t.length;++n)t[n]&&g(t[n]),t[n]=null;oe.push(e)}function j(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function M(e,t){`min`in t&&(e.minFilter=V[t.min],0<=Se.indexOf(e.minFilter)&&!(`faces`in t)&&(e.genMipmaps=!0)),`mag`in t&&(e.magFilter=B[t.mag]);var n=e.wrapS,r=e.wrapT;if(`wrap`in t){var i=t.wrap;typeof i==`string`?n=r=z[i]:Array.isArray(i)&&(n=z[i[0]],r=z[i[1]])}else `wrapS`in t&&(n=z[t.wrapS]),`wrapT`in t&&(r=z[t.wrapT]);if(e.wrapS=n,e.wrapT=r,`anisotropic`in t&&(e.anisotropic=t.anisotropic),`mipmap`in t){switch(n=!1,typeof t.mipmap){case`string`:e.mipmapHint=R[t.mipmap],n=e.genMipmaps=!0;break;case`boolean`:n=e.genMipmaps=t.mipmap;break;case`object`:e.genMipmaps=!1,n=!0}!n||`min`in t||(e.minFilter=9984)}}function N(n,r){e.texParameteri(r,10241,n.minFilter),e.texParameteri(r,10240,n.magFilter),e.texParameteri(r,10242,n.wrapS),e.texParameteri(r,10243,n.wrapT),t.ext_texture_filter_anisotropic&&e.texParameteri(r,34046,n.anisotropic),n.genMipmaps&&(e.hint(33170,n.mipmapHint),e.generateMipmap(r))}function P(t){s.call(this),this.mipmask=0,this.internalformat=6408,this.id=se++,this.refCount=1,this.target=t,this.texture=e.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new j,o.profile&&(this.stats={size:0})}function F(t){e.activeTexture(33984),e.bindTexture(t.target,t.texture)}function I(){var t=he[0];t?e.bindTexture(t.target,t.texture):e.bindTexture(3553,null)}function L(t){var n=t.texture,r=t.unit,i=t.target;0<=r&&(e.activeTexture(33984+r),e.bindTexture(i,null),he[r]=null),e.deleteTexture(n),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete le[t.id],a.textureCount--}var R={"don't care":4352,"dont care":4352,nice:4354,fast:4353},z={repeat:10497,clamp:33071,mirror:33648},B={nearest:9728,linear:9729},V=re({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},B),H={none:0,browser:37444},U={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},W={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},G={};t.ext_srgb&&(W.srgb=35904,W.srgba=35906),t.oes_texture_float&&(U.float32=U.float=5126),t.oes_texture_half_float&&(U.float16=U[`half float`]=36193),t.webgl_depth_texture&&(re(W,{depth:6402,"depth stencil":34041}),re(U,{uint16:5123,uint32:5125,"depth stencil":34042})),t.webgl_compressed_texture_s3tc&&re(G,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),t.webgl_compressed_texture_atc&&re(G,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),t.webgl_compressed_texture_pvrtc&&re(G,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),t.webgl_compressed_texture_etc1&&(G[`rgb etc1`]=36196);var K=Array.prototype.slice.call(e.getParameter(34467));Object.keys(G).forEach(function(e){var t=G[e];0<=K.indexOf(t)&&(W[e]=t)});var ee=Object.keys(W);n.textureFormats=ee;var q=[];Object.keys(W).forEach(function(e){q[W[e]]=e});var J=[];Object.keys(U).forEach(function(e){J[U[e]]=e});var Y=[];Object.keys(B).forEach(function(e){Y[B[e]]=e});var te=[];Object.keys(V).forEach(function(e){te[V[e]]=e});var ne=[];Object.keys(z).forEach(function(e){ne[z[e]]=e});var ie=ee.reduce(function(e,n){var r=W[n];return r===6409||r===6406||r===6409||r===6410||r===6402||r===34041||t.ext_srgb&&(r===35904||r===35906)?e[r]=r:r===32855||0<=n.indexOf(`rgba`)?e[r]=6408:e[r]=6407,e},{}),ae=[],oe=[],se=0,le={},me=n.maxTextureUnits,he=Array(me).map(function(){return null});return re(P.prototype,{bind:function(){this.bindCount+=1;var t=this.unit;if(0>t){for(var n=0;n<me;++n){var r=he[n];if(r){if(0<r.bindCount)continue;r.unit=-1}he[n]=this,t=n;break}o.profile&&a.maxTextureUnits<t+1&&(a.maxTextureUnits=t+1),this.unit=t,e.activeTexture(33984+t),e.bindTexture(this.target,this.texture)}return t},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&L(this)}}),o.profile&&(a.getTotalTextureSize=function(){var e=0;return Object.keys(le).forEach(function(t){e+=le[t].stats.size}),e}),{create2D:function(t,n){function r(e,t){var n=i.texInfo;j.call(n);var a=x();return typeof e==`number`?typeof t==`number`?v(a,e|0,t|0):v(a,e|0,e|0):e?(M(n,e),y(a,e)):v(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),i.mipmask=a.mipmask,c(i,a),i.internalformat=a.internalformat,r.width=a.width,r.height=a.height,F(i),b(a,3553),N(n,3553),I(),w(a),o.profile&&(i.stats.size=A(i.internalformat,i.type,a.width,a.height,n.genMipmaps,!1)),r.format=q[i.internalformat],r.type=J[i.type],r.mag=Y[n.magFilter],r.min=te[n.minFilter],r.wrapS=ne[n.wrapS],r.wrapT=ne[n.wrapT],r}var i=new P(3553);return le[i.id]=i,a.textureCount++,r(t,n),r.subimage=function(e,t,n,a){t|=0,n|=0,a|=0;var o=h();return c(o,i),o.width=0,o.height=0,f(o,e),o.width=o.width||(i.width>>a)-t,o.height=o.height||(i.height>>a)-n,F(i),p(o,3553,t,n,a),I(),g(o),r},r.resize=function(t,n){var a=t|0,s=n|0||a;if(a===i.width&&s===i.height)return r;r.width=i.width=a,r.height=i.height=s,F(i);for(var c=0;i.mipmask>>c;++c){var l=a>>c,u=s>>c;if(!l||!u)break;e.texImage2D(3553,c,i.format,l,u,0,i.format,i.type,null)}return I(),o.profile&&(i.stats.size=A(i.internalformat,i.type,a,s,!1,!1)),r},r._reglType=`texture2d`,r._texture=i,o.profile&&(r.stats=i.stats),r.destroy=function(){i.decRef()},r},createCube:function(t,n,r,i,s,u){function d(e,t,n,r,i,a){var s,u=m.texInfo;for(j.call(u),s=0;6>s;++s)_[s]=x();if(typeof e==`number`||!e)for(e=e|0||1,s=0;6>s;++s)v(_[s],e,e);else if(typeof e==`object`)if(t)y(_[0],e),y(_[1],t),y(_[2],n),y(_[3],r),y(_[4],i),y(_[5],a);else if(M(u,e),l(m,e),`faces`in e)for(e=e.faces,s=0;6>s;++s)c(_[s],m),y(_[s],e[s]);else for(s=0;6>s;++s)y(_[s],e);for(c(m,_[0]),m.mipmask=u.genMipmaps?(_[0].width<<1)-1:_[0].mipmask,m.internalformat=_[0].internalformat,d.width=_[0].width,d.height=_[0].height,F(m),s=0;6>s;++s)b(_[s],34069+s);for(N(u,34067),I(),o.profile&&(m.stats.size=A(m.internalformat,m.type,d.width,d.height,u.genMipmaps,!0)),d.format=q[m.internalformat],d.type=J[m.type],d.mag=Y[u.magFilter],d.min=te[u.minFilter],d.wrapS=ne[u.wrapS],d.wrapT=ne[u.wrapT],s=0;6>s;++s)w(_[s]);return d}var m=new P(34067);le[m.id]=m,a.cubeCount++;var _=[,,,,,,];return d(t,n,r,i,s,u),d.subimage=function(e,t,n,r,i){n|=0,r|=0,i|=0;var a=h();return c(a,m),a.width=0,a.height=0,f(a,t),a.width=a.width||(m.width>>i)-n,a.height=a.height||(m.height>>i)-r,F(m),p(a,34069+e,n,r,i),I(),g(a),d},d.resize=function(t){if(t|=0,t!==m.width){d.width=m.width=t,d.height=m.height=t,F(m);for(var n=0;6>n;++n)for(var r=0;m.mipmask>>r;++r)e.texImage2D(34069+n,r,m.format,t>>r,t>>r,0,m.format,m.type,null);return I(),o.profile&&(m.stats.size=A(m.internalformat,m.type,d.width,d.height,!1,!0)),d}},d._reglType=`textureCube`,d._texture=m,o.profile&&(d.stats=m.stats),d.destroy=function(){m.decRef()},d},clear:function(){for(var t=0;t<me;++t)e.activeTexture(33984+t),e.bindTexture(3553,null),he[t]=null;de(le).forEach(L),a.cubeCount=0,a.textureCount=0},getTexture:function(e){return null},restore:function(){for(var t=0;t<me;++t){var n=he[t];n&&(n.bindCount=0,n.unit=-1,he[t]=null)}de(le).forEach(function(t){t.texture=e.createTexture(),e.bindTexture(t.target,t.texture);for(var n=0;32>n;++n)if(t.mipmask&1<<n)if(t.target===3553)e.texImage2D(3553,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);else for(var r=0;6>r;++r)e.texImage2D(34069+r,n,t.internalformat,t.width>>n,t.height>>n,0,t.internalformat,t.type,null);N(t.texInfo,t.target)})},refresh:function(){for(var t=0;t<me;++t){var n=he[t];n&&(n.bindCount=0,n.unit=-1,he[t]=null),e.activeTexture(33984+t),e.bindTexture(3553,null),e.bindTexture(34067,null)}}}}function M(e,t,n,r,i,a){function o(e,t,n){this.target=e,this.texture=t,this.renderbuffer=n;var r=e=0;t?(e=t.width,r=t.height):n&&(e=n.width,r=n.height),this.width=e,this.height=r}function s(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function c(e,t,n){e&&(e.texture?e.texture._texture.refCount+=1:e.renderbuffer._renderbuffer.refCount+=1)}function l(t,n){n&&(n.texture?e.framebufferTexture2D(36160,t,n.target,n.texture._texture.texture,0):e.framebufferRenderbuffer(36160,t,36161,n.renderbuffer._renderbuffer.renderbuffer))}function u(e){var t=3553,n=null,r=null,i=e;return typeof e==`object`&&(i=e.data,`target`in e&&(t=e.target|0)),e=i._reglType,e===`texture2d`||e===`textureCube`?n=i:e===`renderbuffer`&&(r=i,t=36161),new o(t,n,r)}function d(e,t,n,a,s){return n?(e=r.create2D({width:e,height:t,format:a,type:s}),e._texture.refCount=0,new o(3553,e,null)):(e=i.create({width:e,height:t,format:a}),e._renderbuffer.refCount=0,new o(36161,null,e))}function f(e){return e&&(e.texture||e.renderbuffer)}function p(e,t,n){e&&(e.texture?e.texture.resize(t,n):e.renderbuffer&&e.renderbuffer.resize(t,n),e.width=t,e.height=n)}function m(){this.id=C++,w[this.id]=this,this.framebuffer=e.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function h(e){e.colorAttachments.forEach(s),s(e.depthAttachment),s(e.stencilAttachment),s(e.depthStencilAttachment)}function g(t){e.deleteFramebuffer(t.framebuffer),t.framebuffer=null,a.framebufferCount--,delete w[t.id]}function _(t){var r;e.bindFramebuffer(36160,t.framebuffer);var i=t.colorAttachments;for(r=0;r<i.length;++r)l(36064+r,i[r]);for(r=i.length;r<n.maxColorAttachments;++r)e.framebufferTexture2D(36160,36064+r,3553,null,0);e.framebufferTexture2D(36160,33306,3553,null,0),e.framebufferTexture2D(36160,36096,3553,null,0),e.framebufferTexture2D(36160,36128,3553,null,0),l(36096,t.depthAttachment),l(36128,t.stencilAttachment),l(33306,t.depthStencilAttachment),e.checkFramebufferStatus(36160),e.isContextLost(),e.bindFramebuffer(36160,y.next?y.next.framebuffer:null),y.cur=y.next,e.getError()}function v(e,t){function n(e,t){var i,a=0,o=0,s=!0,l=!0;i=null;var p=!0,m=`rgba`,g=`uint8`,v=1,y=null,S=null,C=null,w=!1;typeof e==`number`?(a=e|0,o=t|0||a):e?(`shape`in e?(o=e.shape,a=o[0],o=o[1]):(`radius`in e&&(a=o=e.radius),`width`in e&&(a=e.width),`height`in e&&(o=e.height)),(`color`in e||`colors`in e)&&(i=e.color||e.colors),i||(`colorCount`in e&&(v=e.colorCount|0),`colorTexture`in e&&(p=!!e.colorTexture,m=`rgba4`),`colorType`in e&&(g=e.colorType,!p)&&(g===`half float`||g===`float16`?m=`rgba16f`:(g===`float`||g===`float32`)&&(m=`rgba32f`)),`colorFormat`in e&&(m=e.colorFormat,0<=b.indexOf(m)?p=!0:0<=x.indexOf(m)&&(p=!1))),(`depthTexture`in e||`depthStencilTexture`in e)&&(w=!(!e.depthTexture&&!e.depthStencilTexture)),`depth`in e&&(typeof e.depth==`boolean`?s=e.depth:(y=e.depth,l=!1)),`stencil`in e&&(typeof e.stencil==`boolean`?l=e.stencil:(S=e.stencil,s=!1)),`depthStencil`in e&&(typeof e.depthStencil==`boolean`?s=l=e.depthStencil:(C=e.depthStencil,l=s=!1))):a=o=1;var T=null,E=null,D=null,O=null;if(Array.isArray(i))T=i.map(u);else if(i)T=[u(i)];else for(T=Array(v),i=0;i<v;++i)T[i]=d(a,o,p,m,g);for(a||=T[0].width,o||=T[0].height,y?E=u(y):s&&!l&&(E=d(a,o,w,`depth`,`uint32`)),S?D=u(S):l&&!s&&(D=d(a,o,!1,`stencil`,`uint8`)),C?O=u(C):!y&&!S&&l&&s&&(O=d(a,o,w,`depth stencil`,`depth stencil`)),s=null,i=0;i<T.length;++i)c(T[i],a,o),T[i]&&T[i].texture&&(l=Ne[T[i].texture._texture.format]*Pe[T[i].texture._texture.type],s===null&&(s=l));return c(E,a,o),c(D,a,o),c(O,a,o),h(r),r.width=a,r.height=o,r.colorAttachments=T,r.depthAttachment=E,r.stencilAttachment=D,r.depthStencilAttachment=O,n.color=T.map(f),n.depth=f(E),n.stencil=f(D),n.depthStencil=f(O),n.width=r.width,n.height=r.height,_(r),n}var r=new m;return a.framebufferCount++,n(e,t),re(n,{resize:function(e,t){var i=Math.max(e|0,1),a=Math.max(t|0||i,1);if(i===r.width&&a===r.height)return n;for(var o=r.colorAttachments,s=0;s<o.length;++s)p(o[s],i,a);return p(r.depthAttachment,i,a),p(r.stencilAttachment,i,a),p(r.depthStencilAttachment,i,a),r.width=n.width=i,r.height=n.height=a,_(r),n},_reglType:`framebuffer`,_framebuffer:r,destroy:function(){g(r),h(r)},use:function(e){y.setFBO({framebuffer:n},e)}})}var y={cur:null,next:null,dirty:!1,setFBO:null},b=[`rgba`],x=[`rgba4`,`rgb565`,`rgb5 a1`];t.ext_srgb&&x.push(`srgba`),t.ext_color_buffer_half_float&&x.push(`rgba16f`,`rgb16f`),t.webgl_color_buffer_float&&x.push(`rgba32f`);var S=[`uint8`];t.oes_texture_half_float&&S.push(`half float`,`float16`),t.oes_texture_float&&S.push(`float`,`float32`);var C=0,w={};return re(y,{getFramebuffer:function(e){return typeof e==`function`&&e._reglType===`framebuffer`&&(e=e._framebuffer,e instanceof m)?e:null},create:v,createCube:function(e){function t(e){var i,a={color:null},o=0,s=null;i=`rgba`;var c=`uint8`,l=1;if(typeof e==`number`?o=e|0:e?(`shape`in e?o=e.shape[0]:(`radius`in e&&(o=e.radius|0),`width`in e?o=e.width|0:`height`in e&&(o=e.height|0)),(`color`in e||`colors`in e)&&(s=e.color||e.colors),s||(`colorCount`in e&&(l=e.colorCount|0),`colorType`in e&&(c=e.colorType),`colorFormat`in e&&(i=e.colorFormat)),`depth`in e&&(a.depth=e.depth),`stencil`in e&&(a.stencil=e.stencil),`depthStencil`in e&&(a.depthStencil=e.depthStencil)):o=1,s)if(Array.isArray(s))for(e=[],i=0;i<s.length;++i)e[i]=s[i];else e=[s];else for(e=Array(l),s={radius:o,format:i,type:c},i=0;i<l;++i)e[i]=r.createCube(s);for(a.color=Array(e.length),i=0;i<e.length;++i)l=e[i],o||=l.width,a.color[i]={target:34069,data:e[i]};for(i=0;6>i;++i){for(l=0;l<e.length;++l)a.color[l].target=34069+i;0<i&&(a.depth=n[0].depth,a.stencil=n[0].stencil,a.depthStencil=n[0].depthStencil),n[i]?n[i](a):n[i]=v(a)}return re(t,{width:o,height:o,color:e})}var n=[,,,,,,];return t(e),re(t,{faces:n,resize:function(e){var r=e|0;if(r===t.width)return t;var i=t.color;for(e=0;e<i.length;++e)i[e].resize(r);for(e=0;6>e;++e)n[e].resize(r);return t.width=t.height=r,t},_reglType:`framebufferCube`,destroy:function(){n.forEach(function(e){e.destroy()})}})},clear:function(){de(w).forEach(g)},restore:function(){y.cur=null,y.next=null,y.dirty=!0,de(w).forEach(function(t){t.framebuffer=e.createFramebuffer(),_(t)})}})}function N(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function P(e,t,n,r,i,a,o){function s(e){if(e!==_.currentVAO){var n=t.oes_vertex_array_object;e?n.bindVertexArrayOES(e.vao):n.bindVertexArrayOES(null),_.currentVAO=e}}function c(n){if(n!==_.currentVAO){if(n)n.bindAttrs();else{for(var r=t.angle_instanced_arrays,i=0;i<p.length;++i){var a=p[i];a.buffer?(e.enableVertexAttribArray(i),a.buffer.bind(),e.vertexAttribPointer(i,a.size,a.type,a.normalized,a.stride,a.offfset),r&&a.divisor&&r.vertexAttribDivisorANGLE(i,a.divisor)):(e.disableVertexAttribArray(i),e.vertexAttrib4f(i,a.x,a.y,a.z,a.w))}o.elements?e.bindBuffer(34963,o.elements.buffer.buffer):e.bindBuffer(34963,null)}_.currentVAO=n}}function l(){de(g).forEach(function(e){e.destroy()})}function u(){this.id=++h,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var e=t.oes_vertex_array_object;this.vao=e?e.createVertexArrayOES():null,g[this.id]=this,this.buffers=[]}function d(){t.oes_vertex_array_object&&de(g).forEach(function(e){e.refresh()})}var f=n.maxAttributes,p=Array(f);for(n=0;n<f;++n)p[n]=new N;var h=0,g={},_={Record:N,scope:{},state:p,currentVAO:null,targetVAO:null,restore:t.oes_vertex_array_object?d:function(){},createVAO:function(e){function t(e){var r;Array.isArray(e)?(r=e,n.elements&&n.ownsElements&&n.elements.destroy(),n.elements=null,n.ownsElements=!1,n.offset=0,n.count=0,n.instances=-1,n.primitive=4):(e.elements?(r=e.elements,n.ownsElements?(typeof r==`function`&&r._reglType===`elements`?n.elements.destroy():n.elements(r),n.ownsElements=!1):a.getElements(e.elements)?(n.elements=e.elements,n.ownsElements=!1):(n.elements=a.create(e.elements),n.ownsElements=!0)):(n.elements=null,n.ownsElements=!1),r=e.attributes,n.offset=0,n.count=-1,n.instances=-1,n.primitive=4,n.elements&&(n.count=n.elements._elements.vertCount,n.primitive=n.elements._elements.primType),`offset`in e&&(n.offset=e.offset|0),`count`in e&&(n.count=e.count|0),`instances`in e&&(n.instances=e.instances|0),`primitive`in e&&(n.primitive=ye[e.primitive])),e={};var o=n.attributes;o.length=r.length;for(var s=0;s<r.length;++s){var c=r[s],l=o[s]=new N,u=c.data||c;if(Array.isArray(u)||ue(u)||m(u)){var d;n.buffers[s]&&(d=n.buffers[s],ue(u)&&d._buffer.byteLength>=u.byteLength?d.subdata(u):(d.destroy(),n.buffers[s]=null)),n.buffers[s]||(d=n.buffers[s]=i.create(c,34962,!1,!0)),l.buffer=i.getBuffer(d),l.size=l.buffer.dimension|0,l.normalized=!1,l.type=l.buffer.dtype,l.offset=0,l.stride=0,l.divisor=0,l.state=1,e[s]=1}else i.getBuffer(c)?(l.buffer=i.getBuffer(c),l.size=l.buffer.dimension|0,l.normalized=!1,l.type=l.buffer.dtype,l.offset=0,l.stride=0,l.divisor=0,l.state=1):i.getBuffer(c.buffer)?(l.buffer=i.getBuffer(c.buffer),l.size=(+c.size||l.buffer.dimension)|0,l.normalized=!!c.normalized||!1,l.type=`type`in c?me[c.type]:l.buffer.dtype,l.offset=(c.offset||0)|0,l.stride=(c.stride||0)|0,l.divisor=(c.divisor||0)|0,l.state=1):`x`in c&&(l.x=+c.x||0,l.y=+c.y||0,l.z=+c.z||0,l.w=+c.w||0,l.state=2)}for(d=0;d<n.buffers.length;++d)!e[d]&&n.buffers[d]&&(n.buffers[d].destroy(),n.buffers[d]=null);return n.refresh(),t}var n=new u;return r.vaoCount+=1,t.destroy=function(){for(var e=0;e<n.buffers.length;++e)n.buffers[e]&&n.buffers[e].destroy();n.buffers.length=0,n.ownsElements&&=(n.elements.destroy(),n.elements=null,!1),n.destroy()},t._vao=n,t._reglType=`vao`,t(e)},getVAO:function(e){return typeof e==`function`&&e._vao?e._vao:null},destroyBuffer:function(t){for(var n=0;n<p.length;++n){var r=p[n];r.buffer===t&&(e.disableVertexAttribArray(n),r.buffer=null)}},setVAO:t.oes_vertex_array_object?s:c,clear:t.oes_vertex_array_object?l:function(){}};return u.prototype.bindAttrs=function(){for(var n=t.angle_instanced_arrays,r=this.attributes,i=0;i<r.length;++i){var o=r[i];o.buffer?(e.enableVertexAttribArray(i),e.bindBuffer(34962,o.buffer.buffer),e.vertexAttribPointer(i,o.size,o.type,o.normalized,o.stride,o.offset),n&&o.divisor&&n.vertexAttribDivisorANGLE(i,o.divisor)):(e.disableVertexAttribArray(i),e.vertexAttrib4f(i,o.x,o.y,o.z,o.w))}for(n=r.length;n<f;++n)e.disableVertexAttribArray(n);(n=a.getElements(this.elements))?e.bindBuffer(34963,n.buffer.buffer):e.bindBuffer(34963,null)},u.prototype.refresh=function(){var e=t.oes_vertex_array_object;e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),_.currentVAO=null,e.bindVertexArrayOES(null))},u.prototype.destroy=function(){if(this.vao){var e=t.oes_vertex_array_object;this===_.currentVAO&&(_.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&=(this.elements.destroy(),this.elements=null,!1),g[this.id]&&(delete g[this.id],--r.vaoCount)},_}function F(e,t,n,r){function i(e,t,n,r){this.name=e,this.id=t,this.location=n,this.info=r}function a(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t.id){e[n].location=t.location;return}e.push(t)}function o(n,r,i){i=n===35632?l:u;var a=i[r];if(!a){var o=t.str(r),a=e.createShader(n);e.shaderSource(a,o),e.compileShader(a),i[r]=a}return a}function s(e,t){this.id=p++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,r.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function c(n,s,c){var l=o(35632,n.fragId),u=o(35633,n.vertId);if(s=n.program=e.createProgram(),e.attachShader(s,l),e.attachShader(s,u),c)for(l=0;l<c.length;++l)u=c[l],e.bindAttribLocation(s,u[0],u[1]);e.linkProgram(s),u=e.getProgramParameter(s,35718),r.profile&&(n.stats.uniformsCount=u);var d=n.uniforms;for(l=0;l<u;++l)if(c=e.getActiveUniform(s,l))if(1<c.size)for(var f=0;f<c.size;++f){var p=c.name.replace(`[0]`,`[`+f+`]`);a(d,new i(p,t.id(p),e.getUniformLocation(s,p),c))}else a(d,new i(c.name,t.id(c.name),e.getUniformLocation(s,c.name),c));for(u=e.getProgramParameter(s,35721),r.profile&&(n.stats.attributesCount=u),n=n.attributes,l=0;l<u;++l)(c=e.getActiveAttrib(s,l))&&a(n,new i(c.name,t.id(c.name),e.getAttribLocation(s,c.name),c))}var l={},u={},d={},f=[],p=0;return r.profile&&(n.getMaxUniformsCount=function(){var e=0;return f.forEach(function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)}),e},n.getMaxAttributesCount=function(){var e=0;return f.forEach(function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)}),e}),{clear:function(){var t=e.deleteShader.bind(e);de(l).forEach(t),l={},de(u).forEach(t),u={},f.forEach(function(t){e.deleteProgram(t.program)}),f.length=0,d={},n.shaderCount=0},program:function(t,r,i,a){var o=d[r];o||=d[r]={};var p=o[t];if(p&&(p.refCount++,!a))return p;var m=new s(r,t);return n.shaderCount++,c(m,i,a),p||(o[t]=m),f.push(m),re(m,{destroy:function(){if(m.refCount--,0>=m.refCount){e.deleteProgram(m.program);var t=f.indexOf(m);f.splice(t,1),n.shaderCount--}0>=o[m.vertId].refCount&&(e.deleteShader(u[m.vertId]),delete u[m.vertId],delete d[m.fragId][m.vertId]),Object.keys(d[m.fragId]).length||(e.deleteShader(l[m.fragId]),delete l[m.fragId],delete d[m.fragId])}})},restore:function(){l={},u={};for(var e=0;e<f.length;++e)c(f[e],null,f[e].attributes.map(function(e){return[e.location,e.name]}))},shader:o,frag:-1,vert:-1}}function I(e,t,n,r,i,a,o){function s(i){var a=t.next===null?5121:t.next.colorAttachments[0].texture._texture.type,o=0,s=0,c=r.framebufferWidth,l=r.framebufferHeight,u=null;return ue(i)?u=i:i&&(o=i.x|0,s=i.y|0,c=(i.width||r.framebufferWidth-o)|0,l=(i.height||r.framebufferHeight-s)|0,u=i.data||null),n(),i=c*l*4,u||(a===5121?u=new Uint8Array(i):a===5126&&(u||=new Float32Array(i))),e.pixelStorei(3333,4),e.readPixels(o,s,c,l,6408,a,u),u}function c(e){var n;return t.setFBO({framebuffer:e.framebuffer},function(){n=s(e)}),n}return function(e){return e&&`framebuffer`in e?c(e):s(e)}}function L(e){for(var t=Array(e.length>>2),n=0;n<t.length;n++)t[n]=0;for(n=0;n<8*e.length;n+=8)t[n>>5]|=(e.charCodeAt(n/8)&255)<<24-n%32;var r=8*e.length;e=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var n=Array(64),i,a,o,s,c,l,u,d,f,p,m;for(t[r>>5]|=128<<24-r%32,t[(r+64>>9<<4)+15]=r,d=0;d<t.length;d+=16){for(r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],c=e[5],l=e[6],u=e[7],f=0;64>f;f++){if(16>f)n[f]=t[f+d];else{p=f,m=n[f-2],m=B(m,17)^B(m,19)^m>>>10,m=V(m,n[f-7]);var h=n[f-15];h=B(h,7)^B(h,18)^h>>>3,n[p]=V(V(m,h),n[f-16])}p=s,p=B(p,6)^B(p,11)^B(p,25),p=V(V(V(V(u,p),s&c^~s&l),Fe[f]),n[f]),u=r,u=B(u,2)^B(u,13)^B(u,22),m=V(u,r&i^r&a^i&a),u=l,l=c,c=s,s=V(o,p),o=a,a=i,i=r,r=V(p,m)}e[0]=V(r,e[0]),e[1]=V(i,e[1]),e[2]=V(a,e[2]),e[3]=V(o,e[3]),e[4]=V(s,e[4]),e[5]=V(c,e[5]),e[6]=V(l,e[6]),e[7]=V(u,e[7])}for(t=``,n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>24-n%32&255);return t}function R(e){for(var t=``,n,r=0;r<e.length;r++)n=e.charCodeAt(r),t+=`0123456789abcdef`.charAt(n>>>4&15)+`0123456789abcdef`.charAt(n&15);return t}function z(e){for(var t=``,n=-1,r,i;++n<e.length;)r=e.charCodeAt(n),i=n+1<e.length?e.charCodeAt(n+1):0,55296<=r&&56319>=r&&56320<=i&&57343>=i&&(r=65536+((r&1023)<<10)+(i&1023),n++),127>=r?t+=String.fromCharCode(r):2047>=r?t+=String.fromCharCode(192|r>>>6&31,128|r&63):65535>=r?t+=String.fromCharCode(224|r>>>12&15,128|r>>>6&63,128|r&63):2097151>=r&&(t+=String.fromCharCode(240|r>>>18&7,128|r>>>12&63,128|r>>>6&63,128|r&63));return t}function B(e,t){return e>>>t|e<<32-t}function V(e,t){var n=(e&65535)+(t&65535);return(e>>16)+(t>>16)+(n>>16)<<16|n&65535}function H(e){return Array.prototype.slice.call(e)}function U(e){return H(e).join(``)}function W(e){function t(){var e=[],t=[];return re(function(){e.push.apply(e,H(arguments))},{def:function(){var n=`v`+ i++;return t.push(n),0<arguments.length&&(e.push(n,`=`),e.push.apply(e,H(arguments)),e.push(`;`)),n},toString:function(){return U([0<t.length?`var `+t.join(`,`)+`;`:``,U(e)])}})}function n(){function e(e,t){r(e,t,`=`,n.def(e,t),`;`)}var n=t(),r=t(),i=n.toString,a=r.toString;return re(function(){n.apply(n,H(arguments))},{def:n.def,entry:n,exit:r,save:e,set:function(t,r,i){e(t,r),n(t,r,`=`,i,`;`)},toString:function(){return i()+a()}})}var r=e&&e.cache,i=0,a=[],o=[],s=[],c=t(),l={};return{global:c,link:function(e,t){var n=t&&t.stable;if(!n){for(var r=0;r<o.length;++r)if(o[r]===e&&!s[r])return a[r]}return r=`g`+ i++,a.push(r),o.push(e),s.push(n),r},block:t,proc:function(e,t){function r(){var e=`a`+i.length;return i.push(e),e}var i=[];t||=0;for(var a=0;a<t;++a)r();var a=n(),o=a.toString;return l[e]=re(a,{arg:r,toString:function(){return U([`function(`,i.join(),`){`,o(),`}`])}})},scope:n,cond:function(){var e=U(arguments),t=n(),r=n(),i=t.toString,a=r.toString;return re(t,{then:function(){return t.apply(t,H(arguments)),this},else:function(){return r.apply(r,H(arguments)),this},toString:function(){var t=a();return t&&=`else{`+t+`}`,U([`if(`,e,`){`,i(),`}`,t])}})},compile:function(){var e=[`"use strict";`,c,`return {`];Object.keys(l).forEach(function(t){e.push(`"`,t,`":`,l[t].toString(),`,`)}),e.push(`}`);var t=U(e).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),n;return r&&(n=R(L(z(t))),r[n])?r[n].apply(null,o):(t=Function.apply(null,a.concat(t)),r&&(r[n]=t),t.apply(null,o))}}}function G(e){return Array.isArray(e)||ue(e)||m(e)}function K(e){return e.sort(function(e,t){return e===`viewport`?-1:t===`viewport`?1:e<t?-1:1})}function ee(e,t,n,r){this.thisDep=e,this.contextDep=t,this.propDep=n,this.append=r}function q(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function J(e){return new ee(!1,!1,!1,e)}function Y(e,t){var n=e.type;if(n===0)return n=e.data.length,new ee(!0,1<=n,2<=n,t);if(n===4)return n=e.data,new ee(n.thisDep,n.contextDep,n.propDep,t);if(n===5)return new ee(!1,!1,!1,t);if(n===6){for(var r=n=!1,i=!1,a=0;a<e.data.length;++a){var o=e.data[a];o.type===1?i=!0:o.type===2?r=!0:o.type===3?n=!0:o.type===0?(n=!0,o=o.data,1<=o&&(r=!0),2<=o&&(i=!0)):o.type===4&&(n||=o.data.thisDep,r||=o.data.contextDep,i||=o.data.propDep)}return new ee(n,r,i,t)}return new ee(n===3,n===2,n===1,t)}function te(e,t,n,r,i,a,o,s,c,l,u,f,p,m,h,g){function _(e){return e.replace(`.`,`_`)}function v(e,t,n){var r=_(e);ve.push(e),_e[r]=ge[r]=!!n,be[r]=t}function y(e,t,n){var r=_(e);ve.push(e),Array.isArray(n)?(ge[r]=n.slice(),_e[r]=n.slice()):ge[r]=_e[r]=n,xe[r]=t}function b(){var e=W({cache:h}),n=e.link,r=e.global;e.id=we++,e.batchId=`0`;var i=n(Se),a=e.shared={props:`a0`};Object.keys(Se).forEach(function(e){a[e]=r.def(i,`.`,e)});var o=e.next={},s=e.current={};Object.keys(xe).forEach(function(e){Array.isArray(ge[e])&&(o[e]=r.def(a.next,`.`,e),s[e]=r.def(a.current,`.`,e))});var c=e.constants={};Object.keys(Ce).forEach(function(e){c[e]=r.def(JSON.stringify(Ce[e]))}),e.invoke=function(t,r){switch(r.type){case 0:var i=[`this`,a.context,a.props,e.batchId];return t.def(n(r.data),`.call(`,i.slice(0,Math.max(r.data.length+1,4)),`)`);case 1:return t.def(a.props,r.data);case 2:return t.def(a.context,r.data);case 3:return t.def(`this`,r.data);case 4:return r.data.append(e,t),r.data.ref;case 5:return r.data.toString();case 6:return r.data.map(function(n){return e.invoke(t,n)})}},e.attribCache={};var u={};return e.scopeAttrib=function(e){if(e=t.id(e),e in u)return u[e];var r=l.scope[e];return r||=l.scope[e]=new ue,u[e]=n(r)},e}function x(e){var t=e.static;e=e.dynamic;var n;if(`profile`in t){var r=!!t.profile;n=J(function(e,t){return r}),n.enable=r}else if(`profile`in e){var i=e.profile;n=Y(i,function(e,t){return e.invoke(t,i)})}return n}function S(e,t){var n=e.static,r=e.dynamic;if(`framebuffer`in n){var i=n.framebuffer;return i?(i=s.getFramebuffer(i),J(function(e,t){var n=e.link(i),r=e.shared;return t.set(r.framebuffer,`.next`,n),r=r.context,t.set(r,`.framebufferWidth`,n+`.width`),t.set(r,`.framebufferHeight`,n+`.height`),n})):J(function(e,t){var n=e.shared;return t.set(n.framebuffer,`.next`,`null`),n=n.context,t.set(n,`.framebufferWidth`,n+`.drawingBufferWidth`),t.set(n,`.framebufferHeight`,n+`.drawingBufferHeight`),`null`})}if(`framebuffer`in r){var a=r.framebuffer;return Y(a,function(e,t){var n=e.invoke(t,a),r=e.shared,i=r.framebuffer,n=t.def(i,`.getFramebuffer(`,n,`)`);return t.set(i,`.next`,n),r=r.context,t.set(r,`.framebufferWidth`,n+`?`+n+`.width:`+r+`.drawingBufferWidth`),t.set(r,`.framebufferHeight`,n+`?`+n+`.height:`+r+`.drawingBufferHeight`),n})}return null}function w(e,t,n){function r(e){if(e in i){var n=i[e];e=!0;var r=n.x|0,o=n.y|0,s,c;return`width`in n?s=n.width|0:e=!1,`height`in n?c=n.height|0:e=!1,new ee(!e&&t&&t.thisDep,!e&&t&&t.contextDep,!e&&t&&t.propDep,function(e,t){var i=e.shared.context,a=s;`width`in n||(a=t.def(i,`.`,`framebufferWidth`,`-`,r));var l=c;return`height`in n||(l=t.def(i,`.`,`framebufferHeight`,`-`,o)),[r,o,a,l]})}if(e in a){var l=a[e];return e=Y(l,function(e,t){var n=e.invoke(t,l),r=e.shared.context,i=t.def(n,`.x|0`),a=t.def(n,`.y|0`),o=t.def(`"width" in `,n,`?`,n,`.width|0:`,`(`,r,`.`,`framebufferWidth`,`-`,i,`)`),n=t.def(`"height" in `,n,`?`,n,`.height|0:`,`(`,r,`.`,`framebufferHeight`,`-`,a,`)`);return[i,a,o,n]}),t&&(e.thisDep=e.thisDep||t.thisDep,e.contextDep=e.contextDep||t.contextDep,e.propDep=e.propDep||t.propDep),e}return t?new ee(t.thisDep,t.contextDep,t.propDep,function(e,t){var n=e.shared.context;return[0,0,t.def(n,`.`,`framebufferWidth`),t.def(n,`.`,`framebufferHeight`)]}):null}var i=e.static,a=e.dynamic;if(e=r(`viewport`)){var o=e;e=new ee(e.thisDep,e.contextDep,e.propDep,function(e,t){var n=o.append(e,t),r=e.shared.context;return t.set(r,`.viewportWidth`,n[2]),t.set(r,`.viewportHeight`,n[3]),n})}return{viewport:e,scissor_box:r(`scissor.box`)}}function T(e,t){var n=e.static;if(typeof n.frag==`string`&&typeof n.vert==`string`){if(0<Object.keys(t.dynamic).length)return null;var n=t.static,r=Object.keys(n);if(0<r.length&&typeof n[r[0]]==`number`){for(var i=[],a=0;a<r.length;++a)i.push([n[r[a]]|0,r[a]]);return i}}return null}function E(e,n,r){function i(e){if(e in a){var n=t.id(a[e]);return e=J(function(){return n}),e.id=n,e}if(e in o){var r=o[e];return Y(r,function(e,t){var n=e.invoke(t,r);return t.def(e.shared.strings,`.id(`,n,`)`)})}return null}var a=e.static,o=e.dynamic,s=i(`frag`),c=i(`vert`),l=null;return q(s)&&q(c)?(l=u.program(c.id,s.id,null,r),e=J(function(e,t){return e.link(l)})):e=new ee(s&&s.thisDep||c&&c.thisDep,s&&s.contextDep||c&&c.contextDep,s&&s.propDep||c&&c.propDep,function(e,t){var n=e.shared.shader,r=s?s.append(e,t):t.def(n,`.`,`frag`),i=c?c.append(e,t):t.def(n,`.`,`vert`);return t.def(n+`.program(`+i+`,`+r+`)`)}),{frag:s,vert:c,progVar:e,program:l}}function D(e,t){function n(e,t){if(e in r){var n=r[e]|0;return t?o.offset=n:o.instances=n,J(function(e,r){return t&&(e.OFFSET=n),n})}if(e in i){var a=i[e];return Y(a,function(e,n){var r=e.invoke(n,a);return t&&(e.OFFSET=r),r})}if(t){if(u)return J(function(e,t){return e.OFFSET=0});if(s)return new ee(c.thisDep,c.contextDep,c.propDep,function(e,t){return t.def(e.shared.vao+`.currentVAO?`+e.shared.vao+`.currentVAO.offset:0`)})}else if(s)return new ee(c.thisDep,c.contextDep,c.propDep,function(e,t){return t.def(e.shared.vao+`.currentVAO?`+e.shared.vao+`.currentVAO.instances:-1`)});return null}var r=e.static,i=e.dynamic,o={},s=!1,c=function(){if(`vao`in r){var e=r.vao;return e!==null&&l.getVAO(e)===null&&(e=l.createVAO(e)),s=!0,o.vao=e,J(function(t){var n=l.getVAO(e);return n?t.link(n):`null`})}if(`vao`in i){s=!0;var t=i.vao;return Y(t,function(e,n){var r=e.invoke(n,t);return n.def(e.shared.vao+`.getVAO(`+r+`)`)})}return null}(),u=!1,d=function(){if(`elements`in r){var e=r.elements;if(o.elements=e,G(e)){var t=o.elements=a.create(e,!0),e=a.getElements(t);u=!0}else e&&(e=a.getElements(e),u=!0);return t=J(function(t,n){return e?t.ELEMENTS=t.link(e):t.ELEMENTS=null}),t.value=e,t}if(`elements`in i){u=!0;var n=i.elements;return Y(n,function(e,t){var r=e.shared,i=r.isBufferArgs,r=r.elements,a=e.invoke(t,n),o=t.def(`null`),i=t.def(i,`(`,a,`)`),a=e.cond(i).then(o,`=`,r,`.createStream(`,a,`);`).else(o,`=`,r,`.getElements(`,a,`);`);return t.entry(a),t.exit(e.cond(i).then(r,`.destroyStream(`,o,`);`)),e.ELEMENTS=o})}return s?new ee(c.thisDep,c.contextDep,c.propDep,function(e,t){return t.def(e.shared.vao+`.currentVAO?`+e.shared.elements+`.getElements(`+e.shared.vao+`.currentVAO.elements):null`)}):null}(),f=n(`offset`,!0);return{elements:d,primitive:function(){if(`primitive`in r){var e=r.primitive;return o.primitive=e,J(function(t,n){return ye[e]})}if(`primitive`in i){var t=i.primitive;return Y(t,function(e,n){var r=e.constants.primTypes,i=e.invoke(n,t);return n.def(r,`[`,i,`]`)})}return u?q(d)?d.value?J(function(e,t){return t.def(e.ELEMENTS,`.primType`)}):J(function(){return 4}):new ee(d.thisDep,d.contextDep,d.propDep,function(e,t){var n=e.ELEMENTS;return t.def(n,`?`,n,`.primType:`,4)}):s?new ee(c.thisDep,c.contextDep,c.propDep,function(e,t){return t.def(e.shared.vao+`.currentVAO?`+e.shared.vao+`.currentVAO.primitive:4`)}):null}(),count:function(){if(`count`in r){var e=r.count|0;return o.count=e,J(function(){return e})}if(`count`in i){var t=i.count;return Y(t,function(e,n){return e.invoke(n,t)})}return u?q(d)?d?f?new ee(f.thisDep,f.contextDep,f.propDep,function(e,t){return t.def(e.ELEMENTS,`.vertCount-`,e.OFFSET)}):J(function(e,t){return t.def(e.ELEMENTS,`.vertCount`)}):J(function(){return-1}):new ee(d.thisDep||f.thisDep,d.contextDep||f.contextDep,d.propDep||f.propDep,function(e,t){var n=e.ELEMENTS;return e.OFFSET?t.def(n,`?`,n,`.vertCount-`,e.OFFSET,`:-1`):t.def(n,`?`,n,`.vertCount:-1`)}):s?new ee(c.thisDep,c.contextDep,c.propDep,function(e,t){return t.def(e.shared.vao,`.currentVAO?`,e.shared.vao,`.currentVAO.count:-1`)}):null}(),instances:n(`instances`,!1),offset:f,vao:c,vaoActive:s,elementsActive:u,static:o}}function O(e,t){var n=e.static,r=e.dynamic,i={};return ve.forEach(function(e){function t(t,o){if(e in n){var s=t(n[e]);i[a]=J(function(){return s})}else if(e in r){var c=r[e];i[a]=Y(c,function(e,t){return o(e,t,e.invoke(t,c))})}}var a=_(e);switch(e){case`cull.enable`:case`blend.enable`:case`dither`:case`stencil.enable`:case`depth.enable`:case`scissor.enable`:case`polygonOffset.enable`:case`sample.alpha`:case`sample.enable`:case`depth.mask`:return t(function(e){return e},function(e,t,n){return n});case`depth.func`:return t(function(e){return ze[e]},function(e,t,n){return t.def(e.constants.compareFuncs,`[`,n,`]`)});case`depth.range`:return t(function(e){return e},function(e,t,n){return e=t.def(`+`,n,`[0]`),t=t.def(`+`,n,`[1]`),[e,t]});case`blend.func`:return t(function(e){return[Re[`srcRGB`in e?e.srcRGB:e.src],Re[`dstRGB`in e?e.dstRGB:e.dst],Re[`srcAlpha`in e?e.srcAlpha:e.src],Re[`dstAlpha`in e?e.dstAlpha:e.dst]]},function(e,t,n){function r(e,r){return t.def(`"`,e,r,`" in `,n,`?`,n,`.`,e,r,`:`,n,`.`,e)}e=e.constants.blendFuncs;var i=r(`src`,`RGB`),a=r(`dst`,`RGB`),i=t.def(e,`[`,i,`]`),o=t.def(e,`[`,r(`src`,`Alpha`),`]`),a=t.def(e,`[`,a,`]`);return e=t.def(e,`[`,r(`dst`,`Alpha`),`]`),[i,a,o,e]});case`blend.equation`:return t(function(e){if(typeof e==`string`)return[de[e],de[e]];if(typeof e==`object`)return[de[e.rgb],de[e.alpha]]},function(e,t,n){var r=e.constants.blendEquations,i=t.def(),a=t.def();return e=e.cond(`typeof `,n,`==="string"`),e.then(i,`=`,a,`=`,r,`[`,n,`];`),e.else(i,`=`,r,`[`,n,`.rgb];`,a,`=`,r,`[`,n,`.alpha];`),t(e),[i,a]});case`blend.color`:return t(function(e){return d(4,function(t){return+e[t]})},function(e,t,n){return d(4,function(e){return t.def(`+`,n,`[`,e,`]`)})});case`stencil.mask`:return t(function(e){return e|0},function(e,t,n){return t.def(n,`|0`)});case`stencil.func`:return t(function(e){return[ze[e.cmp||`keep`],e.ref||0,`mask`in e?e.mask:-1]},function(e,t,n){e=t.def(`"cmp" in `,n,`?`,e.constants.compareFuncs,`[`,n,`.cmp]`,`:`,7680);var r=t.def(n,`.ref|0`);return t=t.def(`"mask" in `,n,`?`,n,`.mask|0:-1`),[e,r,t]});case`stencil.opFront`:case`stencil.opBack`:return t(function(t){return[e===`stencil.opBack`?1029:1028,Be[t.fail||`keep`],Be[t.zfail||`keep`],Be[t.zpass||`keep`]]},function(t,n,r){function i(e){return n.def(`"`,e,`" in `,r,`?`,a,`[`,r,`.`,e,`]:`,7680)}var a=t.constants.stencilOps;return[e===`stencil.opBack`?1029:1028,i(`fail`),i(`zfail`),i(`zpass`)]});case`polygonOffset.offset`:return t(function(e){return[e.factor|0,e.units|0]},function(e,t,n){return e=t.def(n,`.factor|0`),t=t.def(n,`.units|0`),[e,t]});case`cull.face`:return t(function(e){var t=0;return e===`front`?t=1028:e===`back`&&(t=1029),t},function(e,t,n){return t.def(n,`==="front"?`,1028,`:`,1029)});case`lineWidth`:return t(function(e){return e},function(e,t,n){return n});case`frontFace`:return t(function(e){return Ve[e]},function(e,t,n){return t.def(n+`==="cw"?2304:2305`)});case`colorMask`:return t(function(e){return e.map(function(e){return!!e})},function(e,t,n){return d(4,function(e){return`!!`+n+`[`+e+`]`})});case`sample.coverage`:return t(function(e){return[`value`in e?e.value:1,!!e.invert]},function(e,t,n){return e=t.def(`"value" in `,n,`?+`,n,`.value:1`),t=t.def(`!!`,n,`.invert`),[e,t]})}}),i}function k(e,t){var n=e.static,r=e.dynamic,i={};return Object.keys(n).forEach(function(e){var t=n[e],r;if(typeof t==`number`||typeof t==`boolean`)r=J(function(){return t});else if(typeof t==`function`){var a=t._reglType;a===`texture2d`||a===`textureCube`?r=J(function(e){return e.link(t)}):(a===`framebuffer`||a===`framebufferCube`)&&(r=J(function(e){return e.link(t.color[0])}))}else C(t)&&(r=J(function(e){return e.global.def(`[`,d(t.length,function(e){return t[e]}),`]`)}));r.value=t,i[e]=r}),Object.keys(r).forEach(function(e){var t=r[e];i[e]=Y(t,function(e,n){return e.invoke(n,t)})}),i}function A(e,n){var r=e.static,a=e.dynamic,o={};return Object.keys(r).forEach(function(e){var n=r[e],a=t.id(e),s=new ue;if(G(n))s.state=1,s.buffer=i.getBuffer(i.create(n,34962,!1,!0)),s.type=0;else{var c=i.getBuffer(n);if(c)s.state=1,s.buffer=c,s.type=0;else if(`constant`in n){var l=n.constant;s.buffer=`null`,s.state=2,typeof l==`number`?s.x=l:Ie.forEach(function(e,t){t<l.length&&(s[e]=l[t])})}else{var c=G(n.buffer)?i.getBuffer(i.create(n.buffer,34962,!1,!0)):i.getBuffer(n.buffer),u=n.offset|0,d=n.stride|0,f=n.size|0,p=!!n.normalized,m=0;`type`in n&&(m=me[n.type]),n=n.divisor|0,s.buffer=c,s.state=1,s.size=f,s.normalized=p,s.type=m||c.dtype,s.offset=u,s.stride=d,s.divisor=n}}o[e]=J(function(e,t){var n=e.attribCache;if(a in n)return n[a];var r={isStream:!1};return Object.keys(s).forEach(function(e){r[e]=s[e]}),s.buffer&&(r.buffer=e.link(s.buffer),r.type=r.type||r.buffer+`.dtype`),n[a]=r})}),Object.keys(a).forEach(function(e){var t=a[e];o[e]=Y(t,function(e,n){function r(e){n(c[e],`=`,i,`.`,e,`|0;`)}var i=e.invoke(n,t),a=e.shared,o=e.constants,s=a.isBufferArgs,a=a.buffer,c={isStream:n.def(!1)},l=new ue;l.state=1,Object.keys(l).forEach(function(e){c[e]=n.def(``+l[e])});var u=c.buffer,d=c.type;return n(`if(`,s,`(`,i,`)){`,c.isStream,`=true;`,u,`=`,a,`.createStream(`,34962,`,`,i,`);`,d,`=`,u,`.dtype;`,`}else{`,u,`=`,a,`.getBuffer(`,i,`);`,`if(`,u,`){`,d,`=`,u,`.dtype;`,`}else if("constant" in `,i,`){`,c.state,`=`,2,`;`,`if(typeof `+i+`.constant === "number"){`,c[Ie[0]],`=`,i,`.constant;`,Ie.slice(1).map(function(e){return c[e]}).join(`=`),`=0;`,`}else{`,Ie.map(function(e,t){return c[e]+`=`+i+`.constant.length>`+t+`?`+i+`.constant[`+t+`]:0;`}).join(``),`}}else{`,`if(`,s,`(`,i,`.buffer)){`,u,`=`,a,`.createStream(`,34962,`,`,i,`.buffer);`,`}else{`,u,`=`,a,`.getBuffer(`,i,`.buffer);`,`}`,d,`="type" in `,i,`?`,o.glTypes,`[`,i,`.type]:`,u,`.dtype;`,c.normalized,`=!!`,i,`.normalized;`),r(`size`),r(`offset`),r(`stride`),r(`divisor`),n(`}}`),n.exit(`if(`,c.isStream,`){`,a,`.destroyStream(`,u,`);`,`}`),c})}),o}function j(e){var t=e.static,n=e.dynamic,r={};return Object.keys(t).forEach(function(e){var n=t[e];r[e]=J(function(e,t){return typeof n==`number`||typeof n==`boolean`?``+n:e.link(n)})}),Object.keys(n).forEach(function(e){var t=n[e];r[e]=Y(t,function(e,n){return e.invoke(n,t)})}),r}function M(e,t,r,i,a){function o(e){var t=u[e];t&&(f[e]=t)}var s=T(e,t),c=S(e,a),u=w(e,c,a),d=D(e,a),f=O(e,a),p=E(e,a,s);o(`viewport`),o(_(`scissor.box`));var c={framebuffer:c,draw:d,shader:p,state:f,dirty:0<Object.keys(f).length,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(c.profile=x(e,a),c.uniforms=k(r,a),c.drawVAO=c.scopeVAO=d.vao,!c.drawVAO&&p.program&&!s&&n.angle_instanced_arrays&&d.static.elements){var m=!0;if(e=p.program.attributes.map(function(e){return e=t.static[e],m&&=!!e,e}),m&&0<e.length){var h=l.getVAO(l.createVAO({attributes:e,elements:d.static.elements}));c.drawVAO=new ee(null,null,null,function(e,t){return e.link(h)}),c.useVAO=!0}}return s?c.useVAO=!0:c.attributes=A(t,a),c.context=j(i,a),c}function N(e,t,n){var r=e.shared.context,i=e.scope();Object.keys(n).forEach(function(a){t.save(r,`.`+a);var o=n[a].append(e,t);Array.isArray(o)?i(r,`.`,a,`=[`,o.join(),`];`):i(r,`.`,a,`=`,o,`;`)}),t(i)}function P(e,t,n,r){var i=e.shared,a=i.gl,o=i.framebuffer,s;pe&&(s=t.def(i.extensions,`.webgl_draw_buffers`));var c=e.constants,i=c.drawBuffer,c=c.backBuffer;e=n?n.append(e,t):t.def(o,`.next`),r||t(`if(`,e,`!==`,o,`.cur){`),t(`if(`,e,`){`,a,`.bindFramebuffer(`,36160,`,`,e,`.framebuffer);`),pe&&t(s,`.drawBuffersWEBGL(`,i,`[`,e,`.colorAttachments.length]);`),t(`}else{`,a,`.bindFramebuffer(`,36160,`,null);`),pe&&t(s,`.drawBuffersWEBGL(`,c,`);`),t(`}`,o,`.cur=`,e,`;`),r||t(`}`)}function F(e,t,n){var r=e.shared,i=r.gl,a=e.current,o=e.next,s=r.current,c=r.next,l=e.cond(s,`.dirty`);ve.forEach(function(t){if(t=_(t),!(t in n.state)){var r,u;if(t in o){r=o[t],u=a[t];var f=d(ge[t].length,function(e){return l.def(r,`[`,e,`]`)});l(e.cond(f.map(function(e,t){return e+`!==`+u+`[`+t+`]`}).join(`||`)).then(i,`.`,xe[t],`(`,f,`);`,f.map(function(e,t){return u+`[`+t+`]=`+e}).join(`;`),`;`))}else r=l.def(c,`.`,t),f=e.cond(r,`!==`,s,`.`,t),l(f),t in be?f(e.cond(r).then(i,`.enable(`,be[t],`);`).else(i,`.disable(`,be[t],`);`),s,`.`,t,`=`,r,`;`):f(i,`.`,xe[t],`(`,r,`);`,s,`.`,t,`=`,r,`;`)}}),Object.keys(n.state).length===0&&l(s,`.dirty=false;`),t(l)}function I(e,t,n,r){var i=e.shared,a=e.current,o=i.current,s=i.gl,c;K(Object.keys(n)).forEach(function(i){var l=n[i];if(!r||r(l)){var u=l.append(e,t);if(be[i]){var d=be[i];q(l)?(c=e.link(u,{stable:!0}),t(e.cond(c).then(s,`.enable(`,d,`);`).else(s,`.disable(`,d,`);`)),t(o,`.`,i,`=`,c,`;`)):(t(e.cond(u).then(s,`.enable(`,d,`);`).else(s,`.disable(`,d,`);`)),t(o,`.`,i,`=`,u,`;`))}else if(C(u)){var f=a[i];t(s,`.`,xe[i],`(`,u,`);`,u.map(function(e,t){return f+`[`+t+`]=`+e}).join(`;`),`;`)}else q(l)?(c=e.link(u,{stable:!0}),t(s,`.`,xe[i],`(`,c,`);`,o,`.`,i,`=`,c,`;`)):t(s,`.`,xe[i],`(`,u,`);`,o,`.`,i,`=`,u,`;`)}})}function L(e,t){fe&&(e.instancing=t.def(e.shared.extensions,`.angle_instanced_arrays`))}function R(e,t,n,r,i){function a(){return typeof performance>`u`?`Date.now()`:`performance.now()`}function o(e){p=t.def(),e(p,`=`,a(),`;`),typeof i==`string`?e(u,`.count+=`,i,`;`):e(u,`.count++;`),m&&(r?(h=t.def(),e(h,`=`,f,`.getNumPendingQueries();`)):e(f,`.beginQuery(`,u,`);`))}function s(e){e(u,`.cpuTime+=`,a(),`-`,p,`;`),m&&(r?e(f,`.pushScopeStats(`,h,`,`,f,`.getNumPendingQueries(),`,u,`);`):e(f,`.endQuery();`))}function c(e){var n=t.def(d,`.profile`);t(d,`.profile=`,e,`;`),t.exit(d,`.profile=`,n,`;`)}var l=e.shared,u=e.stats,d=l.current,f=l.timer;n=n.profile;var p,h;if(n){if(q(n)){n.enable?(o(t),s(t.exit),c(`true`)):c(`false`);return}n=n.append(e,t),c(n)}else n=t.def(d,`.profile`);l=e.block(),o(l),t(`if(`,n,`){`,l,`}`),e=e.block(),s(e),t.exit(`if(`,n,`){`,e,`}`)}function z(e,t,n,r,i){function a(e){switch(e){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function o(n,r,i){function a(){t(`if(!`,u,`.buffer){`,c,`.enableVertexAttribArray(`,l,`);}`);var n=i.type,a=i.size?t.def(i.size,`||`,r):r;t(`if(`,u,`.type!==`,n,`||`,u,`.size!==`,a,`||`,p.map(function(e){return u+`.`+e+`!==`+i[e]}).join(`||`),`){`,c,`.bindBuffer(`,34962,`,`,d,`.buffer);`,c,`.vertexAttribPointer(`,[l,a,n,i.normalized,i.stride,i.offset],`);`,u,`.type=`,n,`;`,u,`.size=`,a,`;`,p.map(function(e){return u+`.`+e+`=`+i[e]+`;`}).join(``),`}`),fe&&(n=i.divisor,t(`if(`,u,`.divisor!==`,n,`){`,e.instancing,`.vertexAttribDivisorANGLE(`,[l,n],`);`,u,`.divisor=`,n,`;}`))}function o(){t(`if(`,u,`.buffer){`,c,`.disableVertexAttribArray(`,l,`);`,u,`.buffer=null;`,`}if(`,Ie.map(function(e,t){return u+`.`+e+`!==`+f[t]}).join(`||`),`){`,c,`.vertexAttrib4f(`,l,`,`,f,`);`,Ie.map(function(e,t){return u+`.`+e+`=`+f[t]+`;`}).join(``),`}`)}var c=s.gl,l=t.def(n,`.location`),u=t.def(s.attributes,`[`,l,`]`);n=i.state;var d=i.buffer,f=[i.x,i.y,i.z,i.w],p=[`buffer`,`normalized`,`offset`,`stride`];n===1?a():n===2?o():(t(`if(`,n,`===`,1,`){`),a(),t(`}else{`),o(),t(`}`))}var s=e.shared;r.forEach(function(r){var s=r.name,c=n.attributes[s],l;if(c){if(!i(c))return;l=c.append(e,t)}else{if(!i(He))return;var u=e.scopeAttrib(s);l={},Object.keys(new ue).forEach(function(e){l[e]=t.def(u,`.`,e)})}o(e.link(r),a(r.info.type),l)})}function B(e,n,r,i,a,o){for(var s=e.shared,c=s.gl,l,u=0;u<i.length;++u){var f=i[u],p=f.name,m=f.info.type,h=r.uniforms[p],f=e.link(f)+`.location`,g;if(h){if(!a(h))continue;if(q(h)){if(p=h.value,m===35678||m===35680)m=e.link(p._texture||p.color[0]._texture),n(c,`.uniform1i(`,f,`,`,m+`.bind());`),n.exit(m,`.unbind();`);else if(m===35674||m===35675||m===35676)p=e.global.def(`new Float32Array([`+Array.prototype.slice.call(p)+`])`),h=2,m===35675?h=3:m===35676&&(h=4),n(c,`.uniformMatrix`,h,`fv(`,f,`,false,`,p,`);`);else{switch(m){case 5126:l=`1f`;break;case 35664:l=`2f`;break;case 35665:l=`3f`;break;case 35666:l=`4f`;break;case 35670:l=`1i`;break;case 5124:l=`1i`;break;case 35671:l=`2i`;break;case 35667:l=`2i`;break;case 35672:l=`3i`;break;case 35668:l=`3i`;break;case 35673:l=`4i`;break;case 35669:l=`4i`}n(c,`.uniform`,l,`(`,f,`,`,C(p)?Array.prototype.slice.call(p):p,`);`)}continue}else g=h.append(e,n)}else{if(!a(He))continue;g=n.def(s.uniforms,`[`,t.id(p),`]`)}switch(m===35678?n(`if(`,g,`&&`,g,`._reglType==="framebuffer"){`,g,`=`,g,`.color[0];`,`}`):m===35680&&n(`if(`,g,`&&`,g,`._reglType==="framebufferCube"){`,g,`=`,g,`.color[0];`,`}`),p=1,m){case 35678:case 35680:m=n.def(g,`._texture`),n(c,`.uniform1i(`,f,`,`,m,`.bind());`),n.exit(m,`.unbind();`);continue;case 5124:case 35670:l=`1i`;break;case 35667:case 35671:l=`2i`,p=2;break;case 35668:case 35672:l=`3i`,p=3;break;case 35669:case 35673:l=`4i`,p=4;break;case 5126:l=`1f`;break;case 35664:l=`2f`,p=2;break;case 35665:l=`3f`,p=3;break;case 35666:l=`4f`,p=4;break;case 35674:l=`Matrix2fv`;break;case 35675:l=`Matrix3fv`;break;case 35676:l=`Matrix4fv`}if(l.charAt(0)===`M`){n(c,`.uniform`,l,`(`,f,`,`);var f=(m-35674+2)**2,_=e.global.def(`new Float32Array(`,f,`)`);Array.isArray(g)?n(`false,(`,d(f,function(e){return _+`[`+e+`]=`+g[e]}),`,`,_,`)`):n(`false,(Array.isArray(`,g,`)||`,g,` instanceof Float32Array)?`,g,`:(`,d(f,function(e){return _+`[`+e+`]=`+g+`[`+e+`]`}),`,`,_,`)`),n(`);`)}else{if(1<p){for(var m=[],v=[],h=0;h<p;++h)Array.isArray(g)?v.push(g[h]):v.push(n.def(g+`[`+h+`]`)),o&&m.push(n.def());o&&n(`if(!`,e.batchId,`||`,m.map(function(e,t){return e+`!==`+v[t]}).join(`||`),`){`,m.map(function(e,t){return e+`=`+v[t]+`;`}).join(``)),n(c,`.uniform`,l,`(`,f,`,`,v.join(`,`),`);`)}else o&&(m=n.def(),n(`if(!`,e.batchId,`||`,m,`!==`,g,`){`,m,`=`,g,`;`)),n(c,`.uniform`,l,`(`,f,`,`,g,`);`);o&&n(`}`)}}}function V(e,t,n,r){function i(i){var a=u[i];return a?a.contextDep&&r.contextDynamic||a.propDep?a.append(e,n):a.append(e,t):t.def(l,`.`,i)}function a(){function e(){n(g,`.drawElementsInstancedANGLE(`,[f,m,_,p+`<<((`+_+`-5121)>>1)`,h],`);`)}function t(){n(g,`.drawArraysInstancedANGLE(`,[f,p,m,h],`);`)}d&&d!==`null`?v?e():(n(`if(`,d,`){`),e(),n(`}else{`),t(),n(`}`)):t()}function o(){function e(){n(c+`.drawElements(`+[f,m,_,p+`<<((`+_+`-5121)>>1)`]+`);`)}function t(){n(c+`.drawArrays(`+[f,p,m]+`);`)}d&&d!==`null`?v?e():(n(`if(`,d,`){`),e(),n(`}else{`),t(),n(`}`)):t()}var s=e.shared,c=s.gl,l=s.draw,u=r.draw,d=function(){var i=u.elements,a=t;return i?((i.contextDep&&r.contextDynamic||i.propDep)&&(a=n),i=i.append(e,a),u.elementsActive&&a(`if(`+i+`)`+c+`.bindBuffer(34963,`+i+`.buffer.buffer);`)):(i=a.def(),a(i,`=`,l,`.`,`elements`,`;`,`if(`,i,`){`,c,`.bindBuffer(`,34963,`,`,i,`.buffer.buffer);}`,`else if(`,s.vao,`.currentVAO){`,i,`=`,e.shared.elements+`.getElements(`+s.vao,`.currentVAO.elements);`,he?``:`if(`+i+`)`+c+`.bindBuffer(34963,`+i+`.buffer.buffer);`,`}`)),i}(),f=i(`primitive`),p=i(`offset`),m=function(){var i=u.count,a=t;return i?((i.contextDep&&r.contextDynamic||i.propDep)&&(a=n),i=i.append(e,a)):i=a.def(l,`.`,`count`),i}();if(typeof m==`number`){if(m===0)return}else n(`if(`,m,`){`),n.exit(`}`);var h,g;fe&&(h=i(`instances`),g=e.instancing);var _=d+`.type`,v=u.elements&&q(u.elements)&&!u.vaoActive;fe&&(typeof h!=`number`||0<=h)?typeof h==`string`?(n(`if(`,h,`>0){`),a(),n(`}else if(`,h,`<0){`),o(),n(`}`)):a():o()}function H(e,t,n,r,i){return t=b(),i=t.proc(`body`,i),fe&&(t.instancing=i.def(t.shared.extensions,`.angle_instanced_arrays`)),e(t,i,n,r),t.compile().body}function U(e,t,n,r){L(e,t),n.useVAO?n.drawVAO?t(e.shared.vao,`.setVAO(`,n.drawVAO.append(e,t),`);`):t(e.shared.vao,`.setVAO(`,e.shared.vao,`.targetVAO);`):(t(e.shared.vao,`.setVAO(null);`),z(e,t,n,r.attributes,function(){return!0})),B(e,t,n,r.uniforms,function(){return!0},!1),V(e,t,t,n)}function te(e,t){var n=e.proc(`draw`,1);L(e,n),N(e,n,t.context),P(e,n,t.framebuffer),F(e,n,t),I(e,n,t.state),R(e,n,t,!1,!0);var r=t.shader.progVar.append(e,n);if(n(e.shared.gl,`.useProgram(`,r,`.program);`),t.shader.program)U(e,n,t,t.shader.program);else{n(e.shared.vao,`.setVAO(null);`);var i=e.global.def(`{}`),a=n.def(r,`.id`),o=n.def(i,`[`,a,`]`);n(e.cond(o).then(o,`.call(this,a0);`).else(o,`=`,i,`[`,a,`]=`,e.link(function(n){return H(U,e,t,n,1)}),`(`,r,`);`,o,`.call(this,a0);`))}0<Object.keys(t.state).length&&n(e.shared.current,`.dirty=true;`),e.shared.vao&&n(e.shared.vao,`.setVAO(null);`)}function ne(e,t,n,r){function i(){return!0}e.batchId=`a1`,L(e,t),z(e,t,n,r.attributes,i),B(e,t,n,r.uniforms,i,!1),V(e,t,t,n)}function ie(e,t,n,r){function i(e){return e.contextDep&&o||e.propDep}function a(e){return!i(e)}L(e,t);var o=n.contextDep,s=t.def(),c=t.def();e.shared.props=c,e.batchId=s;var l=e.scope(),u=e.scope();t(l.entry,`for(`,s,`=0;`,s,`<`,`a1`,`;++`,s,`){`,c,`=`,`a0`,`[`,s,`];`,u,`}`,l.exit),n.needsContext&&N(e,u,n.context),n.needsFramebuffer&&P(e,u,n.framebuffer),I(e,u,n.state,i),n.profile&&i(n.profile)&&R(e,u,n,!1,!0),r?(n.useVAO?n.drawVAO?i(n.drawVAO)?u(e.shared.vao,`.setVAO(`,n.drawVAO.append(e,u),`);`):l(e.shared.vao,`.setVAO(`,n.drawVAO.append(e,l),`);`):l(e.shared.vao,`.setVAO(`,e.shared.vao,`.targetVAO);`):(l(e.shared.vao,`.setVAO(null);`),z(e,l,n,r.attributes,a),z(e,u,n,r.attributes,i)),B(e,l,n,r.uniforms,a,!1),B(e,u,n,r.uniforms,i,!0),V(e,l,u,n)):(t=e.global.def(`{}`),r=n.shader.progVar.append(e,u),c=u.def(r,`.id`),l=u.def(t,`[`,c,`]`),u(e.shared.gl,`.useProgram(`,r,`.program);`,`if(!`,l,`){`,l,`=`,t,`[`,c,`]=`,e.link(function(t){return H(ne,e,n,t,2)}),`(`,r,`);}`,l,`.call(this,a0[`,s,`],`,s,`);`))}function oe(e,t){function n(e){return e.contextDep&&i||e.propDep}var r=e.proc(`batch`,2);e.batchId=`0`,L(e,r);var i=!1,a=!0;Object.keys(t.context).forEach(function(e){i||=t.context[e].propDep}),i||(N(e,r,t.context),a=!1);var o=t.framebuffer,s=!1;if(o?(o.propDep?i=s=!0:o.contextDep&&i&&(s=!0),s||P(e,r,o)):P(e,r,null),t.state.viewport&&t.state.viewport.propDep&&(i=!0),F(e,r,t),I(e,r,t.state,function(e){return!n(e)}),t.profile&&n(t.profile)||R(e,r,t,!1,`a1`),t.contextDep=i,t.needsContext=a,t.needsFramebuffer=s,a=t.shader.progVar,a.contextDep&&i||a.propDep)ie(e,r,t,null);else if(a=a.append(e,r),r(e.shared.gl,`.useProgram(`,a,`.program);`),t.shader.program)ie(e,r,t,t.shader.program);else{r(e.shared.vao,`.setVAO(null);`);var o=e.global.def(`{}`),s=r.def(a,`.id`),c=r.def(o,`[`,s,`]`);r(e.cond(c).then(c,`.call(this,a0,a1);`).else(c,`=`,o,`[`,s,`]=`,e.link(function(n){return H(ie,e,t,n,2)}),`(`,a,`);`,c,`.call(this,a0,a1);`))}0<Object.keys(t.state).length&&r(e.shared.current,`.dirty=true;`),e.shared.vao&&r(e.shared.vao,`.setVAO(null);`)}function se(e,n){function r(t){var r=n.shader[t];r&&(r=r.append(e,i),isNaN(r)?i.set(a.shader,`.`+t,r):i.set(a.shader,`.`+t,e.link(r,{stable:!0})))}var i=e.proc(`scope`,3);e.batchId=`a2`;var a=e.shared,o=a.current;if(N(e,i,n.context),n.framebuffer&&n.framebuffer.append(e,i),K(Object.keys(n.state)).forEach(function(t){var r=n.state[t],o=r.append(e,i);C(o)?o.forEach(function(n,r){isNaN(n)?i.set(e.next[t],`[`+r+`]`,n):i.set(e.next[t],`[`+r+`]`,e.link(n,{stable:!0}))}):q(r)?i.set(a.next,`.`+t,e.link(o,{stable:!0})):i.set(a.next,`.`+t,o)}),R(e,i,n,!0,!0),[`elements`,`offset`,`count`,`instances`,`primitive`].forEach(function(t){var r=n.draw[t];r&&(r=r.append(e,i),isNaN(r)?i.set(a.draw,`.`+t,r):i.set(a.draw,`.`+t,e.link(r),{stable:!0}))}),Object.keys(n.uniforms).forEach(function(r){var o=n.uniforms[r].append(e,i);Array.isArray(o)&&(o=`[`+o.map(function(t){return isNaN(t)?t:e.link(t,{stable:!0})})+`]`),i.set(a.uniforms,`[`+e.link(t.id(r),{stable:!0})+`]`,o)}),Object.keys(n.attributes).forEach(function(t){var r=n.attributes[t].append(e,i),a=e.scopeAttrib(t);Object.keys(new ue).forEach(function(e){i.set(a,`.`+e,r[e])})}),n.scopeVAO){var s=n.scopeVAO.append(e,i);isNaN(s)?i.set(a.vao,`.targetVAO`,s):i.set(a.vao,`.targetVAO`,e.link(s,{stable:!0}))}r(`vert`),r(`frag`),0<Object.keys(n.state).length&&(i(o,`.dirty=true;`),i.exit(o,`.dirty=true;`)),i(`a1(`,e.shared.context,`,a0,`,e.batchId,`);`)}function ce(e){if(typeof e==`object`&&!C(e)){for(var t=Object.keys(e),n=0;n<t.length;++n)if(ae.isDynamic(e[t[n]]))return!0;return!1}}function le(e,t,n){function r(e,t){o.forEach(function(n){var r=i[n];ae.isDynamic(r)&&(r=e.invoke(t,r),t(u,`.`,n,`=`,r,`;`))})}var i=t.static[n];if(i&&ce(i)){var a=e.global,o=Object.keys(i),s=!1,c=!1,l=!1,u=e.global.def(`{}`);o.forEach(function(t){var n=i[t];if(ae.isDynamic(n))typeof n==`function`&&(n=i[t]=ae.unbox(n)),t=Y(n,null),s||=t.thisDep,l||=t.propDep,c||=t.contextDep;else{switch(a(u,`.`,t,`=`),typeof n){case`number`:a(n);break;case`string`:a(`"`,n,`"`);break;case`object`:Array.isArray(n)&&a(`[`,n.join(),`]`);break;default:a(e.link(n))}a(`;`)}}),t.dynamic[n]=new ae.DynamicVariable(4,{thisDep:s,contextDep:c,propDep:l,ref:u,append:r}),delete t.static[n]}}var ue=l.Record,de={add:32774,subtract:32778,"reverse subtract":32779};n.ext_blend_minmax&&(de.min=32775,de.max=32776);var fe=n.angle_instanced_arrays,pe=n.webgl_draw_buffers,he=n.oes_vertex_array_object,ge={dirty:!0,profile:g.profile},_e={},ve=[],be={},xe={};v(`dither`,3024),v(`blend.enable`,3042),y(`blend.color`,`blendColor`,[0,0,0,0]),y(`blend.equation`,`blendEquationSeparate`,[32774,32774]),y(`blend.func`,`blendFuncSeparate`,[1,0,1,0]),v(`depth.enable`,2929,!0),y(`depth.func`,`depthFunc`,513),y(`depth.range`,`depthRange`,[0,1]),y(`depth.mask`,`depthMask`,!0),y(`colorMask`,`colorMask`,[!0,!0,!0,!0]),v(`cull.enable`,2884),y(`cull.face`,`cullFace`,1029),y(`frontFace`,`frontFace`,2305),y(`lineWidth`,`lineWidth`,1),v(`polygonOffset.enable`,32823),y(`polygonOffset.offset`,`polygonOffset`,[0,0]),v(`sample.alpha`,32926),v(`sample.enable`,32928),y(`sample.coverage`,`sampleCoverage`,[1,!1]),v(`stencil.enable`,2960),y(`stencil.mask`,`stencilMask`,-1),y(`stencil.func`,`stencilFunc`,[519,0,-1]),y(`stencil.opFront`,`stencilOpSeparate`,[1028,7680,7680,7680]),y(`stencil.opBack`,`stencilOpSeparate`,[1029,7680,7680,7680]),v(`scissor.enable`,3089),y(`scissor.box`,`scissor`,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),y(`viewport`,`viewport`,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var Se={gl:e,context:p,strings:t,next:_e,current:ge,draw:f,elements:a,buffer:i,shader:u,attributes:l.state,vao:l,uniforms:c,framebuffer:s,extensions:n,timer:m,isBufferArgs:G},Ce={primTypes:ye,compareFuncs:ze,blendFuncs:Re,blendEquations:de,stencilOps:Be,glTypes:me,orientationType:Ve};pe&&(Ce.backBuffer=[1029],Ce.drawBuffer=d(r.maxDrawbuffers,function(e){return e===0?[0]:d(e,function(e){return 36064+e})}));var we=0;return{next:_e,current:ge,procs:function(){var e=b(),t=e.proc(`poll`),i=e.proc(`refresh`),a=e.block();t(a),i(a);var o=e.shared,s=o.gl,c=o.next,l=o.current;a(l,`.dirty=false;`),P(e,t),P(e,i,null,!0);var u;fe&&(u=e.link(fe)),n.oes_vertex_array_object&&i(e.link(n.oes_vertex_array_object),`.bindVertexArrayOES(null);`);var o=i.def(o.attributes),f=i.def(0),p=e.cond(f,`.buffer`);p.then(s,`.enableVertexAttribArray(i);`,s,`.bindBuffer(`,34962,`,`,f,`.buffer.buffer);`,s,`.vertexAttribPointer(i,`,f,`.size,`,f,`.type,`,f,`.normalized,`,f,`.stride,`,f,`.offset);`).else(s,`.disableVertexAttribArray(i);`,s,`.vertexAttrib4f(i,`,f,`.x,`,f,`.y,`,f,`.z,`,f,`.w);`,f,`.buffer=null;`);var m=e.link(r.maxAttributes,{stable:!0});return i(`for(var i=0;i<`,m,`;++i){`,f,`=`,o,`[i];`,p,`}`),fe&&i(`for(var i=0;i<`,m,`;++i){`,u,`.vertexAttribDivisorANGLE(i,`,o,`[i].divisor);`,`}`),i(e.shared.vao,`.currentVAO=null;`,e.shared.vao,`.setVAO(`,e.shared.vao,`.targetVAO);`),Object.keys(be).forEach(function(n){var r=be[n],o=a.def(c,`.`,n),u=e.block();u(`if(`,o,`){`,s,`.enable(`,r,`)}else{`,s,`.disable(`,r,`)}`,l,`.`,n,`=`,o,`;`),i(u),t(`if(`,o,`!==`,l,`.`,n,`){`,u,`}`)}),Object.keys(xe).forEach(function(n){var r=xe[n],o=ge[n],u,f,p=e.block();p(s,`.`,r,`(`),C(o)?(r=o.length,u=e.global.def(c,`.`,n),f=e.global.def(l,`.`,n),p(d(r,function(e){return u+`[`+e+`]`}),`);`,d(r,function(e){return f+`[`+e+`]=`+u+`[`+e+`];`}).join(``)),t(`if(`,d(r,function(e){return u+`[`+e+`]!==`+f+`[`+e+`]`}).join(`||`),`){`,p,`}`)):(u=a.def(c,`.`,n),f=a.def(l,`.`,n),p(u,`);`,l,`.`,n,`=`,u,`;`),t(`if(`,u,`!==`,f,`){`,p,`}`)),i(p)}),e.compile()}(),compile:function(e,t,n,r,i){var a=b();a.stats=a.link(i),Object.keys(t.static).forEach(function(e){le(a,t,e)}),Le.forEach(function(t){le(a,e,t)});var o=M(e,t,n,r,a);return o.shader.program&&(o.shader.program.attributes.sort(function(e,t){return e.name<t.name?-1:1}),o.shader.program.uniforms.sort(function(e,t){return e.name<t.name?-1:1})),te(a,o),se(a,o),oe(a,o),re(a.compile(),{destroy:function(){o.shader.program.destroy()}})}}}function ne(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var re=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;++r)e[n[r]]=t[n[r]];return e},ie=0,ae={DynamicVariable:e,define:function(t,r){return new e(t,n(r+``))},isDynamic:function(t){return typeof t==`function`&&!t._reglType||t instanceof e},unbox:r,accessor:n},oe={next:typeof requestAnimationFrame==`function`?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:typeof cancelAnimationFrame==`function`?function(e){return cancelAnimationFrame(e)}:clearTimeout},se=typeof performance<`u`&&performance.now?function(){return performance.now()}:function(){return+new Date},ce=p();ce.zero=p();var le=function(e,t){var n=1;t.ext_texture_filter_anisotropic&&(n=e.getParameter(34047));var r=1,i=1;t.webgl_draw_buffers&&(r=e.getParameter(34852),i=e.getParameter(36063));var a=!!t.oes_texture_float;if(a){a=e.createTexture(),e.bindTexture(3553,a),e.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var o=e.createFramebuffer();if(e.bindFramebuffer(36160,o),e.framebufferTexture2D(36160,36064,3553,a,0),e.bindTexture(3553,null),e.checkFramebufferStatus(36160)!==36053)a=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(16384);var s=ce.allocType(5126,4);e.readPixels(0,0,1,1,6408,5126,s),e.getError()?a=!1:(e.deleteFramebuffer(o),e.deleteTexture(a),a=s[0]===1),ce.freeType(s)}}return s=!0,typeof navigator<`u`&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(s=e.createTexture(),o=ce.allocType(5121,36),e.activeTexture(33984),e.bindTexture(34067,s),e.texImage2D(34069,0,6408,3,3,0,6408,5121,o),ce.freeType(o),e.bindTexture(34067,null),e.deleteTexture(s),s=!e.getError()),{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter(function(e){return!!t[e]}),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:i,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938),readFloat:a,npotTextureCube:s}},ue=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},de=function(e){return Object.keys(e).map(function(t){return e[t]})},fe={shape:function(e){for(var t=[];e.length;e=e[0])t.push(e.length);return t},flatten:function(e,t,n,r){var i=1;if(t.length)for(var a=0;a<t.length;++a)i*=t[a];else i=0;switch(n=r||ce.allocType(n,i),t.length){case 0:break;case 1:for(r=t[0],t=0;t<r;++t)n[t]=e[t];break;case 2:for(r=t[0],t=t[1],a=i=0;a<r;++a)for(var o=e[a],s=0;s<t;++s)n[i++]=o[s];break;case 3:h(e,t[0],t[1],t[2],n,0);break;default:g(e,t,0,n,0)}return n}},pe={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},me={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},he={dynamic:35048,stream:35040,static:35044},ge=fe.flatten,_e=fe.shape,ve=[];ve[5120]=1,ve[5122]=2,ve[5124]=4,ve[5121]=1,ve[5123]=2,ve[5125]=4,ve[5126]=4;var ye={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},be=new Float32Array(1),xe=new Uint32Array(be.buffer),Se=[9984,9986,9985,9987],Ce=[0,6409,6410,6407,6408],we={};we[6409]=we[6406]=we[6402]=1,we[34041]=we[6410]=2,we[6407]=we[35904]=3,we[6408]=we[35906]=4;var Te=w(`HTMLCanvasElement`),Ee=w(`OffscreenCanvas`),X=w(`CanvasRenderingContext2D`),Z=w(`ImageBitmap`),De=w(`HTMLImageElement`),Q=w(`HTMLVideoElement`),Oe=Object.keys(pe).concat([Te,Ee,X,Z,De,Q]),ke=[];ke[5121]=1,ke[5126]=4,ke[36193]=2,ke[5123]=2,ke[5125]=4;var Ae=[];Ae[32854]=2,Ae[32855]=2,Ae[36194]=2,Ae[34041]=4,Ae[33776]=.5,Ae[33777]=.5,Ae[33778]=1,Ae[33779]=1,Ae[35986]=.5,Ae[35987]=1,Ae[34798]=1,Ae[35840]=.5,Ae[35841]=.25,Ae[35842]=.5,Ae[35843]=.25,Ae[36196]=.5;var je=[];je[32854]=2,je[32855]=2,je[36194]=2,je[33189]=2,je[36168]=1,je[34041]=4,je[35907]=4,je[34836]=16,je[34842]=8,je[34843]=6;var Me=function(e,t,n,r,i){function a(e){this.id=l++,this.refCount=1,this.renderbuffer=e,this.format=32854,this.height=this.width=0,i.profile&&(this.stats={size:0})}function o(t){var n=t.renderbuffer;e.bindRenderbuffer(36161,null),e.deleteRenderbuffer(n),t.renderbuffer=null,t.refCount=0,delete u[t.id],r.renderbufferCount--}var s={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};t.ext_srgb&&(s.srgba=35907),t.ext_color_buffer_half_float&&(s.rgba16f=34842,s.rgb16f=34843),t.webgl_color_buffer_float&&(s.rgba32f=34836);var c=[];Object.keys(s).forEach(function(e){c[s[e]]=e});var l=0,u={};return a.prototype.decRef=function(){0>=--this.refCount&&o(this)},i.profile&&(r.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach(function(t){e+=u[t].stats.size}),e}),{create:function(t,n){function o(t,n){var r=0,a=0,u=32854;if(typeof t==`object`&&t?(`shape`in t?(a=t.shape,r=a[0]|0,a=a[1]|0):(`radius`in t&&(r=a=t.radius|0),`width`in t&&(r=t.width|0),`height`in t&&(a=t.height|0)),`format`in t&&(u=s[t.format])):typeof t==`number`?(r=t|0,a=typeof n==`number`?n|0:r):t||(r=a=1),r!==l.width||a!==l.height||u!==l.format)return o.width=l.width=r,o.height=l.height=a,l.format=u,e.bindRenderbuffer(36161,l.renderbuffer),e.renderbufferStorage(36161,u,r,a),i.profile&&(l.stats.size=je[l.format]*l.width*l.height),o.format=c[l.format],o}var l=new a(e.createRenderbuffer());return u[l.id]=l,r.renderbufferCount++,o(t,n),o.resize=function(t,n){var r=t|0,a=n|0||r;return r===l.width&&a===l.height?o:(o.width=l.width=r,o.height=l.height=a,e.bindRenderbuffer(36161,l.renderbuffer),e.renderbufferStorage(36161,l.format,r,a),i.profile&&(l.stats.size=je[l.format]*l.width*l.height),o)},o._reglType=`renderbuffer`,o._renderbuffer=l,i.profile&&(o.stats=l.stats),o.destroy=function(){l.decRef()},o},clear:function(){de(u).forEach(o)},restore:function(){de(u).forEach(function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,t.renderbuffer),e.renderbufferStorage(36161,t.format,t.width,t.height)}),e.bindRenderbuffer(36161,null)}}},Ne=[];Ne[6408]=4,Ne[6407]=3;var Pe=[];Pe[5121]=1,Pe[5126]=4,Pe[36193]=2;var Fe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Ie=[`x`,`y`,`z`,`w`],Le=`blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset`.split(` `),Re={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},ze={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Be={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ve={cw:2304,ccw:2305},He=new ee(!1,!1,!1,function(){}),Ue=function(e,t){function n(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function r(e,t,r){var i=o.pop()||new n;i.startQueryIndex=e,i.endQueryIndex=t,i.sum=0,i.stats=r,s.push(i)}if(!t.ext_disjoint_timer_query)return null;var i=[],a=[],o=[],s=[],c=[],l=[];return{beginQuery:function(e){var n=i.pop()||t.ext_disjoint_timer_query.createQueryEXT();t.ext_disjoint_timer_query.beginQueryEXT(35007,n),a.push(n),r(a.length-1,a.length,e)},endQuery:function(){t.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:r,update:function(){var e=a.length,n;if(e!==0){l.length=Math.max(l.length,e+1),c.length=Math.max(c.length,e+1),c[0]=0;var r=l[0]=0;for(n=e=0;n<a.length;++n){var u=a[n];t.ext_disjoint_timer_query.getQueryObjectEXT(u,34919)?(r+=t.ext_disjoint_timer_query.getQueryObjectEXT(u,34918),i.push(u)):a[e++]=u,c[n+1]=r,l[n+1]=e}for(a.length=e,n=e=0;n<s.length;++n){var r=s[n],d=r.startQueryIndex,u=r.endQueryIndex;r.sum+=c[u]-c[d],d=l[d],u=l[u],u===d?(r.stats.gpuTime+=r.sum/1e6,o.push(r)):(r.startQueryIndex=d,r.endQueryIndex=u,s[e++]=r)}s.length=e}},getNumPendingQueries:function(){return a.length},clear:function(){i.push.apply(i,a);for(var e=0;e<i.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(i[e]);a.length=0,i.length=0},restore:function(){a.length=0,i.length=0}}};return function(e){function t(){if(K.length===0)T&&T.update(),Y=null;else{Y=oe.next(t),p();for(var e=K.length-1;0<=e;--e){var n=K[e];n&&n(k,null,0)}g.flush(),T&&T.update()}}function n(){!Y&&0<K.length&&(Y=oe.next(t))}function r(){Y&&=(oe.cancel(t),null)}function a(e){e.preventDefault(),r(),ee.forEach(function(e){e()})}function o(e){g.getError(),v.restore(),z.restore(),N.restore(),B.restore(),V.restore(),H.restore(),R.restore(),T&&T.restore(),U.procs.refresh(),n(),q.forEach(function(e){e()})}function s(e){function t(e,t){var n={},r={};return Object.keys(e).forEach(function(i){var a=e[i];if(ae.isDynamic(a))r[i]=ae.unbox(a,i);else{if(t&&Array.isArray(a)){for(var o=0;o<a.length;++o)if(ae.isDynamic(a[o])){r[i]=ae.unbox(a,i);return}}n[i]=a}}),{dynamic:r,static:n}}function n(e){for(;d.length<e;)d.push(null);return d}var r=t(e.context||{},!0),i=t(e.uniforms||{},!0),a=t(e.attributes||{},!1);e=t(function(e){function t(e){if(e in n){var t=n[e];delete n[e],Object.keys(t).forEach(function(r){n[e+`.`+r]=t[r]})}}var n=re({},e);return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,`stencil`in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),t(`blend`),t(`depth`),t(`cull`),t(`stencil`),t(`polygonOffset`),t(`scissor`),t(`sample`),`vao`in e&&(n.vao=e.vao),n}(e),!1);var o={gpuTime:0,cpuTime:0,count:0},s=U.compile(e,a,i,r,o),c=s.draw,l=s.batch,u=s.scope,d=[];return re(function(e,t){var r;if(typeof e==`function`)return u.call(this,null,e,0);if(typeof t==`function`)if(typeof e==`number`)for(r=0;r<e;++r)u.call(this,null,t,r);else if(Array.isArray(e))for(r=0;r<e.length;++r)u.call(this,e[r],t,r);else return u.call(this,e,t,0);else if(typeof e==`number`){if(0<e)return l.call(this,n(e|0),e|0)}else if(Array.isArray(e)){if(e.length)return l.call(this,e,e.length)}else return c.call(this,e)},{stats:o,destroy:function(){s.destroy()}})}function c(e,t){var n=0;U.procs.poll();var r=t.color;r&&(g.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=16384),`depth`in t&&(g.clearDepth(+t.depth),n|=256),`stencil`in t&&(g.clearStencil(t.stencil|0),n|=1024),g.clear(n)}function d(e){return K.push(e),n(),{cancel:function(){function t(){var e=ne(K,t);K[e]=K[K.length-1],--K.length,0>=K.length&&r()}var n=ne(K,e);K[n]=t}}}function f(){var e=W.viewport,t=W.scissor_box;e[0]=e[1]=t[0]=t[1]=0,k.viewportWidth=k.framebufferWidth=k.drawingBufferWidth=e[2]=t[2]=g.drawingBufferWidth,k.viewportHeight=k.framebufferHeight=k.drawingBufferHeight=e[3]=t[3]=g.drawingBufferHeight}function p(){k.tick+=1,k.time=h(),f(),U.procs.poll()}function m(){B.refresh(),f(),U.procs.refresh(),T&&T.update()}function h(){return(se()-E)/1e3}if(e=l(e),!e)return null;var g=e.gl,_=g.getContextAttributes();g.isContextLost();var v=u(g,e);if(!v)return null;var y=i(),S={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},C=e.cachedCode||{},w=v.extensions,T=Ue(g,w),E=se(),D=g.drawingBufferWidth,O=g.drawingBufferHeight,k={tick:0,time:0,viewportWidth:D,viewportHeight:O,framebufferWidth:D,framebufferHeight:O,drawingBufferWidth:D,drawingBufferHeight:O,pixelRatio:e.pixelRatio},D={elements:null,primitive:4,count:-1,offset:0,instances:-1},A=le(g,w),N=b(g,S,e,function(e){return R.destroyBuffer(e)}),L=x(g,w,N,S),R=P(g,w,A,S,N,L,D),z=F(g,y,S,e),B=j(g,w,A,function(){U.procs.poll()},k,S,e),V=Me(g,w,A,S,e),H=M(g,w,A,B,V,S),U=te(g,y,w,A,N,L,B,H,{},R,z,D,k,T,C,e),y=I(g,H,U.procs.poll,k,_,w,A),W=U.next,G=g.canvas,K=[],ee=[],q=[],J=[e.onDestroy],Y=null;G&&(G.addEventListener(`webglcontextlost`,a,!1),G.addEventListener(`webglcontextrestored`,o,!1));var ie=H.setFBO=s({framebuffer:ae.define.call(null,1,`framebuffer`)});return m(),_=re(s,{clear:function(e){if(`framebuffer`in e)if(e.framebuffer&&e.framebuffer_reglType===`framebufferCube`)for(var t=0;6>t;++t)ie(re({framebuffer:e.framebuffer.faces[t]},e),c);else ie(e,c);else c(null,e)},prop:ae.define.bind(null,1),context:ae.define.bind(null,2),this:ae.define.bind(null,3),draw:s({}),buffer:function(e){return N.create(e,34962,!1,!1)},elements:function(e){return L.create(e,!1)},texture:B.create2D,cube:B.createCube,renderbuffer:V.create,framebuffer:H.create,framebufferCube:H.createCube,vao:R.createVAO,attributes:_,frame:d,on:function(e,t){var n;switch(e){case`frame`:return d(t);case`lost`:n=ee;break;case`restore`:n=q;break;case`destroy`:n=J}return n.push(t),{cancel:function(){for(var e=0;e<n.length;++e)if(n[e]===t){n[e]=n[n.length-1],n.pop();break}}}},limits:A,hasExtension:function(e){return 0<=A.extensions.indexOf(e.toLowerCase())},read:y,destroy:function(){K.length=0,r(),G&&(G.removeEventListener(`webglcontextlost`,a),G.removeEventListener(`webglcontextrestored`,o)),z.clear(),H.clear(),V.clear(),R.clear(),B.clear(),L.clear(),N.clear(),T&&T.clear(),J.forEach(function(e){e()})},_gl:g,_refresh:m,poll:function(){p(),T&&T.update()},now:h,stats:S,getCachedCode:function(){return C},preloadCachedCode:function(e){Object.entries(e).forEach(function(e){C[e[0]]=e[1]})}}),e.onDone(null,_),_}})}),71665:(function(e,t,n){var r=n(12856),i=r.Buffer;function a(e,t){for(var n in e)t[n]=e[n]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(a(r,t),t.Buffer=o);function o(e,t,n){return i(e,t,n)}o.prototype=Object.create(i.prototype),a(i,o),o.from=function(e,t,n){if(typeof e==`number`)throw TypeError(`Argument must not be a number`);return i(e,t,n)},o.alloc=function(e,t,n){if(typeof e!=`number`)throw TypeError(`Argument must be a number`);var r=i(e);return t===void 0?r.fill(0):typeof n==`string`?r.fill(t,n):r.fill(t),r},o.allocUnsafe=function(e){if(typeof e!=`number`)throw TypeError(`Argument must be a number`);return i(e)},o.allocUnsafeSlow=function(e){if(typeof e!=`number`)throw TypeError(`Argument must be a number`);return r.SlowBuffer(e)}}),21630:(function(e,t,n){e.exports=i;var r=n(15398).EventEmitter;n(42018)(i,r),i.Readable=n(40410),i.Writable=n(37493),i.Duplex=n(37865),i.Transform=n(74308),i.PassThrough=n(66897),i.finished=n(12726),i.pipeline=n(10168),i.Stream=i;function i(){r.call(this)}i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}n.on(`data`,i);function a(){n.readable&&n.resume&&n.resume()}e.on(`drain`,a),!e._isStdio&&(!t||t.end!==!1)&&(n.on(`end`,s),n.on(`close`,c));var o=!1;function s(){o||(o=!0,e.end())}function c(){o||(o=!0,typeof e.destroy==`function`&&e.destroy())}function l(e){if(u(),r.listenerCount(this,`error`)===0)throw e}n.on(`error`,l),e.on(`error`,l);function u(){n.removeListener(`data`,i),e.removeListener(`drain`,a),n.removeListener(`end`,s),n.removeListener(`close`,c),n.removeListener(`error`,l),e.removeListener(`error`,l),n.removeListener(`end`,u),n.removeListener(`close`,u),e.removeListener(`close`,u)}return n.on(`end`,u),n.on(`close`,u),e.on(`close`,u),e.emit(`pipe`,n),e}}),74322:(function(e){function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var n={};function r(e,r,i){i||=Error;function a(e,t,n){return typeof r==`string`?r:r(e,t,n)}var o=function(e){t(n,e);function n(t,n,r){return e.call(this,a(t,n,r))||this}return n}(i);o.prototype.name=i.name,o.prototype.code=e,n[e]=o}function i(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map(function(e){return String(e)}),n>2?`one of ${t} ${e.slice(0,n-1).join(`, `)}, or `+e[n-1]:n===2?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}else return`of ${t} ${String(e)}`}function a(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}function o(e,t,n){return(n===void 0||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}function s(e,t,n){return typeof n!=`number`&&(n=0),n+t.length>e.length?!1:e.indexOf(t,n)!==-1}r(`ERR_INVALID_OPT_VALUE`,function(e,t){return`The value "`+t+`" is invalid for option "`+e+`"`},TypeError),r(`ERR_INVALID_ARG_TYPE`,function(e,t,n){var r;typeof t==`string`&&a(t,`not `)?(r=`must not be`,t=t.replace(/^not /,``)):r=`must be`;var c=o(e,` argument`)?`The ${e} ${r} ${i(t,`type`)}`:`The "${e}" ${s(e,`.`)?`property`:`argument`} ${r} ${i(t,`type`)}`;return c+=`. Received type ${typeof n}`,c},TypeError),r(`ERR_STREAM_PUSH_AFTER_EOF`,`stream.push() after EOF`),r(`ERR_METHOD_NOT_IMPLEMENTED`,function(e){return`The `+e+` method is not implemented`}),r(`ERR_STREAM_PREMATURE_CLOSE`,`Premature close`),r(`ERR_STREAM_DESTROYED`,function(e){return`Cannot call `+e+` after a stream was destroyed`}),r(`ERR_MULTIPLE_CALLBACK`,`Callback called multiple times`),r(`ERR_STREAM_CANNOT_PIPE`,`Cannot pipe, not readable`),r(`ERR_STREAM_WRITE_AFTER_END`,`write after end`),r(`ERR_STREAM_NULL_VALUES`,`May not write null values to stream`,TypeError),r(`ERR_UNKNOWN_ENCODING`,function(e){return`Unknown encoding: `+e},TypeError),r(`ERR_STREAM_UNSHIFT_AFTER_END_EVENT`,`stream.unshift() after end event`),e.exports.q=n}),37865:(function(e,t,n){var r=n(90386),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var a=n(40410),o=n(37493);n(42018)(u,a);for(var s=i(o.prototype),c=0;c<s.length;c++){var l=s[c];u.prototype[l]||(u.prototype[l]=o.prototype[l])}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(e.readable===!1&&(this.readable=!1),e.writable===!1&&(this.writable=!1),e.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once(`end`,d)))}Object.defineProperty(u.prototype,`writableHighWaterMark`,{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,`writableBuffer`,{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,`writableLength`,{enumerable:!1,get:function(){return this._writableState.length}});function d(){this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,`destroyed`,{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}),66897:(function(e,t,n){e.exports=i;var r=n(74308);n(42018)(i,r);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}i.prototype._transform=function(e,t,n){n(null,e)}}),40410:(function(e,t,n){var r=n(90386);e.exports=O;var i;O.ReadableState=D,n(15398).EventEmitter;var a=function(e,t){return e.listeners(t).length},o=n(71405),s=n(12856).Buffer,c=n.g.Uint8Array||function(){};function l(e){return s.from(e)}function u(e){return s.isBuffer(e)||e instanceof c}var d=n(40964),f=d&&d.debuglog?d.debuglog(`stream`):function(){},p=n(31125),m=n(65756),h=n(56306).getHighWaterMark,g=n(74322).q,_=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,y=g.ERR_METHOD_NOT_IMPLEMENTED,b=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,x,S,C;n(42018)(O,o);var w=m.errorOrDestroy,T=[`error`,`close`,`destroy`,`pause`,`resume`];function E(e,t,n){if(typeof e.prependListener==`function`)return e.prependListener(t,n);!e._events||!e._events[t]?e.on(t,n):Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]}function D(e,t,r){i||=n(37865),e||={},typeof r!=`boolean`&&(r=t instanceof i),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=h(this,e,`readableHighWaterMark`,r),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||`utf8`,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(x||=n(68019).s,this.decoder=new x(e.encoding),this.encoding=e.encoding)}function O(e){if(i||=n(37865),!(this instanceof O))return new O(e);var t=this instanceof i;this._readableState=new D(e,this,t),this.readable=!0,e&&(typeof e.read==`function`&&(this._read=e.read),typeof e.destroy==`function`&&(this._destroy=e.destroy)),o.call(this)}Object.defineProperty(O.prototype,`destroyed`,{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),O.prototype.destroy=m.destroy,O.prototype._undestroy=m.undestroy,O.prototype._destroy=function(e,t){t(e)},O.prototype.push=function(e,t){var n=this._readableState,r;return n.objectMode?r=!0:typeof e==`string`&&(t||=n.defaultEncoding,t!==n.encoding&&(e=s.from(e,t),t=``),r=!0),k(this,e,t,!1,r)},O.prototype.unshift=function(e){return k(this,e,null,!0,!1)};function k(e,t,n,r,i){f(`readableAddChunk`,t);var a=e._readableState;if(t===null)a.reading=!1,F(e,a);else{var o;if(i||(o=j(a,t)),o)w(e,o);else if(a.objectMode||t&&t.length>0)if(typeof t!=`string`&&!a.objectMode&&Object.getPrototypeOf(t)!==s.prototype&&(t=l(t)),r)a.endEmitted?w(e,new b):A(e,a,t,!0);else if(a.ended)w(e,new v);else if(a.destroyed)return!1;else a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||t.length!==0?A(e,a,t,!1):R(e,a)):A(e,a,t,!1);else r||(a.reading=!1,R(e,a))}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function A(e,t,n,r){t.flowing&&t.length===0&&!t.sync?(t.awaitDrain=0,e.emit(`data`,n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&I(e)),R(e,t)}function j(e,t){var n;return!u(t)&&typeof t!=`string`&&t!==void 0&&!e.objectMode&&(n=new _(`chunk`,[`string`,`Buffer`,`Uint8Array`],t)),n}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(e){x||=n(68019).s;var t=new x(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i=``;r!==null;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),i!==``&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var M=1073741824;function N(e){return e>=M?e=M:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function P(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e===e?(e>t.highWaterMark&&(t.highWaterMark=N(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0)):t.flowing&&t.length?t.buffer.head.data.length:t.length}O.prototype.read=function(e){f(`read`,e),e=parseInt(e,10);var t=this._readableState,n=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&((t.highWaterMark===0?t.length>0:t.length>=t.highWaterMark)||t.ended))return f(`read: emitReadable`,t.length,t.ended),t.length===0&&t.ended?ee(this):I(this),null;if(e=P(e,t),e===0&&t.ended)return t.length===0&&ee(this),null;var r=t.needReadable;f(`need readable`,r),(t.length===0||t.length-e<t.highWaterMark)&&(r=!0,f(`length less than watermark`,r)),t.ended||t.reading?(r=!1,f(`reading or ended`,r)):r&&(f(`do read`),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=P(n,t)));var i=e>0?K(e,t):null;return i===null?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),t.length===0&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&ee(this)),i!==null&&this.emit(`data`,i),i};function F(e,t){if(f(`onEofChunk`),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?I(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,L(e)))}}function I(e){var t=e._readableState;f(`emitReadable`,t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(f(`emitReadable`,t.flowing),t.emittedReadable=!0,r.nextTick(L,e))}function L(e){var t=e._readableState;f(`emitReadable_`,t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit(`readable`),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,G(e)}function R(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(z,e,t))}function z(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0);){var n=t.length;if(f(`maybeReadMore read 0`),e.read(0),n===t.length)break}t.readingMore=!1}O.prototype._read=function(e){w(this,new y(`_read()`))},O.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e);break}i.pipesCount+=1,f(`pipe count=%d opts=%j`,i.pipesCount,t);var o=(!t||t.end!==!1)&&e!==r.stdout&&e!==r.stderr?c:_;i.endEmitted?r.nextTick(o):n.once(`end`,o),e.on(`unpipe`,s);function s(e,t){f(`onunpipe`),e===n&&t&&t.hasUnpiped===!1&&(t.hasUnpiped=!0,d())}function c(){f(`onend`),e.end()}var l=B(n);e.on(`drain`,l);var u=!1;function d(){f(`cleanup`),e.removeListener(`close`,h),e.removeListener(`finish`,g),e.removeListener(`drain`,l),e.removeListener(`error`,m),e.removeListener(`unpipe`,s),n.removeListener(`end`,c),n.removeListener(`end`,_),n.removeListener(`data`,p),u=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l()}n.on(`data`,p);function p(t){f(`ondata`);var r=e.write(t);f(`dest.write`,r),r===!1&&((i.pipesCount===1&&i.pipes===e||i.pipesCount>1&&J(i.pipes,e)!==-1)&&!u&&(f(`false write response, pause`,i.awaitDrain),i.awaitDrain++),n.pause())}function m(t){f(`onerror`,t),_(),e.removeListener(`error`,m),a(e,`error`)===0&&w(e,t)}E(e,`error`,m);function h(){e.removeListener(`finish`,g),_()}e.once(`close`,h);function g(){f(`onfinish`),e.removeListener(`close`,h),_()}e.once(`finish`,g);function _(){f(`unpipe`),n.unpipe(e)}return e.emit(`pipe`,n),i.flowing||(f(`pipe resume`),n.resume()),e};function B(e){return function(){var t=e._readableState;f(`pipeOnDrain`,t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&a(e,`data`)&&(t.flowing=!0,G(e))}}O.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||=t.pipes,t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit(`unpipe`,this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)r[a].emit(`unpipe`,this,{hasUnpiped:!1});return this}var o=J(t.pipes,e);return o===-1?this:(t.pipes.splice(o,1),--t.pipesCount,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit(`unpipe`,this,n),this)},O.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),i=this._readableState;return e===`data`?(i.readableListening=this.listenerCount(`readable`)>0,i.flowing!==!1&&this.resume()):e===`readable`&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,f(`on readable`,i.length,i.reading),i.length?I(this):i.reading||r.nextTick(H,this)),n},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return e===`readable`&&r.nextTick(V,this),n},O.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return(e===`readable`||e===void 0)&&r.nextTick(V,this),t};function V(e){var t=e._readableState;t.readableListening=e.listenerCount(`readable`)>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount(`data`)>0&&e.resume()}function H(e){f(`readable nexttick read 0`),e.read(0)}O.prototype.resume=function(){var e=this._readableState;return e.flowing||(f(`resume`),e.flowing=!e.readableListening,U(this,e)),e.paused=!1,this};function U(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(W,e,t))}function W(e,t){f(`resume`,t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit(`resume`),G(e),t.flowing&&!t.reading&&e.read(0)}O.prototype.pause=function(){return f(`call pause flowing=%j`,this._readableState.flowing),this._readableState.flowing!==!1&&(f(`pause`),this._readableState.flowing=!1,this.emit(`pause`)),this._readableState.paused=!0,this};function G(e){var t=e._readableState;for(f(`flow`,t.flowing);t.flowing&&e.read()!==null;);}O.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on(`end`,function(){if(f(`wrapped end`),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on(`data`,function(i){f(`wrapped data`),n.decoder&&(i=n.decoder.write(i)),!(n.objectMode&&i==null)&&(!n.objectMode&&(!i||!i.length)||t.push(i)||(r=!0,e.pause()))}),e)this[i]===void 0&&typeof e[i]==`function`&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<T.length;a++)e.on(T[a],this.emit.bind(this,T[a]));return this._read=function(t){f(`wrapped _read`,t),r&&(r=!1,e.resume())},this},typeof Symbol==`function`&&(O.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=n(68221)),S(this)}),Object.defineProperty(O.prototype,`readableHighWaterMark`,{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,`readableBuffer`,{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,`readableFlowing`,{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),O._fromList=K,Object.defineProperty(O.prototype,`readableLength`,{enumerable:!1,get:function(){return this._readableState.length}});function K(e,t){if(t.length===0)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(``):t.buffer.length===1?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n}function ee(e){var t=e._readableState;f(`endReadable`,t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(q,t,e))}function q(e,t){if(f(`endReadableNT`,e.endEmitted,e.length),!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit(`end`),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}typeof Symbol==`function`&&(O.from=function(e,t){return C===void 0&&(C=n(31748)),C(O,e,t)});function J(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}}),74308:(function(e,t,n){e.exports=u;var r=n(74322).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,a=r.ERR_MULTIPLE_CALLBACK,o=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(37865);n(42018)(u,c);function l(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit(`error`,new a);n.writechunk=null,n.writecb=null,t!=null&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform==`function`&&(this._transform=e.transform),typeof e.flush==`function`&&(this._flush=e.flush)),this.on(`prefinish`,d)}function d(){var e=this;typeof this._flush==`function`&&!this._readableState.destroyed?this._flush(function(t,n){f(e,t,n)}):f(this,null,null)}u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new i(`_transform()`))},u.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,function(e){t(e)})};function f(e,t,n){if(t)return e.emit(`error`,t);if(n!=null&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new o;return e.push(null)}}),37493:(function(e,t,n){var r=n(90386);e.exports=D;function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){W(t,e)}}var a;D.WritableState=T;var o={deprecate:n(20588)},s=n(71405),c=n(12856).Buffer,l=n.g.Uint8Array||function(){};function u(e){return c.from(e)}function d(e){return c.isBuffer(e)||e instanceof l}var f=n(65756),p=n(56306).getHighWaterMark,m=n(74322).q,h=m.ERR_INVALID_ARG_TYPE,g=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_MULTIPLE_CALLBACK,v=m.ERR_STREAM_CANNOT_PIPE,y=m.ERR_STREAM_DESTROYED,b=m.ERR_STREAM_NULL_VALUES,x=m.ERR_STREAM_WRITE_AFTER_END,S=m.ERR_UNKNOWN_ENCODING,C=f.errorOrDestroy;n(42018)(D,s);function w(){}function T(e,t,r){a||=n(37865),e||={},typeof r!=`boolean`&&(r=t instanceof a),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,`writableHighWaterMark`,r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1,this.decodeStrings=e.decodeStrings!==!1,this.defaultEncoding=e.defaultEncoding||`utf8`,this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){F(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=e.emitClose!==!1,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}T.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},(function(){try{Object.defineProperty(T.prototype,`buffer`,{get:o.deprecate(function(){return this.getBuffer()},`_writableState.buffer is deprecated. Use _writableState.getBuffer instead.`,`DEP0003`)})}catch{}})();var E;typeof Symbol==`function`&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==`function`?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(e){return E.call(this,e)?!0:this===D?e&&e._writableState instanceof T:!1}})):E=function(e){return e instanceof this};function D(e){a||=n(37865);var t=this instanceof a;if(!t&&!E.call(D,this))return new D(e);this._writableState=new T(e,this,t),this.writable=!0,e&&(typeof e.write==`function`&&(this._write=e.write),typeof e.writev==`function`&&(this._writev=e.writev),typeof e.destroy==`function`&&(this._destroy=e.destroy),typeof e.final==`function`&&(this._final=e.final)),s.call(this)}D.prototype.pipe=function(){C(this,new v)};function O(e,t){var n=new x;C(e,n),r.nextTick(t,n)}function k(e,t,n,i){var a;return n===null?a=new b:typeof n!=`string`&&!t.objectMode&&(a=new h(`chunk`,[`string`,`Buffer`],n)),a?(C(e,a),r.nextTick(i,a),!1):!0}D.prototype.write=function(e,t,n){var r=this._writableState,i=!1,a=!r.objectMode&&d(e);return a&&!c.isBuffer(e)&&(e=u(e)),typeof t==`function`&&(n=t,t=null),a?t=`buffer`:t||=r.defaultEncoding,typeof n!=`function`&&(n=w),r.ending?O(this,n):(a||k(this,r,e,n))&&(r.pendingcb++,i=j(this,r,a,e,t,n)),i},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest&&R(this,e))},D.prototype.setDefaultEncoding=function(e){if(typeof e==`string`&&(e=e.toLowerCase()),!([`hex`,`utf8`,`utf-8`,`ascii`,`binary`,`base64`,`ucs2`,`ucs-2`,`utf16le`,`utf-16le`,`raw`].indexOf((e+``).toLowerCase())>-1))throw new S(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(D.prototype,`writableBuffer`,{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function A(e,t,n){return!e.objectMode&&e.decodeStrings!==!1&&typeof t==`string`&&(t=c.from(t,n)),t}Object.defineProperty(D.prototype,`writableHighWaterMark`,{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function j(e,t,n,r,i,a){if(!n){var o=A(t,r,i);r!==o&&(n=!0,i=`buffer`,r=o)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:a,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else M(e,t,!1,s,r,i,a);return c}function M(e,t,n,r,i,a,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y(`write`)):n?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function N(e,t,n,i,a){--t.pendingcb,n?(r.nextTick(a,i),r.nextTick(H,e,t),e._writableState.errorEmitted=!0,C(e,i)):(a(i),e._writableState.errorEmitted=!0,C(e,i),H(e,t))}function P(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function F(e,t){var n=e._writableState,i=n.sync,a=n.writecb;if(typeof a!=`function`)throw new _;if(P(n),t)N(e,n,i,t,a);else{var o=z(n)||e.destroyed;!o&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest&&R(e,n),i?r.nextTick(I,e,n,o,a):I(e,n,o,a)}}function I(e,t,n,r){n||L(e,t),t.pendingcb--,r(),H(e,t)}function L(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit(`drain`))}function R(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,a=Array(r),o=t.corkedRequestsFree;o.entry=n;for(var s=0,c=!0;n;)a[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;a.allBuffers=c,M(e,t,!0,t.length,a,``,o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var l=n.chunk,u=n.encoding,d=n.callback;if(M(e,t,!1,t.objectMode?1:l.length,l,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}n===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}D.prototype._write=function(e,t,n){n(new g(`_write()`))},D.prototype._writev=null,D.prototype.end=function(e,t,n){var r=this._writableState;return typeof e==`function`?(n=e,e=null,t=null):typeof t==`function`&&(n=t,t=null),e!=null&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||U(this,r,n),this},Object.defineProperty(D.prototype,`writableLength`,{enumerable:!1,get:function(){return this._writableState.length}});function z(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function B(e,t){e._final(function(n){t.pendingcb--,n&&C(e,n),t.prefinished=!0,e.emit(`prefinish`),H(e,t)})}function V(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final==`function`&&!t.destroyed?(t.pendingcb++,t.finalCalled=!0,r.nextTick(B,e,t)):(t.prefinished=!0,e.emit(`prefinish`)))}function H(e,t){var n=z(t);if(n&&(V(e,t),t.pendingcb===0&&(t.finished=!0,e.emit(`finish`),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}function U(e,t,n){t.ending=!0,H(e,t),n&&(t.finished?r.nextTick(n):e.once(`finish`,n)),t.ended=!0,e.writable=!1}function W(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}Object.defineProperty(D.prototype,`destroyed`,{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),D.prototype.destroy=f.destroy,D.prototype._undestroy=f.undestroy,D.prototype._destroy=function(e,t){t(e)}}),68221:(function(e,t,n){var r=n(90386),i;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(12726),s=Symbol(`lastResolve`),c=Symbol(`lastReject`),l=Symbol(`error`),u=Symbol(`ended`),d=Symbol(`lastPromise`),f=Symbol(`handlePromise`),p=Symbol(`stream`);function m(e,t){return{value:e,done:t}}function h(e){var t=e[s];if(t!==null){var n=e[p].read();n!==null&&(e[d]=null,e[s]=null,e[c]=null,t(m(n,!1)))}}function g(e){r.nextTick(h,e)}function _(e,t){return function(n,r){e.then(function(){if(t[u]){n(m(void 0,!0));return}t[f](n,r)},r)}}var v=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((i={get stream(){return this[p]},next:function(){var e=this,t=this[l];if(t!==null)return Promise.reject(t);if(this[u])return Promise.resolve(m(void 0,!0));if(this[p].destroyed)return new Promise(function(t,n){r.nextTick(function(){e[l]?n(e[l]):t(m(void 0,!0))})});var n=this[d],i;if(n)i=new Promise(_(n,this));else{var a=this[p].read();if(a!==null)return Promise.resolve(m(a,!1));i=new Promise(this[f])}return this[d]=i,i}},a(i,Symbol.asyncIterator,function(){return this}),a(i,`return`,function(){var e=this;return new Promise(function(t,n){e[p].destroy(null,function(e){if(e){n(e);return}t(m(void 0,!0))})})}),i),v);e.exports=function(e){var t,n=Object.create(y,(t={},a(t,p,{value:e,writable:!0}),a(t,s,{value:null,writable:!0}),a(t,c,{value:null,writable:!0}),a(t,l,{value:null,writable:!0}),a(t,u,{value:e._readableState.endEmitted,writable:!0}),a(t,f,{value:function(e,t){var r=n[p].read();r?(n[d]=null,n[s]=null,n[c]=null,e(m(r,!1))):(n[s]=e,n[c]=t)},writable:!0}),t));return n[d]=null,o(e,function(e){if(e&&e.code!==`ERR_STREAM_PREMATURE_CLOSE`){var t=n[c];t!==null&&(n[d]=null,n[s]=null,n[c]=null,t(e)),n[l]=e;return}var r=n[s];r!==null&&(n[d]=null,n[s]=null,n[c]=null,r(m(void 0,!0))),n[u]=!0}),e.on(`readable`,g.bind(null,n)),n}}),31125:(function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var l=n(12856).Buffer,u=n(69862).inspect,d=u&&u.custom||`inspect`;function f(e,t,n){l.prototype.copy.call(e,t,n)}e.exports=function(){function e(){o(this,e),this.head=null,this.tail=null,this.length=0}return c(e,[{key:`push`,value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:`unshift`,value:function(e){var t={data:e,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length}},{key:`shift`,value:function(){if(this.length!==0){var e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:`clear`,value:function(){this.head=this.tail=null,this.length=0}},{key:`join`,value:function(e){if(this.length===0)return``;for(var t=this.head,n=``+t.data;t=t.next;)n+=e+t.data;return n}},{key:`concat`,value:function(e){if(this.length===0)return l.alloc(0);for(var t=l.allocUnsafe(e>>>0),n=this.head,r=0;n;)f(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:`consume`,value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:`first`,value:function(){return this.head.data}},{key:`_getString`,value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,a=e>i.length?i.length:e;if(a===i.length?r+=i:r+=i.slice(0,e),e-=a,e===0){a===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(a));break}++n}return this.length-=n,r}},{key:`_getBuffer`,value:function(e){var t=l.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),e-=a,e===0){a===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(a));break}++r}return this.length-=r,t}},{key:d,value:function(e,t){return u(this,i({},t,{depth:0,customInspect:!1}))}}]),e}()}),65756:(function(e,t,n){var r=n(90386);function i(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return i||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(c,this,e)):r.nextTick(c,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?n._writableState?n._writableState.errorEmitted?r.nextTick(o,n):(n._writableState.errorEmitted=!0,r.nextTick(a,n,e)):r.nextTick(a,n,e):t?(r.nextTick(o,n),t(e)):r.nextTick(o,n)}),this)}function a(e,t){c(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit(`close`)}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function c(e,t){e.emit(`error`,t)}function l(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit(`error`,t)}e.exports={destroy:i,undestroy:s,errorOrDestroy:l}}),12726:(function(e,t,n){var r=n(74322).q.ERR_STREAM_PREMATURE_CLOSE;function i(e){var t=!1;return function(){if(!t){t=!0;var n=[...arguments];e.apply(this,n)}}}function a(){}function o(e){return e.setHeader&&typeof e.abort==`function`}function s(e,t,n){if(typeof t==`function`)return s(e,null,t);t||={},n=i(n||a);var c=t.readable||t.readable!==!1&&e.readable,l=t.writable||t.writable!==!1&&e.writable,u=function(){e.writable||f()},d=e._writableState&&e._writableState.finished,f=function(){l=!1,d=!0,c||n.call(e)},p=e._readableState&&e._readableState.endEmitted,m=function(){c=!1,p=!0,l||n.call(e)},h=function(t){n.call(e,t)},g=function(){var t;if(c&&!p)return(!e._readableState||!e._readableState.ended)&&(t=new r),n.call(e,t);if(l&&!d)return(!e._writableState||!e._writableState.ended)&&(t=new r),n.call(e,t)},_=function(){e.req.on(`finish`,f)};return o(e)?(e.on(`complete`,f),e.on(`abort`,g),e.req?_():e.on(`request`,_)):l&&!e._writableState&&(e.on(`end`,u),e.on(`close`,u)),e.on(`end`,m),e.on(`finish`,f),t.error!==!1&&e.on(`error`,h),e.on(`close`,g),function(){e.removeListener(`complete`,f),e.removeListener(`abort`,g),e.removeListener(`request`,_),e.req&&e.req.removeListener(`finish`,f),e.removeListener(`end`,u),e.removeListener(`close`,u),e.removeListener(`finish`,f),e.removeListener(`end`,m),e.removeListener(`error`,h),e.removeListener(`close`,g)}}e.exports=s}),31748:(function(e){e.exports=function(){throw Error(`Readable.from is not available in the browser`)}}),10168:(function(e,t,n){var r;function i(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var a=n(74322).q,o=a.ERR_MISSING_ARGS,s=a.ERR_STREAM_DESTROYED;function c(e){if(e)throw e}function l(e){return e.setHeader&&typeof e.abort==`function`}function u(e,t,a,o){o=i(o);var c=!1;e.on(`close`,function(){c=!0}),r===void 0&&(r=n(12726)),r(e,{readable:t,writable:a},function(e){if(e)return o(e);c=!0,o()});var u=!1;return function(t){if(!c&&!u){if(u=!0,l(e))return e.abort();if(typeof e.destroy==`function`)return e.destroy();o(t||new s(`pipe`))}}}function d(e){e()}function f(e,t){return e.pipe(t)}function p(e){return!e.length||typeof e[e.length-1]!=`function`?c:e.pop()}function m(){var e=[...arguments],t=p(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o(`streams`);var n,r=e.map(function(i,a){var o=a<e.length-1;return u(i,o,a>0,function(e){n||=e,e&&r.forEach(d),!o&&(r.forEach(d),t(n))})});return e.reduce(f)}e.exports=m}),56306:(function(e,t,n){var r=n(74322).q.ERR_INVALID_OPT_VALUE;function i(e,t,n){return e.highWaterMark==null?t?e[n]:null:e.highWaterMark}function a(e,t,n,a){var o=i(t,a,n);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0)throw new r(a?n:`highWaterMark`,o);return Math.floor(o)}return e.objectMode?16:16*1024}e.exports={getHighWaterMark:a}}),71405:(function(e,t,n){e.exports=n(15398).EventEmitter}),68019:(function(e,t,n){var r=n(71665).Buffer,i=r.isEncoding||function(e){switch(e=``+e,e&&e.toLowerCase()){case`hex`:case`utf8`:case`utf-8`:case`ascii`:case`binary`:case`base64`:case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:case`raw`:return!0;default:return!1}};function a(e){if(!e)return`utf8`;for(var t;;)switch(e){case`utf8`:case`utf-8`:return`utf8`;case`ucs2`:case`ucs-2`:case`utf16le`:case`utf-16le`:return`utf16le`;case`latin1`:case`binary`:return`latin1`;case`base64`:case`ascii`:case`hex`:return e;default:if(t)return;e=(``+e).toLowerCase(),t=!0}}function o(e){var t=a(e);if(typeof t!=`string`&&(r.isEncoding===i||!i(e)))throw Error(`Unknown encoding: `+e);return t||e}t.s=s;function s(e){this.encoding=o(e);var t;switch(this.encoding){case`utf16le`:this.text=m,this.end=h,t=4;break;case`utf8`:this.fillLast=d,t=4;break;case`base64`:this.text=g,this.end=_,t=3;break;default:this.write=v,this.end=y;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}s.prototype.write=function(e){if(e.length===0)return``;var t,n;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return``;n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||``},s.prototype.end=p,s.prototype.text=f,s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function c(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function l(e,t,n){var r=t.length-1;if(r<n)return 0;var i=c(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||i===-2?0:(i=c(t[r]),i>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||i===-2?0:(i=c(t[r]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function u(e,t,n){if((t[0]&192)!=128)return e.lastNeed=0,``;if(e.lastNeed>1&&t.length>1){if((t[1]&192)!=128)return e.lastNeed=1,``;if(e.lastNeed>2&&t.length>2&&(t[2]&192)!=128)return e.lastNeed=2,``}}function d(e){var t=this.lastTotal-this.lastNeed,n=u(this,e,t);if(n!==void 0)return n;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function f(e,t){var n=l(this,e,t);if(!this.lastNeed)return e.toString(`utf8`,t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString(`utf8`,t,r)}function p(e){var t=e&&e.length?this.write(e):``;return this.lastNeed?t+``:t}function m(e,t){if((e.length-t)%2==0){var n=e.toString(`utf16le`,t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString(`utf16le`,t,e.length-1)}function h(e){var t=e&&e.length?this.write(e):``;if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString(`utf16le`,0,n)}return t}function g(e,t){var n=(e.length-t)%3;return n===0?e.toString(`base64`,t):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString(`base64`,t,e.length-n))}function _(e){var t=e&&e.length?this.write(e):``;return this.lastNeed?t+this.lastChar.toString(`base64`,0,3-this.lastNeed):t}function v(e){return e.toString(this.encoding)}function y(e){return e&&e.length?this.write(e):``}}),90715:(function(e,t,n){var r=n(32791),i=n(41633)(`stream-parser`);e.exports=l;var a=-1,o=0,s=1,c=2;function l(e){var t=e&&typeof e._transform==`function`,n=e&&typeof e._write==`function`;if(!t&&!n)throw Error(`must pass a Writable or Transform stream in`);i(`extending Parser into stream`),e._bytes=d,e._skipBytes=f,t&&(e._passthrough=p),t?e._transform=h:e._write=m}function u(e){i(`initializing parser stream`),e._parserBytesLeft=0,e._parserBuffers=[],e._parserBuffered=0,e._parserState=a,e._parserCallback=null,typeof e.push==`function`&&(e._parserOutput=e.push.bind(e)),e._parserInit=!0}function d(e,t){r(!this._parserCallback,`there is already a "callback" set!`),r(isFinite(e)&&e>0,`can only buffer a finite number of bytes > 0, got "`+e+`"`),this._parserInit||u(this),i(`buffering %o bytes`,e),this._parserBytesLeft=e,this._parserCallback=t,this._parserState=o}function f(e,t){r(!this._parserCallback,`there is already a "callback" set!`),r(e>0,`can only skip > 0 bytes, got "`+e+`"`),this._parserInit||u(this),i(`skipping %o bytes`,e),this._parserBytesLeft=e,this._parserCallback=t,this._parserState=s}function p(e,t){r(!this._parserCallback,`There is already a "callback" set!`),r(e>0,`can only pass through > 0 bytes, got "`+e+`"`),this._parserInit||u(this),i(`passing through %o bytes`,e),this._parserBytesLeft=e,this._parserCallback=t,this._parserState=c}function m(e,t,n){this._parserInit||u(this),i(`write(%o bytes)`,e.length),typeof t==`function`&&(n=t),v(this,e,null,n)}function h(e,t,n){this._parserInit||u(this),i(`transform(%o bytes)`,e.length),typeof t!=`function`&&(t=this._parserOutput),v(this,e,t,n)}function g(e,t,n,r){return e._parserBytesLeft<=0?r(Error(`got data but not currently parsing anything`)):t.length<=e._parserBytesLeft?function(){return _(e,t,n,r)}:function(){var i=t.slice(0,e._parserBytesLeft);return _(e,i,n,function(a){if(a)return r(a);if(t.length>i.length)return function(){return g(e,t.slice(i.length),n,r)}})}}function _(e,t,n,r){if(e._parserBytesLeft-=t.length,i(`%o bytes left for stream piece`,e._parserBytesLeft),e._parserState===o?(e._parserBuffers.push(t),e._parserBuffered+=t.length):e._parserState===c&&n(t),e._parserBytesLeft===0){var s=e._parserCallback;if(s&&e._parserState===o&&e._parserBuffers.length>1&&(t=Buffer.concat(e._parserBuffers,e._parserBuffered)),e._parserState!==o&&(t=null),e._parserCallback=null,e._parserBuffered=0,e._parserState=a,e._parserBuffers.splice(0),s){var l=[];t&&l.push(t),n&&l.push(n);var u=s.length>l.length;u&&l.push(y(r));var d=s.apply(e,l);if(!u||r===d)return r}}else return r}var v=y(g);function y(e){return function(){for(var t=e.apply(this,arguments);typeof t==`function`;)t=t();return t}}}),41633:(function(e,t,n){var r=n(90386);t=e.exports=n(74469),t.log=o,t.formatArgs=a,t.save=s,t.load=c,t.useColors=i,t.storage=typeof chrome<`u`&&chrome.storage!==void 0?chrome.storage.local:l(),t.colors=[`lightseagreen`,`forestgreen`,`goldenrod`,`dodgerblue`,`darkorchid`,`crimson`];function i(){return typeof window<`u`&&window.process&&window.process.type===`renderer`?!0:typeof document<`u`&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<`u`&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<`u`&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<`u`&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return`[UnexpectedJSONParseError]: `+e.message}};function a(e){var n=this.useColors;if(e[0]=(n?`%c`:``)+this.namespace+(n?` %c`:` `)+e[0]+(n?`%c `:` `)+`+`+t.humanize(this.diff),n){var r=`color: `+this.color;e.splice(1,0,r,`color: inherit`);var i=0,a=0;e[0].replace(/%[a-zA-Z%]/g,function(e){e!==`%%`&&(i++,e===`%c`&&(a=i))}),e.splice(a,0,r)}}function o(){return typeof console==`object`&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{e==null?t.storage.removeItem(`debug`):t.storage.debug=e}catch{}}function c(){var e;try{e=t.storage.debug}catch{}return!e&&r!==void 0&&`env`in r&&(e=r.env.DEBUG),e}t.enable(c());function l(){try{return window.localStorage}catch{}}}),74469:(function(e,t,n){t=e.exports=a.debug=a.default=a,t.coerce=l,t.disable=s,t.enable=o,t.enabled=c,t.humanize=n(11375),t.names=[],t.skips=[],t.formatters={};var r;function i(e){var n=0,r;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}function a(e){function n(){if(n.enabled){var e=n,i=+new Date;e.diff=i-(r||i),e.prev=r,e.curr=i,r=i;for(var a=Array(arguments.length),o=0;o<a.length;o++)a[o]=arguments[o];a[0]=t.coerce(a[0]),typeof a[0]!=`string`&&a.unshift(`%O`);var s=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if(n===`%%`)return n;s++;var i=t.formatters[r];if(typeof i==`function`){var o=a[s];n=i.call(e,o),a.splice(s,1),s--}return n}),t.formatArgs.call(e,a),(n.log||t.log||console.log.bind(console)).apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=i(e),typeof t.init==`function`&&t.init(n),n}function o(e){t.save(e),t.names=[],t.skips=[];for(var n=(typeof e==`string`?e:``).split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&(e=n[i].replace(/\*/g,`.*?`),e[0]===`-`?t.skips.push(RegExp(`^`+e.substr(1)+`$`)):t.names.push(RegExp(`^`+e+`$`)))}function s(){t.enable(``)}function c(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}}),11375:(function(e){var t=1e3,n=t*60,r=n*60,i=r*24,a=i*365.25;e.exports=function(e,t){t||={};var n=typeof e;if(n===`string`&&e.length>0)return o(e);if(n===`number`&&isNaN(e)===!1)return t.long?c(e):s(e);throw Error(`val is not a non-empty string or a valid number. val=`+JSON.stringify(e))};function o(e){if(e=String(e),!(e.length>100)){var o=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(o){var s=parseFloat(o[1]);switch((o[2]||`ms`).toLowerCase()){case`years`:case`year`:case`yrs`:case`yr`:case`y`:return s*a;case`days`:case`day`:case`d`:return s*i;case`hours`:case`hour`:case`hrs`:case`hr`:case`h`:return s*r;case`minutes`:case`minute`:case`mins`:case`min`:case`m`:return s*n;case`seconds`:case`second`:case`secs`:case`sec`:case`s`:return s*t;case`milliseconds`:case`millisecond`:case`msecs`:case`msec`:case`ms`:return s;default:return}}}}function s(e){return e>=i?Math.round(e/i)+`d`:e>=r?Math.round(e/r)+`h`:e>=n?Math.round(e/n)+`m`:e>=t?Math.round(e/t)+`s`:e+`ms`}function c(e){return l(e,i,`day`)||l(e,r,`hour`)||l(e,n,`minute`)||l(e,t,`second`)||e+` ms`}function l(e,t,n){if(!(e<t))return e<t*1.5?Math.floor(e/t)+` `+n:Math.ceil(e/t)+` `+n+`s`}}),99011:(function(e,t,n){var r=n(88641);e.exports=function(e,t,n){if(e==null)throw Error(`First argument should be a string`);if(t==null)throw Error(`Separator should be a string or a RegExp`);n?(typeof n==`string`||Array.isArray(n))&&(n={ignore:n}):n={},n.escape??=!0,n.ignore==null?n.ignore=[`[]`,`()`,`{}`,`<>`,`""`,`''`,"``",``,``]:(typeof n.ignore==`string`&&(n.ignore=[n.ignore]),n.ignore=n.ignore.map(function(e){return e.length===1&&(e+=e),e}));var i=r.parse(e,{flat:!0,brackets:n.ignore}),a=i[0].split(t);if(n.escape){for(var o=[],s=0;s<a.length;s++){var c=a[s],l=a[s+1];c[c.length-1]===`\\`&&c[c.length-2]!==`\\`?(o.push(c+t+l),s++):o.push(c)}a=o}for(var s=0;s<a.length;s++)i[0]=a[s],a[s]=r.stringify(i,{flat:!0});return a}}),68664:(function(e){e.exports=t;function t(e){for(var t=e.length,n=Array(t),r=Array(t),i=Array(t),a=Array(t),o=Array(t),s=Array(t),c=0;c<t;++c)n[c]=-1,r[c]=0,i[c]=!1,a[c]=0,o[c]=-1,s[c]=[];var l=0,u=[],d=[];function f(t){var c=[t],f=[t];for(n[t]=r[t]=l,i[t]=!0,l+=1;f.length>0;){t=f[f.length-1];var p=e[t];if(a[t]<p.length){for(var m=a[t];m<p.length;++m){var h=p[m];if(n[h]<0){n[h]=r[h]=l,i[h]=!0,l+=1,c.push(h),f.push(h);break}else i[h]&&(r[t]=Math.min(r[t],r[h])|0);o[h]>=0&&s[t].push(o[h])}a[t]=m}else{if(r[t]===n[t]){for(var g=[],_=[],v=0,m=c.length-1;m>=0;--m){var y=c[m];if(i[y]=!1,g.push(y),_.push(s[y]),v+=s[y].length,o[y]=u.length,y===t){c.length=m;break}}u.push(g);for(var b=Array(v),m=0;m<_.length;m++)for(var x=0;x<_[m].length;x++)b[--v]=_[m][x];d.push(b)}f.pop()}}}for(var c=0;c<t;++c)n[c]<0&&f(c);for(var p,c=0;c<d.length;c++){var m=d[c];if(m.length!==0){m.sort(function(e,t){return e-t}),p=[m[0]];for(var h=1;h<m.length;h++)m[h]!==m[h-1]&&p.push(m[h]);d[c]=p}}return{components:u,adjacencyList:d}}}),7095:(function(e,t,n){n.r(t);var r=function(){function e(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(t&&n.length===t));r=!0);}catch(e){i=!0,a=e}finally{try{!r&&o.return&&o.return()}finally{if(i)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw TypeError(`Invalid attempt to destructure non-iterable instance`)}}(),i=Math.PI*2,a=function(e,t,n,r,i,a,o){var s=e.x,c=e.y;s*=t,c*=n;var l=r*s-i*c,u=i*s+r*c;return{x:l+a,y:u+o}},o=function(e,t){var n=t===1.5707963267948966?.551915024494:t===-1.5707963267948966?-.551915024494:4/3*Math.tan(t/4),r=Math.cos(e),i=Math.sin(e),a=Math.cos(e+t),o=Math.sin(e+t);return[{x:r-i*n,y:i+r*n},{x:a+o*n,y:o-a*n},{x:a,y:o}]},s=function(e,t,n,r){var i=e*r-t*n<0?-1:1,a=e*n+t*r;return a>1&&(a=1),a<-1&&(a=-1),i*Math.acos(a)},c=function(e,t,n,r,a,o,c,l,u,d,f,p){var m=a**2,h=o**2,g=f**2,_=p**2,v=m*h-m*_-h*g;v<0&&(v=0),v/=m*_+h*g,v=Math.sqrt(v)*(c===l?-1:1);var y=v*a/o*p,b=v*-o/a*f,x=d*y-u*b+(e+n)/2,S=u*y+d*b+(t+r)/2,C=(f-y)/a,w=(p-b)/o,T=(-f-y)/a,E=(-p-b)/o,D=s(1,0,C,w),O=s(C,w,T,E);return l===0&&O>0&&(O-=i),l===1&&O<0&&(O+=i),[x,S,D,O]};t.default=function(e){var t=e.px,n=e.py,s=e.cx,l=e.cy,u=e.rx,d=e.ry,f=e.xAxisRotation,p=f===void 0?0:f,m=e.largeArcFlag,h=m===void 0?0:m,g=e.sweepFlag,_=g===void 0?0:g,v=[];if(u===0||d===0)return[];var y=Math.sin(p*i/360),b=Math.cos(p*i/360),x=b*(t-s)/2+y*(n-l)/2,S=-y*(t-s)/2+b*(n-l)/2;if(x===0&&S===0)return[];u=Math.abs(u),d=Math.abs(d);var C=x**2/u**2+S**2/d**2;C>1&&(u*=Math.sqrt(C),d*=Math.sqrt(C));var w=r(c(t,n,s,l,u,d,h,_,y,b,x,S),4),T=w[0],E=w[1],D=w[2],O=w[3],k=Math.abs(O)/(i/4);Math.abs(1-k)<1e-7&&(k=1);var A=Math.max(Math.ceil(k),1);O/=A;for(var j=0;j<A;j++)v.push(o(D,O)),D+=O;return v.map(function(e){var t=a(e[0],u,d,b,y,T,E),n=t.x,r=t.y,i=a(e[1],u,d,b,y,T,E),o=i.x,s=i.y,c=a(e[2],u,d,b,y,T,E);return{x1:n,y1:r,x2:o,y2:s,x:c.x,y:c.y}})}}),1750:(function(e,t,n){var r=n(95616),i=n(65185),a=n(29988),o=n(89546),s=n(32791);e.exports=c;function c(e){if(Array.isArray(e)&&e.length===1&&typeof e[0]==`string`&&(e=e[0]),typeof e==`string`&&(s(o(e),`String is not an SVG path.`),e=r(e)),s(Array.isArray(e),`Argument should be a string or an array of path segments.`),e=i(e),e=a(e),!e.length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],n=0,c=e.length;n<c;n++)for(var l=e[n].slice(1),u=0;u<l.length;u+=2)l[u+0]<t[0]&&(t[0]=l[u+0]),l[u+1]<t[1]&&(t[1]=l[u+1]),l[u+0]>t[2]&&(t[2]=l[u+0]),l[u+1]>t[3]&&(t[3]=l[u+1]);return t}}),29988:(function(e,t,n){e.exports=i;var r=n(7095);function i(e){for(var t,n=[],i=0,s=0,c=0,l=0,u=null,d=null,f=0,p=0,m=0,h=e.length;m<h;m++){var g=e[m],_=g[0];switch(_){case`M`:c=g[1],l=g[2];break;case`A`:var v=r({px:f,py:p,cx:g[6],cy:g[7],rx:g[1],ry:g[2],xAxisRotation:g[3],largeArcFlag:g[4],sweepFlag:g[5]});if(!v.length)continue;for(var y=0,b;y<v.length;y++)b=v[y],g=[`C`,b.x1,b.y1,b.x2,b.y2,b.x,b.y],y<v.length-1&&n.push(g);break;case`S`:var x=f,S=p;(t==`C`||t==`S`)&&(x+=x-i,S+=S-s),g=[`C`,x,S,g[1],g[2],g[3],g[4]];break;case`T`:t==`Q`||t==`T`?(u=f*2-u,d=p*2-d):(u=f,d=p),g=o(f,p,u,d,g[1],g[2]);break;case`Q`:u=g[1],d=g[2],g=o(f,p,g[1],g[2],g[3],g[4]);break;case`L`:g=a(f,p,g[1],g[2]);break;case`H`:g=a(f,p,g[1],p);break;case`V`:g=a(f,p,f,g[1]);break;case`Z`:g=a(f,p,c,l);break}t=_,f=g[g.length-2],p=g[g.length-1],g.length>4?(i=g[g.length-4],s=g[g.length-3]):(i=f,s=p),n.push(g)}return n}function a(e,t,n,r){return[`C`,e,t,n,r,n,r]}function o(e,t,n,r,i,a){return[`C`,e/3+2/3*n,t/3+2/3*r,i/3+2/3*n,a/3+2/3*r,i,a]}}),82019:(function(e,t,n){var r=n(1750),i=n(95616),a=n(31457),o=n(89546),s=n(44781),c=document.createElement(`canvas`),l=c.getContext(`2d`);e.exports=u;function u(e,t){if(!o(e))throw Error(`Argument should be valid svg path string`);t||={};var n,u;t.shape?(n=t.shape[0],u=t.shape[1]):(n=c.width=t.w||t.width||200,u=c.height=t.h||t.height||200);var d=Math.min(n,u),p=t.stroke||0,m=t.viewbox||t.viewBox||r(e),h=[n/(m[2]-m[0]),u/(m[3]-m[1])],g=Math.min(h[0]||0,h[1]||0)/2;if(l.fillStyle=`black`,l.fillRect(0,0,n,u),l.fillStyle=`white`,p&&(typeof p!=`number`&&(p=1),p>0?l.strokeStyle=`white`:l.strokeStyle=`black`,l.lineWidth=Math.abs(p)),l.translate(n*.5,u*.5),l.scale(g,g),f()){var _=new Path2D(e);l.fill(_),p&&l.stroke(_)}else a(l,i(e)),l.fill(),p&&l.stroke();return l.setTransform(1,0,0,1,0,0),s(l,{cutoff:t.cutoff==null?.5:t.cutoff,radius:t.radius==null?d*.5:t.radius})}var d;function f(){if(d!=null)return d;var e=document.createElement(`canvas`).getContext(`2d`);if(e.canvas.width=e.canvas.height=1,!window.Path2D)return d=!1;var t=new Path2D(`M0,0h1v1h-1v-1Z`);e.fillStyle=`black`,e.fill(t);var n=e.getImageData(0,0,1,1);return d=n&&n.data&&n.data[3]===255}}),84267:(function(e,t,n){var r;(function(i){var a=/^\s+/,o=/\s+$/,s=0,c=i.round,l=i.min,u=i.max,d=i.random;function f(e,t){if(e||=``,t||={},e instanceof f)return e;if(!(this instanceof f))return new f(e,t);var n=p(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=c(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=n.ok,this._tc_id=s++}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255,a=t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4),o=n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4),s=r<=.03928?r/12.92:i.pow((r+.055)/1.055,2.4);return .2126*a+.7152*o+.0722*s},setAlpha:function(e){return this._a=R(e),this._roundA=c(100*this._a)/100,this},toHsv:function(){var e=_(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=_(this._r,this._g,this._b),t=c(e.h*360),n=c(e.s*100),r=c(e.v*100);return this._a==1?`hsv(`+t+`, `+n+`%, `+r+`%)`:`hsva(`+t+`, `+n+`%, `+r+`%, `+this._roundA+`)`},toHsl:function(){var e=h(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=h(this._r,this._g,this._b),t=c(e.h*360),n=c(e.s*100),r=c(e.l*100);return this._a==1?`hsl(`+t+`, `+n+`%, `+r+`%)`:`hsla(`+t+`, `+n+`%, `+r+`%, `+this._roundA+`)`},toHex:function(e){return y(this._r,this._g,this._b,e)},toHexString:function(e){return`#`+this.toHex(e)},toHex8:function(e){return b(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return`#`+this.toHex8(e)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return this._a==1?`rgb(`+c(this._r)+`, `+c(this._g)+`, `+c(this._b)+`)`:`rgba(`+c(this._r)+`, `+c(this._g)+`, `+c(this._b)+`, `+this._roundA+`)`},toPercentageRgb:function(){return{r:c(z(this._r,255)*100)+`%`,g:c(z(this._g,255)*100)+`%`,b:c(z(this._b,255)*100)+`%`,a:this._a}},toPercentageRgbString:function(){return this._a==1?`rgb(`+c(z(this._r,255)*100)+`%, `+c(z(this._g,255)*100)+`%, `+c(z(this._b,255)*100)+`%)`:`rgba(`+c(z(this._r,255)*100)+`%, `+c(z(this._g,255)*100)+`%, `+c(z(this._b,255)*100)+`%, `+this._roundA+`)`},toName:function(){return this._a===0?`transparent`:this._a<1?!1:I[y(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t=`#`+x(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?`GradientType = 1, `:``;if(e){var i=f(e);n=`#`+x(i._r,i._g,i._b,i._a)}return`progid:DXImageTransform.Microsoft.gradient(`+r+`startColorstr=`+t+`,endColorstr=`+n+`)`},toString:function(e){var t=!!e;e||=this._format;var n=!1,r=this._a<1&&this._a>=0;return!t&&r&&(e===`hex`||e===`hex6`||e===`hex3`||e===`hex4`||e===`hex8`||e===`name`)?e===`name`&&this._a===0?this.toName():this.toRgbString():(e===`rgb`&&(n=this.toRgbString()),e===`prgb`&&(n=this.toPercentageRgbString()),(e===`hex`||e===`hex6`)&&(n=this.toHexString()),e===`hex3`&&(n=this.toHexString(!0)),e===`hex4`&&(n=this.toHex8String(!0)),e===`hex8`&&(n=this.toHex8String()),e===`name`&&(n=this.toName()),e===`hsl`&&(n=this.toHslString()),e===`hsv`&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return f(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(T,arguments)},brighten:function(){return this._applyModification(E,arguments)},darken:function(){return this._applyModification(D,arguments)},desaturate:function(){return this._applyModification(S,arguments)},saturate:function(){return this._applyModification(C,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(N,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(P,arguments)},splitcomplement:function(){return this._applyCombination(M,arguments)},triad:function(){return this._applyCombination(A,arguments)},tetrad:function(){return this._applyCombination(j,arguments)}},f.fromRatio=function(e,t){if(typeof e==`object`){var n={};for(var r in e)e.hasOwnProperty(r)&&(r===`a`?n[r]=e[r]:n[r]=G(e[r]));e=n}return f(e,t)};function p(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,a=null,o=!1,s=!1;return typeof e==`string`&&(e=Y(e)),typeof e==`object`&&(J(e.r)&&J(e.g)&&J(e.b)?(t=m(e.r,e.g,e.b),o=!0,s=String(e.r).substr(-1)===`%`?`prgb`:`rgb`):J(e.h)&&J(e.s)&&J(e.v)?(r=G(e.s),i=G(e.v),t=v(e.h,r,i),o=!0,s=`hsv`):J(e.h)&&J(e.s)&&J(e.l)&&(r=G(e.s),a=G(e.l),t=g(e.h,r,a),o=!0,s=`hsl`),e.hasOwnProperty(`a`)&&(n=e.a)),n=R(n),{ok:o,format:e.format||s,r:l(255,u(t.r,0)),g:l(255,u(t.g,0)),b:l(255,u(t.b,0)),a:n}}function m(e,t,n){return{r:z(e,255)*255,g:z(t,255)*255,b:z(n,255)*255}}function h(e,t,n){e=z(e,255),t=z(t,255),n=z(n,255);var r=u(e,t,n),i=l(e,t,n),a,o,s=(r+i)/2;if(r==i)a=o=0;else{var c=r-i;switch(o=s>.5?c/(2-r-i):c/(r+i),r){case e:a=(t-n)/c+(t<n?6:0);break;case t:a=(n-e)/c+2;break;case n:a=(e-t)/c+4;break}a/=6}return{h:a,s:o,l:s}}function g(e,t,n){var r,i,a;e=z(e,360),t=z(t,100),n=z(n,100);function o(e,t,n){return n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(t===0)r=i=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,c=2*n-s;r=o(c,s,e+1/3),i=o(c,s,e),a=o(c,s,e-1/3)}return{r:r*255,g:i*255,b:a*255}}function _(e,t,n){e=z(e,255),t=z(t,255),n=z(n,255);var r=u(e,t,n),i=l(e,t,n),a,o,s=r,c=r-i;if(o=r===0?0:c/r,r==i)a=0;else{switch(r){case e:a=(t-n)/c+(t<n?6:0);break;case t:a=(n-e)/c+2;break;case n:a=(e-t)/c+4;break}a/=6}return{h:a,s:o,v:s}}function v(e,t,n){e=z(e,360)*6,t=z(t,100),n=z(n,100);var r=i.floor(e),a=e-r,o=n*(1-t),s=n*(1-a*t),c=n*(1-(1-a)*t),l=r%6,u=[n,s,o,o,c,n][l],d=[c,n,n,s,o,o][l],f=[o,o,c,n,n,s][l];return{r:u*255,g:d*255,b:f*255}}function y(e,t,n,r){var i=[W(c(e).toString(16)),W(c(t).toString(16)),W(c(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join(``)}function b(e,t,n,r,i){var a=[W(c(e).toString(16)),W(c(t).toString(16)),W(c(n).toString(16)),W(K(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join(``)}function x(e,t,n,r){return[W(K(r)),W(c(e).toString(16)),W(c(t).toString(16)),W(c(n).toString(16))].join(``)}f.equals=function(e,t){return!e||!t?!1:f(e).toRgbString()==f(t).toRgbString()},f.random=function(){return f.fromRatio({r:d(),g:d(),b:d()})};function S(e,t){t=t===0?0:t||10;var n=f(e).toHsl();return n.s-=t/100,n.s=B(n.s),f(n)}function C(e,t){t=t===0?0:t||10;var n=f(e).toHsl();return n.s+=t/100,n.s=B(n.s),f(n)}function w(e){return f(e).desaturate(100)}function T(e,t){t=t===0?0:t||10;var n=f(e).toHsl();return n.l+=t/100,n.l=B(n.l),f(n)}function E(e,t){t=t===0?0:t||10;var n=f(e).toRgb();return n.r=u(0,l(255,n.r-c(255*-(t/100)))),n.g=u(0,l(255,n.g-c(255*-(t/100)))),n.b=u(0,l(255,n.b-c(255*-(t/100)))),f(n)}function D(e,t){t=t===0?0:t||10;var n=f(e).toHsl();return n.l-=t/100,n.l=B(n.l),f(n)}function O(e,t){var n=f(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,f(n)}function k(e){var t=f(e).toHsl();return t.h=(t.h+180)%360,f(t)}function A(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+120)%360,s:t.s,l:t.l}),f({h:(n+240)%360,s:t.s,l:t.l})]}function j(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+90)%360,s:t.s,l:t.l}),f({h:(n+180)%360,s:t.s,l:t.l}),f({h:(n+270)%360,s:t.s,l:t.l})]}function M(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+72)%360,s:t.s,l:t.l}),f({h:(n+216)%360,s:t.s,l:t.l})]}function N(e,t,n){t||=6,n||=30;var r=f(e).toHsl(),i=360/n,a=[f(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(f(r));return a}function P(e,t){t||=6;for(var n=f(e).toHsv(),r=n.h,i=n.s,a=n.v,o=[],s=1/t;t--;)o.push(f({h:r,s:i,v:a})),a=(a+s)%1;return o}f.mix=function(e,t,n){n=n===0?0:n||50;var r=f(e).toRgb(),i=f(t).toRgb(),a=n/100;return f({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},f.readability=function(e,t){var n=f(e),r=f(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},f.isReadable=function(e,t,n){var r=f.readability(e,t),i,a=!1;switch(i=te(n),i.level+i.size){case`AAsmall`:case`AAAlarge`:a=r>=4.5;break;case`AAlarge`:a=r>=3;break;case`AAAsmall`:a=r>=7;break}return a},f.mostReadable=function(e,t,n){var r=null,i=0,a,o,s,c;n||={},o=n.includeFallbackColors,s=n.level,c=n.size;for(var l=0;l<t.length;l++)a=f.readability(e,t[l]),a>i&&(i=a,r=f(t[l]));return f.isReadable(e,r,{level:s,size:c})||!o?r:(n.includeFallbackColors=!1,f.mostReadable(e,[`#fff`,`#000`],n))};var F=f.names={aliceblue:`f0f8ff`,antiquewhite:`faebd7`,aqua:`0ff`,aquamarine:`7fffd4`,azure:`f0ffff`,beige:`f5f5dc`,bisque:`ffe4c4`,black:`000`,blanchedalmond:`ffebcd`,blue:`00f`,blueviolet:`8a2be2`,brown:`a52a2a`,burlywood:`deb887`,burntsienna:`ea7e5d`,cadetblue:`5f9ea0`,chartreuse:`7fff00`,chocolate:`d2691e`,coral:`ff7f50`,cornflowerblue:`6495ed`,cornsilk:`fff8dc`,crimson:`dc143c`,cyan:`0ff`,darkblue:`00008b`,darkcyan:`008b8b`,darkgoldenrod:`b8860b`,darkgray:`a9a9a9`,darkgreen:`006400`,darkgrey:`a9a9a9`,darkkhaki:`bdb76b`,darkmagenta:`8b008b`,darkolivegreen:`556b2f`,darkorange:`ff8c00`,darkorchid:`9932cc`,darkred:`8b0000`,darksalmon:`e9967a`,darkseagreen:`8fbc8f`,darkslateblue:`483d8b`,darkslategray:`2f4f4f`,darkslategrey:`2f4f4f`,darkturquoise:`00ced1`,darkviolet:`9400d3`,deeppink:`ff1493`,deepskyblue:`00bfff`,dimgray:`696969`,dimgrey:`696969`,dodgerblue:`1e90ff`,firebrick:`b22222`,floralwhite:`fffaf0`,forestgreen:`228b22`,fuchsia:`f0f`,gainsboro:`dcdcdc`,ghostwhite:`f8f8ff`,gold:`ffd700`,goldenrod:`daa520`,gray:`808080`,green:`008000`,greenyellow:`adff2f`,grey:`808080`,honeydew:`f0fff0`,hotpink:`ff69b4`,indianred:`cd5c5c`,indigo:`4b0082`,ivory:`fffff0`,khaki:`f0e68c`,lavender:`e6e6fa`,lavenderblush:`fff0f5`,lawngreen:`7cfc00`,lemonchiffon:`fffacd`,lightblue:`add8e6`,lightcoral:`f08080`,lightcyan:`e0ffff`,lightgoldenrodyellow:`fafad2`,lightgray:`d3d3d3`,lightgreen:`90ee90`,lightgrey:`d3d3d3`,lightpink:`ffb6c1`,lightsalmon:`ffa07a`,lightseagreen:`20b2aa`,lightskyblue:`87cefa`,lightslategray:`789`,lightslategrey:`789`,lightsteelblue:`b0c4de`,lightyellow:`ffffe0`,lime:`0f0`,limegreen:`32cd32`,linen:`faf0e6`,magenta:`f0f`,maroon:`800000`,mediumaquamarine:`66cdaa`,mediumblue:`0000cd`,mediumorchid:`ba55d3`,mediumpurple:`9370db`,mediumseagreen:`3cb371`,mediumslateblue:`7b68ee`,mediumspringgreen:`00fa9a`,mediumturquoise:`48d1cc`,mediumvioletred:`c71585`,midnightblue:`191970`,mintcream:`f5fffa`,mistyrose:`ffe4e1`,moccasin:`ffe4b5`,navajowhite:`ffdead`,navy:`000080`,oldlace:`fdf5e6`,olive:`808000`,olivedrab:`6b8e23`,orange:`ffa500`,orangered:`ff4500`,orchid:`da70d6`,palegoldenrod:`eee8aa`,palegreen:`98fb98`,paleturquoise:`afeeee`,palevioletred:`db7093`,papayawhip:`ffefd5`,peachpuff:`ffdab9`,peru:`cd853f`,pink:`ffc0cb`,plum:`dda0dd`,powderblue:`b0e0e6`,purple:`800080`,rebeccapurple:`663399`,red:`f00`,rosybrown:`bc8f8f`,royalblue:`4169e1`,saddlebrown:`8b4513`,salmon:`fa8072`,sandybrown:`f4a460`,seagreen:`2e8b57`,seashell:`fff5ee`,sienna:`a0522d`,silver:`c0c0c0`,skyblue:`87ceeb`,slateblue:`6a5acd`,slategray:`708090`,slategrey:`708090`,snow:`fffafa`,springgreen:`00ff7f`,steelblue:`4682b4`,tan:`d2b48c`,teal:`008080`,thistle:`d8bfd8`,tomato:`ff6347`,turquoise:`40e0d0`,violet:`ee82ee`,wheat:`f5deb3`,white:`fff`,whitesmoke:`f5f5f5`,yellow:`ff0`,yellowgreen:`9acd32`},I=f.hexNames=L(F);function L(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function R(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function z(e,t){H(e)&&(e=`100%`);var n=U(e);return e=l(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function B(e){return l(1,u(0,e))}function V(e){return parseInt(e,16)}function H(e){return typeof e==`string`&&e.indexOf(`.`)!=-1&&parseFloat(e)===1}function U(e){return typeof e==`string`&&e.indexOf(`%`)!=-1}function W(e){return e.length==1?`0`+e:``+e}function G(e){return e<=1&&(e=e*100+`%`),e}function K(e){return i.round(parseFloat(e)*255).toString(16)}function ee(e){return V(e)/255}var q=(function(){var e=`(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)`,t=`[\\s|\\(]+(`+e+`)[,|\\s]+(`+e+`)[,|\\s]+(`+e+`)\\s*\\)?`,n=`[\\s|\\(]+(`+e+`)[,|\\s]+(`+e+`)[,|\\s]+(`+e+`)[,|\\s]+(`+e+`)\\s*\\)?`;return{CSS_UNIT:new RegExp(e),rgb:RegExp(`rgb`+t),rgba:RegExp(`rgba`+n),hsl:RegExp(`hsl`+t),hsla:RegExp(`hsla`+n),hsv:RegExp(`hsv`+t),hsva:RegExp(`hsva`+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function J(e){return!!q.CSS_UNIT.exec(e)}function Y(e){e=e.replace(a,``).replace(o,``).toLowerCase();var t=!1;if(F[e])e=F[e],t=!0;else if(e==`transparent`)return{r:0,g:0,b:0,a:0,format:`name`};var n;return(n=q.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=q.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=q.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=q.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=q.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=q.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=q.hex8.exec(e))?{r:V(n[1]),g:V(n[2]),b:V(n[3]),a:ee(n[4]),format:t?`name`:`hex8`}:(n=q.hex6.exec(e))?{r:V(n[1]),g:V(n[2]),b:V(n[3]),format:t?`name`:`hex`}:(n=q.hex4.exec(e))?{r:V(n[1]+``+n[1]),g:V(n[2]+``+n[2]),b:V(n[3]+``+n[3]),a:ee(n[4]+``+n[4]),format:t?`name`:`hex8`}:(n=q.hex3.exec(e))?{r:V(n[1]+``+n[1]),g:V(n[2]+``+n[2]),b:V(n[3]+``+n[3]),format:t?`name`:`hex`}:!1}function te(e){var t,n;return e||={level:`AA`,size:`small`},t=(e.level||`AA`).toUpperCase(),n=(e.size||`small`).toLowerCase(),t!==`AA`&&t!==`AAA`&&(t=`AA`),n!==`small`&&n!==`large`&&(n=`small`),{level:t,size:n}}e.exports?e.exports=f:(r=(function(){return f}).call(t,n,t,e),r!==void 0&&(e.exports=r))})(Math)}),57060:(function(e){e.exports=r,e.exports.float32=e.exports.float=r,e.exports.fract32=e.exports.fract=n;var t=new Float32Array(1);function n(e,t){if(e.length){if(e instanceof Float32Array)return new Float32Array(e.length);t instanceof Float32Array||(t=r(e));for(var n=0,i=t.length;n<i;n++)t[n]=e[n]-t[n];return t}return r(e-r(e))}function r(e){return e.length?e instanceof Float32Array?e:new Float32Array(e):(t[0]=e,t[0])}}),75686:(function(e,t,n){var r=n(25677);e.exports=s;var i=96;function a(e,t){var n=r(getComputedStyle(e).getPropertyValue(t));return n[0]*s(n[1],e)}function o(e,t){var n=document.createElement(`div`);n.style[`font-size`]=`128`+e,t.appendChild(n);var r=a(n,`font-size`)/128;return t.removeChild(n),r}function s(e,t){switch(t||=document.body,e=(e||`px`).trim().toLowerCase(),(t===window||t===document)&&(t=document.body),e){case`%`:return t.clientHeight/100;case`ch`:case`ex`:return o(e,t);case`em`:return a(t,`font-size`);case`rem`:return a(document.body,`font-size`);case`vw`:return window.innerWidth/100;case`vh`:return window.innerHeight/100;case`vmin`:return Math.min(window.innerWidth,window.innerHeight)/100;case`vmax`:return Math.max(window.innerWidth,window.innerHeight)/100;case`in`:return i;case`cm`:return i/2.54;case`mm`:return i/25.4;case`pt`:return i/72;case`pc`:return i/6}return 1}}),96892:(function(e,t,n){n.d(t,{zL:function(){return o}});function r(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function i(e){return e}function a(e){if(e==null)return i;var t,n,r=e.scale[0],a=e.scale[1],o=e.translate[0],s=e.translate[1];return function(e,i){i||(t=n=0);var c=2,l=e.length,u=Array(l);for(u[0]=(t+=e[0])*r+o,u[1]=(n+=e[1])*a+s;c<l;)u[c]=e[c],++c;return u}}function o(e,t){return typeof t==`string`&&(t=e.objects[t]),t.type===`GeometryCollection`?{type:`FeatureCollection`,features:t.geometries.map(function(t){return s(e,t)})}:s(e,t)}function s(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,a=c(e,t);return n==null&&r==null?{type:`Feature`,properties:i,geometry:a}:r==null?{type:`Feature`,id:n,properties:i,geometry:a}:{type:`Feature`,id:n,bbox:r,properties:i,geometry:a}}function c(e,t){var n=a(e.transform),i=e.arcs;function o(e,t){t.length&&t.pop();for(var a=i[e<0?~e:e],o=0,s=a.length;o<s;++o)t.push(n(a[o],o));e<0&&r(t,s)}function s(e){return n(e)}function c(e){for(var t=[],n=0,r=e.length;n<r;++n)o(e[n],t);return t.length<2&&t.push(t[0]),t}function l(e){for(var t=c(e);t.length<4;)t.push(t[0]);return t}function u(e){return e.map(l)}function d(e){var t=e.type,n;switch(t){case`GeometryCollection`:return{type:t,geometries:e.geometries.map(d)};case`Point`:n=s(e.coordinates);break;case`MultiPoint`:n=e.coordinates.map(s);break;case`LineString`:n=c(e.arcs);break;case`MultiLineString`:n=e.arcs.map(c);break;case`Polygon`:n=u(e.arcs);break;case`MultiPolygon`:n=e.arcs.map(u);break;default:return null}return{type:t,coordinates:n}}return d(t)}}),73116:(function(e,t,n){var r=n(24511);e.exports=function(e){if(typeof e!=`function`||!hasOwnProperty.call(e,`length`))return!1;try{if(typeof e.length!=`number`||typeof e.call!=`function`||typeof e.apply!=`function`)return!1}catch{return!1}return!r(e)}}),69190:(function(e,t,n){var r=n(24582),i=n(47403),a=n(9234),o=n(6048),s=function(e,t){return e.replace(`%v`,o(t))};e.exports=function(e,t,n){if(!i(n))throw TypeError(s(t,e));if(!r(e)){if(`default`in n)return n.default;if(n.isOptional)return null}var o=a(n.errorMessage);throw r(o)||(o=t),TypeError(s(o,e))}}),18497:(function(e){e.exports=function(e){try{return e.toString()}catch{try{return String(e)}catch{return null}}}}),6048:(function(e,t,n){var r=n(18497),i=/[\n\r\u2028\u2029]/g;e.exports=function(e){var t=r(e);return t===null?`<Non-coercible to string value>`:(t.length>100&&(t=t.slice(0,99)+``),t=t.replace(i,function(e){switch(e){case`
`:return`\\n`;case`\r`:return`\\r`;case`\u2028`:return`\\u2028`;case`\u2029`:return`\\u2029`;default:throw Error(`Unexpected character`)}}),t)}}),47403:(function(e,t,n){var r=n(24582),i={object:!0,function:!0,undefined:!0};e.exports=function(e){return r(e)?hasOwnProperty.call(i,typeof e):!1}}),82527:(function(e,t,n){var r=n(69190),i=n(84985);e.exports=function(e){return i(e)?e:r(e,`%v is not a plain function`,arguments[1])}}),84985:(function(e,t,n){var r=n(73116),i=/^\s*class[\s{/}]/,a=Function.prototype.toString;e.exports=function(e){return!(!r(e)||i.test(a.call(e)))}}),24511:(function(e,t,n){var r=n(47403);e.exports=function(e){if(!r(e))return!1;try{return e.constructor?e.constructor.prototype===e:!1}catch{return!1}}}),9234:(function(e,t,n){var r=n(24582),i=n(47403),a=Object.prototype.toString;e.exports=function(e){if(!r(e))return null;if(i(e)){var t=e.toString;if(typeof t!=`function`||t===a)return null}try{return``+e}catch{return null}}}),10424:(function(e,t,n){var r=n(69190),i=n(24582);e.exports=function(e){return i(e)?e:r(e,`Cannot use %v`,arguments[1])}}),24582:(function(e){var t=void 0;e.exports=function(e){return e!==t&&e!==null}}),58404:(function(e,t,n){var r=n(13547),i=n(12129),a=n(12856).Buffer;n.g.__TYPEDARRAY_POOL||(n.g.__TYPEDARRAY_POOL={UINT8:i([32,0]),UINT16:i([32,0]),UINT32:i([32,0]),BIGUINT64:i([32,0]),INT8:i([32,0]),INT16:i([32,0]),INT32:i([32,0]),BIGINT64:i([32,0]),FLOAT:i([32,0]),DOUBLE:i([32,0]),DATA:i([32,0]),UINT8C:i([32,0]),BUFFER:i([32,0])});var o=typeof Uint8ClampedArray<`u`,s=typeof BigUint64Array<`u`,c=typeof BigInt64Array<`u`,l=n.g.__TYPEDARRAY_POOL;l.UINT8C||=i([32,0]),l.BIGUINT64||=i([32,0]),l.BIGINT64||=i([32,0]),l.BUFFER||=i([32,0]);var u=l.DATA,d=l.BUFFER;t.free=function(e){if(a.isBuffer(e))d[r.log2(e.length)].push(e);else{if(Object.prototype.toString.call(e)!==`[object ArrayBuffer]`&&(e=e.buffer),!e)return;var t=e.length||e.byteLength;u[r.log2(t)|0].push(e)}};function f(e){if(e){var t=e.length||e.byteLength;u[r.log2(t)].push(e)}}function p(e){f(e.buffer)}t.freeUint8=t.freeUint16=t.freeUint32=t.freeBigUint64=t.freeInt8=t.freeInt16=t.freeInt32=t.freeBigInt64=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=p,t.freeArrayBuffer=f,t.freeBuffer=function(e){d[r.log2(e.length)].push(e)},t.malloc=function(e,t){if(t===void 0||t===`arraybuffer`)return m(e);switch(t){case`uint8`:return h(e);case`uint16`:return g(e);case`uint32`:return _(e);case`int8`:return v(e);case`int16`:return y(e);case`int32`:return b(e);case`float`:case`float32`:return x(e);case`double`:case`float64`:return S(e);case`uint8_clamped`:return C(e);case`bigint64`:return T(e);case`biguint64`:return w(e);case`buffer`:return D(e);case`data`:case`dataview`:return E(e);default:return null}return null};function m(e){var e=r.nextPow2(e),t=u[r.log2(e)];return t.length>0?t.pop():new ArrayBuffer(e)}t.mallocArrayBuffer=m;function h(e){return new Uint8Array(m(e),0,e)}t.mallocUint8=h;function g(e){return new Uint16Array(m(2*e),0,e)}t.mallocUint16=g;function _(e){return new Uint32Array(m(4*e),0,e)}t.mallocUint32=_;function v(e){return new Int8Array(m(e),0,e)}t.mallocInt8=v;function y(e){return new Int16Array(m(2*e),0,e)}t.mallocInt16=y;function b(e){return new Int32Array(m(4*e),0,e)}t.mallocInt32=b;function x(e){return new Float32Array(m(4*e),0,e)}t.mallocFloat32=t.mallocFloat=x;function S(e){return new Float64Array(m(8*e),0,e)}t.mallocFloat64=t.mallocDouble=S;function C(e){return o?new Uint8ClampedArray(m(e),0,e):h(e)}t.mallocUint8Clamped=C;function w(e){return s?new BigUint64Array(m(8*e),0,e):null}t.mallocBigUint64=w;function T(e){return c?new BigInt64Array(m(8*e),0,e):null}t.mallocBigInt64=T;function E(e){return new DataView(m(e),0,e)}t.mallocDataView=E;function D(e){e=r.nextPow2(e);var t=d[r.log2(e)];return t.length>0?t.pop():new a(e)}t.mallocBuffer=D,t.clearCache=function(){for(var e=0;e<32;++e)l.UINT8[e].length=0,l.UINT16[e].length=0,l.UINT32[e].length=0,l.INT8[e].length=0,l.INT16[e].length=0,l.INT32[e].length=0,l.FLOAT[e].length=0,l.DOUBLE[e].length=0,l.BIGUINT64[e].length=0,l.BIGINT64[e].length=0,l.UINT8C[e].length=0,u[e].length=0,d[e].length=0}}),90448:(function(e){var t=/[\'\"]/;e.exports=function(e){return e?(t.test(e.charAt(0))&&(e=e.substr(1)),t.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):``}}),93447:(function(e){e.exports=function(e,t,n){Array.isArray(n)||(n=[].slice.call(arguments,2));for(var r=0,i=n.length;r<i;r++){var a=n[r];for(var o in a)if(!(t[o]!==void 0&&!Array.isArray(t[o])&&e[o]===t[o])&&o in t){var s;if(a[o]===!0)s=t[o];else if(a[o]===!1)continue;else if(typeof a[o]==`function`&&(s=a[o](t[o],e,t),s===void 0))continue;e[o]=s}}return e}}),20588:(function(e,t,n){e.exports=r;function r(e,t){if(i(`noDeprecation`))return e;var n=!1;function r(){if(!n){if(i(`throwDeprecation`))throw Error(t);i(`traceDeprecation`)?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}return r}function i(e){try{if(!n.g.localStorage)return!1}catch{return!1}var t=n.g.localStorage[e];return t==null?!1:String(t).toLowerCase()===`true`}}),45920:(function(e){e.exports=function(e){return e&&typeof e==`object`&&typeof e.copy==`function`&&typeof e.fill==`function`&&typeof e.readUInt8==`function`}}),4936:(function(e,t,n){var r=n(47216),i=n(65481),a=n(21099),o=n(9187);function s(e){return e.call.bind(e)}var c=typeof BigInt<`u`,l=typeof Symbol<`u`,u=s(Object.prototype.toString),d=s(Number.prototype.valueOf),f=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);if(c)var m=s(BigInt.prototype.valueOf);if(l)var h=s(Symbol.prototype.valueOf);function g(e,t){if(typeof e!=`object`)return!1;try{return t(e),!0}catch{return!1}}t.isArgumentsObject=r,t.isGeneratorFunction=i,t.isTypedArray=o;function _(e){return typeof Promise<`u`&&e instanceof Promise||typeof e==`object`&&!!e&&typeof e.then==`function`&&typeof e.catch==`function`}t.isPromise=_;function v(e){return typeof ArrayBuffer<`u`&&ArrayBuffer.isView?ArrayBuffer.isView(e):o(e)||V(e)}t.isArrayBufferView=v;function y(e){return a(e)===`Uint8Array`}t.isUint8Array=y;function b(e){return a(e)===`Uint8ClampedArray`}t.isUint8ClampedArray=b;function x(e){return a(e)===`Uint16Array`}t.isUint16Array=x;function S(e){return a(e)===`Uint32Array`}t.isUint32Array=S;function C(e){return a(e)===`Int8Array`}t.isInt8Array=C;function w(e){return a(e)===`Int16Array`}t.isInt16Array=w;function T(e){return a(e)===`Int32Array`}t.isInt32Array=T;function E(e){return a(e)===`Float32Array`}t.isFloat32Array=E;function D(e){return a(e)===`Float64Array`}t.isFloat64Array=D;function O(e){return a(e)===`BigInt64Array`}t.isBigInt64Array=O;function k(e){return a(e)===`BigUint64Array`}t.isBigUint64Array=k;function A(e){return u(e)===`[object Map]`}A.working=typeof Map<`u`&&A(new Map);function j(e){return typeof Map>`u`?!1:A.working?A(e):e instanceof Map}t.isMap=j;function M(e){return u(e)===`[object Set]`}M.working=typeof Set<`u`&&M(new Set);function N(e){return typeof Set>`u`?!1:M.working?M(e):e instanceof Set}t.isSet=N;function P(e){return u(e)===`[object WeakMap]`}P.working=typeof WeakMap<`u`&&P(new WeakMap);function F(e){return typeof WeakMap>`u`?!1:P.working?P(e):e instanceof WeakMap}t.isWeakMap=F;function I(e){return u(e)===`[object WeakSet]`}I.working=typeof WeakSet<`u`&&I(new WeakSet);function L(e){return I(e)}t.isWeakSet=L;function R(e){return u(e)===`[object ArrayBuffer]`}R.working=typeof ArrayBuffer<`u`&&R(new ArrayBuffer);function z(e){return typeof ArrayBuffer>`u`?!1:R.working?R(e):e instanceof ArrayBuffer}t.isArrayBuffer=z;function B(e){return u(e)===`[object DataView]`}B.working=typeof ArrayBuffer<`u`&&typeof DataView<`u`&&B(new DataView(new ArrayBuffer(1),0,1));function V(e){return typeof DataView>`u`?!1:B.working?B(e):e instanceof DataView}t.isDataView=V;var H=typeof SharedArrayBuffer<`u`?SharedArrayBuffer:void 0;function U(e){return u(e)===`[object SharedArrayBuffer]`}function W(e){return H===void 0?!1:(U.working===void 0&&(U.working=U(new H)),U.working?U(e):e instanceof H)}t.isSharedArrayBuffer=W;function G(e){return u(e)===`[object AsyncFunction]`}t.isAsyncFunction=G;function K(e){return u(e)===`[object Map Iterator]`}t.isMapIterator=K;function ee(e){return u(e)===`[object Set Iterator]`}t.isSetIterator=ee;function q(e){return u(e)===`[object Generator]`}t.isGeneratorObject=q;function J(e){return u(e)===`[object WebAssembly.Module]`}t.isWebAssemblyCompiledModule=J;function Y(e){return g(e,d)}t.isNumberObject=Y;function te(e){return g(e,f)}t.isStringObject=te;function ne(e){return g(e,p)}t.isBooleanObject=ne;function re(e){return c&&g(e,m)}t.isBigIntObject=re;function ie(e){return l&&g(e,h)}t.isSymbolObject=ie;function ae(e){return Y(e)||te(e)||ne(e)||re(e)||ie(e)}t.isBoxedPrimitive=ae;function oe(e){return typeof Uint8Array<`u`&&(z(e)||W(e))}t.isAnyArrayBuffer=oe,[`isProxy`,`isExternal`,`isModuleNamespaceObject`].forEach(function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw Error(e+` is not supported in userland`)}})})}),43827:(function(e,t,n){var r=n(90386),i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},a=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(l(arguments[n]));return t.join(` `)}for(var n=1,r=arguments,i=r.length,o=String(e).replace(a,function(e){if(e===`%%`)return`%`;if(n>=i)return e;switch(e){case`%s`:return String(r[n++]);case`%d`:return Number(r[n++]);case`%j`:try{return JSON.stringify(r[n++])}catch{return`[Circular]`}default:return e}}),s=r[n];n<i;s=r[++n])x(s)||!O(s)?o+=` `+s:o+=` `+l(s);return o},t.deprecate=function(e,n){if(r!==void 0&&r.noDeprecation===!0)return e;if(r===void 0)return function(){return t.deprecate(e,n).apply(this,arguments)};var i=!1;function a(){if(!i){if(r.throwDeprecation)throw Error(n);r.traceDeprecation?console.trace(n):console.error(n),i=!0}return e.apply(this,arguments)}return a};var o={},s=/^$/;if(r.env.NODE_DEBUG){var c=r.env.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,`\\$&`).replace(/\*/g,`.*`).replace(/,/g,`$|^`).toUpperCase(),s=RegExp(`^`+c+`$`,`i`)}t.debuglog=function(e){if(e=e.toUpperCase(),!o[e])if(s.test(e)){var n=r.pid;o[e]=function(){var r=t.format.apply(t,arguments);console.error(`%s %d: %s`,e,n,r)}}else o[e]=function(){};return o[e]};function l(e,n){var r={seen:[],stylize:d};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),b(n)?r.showHidden=n:n&&t._extend(r,n),E(r.showHidden)&&(r.showHidden=!1),E(r.depth)&&(r.depth=2),E(r.colors)&&(r.colors=!1),E(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),p(r,e,r.depth)}t.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:`cyan`,number:`yellow`,boolean:`yellow`,undefined:`grey`,null:`bold`,string:`green`,date:`magenta`,regexp:`red`};function u(e,t){var n=l.styles[t];return n?`\x1B[`+l.colors[n][0]+`m`+e+`\x1B[`+l.colors[n][1]+`m`:e}function d(e,t){return e}function f(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function p(e,n,r){if(e.customInspect&&n&&j(n.inspect)&&n.inspect!==t.inspect&&!(n.constructor&&n.constructor.prototype===n)){var i=n.inspect(r,e);return w(i)||(i=p(e,i,r)),i}var a=m(e,n);if(a)return a;var o=Object.keys(n),s=f(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(n)),A(n)&&(o.indexOf(`message`)>=0||o.indexOf(`description`)>=0))return h(n);if(o.length===0){if(j(n)){var c=n.name?`: `+n.name:``;return e.stylize(`[Function`+c+`]`,`special`)}if(D(n))return e.stylize(RegExp.prototype.toString.call(n),`regexp`);if(k(n))return e.stylize(Date.prototype.toString.call(n),`date`);if(A(n))return h(n)}var l=``,u=!1,d=[`{`,`}`];if(y(n)&&(u=!0,d=[`[`,`]`]),j(n)&&(l=` [Function`+(n.name?`: `+n.name:``)+`]`),D(n)&&(l=` `+RegExp.prototype.toString.call(n)),k(n)&&(l=` `+Date.prototype.toUTCString.call(n)),A(n)&&(l=` `+h(n)),o.length===0&&(!u||n.length==0))return d[0]+l+d[1];if(r<0)return D(n)?e.stylize(RegExp.prototype.toString.call(n),`regexp`):e.stylize(`[Object]`,`special`);e.seen.push(n);var b=u?g(e,n,r,s,o):o.map(function(t){return _(e,n,r,s,t,u)});return e.seen.pop(),v(b,l,d)}function m(e,t){if(E(t))return e.stylize(`undefined`,`undefined`);if(w(t)){var n=`'`+JSON.stringify(t).replace(/^"|"$/g,``).replace(/'/g,`\\'`).replace(/\\"/g,`"`)+`'`;return e.stylize(n,`string`)}if(C(t))return e.stylize(``+t,`number`);if(b(t))return e.stylize(``+t,`boolean`);if(x(t))return e.stylize(`null`,`null`)}function h(e){return`[`+Error.prototype.toString.call(e)+`]`}function g(e,t,n,r,i){for(var a=[],o=0,s=t.length;o<s;++o)L(t,String(o))?a.push(_(e,t,n,r,String(o),!0)):a.push(``);return i.forEach(function(i){i.match(/^\d+$/)||a.push(_(e,t,n,r,i,!0))}),a}function _(e,t,n,r,i,a){var o,s,c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]};if(c.get?s=c.set?e.stylize(`[Getter/Setter]`,`special`):e.stylize(`[Getter]`,`special`):c.set&&(s=e.stylize(`[Setter]`,`special`)),L(r,i)||(o=`[`+i+`]`),s||(e.seen.indexOf(c.value)<0?(s=x(n)?p(e,c.value,null):p(e,c.value,n-1),s.indexOf(`
`)>-1&&(s=a?s.split(`
`).map(function(e){return`  `+e}).join(`
`).slice(2):`
`+s.split(`
`).map(function(e){return`   `+e}).join(`
`))):s=e.stylize(`[Circular]`,`special`)),E(o)){if(a&&i.match(/^\d+$/))return s;o=JSON.stringify(``+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.slice(1,-1),o=e.stylize(o,`name`)):(o=o.replace(/'/g,`\\'`).replace(/\\"/g,`"`).replace(/(^"|"$)/g,`'`),o=e.stylize(o,`string`))}return o+`: `+s}function v(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf(`
`)>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,``).length+1},0)>60?n[0]+(t===``?``:t+`
 `)+` `+e.join(`,
  `)+` `+n[1]:n[0]+t+` `+e.join(`, `)+` `+n[1]}t.types=n(4936);function y(e){return Array.isArray(e)}t.isArray=y;function b(e){return typeof e==`boolean`}t.isBoolean=b;function x(e){return e===null}t.isNull=x;function S(e){return e==null}t.isNullOrUndefined=S;function C(e){return typeof e==`number`}t.isNumber=C;function w(e){return typeof e==`string`}t.isString=w;function T(e){return typeof e==`symbol`}t.isSymbol=T;function E(e){return e===void 0}t.isUndefined=E;function D(e){return O(e)&&N(e)===`[object RegExp]`}t.isRegExp=D,t.types.isRegExp=D;function O(e){return typeof e==`object`&&!!e}t.isObject=O;function k(e){return O(e)&&N(e)===`[object Date]`}t.isDate=k,t.types.isDate=k;function A(e){return O(e)&&(N(e)===`[object Error]`||e instanceof Error)}t.isError=A,t.types.isNativeError=A;function j(e){return typeof e==`function`}t.isFunction=j;function M(e){return e===null||typeof e==`boolean`||typeof e==`number`||typeof e==`string`||typeof e==`symbol`||e===void 0}t.isPrimitive=M,t.isBuffer=n(45920);function N(e){return Object.prototype.toString.call(e)}function P(e){return e<10?`0`+e.toString(10):e.toString(10)}var F=[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`];function I(){var e=new Date,t=[P(e.getHours()),P(e.getMinutes()),P(e.getSeconds())].join(`:`);return[e.getDate(),F[e.getMonth()],t].join(` `)}t.log=function(){console.log(`%s - %s`,I(),t.format.apply(t,arguments))},t.inherits=n(42018),t._extend=function(e,t){if(!t||!O(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R=typeof Symbol<`u`?Symbol(`util.promisify.custom`):void 0;t.promisify=function(e){if(typeof e!=`function`)throw TypeError(`The "original" argument must be of type Function`);if(R&&e[R]){var t=e[R];if(typeof t!=`function`)throw TypeError(`The "util.promisify.custom" argument must be of type Function`);return Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise(function(e,r){t=e,n=r}),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push(function(e,r){e?n(e):t(r)});try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),R&&Object.defineProperty(t,R,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=R;function z(e,t){if(!e){var n=Error(`Promise was rejected with a falsy value`);n.reason=e,e=n}return t(e)}function B(e){if(typeof e!=`function`)throw TypeError(`The "original" argument must be of type Function`);function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var i=t.pop();if(typeof i!=`function`)throw TypeError(`The last argument must be of type Function`);var a=this,o=function(){return i.apply(a,arguments)};e.apply(this,t).then(function(e){r.nextTick(o.bind(null,null,e))},function(e){r.nextTick(z.bind(null,e,o))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,i(e)),t}t.callbackify=B}),40372:(function(e,t,n){var r=n(86249);e.exports=function(e){return r(`webgl`,e)}}),21099:(function(e,t,n){var r=n(31353),i=n(72077),a=n(6614),o=n(40383),s=a(`Object.prototype.toString`),c=n(84543)(),l=typeof globalThis>`u`?n.g:globalThis,u=i(),d=a(`String.prototype.slice`),f={},p=Object.getPrototypeOf;c&&o&&p&&r(u,function(e){if(typeof l[e]==`function`){var t=new l[e];if(Symbol.toStringTag in t){var n=p(t),r=o(n,Symbol.toStringTag);r||=o(p(n),Symbol.toStringTag),f[e]=r.get}}});var m=function(e){var t=!1;return r(f,function(n,r){if(!t)try{var i=n.call(e);i===r&&(t=i)}catch{}}),t},h=n(9187);e.exports=function(e){return h(e)?!c||!(Symbol.toStringTag in e)?d(s(e),8,-1):m(e):!1}}),3961:(function(e,t,n){var r=n(63489),i=n(56131),a=r.instance();function o(e){this.local=this.regionalOptions[e||``]||this.regionalOptions[``]}o.prototype=new r.baseCalendar,i(o.prototype,{name:`Chinese`,jdEpoch:1721425.5,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:`Chinese`,epochs:[`BEC`,`EC`],monthNumbers:function(e,t){if(typeof e==`string`){var n=e.match(c);return n?n[0]:``}var r=this._validateYear(e),i=e.month(),a=``+this.toChineseMonth(r,i);return t&&a.length<2&&(a=`0`+a),this.isIntercalaryMonth(r,i)&&(a+=`i`),a},monthNames:function(e){if(typeof e==`string`){var t=e.match(l);return t?t[0]:``}var n=this._validateYear(e),r=e.month(),i=[``,``,``,``,``,``,``,``,``,``,``,``][this.toChineseMonth(n,r)-1];return this.isIntercalaryMonth(n,r)&&(i=``+i),i},monthNamesShort:function(e){if(typeof e==`string`){var t=e.match(u);return t?t[0]:``}var n=this._validateYear(e),r=e.month(),i=[``,``,``,``,``,``,``,``,``,``,``,``][this.toChineseMonth(n,r)-1];return this.isIntercalaryMonth(n,r)&&(i=``+i),i},parseMonth:function(e,t){e=this._validateYear(e);var n=parseInt(t),r;if(isNaN(n))t[0]===``&&(r=!0,t=t.substring(1)),t[t.length-1]===``&&(t=t.substring(0,t.length-1)),n=1+[``,``,``,``,``,``,``,``,``,``,``,``].indexOf(t);else{var i=t[t.length-1];r=i===`i`||i===`I`}return this.toMonthIndex(e,n,r)},dayNames:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`],dayNamesShort:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],dayNamesMin:[`Su`,`Mo`,`Tu`,`We`,`Th`,`Fr`,`Sa`],digits:null,dateFormat:`yyyy/mm/dd`,firstDay:1,isRTL:!1}},_validateYear:function(e,t){if(e.year&&(e=e.year()),typeof e!=`number`||e<1888||e>2111)throw t.replace(/\{0\}/,this.local.name);return e},toMonthIndex:function(e,t,n){var i=this.intercalaryMonth(e);if(n&&t!==i||t<1||t>12)throw r.local.invalidMonth.replace(/\{0\}/,this.local.name);return i?!n&&t<=i?t-1:t:t-1},toChineseMonth:function(e,t){e.year&&(e=e.year(),t=e.month());var n=this.intercalaryMonth(e);if(t<0||t>(n?12:11))throw r.local.invalidMonth.replace(/\{0\}/,this.local.name);return n?t<n?t+1:t:t+1},intercalaryMonth:function(e){return e=this._validateYear(e),d[e-d[0]]>>13},isIntercalaryMonth:function(e,t){e.year&&(e=e.year(),t=e.month());var n=this.intercalaryMonth(e);return!!n&&n===t},leapYear:function(e){return this.intercalaryMonth(e)!==0},weekOfYear:function(e,t,n){var i=f[this._validateYear(e,r.local.invalidyear)-f[0]],o=i>>9&4095,s=i>>5&15,c=i&31,l=a.newDate(o,s,c);l.add(4-(l.dayOfWeek()||7),`d`);var u=this.toJD(e,t,n)-l.toJD();return 1+Math.floor(u/7)},monthsInYear:function(e){return this.leapYear(e)?13:12},daysInMonth:function(e,t){e.year&&(t=e.month(),e=e.year()),e=this._validateYear(e);var n=d[e-d[0]],i=n>>13?12:11;if(t>i)throw r.local.invalidMonth.replace(/\{0\}/,this.local.name);return n&1<<12-t?30:29},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,s,n,r.local.invalidDate);e=this._validateYear(i.year()),t=i.month(),n=i.day();var o=this.isIntercalaryMonth(e,t),s=this.toChineseMonth(e,t),c=m(e,s,n,o);return a.toJD(c.year,c.month,c.day)},fromJD:function(e){var t=a.fromJD(e),n=p(t.year(),t.month(),t.day()),r=this.toMonthIndex(n.year,n.month,n.isIntercalary);return this.newDate(n.year,r,n.day)},fromString:function(e){var t=e.match(s),n=this._validateYear(+t[1]),r=+t[2],i=!!t[3],a=this.toMonthIndex(n,r,i),o=+t[4];return this.newDate(n,a,o)},add:function(e,t,n){var r=e.year(),i=e.month(),a=this.isIntercalaryMonth(r,i),s=this.toChineseMonth(r,i),c=Object.getPrototypeOf(o.prototype).add.call(this,e,t,n);if(n===`y`){var l=c.year(),u=c.month(),d=this.isIntercalaryMonth(l,s),f=a&&d?this.toMonthIndex(l,s,!0):this.toMonthIndex(l,s,!1);f!==u&&c.month(f)}return c}});var s=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,c=/^\d?\d[iI]?/m,l=/^??[]?/m,u=/^??[]?/m;r.calendars.chinese=o;var d=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],f=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function p(e,t,n,r){var i,a;if(typeof e==`object`)i=e,a=t||{};else{if(!(typeof e==`number`&&e>=1888&&e<=2111))throw Error(`Solar year outside range 1888-2111`);if(!(typeof t==`number`&&t>=1&&t<=12))throw Error(`Solar month outside range 1 - 12`);if(!(typeof n==`number`&&n>=1&&n<=31))throw Error(`Solar day outside range 1 - 31`);i={year:e,month:t,day:n},a=r||{}}var o=f[i.year-f[0]];a.year=(i.year<<9|i.month<<5|i.day)>=o?i.year:i.year-1,o=f[a.year-f[0]];var s=o>>9&4095,c=o>>5&15,l=o&31,u,p=new Date(s,c-1,l),m=new Date(i.year,i.month-1,i.day);u=Math.round((m-p)/(24*3600*1e3));var h=d[a.year-d[0]],g;for(g=0;g<13;g++){var _=h&1<<12-g?30:29;if(u<_)break;u-=_}var v=h>>13;return!v||g<v?(a.isIntercalary=!1,a.month=1+g):g===v?(a.isIntercalary=!0,a.month=g):(a.isIntercalary=!1,a.month=g),a.day=1+u,a}function m(e,t,n,r,i){var a,o;if(typeof e==`object`)o=e,a=t||{};else{if(!(typeof e==`number`&&e>=1888&&e<=2111))throw Error(`Lunar year outside range 1888-2111`);if(!(typeof t==`number`&&t>=1&&t<=12))throw Error(`Lunar month outside range 1 - 12`);if(!(typeof n==`number`&&n>=1&&n<=30))throw Error(`Lunar day outside range 1 - 30`);var s;typeof r==`object`?(s=!1,a=r):(s=!!r,a=i||{}),o={year:e,month:t,day:n,isIntercalary:s}}for(var c=o.day-1,l=d[o.year-d[0]],u=l>>13,p=u&&(o.month>u||o.isIntercalary)?o.month:o.month-1,m=0;m<p;m++){var h=l&1<<12-m?30:29;c+=h}var g=f[o.year-f[0]],_=g>>9&4095,v=g>>5&15,y=g&31,b=new Date(_,v-1,y+c);return a.year=b.getFullYear(),a.month=1+b.getMonth(),a.day=b.getDate(),a}}),38751:(function(e,t,n){var r=n(63489),i=n(56131);function a(e){this.local=this.regionalOptions[e||``]||this.regionalOptions[``]}a.prototype=new r.baseCalendar,i(a.prototype,{name:`Coptic`,jdEpoch:1825029.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:`Coptic`,epochs:[`BAM`,`AM`],monthNames:[`Thout`,`Paopi`,`Hathor`,`Koiak`,`Tobi`,`Meshir`,`Paremhat`,`Paremoude`,`Pashons`,`Paoni`,`Epip`,`Mesori`,`Pi Kogi Enavot`],monthNamesShort:[`Tho`,`Pao`,`Hath`,`Koi`,`Tob`,`Mesh`,`Pat`,`Pad`,`Pash`,`Pao`,`Epi`,`Meso`,`PiK`],dayNames:[`Tkyriaka`,`Pesnau`,`Pshoment`,`Peftoou`,`Ptiou`,`Psoou`,`Psabbaton`],dayNamesShort:[`Tky`,`Pes`,`Psh`,`Pef`,`Pti`,`Pso`,`Psa`],dayNamesMin:[`Tk`,`Pes`,`Psh`,`Pef`,`Pt`,`Pso`,`Psa`],digits:null,dateFormat:`dd/mm/yyyy`,firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),e=t.year()+(t.year()<0?1:0);return e%4==3||e%4==-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear||r.regionalOptions[``].invalidYear),13},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),`d`),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===13&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return e=i.year(),e<0&&e++,i.day()+(i.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var t=Math.floor(e)+.5-this.jdEpoch,n=Math.floor((t-Math.floor((t+366)/1461))/365)+1;n<=0&&n--,t=Math.floor(e)+.5-this.newDate(n,1,1).toJD();var r=Math.floor(t/30)+1,i=t-(r-1)*30+1;return this.newDate(n,r,i)}}),r.calendars.coptic=a}),86825:(function(e,t,n){var r=n(63489),i=n(56131);function a(e){this.local=this.regionalOptions[e||``]||this.regionalOptions[``]}a.prototype=new r.baseCalendar,i(a.prototype,{name:`Discworld`,jdEpoch:1721425.5,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:`Discworld`,epochs:[`BUC`,`UC`],monthNames:[`Ick`,`Offle`,`February`,`March`,`April`,`May`,`June`,`Grune`,`August`,`Spune`,`Sektober`,`Ember`,`December`],monthNamesShort:[`Ick`,`Off`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Gru`,`Aug`,`Spu`,`Sek`,`Emb`,`Dec`],dayNames:[`Sunday`,`Octeday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`],dayNamesShort:[`Sun`,`Oct`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],dayNamesMin:[`Su`,`Oc`,`Mo`,`Tu`,`We`,`Th`,`Fr`,`Sa`],digits:null,dateFormat:`yyyy/mm/dd`,firstDay:2,isRTL:!1}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),!1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),13},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),400},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),`d`),Math.floor((r.dayOfYear()-1)/8)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(e,t,n){return(this._validate(e,t,n,r.local.invalidDate).day()+1)%8},weekDay:function(e,t,n){var r=this.dayOfWeek(e,t,n);return r>=2&&r<=6},extraInfo:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return{century:o[Math.floor((i.year()-1)/100)+1]||``}},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return e=i.year()+(i.year()<0?1:0),t=i.month(),n=i.day(),n+(t>1?16:0)+(t>2?(t-2)*32:0)+(e-1)*400+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e+.5)-Math.floor(this.jdEpoch)-1;var t=Math.floor(e/400)+1;e-=(t-1)*400,e+=e>15?16:0;var n=Math.floor(e/32)+1,r=e-(n-1)*32+1;return this.newDate(t<=0?t-1:t,n,r)}});var o={20:`Fruitbat`,21:`Anchovy`};r.calendars.discworld=a}),37715:(function(e,t,n){var r=n(63489),i=n(56131);function a(e){this.local=this.regionalOptions[e||``]||this.regionalOptions[``]}a.prototype=new r.baseCalendar,i(a.prototype,{name:`Ethiopian`,jdEpoch:1724220.5,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:`Ethiopian`,epochs:[`BEE`,`EE`],monthNames:[`Meskerem`,`Tikemet`,`Hidar`,`Tahesas`,`Tir`,`Yekatit`,`Megabit`,`Miazia`,`Genbot`,`Sene`,`Hamle`,`Nehase`,`Pagume`],monthNamesShort:[`Mes`,`Tik`,`Hid`,`Tah`,`Tir`,`Yek`,`Meg`,`Mia`,`Gen`,`Sen`,`Ham`,`Neh`,`Pag`],dayNames:[`Ehud`,`Segno`,`Maksegno`,`Irob`,`Hamus`,`Arb`,`Kidame`],dayNamesShort:[`Ehu`,`Seg`,`Mak`,`Iro`,`Ham`,`Arb`,`Kid`],dayNamesMin:[`Eh`,`Se`,`Ma`,`Ir`,`Ha`,`Ar`,`Ki`],digits:null,dateFormat:`dd/mm/yyyy`,firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),e=t.year()+(t.year()<0?1:0);return e%4==3||e%4==-1},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear||r.regionalOptions[``].invalidYear),13},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),`d`),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===13&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return e=i.year(),e<0&&e++,i.day()+(i.month()-1)*30+(e-1)*365+Math.floor(e/4)+this.jdEpoch-1},fromJD:function(e){var t=Math.floor(e)+.5-this.jdEpoch,n=Math.floor((t-Math.floor((t+366)/1461))/365)+1;n<=0&&n--,t=Math.floor(e)+.5-this.newDate(n,1,1).toJD();var r=Math.floor(t/30)+1,i=t-(r-1)*30+1;return this.newDate(n,r,i)}}),r.calendars.ethiopian=a}),99384:(function(e,t,n){var r=n(63489),i=n(56131);function a(e){this.local=this.regionalOptions[e||``]||this.regionalOptions[``]}a.prototype=new r.baseCalendar,i(a.prototype,{name:`Hebrew`,jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:`Hebrew`,epochs:[`BAM`,`AM`],monthNames:[`Nisan`,`Iyar`,`Sivan`,`Tammuz`,`Av`,`Elul`,`Tishrei`,`Cheshvan`,`Kislev`,`Tevet`,`Shevat`,`Adar`,`Adar II`],monthNamesShort:[`Nis`,`Iya`,`Siv`,`Tam`,`Av`,`Elu`,`Tis`,`Che`,`Kis`,`Tev`,`She`,`Ada`,`Ad2`],dayNames:[`Yom Rishon`,`Yom Sheni`,`Yom Shlishi`,`Yom Revi'i`,`Yom Chamishi`,`Yom Shishi`,`Yom Shabbat`],dayNamesShort:[`Ris`,`She`,`Shl`,`Rev`,`Cha`,`Shi`,`Sha`],dayNamesMin:[`Ri`,`She`,`Shl`,`Re`,`Ch`,`Shi`,`Sha`],digits:null,dateFormat:`dd/mm/yyyy`,firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return this._leapYear(t.year())},_leapYear:function(e){return e=e<0?e+1:e,o(e*7+1,19)<7},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),this._leapYear(e.year?e.year():e)?13:12},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),`d`),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){return e=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear).year(),this.toJD(e===-1?1:e+1,7,1)-this.toJD(e,7,1)},daysInMonth:function(e,t){return e.year&&(t=e.month(),e=e.year()),this._validate(e,t,this.minDay,r.local.invalidMonth),t===12&&this.leapYear(e)||t===8&&o(this.daysInYear(e),10)===5?30:t===9&&o(this.daysInYear(e),10)===3?29:this.daysPerMonth[t-1]},weekDay:function(e,t,n){return this.dayOfWeek(e,t,n)!==6},extraInfo:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return{yearType:(this.leapYear(i)?`embolismic`:`common`)+` `+[`deficient`,`regular`,`complete`][this.daysInYear(i)%10-3]}},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);e=i.year(),t=i.month(),n=i.day();var a=e<=0?e+1:e,o=this.jdEpoch+this._delay1(a)+this._delay2(a)+n+1;if(t<7){for(var s=7;s<=this.monthsInYear(e);s++)o+=this.daysInMonth(e,s);for(var s=1;s<t;s++)o+=this.daysInMonth(e,s)}else for(var s=7;s<t;s++)o+=this.daysInMonth(e,s);return o},_delay1:function(e){var t=Math.floor((235*e-234)/19),n=12084+13753*t,r=t*29+Math.floor(n/25920);return o(3*(r+1),7)<3&&r++,r},_delay2:function(e){var t=this._delay1(e-1),n=this._delay1(e);return this._delay1(e+1)-n===356?2:n-t===382?1:0},fromJD:function(e){e=Math.floor(e)+.5;for(var t=Math.floor((e-this.jdEpoch)*98496/35975351)-1;e>=this.toJD(t===-1?1:t+1,7,1);)t++;for(var n=e<this.toJD(t,1,1)?7:1;e>this.toJD(t,n,this.daysInMonth(t,n));)n++;var r=e-this.toJD(t,n,1)+1;return this.newDate(t,n,r)}});function o(e,t){return e-t*Math.floor(e/t)}r.calendars.hebrew=a}),43805:(function(e,t,n){var r=n(63489),i=n(56131);function a(e){this.local=this.regionalOptions[e||``]||this.regionalOptions[``]}a.prototype=new r.baseCalendar,i(a.prototype,{name:`Islamic`,jdEpoch:1948439.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:`Islamic`,epochs:[`BH`,`AH`],monthNames:[`Muharram`,`Safar`,`Rabi' al-awwal`,`Rabi' al-thani`,`Jumada al-awwal`,`Jumada al-thani`,`Rajab`,`Sha'aban`,`Ramadan`,`Shawwal`,`Dhu al-Qi'dah`,`Dhu al-Hijjah`],monthNamesShort:[`Muh`,`Saf`,`Rab1`,`Rab2`,`Jum1`,`Jum2`,`Raj`,`Sha'`,`Ram`,`Shaw`,`DhuQ`,`DhuH`],dayNames:[`Yawm al-ahad`,`Yawm al-ithnayn`,`Yawm ath-thulaathaa'`,`Yawm al-arbi'aa'`,`Yawm al-khams`,`Yawm al-jum'a`,`Yawm as-sabt`],dayNamesShort:[`Aha`,`Ith`,`Thu`,`Arb`,`Kha`,`Jum`,`Sab`],dayNamesMin:[`Ah`,`It`,`Th`,`Ar`,`Kh`,`Ju`,`Sa`],digits:null,dateFormat:`yyyy/mm/dd`,firstDay:6,isRTL:!1}},leapYear:function(e){return(this._validate(e,this.minMonth,this.minDay,r.local.invalidYear).year()*11+14)%30<11},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),`d`),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){return this.leapYear(e)?355:354},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===12&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return this.dayOfWeek(e,t,n)!==5},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return e=i.year(),t=i.month(),n=i.day(),e=e<=0?e+1:e,n+Math.ceil(29.5*(t-1))+(e-1)*354+Math.floor((3+11*e)/30)+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var t=Math.floor((30*(e-this.jdEpoch)+10646)/10631);t=t<=0?t-1:t;var n=Math.min(12,Math.ceil((e-29-this.toJD(t,1,1))/29.5)+1),r=e-this.toJD(t,n,1)+1;return this.newDate(t,n,r)}}),r.calendars.islamic=a}),88874:(function(e,t,n){var r=n(63489),i=n(56131);function a(e){this.local=this.regionalOptions[e||``]||this.regionalOptions[``]}a.prototype=new r.baseCalendar,i(a.prototype,{name:`Julian`,jdEpoch:1721423.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:`Julian`,epochs:[`BC`,`AD`],monthNames:[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],monthNamesShort:[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],dayNames:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`],dayNamesShort:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],dayNamesMin:[`Su`,`Mo`,`Tu`,`We`,`Th`,`Fr`,`Sa`],digits:null,dateFormat:`mm/dd/yyyy`,firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),e=t.year()<0?t.year()+1:t.year();return e%4==0},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(4-(r.dayOfWeek()||7),`d`),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===2&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return e=i.year(),t=i.month(),n=i.day(),e<0&&e++,t<=2&&(e--,t+=12),Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n-1524.5},fromJD:function(e){var t=Math.floor(e+.5)+1524,n=Math.floor((t-122.1)/365.25),r=Math.floor(365.25*n),i=Math.floor((t-r)/30.6001),a=i-Math.floor(i<14?1:13),o=n-Math.floor(a>2?4716:4715),s=t-r-Math.floor(30.6001*i);return o<=0&&o--,this.newDate(o,a,s)}}),r.calendars.julian=a}),83290:(function(e,t,n){var r=n(63489),i=n(56131);function a(e){this.local=this.regionalOptions[e||``]||this.regionalOptions[``]}a.prototype=new r.baseCalendar,i(a.prototype,{name:`Mayan`,jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:`Mayan`,epochs:[``,``],monthNames:[`0`,`1`,`2`,`3`,`4`,`5`,`6`,`7`,`8`,`9`,`10`,`11`,`12`,`13`,`14`,`15`,`16`,`17`],monthNamesShort:[`0`,`1`,`2`,`3`,`4`,`5`,`6`,`7`,`8`,`9`,`10`,`11`,`12`,`13`,`14`,`15`,`16`,`17`],dayNames:[`0`,`1`,`2`,`3`,`4`,`5`,`6`,`7`,`8`,`9`,`10`,`11`,`12`,`13`,`14`,`15`,`16`,`17`,`18`,`19`],dayNamesShort:[`0`,`1`,`2`,`3`,`4`,`5`,`6`,`7`,`8`,`9`,`10`,`11`,`12`,`13`,`14`,`15`,`16`,`17`,`18`,`19`],dayNamesMin:[`0`,`1`,`2`,`3`,`4`,`5`,`6`,`7`,`8`,`9`,`10`,`11`,`12`,`13`,`14`,`15`,`16`,`17`,`18`,`19`],digits:null,dateFormat:`YYYY.m.d`,firstDay:0,isRTL:!1,haabMonths:[`Pop`,`Uo`,`Zip`,`Zotz`,`Tzec`,`Xul`,`Yaxkin`,`Mol`,`Chen`,`Yax`,`Zac`,`Ceh`,`Mac`,`Kankin`,`Muan`,`Pax`,`Kayab`,`Cumku`,`Uayeb`],tzolkinMonths:[`Imix`,`Ik`,`Akbal`,`Kan`,`Chicchan`,`Cimi`,`Manik`,`Lamat`,`Muluc`,`Oc`,`Chuen`,`Eb`,`Ben`,`Ix`,`Men`,`Cib`,`Caban`,`Etznab`,`Cauac`,`Ahau`]}},leapYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),!1},formatYear:function(e){e=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear).year();var t=Math.floor(e/400);e%=400,e+=e<0?400:0;var n=Math.floor(e/20);return t+`.`+n+`.`+e%20},forYear:function(e){if(e=e.split(`.`),e.length<3)throw`Invalid Mayan year`;for(var t=0,n=0;n<e.length;n++){var r=parseInt(e[n],10);if(Math.abs(r)>19||n>0&&r<0)throw`Invalid Mayan year`;t=t*20+r}return t},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),18},weekOfYear:function(e,t,n){return this._validate(e,t,n,r.local.invalidDate),0},daysInYear:function(e){return this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),360},daysInMonth:function(e,t){return this._validate(e,t,this.minDay,r.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(e,t,n){return this._validate(e,t,n,r.local.invalidDate).day()},weekDay:function(e,t,n){return this._validate(e,t,n,r.local.invalidDate),!0},extraInfo:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate).toJD(),a=this._toHaab(i),o=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[o[0]-1],tzolkinDay:o[0],tzolkinTrecena:o[1]}},_toHaab:function(e){e-=this.jdEpoch;var t=o(e+8+340,365);return[Math.floor(t/20)+1,o(t,20)]},_toTzolkin:function(e){return e-=this.jdEpoch,[s(e+20,20),s(e+4,13)]},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);return i.day()+i.month()*20+i.year()*360+this.jdEpoch},fromJD:function(e){e=Math.floor(e)+.5-this.jdEpoch;var t=Math.floor(e/360);e%=360,e+=e<0?360:0;var n=Math.floor(e/20),r=e%20;return this.newDate(t,n,r)}});function o(e,t){return e-t*Math.floor(e/t)}function s(e,t){return o(e-1,t)+1}r.calendars.mayan=a}),29108:(function(e,t,n){var r=n(63489),i=n(56131);function a(e){this.local=this.regionalOptions[e||``]||this.regionalOptions[``]}a.prototype=new r.baseCalendar;var o=r.instance(`gregorian`);i(a.prototype,{name:`Nanakshahi`,jdEpoch:2257673.5,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:`Nanakshahi`,epochs:[`BN`,`AN`],monthNames:[`Chet`,`Vaisakh`,`Jeth`,`Harh`,`Sawan`,`Bhadon`,`Assu`,`Katak`,`Maghar`,`Poh`,`Magh`,`Phagun`],monthNamesShort:[`Che`,`Vai`,`Jet`,`Har`,`Saw`,`Bha`,`Ass`,`Kat`,`Mgr`,`Poh`,`Mgh`,`Pha`],dayNames:[`Somvaar`,`Mangalvar`,`Budhvaar`,`Veervaar`,`Shukarvaar`,`Sanicharvaar`,`Etvaar`],dayNamesShort:[`Som`,`Mangal`,`Budh`,`Veer`,`Shukar`,`Sanichar`,`Et`],dayNamesMin:[`So`,`Ma`,`Bu`,`Ve`,`Sh`,`Sa`,`Et`],digits:null,dateFormat:`dd-mm-yyyy`,firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear||r.regionalOptions[``].invalidYear);return o.leapYear(t.year()+(t.year()<1?1:0)+1469)},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(1-(r.dayOfWeek()||7),`d`),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===12&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidMonth),e=i.year();e<0&&e++;for(var a=i.day(),s=1;s<i.month();s++)a+=this.daysPerMonth[s-1];return a+o.toJD(e+1468,3,13)},fromJD:function(e){e=Math.floor(e+.5);for(var t=Math.floor((e-(this.jdEpoch-1))/366);e>=this.toJD(t+1,1,1);)t++;for(var n=e-Math.floor(this.toJD(t,1,1)+.5)+1,r=1;n>this.daysInMonth(t,r);)n-=this.daysInMonth(t,r),r++;return this.newDate(t,r,n)}}),r.calendars.nanakshahi=a}),55422:(function(e,t,n){var r=n(63489),i=n(56131);function a(e){this.local=this.regionalOptions[e||``]||this.regionalOptions[``]}a.prototype=new r.baseCalendar,i(a.prototype,{name:`Nepali`,jdEpoch:1700709.5,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:`Nepali`,epochs:[`BBS`,`ABS`],monthNames:[`Baisakh`,`Jestha`,`Ashadh`,`Shrawan`,`Bhadra`,`Ashwin`,`Kartik`,`Mangsir`,`Paush`,`Mangh`,`Falgun`,`Chaitra`],monthNamesShort:[`Bai`,`Je`,`As`,`Shra`,`Bha`,`Ash`,`Kar`,`Mang`,`Pau`,`Ma`,`Fal`,`Chai`],dayNames:[`Aaitabaar`,`Sombaar`,`Manglbaar`,`Budhabaar`,`Bihibaar`,`Shukrabaar`,`Shanibaar`],dayNamesShort:[`Aaita`,`Som`,`Mangl`,`Budha`,`Bihi`,`Shukra`,`Shani`],dayNamesMin:[`Aai`,`So`,`Man`,`Bu`,`Bi`,`Shu`,`Sha`],digits:null,dateFormat:`dd/mm/yyyy`,firstDay:1,isRTL:!1}},leapYear:function(e){return this.daysInYear(e)!==this.daysPerYear},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),`d`),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){if(e=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[e]===void 0)return this.daysPerYear;for(var t=0,n=this.minMonth;n<=12;n++)t+=this.NEPALI_CALENDAR_DATA[e][n];return t},daysInMonth:function(e,t){return e.year&&(t=e.month(),e=e.year()),this._validate(e,t,this.minDay,r.local.invalidMonth),this.NEPALI_CALENDAR_DATA[e]===void 0?this.daysPerMonth[t-1]:this.NEPALI_CALENDAR_DATA[e][t]},weekDay:function(e,t,n){return this.dayOfWeek(e,t,n)!==6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);e=i.year(),t=i.month(),n=i.day();var a=r.instance(),o=0,s=t,c=e;this._createMissingCalendarData(e);var l=e-(s>9||s===9&&n>=this.NEPALI_CALENDAR_DATA[c][0]?56:57);for(t!==9&&(o=n,s--);s!==9;)s<=0&&(s=12,c--),o+=this.NEPALI_CALENDAR_DATA[c][s],s--;return t===9?(o+=n-this.NEPALI_CALENDAR_DATA[c][0],o<0&&(o+=a.daysInYear(l))):o+=this.NEPALI_CALENDAR_DATA[c][9]-this.NEPALI_CALENDAR_DATA[c][0],a.newDate(l,1,1).add(o,`d`).toJD()},fromJD:function(e){var t=r.instance().fromJD(e),n=t.year(),i=t.dayOfYear(),a=n+56;this._createMissingCalendarData(a);for(var o=9,s=this.NEPALI_CALENDAR_DATA[a][0],c=this.NEPALI_CALENDAR_DATA[a][o]-s+1;i>c;)o++,o>12&&(o=1,a++),c+=this.NEPALI_CALENDAR_DATA[a][o];var l=this.NEPALI_CALENDAR_DATA[a][o]-(c-i);return this.newDate(a,o,l)},_createMissingCalendarData:function(e){var t=this.daysPerMonth.slice(0);t.unshift(17);for(var n=e-1;n<e+2;n++)this.NEPALI_CALENDAR_DATA[n]===void 0&&(this.NEPALI_CALENDAR_DATA[n]=t)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),r.calendars.nepali=a}),94320:(function(e,t,n){var r=n(63489),i=n(56131);function a(e){this.local=this.regionalOptions[e||``]||this.regionalOptions[``]}a.prototype=new r.baseCalendar,i(a.prototype,{name:`Persian`,jdEpoch:1948320.5,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:`Persian`,epochs:[`BP`,`AP`],monthNames:[`Farvardin`,`Ordibehesht`,`Khordad`,`Tir`,`Mordad`,`Shahrivar`,`Mehr`,`Aban`,`Azar`,`Day`,`Bahman`,`Esfand`],monthNamesShort:[`Far`,`Ord`,`Kho`,`Tir`,`Mor`,`Sha`,`Meh`,`Aba`,`Aza`,`Day`,`Bah`,`Esf`],dayNames:[`Yekshambe`,`Doshambe`,`Seshambe`,`Chharshambe`,`Panjshambe`,`Jom'e`,`Shambe`],dayNamesShort:[`Yek`,`Do`,`Se`,`Ch`,`Panj`,`Jom`,`Sha`],dayNamesMin:[`Ye`,`Do`,`Se`,`Ch`,`Pa`,`Jo`,`Sh`],digits:null,dateFormat:`yyyy/mm/dd`,firstDay:6,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return((t.year()-(t.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-((r.dayOfWeek()+1)%7),`d`),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===12&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return this.dayOfWeek(e,t,n)!==5},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate);e=i.year(),t=i.month(),n=i.day();var a=e-(e>=0?474:473),s=474+o(a,2820);return n+(t<=7?(t-1)*31:(t-1)*30+6)+Math.floor((s*682-110)/2816)+(s-1)*365+Math.floor(a/2820)*1029983+this.jdEpoch-1},fromJD:function(e){e=Math.floor(e)+.5;var t=e-this.toJD(475,1,1),n=Math.floor(t/1029983),r=o(t,1029983),i=2820;if(r!==1029982){var a=Math.floor(r/366),s=o(r,366);i=Math.floor((2134*a+2816*s+2815)/1028522)+a+1}var c=i+2820*n+474;c=c<=0?c-1:c;var l=e-this.toJD(c,1,1)+1,u=l<=186?Math.ceil(l/31):Math.ceil((l-6)/30),d=e-this.toJD(c,u,1)+1;return this.newDate(c,u,d)}});function o(e,t){return e-t*Math.floor(e/t)}r.calendars.persian=a,r.calendars.jalali=a}),31320:(function(e,t,n){var r=n(63489),i=n(56131),a=r.instance();function o(e){this.local=this.regionalOptions[e||``]||this.regionalOptions[``]}o.prototype=new r.baseCalendar,i(o.prototype,{name:`Taiwan`,jdEpoch:2419402.5,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:`Taiwan`,epochs:[`BROC`,`ROC`],monthNames:[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],monthNamesShort:[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],dayNames:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`],dayNamesShort:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],dayNamesMin:[`Su`,`Mo`,`Tu`,`We`,`Th`,`Fr`,`Sa`],digits:null,dateFormat:`yyyy/mm/dd`,firstDay:1,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),e=this._t2gYear(t.year());return a.leapYear(e)},weekOfYear:function(e,t,n){var i=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),e=this._t2gYear(i.year());return a.weekOfYear(e,i.month(),i.day())},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===2&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate),e=this._t2gYear(i.year());return a.toJD(e,i.month(),i.day())},fromJD:function(e){var t=a.fromJD(e),n=this._g2tYear(t.year());return this.newDate(n,t.month(),t.day())},_t2gYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)},_g2tYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)}}),r.calendars.taiwan=o}),51367:(function(e,t,n){var r=n(63489),i=n(56131),a=r.instance();function o(e){this.local=this.regionalOptions[e||``]||this.regionalOptions[``]}o.prototype=new r.baseCalendar,i(o.prototype,{name:`Thai`,jdEpoch:1523098.5,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:`Thai`,epochs:[`BBE`,`BE`],monthNames:[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],monthNamesShort:[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],dayNames:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`],dayNamesShort:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],dayNamesMin:[`Su`,`Mo`,`Tu`,`We`,`Th`,`Fr`,`Sa`],digits:null,dateFormat:`dd/mm/yyyy`,firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),e=this._t2gYear(t.year());return a.leapYear(e)},weekOfYear:function(e,t,n){var i=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear),e=this._t2gYear(i.year());return a.weekOfYear(e,i.month(),i.day())},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,r.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===2&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate),e=this._t2gYear(i.year());return a.toJD(e,i.month(),i.day())},fromJD:function(e){var t=a.fromJD(e),n=this._g2tYear(t.year());return this.newDate(n,t.month(),t.day())},_t2gYear:function(e){return e-this.yearsOffset-(e>=1&&e<=this.yearsOffset?1:0)},_g2tYear:function(e){return e+this.yearsOffset+(e>=-this.yearsOffset&&e<=-1?1:0)}}),r.calendars.thai=o}),21457:(function(e,t,n){var r=n(63489),i=n(56131);function a(e){this.local=this.regionalOptions[e||``]||this.regionalOptions[``]}a.prototype=new r.baseCalendar,i(a.prototype,{name:`UmmAlQura`,hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:`Umm al-Qura`,epochs:[`BH`,`AH`],monthNames:[`Al-Muharram`,`Safar`,`Rabi' al-awwal`,`Rabi' Al-Thani`,`Jumada Al-Awwal`,`Jumada Al-Thani`,`Rajab`,`Sha'aban`,`Ramadan`,`Shawwal`,`Dhu al-Qi'dah`,`Dhu al-Hijjah`],monthNamesShort:[`Muh`,`Saf`,`Rab1`,`Rab2`,`Jum1`,`Jum2`,`Raj`,`Sha'`,`Ram`,`Shaw`,`DhuQ`,`DhuH`],dayNames:[`Yawm al-Ahad`,`Yawm al-Ithnain`,`Yawm al-Thalth`,`Yawm al-Arba`,`Yawm al-Khams`,`Yawm al-Juma`,`Yawm al-Sabt`],dayNamesMin:[`Ah`,`Ith`,`Th`,`Ar`,`Kh`,`Ju`,`Sa`],digits:null,dateFormat:`yyyy/mm/dd`,firstDay:6,isRTL:!0}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,r.local.invalidYear);return this.daysInYear(t.year())===355},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(-r.dayOfWeek(),`d`),Math.floor((r.dayOfYear()-1)/7)+1},daysInYear:function(e){for(var t=0,n=1;n<=12;n++)t+=this.daysInMonth(e,n);return t},daysInMonth:function(e,t){for(var n=this._validate(e,t,this.minDay,r.local.invalidMonth).toJD()-24e5+.5,i=0,a=0;a<o.length;a++){if(o[a]>n)return o[i]-o[i-1];i++}return 30},weekDay:function(e,t,n){return this.dayOfWeek(e,t,n)!==5},toJD:function(e,t,n){var i=this._validate(e,t,n,r.local.invalidDate),a=12*(i.year()-1)+i.month()-15292;return i.day()+o[a-1]-1+24e5-.5},fromJD:function(e){for(var t=e-24e5+.5,n=0,r=0;r<o.length&&!(o[r]>t);r++)n++;var i=n+15292,a=Math.floor((i-1)/12),s=a+1,c=i-12*a,l=t-o[n-1]+1;return this.newDate(s,c,l)},isValid:function(e,t,n){var i=r.baseCalendar.prototype.isValid.apply(this,arguments);return i&&=(e=e.year==null?e:e.year,e>=1276&&e<=1500),i},_validate:function(e,t,n,i){var a=r.baseCalendar.prototype._validate.apply(this,arguments);if(a.year<1276||a.year>1500)throw i.replace(/\{0\}/,this.local.name);return a}}),r.calendars.ummalqura=a;var o=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]}),63489:(function(e,t,n){var r=n(56131);function i(){this.regionalOptions=[],this.regionalOptions[``]={invalidCalendar:`Calendar {0} not found`,invalidDate:`Invalid {0} date`,invalidMonth:`Invalid {0} month`,invalidYear:`Invalid {0} year`,differentCalendars:`Cannot mix {0} and {1} dates`},this.local=this.regionalOptions[``],this.calendars={},this._localCals={}}r(i.prototype,{instance:function(e,t){e=(e||`gregorian`).toLowerCase(),t||=``;var n=this._localCals[e+`-`+t];if(!n&&this.calendars[e]&&(n=new this.calendars[e](t),this._localCals[e+`-`+t]=n),!n)throw(this.local.invalidCalendar||this.regionalOptions[``].invalidCalendar).replace(/\{0\}/,e);return n},newDate:function(e,t,n,r,i){return r=(e!=null&&e.year?e.calendar():typeof r==`string`?this.instance(r,i):r)||this.instance(),r.newDate(e,t,n)},substituteDigits:function(e){return function(t){return(t+``).replace(/[0-9]/g,function(t){return e[t]})}},substituteChineseDigits:function(e,t){return function(n){for(var r=``,i=0;n>0;){var a=n%10;r=(a===0?``:e[a]+t[i])+r,i++,n=Math.floor(n/10)}return r.indexOf(e[1]+t[1])===0&&(r=r.substr(1)),r||e[0]}}});function a(e,t,n,r){if(this._calendar=e,this._year=t,this._month=n,this._day=r,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(l.local.invalidDate||l.regionalOptions[``].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function o(e,t){return e=``+e,`000000`.substring(0,t-e.length)+e}r(a.prototype,{newDate:function(e,t,n){return this._calendar.newDate(e??this,t,n)},year:function(e){return arguments.length===0?this._year:this.set(e,`y`)},month:function(e){return arguments.length===0?this._month:this.set(e,`m`)},day:function(e){return arguments.length===0?this._day:this.set(e,`d`)},date:function(e,t,n){if(!this._calendar.isValid(e,t,n))throw(l.local.invalidDate||l.regionalOptions[``].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=e,this._month=t,this._day=n,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(e,t){return this._calendar.add(this,e,t)},set:function(e,t){return this._calendar.set(this,e,t)},compareTo:function(e){if(this._calendar.name!==e._calendar.name)throw(l.local.differentCalendars||l.regionalOptions[``].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,e._calendar.local.name);var t=this._year===e._year?this._month===e._month?this._day-e._day:this.monthOfYear()-e.monthOfYear():this._year-e._year;return t===0?0:t<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(e){return this._calendar.fromJD(e)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(e){return this._calendar.fromJSDate(e)},toString:function(){return(this.year()<0?`-`:``)+o(Math.abs(this.year()),4)+`-`+o(this.month(),2)+`-`+o(this.day(),2)}});function s(){this.shortYearCutoff=`+10`}r(s.prototype,{_validateLevel:0,newDate:function(e,t,n){return e==null?this.today():(e.year&&(this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[``].invalidDate),n=e.day(),t=e.month(),e=e.year()),new a(this,e,t,n))},today:function(){return this.fromJSDate(new Date)},epoch:function(e){return this._validate(e,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[``].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[``].invalidYear);return(t.year()<0?`-`:``)+o(Math.abs(t.year()),4)},monthsInYear:function(e){return this._validate(e,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[``].invalidYear),12},monthOfYear:function(e,t){var n=this._validate(e,t,this.minDay,l.local.invalidMonth||l.regionalOptions[``].invalidMonth);return(n.month()+this.monthsInYear(n)-this.firstMonth)%this.monthsInYear(n)+this.minMonth},fromMonthOfYear:function(e,t){var n=(t+this.firstMonth-2*this.minMonth)%this.monthsInYear(e)+this.minMonth;return this._validate(e,n,this.minDay,l.local.invalidMonth||l.regionalOptions[``].invalidMonth),n},daysInYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[``].invalidYear);return this.leapYear(t)?366:365},dayOfYear:function(e,t,n){var r=this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[``].invalidDate);return r.toJD()-this.newDate(r.year(),this.fromMonthOfYear(r.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(e,t,n){var r=this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[``].invalidDate);return(Math.floor(this.toJD(r))+2)%this.daysInWeek()},extraInfo:function(e,t,n){return this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[``].invalidDate),{}},add:function(e,t,n){return this._validate(e,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[``].invalidDate),this._correctAdd(e,this._add(e,t,n),t,n)},_add:function(e,t,n){if(this._validateLevel++,n===`d`||n===`w`){var r=e.toJD()+t*(n===`w`?this.daysInWeek():1),i=e.calendar().fromJD(r);return this._validateLevel--,[i.year(),i.month(),i.day()]}try{var a=e.year()+(n===`y`?t:0),o=e.monthOfYear()+(n===`m`?t:0),i=e.day();n===`y`?(e.month()!==this.fromMonthOfYear(a,o)&&(o=this.newDate(a,e.month(),this.minDay).monthOfYear()),o=Math.min(o,this.monthsInYear(a)),i=Math.min(i,this.daysInMonth(a,this.fromMonthOfYear(a,o)))):n===`m`&&(function(e){for(;o<e.minMonth;)a--,o+=e.monthsInYear(a);for(var t=e.monthsInYear(a);o>t-1+e.minMonth;)a++,o-=t,t=e.monthsInYear(a)}(this),i=Math.min(i,this.daysInMonth(a,this.fromMonthOfYear(a,o))));var s=[a,this.fromMonthOfYear(a,o),i];return this._validateLevel--,s}catch(e){throw this._validateLevel--,e}},_correctAdd:function(e,t,n,r){if(!this.hasYearZero&&(r===`y`||r===`m`)&&(t[0]===0||e.year()>0!=t[0]>0)){var i={y:[1,1,`y`],m:[1,this.monthsInYear(-1),`m`],w:[this.daysInWeek(),this.daysInYear(-1),`d`],d:[1,this.daysInYear(-1),`d`]}[r],a=n<0?-1:1;t=this._add(e,n*i[0]+a*i[1],i[2])}return e.date(t[0],t[1],t[2])},set:function(e,t,n){this._validate(e,this.minMonth,this.minDay,l.local.invalidDate||l.regionalOptions[``].invalidDate);var r=n===`y`?t:e.year(),i=n===`m`?t:e.month(),a=n===`d`?t:e.day();return(n===`y`||n===`m`)&&(a=Math.min(a,this.daysInMonth(r,i))),e.date(r,i,a)},isValid:function(e,t,n){this._validateLevel++;var r=this.hasYearZero||e!==0;if(r){var i=this.newDate(e,t,this.minDay);r=t>=this.minMonth&&t-this.minMonth<this.monthsInYear(i)&&n>=this.minDay&&n-this.minDay<this.daysInMonth(i)}return this._validateLevel--,r},toJSDate:function(e,t,n){var r=this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[``].invalidDate);return l.instance().fromJD(this.toJD(r)).toJSDate()},fromJSDate:function(e){return this.fromJD(l.instance().fromJSDate(e).toJD())},_validate:function(e,t,n,r){if(e.year){if(this._validateLevel===0&&this.name!==e.calendar().name)throw(l.local.differentCalendars||l.regionalOptions[``].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,e.calendar().local.name);return e}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(e,t,n))throw r.replace(/\{0\}/,this.local.name);var i=this.newDate(e,t,n);return this._validateLevel--,i}catch(e){throw this._validateLevel--,e}}});function c(e){this.local=this.regionalOptions[e]||this.regionalOptions[``]}c.prototype=new s,r(c.prototype,{name:`Gregorian`,jdEpoch:1721425.5,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:`Gregorian`,epochs:[`BCE`,`CE`],monthNames:[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],monthNamesShort:[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],dayNames:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`],dayNamesShort:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],dayNamesMin:[`Su`,`Mo`,`Tu`,`We`,`Th`,`Fr`,`Sa`],digits:null,dateFormat:`mm/dd/yyyy`,firstDay:0,isRTL:!1}},leapYear:function(e){var t=this._validate(e,this.minMonth,this.minDay,l.local.invalidYear||l.regionalOptions[``].invalidYear),e=t.year()+(t.year()<0?1:0);return e%4==0&&(e%100!=0||e%400==0)},weekOfYear:function(e,t,n){var r=this.newDate(e,t,n);return r.add(4-(r.dayOfWeek()||7),`d`),Math.floor((r.dayOfYear()-1)/7)+1},daysInMonth:function(e,t){var n=this._validate(e,t,this.minDay,l.local.invalidMonth||l.regionalOptions[``].invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===2&&this.leapYear(n.year())?1:0)},weekDay:function(e,t,n){return(this.dayOfWeek(e,t,n)||7)<6},toJD:function(e,t,n){var r=this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[``].invalidDate);e=r.year(),t=r.month(),n=r.day(),e<0&&e++,t<3&&(t+=12,e--);var i=Math.floor(e/100),a=2-i+Math.floor(i/4);return Math.floor(365.25*(e+4716))+Math.floor(30.6001*(t+1))+n+a-1524.5},fromJD:function(e){var t=Math.floor(e+.5),n=Math.floor((t-1867216.25)/36524.25);n=t+1+n-Math.floor(n/4);var r=n+1524,i=Math.floor((r-122.1)/365.25),a=Math.floor(365.25*i),o=Math.floor((r-a)/30.6001),s=r-a-Math.floor(o*30.6001),c=o-(o>13.5?13:1),l=i-(c>2.5?4716:4715);return l<=0&&l--,this.newDate(l,c,s)},toJSDate:function(e,t,n){var r=this._validate(e,t,n,l.local.invalidDate||l.regionalOptions[``].invalidDate),i=new Date(r.year(),r.month()-1,r.day());return i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0),i.setHours(i.getHours()>12?i.getHours()+2:0),i},fromJSDate:function(e){return this.newDate(e.getFullYear(),e.getMonth()+1,e.getDate())}});var l=e.exports=new i;l.cdate=a,l.baseCalendar=s,l.calendars.gregorian=c}),94338:(function(e,t,n){var r=n(56131),i=n(63489);r(i.regionalOptions[``],{invalidArguments:`Invalid arguments`,invalidFormat:`Cannot format a date from another calendar`,missingNumberAt:`Missing number at position {0}`,unknownNameAt:`Unknown name at position {0}`,unexpectedLiteralAt:`Unexpected literal at position {0}`,unexpectedText:`Additional text found at end`}),i.local=i.regionalOptions[``],r(i.cdate.prototype,{formatDate:function(e,t){return typeof e!=`string`&&(t=e,e=``),this._calendar.formatDate(e||``,this,t)}}),r(i.baseCalendar.prototype,{UNIX_EPOCH:i.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:1440*60,TICKS_EPOCH:i.instance().jdEpoch,TICKS_PER_DAY:1440*60*1e7,ATOM:`yyyy-mm-dd`,COOKIE:`D, dd M yyyy`,FULL:`DD, MM d, yyyy`,ISO_8601:`yyyy-mm-dd`,JULIAN:`J`,RFC_822:`D, d M yy`,RFC_850:`DD, dd-M-yy`,RFC_1036:`D, d M yy`,RFC_1123:`D, d M yyyy`,RFC_2822:`D, d M yyyy`,RSS:`D, d M yy`,TICKS:`!`,TIMESTAMP:`@`,W3C:`yyyy-mm-dd`,formatDate:function(e,t,n){if(typeof e!=`string`&&(n=t,t=e,e=``),!t)return``;if(t.calendar()!==this)throw i.local.invalidFormat||i.regionalOptions[``].invalidFormat;e||=this.local.dateFormat,n||={};var r=n.dayNamesShort||this.local.dayNamesShort,a=n.dayNames||this.local.dayNames,o=n.monthNumbers||this.local.monthNumbers,s=n.monthNamesShort||this.local.monthNamesShort,c=n.monthNames||this.local.monthNames;n.calculateWeek||this.local.calculateWeek;for(var l=function(t,n){for(var r=1;y+r<e.length&&e.charAt(y+r)===t;)r++;return y+=r-1,Math.floor(r/(n||1))>1},u=function(e,t,n,r){var i=``+t;if(l(e,r))for(;i.length<n;)i=`0`+i;return i},d=function(e,t,n,r){return l(e)?r[t]:n[t]},f=this,p=function(e){return typeof o==`function`?o.call(f,e,l(`m`)):g(u(`m`,e.month(),2))},m=function(e,t){return t?typeof c==`function`?c.call(f,e):c[e.month()-f.minMonth]:typeof s==`function`?s.call(f,e):s[e.month()-f.minMonth]},h=this.local.digits,g=function(e){return n.localNumbers&&h?h(e):e},_=``,v=!1,y=0;y<e.length;y++)if(v)e.charAt(y)===`'`&&!l(`'`)?v=!1:_+=e.charAt(y);else switch(e.charAt(y)){case`d`:_+=g(u(`d`,t.day(),2));break;case`D`:_+=d(`D`,t.dayOfWeek(),r,a);break;case`o`:_+=u(`o`,t.dayOfYear(),3);break;case`w`:_+=u(`w`,t.weekOfYear(),2);break;case`m`:_+=p(t);break;case`M`:_+=m(t,l(`M`));break;case`y`:_+=l(`y`,2)?t.year():(t.year()%100<10?`0`:``)+t.year()%100;break;case`Y`:l(`Y`,2),_+=t.formatYear();break;case`J`:_+=t.toJD();break;case`@`:_+=(t.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case`!`:_+=(t.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case`'`:l(`'`)?_+=`'`:v=!0;break;default:_+=e.charAt(y)}return _},parseDate:function(e,t,n){if(t==null)throw i.local.invalidArguments||i.regionalOptions[``].invalidArguments;if(t=typeof t==`object`?t.toString():t+``,t===``)return null;e||=this.local.dateFormat,n||={};var r=n.shortYearCutoff||this.shortYearCutoff;r=typeof r==`string`?this.today().year()%100+parseInt(r,10):r;for(var a=n.dayNamesShort||this.local.dayNamesShort,o=n.dayNames||this.local.dayNames,s=n.parseMonth||this.local.parseMonth,c=n.monthNumbers||this.local.monthNumbers,l=n.monthNamesShort||this.local.monthNamesShort,u=n.monthNames||this.local.monthNames,d=-1,f=-1,p=-1,m=-1,h=-1,g=!1,_=!1,v=function(t,n){for(var r=1;E+r<e.length&&e.charAt(E+r)===t;)r++;return E+=r-1,Math.floor(r/(n||1))>1},y=function(e,n){var r=v(e,n),a=[2,3,r?4:2,r?4:2,10,11,20][`oyYJ@!`.indexOf(e)+1],o=RegExp(`^-?\\d{1,`+a+`}`),s=t.substring(T).match(o);if(!s)throw(i.local.missingNumberAt||i.regionalOptions[``].missingNumberAt).replace(/\{0\}/,T);return T+=s[0].length,parseInt(s[0],10)},b=this,x=function(){if(typeof c==`function`){v(`m`);var e=c.call(b,t.substring(T));return T+=e.length,e}return y(`m`)},S=function(e,n,r,a){for(var o=v(e,a)?r:n,s=0;s<o.length;s++)if(t.substr(T,o[s].length).toLowerCase()===o[s].toLowerCase())return T+=o[s].length,s+b.minMonth;throw(i.local.unknownNameAt||i.regionalOptions[``].unknownNameAt).replace(/\{0\}/,T)},C=function(){if(typeof u==`function`){var e=v(`M`)?u.call(b,t.substring(T)):l.call(b,t.substring(T));return T+=e.length,e}return S(`M`,l,u)},w=function(){if(t.charAt(T)!==e.charAt(E))throw(i.local.unexpectedLiteralAt||i.regionalOptions[``].unexpectedLiteralAt).replace(/\{0\}/,T);T++},T=0,E=0;E<e.length;E++)if(_)e.charAt(E)===`'`&&!v(`'`)?_=!1:w();else switch(e.charAt(E)){case`d`:m=y(`d`);break;case`D`:S(`D`,a,o);break;case`o`:h=y(`o`);break;case`w`:y(`w`);break;case`m`:p=x();break;case`M`:p=C();break;case`y`:var D=E;g=!v(`y`,2),E=D,f=y(`y`,2);break;case`Y`:f=y(`Y`,2);break;case`J`:d=y(`J`)+.5,t.charAt(T)===`.`&&(T++,y(`J`));break;case`@`:d=y(`@`)/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case`!`:d=y(`!`)/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case`*`:T=t.length;break;case`'`:v(`'`)?w():_=!0;break;default:w()}if(T<t.length)throw i.local.unexpectedText||i.regionalOptions[``].unexpectedText;if(f===-1?f=this.today().year():f<100&&g&&(f+=r===-1?1900:this.today().year()-this.today().year()%100-(f<=r?0:100)),typeof p==`string`&&(p=s.call(this,f,p)),h>-1){p=1,m=h;for(var O=this.daysInMonth(f,p);m>O;O=this.daysInMonth(f,p))p++,m-=O}return d>-1?this.fromJD(d):this.newDate(f,p,m)},determineDate:function(e,t,n,r,i){n&&typeof n!=`object`&&(i=r,r=n,n=null),typeof r!=`string`&&(i=r,r=``);var a=this;return t=t?t.newDate():null,e=e==null?t:typeof e==`string`?function(e){try{return a.parseDate(r,e,i)}catch{}e=e.toLowerCase();for(var t=(e.match(/^c/)&&n?n.newDate():null)||a.today(),o=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,s=o.exec(e);s;)t.add(parseInt(s[1],10),s[2]||`d`),s=o.exec(e);return t}(e):typeof e==`number`?isNaN(e)||e===1/0||e===-1/0?t:a.today().add(e,`d`):a.newDate(e),e}})}),69862:(function(){}),40964:(function(){}),72077:(function(e,t,n){var r=[`BigInt64Array`,`BigUint64Array`,`Float32Array`,`Float64Array`,`Int16Array`,`Int32Array`,`Int8Array`,`Uint16Array`,`Uint32Array`,`Uint8Array`,`Uint8ClampedArray`],i=typeof globalThis>`u`?n.g:globalThis;e.exports=function(){for(var e=[],t=0;t<r.length;t++)typeof i[r[t]]==`function`&&(e[e.length]=r[t]);return e}}),81684:(function(e,t,n){n.d(t,{sX:function(){return de},k4:function(){return Y}});function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function a(){}var o=.7,s=1/o,c=`\\s*([+-]?\\d+)\\s*`,l=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*`,u=`\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*`,d=/^#([0-9a-f]{3,8})$/,f=RegExp(`^rgb\\(${c},${c},${c}\\)\$`),p=RegExp(`^rgb\\(${u},${u},${u}\\)\$`),m=RegExp(`^rgba\\(${c},${c},${c},${l}\\)\$`),h=RegExp(`^rgba\\(${u},${u},${u},${l}\\)\$`),g=RegExp(`^hsl\\(${l},${u},${u}\\)\$`),_=RegExp(`^hsla\\(${l},${u},${u},${l}\\)\$`),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};r(a,C,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHex8:b,formatHsl:x,formatRgb:S,toString:S});function y(){return this.rgb().formatHex()}function b(){return this.rgb().formatHex8()}function x(){return I(this).formatHsl()}function S(){return this.rgb().formatRgb()}function C(e){var t,n;return e=(e+``).trim().toLowerCase(),(t=d.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?w(t):n===3?new O(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?T(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?T(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=f.exec(e))?new O(t[1],t[2],t[3],1):(t=p.exec(e))?new O(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=m.exec(e))?T(t[1],t[2],t[3],t[4]):(t=h.exec(e))?T(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=g.exec(e))?F(t[1],t[2]/100,t[3]/100,1):(t=_.exec(e))?F(t[1],t[2]/100,t[3]/100,t[4]):v.hasOwnProperty(e)?w(v[e]):e===`transparent`?new O(NaN,NaN,NaN,0):null}function w(e){return new O(e>>16&255,e>>8&255,e&255,1)}function T(e,t,n,r){return r<=0&&(e=t=n=NaN),new O(e,t,n,r)}function E(e){return e instanceof a||(e=C(e)),e?(e=e.rgb(),new O(e.r,e.g,e.b,e.opacity)):new O}function D(e,t,n,r){return arguments.length===1?E(e):new O(e,t,n,r??1)}function O(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}r(O,D,i(a,{brighter:function(e){return e=e==null?s:s**+e,new O(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?o:o**+e,new O(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},clamp:function(){return new O(N(this.r),N(this.g),N(this.b),M(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k,formatHex:k,formatHex8:A,formatRgb:j,toString:j}));function k(){return`#${P(this.r)}${P(this.g)}${P(this.b)}`}function A(){return`#${P(this.r)}${P(this.g)}${P(this.b)}${P((isNaN(this.opacity)?1:this.opacity)*255)}`}function j(){var e=M(this.opacity);return`${e===1?`rgb(`:`rgba(`}${N(this.r)}, ${N(this.g)}, ${N(this.b)}${e===1?`)`:`, ${e})`}`}function M(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function N(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function P(e){return e=N(e),(e<16?`0`:``)+e.toString(16)}function F(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new R(e,t,n,r)}function I(e){if(e instanceof R)return new R(e.h,e.s,e.l,e.opacity);if(e instanceof a||(e=C(e)),!e)return new R;if(e instanceof R)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,c=o-i,l=(o+i)/2;return c?(s=t===o?(n-r)/c+(n<r)*6:n===o?(r-t)/c+2:(t-n)/c+4,c/=l<.5?o+i:2-o-i,s*=60):c=l>0&&l<1?0:s,new R(s,c,l,e.opacity)}function L(e,t,n,r){return arguments.length===1?I(e):new R(e,t,n,r??1)}function R(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}r(R,L,i(a,{brighter:function(e){return e=e==null?s:s**+e,new R(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?o:o**+e,new R(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new O(V(e>=240?e-240:e+120,i,r),V(e,i,r),V(e<120?e+240:e-120,i,r),this.opacity)},clamp:function(){return new R(z(this.h),B(this.s),B(this.l),M(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=M(this.opacity);return`${e===1?`hsl(`:`hsla(`}${z(this.h)}, ${B(this.s)*100}%, ${B(this.l)*100}%${e===1?`)`:`, ${e})`}`}}));function z(e){return e=(e||0)%360,e<0?e+360:e}function B(e){return Math.max(0,Math.min(1,e||0))}function V(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var H=(function(e){return function(){return e}});function U(e,t){return function(n){return e+n*t}}function W(e,t,n){return e**=+n,t=t**+n-e,n=1/n,function(r){return(e+r*t)**+n}}function G(e){return(e=+e)==1?K:function(t,n){return n-t?W(t,n,e):H(isNaN(t)?n:t)}}function K(e,t){var n=t-e;return n?U(e,n):H(isNaN(e)?t:e)}var ee=(function e(t){var n=G(t);function r(e,t){var r=n((e=D(e)).r,(t=D(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=K(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+``}}return r.gamma=e,r})(1);function q(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=Array(r),a=Array(n),o;for(o=0;o<r;++o)i[o]=de(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(e){for(o=0;o<r;++o)a[o]=i[o](e);return a}}function J(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Y(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function te(e){"@babel/helpers - typeof";return te=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},te(e)}function ne(e,t){var n={},r={},i;for(i in(e===null||te(e)!==`object`)&&(e={}),(t===null||te(t)!==`object`)&&(t={}),t)i in e?n[i]=de(e[i],t[i]):r[i]=t[i];return function(e){for(i in n)r[i]=n[i](e);return r}}var re=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ie=new RegExp(re.source,`g`);function ae(e){return function(){return e}}function oe(e){return function(t){return e(t)+``}}function se(e,t){var n=re.lastIndex=ie.lastIndex=0,r,i,a,o=-1,s=[],c=[];for(e+=``,t+=``;(r=re.exec(e))&&(i=ie.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Y(r,i)})),n=ie.lastIndex;return n<t.length&&(a=t.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?oe(c[0].x):ae(t):(t=c.length,function(e){for(var n=0,r;n<t;++n)s[(r=c[n]).i]=r.x(e);return s.join(``)})}function ce(e,t){t||=[];var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function le(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ue(e){"@babel/helpers - typeof";return ue=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},ue(e)}function de(e,t){var n=ue(t),r;return t==null||n===`boolean`?H(t):(n===`number`?Y:n===`string`?(r=C(t))?(t=r,ee):se:t instanceof C?ee:t instanceof Date?J:le(t)?ce:Array.isArray(t)?q:typeof t.valueOf!=`function`&&typeof t.toString!=`function`||isNaN(t)?ne:Y)(e,t)}}),40402:(function(e){e.exports=JSON.parse(`["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]`)}),83794:(function(e){e.exports=JSON.parse(`["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]`)}),96209:(function(e){e.exports=JSON.parse(`["normal","italic","oblique"]`)}),15659:(function(e){e.exports=JSON.parse(`["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]`)}),38732:(function(e){e.exports=JSON.parse(`["inherit","initial","unset"]`)}),41901:(function(e){e.exports=JSON.parse(`["caption","icon","menu","message-box","small-caption","status-bar"]`)})},t={};function n(r){var i=t[r];if(i!==void 0)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}return(function(){n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t}})(),(function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),(function(){n.g=(function(){if(typeof globalThis==`object`)return globalThis;try{return this||Function(`return this`)()}catch{if(typeof window==`object`)return window}})()})(),(function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}})(),(function(){n.r=function(e){typeof Symbol<`u`&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:`Module`}),Object.defineProperty(e,`__esModule`,{value:!0})}})(),n(27909)})()})})),q=o((e=>{Object.defineProperty(e,`__esModule`,{value:!0}),e.default=void 0;var t=r(K()),n=r(ee());function r(e){return e&&e.__esModule?e:{default:e}}e.default=(0,t.default)(n.default)})),J=y(),Y=c(q(),1),te={responsive:!0,displaylogo:!1,showTips:!1,toImageButtonOptions:{format:`svg`,filename:`image`}},ne=({isDark:e=!0,...t})=>({xaxis:{title:{text:`$T$`},range:[-.05,2.05],mirror:!0,ticks:`outside`,showline:!0,showgrid:!0,zeroline:!1,color:e?`#d4d4d6`:`#323232`,gridcolor:`#8888`,...t.xaxis},yaxis:{mirror:!0,ticks:`outside`,showline:!0,showgrid:!0,zeroline:!1,color:e?`#d4d4d6`:`#323232`,rangemode:`nonnegative`,gridcolor:`#8888`,...t.yaxis},margin:{l:65,r:25,b:70,t:50,pad:4},showlegend:!1,hovermode:`x`,dragmode:!1,hoverlabel:{bgcolor:`#d1d5e6`},plot_bgcolor:e?`#2c2c34`:`#f9f9f9`,paper_bgcolor:e?`#2c2c34`:`#f9f9f9`,width:650,height:380,title:{font:{color:e?`#d4d4d6`:`#323232`},...!t.title||typeof t.title==`string`?{}:t.title},modebar:{bgcolor:`#0000`,color:e?`#FFF6`:`#0006`,activecolor:e?`#d4d4d6`:`#323232`}}),re={name:``,mode:`markers`,line:{color:`dodgerblue`,width:4},hovertemplate:`(x: %{x:.2f}, y: %{y:.3g})`};function ie(){let e=(0,J.c)(10),[t]=T(se),[n]=T(oe),[r]=T(ae),i;e[0]===n?i=e[1]:(i={...n,...re},e[0]=n,e[1]=i);let a=i,o;e[2]!==t||e[3]!==r?(o=ne({title:{text:r},yaxis:{title:{text:`$\\langle ${r===`Magnetization`?`M`:`E`} \\rangle/N$`},range:r===`Magnetization`?[-.05,1.05]:[-2.05,.05]},isDark:t}),e[2]=t,e[3]=r,e[4]=o):o=e[4];let s=o,c;e[5]===a?c=e[6]:(c=[a],e[5]=a,e[6]=c);let l;return e[7]!==s||e[8]!==c?(l=(0,S.jsx)(Y.default.default,{data:c,config:te,layout:s,className:`plot`}),e[7]=s,e[8]=c,e[9]=l):l=e[9],l}function ae(e){return e.obs_label}function oe(e){return e.observable}function se(e){return e.isDark}function ce(){let e=(0,J.c)(11),[t]=T(de),[n]=T(ue),[r]=T(le),i;e[0]===n?i=e[1]:(i={...n,...re},e[0]=n,e[1]=i);let a=i,o=r===`Magnetization`?`Susceptibility`:`Specific Heat`,s;e[2]!==t||e[3]!==r||e[4]!==o?(s=ne({title:{text:o},yaxis:{title:r===`Magnetization`?`$\\chi$`:`$c$`},isDark:t}),e[2]=t,e[3]=r,e[4]=o,e[5]=s):s=e[5];let c=s,l;e[6]===a?l=e[7]:(l=[a],e[6]=a,e[7]=l);let u;return e[8]!==c||e[9]!==l?(u=(0,S.jsx)(Y.default.default,{data:l,config:te,layout:c,className:`plot`}),e[8]=c,e[9]=l,e[10]=u):u=e[10],u}function le(e){return e.obs_label}function ue(e){return e.variance}function de(e){return e.isDark}function fe(){let e=(0,J.c)(1),t;return e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,S.jsxs)(`div`,{children:[(0,S.jsx)(ie,{}),(0,S.jsx)(ce,{})]}),e[0]=t):t=e[0],t}var pe=y();function me(e){let t=(0,pe.c)(3),{children:n}=e,[,r]=T(he),i;t[0]===r?i=t[1]:(i=()=>{window.matchMedia(`(prefers-color-scheme: dark)`).addEventListener(`change`,e=>r(t=>({...t,isDark:e.matches})))},t[0]=r,t[1]=i);let a;return t[2]===Symbol.for(`react.memo_cache_sentinel`)?(a=[],t[2]=a):a=t[2],(0,_.useLayoutEffect)(i,a),n}function he(e){return e.isDark}var ge=y();function _e(){let e=(0,ge.c)(1),t;return e[0]===Symbol.for(`react.memo_cache_sentinel`)?(t=(0,S.jsx)(_.StrictMode,{children:(0,S.jsx)(E,{children:(0,S.jsx)(me,{children:(0,S.jsxs)(`div`,{className:`app`,children:[(0,S.jsxs)(`div`,{children:[(0,S.jsx)(H,{}),(0,S.jsx)(W,{})]}),(0,S.jsx)(fe,{})]})})})}),e[0]=t):t=e[0],t}(0,g.createRoot)(document.getElementById(`root`)).render((0,S.jsx)(_.StrictMode,{children:(0,S.jsx)(_e,{})}));